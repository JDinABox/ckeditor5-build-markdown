/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
(function(e,t){if('object'==typeof exports&&'object'==typeof module)module.exports=t();else if('function'==typeof define&&define.amd)define([],t);else{var o=t();for(var n in o)('object'==typeof exports?exports:e)[n]=o[n]}})(this,function(){var e=Number.POSITIVE_INFINITY,t=Math.floor,o=Math.max,n=Math.min;return function(e){function t(n){if(o[n])return o[n].exports;var a=o[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(o,'a',o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=274)}([function(e,t){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function a(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=function(e){function t(e,a){o(this,t),a&&(e+=' '+JSON.stringify(a));var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.name='CKEditorError',r.data=a,r}return a(t,e),r(t,null,[{key:'isCKEditorError',value:function(e){return e instanceof t}}]),t}(Error);t.default=l},function(e,t,o){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(54),u=a(i),d=o(17),s=a(d),f=o(55),c=a(f),p=o(0),_=a(p),m=o(25),g=a(m),y=function(){function e(t,o){if(r(this,e),!t.is('element')&&!t.is('documentFragment'))throw new _.default('model-position-root-invalid: Position root invalid.');if(!(o instanceof Array)||0===o.length)throw new _.default('model-position-path-incorrect: Position path must be an Array with at least one item.',{path:o});o=t.getPath().concat(o),t=t.root,this.root=t,this.path=o}return l(e,[{key:'compareWith',value:function(e){if(this.root!=e.root)return'different';var t=(0,c.default)(this.path,e.path);return'same'===t?'same':'prefix'===t?'before':'extension'===t?'after':this.path[t]<e.path[t]?'before':'after'}},{key:'getLastMatchingPosition',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.startPosition=this;var o=new u.default(t);return o.skip(e),o.position}},{key:'getParentPath',value:function(){return this.path.slice(0,-1)}},{key:'getAncestors',value:function(){return this.parent.is('documentFragment')?[this.parent]:this.parent.getAncestors({includeSelf:!0})}},{key:'getCommonPath',value:function(e){if(this.root!=e.root)return[];var t=(0,c.default)(this.path,e.path),o='string'==typeof t?n(this.path.length,e.path.length):t;return this.path.slice(0,o)}},{key:'getCommonAncestor',value:function(e){for(var t=this.getAncestors(),o=e.getAncestors(),n=0;t[n]==o[n]&&t[n];)n++;return 0==n?null:t[n-1]}},{key:'getShiftedBy',value:function(t){var o=e.createFromPosition(this),n=o.offset+t;return o.offset=0>n?0:n,o}},{key:'isAfter',value:function(e){return'after'==this.compareWith(e)}},{key:'isBefore',value:function(e){return'before'==this.compareWith(e)}},{key:'isEqual',value:function(e){return'same'==this.compareWith(e)}},{key:'isTouching',value:function(t){var o=null,n=null,a=this.compareWith(t);switch(a){case'same':return!0;case'before':o=e.createFromPosition(this),n=e.createFromPosition(t);break;case'after':o=e.createFromPosition(t),n=e.createFromPosition(this);break;default:return!1;}for(var r=o.parent;o.path.length+n.path.length;){if(o.isEqual(n))return!0;if(o.path.length>n.path.length){if(o.offset!==r.maxOffset)return!1;o.path=o.path.slice(0,-1),r=r.parent,o.offset++}else{if(0!==n.offset)return!1;n.path=n.path.slice(0,-1)}}}},{key:'_getTransformedByDeletion',value:function(t,o){var n=e.createFromPosition(this);if(this.root!=t.root)return n;if('same'==(0,c.default)(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+o>this.offset)return null;n.offset-=o}}else if('prefix'==(0,c.default)(t.getParentPath(),this.getParentPath())){var a=t.path.length-1;if(t.offset<=this.path[a]){if(t.offset+o>this.path[a])return null;n.path[a]-=o}}return n}},{key:'_getTransformedByInsertion',value:function(t,o,n){var a=e.createFromPosition(this);if(this.root!=t.root)return a;if('same'==(0,c.default)(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&n)&&(a.offset+=o);else if('prefix'==(0,c.default)(t.getParentPath(),this.getParentPath())){var r=t.path.length-1;t.offset<=this.path[r]&&(a.path[r]+=o)}return a}},{key:'_getTransformedByMove',value:function(e,t,o,n,a){var r=this._getTransformedByDeletion(e,o);return t=t._getTransformedByDeletion(e,o),r=null===r||a&&r.isEqual(e)?this._getCombined(e,t):r._getTransformedByInsertion(t,o,n),r}},{key:'_getCombined',value:function(t,o){var n=t.path.length-1,a=e.createFromPosition(o);return a.offset=a.offset+this.path[n]-t.offset,a.path=a.path.concat(this.path.slice(n+1)),a}},{key:'offset',get:function(){return(0,s.default)(this.path)},set:function(e){this.path[this.path.length-1]=e}},{key:'parent',get:function(){for(var e=this.root,t=0;t<this.path.length-1;t++)e=e.getChild(e.offsetToIndex(this.path[t]));return e}},{key:'index',get:function(){return this.parent.offsetToIndex(this.offset)}},{key:'textNode',get:function(){var e=this.parent.getChild(this.index);return e instanceof g.default&&e.startOffset<this.offset?e:null}},{key:'nodeAfter',get:function(){return null===this.textNode?this.parent.getChild(this.index):null}},{key:'nodeBefore',get:function(){return null===this.textNode?this.parent.getChild(this.index-1):null}},{key:'isAtStart',get:function(){return 0===this.offset}},{key:'isAtEnd',get:function(){return this.offset==this.parent.maxOffset}}],[{key:'createAt',value:function(t,o){if(t instanceof e)return this.createFromPosition(t);var n=t;if('end'==o)o=n.maxOffset;else{if('before'==o)return this.createBefore(n);if('after'==o)return this.createAfter(n);o||(o=0)}return this.createFromParentAndOffset(n,o)}},{key:'createAfter',value:function(e){if(!e.parent)throw new _.default('model-position-after-root: You can not make position after root.',{root:e});return this.createFromParentAndOffset(e.parent,e.endOffset)}},{key:'createBefore',value:function(e){if(!e.parent)throw new _.default('model-position-before-root: You can not make position before root.',{root:e});return this.createFromParentAndOffset(e.parent,e.startOffset)}},{key:'createFromParentAndOffset',value:function(e,t){if(!e.is('element')&&!e.is('documentFragment'))throw new _.default('model-position-parent-incorrect: Position parent have to be a element or document fragment.');var o=e.getPath();return o.push(t),new this(e.root,o)}},{key:'createFromPosition',value:function(e){return new this(e.root,e.path.slice())}},{key:'fromJSON',value:function(t,o){if('$graveyard'===t.root)return new e(o.graveyard,t.path);if(!o.hasRoot(t.root))throw new _.default('model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.',{rootName:t.root});return new e(o.getRoot(t.root),t.path)}}]),e}();t.default=y},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(1),u=n(i),d=o(54),s=n(d),f=o(0),c=n(f),p=function(){function e(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;r(this,e),this.start=u.default.createFromPosition(t),this.end=o?u.default.createFromPosition(o):u.default.createFromPosition(t)}return l(e,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(new s.default({boundaries:this,ignoreElementEnd:!0}),'t0',1);case 1:case'end':return e.stop();}},e,this)})},{key:'containsPosition',value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:'containsRange',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];e.isCollapsed&&(t=!1);var o=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),n=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return o&&n}},{key:'isEqual',value:function(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:'isIntersecting',value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}},{key:'getDifference',value:function(t){var o=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&o.push(new e(this.start,t.start)),this.containsPosition(t.end)&&o.push(new e(t.end,this.end))):o.push(e.createFromRange(this)),o}},{key:'getIntersection',value:function(t){if(this.isIntersecting(t)){var o=this.start,n=this.end;return this.containsPosition(t.start)&&(o=t.start),this.containsPosition(t.end)&&(n=t.end),new e(o,n)}return null}},{key:'getMinimalFlatRanges',value:function(){for(var t=[],o=this.start.getCommonPath(this.end).length,n=u.default.createFromPosition(this.start),a=n.parent,r;n.path.length>o+1;)r=a.maxOffset-n.offset,0!=r&&t.push(new e(n,n.getShiftedBy(r))),n.path=n.path.slice(0,-1),n.offset++,a=a.parent;for(;n.path.length<=this.end.path.length;){var l=this.end.path[n.path.length-1],i=l-n.offset;0!=i&&t.push(new e(n,n.getShiftedBy(i))),n.offset=l,n.path.push(0)}return t}},{key:'getWalker',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new s.default(e)}},{key:'getItems',value:regeneratorRuntime.mark(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o,n,a,r,l,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.boundaries=this,t.ignoreElementEnd=!0,o=new s.default(t),n=!0,a=!1,r=void 0,e.prev=6,l=o[Symbol.iterator]();case 8:if(n=(i=l.next()).done){e.next=15;break}return u=i.value,e.next=12,u.item;case 12:n=!0,e.next=8;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e['catch'](6),a=!0,r=e.t0;case 21:e.prev=21,e.prev=22,!n&&l.return&&l.return();case 24:if(e.prev=24,!a){e.next=27;break}throw r;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case'end':return e.stop();}},e,this,[[6,17,21,29],[22,,24,28]])})},{key:'getPositions',value:regeneratorRuntime.mark(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o,n,a,r,l,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.boundaries=this,o=new s.default(t),e.next=4,o.position;case 4:n=!0,a=!1,r=void 0,e.prev=7,l=o[Symbol.iterator]();case 9:if(n=(i=l.next()).done){e.next=16;break}return u=i.value,e.next=13,u.nextPosition;case 13:n=!0,e.next=9;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e['catch'](7),a=!0,r=e.t0;case 22:e.prev=22,e.prev=23,!n&&l.return&&l.return();case 25:if(e.prev=25,!a){e.next=28;break}throw r;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case'end':return e.stop();}},e,this,[[7,18,22,30],[23,,25,29]])})},{key:'getTransformedByDelta',value:function(t){var o=[e.createFromRange(this)],n=new Set(['insert','move','remove','reinsert']),r=!0,l=!1,u;try{for(var d=t.operations[Symbol.iterator](),s,f;!(r=(s=d.next()).done);r=!0)if(f=s.value,n.has(f.type))for(var c=0,i;c<o.length;c++)i=o[c]._getTransformedByDocumentChange(f.type,t.type,f.targetPosition||f.position,f.howMany||f.nodes.maxOffset,f.sourcePosition),o.splice.apply(o,[c,1].concat(a(i))),c+=i.length-1}catch(e){l=!0,u=e}finally{try{!r&&d.return&&d.return()}finally{if(l)throw u}}return o}},{key:'getTransformedByDeltas',value:function(t){var o=[e.createFromRange(this)],n=!0,r=!1,l;try{for(var u=t[Symbol.iterator](),d,s;!(n=(d=u.next()).done);n=!0){s=d.value;for(var f=0,c;f<o.length;f++)c=o[f].getTransformedByDelta(s),o.splice.apply(o,[f,1].concat(a(c))),f+=c.length-1}}catch(e){r=!0,l=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw l}}for(var p=0,i;p<o.length;p++){i=o[p];for(var _=p+1,m;_<o.length;_++)m=o[_],(i.containsRange(m)||m.containsRange(i)||i.isEqual(m))&&o.splice(_,1)}return o}},{key:'getCommonAncestor',value:function(){return this.start.getCommonAncestor(this.end)}},{key:'_getTransformedByDocumentChange',value:function(t,o,n,a,r){if('insert'==t)return this._getTransformedByInsertion(n,a,!1,!1);var l=e.createFromPositionAndShift(r,a);if('merge'==o&&this.isCollapsed&&(this.start.isEqual(l.start)||this.start.isEqual(l.end)))return[new e(n.getShiftedBy(this.start.offset))];if(l.containsPosition(this.start)&&this.containsPosition(l.end)&&this.end.isAfter(n)){var i=this.start._getCombined(r,n._getTransformedByDeletion(r,a)),u=this.end._getTransformedByMove(r,n,a,!1,!1);return[new e(i,u)]}if((l.containsPosition(this.end)||l.end.isEqual(this.end))&&this.containsPosition(l.start)&&this.start.isBefore(n)){var d=this.start._getTransformedByMove(r,n,a,!0,!1),s=this.end._getCombined(r,n._getTransformedByDeletion(r,a));return[new e(d,s)]}return this._getTransformedByMove(r,n,a)}},{key:'_getTransformedByInsertion',value:function(t,o){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(n&&this.containsPosition(t))return[new e(this.start,t),new e(t._getTransformedByInsertion(t,o,!0),this.end._getTransformedByInsertion(t,o,this.isCollapsed))];var r=e.createFromRange(this),l=!!r.isCollapsed||!a,i=!!r.isCollapsed||a;return r.start=r.start._getTransformedByInsertion(t,o,l),r.end=r.end._getTransformedByInsertion(t,o,i),[r]}},{key:'_getTransformedByMove',value:function(t,o,n){if(this.isCollapsed){var a=this.start._getTransformedByMove(t,o,n,!0,!1);return[new e(a)]}var r=new e(t,t.getShiftedBy(n)),l=this.getDifference(r),i=null,u=this.getIntersection(r),d;1==l.length?i=new e(l[0].start._getTransformedByDeletion(t,n),l[0].end._getTransformedByDeletion(t,n)):2==l.length&&(i=new e(this.start,this.end._getTransformedByDeletion(t,n)));var s=o._getTransformedByDeletion(t,n);return d=i?i._getTransformedByInsertion(s,n,null!==u):[],u&&d.push(new e(u.start._getCombined(r.start,s),u.end._getCombined(r.start,s))),d}},{key:'isCollapsed',get:function(){return this.start.isEqual(this.end)}},{key:'isFlat',get:function(){return this.start.parent===this.end.parent}},{key:'root',get:function(){return this.start.root}}],[{key:'createFromPositionAndShift',value:function(e,t){var o=e,n=e.getShiftedBy(t);return 0<t?new this(o,n):new this(n,o)}},{key:'createFromParentsAndOffsets',value:function(e,t,o,n){return new this(u.default.createFromParentAndOffset(e,t),u.default.createFromParentAndOffset(o,n))}},{key:'createFromRange',value:function(e){return new this(e.start,e.end)}},{key:'createIn',value:function(e){return this.createFromParentsAndOffsets(e,0,e,e.maxOffset)}},{key:'createOn',value:function(e){return this.createFromPositionAndShift(u.default.createBefore(e),e.offsetSize)}},{key:'createCollapsedAt',value:function(t,o){var n=u.default.createAt(t,o),a=u.default.createFromPosition(n);return new e(n,a)}},{key:'createFromRanges',value:function(e){if(0===e.length)throw new c.default('range-create-from-ranges-empty-array: At least one range has to be passed.');else if(1==e.length)return this.createFromRange(e[0]);var t=e[0];e.sort(function(e,t){return e.start.isAfter(t.start)?1:-1});for(var o=e.indexOf(t),n=new this(t.start,t.end),a=o-1;0<=a&&e[a].end.isEqual(n.start);a++)n.start=u.default.createFromPosition(e[a].start);for(var r=o+1;r<e.length&&e[r].start.isEqual(n.end);r++)n.end=u.default.createFromPosition(e[r].end);return n}},{key:'fromJSON',value:function(e,t){return new this(u.default.fromJSON(e.start,t),u.default.fromJSON(e.end,t))}}]),e}();t.default=p},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(15),i=n(l),u=o(4),d=n(u),s=function(){function e(t){a(this,e),this.editor=t}return r(e,[{key:'destroy',value:function(){this.stopListening()}}]),e}();t.default=s,(0,d.default)(s,i.default)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){for(var t=arguments.length,o=Array(1<t?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];o.forEach(function(t){Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t)).forEach(function(o){if(!(o in e.prototype)){var n=Object.getOwnPropertyDescriptor(t,o);n.enumerable=!1,Object.defineProperty(e.prototype,o,n)}})})}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function u(e){return!!e&&((e.value&&(e=e.value),Array.isArray(e))?e.some(u):!!(e instanceof Q))}function d(e,t){return e.map(function(e){return e instanceof Q?e.getValue(t):e})}function s(e,t,o){var n=o.node,a=d(e,n);a=1==e.length&&e[0]instanceof X?a[0]:a.reduce(k,''),x(a)?t.remove():t.set(a)}function f(e){return{set:function(t){e.textContent=t},remove:function(){e.textContent=''}}}function c(e,t,o){return{set:function(n){e.setAttributeNS(o,t,n)},remove:function(){e.removeAttributeNS(o,t)}}}function p(e,t){return{set:function(o){e.style[t]=o},remove:function(){e.style[t]=null}}}function _(e){var t=(0,H.default)(e,function(e){if(e&&(e instanceof Q||C(e)||M(e)||O(e)))return e});return t}function m(e){if('string'==typeof e?e=b(e):e.text&&h(e),e.on&&(e.eventListeners=y(e.on),delete e.on),!e.text){e.attributes&&g(e.attributes);var t=new W.default;if(e.children)if(O(e.children))t.add(e.children);else{var o=!0,n=!1,a;try{for(var r=e.children[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,C(i)||M(i)?t.add(i):t.add(new G(i))}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}e.children=t}return e}function g(e){for(var t in e)e[t].value&&(e[t].value=[].concat(e[t].value)),v(e,t)}function y(e){for(var t in e)v(e,t);return e}function b(e){return{text:[e]}}function h(e){Array.isArray(e.text)||(e.text=[e.text])}function v(e,t){Array.isArray(e[t])||(e[t]=[e[t]])}function k(e,t){return x(t)?e:x(e)?t:e+' '+t}function P(e,t){for(var o in t)if(e[o]){var n;(n=e[o]).push.apply(n,r(t[o]))}else e[o]=t[o]}function w(e,t){if(t.attributes&&(!e.attributes&&(e.attributes={}),P(e.attributes,t.attributes)),t.eventListeners&&(!e.eventListeners&&(e.eventListeners={}),P(e.eventListeners,t.eventListeners)),t.text){var o;(o=e.text).push.apply(o,r(t.text))}if(t.children&&t.children.length){if(e.children.length!=t.children.length)throw new V.default('ui-template-extend-children-mismatch: The number of children in extended definition does not match.');var n=0,a=!0,l=!1,i;try{for(var u=t.children[Symbol.iterator](),d,s;!(a=(d=u.next()).done);a=!0)s=d.value,w(e.children.get(n++),s)}catch(e){l=!0,i=e}finally{try{!a&&u.return&&u.return()}finally{if(l)throw i}}}}function x(e){return!e&&0!==e}function M(e){return e instanceof j.default}function C(e){return e instanceof G}function O(e){return e instanceof W.default}function A(){return{children:[],bindings:[],attributes:{}}}function T(e){return'class'==e||'style'==e}Object.defineProperty(t,'__esModule',{value:!0}),t.TemplateIfBinding=t.TemplateToBinding=t.TemplateBinding=void 0;var S=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},E=function(){function e(e,t){var o=[],n=!0,a=!1,r;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),R=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),I=o(0),V=n(I),N=o(4),F=n(N),B=o(9),D=n(B),L=o(8),j=n(L),q=o(153),W=n(q),z=o(432),H=n(z),U=o(16),K=n(U),$=o(30),J=n($),G=function(){function e(t){i(this,e),Object.assign(this,m(_(t))),this._isRendered=!1,this._revertData=null}return R(e,[{key:'render',value:function(){var e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}},{key:'apply',value:function(e){return this._revertData=A(),this._renderNode({node:e,isApplying:!0,revertData:this._revertData}),e}},{key:'revert',value:function(e){if(!this._revertData)throw new V.default('ui-template-revert-not-applied: Attempting reverting a template which has not been applied yet.');this._revertTemplateFromNode(e,this._revertData)}},{key:'_renderNode',value:function(e){var t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text,t)throw new V.default('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering new Node.');return this.text?this._renderText(e):this._renderElement(e)}},{key:'_renderElement',value:function(e){var t=e.node;return t||(t=e.node=document.createElementNS(this.ns||'http://www.w3.org/1999/xhtml',this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}},{key:'_renderText',value:function(e){var t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(''),u(this.text)?this._bindToObservable({schema:this.text,updater:f(t),data:e}):t.textContent=this.text.join(''),t}},{key:'_renderAttributes',value:function(e){var t,o,n,a;if(this.attributes){var r=e.node,l=e.revertData;for(t in this.attributes)if(n=r.getAttribute(t),o=this.attributes[t],l&&(l.attributes[t]=n),a=(0,K.default)(o[0])&&o[0].ns?o[0].ns:null,u(o)){var i=a?o[0].value:o;l&&T(t)&&i.unshift(n),this._bindToObservable({schema:i,updater:c(r,t,a),data:e})}else'style'==t&&'string'!=typeof o[0]?this._renderStyleAttribute(o[0],e):(l&&n&&T(t)&&o.unshift(n),o=o.map(function(e){return e?e.value||e:e}).reduce(function(e,t){return e.concat(t)},[]).reduce(k,''),x(o)||r.setAttributeNS(a,t,o))}}},{key:'_renderStyleAttribute',value:function(e,t){var o=t.node;for(var n in e){var a=e[n];u(a)?this._bindToObservable({schema:[a],updater:p(o,n),data:t}):o.style[n]=a}}},{key:'_renderElementChildren',value:function(e){var t=e.node,o=e.intoFragment?document.createDocumentFragment():t,n=e.isApplying,a=0,r=!0,l=!1,i;try{for(var u=this.children[Symbol.iterator](),d,s;!(r=(d=u.next()).done);r=!0)if(s=d.value,O(s)){if(!n){s.setParent(t);var f=!0,c=!1,p=void 0;try{for(var _=s[Symbol.iterator](),m,g;!(f=(m=_.next()).done);f=!0)g=m.value,o.appendChild(g.element)}catch(e){c=!0,p=e}finally{try{!f&&_.return&&_.return()}finally{if(c)throw p}}}}else if(M(s))n||o.appendChild(s.element);else if(n){var y=e.revertData,b=A();y.children.push(b),s._renderNode({node:o.childNodes[a++],isApplying:!0,revertData:b})}else o.appendChild(s.render())}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}e.intoFragment&&t.appendChild(o)}},{key:'_setUpListeners',value:function(e){var t=this;if(this.eventListeners){var o=function(o){var n=t.eventListeners[o].map(function(t){var n=o.split('@'),a=E(n,2),r=a[0],l=a[1];return t.activateDomEventListener(r,l,e)});e.revertData&&e.revertData.bindings.push(n)};for(var n in this.eventListeners)o(n)}}},{key:'_bindToObservable',value:function(e){var t=e.schema,o=e.updater,n=e.data,a=n.revertData;s(t,o,n);var r=t.filter(function(e){return!x(e)}).filter(function(e){return e.observable}).map(function(e){return e.activateAttributeListener(t,o,n)});a&&a.bindings.push(r)}},{key:'_revertTemplateFromNode',value:function(e,t){var o=!0,n=!1,a;try{for(var r=t.bindings[Symbol.iterator](),l;!(o=(l=r.next()).done);o=!0){var u=l.value,d=!0,s=!1,f=void 0;try{for(var c=u[Symbol.iterator](),p,_;!(d=(p=c.next()).done);d=!0)_=p.value,_()}catch(e){s=!0,f=e}finally{try{!d&&c.return&&c.return()}finally{if(s)throw f}}}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}if(t.text)return void(e.textContent=t.text);for(var m in t.attributes){var g=t.attributes[m];null===g?e.removeAttribute(m):e.setAttribute(m,g)}for(var y=0;y<t.children.length;++y)this._revertTemplateFromNode(e.childNodes[y],t.children[y])}}],[{key:'bind',value:function(e,t){return{to:function(o,n){return new Y({eventNameOrFunction:o,attribute:o,observable:e,emitter:t,callback:n})},if:function(o,n,a){return new X({observable:e,emitter:t,attribute:o,valueIfTrue:n,callback:a})}}}},{key:'extend',value:function(e,t){e._isRendered&&J.default.warn('template-extend-render: Attempting to extend a template which has already been rendered.'),w(e,m(_(t)))}}]),e}();t.default=G,(0,F.default)(G,D.default);var Q=t.TemplateBinding=function(){function e(t){i(this,e),Object.assign(this,t)}return R(e,[{key:'getValue',value:function(e){var t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}},{key:'activateAttributeListener',value:function(e,t,o){var n=this,a=function(){return s(e,t,o)};return this.emitter.listenTo(this.observable,'change:'+this.attribute,a),function(){n.emitter.stopListening(n.observable,'change:'+n.attribute,a)}}}]),e}(),Y=t.TemplateToBinding=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),R(t,[{key:'activateDomEventListener',value:function(e,t,o){var n=this,a=function(e,o){(!t||o.target.matches(t))&&('function'==typeof n.eventNameOrFunction?n.eventNameOrFunction(o):n.observable.fire(n.eventNameOrFunction,o))};return this.emitter.listenTo(o.node,e,a),function(){n.emitter.stopListening(o.node,e,a)}}}]),t}(Q),X=t.TemplateIfBinding=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),R(t,[{key:'getValue',value:function(e){var o=S(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'getValue',this).call(this,e);return!x(o)&&(this.valueIfTrue||!0)}}]),t}(Q)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return'string'==typeof e?[new m.default(e)]:((0,y.default)(e)||(e=[e]),Array.from(e).map(function(e){return'string'==typeof e?new m.default(e):e}))}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},s=o(63),f=n(s),c=o(79),p=n(c),_=o(25),m=n(_),g=o(32),y=n(g),b=function(e){function t(e,o,n){a(this,t);var l=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o));return l.name=e,l._children=new p.default,n&&l.insertChildren(0,n),l}return l(t,e),u(t,[{key:'is',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?'element'==e&&t==this.name:'element'==e||e==this.name}},{key:'getChild',value:function(e){return this._children.getNode(e)}},{key:'getChildren',value:function(){return this._children[Symbol.iterator]()}},{key:'getChildIndex',value:function(e){return this._children.getNodeIndex(e)}},{key:'getChildStartOffset',value:function(e){return this._children.getNodeStartOffset(e)}},{key:'clone',value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],o=e?Array.from(this._children).map(function(e){return e.clone(!0)}):null;return new t(this.name,this.getAttributes(),o)}},{key:'offsetToIndex',value:function(e){return this._children.offsetToIndex(e)}},{key:'appendChildren',value:function(e){this.insertChildren(this.childCount,e)}},{key:'insertChildren',value:function(e,t){t=i(t);var o=!0,n=!1,a;try{for(var r=t[Symbol.iterator](),l,u;!(o=(l=r.next()).done);o=!0)u=l.value,u.parent=this}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}this._children.insertNodes(e,t)}},{key:'removeChildren',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,o=this._children.removeNodes(e,t),n=!0,a=!1,r;try{for(var l=o[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,u.parent=null}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return o}},{key:'getNodeByPath',value:function(e){var t=this,o=!0,n=!1,a;try{for(var r=e[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,t=t.getChild(t.offsetToIndex(i))}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}return t}},{key:'toJSON',value:function(){var e=d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'toJSON',this).call(this);if(e.name=this.name,0<this._children.length){e.children=[];var o=!0,n=!1,a;try{for(var r=this._children[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,e.children.push(i.toJSON())}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}return e}},{key:'childCount',get:function(){return this._children.length}},{key:'maxOffset',get:function(){return this._children.maxOffset}},{key:'isEmpty',get:function(){return 0===this.childCount}}],[{key:'fromJSON',value:function(e){var o=null;if(e.children){o=[];var n=!0,a=!1,r;try{for(var l=e.children[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,u.name?o.push(t.fromJSON(u)):o.push(m.default.fromJSON(u))}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}}return new t(e.name,e.attributes,o)}}]),t}(f.default);t.default=b},function(e,t,n){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var r=n(158),l=a(r),i=n(12),u=a(i),d=o;t.default=function(e,t){if('function'!=typeof e)throw new TypeError('Expected a function');return t=d(void 0===t?e.length-1:(0,u.default)(t),0),function(){for(var o=arguments,n=-1,a=d(o.length-t,0),r=Array(a);++n<a;)r[n]=o[t+n];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,o[0],r);case 2:return e.call(this,o[0],o[1],r);}var i=Array(t+1);for(n=-1;++n<t;)i[n]=o[n];return i[t]=r,(0,l.default)(e,this,i)}}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(0),i=n(l),u=o(153),d=n(u),s=o(5),f=n(s),c=o(107),p=n(c),_=o(15),m=n(_),g=o(154),y=n(g),b=o(4),h=n(b),v=o(32),k=n(v),P=function(){function e(t){a(this,e),this.locale=t,this.t=t&&t.t,this.set('ready',!1),this._viewCollections=new y.default,this._unboundChildren=this.createCollection(),this._viewCollections.on('add',function(e,o){o.locale=t})}return r(e,[{key:'createCollection',value:function(){var e=new d.default;return this._viewCollections.add(e),e}},{key:'addChildren',value:function(e){var t=this;(0,k.default)(e)||(e=[e]),e.map(function(e){return t._unboundChildren.add(e)})}},{key:'init',value:function(){if(this.ready)throw new i.default('ui-view-init-reinit: This View has already been initialized.');this._viewCollections.map(function(e){return e.init()}),this.ready=!0}},{key:'destroy',value:function(){this.stopListening(),this._viewCollections.map(function(e){return e.destroy()})}},{key:'_addTemplateChildren',value:function(){var t=this;(function o(n){if(n.children){var a=!0,r=!1,l;try{for(var i=n.children[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,d instanceof e?t.addChildren(d):o(d)}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}}})(this.template)}},{key:'element',get:function(){return this._element?this._element:this.template?(this._addTemplateChildren(),this._element=this.template.render()):null},set:function(e){this._element=e}},{key:'bindTemplate',get:function(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=f.default.bind(this,this)}}]),e}();t.default=P,(0,h.default)(P,p.default),(0,h.default)(P,m.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e,t){e[k]||(e[k]=t||(0,y.default)())}function l(e){return e[k]}function u(e){return e._events||Object.defineProperty(e,'_events',{value:{}}),e._events}function i(){return{callbacks:[],childEvents:[]}}function d(e,t){var o=u(e);if(!o[t]){for(var n=t,a=null,r=[];''!==n&&!o[n];)o[n]=i(),r.push(o[n]),a&&o[n].childEvents.push(a),a=n,n=n.substr(0,n.lastIndexOf(':'));if(''!==n){var l=!0,d=!1,s;try{for(var f=r[Symbol.iterator](),c,p;!(l=(c=f.next()).done);l=!0)p=c.value,p.callbacks=o[n].callbacks.slice()}catch(e){d=!0,s=e}finally{try{!l&&f.return&&f.return()}finally{if(d)throw s}}o[n].childEvents.push(a)}}}function s(e,t){var o=u(e)[t];if(!o)return[];for(var n=[o.callbacks],a=0,r;a<o.childEvents.length;a++)r=s(e,o.childEvents[a]),n=n.concat(r);return n}function f(e,t){var o;return e._events&&(o=e._events[t])&&o.callbacks.length?o.callbacks:-1<t.indexOf(':')?f(e,t.substr(0,t.lastIndexOf(':'))):null}function c(e,t,o){var n=!0,r=!1,l;try{for(var i=e[Symbol.iterator](),u;!(n=(u=i.next()).done);n=!0){var d=u.value,s=p(d,2),f=s[0],c=s[1];c?'function'==typeof c&&(c=c(t.name)):c=t.name;var _=new m.default(t.source,c);_.path=[].concat(a(t.path)),f.fire.apply(f,[_].concat(a(o)))}}catch(e){r=!0,l=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw l}}}Object.defineProperty(t,'__esModule',{value:!0});var p=function(){function e(e,t){var o=[],n=!0,a=!1,r;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();t._getEmitterListenedTo=function(e,t){return e[v]&&e[v][t]?e[v][t].emitter:null},t._setEmitterId=r,t._getEmitterId=l;var _=o(286),m=n(_),g=o(61),y=n(g),b=o(288),h=n(b),v=Symbol('listeningTo'),k=Symbol('emitterId');t.default={on:function(e,t){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};d(this,e);var n=s(this,e),a=h.default.get(o.priority);t={callback:t,context:o.context||this,priority:a};var r=!0,l=!1,u;try{for(var f=n[Symbol.iterator](),c;!(r=(c=f.next()).done);r=!0){for(var p=c.value,_=!1,m=0;m<p.length;m++)if(p[m].priority<a){p.splice(m,0,t),_=!0;break}_||p.push(t)}}catch(e){l=!0,u=e}finally{try{!r&&f.return&&f.return()}finally{if(l)throw u}}},once:function(e,t,o){this.on(e,function(e){e.off();for(var o=arguments.length,n=Array(1<o?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];t.call.apply(t,[this,e].concat(n))},o)},off:function(e,t,o){var n=s(this,e),a=!0,r=!1,l;try{for(var u=n[Symbol.iterator](),d,f;!(a=(d=u.next()).done);a=!0){f=d.value;for(var c=0;c<f.length;c++)f[c].callback==t&&(o&&o!=f[c].context||(f.splice(c,1),c--))}}catch(e){r=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(r)throw l}}},listenTo:function(e,t,o,n){var a,i;this[v]||(this[v]={});var u=this[v];l(e)||r(e);var d=l(e);(a=u[d])||(a=u[d]={emitter:e,callbacks:{}}),(i=a.callbacks[t])||(i=a.callbacks[t]=[]),i.push(o),e.on(t,o,n)},stopListening:function(e,t,o){var n=this[v],a=e&&l(e),r=n&&a&&n[a],i=r&&t&&r.callbacks[t];if(n&&(!e||r)&&(!t||i))if(o)e.off(t,o);else if(i){for(;o=i.pop();)e.off(t,o);delete r.callbacks[t]}else if(r){for(t in r.callbacks)this.stopListening(e,t);delete n[a]}else{for(a in n)this.stopListening(n[a].emitter);delete this[v]}},fire:function(e){var t=e instanceof m.default?e:new m.default(this,e),o=t.name,n=f(this,o);t.path.push(this);for(var r=arguments.length,l=Array(1<r?r-1:0),u=1;u<r;u++)l[u-1]=arguments[u];if(n){var d=[t].concat(a(l));n=Array.from(n);for(var s=0;s<n.length&&(n[s].callback.apply(n[s].context,d),t.off.called&&(delete t.off.called,this.off(o,n[s].callback,n[s].context)),!t.stop.called);s++);}if(this._delegations){var i=this._delegations.get(o),p=this._delegations.get('*');i&&c(i,t,l),p&&c(p,t,l)}return t.return},delegate:function(){for(var e=this,t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];return{to:function(t,n){e._delegations||(e._delegations=new Map);var a=!0,r=!1,l;try{for(var i=o[Symbol.iterator](),u;!(a=(u=i.next()).done);a=!0){var d=u.value,s=e._delegations.get(d);s?s.set(t,n):e._delegations.set(d,new Map([[t,n]]))}}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}}}},stopDelegating:function(e,t){if(this._delegations)if(!e)this._delegations.clear();else if(!t)this._delegations.delete(e);else{var o=this._delegations.get(e);o&&o.delete(t)}}}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},r=o(370),l=n(r),i=o(377),u=n(i),d=o(191),s=n(d),f=o(14),c=n(f),p=o(385),_=n(p);t.default=function(e){return'function'==typeof e?e:null==e?s.default:'object'==('undefined'==typeof e?'undefined':a(e))?(0,c.default)(e)?(0,u.default)(e[0],e[1]):(0,l.default)(e):(0,_.default)(e)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(15),i=n(l),u=o(4),d=n(u),s=function(){function e(t){function o(){this.isEnabled=!1}var n=this;a(this,e),this.editor=t,this.set('value',void 0),this.set('isEnabled',!1),this.decorate('execute'),this.listenTo(this.editor.document,'changesDone',function(){n.refresh()}),this.on('execute',function(e){n.isEnabled||e.stop()},{priority:'high'}),this.listenTo(t,'change:isReadOnly',function(e,t,a){a?(n.on('change:isEnabled',o,{priority:'lowest'}),n.isEnabled=!1):(n.off('change:isEnabled',o),n.refresh())})}return r(e,[{key:'refresh',value:function(){this.isEnabled=!0}},{key:'execute',value:function(){}},{key:'destroy',value:function(){this.stopListening()}}]),e}();t.default=s,(0,d.default)(s,i.default)},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(292),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){var t=(0,a.default)(e),o=t%1;return t===t?o?t-o:t:0}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(76),r=n(a),l=o(45),i=n(l);t.default=function(e){return(0,i.default)(e)&&(0,r.default)(e)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=Array.isArray;t.default=o},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){k in e||(Object.defineProperty(e,k,{value:new Map}),Object.defineProperty(e,P,{value:new Map}),Object.defineProperty(e,w,{value:new Map}))}function r(){var e=this,t=i.apply(void 0,arguments),o=Array.from(this._bindings.keys()),n=o.length;if(!t.callback&&1<t.to.length)throw new g.default('observable-bind-to-no-callback: Binding multiple observables only possible with callback.');if(1<n&&t.callback)throw new g.default('observable-bind-to-extra-callback: Cannot bind multiple attributes and use a callback in one binding.');t.to.forEach(function(t){if(t.attrs.length&&t.attrs.length!==n)throw new g.default('observable-bind-to-attrs-length: The number of attributes must match.');t.attrs.length||(t.attrs=e._bindAttrs)}),this._to=t.to,t.callback&&(this._bindings.get(o[0]).callback=t.callback),f(this._observable,this._to),d(this),this._bindAttrs.forEach(function(t){s(e._observable,t)})}function l(e){return e.every(function(e){return'string'==typeof e})}function i(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];if(!t.length)throw new g.default('observable-bind-to-parse-error: Invalid argument syntax in `to()`.');var n={to:[]},r;return'function'==typeof t[t.length-1]&&(n.callback=t.pop()),t.forEach(function(e){if('string'==typeof e)r.attrs.push(e);else if('object'==('undefined'==typeof e?'undefined':c(e)))r={observable:e,attrs:[]},n.to.push(r);else throw new g.default('observable-bind-to-parse-error: Invalid argument syntax in `to()`.')}),n}function u(e,t,o,n){var a=e[P],r=a.get(o),l=r||{};l[n]||(l[n]=new Set),l[n].add(t),r||a.set(o,l)}function d(e){var t;e._bindings.forEach(function(o,n){e._to.forEach(function(a){t=a.attrs[o.callback?0:e._bindAttrs.indexOf(n)],o.to.push([a.observable,t]),u(e._observable,o,a.observable,t)})})}function s(e,t){var o=e[w],n=o.get(t),a;n.callback?a=n.callback.apply(e,n.to.map(function(e){return e[0][e[1]]})):(a=n.to[0],a=a[0][a[1]]),e.hasOwnProperty(t)?e[t]=a:e.set(t,a)}function f(e,t){t.forEach(function(t){var o=e[P],n;o.get(t.observable)||e.listenTo(t.observable,'change',function(a,r){n=o.get(t.observable)[r],n&&n.forEach(function(t){s(e,t.attr)})})})}Object.defineProperty(t,'__esModule',{value:!0});var c='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},p=o(9),_=n(p),m=o(0),g=n(m),y=o(46),b=n(y),h=o(16),v=n(h),k=Symbol('attributes'),P=Symbol('boundObservables'),w=Symbol('boundAttributes'),x={set:function(e,t){var o=this;if((0,v.default)(e))return void Object.keys(e).forEach(function(t){o.set(t,e[t])},this);a(this);var n=this[k];if(e in this&&!n.has(e))throw new g.default('observable-set-cannot-override: Cannot override an existing property.');Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:function(){return n.get(e)},set:function(t){var o=n.get(e);o===t&&n.has(e)||(n.set(e,t),this.fire('change:'+e,e,t,o))}}),this[e]=t},bind:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];if(!t.length||!l(t))throw new g.default('observable-bind-wrong-attrs: All attributes must be strings.');if(new Set(t).size!==t.length)throw new g.default('observable-bind-duplicate-attrs: Attributes must be unique.');a(this);var n=this[w];t.forEach(function(e){if(n.has(e))throw new g.default('observable-bind-rebind: Cannot bind the same attribute more that once.')});var i=new Map;return t.forEach(function(e){var t={attr:e,to:[]};n.set(e,t),i.set(e,t)}),{to:r,_observable:this,_bindAttrs:t,_to:[],_bindings:i}},unbind:function(){var e=this;if(k in this){for(var t=this[w],o=this[P],n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];if(a.length){if(!l(a))throw new g.default('observable-unbind-wrong-attrs: Attributes must be strings.');a.forEach(function(n){var a=t.get(n),r,l,i,u;a.to.forEach(function(t){r=t[0],l=t[1],i=o.get(r),u=i[l],u.delete(a),u.size||delete i[l],Object.keys(i).length||(o.delete(r),e.stopListening(r,'change'))}),t.delete(n)})}else o.forEach(function(t,o){e.stopListening(o,'change')}),o.clear(),t.clear()}},decorate:function(e){var t=this,o=this[e];if(!o)throw new g.default('observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.',{object:this,methodName:e});this.on(e,function(e,n){e.return=o.apply(t,n)}),this[e]=function(){for(var t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];return this.fire(e,o)}}};t.default=x,(0,b.default)(x,_.default)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e};t.default=function(e){var t='undefined'==typeof e?'undefined':o(e);return!!e&&('object'==t||'function'==t)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=e?e.length:0;return t?e[t-1]:void 0}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(0),i=n(l),u=o(357),d=n(u),s=new Map,f=function(){function e(){a(this,e)}return r(e,null,[{key:'fromJSON',value:function(e,t){if(!s.has(e.__className))throw new i.default('delta-fromjson-no-deserializer: This delta has no defined deserializer',{name:e.__className});var o=s.get(e.__className),n=new o,a=!0,r=!1,l;try{for(var u=e.operations[Symbol.iterator](),f,c;!(a=(f=u.next()).done);a=!0)c=f.value,n.addOperation(d.default.fromJSON(c,t))}catch(e){r=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(r)throw l}}for(var p in e)'__className'!=p&&void 0===n[p]&&(n[p]=e[p]);return n}},{key:'register',value:function(e){s.set(e.className,e)}}]),e}();t.default=f},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();t.register=function(e,t){if(i.prototype[e])throw new l.default('model-batch-register-taken: This batch method name is already taken.',{name:e});i.prototype[e]=t};var r=o(0),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(){function e(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'default';n(this,e),this.document=t,this.deltas=[],this.type=o}return a(e,[{key:'addDelta',value:function(e){return e.batch=this,this.deltas.push(e),e}},{key:'getOperations',value:regeneratorRuntime.mark(function e(){var t,o,n,a,r,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,o=!1,n=void 0,e.prev=3,a=this.deltas[Symbol.iterator]();case 5:if(t=(r=a.next()).done){e.next=11;break}return l=r.value,e.delegateYield(l.operations,'t0',8);case 8:t=!0,e.next=5;break;case 11:e.next=17;break;case 13:e.prev=13,e.t1=e['catch'](3),o=!0,n=e.t1;case 17:e.prev=17,e.prev=18,!t&&a.return&&a.return();case 20:if(e.prev=20,!o){e.next=23;break}throw n;case 23:return e.finish(20);case 24:return e.finish(17);case 25:case'end':return e.stop();}},e,this,[[3,13,17,25],[18,,20,24]])})},{key:'baseVersion',get:function(){return 0<this.deltas.length?this.deltas[0].baseVersion:null}}]),e}();t.default=i},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(65),i=n(l),u=o(55),d=n(u),s=o(0),f=n(s),c=o(87),p=n(c),_=function(){function e(t,o){a(this,e),this.parent=t,this.offset=o}return r(e,[{key:'getShiftedBy',value:function(t){var o=e.createFromPosition(this),n=o.offset+t;return o.offset=0>n?0:n,o}},{key:'getLastMatchingPosition',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.startPosition=this;var o=new i.default(t);return o.skip(e),o.position}},{key:'getAncestors',value:function(){return this.parent.is('documentFragment')?[this.parent]:this.parent.getAncestors({includeSelf:!0})}},{key:'getCommonAncestor',value:function(e){for(var t=this.getAncestors(),o=e.getAncestors(),n=0;t[n]==o[n]&&t[n];)n++;return 0==n?null:t[n-1]}},{key:'isEqual',value:function(e){return this.parent==e.parent&&this.offset==e.offset}},{key:'isBefore',value:function(e){return'before'==this.compareWith(e)}},{key:'isAfter',value:function(e){return'after'==this.compareWith(e)}},{key:'compareWith',value:function(e){if(this.isEqual(e))return'same';if(this.parent===e.parent)return 0>this.offset-e.offset?'before':'after';var t=this.getAncestors(),o=e.getAncestors(),n=(0,d.default)(t,o),a;switch(n){case 0:return'different';case'prefix':a=t.length-1;break;case'extension':a=o.length-1;break;default:a=n-1;}var r=t[a],l=t[a+1],i=o[a+1];if(r===this.parent){var u=this.offset-i.index;return 0>=u?'before':'after'}if(r===e.parent){var s=l.index-e.offset;return 0>s?'before':'after'}var f=l.index-i.index;return 0>f?'before':'after'}},{key:'nodeAfter',get:function(){return this.parent.is('text')?null:this.parent.getChild(this.offset)||null}},{key:'nodeBefore',get:function(){return this.parent.is('text')?null:this.parent.getChild(this.offset-1)||null}},{key:'isAtStart',get:function(){return 0===this.offset}},{key:'isAtEnd',get:function(){var e=this.parent.is('text')?this.parent.data.length:this.parent.childCount;return this.offset===e}},{key:'root',get:function(){return this.parent.root}},{key:'editableElement',get:function(){for(var e=this.parent;!(e instanceof p.default);)if(e.parent)e=e.parent;else return null;return e}}],[{key:'createAt',value:function(t,o){if(t instanceof e)return this.createFromPosition(t);var n=t;if('end'==o)o=n.is('text')?n.data.length:n.childCount;else{if('before'==o)return this.createBefore(n);if('after'==o)return this.createAfter(n);o||(o=0)}return new e(n,o)}},{key:'createAfter',value:function(t){if(t.is('textProxy'))return new e(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new f.default('view-position-after-root: You can not make position after root.',{root:t});return new e(t.parent,t.index+1)}},{key:'createBefore',value:function(t){if(t.is('textProxy'))return new e(t.textNode,t.offsetInText);if(!t.parent)throw new f.default('view-position-before-root: You can not make position before root.',{root:t});return new e(t.parent,t.index)}},{key:'createFromPosition',value:function(e){return new this(e.parent,e.offset)}}]),e}();t.default=_},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t=d(t);var o=t.reduce(function(e,t){return e+t.offsetSize},0),n=e.parent;f(e);var a=e.index;return n.insertChildren(a,t),s(n,a+t.length),s(n,a),new v.default(e,e.getShiftedBy(o))}function r(e){if(!e.isFlat)throw new C.default('model-writer-remove-range-not-flat: Trying to remove a range that starts and ends in different element.');var t=e.start.parent;f(e.start),f(e.end);var o=t.removeChildren(e.start.index,e.end.index-e.start.index);return s(t,e.start.index),o}function l(e,t){if(!e.isFlat)throw new C.default('model-writer-move-range-not-flat: Trying to move a range that starts and ends in different element.');var o=this.remove(e);return t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset),this.insert(t,o)}function i(e,t,o){f(e.start),f(e.end);var n=!0,a=!1,r;try{for(var l=e.getItems()[Symbol.iterator](),i;!(n=(i=l.next()).done);n=!0){var u=i.value,d=u.is('textProxy')?u.textNode:u;null===o?d.removeAttribute(t):d.setAttribute(t,o),s(d.parent,d.index)}}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}s(e.end.parent,e.end.index)}function u(e,t){this.setAttribute(e,t,null)}function d(e){var t=[];e instanceof Array||(e=[e]);for(var o=0;o<e.length;o++)if('string'==typeof e[o])t.push(new g.default(e[o]));else if(e[o]instanceof b.default)t.push(new g.default(e[o].data,e[o].getAttributes()));else if(e[o]instanceof P.default||e[o]instanceof x.default){var n=!0,a=!1,r=void 0;try{for(var l=e[o][Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,t.push(u)}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}}else e[o]instanceof _.default&&t.push(e[o]);for(var d=1;d<t.length;d++){var s=t[d],f=t[d-1];s instanceof g.default&&f instanceof g.default&&c(s,f)&&(t.splice(d-1,2,new g.default(f.data+s.data,f.getAttributes())),d--)}return t}function s(e,t){var o=e.getChild(t-1),n=e.getChild(t);if(o&&n&&o.is('text')&&n.is('text')&&c(o,n)){var a=new g.default(o.data+n.data,o.getAttributes());e.removeChildren(t-1,2),e.insertChildren(t-1,a)}}function f(e){var t=e.textNode,o=e.parent;if(t){var n=e.offset-t.startOffset,a=t.index;o.removeChildren(a,1);var r=new g.default(t.data.substr(0,n),t.getAttributes()),l=new g.default(t.data.substr(n),t.getAttributes());o.insertChildren(a,[r,l])}}function c(e,t){var o=e.getAttributes(),n=t.getAttributes(),a=!0,r=!1,l;try{for(var i=o[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0){if(d=u.value,d[1]!==t.getAttribute(d[0]))return!1;n.next()}}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}return n.next().done}Object.defineProperty(t,'__esModule',{value:!0}),t.insert=a,t.remove=r,t.move=l,t.setAttribute=i,t.removeAttribute=u,t.normalizeNodes=d;var p=o(63),_=n(p),m=o(25),g=n(m),y=o(64),b=n(y),h=o(2),v=n(h),k=o(39),P=n(k),w=o(79),x=n(w),M=o(0),C=n(M);t.default={insert:a,remove:r,move:l,setAttribute:i,removeAttribute:u,normalizeNodes:d}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(66),i=n(l),u=o(18),d=n(u),s=function(){function e(){a(this,e),this.batch=null,this.operations=[]}return r(e,[{key:'addOperation',value:function(e){return e.delta=this,this.operations.push(e),e}},{key:'clone',value:function(){var e=new this.constructor,t=!0,o=!1,n;try{for(var a=this.operations[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,e.addOperation(l.clone())}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return e}},{key:'getReversed',value:function(){var e=new this._reverseDeltaClass,t=!0,o=!1,n;try{for(var a=this.operations[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,e.addOperation(l.getReversed())}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}e.operations.reverse();for(var u=0;u<e.operations.length;u++)e.operations[u].baseVersion=this.operations[this.operations.length-1].baseVersion+u+1;return e}},{key:'toJSON',value:function(){var e=(0,i.default)(this);return e.__className=this.constructor.className,delete e.batch,e}},{key:'baseVersion',get:function(){return 0<this.operations.length?this.operations[0].baseVersion:null},set:function(e){var t=!0,o=!1,n;try{for(var a=this.operations[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,l.baseVersion=e++}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}}},{key:'_reverseDeltaClass',get:function(){return e}}],[{key:'className',get:function(){return'engine.model.delta.Delta'}}]),e}();t.default=s,d.default.register(s)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o,n,r){var i=-1,d=e.length;for(o||(o=u.default),r||(r=[]);++i<d;){var s=e[i];0<t&&o(s)?1<t?a(s,t-1,o,n,r):(0,l.default)(r,s):!n&&(r[r.length]=s)}return r}Object.defineProperty(t,'__esModule',{value:!0});var r=o(85),l=n(r),i=o(369),u=n(i);t.default=a},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(8),s=n(d),f=o(5),c=n(f),p=o(462),_=n(p),m=o(463),g=n(m),y=o(27),b=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));o.set('label'),o.set('keystroke'),o.set('tooltip'),o.set('tooltipPosition','s'),o.set('type','button'),o.set('isOn',!1),o.set('isEnabled',!0),o.set('isVisible',!0),o.set('withText',!1),o.set('icon'),o.set('tabindex',-1),o.bind('_tooltipString').to(o,'tooltip',o,'label',o,'keystroke',o._getTooltipString.bind(o)),o.tooltipView=o._createTooltipView();var n=o.bindTemplate;return o.template=new c.default({tag:'button',attributes:{class:['ck-button',n.to('isEnabled',function(e){return e?'ck-enabled':'ck-disabled'}),n.if('isVisible','ck-hidden',function(e){return!e}),n.to('isOn',function(e){return e?'ck-on':'ck-off'}),n.if('withText','ck-button_with-text')],type:n.to('type',function(e){return e?e:'button'}),tabindex:n.to('tabindex')},children:[{tag:'span',attributes:{class:['ck-button__label']},children:[{text:n.to('label')}]},o.tooltipView],on:{mousedown:n.to(function(e){e.preventDefault()}),click:n.to(function(e){o.isEnabled?o.fire('execute'):e.preventDefault()})}}),o}return l(t,e),i(t,[{key:'init',value:function(){if(this.icon){var e=this.iconView=new _.default;e.bind('content').to(this,'icon'),this.element.insertBefore(e.element,this.element.firstChild),this.addChildren(e)}u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'init',this).call(this)}},{key:'focus',value:function(){this.element.focus()}},{key:'_createTooltipView',value:function(){var e=new g.default;return e.bind('text').to(this,'_tooltipString'),e.bind('position').to(this,'tooltipPosition'),e}},{key:'_getTooltipString',value:function(e,t,o){return e?'string'==typeof e?e:(o&&(o=(0,y.getEnvKeystrokeText)(o)),e instanceof Function?e(t,o):''+t+(o?' ('+o+')':'')):''}}]),t}(s.default);t.default=b},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},u=o(63),d=function(e){return e&&e.__esModule?e:{default:e}}(u),s=function(e){function t(e,o){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o));return r.data=e||'',r}return r(t,e),l(t,[{key:'is',value:function(e){return'text'==e}},{key:'clone',value:function(){return new t(this.data,this.getAttributes())}},{key:'toJSON',value:function(){var e=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'toJSON',this).call(this);return e.data=this.data,e}},{key:'offsetSize',get:function(){return this.data.length}}],[{key:'fromJSON',value:function(e){return new t(e.data,e.attributes)}}]),t}(d.default);t.default=s},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function l(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){var o=null,n=0,a=0,r=null;if(e.clear(),''!==t){';'!=t.charAt(t.length-1)&&(t+=';');for(var l=0,i;l<t.length;l++)if(i=t.charAt(l),null==o)switch(i){case':':r||(r=t.substr(n,l-n),a=l+1);break;case'"':case'\'':o=i;break;case';':var u=t.substr(a,l-a);r&&e.set(r.trim(),u.trim()),r=null,n=l+1;}else i===o&&(o=null)}}function d(e,t){var o=t.split(/\s+/);e.clear(),o.forEach(function(t){return e.add(t)})}function s(e){return'string'==typeof e?[new g.default(e)]:((0,v.default)(e)||(e=[e]),Array.from(e).map(function(e){return'string'==typeof e?new g.default(e):e}))}Object.defineProperty(t,'__esModule',{value:!0});var f=function(){function e(e,t){var o=[],n=!0,a=!1,r;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),c=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),p=o(80),_=n(p),m=o(33),g=n(m),y=o(163),b=n(y),h=o(32),v=n(h),k=o(73),P=n(k),w=o(174),x=n(w),M=function(e){function t(e,o,n){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(a.name=e,a._attrs=(0,P.default)(o)?(0,b.default)(o):new Map(o),a._children=[],n&&a.insertChildren(0,n),a._classes=new Set,a._attrs.has('class')){var i=a._attrs.get('class');d(a._classes,i),a._attrs.delete('class')}return a._styles=new Map,a._attrs.has('style')&&(u(a._styles,a._attrs.get('style')),a._attrs.delete('style')),a._customProperties=new Map,a}return i(t,e),c(t,[{key:'is',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?'element'==e&&t==this.name:'element'==e||e==this.name}},{key:'clone',value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=[];if(e){var o=!0,n=!1,a;try{for(var r=this.getChildren()[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,t.push(i.clone(e))}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}var u=new this.constructor(this.name,this._attrs,t);return u._classes=new Set(this._classes),u._styles=new Map(this._styles),u._customProperties=new Map(this._customProperties),u.getFillerOffset=this.getFillerOffset,u}},{key:'appendChildren',value:function(e){return this.insertChildren(this.childCount,e)}},{key:'getChild',value:function(e){return this._children[e]}},{key:'getChildIndex',value:function(e){return this._children.indexOf(e)}},{key:'getChildren',value:function(){return this._children[Symbol.iterator]()}},{key:'getAttributeKeys',value:regeneratorRuntime.mark(function e(){var t,o,n,a,r,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0<this._classes.size)){e.next=3;break}return e.next=3,'class';case 3:if(!(0<this._styles.size)){e.next=6;break}return e.next=6,'style';case 6:t=!0,o=!1,n=void 0,e.prev=9,a=this._attrs.keys()[Symbol.iterator]();case 11:if(t=(r=a.next()).done){e.next=18;break}return l=r.value,e.next=15,l;case 15:t=!0,e.next=11;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e['catch'](9),o=!0,n=e.t0;case 24:e.prev=24,e.prev=25,!t&&a.return&&a.return();case 27:if(e.prev=27,!o){e.next=30;break}throw n;case 30:return e.finish(27);case 31:return e.finish(24);case 32:case'end':return e.stop();}},e,this,[[9,20,24,32],[25,,27,31]])})},{key:'getAttributes',value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._attrs.entries(),'t0',1);case 1:if(!(0<this._classes.size)){e.next=4;break}return e.next=4,['class',this.getAttribute('class')];case 4:if(!(0<this._styles.size)){e.next=7;break}return e.next=7,['style',this.getAttribute('style')];case 7:case'end':return e.stop();}},e,this)})},{key:'getAttribute',value:function(e){if('class'==e)return 0<this._classes.size?[].concat(a(this._classes)).join(' '):void 0;if('style'==e){if(0<this._styles.size){var t='',o=!0,n=!1,r;try{for(var l=this._styles[Symbol.iterator](),i;!(o=(i=l.next()).done);o=!0){var u=i.value,d=f(u,2),s=d[0],c=d[1];t+=s+':'+c+';'}}catch(e){n=!0,r=e}finally{try{!o&&l.return&&l.return()}finally{if(n)throw r}}return t}return}return this._attrs.get(e)}},{key:'hasAttribute',value:function(e){return'class'==e?0<this._classes.size:'style'==e?0<this._styles.size:this._attrs.has(e)}},{key:'setAttribute',value:function(e,t){this._fireChange('attributes',this),'class'==e?d(this._classes,t):'style'==e?u(this._styles,t):this._attrs.set(e,t)}},{key:'insertChildren',value:function(e,t){this._fireChange('children',this);var o=0;t=s(t);var n=!0,a=!1,r;try{for(var l=t[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,u.parent=this,this._children.splice(e,0,u),e++,o++}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return o}},{key:'removeAttribute',value:function(e){return this._fireChange('attributes',this),'class'==e?!!(0<this._classes.size)&&(this._classes.clear(),!0):'style'==e?!!(0<this._styles.size)&&(this._styles.clear(),!0):this._attrs.delete(e)}},{key:'removeChildren',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this._fireChange('children',this);for(var o=e;o<e+t;o++)this._children[o].parent=null;return this._children.splice(e,t)}},{key:'isSimilar',value:function(e){if(!(e instanceof t))return!1;if(this===e)return!0;if(this.name!=e.name)return!1;if(this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;var o=!0,n=!1,a;try{for(var r=this._attrs[Symbol.iterator](),l;!(o=(l=r.next()).done);o=!0){var i=l.value,u=f(i,2),d=u[0],s=u[1];if(!e._attrs.has(d)||e._attrs.get(d)!==s)return!1}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}var c=!0,p=!1,_;try{for(var m=this._classes[Symbol.iterator](),g,y;!(c=(g=m.next()).done);c=!0)if(y=g.value,!e._classes.has(y))return!1}catch(e){p=!0,_=e}finally{try{!c&&m.return&&m.return()}finally{if(p)throw _}}var b=!0,h=!1,v;try{for(var k=this._styles[Symbol.iterator](),P;!(b=(P=k.next()).done);b=!0){var w=P.value,x=f(w,2),M=x[0],C=x[1];if(!e._styles.has(M)||e._styles.get(M)!==C)return!1}}catch(e){h=!0,v=e}finally{try{!b&&k.return&&k.return()}finally{if(h)throw v}}return!0}},{key:'addClass',value:function(){var e=this;this._fireChange('attributes',this);for(var t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];o.forEach(function(t){return e._classes.add(t)})}},{key:'removeClass',value:function(){var e=this;this._fireChange('attributes',this);for(var t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];o.forEach(function(t){return e._classes.delete(t)})}},{key:'hasClass',value:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=!0,a=!1,r;try{for(var l=t[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)if(u=i.value,!this._classes.has(u))return!1}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return!0}},{key:'getClassNames',value:function(){return this._classes.keys()}},{key:'setStyle',value:function(e,t){if(this._fireChange('attributes',this),(0,P.default)(e)){var o=Object.keys(e),n=!0,a=!1,r;try{for(var l=o[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,this._styles.set(u,e[u])}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}}else this._styles.set(e,t)}},{key:'getStyle',value:function(e){return this._styles.get(e)}},{key:'getStyleNames',value:function(){return this._styles.keys()}},{key:'hasStyle',value:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=!0,a=!1,r;try{for(var l=t[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)if(u=i.value,!this._styles.has(u))return!1}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return!0}},{key:'removeStyle',value:function(){var e=this;this._fireChange('attributes',this);for(var t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];o.forEach(function(t){return e._styles.delete(t)})}},{key:'findAncestor',value:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];for(var n=new(Function.prototype.bind.apply(x.default,[null].concat(t))),a=this.parent;a;){if(n.match(a))return a;a=a.parent}return null}},{key:'setCustomProperty',value:function(e,t){this._customProperties.set(e,t)}},{key:'getCustomProperty',value:function(e){return this._customProperties.get(e)}},{key:'removeCustomProperty',value:function(e){return this._customProperties.delete(e)}},{key:'getCustomProperties',value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._customProperties.entries(),'t0',1);case 1:case'end':return e.stop();}},e,this)})},{key:'getIdentity',value:function(){var e=Array.from(this._classes).sort().join(','),t=Array.from(this._styles).map(function(e){return e[0]+':'+e[1]}).sort().join(';'),o=Array.from(this._attrs).map(function(e){return e[0]+'="'+e[1]+'"'}).sort().join(' ');return this.name+(''==e?'':' class="'+e+'"')+(''==t?'':' style="'+t+'"')+(''==o?'':' '+o)}},{key:'childCount',get:function(){return this._children.length}},{key:'isEmpty',get:function(){return 0===this._children.length}}]),t}(_.default);t.default=M},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t;if('string'!=typeof e)t=e.keyCode+(e.altKey?s.alt:0)+(e.ctrlKey?s.ctrl:0)+(e.shiftKey?s.shift:0);else if(t=s[e.toLowerCase()],!t)throw new i.default('keyboard-unknown-key: Unknown key name.',{key:e});return t}function r(e){return e.split(/\s*\+\s*/)}Object.defineProperty(t,'__esModule',{value:!0}),t.keyCodes=void 0,t.getCode=a,t.parseKeystroke=function(e){return'string'==typeof e&&(e=r(e)),e.map(function(e){return'string'==typeof e?a(e):e}).reduce(function(e,t){return t+e},0)},t.getEnvKeystrokeText=function(e){var t=r(e);return d.default.mac&&'ctrl'==t[0].toLowerCase()?'\u2318'+(t[1]||''):e};var l=o(0),i=n(l),u=o(347),d=n(u),s=t.keyCodes=function(){for(var e={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448},t=65,o;90>=t;t++)o=String.fromCharCode(t),e[o.toLowerCase()]=t;for(var n=48;57>=n;n++)e[n-48]=n;for(var a=112;123>=a;a++)e['f'+(a-111)]=a;return e}()},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(40),d=n(u),s=o(1),f=n(s),c=o(2),p=n(c),_=o(0),m=n(_),g=o(55),y=n(g),b=o(21),h=n(b),v=function(e){function t(e,o,n,l){a(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l));return i.sourcePosition=f.default.createFromPosition(e),i.howMany=o,i.targetPosition=f.default.createFromPosition(n),i.isSticky=!1,i}return l(t,e),i(t,[{key:'clone',value:function(){var e=new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion);return e.isSticky=this.isSticky,e}},{key:'getMovedRangeStart',value:function(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}},{key:'getReversed',value:function(){var e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany),t=new this.constructor(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1);return t.isSticky=this.isSticky,t}},{key:'_execute',value:function(){var e=this.sourcePosition.parent,t=this.targetPosition.parent,o=this.sourcePosition.offset,n=this.targetPosition.offset;if(!e||!t)throw new m.default('move-operation-position-invalid: Source position or target position is invalid.');else if(o+this.howMany>e.maxOffset)throw new m.default('move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.');else if(e===t&&o<n&&n<o+this.howMany)throw new m.default('move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.');else if(this.sourcePosition.root==this.targetPosition.root&&'prefix'==(0,y.default)(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){var a=this.sourcePosition.path.length-1;if(this.targetPosition.path[a]>=o&&this.targetPosition.path[a]<o+this.howMany)throw new m.default('move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.')}var r=h.default.move(p.default.createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition);return{sourcePosition:this.sourcePosition,range:r}}},{key:'type',get:function(){return'move'}}],[{key:'fromJSON',value:function(e,t){var o=f.default.fromJSON(e.sourcePosition,t),n=f.default.fromJSON(e.targetPosition,t),a=new this(o,e.howMany,n,e.baseVersion);return e.isSticky&&(a.isSticky=!0),a}},{key:'className',get:function(){return'engine.model.operation.MoveOperation'}}]),t}(d.default);t.default=v},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){for(var o=-1,n=e.length,a=Array(n);++o<n;)a[o]=t(e[o],o,e);return a}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});t.default={error:function(e,t){console.error(e,t)},warn:function(e,t){console.warn(e,t)}}},function(e,t,o){'use strict';(function(e,n){Object.defineProperty(t,'__esModule',{value:!0});var a='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},r=o(297),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i={function:!0,object:!0},u=i[a(t)]&&t&&!t.nodeType?t:void 0,d=i[a(e)]&&e&&!e.nodeType?e:void 0,s=(0,l.default)(u&&d&&'object'==('undefined'==typeof n?'undefined':a(n))&&n),f=(0,l.default)(i['undefined'==typeof self?'undefined':a(self)]&&self),c=(0,l.default)(i['undefined'==typeof window?'undefined':a(window)]&&window),p=(0,l.default)(i[a(void 0)]&&void 0),_=s||c!==(p&&p.window)&&c||f||p||Function('return this')();t.default=_}).call(t,o(110)(e),o(296))},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return!!(e&&e[Symbol.iterator])}},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(80),u=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._data=e,o}return r(t,e),l(t,[{key:'clone',value:function(){return new t(this.data)}},{key:'is',value:function(e){return'text'==e}},{key:'isSimilar',value:function(e){return!!(e instanceof t)&&(this===e||this.data===e.data)}},{key:'data',get:function(){return this._data},set:function(e){this._fireChange('text',this),this._data=e}}]),t}(u.default);t.default=d},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default={window:window,document:document}},function(e){'use strict';function t(e,t){var n=e[1]||'',a=e[3];if(!a)return n;if(t&&'function'==typeof btoa){var r=o(a),l=a.sources.map(function(e){return'/*# sourceURL='+a.sourceRoot+e+' */'});return[n].concat(l).concat([r]).join('\n')}return[n].join('\n')}function o(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e))));return'/*# '+('sourceMappingURL=data:application/json;charset=utf-8;base64,'+t)+' */'}e.exports=function(e){var o=[];return o.toString=function(){return this.map(function(o){var n=t(o,e);return o[2]?'@media '+o[2]+'{'+n+'}':n}).join('')},o.i=function(e,t){'string'==typeof e&&(e=[[null,e,'']]);for(var n={},a=0,r;a<this.length;a++)r=this[a][0],'number'==typeof r&&(n[r]=!0);for(a=0;a<e.length;a++){var l=e[a];'number'==typeof l[0]&&n[l[0]]||(t&&!l[2]?l[2]=t:t&&(l[2]='('+l[2]+') and ('+t+')'),o.push(l))}},o}},function(e,t,o){function n(e,t){for(var o=0;o<e.length;o++){var n=e[o],a=_[n.id];if(a){a.refs++;for(var r=0;r<a.parts.length;r++)a.parts[r](n.parts[r]);for(;r<n.parts.length;r++)a.parts.push(s(n.parts[r],t))}else{for(var l=[],r=0;r<n.parts.length;r++)l.push(s(n.parts[r],t));_[n.id]={id:n.id,refs:1,parts:l}}}}function a(e,t){for(var o=[],n={},a=0;a<e.length;a++){var r=e[a],l=t.base?r[0]+t.base:r[0],i=r[1],u=r[2],d=r[3],s={css:i,media:u,sourceMap:d};n[l]?n[l].parts.push(s):o.push(n[l]={id:l,parts:[s]})}return o}function r(e,t){var o=g(e.insertInto);if(!o)throw new Error('Couldn\'t find a style target. This probably means that the value for the \'insertInto\' parameter is invalid.');var n=h[h.length-1];if('top'===e.insertAt)n?n.nextSibling?o.insertBefore(t,n.nextSibling):o.appendChild(t):o.insertBefore(t,o.firstChild),h.push(t);else if('bottom'===e.insertAt)o.appendChild(t);else throw new Error('Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.')}function l(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=h.indexOf(e);0<=t&&h.splice(t,1)}function i(e){var t=document.createElement('style');return e.attrs.type='text/css',d(t,e.attrs),r(e,t),t}function u(e){var t=document.createElement('link');return e.attrs.type='text/css',e.attrs.rel='stylesheet',d(t,e.attrs),r(e,t),t}function d(e,t){Object.keys(t).forEach(function(o){e.setAttribute(o,t[o])})}function s(e,t){var o,n,a,r;if(t.transform&&e.css)if(r=t.transform(e.css),r)e.css=r;else return function(){};if(t.singleton){var d=b++;o=y||(y=i(t)),n=f.bind(null,o,d,!1),a=f.bind(null,o,d,!0)}else e.sourceMap&&'function'==typeof URL&&'function'==typeof URL.createObjectURL&&'function'==typeof URL.revokeObjectURL&&'function'==typeof Blob&&'function'==typeof btoa?(o=u(t),n=p.bind(null,o,t),a=function(){l(o),o.href&&URL.revokeObjectURL(o.href)}):(o=i(t),n=c.bind(null,o),a=function(){l(o)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else a()}}function f(e,t,o,n){var a=o?'':n.css;if(e.styleSheet)e.styleSheet.cssText=k(t,a);else{var r=document.createTextNode(a),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(r,l[t]):e.appendChild(r)}}function c(e,t){var o=t.css,n=t.media;if(n&&e.setAttribute('media',n),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}function p(e,t,o){var n=o.css,a=o.sourceMap,r=t.convertToAbsoluteUrls===void 0&&a;(t.convertToAbsoluteUrls||r)&&(n=v(n)),a&&(n+='\n/*# sourceMappingURL=data:application/json;base64,'+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+' */');var l=new Blob([n],{type:'text/css'}),i=e.href;e.href=URL.createObjectURL(l),i&&URL.revokeObjectURL(i)}var _={},m=function(e){var t;return function(){return'undefined'==typeof t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),g=function(e){var t={};return function(o){return'undefined'==typeof t[o]&&(t[o]=e.call(this,o)),t[o]}}(function(e){return document.querySelector(e)}),y=null,b=0,h=[],v=o(440);e.exports=function(e,t){if('undefined'!=typeof DEBUG&&DEBUG&&'object'!=typeof document)throw new Error('The style-loader cannot be used in a non-browser environment');t=t||{},t.attrs='object'==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto='head'),t.insertAt||(t.insertAt='bottom');var o=a(e,t);return n(o,t),function(e){for(var r=[],l=0;l<o.length;l++){var i=o[l],u=_[i.id];u.refs--,r.push(u)}if(e){var d=a(e,t);n(d,t)}for(var l=0,u;l<r.length;l++)if(u=r[l],0===u.refs){for(var s=0;s<u.parts.length;s++)u.parts[s]();delete _[u.id]}}};var k=function(){var e=[];return function(t,o){return e[t]=o,e.filter(Boolean).join('\n')}}()},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=/^(?:0|[1-9]\d*)$/;t.default=function(e,t){return t=null==t?9007199254740991:t,!!t&&('number'==typeof e||o.test(e))&&-1<e&&0==e%1&&e<t}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e){return e.item.is('attributeElement')||e.item.is('uiElement')}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(20),u=n(i),d=o(65),s=n(d),f=function(){function e(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;a(this,e),this.start=u.default.createFromPosition(t),this.end=o?u.default.createFromPosition(o):u.default.createFromPosition(t)}return l(e,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(new s.default({boundaries:this,ignoreElementEnd:!0}),'t0',1);case 1:case'end':return e.stop();}},e,this)})},{key:'getEnlarged',value:function(){var t=this.start.getLastMatchingPosition(r,{direction:'backward'}),o=this.end.getLastMatchingPosition(r);return t.parent.is('text')&&t.isAtStart&&(t=u.default.createBefore(t.parent)),o.parent.is('text')&&o.isAtEnd&&(o=u.default.createAfter(o.parent)),new e(t,o)}},{key:'getTrimmed',value:function(){var t=this.start.getLastMatchingPosition(r);if(t.isAfter(this.end)||t.isEqual(this.end))return new e(t,t);var o=this.end.getLastMatchingPosition(r,{direction:'backward'}),n=t.nodeAfter,a=o.nodeBefore;return n&&n.is('text')&&(t=new u.default(n,0)),a&&a.is('text')&&(o=new u.default(a,a.data.length)),new e(t,o)}},{key:'isEqual',value:function(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:'containsPosition',value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:'containsRange',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];e.isCollapsed&&(t=!1);var o=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),n=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return o&&n}},{key:'getDifference',value:function(t){var o=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&o.push(new e(this.start,t.start)),this.containsPosition(t.end)&&o.push(new e(t.end,this.end))):o.push(e.createFromRange(this)),o}},{key:'getIntersection',value:function(t){if(this.isIntersecting(t)){var o=this.start,n=this.end;return this.containsPosition(t.start)&&(o=t.start),this.containsPosition(t.end)&&(n=t.end),new e(o,n)}return null}},{key:'getWalker',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new s.default(e)}},{key:'getCommonAncestor',value:function(){return this.start.getCommonAncestor(this.end)}},{key:'getItems',value:regeneratorRuntime.mark(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o,n,a,r,l,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.boundaries=this,t.ignoreElementEnd=!0,o=new s.default(t),n=!0,a=!1,r=void 0,e.prev=6,l=o[Symbol.iterator]();case 8:if(n=(i=l.next()).done){e.next=15;break}return u=i.value,e.next=12,u.item;case 12:n=!0,e.next=8;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e['catch'](6),a=!0,r=e.t0;case 21:e.prev=21,e.prev=22,!n&&l.return&&l.return();case 24:if(e.prev=24,!a){e.next=27;break}throw r;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case'end':return e.stop();}},e,this,[[6,17,21,29],[22,,24,28]])})},{key:'getPositions',value:regeneratorRuntime.mark(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o,n,a,r,l,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.boundaries=this,o=new s.default(t),e.next=4,o.position;case 4:n=!0,a=!1,r=void 0,e.prev=7,l=o[Symbol.iterator]();case 9:if(n=(i=l.next()).done){e.next=16;break}return u=i.value,e.next=13,u.nextPosition;case 13:n=!0,e.next=9;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e['catch'](7),a=!0,r=e.t0;case 22:e.prev=22,e.prev=23,!n&&l.return&&l.return();case 25:if(e.prev=25,!a){e.next=28;break}throw r;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case'end':return e.stop();}},e,this,[[7,18,22,30],[23,,25,29]])})},{key:'isIntersecting',value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}},{key:'isCollapsed',get:function(){return this.start.isEqual(this.end)}},{key:'isFlat',get:function(){return this.start.parent===this.end.parent}},{key:'root',get:function(){return this.start.root}}],[{key:'createFromParentsAndOffsets',value:function(e,t,o,n){return new this(new u.default(e,t),new u.default(o,n))}},{key:'createFromRange',value:function(e){return new this(e.start,e.end)}},{key:'createFromPositionAndShift',value:function(e,t){var o=e,n=e.getShiftedBy(t);return 0<t?new this(o,n):new this(n,o)}},{key:'createIn',value:function(e){return this.createFromParentsAndOffsets(e,0,e,e.childCount)}},{key:'createOn',value:function(e){return this.createFromPositionAndShift(u.default.createBefore(e),1)}},{key:'createCollapsedAt',value:function(t,o){var n=u.default.createAt(t,o),a=u.default.createFromPosition(n);return new e(n,a)}}]),e}();t.default=f},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e){return'string'==typeof e?[new c.default(e)]:((0,_.default)(e)||(e=[e]),Array.from(e).map(function(e){return'string'==typeof e?new c.default(e):e}))}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(79),u=n(i),d=o(6),s=n(d),f=o(25),c=n(f),p=o(32),_=n(p),m=function(){function e(t){a(this,e),this.markers=new Map,this._children=new u.default,t&&this.insertChildren(0,t)}return l(e,[{key:Symbol.iterator,value:function(){return this.getChildren()}},{key:'is',value:function(e){return'documentFragment'==e}},{key:'getChild',value:function(e){return this._children.getNode(e)}},{key:'getChildren',value:function(){return this._children[Symbol.iterator]()}},{key:'getChildIndex',value:function(e){return this._children.getNodeIndex(e)}},{key:'getChildStartOffset',value:function(e){return this._children.getNodeStartOffset(e)}},{key:'getPath',value:function(){return[]}},{key:'getNodeByPath',value:function(e){var t=this,o=!0,n=!1,a;try{for(var r=e[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,t=t.getChild(t.offsetToIndex(i))}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}return t}},{key:'offsetToIndex',value:function(e){return this._children.offsetToIndex(e)}},{key:'appendChildren',value:function(e){this.insertChildren(this.childCount,e)}},{key:'insertChildren',value:function(e,t){t=r(t);var o=!0,n=!1,a;try{for(var l=t[Symbol.iterator](),i,u;!(o=(i=l.next()).done);o=!0)u=i.value,u.parent=this}catch(e){n=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(n)throw a}}this._children.insertNodes(e,t)}},{key:'removeChildren',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,o=this._children.removeNodes(e,t),n=!0,a=!1,r;try{for(var l=o[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,u.parent=null}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return o}},{key:'toJSON',value:function(){var e=[],t=!0,o=!1,n;try{for(var a=this._children[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,e.push(l.toJSON())}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return e}},{key:'childCount',get:function(){return this._children.length}},{key:'maxOffset',get:function(){return this._children.maxOffset}},{key:'isEmpty',get:function(){return 0===this.childCount}},{key:'root',get:function(){return this}},{key:'parent',get:function(){return null}}],[{key:'fromJSON',value:function(t){var o=[],n=!0,a=!1,r;try{for(var l=t[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,u.name?o.push(s.default.fromJSON(u)):o.push(c.default.fromJSON(u))}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return new e(o)}}]),e}();t.default=m},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(66),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(){function e(t){n(this,e),this.baseVersion=t}return a(e,[{key:'toJSON',value:function(){var e=(0,l.default)(this,!0);return e.__className=this.constructor.className,delete e.delta,e}}],[{key:'fromJSON',value:function(e){return new this(e.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.Operation'}}]),e}();t.default=i},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(28),d=n(u),s=o(94),f=n(s),c=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'getReversed',value:function(){var e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new f.default(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}},{key:'type',get:function(){return'remove'}}],[{key:'className',get:function(){return'engine.model.operation.RemoveOperation'}}]),t}(d.default);t.default=c},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o){var n=-1,a=e.length;0>t&&(t=-t>a?0:a+t),o=o>a?a:o,0>o&&(o+=a),a=t>o?0:o-t>>>0,t>>>=0;for(var r=Array(a);++n<a;)r[n]=e[n+t];return r}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t,o,n){if((0,b.default)(e)){var a=!0,l=!1,i;try{for(var u=e[Symbol.iterator](),d,s;!(a=(d=u.next()).done);a=!0)s=d.value,r(s,t,o,n)}catch(e){l=!0,i=e}finally{try{!a&&u.return&&u.return()}finally{if(l)throw i}}return}var f=Array.from(e.getAttributeKeys());f.push(t.key);var c={name:e.name||'$text',attributes:f,inside:o.context};n.schema.check(c)&&e.setAttribute(t.key,t.value)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();t.default=function(){return new h};var i=o(174),u=n(i),d=o(6),s=n(d),f=o(1),c=n(f),p=o(21),_=n(p),m=o(0),g=n(m),y=o(32),b=n(y),h=function(){function e(){a(this,e),this._dispatchers=[],this._from=[]}return l(e,[{key:'for',value:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return this._dispatchers=t,this}},{key:'fromElement',value:function(e){return this.from({name:e})}},{key:'fromAttribute',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:/.*/,o={};'style'===e||'class'===e?o[e]=t:(o.attribute={},o.attribute[e]=t);var n=new u.default(o);return this._from.push({matcher:n,consume:!1,priority:null,attributeKey:e}),this}},{key:'from',value:function(e){return e instanceof u.default||(e=new u.default(e)),this._from.push({matcher:e,consume:!1,priority:null}),this}},{key:'consuming',value:function(e){var t=this._from[this._from.length-1];return t.consume=e,this}},{key:'withPriority',value:function(e){var t=this._from[this._from.length-1];return t.priority=e,this}},{key:'toElement',value:function(e){this._setCallback(function(t){return function(o,n,a,r){var l=t.matcher.matchAll(n.input);if(l){var i=!0,u=!1,d;try{for(var f=l[Symbol.iterator](),p;!(i=(p=f.next()).done);i=!0){var m=p.value,g=e instanceof Function?e(n.input):new s.default(e);if(g){var y=Array.from(g.getAttributeKeys());if(r.schema.check({name:g.name,attributes:y,inside:n.context})&&a.consume(n.input,t.consume||m.match)){n.context.push(g);var b=r.convertChildren(n.input,a,n),h=c.default.createAt(g,'end');_.default.insert(h,b),n.context.pop(),n.output=g;break}}}}catch(e){u=!0,d=e}finally{try{!i&&f.return&&f.return()}finally{if(u)throw d}}}}},'normal')}},{key:'toAttribute',value:function(e,t){this._setCallback(function(o){return function(n,a,l,i){var u=o.matcher.matchAll(a.input);if(u){var d=!0,s=!1,f;try{for(var c=u[Symbol.iterator](),p,_;!(d=(p=c.next()).done);d=!0)if(_=p.value,!!l.consume(a.input,o.consume||_.match)){a.output||(a.output=i.convertChildren(a.input,l,a));var m=void 0;if(!(e instanceof Function))m={key:e,value:t?t:a.input.getAttribute(o.attributeKey)};else if(m=e(a.input),!m)return;r(a.output,m,a,i);break}}catch(e){s=!0,f=e}finally{try{!d&&c.return&&c.return()}finally{if(s)throw f}}}}},'low')}},{key:'toMarker',value:function(e){this._setCallback(function(t){return function(o,n,a){var r=t.matcher.matchAll(n.input);if(r){var l;if(l=e instanceof Function?e(n.input):new s.default('$marker',{"data-name":n.input.getAttribute('data-name')}),'$marker'!=l.name||'string'!=typeof l.getAttribute('data-name'))throw new g.default('build-view-converter-invalid-marker: Invalid model element to mark marker range.');var i=!0,u=!1,d;try{for(var f=r[Symbol.iterator](),c,p;!(i=(c=f.next()).done);i=!0)if(p=c.value,!!a.consume(n.input,t.consume||p.match)){n.output=l;break}}catch(e){u=!0,d=e}finally{try{!i&&f.return&&f.return()}finally{if(u)throw d}}}}},'normal')}},{key:'_setCallback',value:function(e,t){var o=!0,n=!1,a;try{for(var r=this._from[Symbol.iterator](),l;!(o=(l=r.next()).done);o=!0){var i=l.value,u=i.matcher.getElementName(),d=u?'element:'+u:'element',s=e(i),f=null===i.priority?t:i.priority,c=!0,p=!1,_=void 0;try{for(var m=this._dispatchers[Symbol.iterator](),g,y;!(c=(g=m.next()).done);c=!0)y=g.value,y.on(d,s,{priority:f})}catch(e){p=!0,_=e}finally{try{!c&&m.return&&m.return()}finally{if(p)throw _}}}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}}]),e}()},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.toImageWidget=function(e,t){return e.setCustomProperty(l,!0),(0,n.toWidget)(e,{label:function(){var o=e.getChild(0),n=o.getAttribute('alt');return n?n+' '+t:t}})},t.isImageWidget=function(e){return!!e.getCustomProperty(l)&&(0,n.isWidget)(e)},t.isImage=function(e){return e instanceof r.default&&'image'==e.name};var n=o(156),a=o(6),r=function(e){return e&&e.__esModule?e:{default:e}}(a),l=Symbol('isImage')},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e};t.default=function(e){return!!e&&'object'==('undefined'==typeof e?'undefined':o(e))}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(289);Object.defineProperty(t,'default',{enumerable:!0,get:function(){return n(a).default}})},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},a=o(45),r=function(e){return e&&e.__esModule?e:{default:e}}(a),l=Object.prototype,i=l.toString;t.default=function(e){return'symbol'==('undefined'==typeof e?'undefined':n(e))||(0,r.default)(e)&&i.call(e)=='[object Symbol]'}},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){var e=!0,t=!1,o;try{for(var n=this.getChildren()[Symbol.iterator](),a,r;!(e=(a=n.next()).done);e=!0)if(r=a.value,!r.is('uiElement'))return null}catch(e){t=!0,o=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw o}}return this.childCount}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(26),s=function(e){return e&&e.__esModule?e:{default:e}}(d),f=function(e){function t(e,o,r){n(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o,r));return i.getFillerOffset=l,i}return r(t,e),i(t,[{key:'is',value:function(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return o?'containerElement'==e&&o==this.name||u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e,o):'containerElement'==e||u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e)}}]),t}(s.default);t.default=f},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function l(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(40),s=n(d),f=o(1),c=n(f),p=o(79),_=n(p),m=o(41),g=n(m),y=o(21),b=o(25),h=n(b),v=o(6),k=n(v),P=function(e){function t(e,o,n){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return a.position=c.default.createFromPosition(e),a.nodes=new _.default((0,y.normalizeNodes)(o)),a}return i(t,e),u(t,[{key:'clone',value:function(){var e=new _.default([].concat(a(this.nodes)).map(function(e){return e.clone(!0)}));return new t(this.position,e,this.baseVersion)}},{key:'getReversed',value:function(){var e=this.position.root.document.graveyard,t=new c.default(e,[0]);return new g.default(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}},{key:'_execute',value:function(){var e=this.nodes;this.nodes=new _.default([].concat(a(e)).map(function(e){return e.clone(!0)}));var t=(0,y.insert)(this.position,e);return{range:t}}},{key:'type',get:function(){return'insert'}}],[{key:'fromJSON',value:function(e,o){var n=[],a=!0,r=!1,l;try{for(var i=e.nodes[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,d.name?n.push(k.default.fromJSON(d)):n.push(h.default.fromJSON(d))}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}return new t(c.default.fromJSON(e.position,o),n,e.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.InsertOperation'}}]),t}(s.default);t.default=P},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(93),r=n(a),l=o(132),i=n(l),u=o(134),d=n(u),s=o(136),f=n(s),c=o(395),p=n(c),_=o(86),m=n(_);t.default=function(e,t,o){var n=-1,a=i.default,l=e.length,u=!0,s=[],c=s;if(o)u=!1,a=d.default;else if(l>=200){var _=t?null:(0,p.default)(e);if(_)return(0,m.default)(_);u=!1,a=f.default,c=new r.default}else c=t?[]:s;outer:for(;++n<l;){var g=e[n],y=t?t(g):g;if(g=o||0!==g?g:0,u&&y===y){for(var b=c.length;b--;)if(c[b]===y)continue outer;t&&c.push(y),s.push(g)}else a(c,y,o)||(c!==s&&c.push(y),s.push(g))}return s}},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(107),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i=o(27),u=function(){function e(){n(this,e),this._listener=Object.create(l.default)}return a(e,[{key:'listenTo',value:function(e){var t=this;this._listener.listenTo(e,'keydown',function(e,o){t._listener.fire('_keydown:'+(0,i.getCode)(o),o)})}},{key:'set',value:function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=(0,i.parseKeystroke)(e),a=o.priority;this._listener.listenTo(this._listener,'_keydown:'+n,function(e,o){t(o,function(){o.preventDefault(),o.stopPropagation(),e.stop()}),e.return=!0},{priority:a})}},{key:'press',value:function(e){return!!this._listener.fire('_keydown:'+(0,i.getCode)(e),e)}},{key:'destroy',value:function(){this._listener.stopListening()}}]),e}();t.default=u},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();t.default=function(){return new g};var l=o(88),i=o(257),u=o(89),d=n(u),s=o(48),f=n(s),c=o(124),p=n(c),_=o(0),m=n(_),g=function(){function e(){a(this,e),this._dispatchers=[],this._from=null}return r(e,[{key:'for',value:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return this._dispatchers=t,this}},{key:'fromElement',value:function(e){return this._from={type:'element',name:e,priority:null},this}},{key:'fromAttribute',value:function(e){return this._from={type:'attribute',key:e,priority:null},this}},{key:'fromMarker',value:function(e){return this._from={type:'marker',name:e,priority:null},this}},{key:'withPriority',value:function(e){return this._from.priority=e,this}},{key:'toElement',value:function(e){var t=null===this._from.priority?'normal':this._from.priority,o=!0,n=!1,a;try{for(var r=this._dispatchers[Symbol.iterator](),u,s;!(o=(u=r.next()).done);o=!0)if(s=u.value,'element'==this._from.type)e='string'==typeof e?new f.default(e):e,s.on('insert:'+this._from.name,(0,l.insertElement)(e),{priority:t});else if('attribute'==this._from.type)e='string'==typeof e?new d.default(e):e,s.on('addAttribute:'+this._from.key,(0,l.wrapItem)(e),{priority:t}),s.on('changeAttribute:'+this._from.key,(0,l.wrapItem)(e),{priority:t}),s.on('removeAttribute:'+this._from.key,(0,l.unwrapItem)(e),{priority:t}),s.on('selectionAttribute:'+this._from.key,(0,i.convertSelectionAttribute)(e),{priority:t});else{var c=null===this._from.priority?'normal':this._from.priority;e='string'==typeof e?new p.default(e):e,s.on('addMarker:'+this._from.name,(0,l.insertUIElement)(e),{priority:c}),s.on('removeMarker:'+this._from.name,(0,l.removeUIElement)(e),{priority:c})}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}},{key:'toHighlight',value:function(e){var t=null===this._from.priority?'normal':this._from.priority;if('marker'!=this._from.type)throw new m.default('build-model-converter-non-marker-to-highlight: Conversion to highlight is supported only from model markers.');var o=!0,n=!1,a;try{for(var r=this._dispatchers[Symbol.iterator](),u,d;!(o=(u=r.next()).done);o=!0)d=u.value,d.on('addMarker:'+this._from.name,(0,l.highlightText)(e),{priority:t}),d.on('addMarker:'+this._from.name,(0,l.highlightElement)(e),{priority:t}),d.on('removeMarker:'+this._from.name,(0,l.highlightText)(e),{priority:t}),d.on('removeMarker:'+this._from.name,(0,l.highlightElement)(e),{priority:t}),d.on('selectionMarker:'+this._from.name,(0,i.convertSelectionMarker)(e),{priority:t})}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}},{key:'toAttribute',value:function(e,t){if('attribute'!=this._from.type)throw new m.default('build-model-converter-non-attribute-to-attribute: To-attribute conversion is supported only from model attributes.');var o=e?'string'==typeof e?t?function(){return{key:e,value:t}}:function(t){return{key:e,value:t}}:e:void 0;var n=!0,a=!1,r;try{for(var i=this._dispatchers[Symbol.iterator](),u;!(n=(u=i.next()).done);n=!0){var d=u.value,s={priority:this._from.priority||'normal'};d.on('addAttribute:'+this._from.key,(0,l.setAttribute)(o),s),d.on('changeAttribute:'+this._from.key,(0,l.setAttribute)(o),s),d.on('removeAttribute:'+this._from.key,(0,l.removeAttribute)(o),s)}}catch(e){a=!0,r=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw r}}}}]),e}()},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t,o,n,a){return{done:!1,value:{type:e,item:t,previousPosition:o,nextPosition:n,length:a}}}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(25),u=n(i),d=o(64),s=n(d),f=o(6),c=n(f),p=o(1),_=n(p),m=o(0),g=n(m),y=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(a(this,e),!t.boundaries&&!t.startPosition)throw new g.default('model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');var o=t.direction||'forward';if('forward'!=o&&'backward'!=o)throw new g.default('model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:o});this.direction=o,this.boundaries=t.boundaries||null,this.position=t.startPosition?_.default.createFromPosition(t.startPosition):_.default.createFromPosition(this.boundaries['backward'==this.direction?'end':'start']),this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}return l(e,[{key:Symbol.iterator,value:function(){return this}},{key:'skip',value:function(e){var t,o,n,a;do{n=this.position,a=this._visitedParent;var r=this.next();t=r.done,o=r.value}while(!t&&e(o));t||(this.position=n,this._visitedParent=a)}},{key:'next',value:function(){return'forward'==this.direction?this._next():this._previous()}},{key:'_next',value:function(){var e=this.position,t=_.default.createFromPosition(this.position),o=this._visitedParent;if(null===o.parent&&t.offset===o.maxOffset)return{done:!0};if(o===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};var n=t.textNode?t.textNode:t.nodeAfter;if(n instanceof c.default)return this.shallow?t.offset++:(t.path.push(0),this._visitedParent=n),this.position=t,r('elementStart',n,e,t,1);if(n instanceof u.default){var a;if(this.singleCharacters)a=1;else{var l=n.endOffset;this._boundaryEndParent==o&&this.boundaries.end.offset<l&&(l=this.boundaries.end.offset),a=l-t.offset}var i=t.offset-n.startOffset,d=new s.default(n,i,a);return t.offset+=a,this.position=t,r('text',d,e,t,a)}return t.path.pop(),t.offset++,this.position=t,this._visitedParent=o.parent,this.ignoreElementEnd?this._next():r('elementEnd',o,e,t)}},{key:'_previous',value:function(){var e=this.position,t=_.default.createFromPosition(this.position),o=this._visitedParent;if(null===o.parent&&0===t.offset)return{done:!0};if(o==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};var n=t.textNode?t.textNode:t.nodeBefore;if(n instanceof c.default)return t.offset--,this.shallow?(this.position=t,r('elementStart',n,e,t,1)):(t.path.push(n.maxOffset),this.position=t,this._visitedParent=n,this.ignoreElementEnd?this._previous():r('elementEnd',n,e,t));if(n instanceof u.default){var a;if(this.singleCharacters)a=1;else{var l=n.startOffset;this._boundaryStartParent==o&&this.boundaries.start.offset>l&&(l=this.boundaries.start.offset),a=t.offset-l}var i=t.offset-n.startOffset,d=new s.default(n,i-a,a);return t.offset-=a,this.position=t,r('text',d,e,t,a)}return t.path.pop(),this.position=t,this._visitedParent=o.parent,r('elementStart',o,e,t,1)}}]),e}();t.default=y},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){for(var o=n(e.length,t.length),a=0;a<o;a++)if(e[a]!=t[a])return a;return e.length==t.length?'same':e.length<t.length?'prefix':'extension'}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(165),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){var o=e[t];return(0,a.default)(o)?o:void 0}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},r=o(14),l=n(r),i=o(47),u=n(i),d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.default=function(e,t){if((0,l.default)(e))return!1;var o='undefined'==typeof e?'undefined':a(e);return'number'==o||'symbol'==o||'boolean'==o||null==e||(0,u.default)(e)||s.test(e)||!d.test(e)||null!=t&&e in Object(t)}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(47),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){if('string'==typeof e||(0,a.default)(e))return e;var t=e+'';return'0'==t&&1/e==-(1/0)?'-0':t}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(107),i=n(l),u=o(4),d=n(u),s=function(){function e(t){a(this,e),this.document=t,this.isEnabled=!1}return r(e,[{key:'enable',value:function(){this.isEnabled=!0}},{key:'disable',value:function(){this.isEnabled=!1}},{key:'destroy',value:function(){this.disable(),this.stopListening()}}]),e}();t.default=s,(0,d.default)(s,i.default)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=e.next();return t.done?null:t.value}},function(e,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(){for(var e='e',o=0;8>o;o++)e+=t(65536*(1+Math.random())).toString(16).substring(1);return e}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(53),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=Object.prototype,l=r.hasOwnProperty;t.default=function(e,t,o){var n=e[t];l.call(e,t)&&(0,a.default)(n,o)&&(o!==void 0||t in e)||(e[t]=o)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(117),u=n(i),d=o(0),s=n(d),f=function(){function e(t){r(this,e),this.parent=null,this._attrs=(0,u.default)(t)}return l(e,[{key:'clone',value:function(){return new e(this._attrs)}},{key:'getPath',value:function(){for(var e=[],t=this;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}},{key:'getAncestors',value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],o=e.includeSelf?this:this.parent;o;)t[e.parentFirst?'push':'unshift'](o),o=o.parent;return t}},{key:'getCommonAncestor',value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=this.getAncestors(t),n=e.getAncestors(t),a=0;o[a]==n[a]&&o[a];)a++;return 0==a?null:o[a-1]}},{key:'remove',value:function(){this.parent.removeChildren(this.index)}},{key:'hasAttribute',value:function(e){return this._attrs.has(e)}},{key:'getAttribute',value:function(e){return this._attrs.get(e)}},{key:'getAttributes',value:function(){return this._attrs.entries()}},{key:'getAttributeKeys',value:function(){return this._attrs.keys()}},{key:'setAttribute',value:function(e,t){this._attrs.set(e,t)}},{key:'setAttributesTo',value:function(e){this._attrs=(0,u.default)(e)}},{key:'removeAttribute',value:function(e){return this._attrs.delete(e)}},{key:'clearAttributes',value:function(){this._attrs.clear()}},{key:'toJSON',value:function(){var e={};return this._attrs.size&&(e.attributes=[].concat(a(this._attrs))),e}},{key:'index',get:function(){var e;if(!this.parent)return null;if(null===(e=this.parent.getChildIndex(this)))throw new s.default('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return e}},{key:'startOffset',get:function(){var e;if(!this.parent)return null;if(null===(e=this.parent.getChildStartOffset(this)))throw new s.default('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return e}},{key:'offsetSize',get:function(){return 1}},{key:'endOffset',get:function(){return this.parent?this.startOffset+this.offsetSize:null}},{key:'nextSibling',get:function(){var e=this.index;return null!==e&&this.parent.getChild(e+1)||null}},{key:'previousSibling',get:function(){var e=this.index;return null!==e&&this.parent.getChild(e-1)||null}},{key:'root',get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:'document',get:function(){return this.root==this?null:this.root.document||null}}]),e}();t.default=f},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(0),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(){function e(t,o,a){if(n(this,e),this.textNode=t,0>o||o>t.offsetSize)throw new l.default('model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>a||o+a>t.offsetSize)throw new l.default('model-textproxy-wrong-length: Given length value is incorrect.');this.data=t.data.substring(o,o+a),this.offsetInText=o}return a(e,[{key:'is',value:function(e){return'textProxy'==e}},{key:'getPath',value:function(){var e=this.textNode.getPath();return 0<e.length&&(e[e.length-1]+=this.offsetInText),e}},{key:'getAncestors',value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],o=e.includeSelf?this:this.parent;o;)t[e.parentFirst?'push':'unshift'](o),o=o.parent;return t}},{key:'hasAttribute',value:function(e){return this.textNode.hasAttribute(e)}},{key:'getAttribute',value:function(e){return this.textNode.getAttribute(e)}},{key:'getAttributes',value:function(){return this.textNode.getAttributes()}},{key:'getAttributeKeys',value:function(){return this.textNode.getAttributeKeys()}},{key:'startOffset',get:function(){return null===this.textNode.startOffset?null:this.textNode.startOffset+this.offsetInText}},{key:'offsetSize',get:function(){return this.data.length}},{key:'endOffset',get:function(){return null===this.startOffset?null:this.startOffset+this.offsetSize}},{key:'isPartial',get:function(){return this.offsetSize!==this.textNode.offsetSize}},{key:'parent',get:function(){return this.textNode.parent}},{key:'root',get:function(){return this.textNode.root}},{key:'document',get:function(){return this.textNode.document}}]),e}();t.default=i},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(26),i=n(l),u=o(33),d=n(u),s=o(345),f=n(s),c=o(20),p=n(c),_=o(0),m=n(_),g=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(a(this,e),!t.boundaries&&!t.startPosition)throw new m.default('view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');if(t.direction&&'forward'!=t.direction&&'backward'!=t.direction)throw new m.default('view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:t.direction});this.boundaries=t.boundaries||null,this.position=t.startPosition?p.default.createFromPosition(t.startPosition):p.default.createFromPosition(t.boundaries['backward'==t.direction?'end':'start']),this.direction=t.direction||'forward',this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}return r(e,[{key:Symbol.iterator,value:function(){return this}},{key:'skip',value:function(e){var t,o,n;do{n=this.position;var a=this.next();t=a.done,o=a.value}while(!t&&e(o));t||(this.position=n)}},{key:'next',value:function(){return'forward'==this.direction?this._next():this._previous()}},{key:'_next',value:function(){var e=p.default.createFromPosition(this.position),t=this.position,o=e.parent;if(null===o.parent&&e.offset===o.childCount)return{done:!0};if(o===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};var n;if(o instanceof d.default){if(e.isAtEnd)return this.position=p.default.createAfter(o),this._next();n=o.data[e.offset]}else n=o.getChild(e.offset);if(n instanceof i.default)return this.shallow?e.offset++:e=new p.default(n,0),this.position=e,this._formatReturnValue('elementStart',n,t,e,1);if(n instanceof d.default){if(this.singleCharacters)return e=new p.default(n,0),this.position=e,this._next();var a=n.data.length,r=n;return n==this._boundaryEndParent?(a=this.boundaries.end.offset,r=new f.default(n,0,a),e=p.default.createAfter(r)):e.offset++,this.position=e,this._formatReturnValue('text',r,t,e,a)}if('string'==typeof n){var l;if(this.singleCharacters)l=1;else{var u=o===this._boundaryEndParent?this.boundaries.end.offset:o.data.length;l=u-e.offset}var s=new f.default(o,e.offset,l);return e.offset+=l,this.position=e,this._formatReturnValue('text',s,t,e,l)}return e=p.default.createAfter(o),this.position=e,this.ignoreElementEnd?this._next():this._formatReturnValue('elementEnd',o,t,e)}},{key:'_previous',value:function(){var e=p.default.createFromPosition(this.position),t=this.position,o=e.parent;if(null===o.parent&&0===e.offset)return{done:!0};if(o==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};var n;if(o instanceof d.default){if(e.isAtStart)return this.position=p.default.createBefore(o),this._previous();n=o.data[e.offset-1]}else n=o.getChild(e.offset-1);if(n instanceof i.default)return this.shallow?(e.offset--,this.position=e,this._formatReturnValue('elementStart',n,t,e,1)):(e=new p.default(n,n.childCount),this.position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue('elementEnd',n,t,e));if(n instanceof d.default){if(this.singleCharacters)return e=new p.default(n,n.data.length),this.position=e,this._previous();var a=n.data.length,r=n;if(n==this._boundaryStartParent){var l=this.boundaries.start.offset;r=new f.default(n,l,n.data.length-l),a=r.data.length,e=p.default.createBefore(r)}else e.offset--;return this.position=e,this._formatReturnValue('text',r,t,e,a)}if('string'==typeof n){var u;if(!this.singleCharacters){var s=o===this._boundaryStartParent?this.boundaries.start.offset:0;u=e.offset-s}else u=1;e.offset-=u;var c=new f.default(o,e.offset,u);return this.position=e,this._formatReturnValue('text',c,t,e,u)}return e=p.default.createBefore(o),this.position=e,this._formatReturnValue('elementStart',o,t,e,1)}},{key:'_formatReturnValue',value:function(e,t,o,n,a){return t instanceof f.default&&(t.offsetInText+t.data.length==t.textNode.data.length&&('forward'!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?o=p.default.createAfter(t.textNode):(n=p.default.createAfter(t.textNode),this.position=n)),0===t.offsetInText&&('backward'!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?o=p.default.createBefore(t.textNode):(n=p.default.createBefore(t.textNode),this.position=n))),{done:!1,value:{type:e,item:t,previousPosition:o,nextPosition:n,length:a}}}}]),e}();t.default=g},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(164),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return(0,a.default)(e,!1,!0)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(168),r=n(a),l=o(323),i=n(l),u=o(160),d=n(u),s=o(76),f=n(s),c=o(37),p=n(c),_=o(78),m=n(_);t.default=function(e){var t=(0,m.default)(e);if(!(t||(0,f.default)(e)))return(0,i.default)(e);var o=(0,d.default)(e),n=o||[],a=n.length;for(var l in e)!(0,r.default)(e,l)||!!o&&('length'==l||(0,p.default)(l,a))||t&&'constructor'==l||n.push(l);return n}},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(40),u=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),l(t,[{key:'clone',value:function(){return new t(this.baseVersion)}},{key:'getReversed',value:function(){return new t(this.baseVersion+1)}},{key:'_execute',value:function(){return{}}},{key:'type',get:function(){return'noop'}}],[{key:'className',get:function(){return'engine.model.operation.NoOperation'}}]),t}(u.default);t.default=d},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(93),r=n(a),l=o(132),i=n(l),u=o(134),d=n(u),s=o(29),f=n(s),c=o(135),p=n(c),_=o(136),m=n(_);t.default=function(e,t,o,n){var a=-1,l=i.default,u=!0,s=e.length,c=[],_=t.length;if(!s)return c;o&&(t=(0,f.default)(t,(0,p.default)(o))),n?(l=d.default,u=!1):t.length>=200&&(l=m.default,u=!1,t=new r.default(t));outer:for(;++a<s;){var g=e[a],y=o?o(g):g;if(g=n||0!==g?g:0,u&&y===y){for(var b=_;b--;)if(t[b]===y)continue outer;c.push(g)}else l(t,y,n)||c.push(g)}return c}},function(e,t,o){'use strict';function n(e){return e instanceof Text&&e.data.substr(0,d)===s}function a(e,t){if(t.keyCode==r.keyCodes.arrowleft){var o=t.domTarget.ownerDocument.defaultView.getSelection();if(1==o.rangeCount&&o.getRangeAt(0).collapsed){var a=o.getRangeAt(0).startContainer,l=o.getRangeAt(0).startOffset;n(a)&&l<=d&&o.collapse(a,0)}}}Object.defineProperty(t,'__esModule',{value:!0}),t.INLINE_FILLER=t.INLINE_FILLER_LENGTH=t.NBSP_FILLER=t.BR_FILLER=void 0,t.startsWithFiller=n,t.isInlineFiller=function(e){return e.data.length==d&&n(e)},t.getDataWithoutFiller=function(e){return n(e)?e.data.slice(d):e.data},t.isBlockFiller=function(e,t){var o=i.get(t);return o||(o=t(window.document),i.set(t,o)),e.isEqualNode(o)},t.injectQuirksHandling=function(e){e.on('keydown',a)};for(var r=o(27),l=t.BR_FILLER=function(e){var t=e.createElement('br');return t.dataset.ckeFiller=!0,t},u=t.NBSP_FILLER=function(e){return e.createTextNode('\xA0')},d=t.INLINE_FILLER_LENGTH=7,s=t.INLINE_FILLER='',f=0;f<d;f++)t.INLINE_FILLER=s+='\u200B';var i=new WeakMap},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(59),d=n(u),s=o(151),f=n(s),c=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.useCapture=!1,o}return l(t,e),i(t,[{key:'observe',value:function(e){var t=this,o='string'==typeof this.domEventType?[this.domEventType]:this.domEventType;o.forEach(function(o){t.listenTo(e,o,function(e,o){t.isEnabled&&t.onDomEvent(o)},{useCapture:t.useCapture})})}},{key:'fire',value:function(e,t,o){this.isEnabled&&this.document.fire(e,new f.default(this.document,t,o))}}]),t}(d.default);t.default=c},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(107),i=n(l),u=o(15),d=n(u),s=o(0),f=n(s),c=o(4),p=n(c),_=function(){function e(){a(this,e),this.set('isFocused',!1),this.focusedElement=null,this._elements=new Set,this._nextEventLoopTimeout=null}return r(e,[{key:'add',value:function(e){var t=this;if(this._elements.has(e))throw new f.default('focusTracker-add-element-already-exist');this.listenTo(e,'focus',function(){return t._focus(e)},{useCapture:!0}),this.listenTo(e,'blur',function(){return t._blur()},{useCapture:!0}),this._elements.add(e)}},{key:'remove',value:function(e){e===this.focusedElement&&this._blur(e),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}},{key:'_focus',value:function(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}},{key:'_blur',value:function(){var e=this;clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(function(){e.focusedElement=null,e.isFocused=!1},0)}}]),e}();t.default=_,(0,p.default)(_,i.default),(0,p.default)(_,d.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(111),r=n(a),l=o(74),i=n(l),u=o(45),d=n(u),s=Object.prototype,f=Function.prototype.toString,c=s.hasOwnProperty,p=f.call(Object),_=s.toString;t.default=function(e){if(!(0,d.default)(e)||_.call(e)!='[object Object]'||(0,i.default)(e))return!1;var t=(0,r.default)(e);if(null===t)return!0;var o=c.call(t,'constructor')&&t.constructor;return'function'==typeof o&&o instanceof o&&f.call(o)==p}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=!1;if(null!=e&&'function'!=typeof e.toString)try{t=!!(e+'')}catch(t){}return t}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},r=o(53),l=n(r),i=o(76),u=n(i),d=o(37),s=n(d),f=o(16),c=n(f);t.default=function(e,t,o){if(!(0,c.default)(o))return!1;var n='undefined'==typeof t?'undefined':a(t);return!('number'==n?!((0,u.default)(o)&&(0,s.default)(t,o.length)):!('string'==n&&t in o))&&(0,l.default)(o[t],e)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(291),r=n(a),l=o(114),i=n(l),u=o(77),d=n(u);t.default=function(e){return null!=e&&(0,d.default)((0,r.default)(e))&&!(0,i.default)(e)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});t.default=function(e){return'number'==typeof e&&-1<e&&0==e%1&&e<=9007199254740991}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=Object.prototype;t.default=function(e){var t=e&&e.constructor,n='function'==typeof t&&t.prototype||o;return e===n}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(63),u=n(i),d=o(0),s=n(d),f=function(){function e(t){r(this,e),this._nodes=[],t&&this.insertNodes(0,t)}return l(e,[{key:Symbol.iterator,value:function(){return this._nodes[Symbol.iterator]()}},{key:'getNode',value:function(e){return this._nodes[e]||null}},{key:'getNodeIndex',value:function(e){var t=this._nodes.indexOf(e);return-1==t?null:t}},{key:'getNodeStartOffset',value:function(e){var t=this.getNodeIndex(e);return null===t?null:this._nodes.slice(0,t).reduce(function(e,t){return e+t.offsetSize},0)}},{key:'indexToOffset',value:function(e){if(e==this._nodes.length)return this.maxOffset;var t=this._nodes[e];if(!t)throw new s.default('model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.');return this.getNodeStartOffset(t)}},{key:'offsetToIndex',value:function(e){var t=0,o=!0,n=!1,a;try{for(var r=this._nodes[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0){if(i=l.value,e>=t&&e<t+i.offsetSize)return this.getNodeIndex(i);t+=i.offsetSize}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}if(t!=e)throw new s.default('model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.');return this.length}},{key:'insertNodes',value:function(e,t){var o=!0,n=!1,r,l;try{for(var i=t[Symbol.iterator](),d,f;!(o=(d=i.next()).done);o=!0)if(f=d.value,!(f instanceof u.default))throw new s.default('model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.')}catch(e){n=!0,l=e}finally{try{!o&&i.return&&i.return()}finally{if(n)throw l}}(r=this._nodes).splice.apply(r,[e,0].concat(a(t)))}},{key:'removeNodes',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return this._nodes.splice(e,t)}},{key:'toJSON',value:function(){return this._nodes.map(function(e){return e.toJSON()})}},{key:'length',get:function(){return this._nodes.length}},{key:'maxOffset',get:function(){return this._nodes.reduce(function(e,t){return e+t.offsetSize},0)}}]),e}();t.default=f},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(0),i=n(l),u=o(9),d=n(u),s=o(4),f=n(s),c=o(66),p=n(c),_=function(){function e(){a(this,e),this.parent=null}return r(e,[{key:'getAncestors',value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],o=e.includeSelf?this:this.parent;o;)t[e.parentFirst?'push':'unshift'](o),o=o.parent;return t}},{key:'getCommonAncestor',value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=this.getAncestors(t),n=e.getAncestors(t),a=0;o[a]==n[a]&&o[a];)a++;return 0==a?null:o[a-1]}},{key:'remove',value:function(){this.parent.removeChildren(this.index)}},{key:'_fireChange',value:function(e,t){this.fire('change:'+e,t),this.parent&&this.parent._fireChange(e,t)}},{key:'toJSON',value:function(){var e=(0,p.default)(this);return delete e.parent,e}},{key:'index',get:function(){var e;if(!this.parent)return null;if(-1==(e=this.parent.getChildIndex(this)))throw new i.default('view-node-not-found-in-parent: The node\'s parent does not contain this node.');return e}},{key:'nextSibling',get:function(){var e=this.index;return null!==e&&this.parent.getChild(e+1)||null}},{key:'previousSibling',get:function(){var e=this.index;return null!==e&&this.parent.getChild(e-1)||null}},{key:'root',get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:'document',get:function(){return this.parent instanceof e?this.parent.document:null}}]),e}();t.default=_,(0,f.default)(_,d.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}Object.defineProperty(t,'__esModule',{value:!0});var r=o(299),l=n(r),i=o(300),u=n(i),d=o(301),s=n(d),f=o(302),c=n(f),p=o(303),_=n(p);a.prototype.clear=l.default,a.prototype['delete']=u.default,a.prototype.get=s.default,a.prototype.has=c.default,a.prototype.set=_.default,t.default=a},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(53),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){for(var o=e.length;o--;)if((0,a.default)(e[o][0],t))return o;return-1}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(56),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=(0,a.default)(Object,'create');t.default=r},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(317),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){var o=e.__data__;return(0,a.default)(t)?o['string'==typeof t?'string':'hash']:o.map}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){for(var o=-1,n=t.length,a=e.length;++o<n;)e[a+o]=t[o];return e}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=-1,o=Array(e.size);return e.forEach(function(e){o[++t]=e}),o}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(48),d=n(u),s=o(0),f=n(s),c=o(4),p=n(c),_=o(15),m=n(_),g=Symbol('document'),y=function(e){function t(e,o,n){a(this,t);var l=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o,n));return l.set('isReadOnly',!1),l.set('isFocused',!1),l}return l(t,e),i(t,[{key:'document',get:function(){return this.getCustomProperty(g)},set:function(e){var t=this;if(this.getCustomProperty(g))throw new f.default('view-editableelement-document-already-set: View document is already set.');this.setCustomProperty(g,e),this.bind('isReadOnly').to(e),this.bind('isFocused').to(e,'isFocused',function(o){return o&&e.selection.editableElement==t}),this.listenTo(e,'render',function(){t.isFocused=e.isFocused&&e.selection.editableElement==t},{priority:'high'})}}]),t}(d.default);t.default=y,(0,p.default)(y,m.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e){var t=e.split(':');return t[0]+':'+t[1]}function l(e){var t=new f.default('span',e.attributes);if(e.class){var o=Array.isArray(e.class)?e.class:[e.class];t.addClass.apply(t,a(o))}return e.priority&&(t.priority=e.priority),t}function i(e,t){var o=new h.default({startPosition:e,singleCharacters:!0}),n=0,a=!0,r=!1,l;try{for(var i=o[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)if(d=u.value,'text'==d.type&&(n++,n==t))return o.position}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}}Object.defineProperty(t,'__esModule',{value:!0}),t.insertElement=function(e){return function(t,o,n,a){var r=e instanceof d.default?e.clone(!0):e(o,n,a);if(r&&n.consume(o.item,'insert')){var l=a.mapper.toViewPosition(o.range.start);a.mapper.bindElements(o.item,r),k.default.insert(l,r)}}},t.insertText=function(){return function(e,t,o,n){if(o.consume(t.item,'insert')){var a=n.mapper.toViewPosition(t.range.start),r=new p.default(t.item.data);k.default.insert(a,r)}}},t.insertUIElement=function(e){return function(t,o,n,a){var r,l;if(e instanceof d.default?(r=e.clone(!0),l=e.clone(!0)):(o.isOpening=!0,r=e(o,n,a),o.isOpening=!1,l=e(o,n,a)),r&&l){var i=o.markerRange,u=t.name;if(!i.isCollapsed||n.consume(i,u)){var s=!0,f=!1,c;try{for(var p=i[Symbol.iterator](),_,m;!(s=(_=p.next()).done);s=!0)if(m=_.value,!n.consume(m.item,u))return}catch(e){f=!0,c=e}finally{try{!s&&p.return&&p.return()}finally{if(f)throw c}}var g=a.mapper;k.default.insert(g.toViewPosition(i.start),r),i.isCollapsed||k.default.insert(g.toViewPosition(i.end),l)}}}},t.setAttribute=function(e){return e=e||function(e,t){return{value:e,key:t}},function(t,o,n,a){if(n.consume(o.item,r(t.name))){var l=e(o.attributeNewValue,o.attributeKey,o,n,a),i=l.key,u=l.value;a.mapper.toViewElement(o.item).setAttribute(i,u)}}},t.removeAttribute=function(e){return e=e||function(e,t){return{key:t}},function(t,o,n,a){if(n.consume(o.item,r(t.name))){var l=e(o.attributeOldValue,o.attributeKey,o,n,a),i=l.key;a.mapper.toViewElement(o.item).removeAttribute(i)}}},t.wrapItem=function(e){return function(t,o,n,a){var l=e instanceof d.default?e.clone(!0):e(o.attributeNewValue,o,n,a);if(l&&n.consume(o.item,r(t.name))){var i=a.mapper.toViewRange(o.range);if(null!==o.attributeOldValue&&!(e instanceof d.default)){var u=e(o.attributeOldValue,o,n,a);i=k.default.unwrap(i,u)}k.default.wrap(i,l)}}},t.unwrapItem=function(e){return function(t,o,n,a){var l=e instanceof d.default?e.clone(!0):e(o.attributeOldValue,o,n,a);if(l&&n.consume(o.item,r(t.name))){var i=a.mapper.toViewRange(o.range);k.default.unwrap(i,l)}}},t.remove=function(){return function(e,t,o,n){if(o.consume(t.item,'remove')){var a=n.mapper.toViewPosition(t.sourcePosition),r;if(t.item.is('element'))a=a.getLastMatchingPosition(function(e){return!e.item.is('containerElement')}),a.parent.is('text')&&a.isAtEnd&&(a=y.default.createAfter(a.parent)),r=m.default.createOn(a.nodeAfter);else{var l=i(a,t.item.offsetSize);r=new m.default(a,l)}k.default.remove(r.getTrimmed()),'$graveyard'==t.item.root.rootName&&n.mapper.unbindModelElement(t.item)}}},t.highlightText=function(e){return function(t,o,n,a){var r='function'==typeof e?e(o,n,a):e,i=o.item;if(r&&!o.markerRange.isCollapsed&&i.is('textProxy')&&n.consume(i,t.name)){var u=l(r),d=a.mapper.toViewRange(o.range);'addMarker'==t.name.split(':')[0]?k.default.wrap(d,u):k.default.unwrap(d,u)}}},t.highlightElement=function(e){return function(t,o,n,a){var r='function'==typeof e?e(o,n,a):e,l=o.item;if(r&&!o.markerRange.isCollapsed&&l.is('element')&&n.test(o.item,t.name)){r.priority||(r.priority=10),r.id||(r.id=o.markerName);var i=a.mapper.toViewElement(l),u='addMarker'==t.name.split(':')[0],d=u?'addHighlight':'removeHighlight';if(i&&i.getCustomProperty(d)){n.consume(o.item,t.name);var s=!0,f=!1,c;try{for(var p=w.default.createIn(l)[Symbol.iterator](),_,m;!(s=(_=p.next()).done);s=!0)m=_.value,n.consume(m.item,t.name)}catch(e){f=!0,c=e}finally{try{!s&&p.return&&p.return()}finally{if(f)throw c}}i.getCustomProperty(d)(i,r)}}}},t.removeUIElement=function(e){return function(t,o,n,a){var r,l;if(e instanceof d.default?(r=e.clone(!0),l=e.clone(!0)):(o.isOpening=!0,r=e(o,n,a),o.isOpening=!1,l=e(o,n,a)),r&&l){var i=o.markerRange,u=t.name;if(!i.isCollapsed||n.consume(i,u)){var s=!0,f=!1,c;try{for(var p=i[Symbol.iterator](),_,m;!(s=(_=p.next()).done);s=!0)if(m=_.value,!n.consume(m.item,u))return}catch(e){f=!0,c=e}finally{try{!s&&p.return&&p.return()}finally{if(f)throw c}}var g=a.mapper.toViewRange(i);k.default.clear(g.getEnlarged(),l),r.isSimilar(l)||k.default.clear(g.getEnlarged(),r)}}}},t.eventNameToConsumableType=r,t.highlightDescriptorToAttributeElement=l;var u=o(26),d=n(u),s=o(89),f=n(s),c=o(33),p=n(c),_=o(38),m=n(_),g=o(20),y=n(g),b=o(65),h=n(b),v=o(90),k=n(v),P=o(2),w=n(P)},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){if(i(this))return null;for(var e=this.parent;e&&e.is('attributeElement');){if(1<i(e))return null;e=e.parent}return!e||1<i(e)?null:this.childCount}function i(e){return Array.from(e.getChildren()).filter(function(e){return!e.is('uiElement')}).length}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},s=o(26),f=function(e){return e&&e.__esModule?e:{default:e}}(s),c=10,p=function(e){function t(e,o,r){n(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o,r));return i.priority=c,i.getFillerOffset=l,i}return r(t,e),u(t,[{key:'is',value:function(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return o?'attributeElement'==e&&o==this.name||d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e,o):'attributeElement'==e||d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e)}},{key:'clone',value:function(e){var o=d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'clone',this).call(this,e);return o.priority=this.priority,o}},{key:'isSimilar',value:function(e){return d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'isSimilar',this).call(this,e)&&this.priority==e.priority}}]),t}(f.default);t.default=p,p.DEFAULT_PRIORITY=c},function(t,o,n){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function l(e){return e instanceof V.default?v(e):h(e)}function i(e){var t=e.parent;if(!t.is('containerElement'))throw new J.default('view-writer-break-non-container-element: Trying to break an element which is not a container element.');if(!t.parent)throw new J.default('view-writer-break-root: Trying to break root element.');if(e.isAtStart)return V.default.createBefore(t);if(!e.isAtEnd){var o=t.clone(!1);s(V.default.createAfter(t),o);var n=new K.default(e,V.default.createAt(t,'end')),a=new V.default(o,0);p(n,a)}return V.default.createAfter(t)}function u(e){var t=e.offset,o=e.parent;if(o.is('text'))return e;if(o.is('attributeElement')&&0===o.childCount){var n=o.parent,a=o.index;return o.remove(),u(new V.default(n,a))}var r=o.getChild(t-1),l=o.getChild(t);if(!r||!l)return e;if(r.is('text')&&l.is('text'))return C(r,l);if(r.is('attributeElement')&&l.is('attributeElement')&&r.isSimilar(l)){var i=r.childCount;return r.appendChildren(l.getChildren()),l.remove(),u(new V.default(r,i))}return e}function d(e){var t=e.nodeBefore,o=e.nodeAfter;if(!t||!o||!t.is('containerElement')||!o.is('containerElement'))throw new J.default('view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.');var n=t.getChild(t.childCount-1),a=n instanceof H.default?V.default.createAt(n,'end'):V.default.createAt(t,'end');return p(K.default.createIn(o),V.default.createAt(t,'end')),f(K.default.createOn(o)),a}function s(e,t){t=(0,X.default)(t)?[].concat(r(t)):[t],S(t);var o=b(e);if(!o)throw new J.default('view-writer-invalid-position-container');var n=v(e,!0),a=o.insertChildren(n.offset,t),l=n.getShiftedBy(a),i=u(n);if(0===a)return new K.default(i,i);i.isEqual(n)||l.offset--;var d=u(l);return new K.default(i,d)}function f(e){if(R(e),e.isCollapsed)return new Q.default;var t=h(e,!0),o=t.start,n=t.end,a=o.parent,r=n.offset-o.offset,l=a.removeChildren(o.offset,r),i=u(o);return e.start=i,e.end=V.default.createFromPosition(i),new Q.default(l)}function c(e,t){R(e);var o=e.getWalker({direction:'backward',ignoreElementEnd:!0}),n=!0,a=!1,r;try{for(var l=o[Symbol.iterator](),i;!(n=(i=l.next()).done);n=!0){var u=i.value,d=u.item,s=void 0;if(d.is('element')&&t.isSimilar(d))s=K.default.createOn(d);else if(!u.nextPosition.isAfter(e.start)&&(d.is('text')||d.is('textProxy'))){var c=d.getAncestors().find(function(e){return e.is('element')&&t.isSimilar(e)});c&&(s=K.default.createIn(c))}s&&(s.end.isAfter(e.end)&&(s.end=e.end),s.start.isBefore(e.start)&&(s.start=e.start),f(s))}}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}}function p(e,t){var o;if(t.isAfter(e.end)){t=v(t,!0);var n=t.parent,a=n.childCount;e=h(e,!0),o=f(e),t.offset+=n.childCount-a}else o=f(e);return s(t,o)}function _(e,t){if(!(t instanceof D.default))throw new J.default('view-writer-wrap-invalid-attribute');if(R(e),e.isCollapsed)return e;if(e.end.isEqual(e.start.getShiftedBy(1))){var o=e.start.nodeAfter;if(o instanceof D.default&&O(t,o))return e}if(T(e)&&O(t,e.start.parent)){var n=e.start.parent.parent,a=e.start.parent.index;return K.default.createFromParentsAndOffsets(n,a,n,a+1)}var r=h(e,!0),l=r.start,i=r.end,d=l.parent,s=k(d,l.offset,i.offset,t),f=P(d,s.start.offset,s.end.offset,t),c=u(f.start);c.isEqual(f.start)||f.end.offset--;var p=u(f.end);return new K.default(c,p)}function m(t,o){if(!(o instanceof D.default))throw new J.default('view-writer-wrap-invalid-attribute');if(o.isSimilar(t.parent))return x(V.default.createFromPosition(t));t.parent.is('text')&&(t=M(t));var n=new D.default;n.priority=e,n.isSimilar=function(){return!1},t.parent.insertChildren(t.offset,n);var a=new K.default(t,t.getShiftedBy(1));_(a,o);var r=new V.default(n.parent,n.index);n.remove();var l=r.nodeBefore,i=r.nodeAfter;return l instanceof H.default&&i instanceof H.default?C(l,i):x(r)}function g(e,t){if(!(t instanceof D.default))throw new J.default('view-writer-unwrap-invalid-attribute');if(R(e),e.isCollapsed)return e;if(e.end.isEqual(e.start.getShiftedBy(1))){var o=e.start.nodeAfter;if(!t.isSimilar(o)&&o instanceof D.default&&A(t,o))return e}var n=h(e,!0),a=n.start,r=n.end,l=a.parent,i=k(l,a.offset,r.offset,t),d=u(i.start);d.isEqual(i.start)||i.end.offset--;var s=u(i.end);return new K.default(d,s)}function y(e,t){var o=new F.default(t,e.getAttributes());return s(V.default.createAfter(e),o),p(K.default.createIn(e),V.default.createAt(o)),f(K.default.createOn(e)),o}function b(e){for(var t=e.parent;!E(t);){if(!t)return;t=t.parent}return t}function h(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=e.start,n=e.end;if(R(e),e.isCollapsed){var a=v(e.start,t);return new K.default(a,a)}var r=v(n,t),l=r.parent.childCount,i=v(o,t);return r.offset+=r.parent.childCount-l,new K.default(i,r)}function v(e){var t=1<arguments.length&&arguments[1]!==void 0&&arguments[1],o=e.offset,n=e.parent;if(e.parent.is('emptyElement'))throw new J.default('view-writer-cannot-break-empty-element');if(e.parent.is('uiElement'))throw new J.default('view-writer-cannot-break-ui-element');if(!t&&n.is('text')&&E(n.parent))return V.default.createFromPosition(e);if(E(n))return V.default.createFromPosition(e);if(n.is('text'))return v(M(e),t);var a=n.childCount;if(o==a){var r=new V.default(n.parent,n.index+1);return v(r,t)}if(0===o){var l=new V.default(n.parent,n.index);return v(l,t)}var i=n.index+1,u=n.clone();n.parent.insertChildren(i,u);var d=n.childCount-o,s=n.removeChildren(o,d);u.appendChildren(s);var f=new V.default(n.parent,i);return v(f,t)}function k(e,t,o,n){for(var a=t,r=[];a<o;){var l=e.getChild(a);if(l.isSimilar(n)){var i=l.getChildren(),d=l.childCount;l.remove(),e.insertChildren(a,i),r.push(new V.default(e,a),new V.default(e,a+d)),a+=d,o+=d-1}else l.is('attributeElement')&&k(l,0,l.childCount,n),a++}var s=0,f=!0,c=!1,p;try{for(var _=r[Symbol.iterator](),m,g;!(f=(m=_.next()).done);f=!0)if(g=m.value,g.offset-=s,g.offset!=t&&g.offset!=o){var y=u(g);y.isEqual(g)||(s++,o--)}}catch(e){c=!0,p=e}finally{try{!f&&_.return&&_.return()}finally{if(c)throw p}}return K.default.createFromParentsAndOffsets(e,t,e,o)}function P(e,t,o,n){for(var a=t,r=[];a<o;){var l=e.getChild(a),i=l.is('text'),d=l.is('attributeElement'),s=l.is('emptyElement'),f=l.is('uiElement');if(i||s||f||d&&w(n,l)){var c=n.clone();l.remove(),c.appendChildren(l),e.insertChildren(a,c),r.push(new V.default(e,a))}else d&&P(l,0,l.childCount,n);a++}var p=0,_=!0,m=!1,g;try{for(var y=r[Symbol.iterator](),b,h;!(_=(b=y.next()).done);_=!0)if(h=b.value,h.offset-=p,h.offset!=t){var v=u(h);v.isEqual(h)||(p++,o--)}}catch(e){m=!0,g=e}finally{try{!_&&y.return&&y.return()}finally{if(m)throw g}}return K.default.createFromParentsAndOffsets(e,t,e,o)}function w(e,t){if(e.priority<t.priority)return!0;return!(e.priority>t.priority)&&e.getIdentity()<t.getIdentity()}function x(e){var t=e.nodeBefore;if(t&&t.is('text'))return new V.default(t,t.data.length);var o=e.nodeAfter;return o&&o.is('text')?new V.default(o,0):e}function M(e){if(e.offset==e.parent.data.length)return new V.default(e.parent.parent,e.parent.index+1);if(0===e.offset)return new V.default(e.parent.parent,e.parent.index);var t=e.parent.data.slice(e.offset);return e.parent.data=e.parent.data.slice(0,e.offset),e.parent.parent.insertChildren(e.parent.index+1,new H.default(t)),new V.default(e.parent.parent,e.parent.index+1)}function C(e,t){var o=e.data.length;return e.data+=t.data,t.remove(),new V.default(e,o)}function O(e,t){if(e.name!==t.name||e.priority!==t.priority)return!1;var o=!0,n=!1,a;try{for(var r=e.getAttributeKeys()[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)if((i=l.value,'class'!==i&&'style'!==i)&&t.hasAttribute(i)&&t.getAttribute(i)!==e.getAttribute(i))return!1}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}var u=!0,d=!1,s;try{for(var f=e.getStyleNames()[Symbol.iterator](),c,p;!(u=(c=f.next()).done);u=!0)if(p=c.value,t.hasStyle(p)&&t.getStyle(p)!==e.getStyle(p))return!1}catch(e){d=!0,s=e}finally{try{!u&&f.return&&f.return()}finally{if(d)throw s}}var _=!0,m=!1,g;try{for(var y=e.getAttributeKeys()[Symbol.iterator](),b,h;!(_=(b=y.next()).done);_=!0)(h=b.value,'class'!==h&&'style'!==h)&&(t.hasAttribute(h)||t.setAttribute(h,e.getAttribute(h)))}catch(e){m=!0,g=e}finally{try{!_&&y.return&&y.return()}finally{if(m)throw g}}var v=!0,k=!1,P;try{for(var w=e.getStyleNames()[Symbol.iterator](),x,M;!(v=(x=w.next()).done);v=!0)M=x.value,t.hasStyle(M)||t.setStyle(M,e.getStyle(M))}catch(e){k=!0,P=e}finally{try{!v&&w.return&&w.return()}finally{if(k)throw P}}var C=!0,O=!1,A;try{for(var T=e.getClassNames()[Symbol.iterator](),S,E;!(C=(S=T.next()).done);C=!0)E=S.value,t.hasClass(E)||t.addClass(E)}catch(e){O=!0,A=e}finally{try{!C&&T.return&&T.return()}finally{if(O)throw A}}return!0}function A(e,t){if(e.name!==t.name||e.priority!==t.priority)return!1;var o=!0,n=!1,a;try{for(var l=e.getAttributeKeys()[Symbol.iterator](),i,u;!(o=(i=l.next()).done);o=!0)if((u=i.value,'class'!==u&&'style'!==u)&&(!t.hasAttribute(u)||t.getAttribute(u)!==e.getAttribute(u)))return!1}catch(e){n=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(n)throw a}}if(!t.hasClass.apply(t,r(e.getClassNames())))return!1;var d=!0,s=!1,f;try{for(var c=e.getStyleNames()[Symbol.iterator](),p,_;!(d=(p=c.next()).done);d=!0)if(_=p.value,!t.hasStyle(_)||t.getStyle(_)!==e.getStyle(_))return!1}catch(e){s=!0,f=e}finally{try{!d&&c.return&&c.return()}finally{if(s)throw f}}var m=!0,g=!1,y;try{for(var b=e.getAttributeKeys()[Symbol.iterator](),h,v;!(m=(h=b.next()).done);m=!0)(v=h.value,'class'!==v&&'style'!==v)&&t.removeAttribute(v)}catch(e){g=!0,y=e}finally{try{!m&&b.return&&b.return()}finally{if(g)throw y}}return t.removeClass.apply(t,r(e.getClassNames())),t.removeStyle.apply(t,r(e.getStyleNames())),!0}function T(e){return e.start.parent==e.end.parent&&e.start.parent.is('attributeElement')&&0===e.start.offset&&e.end.offset===e.start.parent.childCount}function S(e){var t=function(e){if(!Z.some(function(t){return e instanceof t}))throw new J.default('view-writer-insert-invalid-node');e.is('text')||S(e.getChildren())},o=!0,n=!1,a;try{for(var r=e[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,t(i)}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}function E(e){return e&&(e.is('containerElement')||e.is('documentFragment'))}function R(e){var t=b(e.start),o=b(e.end);if(!t||!o||t!==o)throw new J.default('view-writer-invalid-range-container')}Object.defineProperty(o,'__esModule',{value:!0}),o.breakAttributes=l,o.breakContainer=i,o.mergeAttributes=u,o.mergeContainers=d,o.insert=s,o.remove=f,o.clear=c,o.move=p,o.wrap=_,o.wrapPosition=m,o.unwrap=g,o.rename=y;var I=n(20),V=a(I),N=n(48),F=a(N),B=n(89),D=a(B),L=n(176),j=a(L),q=n(124),W=a(q),z=n(33),H=a(z),U=n(38),K=a(U),$=n(0),J=a($),G=n(125),Q=a(G),Y=n(32),X=a(Y);o.default={breakAttributes:l,breakContainer:i,mergeAttributes:u,mergeContainers:d,insert:s,remove:f,clear:c,move:p,wrap:_,wrapPosition:m,unwrap:g,rename:y};var Z=[H.default,D.default,F.default,j.default,W.default]},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(40),d=n(u),s=o(2),f=n(s),c=o(0),p=n(c),_=o(21),m=n(_),g=o(358),y=n(g),b=function(e){function t(e,o,n,l,i){a(this,t);var u=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i));return u.range=f.default.createFromRange(e),u.key=o,u.oldValue=void 0===n?null:n,u.newValue=void 0===l?null:l,u}return l(t,e),i(t,[{key:'clone',value:function(){return new t(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:'getReversed',value:function(){return new t(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:'_execute',value:function(){var e=!0,t=!1,o;try{for(var n=this.range.getItems()[Symbol.iterator](),a,r;!(e=(a=n.next()).done);e=!0){if(r=a.value,null!==this.oldValue&&!(0,y.default)(r.getAttribute(this.key),this.oldValue))throw new p.default('attribute-operation-wrong-old-value: Changed node has different attribute value than operation\'s old attribute value.',{item:r,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&r.hasAttribute(this.key))throw new p.default('attribute-operation-attribute-exists: The attribute with given key already exists.',{node:r,key:this.key})}}catch(e){t=!0,o=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw o}}return(0,y.default)(this.oldValue,this.newValue)||m.default.setAttribute(this.range,this.key,this.newValue),{range:this.range,key:this.key,oldValue:this.oldValue,newValue:this.newValue}}},{key:'type',get:function(){return null===this.oldValue?'addAttribute':null===this.newValue?'removeAttribute':'changeAttribute'}}],[{key:'fromJSON',value:function(e,o){return new t(f.default.fromJSON(e.range,o),e.key,e.oldValue,e.newValue,e.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.AttributeOperation'}}]),t}(d.default);t.default=b},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o,n,r){return!(e!==t)||(null!=e&&null!=t&&((0,u.default)(e)||(0,s.default)(t))?(0,l.default)(e,t,a,o,n,r):e!==e&&t!==t)}Object.defineProperty(t,'__esModule',{value:!0});var r=o(359),l=n(r),i=o(16),u=n(i),d=o(45),s=n(d);t.default=a},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=-1,o=e?e.length:0;for(this.__data__=new l.default;++t<o;)this.add(e[t])}Object.defineProperty(t,'__esModule',{value:!0});var r=o(119),l=n(r),i=o(360),u=n(i),d=o(361),s=n(d);a.prototype.add=a.prototype.push=u.default,a.prototype.has=s.default,t.default=a},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(28),d=n(u),s=o(41),f=n(s),c=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'getReversed',value:function(){var e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new f.default(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}},{key:'position',get:function(){return this.targetPosition},set:function(e){this.targetPosition=e}},{key:'type',get:function(){return'reinsert'}}],[{key:'className',get:function(){return'engine.model.operation.ReinsertOperation'}}]),t}(d.default);t.default=c},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,o){var n=new v;e.addDelta(n);var a=e.document.graveyard,r=new y.default(a,[0]),l=new m.default(t,o,r,e.document.version);n.addOperation(l),e.document.applyOperation(l)}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(96),s=n(d),f=o(19),c=o(18),p=n(c),_=o(41),m=n(_),g=o(1),y=n(g),b=o(2),h=n(b),v=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,null,[{key:'className',get:function(){return'engine.model.delta.RemoveDelta'}}]),t}(s.default);t.default=v,(0,f.register)('remove',function(e){if(e instanceof h.default){var t=e.getMinimalFlatRanges().reverse(),o=!0,n=!1,a;try{for(var r=t[Symbol.iterator](),l,u;!(o=(l=r.next()).done);o=!0)u=l.value,i(this,u.start,u.end.offset-u.start.offset)}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}else i(this,y.default.createBefore(e),1);return this}),p.default.register(v)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,o,n,a){var r=new m.default(o,n,a,e.document.version);t.addOperation(r),e.document.applyOperation(r)}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(22),s=n(d),f=o(18),c=n(f),p=o(19),_=o(28),m=n(_),g=o(1),y=n(g),b=o(2),h=n(b),v=o(0),k=n(v),P=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:'type',get:function(){return'move'}},{key:'howMany',get:function(){return this._moveOperation?this._moveOperation.howMany:null}},{key:'sourcePosition',get:function(){return this._moveOperation?this._moveOperation.sourcePosition:null}},{key:'targetPosition',get:function(){return this._moveOperation?this._moveOperation.targetPosition:null}},{key:'_moveOperation',get:function(){return this.operations[0]||null}},{key:'_reverseDeltaClass',get:function(){return t}}],[{key:'className',get:function(){return'engine.model.delta.MoveDelta'}}]),t}(s.default);t.default=P,(0,p.register)('move',function(e,t){var o=new P;if(this.addDelta(o),e instanceof h.default){if(!e.isFlat)throw new k.default('batch-move-range-not-flat: Range to move is not flat.');i(this,o,e.start,e.end.offset-e.start.offset,t)}else i(this,o,y.default.createBefore(e),1,t);return this}),c.default.register(P)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(22),d=n(u),s=o(18),f=n(s),c=o(98),p=n(c),_=o(19),m=o(1),g=n(m),y=o(6),b=n(y),h=o(41),v=n(h),k=o(28),P=n(k),w=o(0),x=n(w),M=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'type',get:function(){return'merge'}},{key:'position',get:function(){return this._removeOperation?this._removeOperation.sourcePosition:null}},{key:'_removeOperation',get:function(){return this.operations[1]||null}},{key:'_reverseDeltaClass',get:function(){return p.default}}],[{key:'className',get:function(){return'engine.model.delta.MergeDelta'}}]),t}(d.default);t.default=M,(0,_.register)('merge',function(e){var t=new M;this.addDelta(t);var o=e.nodeBefore,n=e.nodeAfter;if(!(o instanceof b.default))throw new x.default('batch-merge-no-element-before: Node before merge position must be an element.');if(!(n instanceof b.default))throw new x.default('batch-merge-no-element-after: Node after merge position must be an element.');var a=g.default.createFromParentAndOffset(n,0),r=g.default.createFromParentAndOffset(o,o.maxOffset),l=new P.default(a,n.maxOffset,r,this.document.version);l.isSticky=!0,t.addOperation(l),this.document.applyOperation(l);var i=this.document.graveyard,u=new g.default(i,[0]),d=new v.default(e,1,u,this.document.version);return t.addOperation(d),this.document.applyOperation(d),this}),f.default.register(M)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(22),d=n(u),s=o(18),f=n(s),c=o(19),p=o(1),_=n(p),m=o(6),g=n(m),y=o(49),b=n(y),h=o(28),v=n(h),k=o(0),P=n(k),w=o(97),x=n(w),M=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'type',get:function(){return'split'}},{key:'position',get:function(){return this._moveOperation?this._moveOperation.sourcePosition:null}},{key:'_cloneOperation',get:function(){return this.operations[0]||null}},{key:'_moveOperation',get:function(){return this.operations[1]&&this.operations[1]instanceof v.default?this.operations[1]:null}},{key:'_reverseDeltaClass',get:function(){return x.default}}],[{key:'className',get:function(){return'engine.model.delta.SplitDelta'}}]),t}(d.default);t.default=M,(0,c.register)('split',function(e){var t=new M;this.addDelta(t);var o=e.parent;if(!o.parent)throw new P.default('batch-split-root: Root element can not be split.');var n=new g.default(o.name,o.getAttributes()),a=new b.default(_.default.createAfter(o),n,this.document.version);t.addOperation(a),this.document.applyOperation(a);var r=new v.default(e,o.maxOffset-e.offset,_.default.createFromParentAndOffset(n,0),this.document.version);return r.isSticky=!0,t.addOperation(r),this.document.applyOperation(r),this}),f.default.register(M)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(22),d=n(u),s=o(18),f=n(s),c=o(100),p=n(c),_=o(19),m=o(1),g=n(m),y=o(41),b=n(y),h=o(28),v=n(h),k=o(0),P=n(k),w=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'type',get:function(){return'unwrap'}},{key:'position',get:function(){return this._moveOperation?this._moveOperation.targetPosition:null}},{key:'_moveOperation',get:function(){return this.operations[0]||null}},{key:'_reverseDeltaClass',get:function(){return p.default}}],[{key:'className',get:function(){return'engine.model.delta.UnwrapDelta'}}]),t}(d.default);t.default=w,(0,_.register)('unwrap',function(e){if(null===e.parent)throw new P.default('batch-unwrap-element-no-parent: Trying to unwrap an element which has no parent.');var t=new w;this.addDelta(t);var o=g.default.createFromParentAndOffset(e,0),n=new v.default(o,e.maxOffset,g.default.createBefore(e),this.document.version);n.isSticky=!0,t.addOperation(n),this.document.applyOperation(n);var a=this.document.graveyard,r=new g.default(a,[0]),l=new b.default(g.default.createBefore(e),1,r,this.document.version);return t.addOperation(l),this.document.applyOperation(l),this}),f.default.register(w)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(22),d=n(u),s=o(18),f=n(s),c=o(99),p=n(c),_=o(19),m=o(1),g=n(m),y=o(2),b=n(y),h=o(6),v=n(h),k=o(49),P=n(k),w=o(28),x=n(w),M=o(0),C=n(M),O=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'type',get:function(){return'wrap'}},{key:'range',get:function(){var e=this._moveOperation;return e?b.default.createFromPositionAndShift(e.sourcePosition,e.howMany):null}},{key:'howMany',get:function(){var e=this.range;return e?e.end.offset-e.start.offset:0}},{key:'_insertOperation',get:function(){return this.operations[0]||null}},{key:'_moveOperation',get:function(){return this.operations[1]||null}},{key:'_reverseDeltaClass',get:function(){return p.default}}],[{key:'className',get:function(){return'engine.model.delta.WrapDelta'}}]),t}(d.default);t.default=O,(0,_.register)('wrap',function(e,t){if(!e.isFlat)throw new C.default('batch-wrap-range-not-flat: Range to wrap is not flat.');var o=t instanceof v.default?t:new v.default(t);if(0<o.childCount)throw new C.default('batch-wrap-element-not-empty: Element to wrap with is not empty.');if(null!==o.parent)throw new C.default('batch-wrap-element-attached: Element to wrap with is already attached to tree model.');var n=new O;this.addDelta(n);var a=new P.default(e.end,o,this.document.version);n.addOperation(a),this.document.applyOperation(a);var r=g.default.createFromParentAndOffset(o,0),l=new x.default(e.start,e.end.offset-e.start.offset,r,this.document.version);return n.addOperation(l),this.document.applyOperation(l),this}),f.default.register(O)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(14),r=n(a),l=o(378),i=n(l);t.default=function(e){return(0,r.default)(e)?e:(0,i.default)(e)}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(42),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t,o,n){for(var r=e.length,l=n?r:-1;(n?l--:++l<r)&&t(e[l],l,e););return o?(0,a.default)(e,n?0:l,n?l+1:r):(0,a.default)(e,n?l+1:0,n?r:l)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(145),r=n(a),l=o(191),i=n(l),u=o(47),d=n(u);t.default=function(e,t,o){var n=0,a=e?e.length:n;if('number'==typeof t&&t===t&&a<=4294967295>>>1){for(;n<a;){var l=n+a>>>1,u=e[l];null!==u&&!(0,d.default)(u)&&(o?u<=t:u<t)?n=l+1:a=l}return a}return(0,r.default)(e,t,i.default,o)}},function(e,t,n){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var r=n(105),l=a(r),i=n(29),u=a(i),d=n(113),s=a(d),f=n(161),c=a(f),p=n(13),_=a(p);t.default=function(e){if(!(e&&e.length))return[];var t=0;return e=(0,l.default)(e,function(e){if((0,_.default)(e))return t=o(e.length,t),!0}),(0,c.default)(t,function(t){return(0,u.default)(e,(0,s.default)(t))})}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){for(var o=-1,n=e.length,a=0,r=[];++o<n;){var l=e[o];t(l,o,e)&&(r[a++]=l)}return r}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){return!t.has(e)&&(t.add(e),e.document.schema.itemExtends(e.name,'$block')&&e.parent)}function l(e,t){var o=e.parent.getAncestors({parentFirst:!0,includeSelf:!0}),n=o.find(function(e){return r(e,t)});return o.forEach(function(e){return t.add(e)}),n}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){var o=[],n=!0,a=!1,r;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(1),s=n(d),f=o(6),c=n(f),p=o(2),_=n(p),m=o(9),g=n(m),y=o(0),b=n(y),h=o(4),v=n(h),k=o(117),P=n(k),w=o(403),x=n(w),M=o(32),C=n(M),O=function(){function e(t,o){a(this,e),this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,t&&this.setRanges(t,o)}return u(e,[{key:'isEqual',value:function(e){if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var t=!0,o=!1,n;try{for(var a=this._ranges[Symbol.iterator](),r;!(t=(r=a.next()).done);t=!0){var l=r.value,i=!1,u=!0,d=!1,s=void 0;try{for(var f=e._ranges[Symbol.iterator](),c,p;!(u=(c=f.next()).done);u=!0)if(p=c.value,l.isEqual(p)){i=!0;break}}catch(e){d=!0,s=e}finally{try{!u&&f.return&&f.return()}finally{if(d)throw s}}if(!i)return!1}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return!0}},{key:'getRanges',value:regeneratorRuntime.mark(function e(){var t,o,n,a,r,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,o=!1,n=void 0,e.prev=3,a=this._ranges[Symbol.iterator]();case 5:if(t=(r=a.next()).done){e.next=12;break}return l=r.value,e.next=9,_.default.createFromRange(l);case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e['catch'](3),o=!0,n=e.t0;case 18:e.prev=18,e.prev=19,!t&&a.return&&a.return();case 21:if(e.prev=21,!o){e.next=24;break}throw n;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case'end':return e.stop();}},e,this,[[3,14,18,26],[19,,21,25]])})},{key:'getFirstRange',value:function(){var e=null,t=!0,o=!1,n;try{for(var a=this._ranges[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,(!e||l.start.isBefore(e.start))&&(e=l)}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return e?_.default.createFromRange(e):null}},{key:'getLastRange',value:function(){var e=null,t=!0,o=!1,n;try{for(var a=this._ranges[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,(!e||l.end.isAfter(e.end))&&(e=l)}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return e?_.default.createFromRange(e):null}},{key:'getFirstPosition',value:function(){var e=this.getFirstRange();return e?s.default.createFromPosition(e.start):null}},{key:'getLastPosition',value:function(){var e=this.getLastRange();return e?s.default.createFromPosition(e.end):null}},{key:'addRange',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this._pushRange(e),this._lastRangeBackward=!!t,this.fire('change:range',{directChange:!0})}},{key:'removeAllRanges',value:function(){0<this._ranges.length&&(this._removeAllRanges(),this.fire('change:range',{directChange:!0}))}},{key:'setRanges',value:function(e){var t=this,o=1<arguments.length&&void 0!==arguments[1]&&arguments[1];e=Array.from(e);var n=e.some(function(e){if(!(e instanceof _.default))throw new b.default('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');return t._ranges.every(function(t){return!t.isEqual(e)})});if(e.length!==this._ranges.length||n){this._removeAllRanges();var a=!0,r=!1,l;try{for(var i=e[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,this._pushRange(d)}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}this._lastRangeBackward=!!o,this.fire('change:range',{directChange:!0})}}},{key:'setTo',value:function(t){t instanceof e?this.setRanges(t.getRanges(),t.isBackward):t instanceof _.default?this.setRanges([t]):(0,C.default)(t)?this.setRanges(t):this.setRanges([new _.default(t)])}},{key:'setIn',value:function(e){this.setRanges([_.default.createIn(e)])}},{key:'setOn',value:function(e){this.setRanges([_.default.createOn(e)])}},{key:'setCollapsedAt',value:function(e,t){var o=s.default.createAt(e,t),n=new _.default(o,o);this.setRanges([n])}},{key:'collapseToStart',value:function(){var e=this.getFirstPosition();null!==e&&this.setRanges([new _.default(e,e)])}},{key:'collapseToEnd',value:function(){var e=this.getLastPosition();null!==e&&this.setRanges([new _.default(e,e)])}},{key:'moveFocusTo',value:function(e,t){if(null===this.anchor)throw new b.default('model-selection-moveFocusTo-no-ranges: Cannot set selection focus if there are no ranges in selection.');var o=s.default.createAt(e,t);if('same'!=o.compareWith(this.focus)){var n=this.anchor;this._ranges.length&&this._popRange(),'before'==o.compareWith(n)?this.addRange(new _.default(o,n),!0):this.addRange(new _.default(n,o))}}},{key:'getAttribute',value:function(e){return this._attrs.get(e)}},{key:'getAttributes',value:function(){return this._attrs.entries()}},{key:'getAttributeKeys',value:function(){return this._attrs.keys()}},{key:'hasAttribute',value:function(e){return this._attrs.has(e)}},{key:'clearAttributes',value:function(){if(0<this._attrs.size){var e=Array.from(this._attrs.keys());this._attrs.clear(),this.fire('change:attribute',{attributeKeys:e,directChange:!0})}}},{key:'removeAttribute',value:function(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire('change:attribute',{attributeKeys:[e],directChange:!0}))}},{key:'setAttribute',value:function(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire('change:attribute',{attributeKeys:[e],directChange:!0}))}},{key:'setAttributesTo',value:function(e){if(e=(0,P.default)(e),!(0,x.default)(e,this._attrs)){var t=new Set(Array.from(e.keys()).concat(Array.from(this._attrs.keys()))),o=!0,n=!1,a;try{for(var r=e[Symbol.iterator](),l;!(o=(l=r.next()).done);o=!0){var u=l.value,d=i(u,2),s=d[0],f=d[1];this._attrs.get(s)===f&&t.delete(s)}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}this._attrs=e,this.fire('change:attribute',{attributeKeys:Array.from(t),directChange:!0})}}},{key:'getSelectedElement',value:function(){if(1!==this.rangeCount)return null;var e=this.getFirstRange(),t=e.start.nodeAfter,o=e.end.nodeBefore;return t instanceof c.default&&t==o?t:null}},{key:'getSelectedBlocks',value:regeneratorRuntime.mark(function e(){var t,o,n,a,i,u,d,f,c,p,_,m,g,y,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=new WeakSet,o=!0,n=!1,a=void 0,e.prev=4,i=this.getRanges()[Symbol.iterator]();case 6:if(o=(u=i.next()).done){e.next=46;break}if(d=u.value,f=l(d.start,t),!f){e.next=12;break}return e.next=12,f;case 12:c=!0,p=!1,_=void 0,e.prev=15,m=d.getWalker()[Symbol.iterator]();case 17:if(c=(g=m.next()).done){e.next=25;break}if(y=g.value,!('elementEnd'==y.type&&r(y.item,t))){e.next=22;break}return e.next=22,y.item;case 22:c=!0,e.next=17;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e['catch'](15),p=!0,_=e.t0;case 31:e.prev=31,e.prev=32,!c&&m.return&&m.return();case 34:if(e.prev=34,!p){e.next=37;break}throw _;case 37:return e.finish(34);case 38:return e.finish(31);case 39:if(b=l(d.end,t),!b||d.end.isTouching(s.default.createAt(b))){e.next=43;break}return e.next=43,b;case 43:o=!0,e.next=6;break;case 46:e.next=52;break;case 48:e.prev=48,e.t1=e['catch'](4),n=!0,a=e.t1;case 52:e.prev=52,e.prev=53,!o&&i.return&&i.return();case 55:if(e.prev=55,!n){e.next=58;break}throw a;case 58:return e.finish(55);case 59:return e.finish(52);case 60:case'end':return e.stop();}},e,this,[[4,48,52,60],[15,27,31,39],[32,,34,38],[53,,55,59]])})},{key:'containsEntireContent',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.anchor.root,t=s.default.createAt(e),o=s.default.createAt(e,'end');return t.isTouching(this.getFirstPosition())&&o.isTouching(this.getLastPosition())}},{key:'_pushRange',value:function(e){if(!(e instanceof _.default))throw new b.default('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');this._checkRange(e),this._ranges.push(_.default.createFromRange(e))}},{key:'_checkRange',value:function(e){for(var t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new b.default('model-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:e,intersectingRange:this._ranges[t]})}},{key:'_popRange',value:function(){this._ranges.pop()}},{key:'_removeAllRanges',value:function(){for(;0<this._ranges.length;)this._popRange()}},{key:'anchor',get:function(){if(0<this._ranges.length){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}},{key:'focus',get:function(){if(0<this._ranges.length){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}},{key:'isCollapsed',get:function(){var e=this._ranges.length;return 1===e&&this._ranges[0].isCollapsed}},{key:'rangeCount',get:function(){return this._ranges.length}},{key:'isBackward',get:function(){return!this.isCollapsed&&this._lastRangeBackward}}],[{key:'createFromSelection',value:function(e){var t=new this;return t.setTo(e),t}}]),e}();t.default=O,(0,v.default)(O,g.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e){return e['data-ck-expando']||(e['data-ck-expando']=(0,s.default)())}function l(e){return e&&(0,_.default)(e.addEventListener)}Object.defineProperty(t,'__esModule',{value:!0});var i=o(9),u=n(i),d=o(61),s=n(d),f=o(46),c=n(f),p=o(165),_=n(p),m=(0,c.default)({},u.default,{listenTo:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=t[0];l(n)&&(t[0]=this._getProxyEmitter(n)||new g(n)),u.default.listenTo.apply(this,t)},stopListening:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=t[0];if(l(n)){var a=this._getProxyEmitter(n);if(!a)return;t[0]=a}u.default.stopListening.apply(this,t)},_getProxyEmitter:function(e){return(0,i._getEmitterListenedTo)(this,r(e))}});t.default=m;var g=function e(t){a(this,e),(0,i._setEmitterId)(this,r(t)),this._domNode=t};(0,c.default)(g.prototype,u.default,{on:function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(u.default.on.call(this,e,t,o),!(this._domListeners&&this._domListeners[e])){var n=this._createDomListener(e,!!o.useCapture);this._domNode.addEventListener(e,n,!!o.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[e]=n}},off:function(e,t,o){u.default.off.call(this,e,t,o);var n;!this._domListeners[e]||(n=this._events[e])&&n.callbacks.length||this._domListeners[e].removeListener()},_createDomListener:function(e,t){var o=this,n=function(t){o.fire(e,t)};return n.removeListener=function(){o._domNode.removeEventListener(e,n,t),delete o._domListeners[e]},n}})},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(0),i=n(l),u=o(38),d=n(u),s=o(20),f=n(s),c=o(4),p=n(c),_=o(9),m=n(_),g=o(26),y=n(g),b=o(149),h=n(b),v=o(32),k=n(v),P=function(){function e(t,o){a(this,e),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel='',t&&this.setRanges(t,o)}return r(e,[{key:'setFake',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._isFake=e,this._fakeSelectionLabel=e?t.label||'':'',this.fire('change')}},{key:'addRange',value:function(e,t){if(!(e instanceof d.default))throw new i.default('view-selection-invalid-range: Invalid Range.');this._pushRange(e),this._lastRangeBackward=!!t,this.fire('change')}},{key:'getRanges',value:regeneratorRuntime.mark(function e(){var t,o,n,a,r,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,o=!1,n=void 0,e.prev=3,a=this._ranges[Symbol.iterator]();case 5:if(t=(r=a.next()).done){e.next=12;break}return l=r.value,e.next=9,d.default.createFromRange(l);case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e['catch'](3),o=!0,n=e.t0;case 18:e.prev=18,e.prev=19,!t&&a.return&&a.return();case 21:if(e.prev=21,!o){e.next=24;break}throw n;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case'end':return e.stop();}},e,this,[[3,14,18,26],[19,,21,25]])})},{key:'getFirstRange',value:function(){var e=null,t=!0,o=!1,n;try{for(var a=this._ranges[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,(!e||l.start.isBefore(e.start))&&(e=l)}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return e?d.default.createFromRange(e):null}},{key:'getLastRange',value:function(){var e=null,t=!0,o=!1,n;try{for(var a=this._ranges[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,(!e||l.end.isAfter(e.end))&&(e=l)}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return e?d.default.createFromRange(e):null}},{key:'getFirstPosition',value:function(){var e=this.getFirstRange();return e?f.default.createFromPosition(e.start):null}},{key:'getLastPosition',value:function(){var e=this.getLastRange();return e?f.default.createFromPosition(e.end):null}},{key:'isEqual',value:function(e){if(this.isFake!=e.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel)return!1;if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var t=!0,o=!1,n;try{for(var a=this._ranges[Symbol.iterator](),r;!(t=(r=a.next()).done);t=!0){var l=r.value,i=!1,u=!0,d=!1,s=void 0;try{for(var f=e._ranges[Symbol.iterator](),c,p;!(u=(c=f.next()).done);u=!0)if(p=c.value,l.isEqual(p)){i=!0;break}}catch(e){d=!0,s=e}finally{try{!u&&f.return&&f.return()}finally{if(d)throw s}}if(!i)return!1}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return!0}},{key:'isSimilar',value:function(e){if(this.isBackward!=e.isBackward)return!1;var t=(0,h.default)(this.getRanges()),o=(0,h.default)(e.getRanges());if(t!=o)return!1;if(0==t)return!0;var n=!0,a=!1,r;try{for(var l=this.getRanges()[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0){u=i.value,u=u.getTrimmed();var d=!1,s=!0,f=!1,c=void 0;try{for(var p=e.getRanges()[Symbol.iterator](),_,m;!(s=(_=p.next()).done);s=!0)if(m=_.value,m=m.getTrimmed(),u.start.isEqual(m.start)&&u.end.isEqual(m.end)){d=!0;break}}catch(e){f=!0,c=e}finally{try{!s&&p.return&&p.return()}finally{if(f)throw c}}if(!d)return!1}}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return!0}},{key:'removeAllRanges',value:function(){this._ranges.length&&(this._ranges=[],this.fire('change'))}},{key:'setRanges',value:function(e,t){this._ranges=[];var o=!0,n=!1,a;try{for(var r=e[Symbol.iterator](),l,u;!(o=(l=r.next()).done);o=!0){if(u=l.value,!(u instanceof d.default))throw new i.default('view-selection-invalid-range: Invalid Range.');this._pushRange(u)}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}this._lastRangeBackward=!!t,this.fire('change')}},{key:'setTo',value:function(t){t instanceof e?(this._isFake=t._isFake,this._fakeSelectionLabel=t._fakeSelectionLabel,this.setRanges(t.getRanges(),t.isBackward)):t instanceof d.default?this.setRanges([t]):(0,k.default)(t)?this.setRanges(t):this.setRanges([new d.default(t)])}},{key:'setIn',value:function(e){this.setRanges([d.default.createIn(e)])}},{key:'setOn',value:function(e){this.setRanges([d.default.createOn(e)])}},{key:'setCollapsedAt',value:function(e,t){var o=f.default.createAt(e,t),n=new d.default(o,o);this.setRanges([n])}},{key:'collapseToStart',value:function(){var e=this.getFirstPosition();null!==e&&this.setRanges([new d.default(e,e)])}},{key:'collapseToEnd',value:function(){var e=this.getLastPosition();null!==e&&this.setRanges([new d.default(e,e)])}},{key:'moveFocusTo',value:function(e,t){if(null===this.anchor)throw new i.default('view-selection-moveFocusTo-no-ranges: Cannot set selection focus if there are no ranges in selection.');var o=f.default.createAt(e,t);if('same'!=o.compareWith(this.focus)){var n=this.anchor;this._ranges.pop(),'before'==o.compareWith(n)?this.addRange(new d.default(o,n),!0):this.addRange(new d.default(n,o))}}},{key:'getSelectedElement',value:function(){if(1!==this.rangeCount)return null;var e=this.getFirstRange(),t=e.start.nodeAfter,o=e.end.nodeBefore;return t instanceof y.default&&t==o?t:null}},{key:'_pushRange',value:function(e){var t=!0,o=!1,n;try{for(var a=this._ranges[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)if(l=r.value,e.isIntersecting(l))throw new i.default('view-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:e,intersectingRange:l})}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}this._ranges.push(d.default.createFromRange(e))}},{key:'isFake',get:function(){return this._isFake}},{key:'fakeSelectionLabel',get:function(){return this._fakeSelectionLabel}},{key:'anchor',get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1],t=this._lastRangeBackward?e.end:e.start;return f.default.createFromPosition(t)}},{key:'focus',get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1],t=this._lastRangeBackward?e.start:e.end;return f.default.createFromPosition(t)}},{key:'isCollapsed',get:function(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}},{key:'rangeCount',get:function(){return this._ranges.length}},{key:'isBackward',get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:'editableElement',get:function(){return this.anchor?this.anchor.editableElement:null}}],[{key:'createFromSelection',value:function(t){var o=new e;return o.setTo(t),o}}]),e}();t.default=P,(0,p.default)(P,m.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,o,n){if(o.test(t.input,{name:t.input.name})&&d(t.input,t.context,n.schema,!1)){t.context.push('paragraph');var a=n.convertItem(t.input,o,t);t.context.pop(),t.output=a}}function u(e,t,o,n){if(t.output){var a=C.paragraphLikeElements.has(t.input.name)&&!t.output.is('element'),r=t.input.is('documentFragment')||t.input.is('element')&&t.output.is('element')||a;if(r){var l=t.output.is('element');l&&t.context.push(t.output);for(var u=null,s=0,i;s<t.output.childCount;s++)i=t.output.getChild(s),d(i,t.context,n.schema,a)?(u?s--:(u=new h.default('paragraph'),t.output.insertChildren(i.index,u)),i.remove(),u.appendChildren(i)):u=null;l&&t.context.pop()}}}function d(e,t,o,n){var a=e.name||'$text';return!n&&o.check({name:a,inside:t})?!1:!!o.check({name:'paragraph',inside:t})&&!!o.check({name:a,inside:t.concat('paragraph')})}function s(e,t){var o=!0,n=!1,a;try{for(var r=e.getRootNames()[Symbol.iterator](),l;!(o=(l=r.next()).done);o=!0){var i=l.value,u=e.getRoot(i);u.isEmpty?!O.has(u)&&O.set(u,t):O.delete(u)}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}function f(){var e=function(e,t){var o=t.document,n=o.schema;n.check({name:'paragraph',inside:[e]})&&o.enqueueChanges(function(){O.delete(e),t.insert(k.default.createAt(e),new h.default('paragraph'))})},t=!0,o=!1,n;try{for(var a=O[Symbol.iterator](),r;!(t=(r=a.next()).done);t=!0){var l=r.value,i=c(l,2),u=i[0],d=i[1];e(u,d)}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}}Object.defineProperty(t,'__esModule',{value:!0});var c=function(){function e(e,t){var o=[],n=!0,a=!1,r;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),p=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),_=o(482),m=n(_),g=o(3),y=n(g),b=o(6),h=n(b),v=o(1),k=n(v),P=o(52),w=n(P),x=o(43),M=n(x),C=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),p(t,[{key:'init',value:function(){var e=this.editor,t=e.document,o=e.data,n=e.editing;e.commands.add('paragraph',new m.default(e)),t.schema.registerItem('paragraph','$block'),(0,w.default)().for(o.modelToView,n.modelToView).fromElement('paragraph').toElement('p'),(0,M.default)().for(o.viewToModel).fromElement('p').toElement('paragraph'),o.viewToModel.on('element',i,{priority:'low'}),o.viewToModel.on('text',i,{priority:'lowest'}),o.viewToModel.on('element',u,{priority:'lowest'}),o.viewToModel.on('documentFragment',u,{priority:'lowest'}),t.on('change',function(e,o,n,a){'transparent'==a.type||s(t,a)}),t.on('changesDone',f,{priority:'lowest'}),e.on('dataReady',function(){s(t,t.batch('transparent')),f()},{priority:'lowest'})}}],[{key:'pluginName',get:function(){return'Paragraph'}}]),t}(y.default);t.default=C,C.paragraphLikeElements=new Set(['blockquote','dd','div','dt','h1','h2','h3','h4','h5','h6','li','p','td']);var O=new Map},function(e){'use strict';e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],!e.children&&(e.children=[]),Object.defineProperty(e,'loaded',{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,'id',{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=Object.getPrototypeOf;t.default=function(e){return o(Object(e))}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(62),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t,o,n){o||(o={});for(var r=-1,l=t.length;++r<l;){var i=t[r],u=n?n(o[i],e[i],i,o,e):e[i];(0,a.default)(o,i,u)}return o}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(16),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=Object.prototype,l=r.toString;t.default=function(e){var t=(0,a.default)(e)?l.call(e):'';return t=='[object Function]'||t=='[object GeneratorFunction]'}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(13),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=Object.prototype,l=r.hasOwnProperty,i=r.toString,u=r.propertyIsEnumerable;t.default=function(e){return(0,a.default)(e)&&l.call(e,'callee')&&(!u.call(e,'callee')||i.call(e)=='[object Arguments]')}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(14),r=n(a),l=o(45),i=n(l),u=Object.prototype,d=u.toString;t.default=function(e){return'string'==typeof e||!(0,r.default)(e)&&(0,i.default)(e)&&d.call(e)=='[object String]'}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return(0,r.default)(e)?(0,i.default)(e):new Map(e)};var a=o(73),r=n(a),l=o(163),i=n(l)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){this.__data__=new l.default(e)}Object.defineProperty(t,'__esModule',{value:!0});var r=o(81),l=n(r),i=o(304),u=n(i),d=o(305),s=n(d),f=o(306),c=n(f),p=o(307),_=n(p),m=o(308),g=n(m);a.prototype.clear=u.default,a.prototype['delete']=s.default,a.prototype.get=c.default,a.prototype.has=_.default,a.prototype.set=g.default,t.default=a},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}Object.defineProperty(t,'__esModule',{value:!0});var r=o(309),l=n(r),i=o(316),u=n(i),d=o(318),s=n(d),f=o(319),c=n(f),p=o(320),_=n(p);a.prototype.clear=l.default,a.prototype['delete']=u.default,a.prototype.get=s.default,a.prototype.has=c.default,a.prototype.set=_.default,t.default=a},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){return w.call(e)}Object.defineProperty(t,'__esModule',{value:!0});var r=o(328),l=n(r),i=o(167),u=n(i),d=o(329),s=n(d),f=o(171),c=n(f),p=o(330),_=n(p),m=o(166),g=n(m),y='[object Map]',b='[object Promise]',h='[object Set]',v='[object WeakMap]',k='[object DataView]',P=Object.prototype,w=P.toString,x=(0,g.default)(l.default),M=(0,g.default)(u.default),C=(0,g.default)(s.default),O=(0,g.default)(c.default),A=(0,g.default)(_.default);(l.default&&a(new l.default(new ArrayBuffer(1)))!=k||u.default&&a(new u.default)!=y||s.default&&a(s.default.resolve())!=b||c.default&&a(new c.default)!=h||_.default&&a(new _.default)!=v)&&(a=function(e){var t=w.call(e),o=t=='[object Object]'?e.constructor:void 0,n=o?(0,g.default)(o):void 0;if(n)switch(n){case x:return k;case M:return y;case C:return b;case O:return h;case A:return v;}return t}),t.default=a},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(172),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){var t=new e.constructor(e.byteLength);return new a.default(t).set(new a.default(e)),t}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=-1,o=Array(e.size);return e.forEach(function(e,n){o[++t]=[n,e]}),o}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(31),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a.default.Symbol;t.default=r},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){return null}function u(e,t,o){if(t.keyCode==y.keyCodes.arrowright){var n=t.domTarget.ownerDocument.defaultView.getSelection(),a=1==n.rangeCount&&n.getRangeAt(0).collapsed;if(a||t.shiftKey){var r=n.focusNode,l=n.focusOffset,i=o.domPositionToView(r,l);if(null===i)return;var u=!1,d=i.getLastMatchingPosition(function(e){return e.item.is('uiElement')&&(u=!0),e.item.is('uiElement')||e.item.is('attributeElement')});if(u){var s=o.viewPositionToDom(d);a?n.collapse(s.parent,s.offset):n.extend(s.parent,s.offset)}}}}Object.defineProperty(t,'__esModule',{value:!0});var d=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)};t.injectUiElementHandling=function(e){e.on('keydown',function(t,o){return u(t,o,e.domConverter)})};var f=o(26),c=n(f),p=o(0),_=n(p),m=o(80),g=n(m),y=o(27),b=function(e){function t(e,o,n){a(this,t);var l=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o,n));return l.getFillerOffset=i,l}return l(t,e),d(t,[{key:'is',value:function(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return o?'uiElement'==e&&o==this.name||s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e,o):'uiElement'==e||s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e)}},{key:'insertChildren',value:function(e,t){if(t&&(t instanceof g.default||0<Array.from(t).length))throw new _.default('view-uielement-cannot-add: Cannot add child nodes to UIElement instance.')}},{key:'render',value:function(e){var t=e.createElement(this.name),o=!0,n=!1,a;try{for(var r=this.getAttributeKeys()[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,t.setAttribute(i,this.getAttribute(i))}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}return t}}]),t}(c.default);t.default=b},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e){return'string'==typeof e?[new u.default(e)]:((0,c.default)(e)||(e=[e]),Array.from(e).map(function(e){return'string'==typeof e?new u.default(e):e}))}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(33),u=n(i),d=o(4),s=n(d),f=o(32),c=n(f),p=o(9),_=n(p),m=function(){function e(t){a(this,e),this._children=[],t&&this.insertChildren(0,t)}return l(e,[{key:Symbol.iterator,value:function(){return this._children[Symbol.iterator]()}},{key:'is',value:function(e){return'documentFragment'==e}},{key:'appendChildren',value:function(e){return this.insertChildren(this.childCount,e)}},{key:'getChild',value:function(e){return this._children[e]}},{key:'getChildIndex',value:function(e){return this._children.indexOf(e)}},{key:'getChildren',value:function(){return this._children[Symbol.iterator]()}},{key:'insertChildren',value:function(e,t){this._fireChange('children',this);var o=0;t=r(t);var n=!0,a=!1,l;try{for(var i=t[Symbol.iterator](),u,d;!(n=(u=i.next()).done);n=!0)d=u.value,d.parent=this,this._children.splice(e,0,d),e++,o++}catch(e){a=!0,l=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw l}}return o}},{key:'removeChildren',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this._fireChange('children',this);for(var o=e;o<e+t;o++)this._children[o].parent=null;return this._children.splice(e,t)}},{key:'_fireChange',value:function(e,t){this.fire('change:'+e,t)}},{key:'childCount',get:function(){return this._children.length}},{key:'isEmpty',get:function(){return 0===this.childCount}},{key:'root',get:function(){return this}},{key:'parent',get:function(){return null}}]),e}();t.default=m,(0,s.default)(m,_.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,o,n){n instanceof C.default?d(e,e.document,t,o,n):u(e,e.document,t,o,n)}function u(e,t,o,n,a){var r=a.getAttribute(o),l=a.is('rootElement')?new A:new O,i,u;r!=n&&(e.addDelta(l),a.is('rootElement')?u=new v.default(a,o,r,n,t.version):(i=a.is('element')?new C.default(x.default.createBefore(a),x.default.createFromParentAndOffset(a,0)):new C.default(x.default.createBefore(a),x.default.createAfter(a)),u=new b.default(i,o,r,n,t.version)),l.addOperation(u),t.applyOperation(u))}function d(e,t,o,n,a){function r(){0===l.operations.length&&e.addDelta(l);var a=new C.default(i,s),r=new b.default(a,o,f,n,t.version);l.addOperation(r),t.applyOperation(r)}var l=new O,i=a.start,u=!0,d=!1,s,f,c,p;try{for(var _=a[Symbol.iterator](),m,g;!(u=(m=_.next()).done);u=!0)g=m.value,c=g.item.getAttribute(o),s&&f!=c&&(f!=n&&r(),i=s),s=g.nextPosition,f=c}catch(e){d=!0,p=e}finally{try{!u&&_.return&&_.return()}finally{if(d)throw p}}s instanceof x.default&&s!=i&&f!=n&&r()}Object.defineProperty(t,'__esModule',{value:!0}),t.RootAttributeDelta=void 0;var s=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),f=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},c=o(22),p=n(c),_=o(18),m=n(_),g=o(19),y=o(91),b=n(y),h=o(129),v=n(h),k=o(68),P=n(k),w=o(1),x=n(w),M=o(2),C=n(M),O=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:'toJSON',value:function(){var e=f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'toJSON',this).call(this);return delete e._range,e}},{key:'type',get:function(){return'attribute'}},{key:'key',get:function(){return this.operations[0]?this.operations[0].key:null}},{key:'value',get:function(){return this.operations[0]?this.operations[0].newValue:null}},{key:'range',get:function(){if(this._range)return this._range;var e=null,t=null,o=!0,n=!1,a;try{for(var r=this.operations[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)(i=l.value,!(i instanceof P.default))&&((null==e||e.isAfter(i.range.start))&&(e=i.range.start),(null==t||t.isBefore(i.range.end))&&(t=i.range.end))}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}return e&&t?(this._range=new C.default(e,t),this._range):null}},{key:'_reverseDeltaClass',get:function(){return t}}],[{key:'className',get:function(){return'engine.model.delta.AttributeDelta'}}]),t}(p.default);t.default=O;var A=t.RootAttributeDelta=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,null,[{key:'className',get:function(){return'engine.model.delta.RootAttributeDelta'}}]),t}(p.default);(0,g.register)('setAttribute',function(e,t,o){return i(this,t,o,e),this}),(0,g.register)('removeAttribute',function(e,t){return i(this,t,null,e),this}),m.default.register(O),m.default.register(A)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(40),s=n(d),f=o(2),c=n(f),p=function(e){function t(e,o,n,l,i){a(this,t);var u=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i));return u.name=e,u.oldRange=o?c.default.createFromRange(o):null,u.newRange=n?c.default.createFromRange(n):null,u._markers=l,u}return l(t,e),i(t,[{key:'clone',value:function(){return new t(this.name,this.oldRange,this.newRange,this._markers,this.baseVersion)}},{key:'getReversed',value:function(){return new t(this.name,this.newRange,this.oldRange,this._markers,this.baseVersion+1)}},{key:'_execute',value:function(){var e=this.newRange?'set':'remove';return this._markers[e](this.name,this.newRange),{name:this.name,type:e}}},{key:'toJSON',value:function(){var e=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'toJSON',this).call(this);return delete e._markers,e}},{key:'type',get:function(){return'marker'}}],[{key:'fromJSON',value:function(e,o){return new t(e.name,e.oldRange?c.default.fromJSON(e.oldRange,o):null,e.newRange?c.default.fromJSON(e.newRange,o):null,o.markers,e.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.MarkerOperation'}}]),t}(s.default);t.default=p},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(40),d=n(u),s=o(6),f=n(s),c=o(0),p=n(c),_=o(1),m=n(_),g=function(e){function t(e,o,n,l){a(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l));return i.position=e,i.oldName=o,i.newName=n,i}return l(t,e),i(t,[{key:'clone',value:function(){return new t(m.default.createFromPosition(this.position),this.oldName,this.newName,this.baseVersion)}},{key:'getReversed',value:function(){return new t(m.default.createFromPosition(this.position),this.newName,this.oldName,this.baseVersion+1)}},{key:'_execute',value:function(){var e=this.position.nodeAfter;if(!(e instanceof f.default))throw new p.default('rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.');else if(e.name!==this.oldName)throw new p.default('rename-operation-wrong-name: Element to change has different name than operation\'s old name.');return e.name!=this.newName&&(e.name=this.newName),{element:e,oldName:this.oldName}}},{key:'type',get:function(){return'rename'}}],[{key:'fromJSON',value:function(e,o){return new t(m.default.fromJSON(e.position,o),e.oldName,e.newName,e.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.RenameOperation'}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(40),d=n(u),s=o(0),f=n(s),c=function(e){function t(e,o,n,l,i){a(this,t);var u=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i));return u.root=e,u.key=o,u.oldValue=n,u.newValue=l,u}return l(t,e),i(t,[{key:'clone',value:function(){return new t(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:'getReversed',value:function(){return new t(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:'_execute',value:function(){if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new f.default('rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation\'s old attribute value.',{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new f.default('rootattribute-operation-attribute-exists: The attribute with given key already exists.',{root:this.root,key:this.key});return null===this.newValue?this.root.removeAttribute(this.key):this.root.setAttribute(this.key,this.newValue),{root:this.root,key:this.key,oldValue:this.oldValue,newValue:this.newValue}}},{key:'type',get:function(){return null===this.oldValue?'addRootAttribute':null===this.newValue?'removeRootAttribute':'changeRootAttribute'}}],[{key:'fromJSON',value:function(e,o){if(!o.hasRoot(e.root))throw new f.default('rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.',{rootName:e});return new t(o.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.RootAttributeOperation'}}]),t}(d.default);t.default=c},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){var o=[],n=!0,a=!1,r;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(22),s=n(d),f=o(95),c=n(f),p=o(18),_=n(p),m=o(49),g=n(m),y=o(19),b=o(21),h=o(39),v=n(h),k=o(2),P=n(k),w=o(1),x=n(w),M=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:'type',get:function(){return'insert'}},{key:'position',get:function(){return this._insertOperation?this._insertOperation.position:null}},{key:'nodes',get:function(){return this._insertOperation?this._insertOperation.nodes:null}},{key:'_insertOperation',get:function(){return this.operations[0]||null}},{key:'_reverseDeltaClass',get:function(){return c.default}}],[{key:'className',get:function(){return'engine.model.delta.InsertDelta'}}]),t}(s.default);t.default=M,(0,y.register)('insert',function(e,t){var o=(0,b.normalizeNodes)(t);if(0===o.length)return this;var n=new M,a=new g.default(e,o,this.document.version);if(this.addDelta(n),n.addOperation(a),this.document.applyOperation(a),t instanceof v.default){var r=!0,l=!1,u;try{for(var d=t.markers[Symbol.iterator](),s;!(r=(s=d.next()).done);r=!0){var f=s.value,c=i(f,2),p=c[0],_=c[1],m=x.default.createAt(_.root),y=new P.default(_.start._getCombined(m,e),_.end._getCombined(m,e));this.setMarker(p,y)}}catch(e){l=!0,u=e}finally{try{!r&&d.return&&d.return()}finally{if(l)throw u}}}return this}),_.default.register(M)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,o){t.addOperation(o),e.document.applyOperation(o)}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(22),s=n(d),f=o(18),c=n(f),p=o(19),_=o(128),m=n(_),g=o(6),y=n(g),b=o(1),h=n(b),v=o(0),k=n(v),P=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:'type',get:function(){return'rename'}},{key:'_reverseDeltaClass',get:function(){return t}}],[{key:'className',get:function(){return'engine.model.delta.RenameDelta'}}]),t}(s.default);t.default=P,(0,p.register)('rename',function(e,t){if(!(e instanceof y.default))throw new k.default('batch-rename-not-element-instance: Trying to rename an object which is not an instance of Element.');var o=new P;this.addDelta(o);var n=new m.default(h.default.createBefore(e),e.name,t,this.document.version);return i(this,o,n),this}),c.default.register(P)},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(133),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){return!!e.length&&-1<(0,a.default)(e,t,0)}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(186),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t,o){if(t!==t)return(0,a.default)(e,o);for(var n=o-1,r=e.length;++n<r;)if(e[n]===t)return n;return-1}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o){for(var n=-1,a=e.length;++n<a;)if(o(t,e[n]))return!0;return!1}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return function(t){return e(t)}}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){return e.has(t)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(101),r=n(a),l=o(57),i=n(l),u=o(58),d=n(u);t.default=function(e,t){t=(0,i.default)(t,e)?[t]:(0,r.default)(t);for(var o=0,n=t.length;null!=e&&o<n;)e=e[(0,d.default)(t[o++])];return o&&o==n?e:void 0}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(42),r=n(a),l=o(12),i=n(l);t.default=function(e,t,o){var n=e?e.length:0;return n?(t=o||void 0===t?1:(0,i.default)(t),(0,r.default)(e,0>t?0:t,n)):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(42),r=n(a),l=o(12),i=n(l);t.default=function(e,t,o){var n=e?e.length:0;return n?(t=o||void 0===t?1:(0,i.default)(t),t=n-t,(0,r.default)(e,0,0>t?0:t)):[]}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return e&&e.length?e[0]:void 0}},function(e,t,o){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var r=o(93),l=a(r),i=o(132),u=a(i),d=o(134),s=a(d),f=o(29),c=a(f),p=o(135),_=a(p),m=o(136),g=a(m);t.default=function(e,t,o){for(var a=o?s.default:u.default,r=e[0].length,i=e.length,d=i,f=Array(i),p=Infinity,m=[];d--;){var y=e[d];d&&t&&(y=(0,c.default)(y,(0,_.default)(t))),p=n(y.length,p),f[d]=!o&&(t||120<=r&&120<=y.length)?new l.default(d&&y):void 0}y=e[0];var b=-1,h=f[0];outer:for(;++b<r&&m.length<p;){var v=y[b],k=t?t(v):v;if(v=o||0!==v?v:0,h?!(0,g.default)(h,k):!a(m,k,o)){for(d=i;--d;){var P=f[d];if(P?!(0,g.default)(P,k):!a(e[d],k,o))continue outer}h&&h.push(k),m.push(v)}}return m}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(13),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return(0,a.default)(e)?e:[]}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(144),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){return e&&e.length&&t&&t.length?(0,a.default)(e,t):e}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(29),r=n(a),l=o(133),i=n(l),u=o(391),d=n(u),s=o(135),f=n(s),c=Array.prototype,p=c.splice;t.default=function(e,t,o,n){var a=n?d.default:i.default,l=-1,u=t.length,s=e;for(o&&(s=(0,r.default)(e,(0,f.default)(o)));++l<u;)for(var c=0,_=t[l],m=o?o(_):_;-1<(c=a(s,m,c,n));)s!==e&&p.call(s,c,1),p.call(e,c,1);return e}},function(e,o,a){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var r=a(47),l=function(e){return e&&e.__esModule?e:{default:e}}(r);o.default=function(e,o,a,r){o=a(o);for(var i=0,u=e?e.length:0,d=o!==o,s=null===o,f=(0,l.default)(o),c=void 0===o;i<u;){var p=t((i+u)/2),_=a(e[p]),m=_!==void 0,g=null===_,y=_===_,b=(0,l.default)(_);if(d)var h=r||y;else h=c?y&&(r||m):s?y&&m&&(r||!g):f?y&&m&&!g&&(r||!b):g||b?!1:r?_<=o:_<o;h?i=p+1:u=p}return n(u,4294967295-1)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(158),r=n(a),l=o(29),i=n(l),u=o(104),d=n(u);t.default=function(e,t){if(!(e&&e.length))return[];var o=(0,d.default)(e);return null==t?o:(0,i.default)(o,function(e){return(0,r.default)(t,void 0,e)})}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(85),r=n(a),l=o(69),i=n(l),u=o(50),d=n(u);t.default=function(e,t,o){for(var n=-1,a=e.length;++n<a;)var l=l?(0,r.default)((0,i.default)(l,e[n],t,o),(0,i.default)(e[n],l,t,o)):e[n];return l&&l.length?(0,d.default)(l,t,o):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){var e=this,t=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document,'change',function(o,n,a,r,l){t.has(n)&&u.call(e,n,l,r,a.range,a.sourcePosition)},{priority:'high'})}function u(e,t,o,n,a){var r=n.end.offset-n.start.offset,l=n.start;('move'==e||'remove'==e||'reinsert'==e)&&(l=l._getTransformedByInsertion(a,r));var i=this._getTransformedByDocumentChange(e,t,l,r,a);('move'==e||'remove'==e||'reinsert'==e)&&3==i.length&&(i[2]=n);var u=f.default.createFromRanges(i),d=!u.isEqual(this),s=this.containsPosition(l),c=a&&(this.containsPosition(a)||this.start.isEqual(a));if(d){var p=f.default.createFromRange(this);this.start=u.start,this.end=u.end,this.fire('change:range',p,{type:e,batch:o,range:n,sourcePosition:a})}else(s||c)&&this.fire('change:content',f.default.createFromRange(this),{type:e,batch:o,range:n,sourcePosition:a})}Object.defineProperty(t,'__esModule',{value:!0});var d=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(2),f=n(s),c=o(9),p=n(c),_=o(4),m=n(_),g=function(e){function t(e,o){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return i.call(n),n}return l(t,e),d(t,[{key:'detach',value:function(){this.stopListening()}}]),t}(f.default);t.default=g,(0,m.default)(g,p.default)},function(e,t){'use strict';function o(e){var t=0,o=!0,n=!1,a;try{for(var r=e[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,t++}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}return t}Object.defineProperty(t,'__esModule',{value:!0}),t.default=o},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t,o){var n=(0,T.default)(e);return o&&(n=n.slice(n.indexOf(o)+1)),n.some(function(e){return e.tagName&&t.includes(e.tagName.toLowerCase())})}function l(e,t){for(;e&&e!=M.default.document;)t(e),e=e.parentNode}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){var o=[],n=!0,a=!1,r;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(33),s=n(d),f=o(26),c=n(f),p=o(20),_=n(p),m=o(38),g=n(m),y=o(108),b=n(y),h=o(125),v=n(h),k=o(65),P=n(k),w=o(70),x=o(34),M=n(x),C=o(412),O=n(C),A=o(250),T=n(A),S=o(413),E=n(S),R=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.blockFiller=t.blockFiller||w.BR_FILLER,this.preElements=['pre','code'],this.blockElements=['p','div','h1','h2','h3','h4','h5','h6'],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}return u(e,[{key:'bindFakeSelection',value:function(e,t){this._fakeSelectionMapping.set(e,b.default.createFromSelection(t))}},{key:'fakeSelectionToView',value:function(e){return this._fakeSelectionMapping.get(e)}},{key:'bindElements',value:function(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}},{key:'unbindDomElement',value:function(e){var t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);var o=!0,n=!1,a;try{for(var r=Array.from(e.childNodes)[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,this.unbindDomElement(i)}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}}},{key:'bindDocumentFragments',value:function(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}},{key:'viewToDom',value:function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(e.is('text')){var n=this._processDataFromViewText(e);return t.createTextNode(n)}if(this.mapViewToDom(e))return this.mapViewToDom(e);var a;if(e.is('documentFragment'))a=t.createDocumentFragment(),o.bind&&this.bindDocumentFragments(a,e);else{if(e.is('uiElement'))return a=e.render(t),o.bind&&this.bindElements(a,e),a;a=t.createElement(e.name),o.bind&&this.bindElements(a,e);var r=!0,l=!1,i;try{for(var u=e.getAttributeKeys()[Symbol.iterator](),d,s;!(r=(d=u.next()).done);r=!0)s=d.value,a.setAttribute(s,e.getAttribute(s))}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}}if(o.withChildren||void 0===o.withChildren){var f=!0,c=!1,p;try{for(var _=this.viewChildrenToDom(e,t,o)[Symbol.iterator](),m,g;!(f=(m=_.next()).done);f=!0)g=m.value,a.appendChild(g)}catch(e){c=!0,p=e}finally{try{!f&&_.return&&_.return()}finally{if(c)throw p}}}return a}},{key:'viewChildrenToDom',value:regeneratorRuntime.mark(function e(t,o){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a,r,l,i,u,d,s,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.getFillerOffset&&t.getFillerOffset(),r=0,l=!0,i=!1,u=void 0,e.prev=5,d=t.getChildren()[Symbol.iterator]();case 7:if(l=(s=d.next()).done){e.next=18;break}if(f=s.value,a!==r){e.next=12;break}return e.next=12,this.blockFiller(o);case 12:return e.next=14,this.viewToDom(f,o,n);case 14:r++;case 15:l=!0,e.next=7;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e['catch'](5),i=!0,u=e.t0;case 24:e.prev=24,e.prev=25,!l&&d.return&&d.return();case 27:if(e.prev=27,!i){e.next=30;break}throw u;case 30:return e.finish(27);case 31:return e.finish(24);case 32:if(a!==r){e.next=35;break}return e.next=35,this.blockFiller(o);case 35:case'end':return e.stop();}},e,this,[[5,20,24,32],[25,,27,31]])})},{key:'viewRangeToDom',value:function(e){var t=this.viewPositionToDom(e.start),o=this.viewPositionToDom(e.end),n=document.createRange();return n.setStart(t.parent,t.offset),n.setEnd(o.parent,o.offset),n}},{key:'viewPositionToDom',value:function(e){var t=e.parent;if(t.is('text')){var o=this.findCorrespondingDomText(t);if(!o)return null;var n=e.offset;return(0,w.startsWithFiller)(o)&&(n+=w.INLINE_FILLER_LENGTH),{parent:o,offset:n}}var a,r,l;if(0===e.offset){if(a=this.mapViewToDom(t),!a)return null;l=a.childNodes[0]}else{var i=e.nodeBefore;if(r=i.is('text')?this.findCorrespondingDomText(i):this.mapViewToDom(e.nodeBefore),!r)return null;a=r.parentNode,l=r.nextSibling}if(this.isText(l)&&(0,w.startsWithFiller)(l))return{parent:l,offset:w.INLINE_FILLER_LENGTH};var u=r?(0,O.default)(r)+1:0;return{parent:a,offset:u}}},{key:'domToView',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if((0,w.isBlockFiller)(e,this.blockFiller))return null;var o=this.getParentUIElement(e,this._domToViewMapping);if(o)return o;if(this.isText(e)){if((0,w.isInlineFiller)(e))return null;var n=this._processDataFromDomText(e);return''===n?null:new s.default(n)}if(this.isComment(e))return null;if(this.mapDomToView(e))return this.mapDomToView(e);var a;if(this.isDocumentFragment(e))a=new v.default,t.bind&&this.bindDocumentFragments(e,a);else{var r=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();a=new c.default(r),t.bind&&this.bindElements(e,a);for(var l=e.attributes,u=l.length-1;0<=u;u--)a.setAttribute(l[u].name,l[u].value)}if(t.withChildren||void 0===t.withChildren){var i=!0,d=!1,f;try{for(var p=this.domChildrenToView(e,t)[Symbol.iterator](),_,m;!(i=(_=p.next()).done);i=!0)m=_.value,a.appendChildren(m)}catch(e){d=!0,f=e}finally{try{!i&&p.return&&p.return()}finally{if(d)throw f}}}return a}},{key:'domChildrenToView',value:regeneratorRuntime.mark(function e(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n,a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.childNodes.length)){e.next=10;break}if(a=t.childNodes[n],r=this.domToView(a,o),null===r){e.next=7;break}return e.next=7,r;case 7:n++,e.next=1;break;case 10:case'end':return e.stop();}},e,this)})},{key:'domSelectionToView',value:function(e){if(1===e.rangeCount){var t=e.getRangeAt(0).startContainer;this.isText(t)&&(t=t.parentNode);var o=this.fakeSelectionToView(t);if(o)return o}for(var n=new b.default,a=this.isDomSelectionBackward(e),r=0;r<e.rangeCount;r++){var l=e.getRangeAt(r),i=this.domRangeToView(l);i&&n.addRange(i,a)}return n}},{key:'domRangeToView',value:function(e){var t=this.domPositionToView(e.startContainer,e.startOffset),o=this.domPositionToView(e.endContainer,e.endOffset);return t&&o?new g.default(t,o):null}},{key:'domPositionToView',value:function(e,t){if((0,w.isBlockFiller)(e,this.blockFiller))return this.domPositionToView(e.parentNode,(0,O.default)(e));var o=this.mapDomToView(e);if(o&&o.is('uiElement'))return _.default.createBefore(o);if(this.isText(e)){if((0,w.isInlineFiller)(e))return this.domPositionToView(e.parentNode,(0,O.default)(e));var n=this.findCorrespondingViewText(e),a=t;return n?((0,w.startsWithFiller)(e)&&(a-=w.INLINE_FILLER_LENGTH,a=0>a?0:a),new _.default(n,a)):null}if(0===t){var r=this.mapDomToView(e);if(r)return new _.default(r,0)}else{var l=e.childNodes[t-1],i=this.isText(l)?this.findCorrespondingViewText(l):this.mapDomToView(l);if(i&&i.parent)return new _.default(i.parent,i.index+1)}return null}},{key:'mapDomToView',value:function(e){return this.getParentUIElement(e)||this._domToViewMapping.get(e)}},{key:'findCorrespondingViewText',value:function(e){if((0,w.isInlineFiller)(e))return null;var t=this.getParentUIElement(e);if(t)return t;var o=e.previousSibling;if(o){if(!this.isElement(o))return null;var n=this.mapDomToView(o);if(n){var a=n.nextSibling;return a instanceof s.default?n.nextSibling:null}}else{var r=this.mapDomToView(e.parentNode);if(r){var l=r.getChild(0);return l instanceof s.default?l:null}}return null}},{key:'mapViewToDom',value:function(e){return this._viewToDomMapping.get(e)}},{key:'findCorrespondingDomText',value:function(e){var t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}},{key:'focus',value:function(e){var t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){var o=M.default.window,n=o.scrollX,a=o.scrollY,r=[];l(t,function(e){var t=e.scrollLeft,o=e.scrollTop;r.push([t,o])}),t.focus(),l(t,function(e){var t=r.shift(),o=i(t,2),n=o[0],a=o[1];e.scrollLeft=n,e.scrollTop=a}),M.default.window.scrollTo(n,a)}}},{key:'isText',value:function(e){return e&&e.nodeType==Node.TEXT_NODE}},{key:'isElement',value:function(e){return e&&e.nodeType==Node.ELEMENT_NODE}},{key:'isDocumentFragment',value:function(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}},{key:'isComment',value:function(e){return e&&e.nodeType==Node.COMMENT_NODE}},{key:'isDomSelectionBackward',value:function(e){if(e.isCollapsed)return!1;var t=document.createRange();t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset);var o=t.collapsed;return t.detach(),o}},{key:'getParentUIElement',value:function(e){var t=(0,T.default)(e);for(t.pop();t.length;){var o=t.pop(),n=this._domToViewMapping.get(o);if(n&&n.is('uiElement'))return n}return null}},{key:'isDomSelectionCorrect',value:function(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}},{key:'_isDomSelectionPositionCorrect',value:function(e,t){if(this.isText(e)&&(0,w.startsWithFiller)(e)&&t<w.INLINE_FILLER_LENGTH)return!1;if(this.isElement(e)&&(0,w.startsWithFiller)(e.childNodes[t]))return!1;var o=this.mapDomToView(e);return o&&o.is('uiElement')?!1:!0}},{key:'_processDataFromViewText',value:function(e){var t=this,o=e.data;if(e.getAncestors().some(function(e){return t.preElements.includes(e.name)}))return o;if(' '==o.charAt(0)){var n=this._getTouchingViewTextNode(e,!1),a=n&&this._nodeEndsWithSpace(n);(a||!n)&&(o='\xA0'+o.substr(1))}if(' '==o.charAt(o.length-1)){var r=this._getTouchingViewTextNode(e,!0);r||(o=o.substr(0,o.length-1)+'\xA0')}return o.replace(/ {2}/g,' \xA0')}},{key:'_nodeEndsWithSpace',value:function(e){var t=this;if(e.getAncestors().some(function(e){return t.preElements.includes(e.name)}))return!1;var o=this._processDataFromViewText(e);return' '==o.charAt(o.length-1)}},{key:'_processDataFromDomText',value:function(e){var t=(0,w.getDataWithoutFiller)(e);if(r(e,this.preElements))return t;t=t.replace(/[ \n\t\r]{1,}/g,' ');var o=this._getTouchingDomTextNode(e,!1),n=this._getTouchingDomTextNode(e,!0);return(!o||/[^\S\u00A0]/.test(o.data.charAt(o.data.length-1)))&&(t=t.replace(/^ /,'')),n||(t=t.replace(/ $/,'')),t=t.replace(/ \u00A0/g,'  '),(!o||/[^\S\u00A0]/.test(o.data.charAt(o.data.length-1)))&&(t=t.replace(/^\u00A0/,' ')),n&&'\xA0'!=n.data.charAt(0)||(t=t.replace(/\u00A0( *)$/,' $1')),t}},{key:'_getTouchingViewTextNode',value:function(e,t){var o=new P.default({startPosition:t?_.default.createAfter(e):_.default.createBefore(e),direction:t?'forward':'backward'}),n=!0,a=!1,r;try{for(var l=o[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0){if(u=i.value,u.item.is('containerElement'))return null;if(u.item.is('text'))return u.item}}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return null}},{key:'_getTouchingDomTextNode',value:function(e,t){if(!e.parentNode)return null;var o=t?'nextNode':'previousNode',n=e.ownerDocument,a=n.createTreeWalker(n.childNodes[0],NodeFilter.SHOW_TEXT);a.currentNode=e;var l=a[o]();if(null!==l){var i=(0,E.default)(e,l);if(i&&!r(e,this.blockElements,i)&&!r(l,this.blockElements,i))return l}return null}}]),e}();t.default=R},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(46),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(){function e(t,o,a){n(this,e),this.document=t,this.domEvent=o,this.domTarget=o.target,(0,l.default)(this,a)}return a(e,[{key:'preventDefault',value:function(){this.domEvent.preventDefault()}},{key:'stopPropagation',value:function(){this.domEvent.stopPropagation()}},{key:'target',get:function(){return this.document.domConverter.mapDomToView(this.domTarget)}}]),e}();t.default=i},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return'[object Range]'==Object.prototype.toString.apply(e)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return e.every(function(e){return'string'==typeof e})}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},s=o(0),f=n(s),c=o(15),p=n(c),_=o(154),m=n(_),g=o(4),y=n(g),b=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{idProperty:'viewUid'}));return o.on('add',function(e,t,n){t.element&&o._parentElement&&o._parentElement.insertBefore(t.element,o._parentElement.children[n])}),o.on('remove',function(e,t){t.element&&o._parentElement&&t.element.remove()}),o.locale=e,o.set('ready',!1),o._parentElement=null,o}return l(t,e),u(t,[{key:'init',value:function(){if(this.ready)throw new f.default('ui-viewcollection-init-reinit: This ViewCollection has already been initialized.');this.map(function(e){return e.init()}),this.ready=!0}},{key:'destroy',value:function(){this.map(function(e){return e.destroy()})}},{key:'add',value:function(e,o){d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'add',this).call(this,e,o),this.ready&&!e.ready&&e.init()}},{key:'setParent',value:function(e){this._parentElement=e}},{key:'delegate',value:function(){for(var e=this,t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];if(!o.length||!i(o))throw new f.default('ui-viewcollection-delegate-wrong-events: All event names must be strings.');return{to:function(t){var n=!0,a=!1,r;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done);n=!0){var u=i.value,d=!0,s=!1,f=void 0;try{for(var c=o[Symbol.iterator](),p,_;!(d=(p=c.next()).done);d=!0)_=p.value,u.delegate(_).to(t)}catch(e){s=!0,f=e}finally{try{!d&&c.return&&c.return()}finally{if(s)throw f}}}}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}e.on('add',function(e,n){var a=!0,r=!1,l;try{for(var i=o[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,n.delegate(d).to(t)}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}}),e.on('remove',function(e,n){var a=!0,r=!1,l;try{for(var i=o[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,n.stopDelegating(d,t)}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}})}}}}]),t}(m.default);t.default=b,(0,y.default)(m.default,p.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(9),i=n(l),u=o(0),d=n(u),s=o(61),f=n(s),c=o(4),p=n(c),_=function(){function e(t){a(this,e),this._items=[],this._itemMap=new Map,this._idProperty=t&&t.idProperty||'id',this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap}return r(e,[{key:'add',value:function(e,t){var o=this._idProperty,n;if(o in e){if(n=e[o],'string'!=typeof n)throw new d.default('collection-add-invalid-id');if(this.get(n))throw new d.default('collection-add-item-already-exists')}else e[o]=n=(0,f.default)();if(void 0===t)t=this._items.length;else if(t>this._items.length||0>t)throw new d.default('collection-add-item-invalid-index');return this._items.splice(t,0,e),this._itemMap.set(n,e),this.fire('add',e,t),this}},{key:'get',value:function(e){var t;if('string'==typeof e)t=this._itemMap.get(e);else if('number'==typeof e)t=this._items[e];else throw new d.default('collection-get-invalid-arg: Index or id must be given.');return t||null}},{key:'getIndex',value:function(e){var t;return t='string'==typeof e?this._itemMap.get(e):e,this._items.indexOf(t)}},{key:'remove',value:function(e){var t=!1,o=this._idProperty,n,a,r;if('string'==typeof e?(a=e,r=this._itemMap.get(a),t=!r,r&&(n=this._items.indexOf(r))):'number'==typeof e?(n=e,r=this._items[n],t=!r,r&&(a=r[o])):(r=e,a=r[o],n=this._items.indexOf(r),t=-1==n||!this._itemMap.get(a)),t)throw new d.default('collection-remove-404: Item not found.');this._items.splice(n,1),this._itemMap.delete(a);var l=this._bindToInternalToExternalMap.get(r);return this._bindToInternalToExternalMap.delete(r),this._bindToExternalToInternalMap.delete(l),this.fire('remove',r),r}},{key:'map',value:function(e,t){return this._items.map(e,t)}},{key:'find',value:function(e,t){return this._items.find(e,t)}},{key:'filter',value:function(e,t){return this._items.filter(e,t)}},{key:'clear',value:function(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}},{key:'bindTo',value:function(e){var t=this;if(this._bindToCollection)throw new d.default('collection-bind-to-rebind: The collection cannot be bound more than once.');return this._bindToCollection=e,{as:function(e){t._setUpBindToBinding(function(t){return new e(t)})},using:function(e){'function'==typeof e?t._setUpBindToBinding(function(t){return e(t)}):t._setUpBindToBinding(function(t){return t[e]})}}}},{key:'_setUpBindToBinding',value:function(e){var t=this,o=this._bindToCollection,n=function(n,a,r){var l=o._bindToCollection==t,i=o._bindToInternalToExternalMap.get(a);if(l&&i)t._bindToExternalToInternalMap.set(a,i),t._bindToInternalToExternalMap.set(i,a);else{var u=e(a);t._bindToExternalToInternalMap.set(a,u),t._bindToInternalToExternalMap.set(u,a),t.add(u,r)}},a=!0,r=!1,l;try{for(var i=o[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,n(null,d)}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}this.listenTo(o,'add',n),this.listenTo(o,'remove',function(e,o){var n=t._bindToExternalToInternalMap.get(o);n&&t.remove(n)})}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:'length',get:function(){return this._items.length}}]),e}();t.default=_,(0,p.default)(_,i.default)},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e){return!!(e.focus&&'none'!=i.default.window.getComputedStyle(e.element).display)}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(34),i=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(){function e(t){var o=this;if(n(this,e),Object.assign(this,t),t.actions&&t.keystrokeHandler){var a=function(e){var n=t.actions[e];'string'==typeof n&&(n=[n]);var a=!0,r=!1,l;try{for(var i=n[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,t.keystrokeHandler.set(d,function(t,n){o[e](),n()})}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}};for(var r in t.actions)a(r)}}return r(e,[{key:'focusFirst',value:function(){this._focus(this.first)}},{key:'focusLast',value:function(){this._focus(this.last)}},{key:'focusNext',value:function(){this._focus(this.next)}},{key:'focusPrevious',value:function(){this._focus(this.previous)}},{key:'_focus',value:function(e){e&&e.focus()}},{key:'_getFocusableItem',value:function(e){var t=this.current,o=this.focusables.length;if(!o)return null;if(null===t)return this[1===e?'first':'last'];var n=(t+o+e)%o;do{var r=this.focusables.get(n);if(a(r))return r;n=(n+o+e)%o}while(n!==t);return null}},{key:'first',get:function(){return this.focusables.find(a)||null}},{key:'last',get:function(){return this.focusables.filter(a).slice(-1)[0]||null}},{key:'next',get:function(){return this._getFocusableItem(1)}},{key:'previous',get:function(){return this._getFocusableItem(-1)}},{key:'current',get:function(){var e=this,t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find(function(o,n){var a=o.element===e.focusTracker.focusedElement;return a&&(t=n),a}),t)}}]),e}();t.default=u},function(e,t,o){'use strict';function n(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function a(e,t,o){var n=new u.default;n.on('change:top',function(n,a){a.oldDescriptor&&o(e,a.oldDescriptor),a.newDescriptor&&t(e,a.newDescriptor)}),e.setCustomProperty('addHighlight',function(e,t){return n.add(t)}),e.setCustomProperty('removeHighlight',function(e,t){return n.remove(t)})}function r(e,t){e.setCustomProperty(s,t)}function l(){return null}Object.defineProperty(t,'__esModule',{value:!0}),t.WIDGET_SELECTED_CLASS_NAME=t.WIDGET_CLASS_NAME=void 0,t.isWidget=function(e){return!!e.getCustomProperty(d)},t.toWidget=function(e){function t(e){return Array.isArray(e)?e:[e]}var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e.setAttribute('contenteditable',!1),e.getFillerOffset=l,e.addClass(f),e.setCustomProperty(d,!0),o.label&&r(e,o.label),a(e,function(e,o){return e.addClass.apply(e,n(t(o.class)))},function(e,o){return e.removeClass.apply(e,n(t(o.class)))}),e},t.setHighlightHandling=a,t.setLabel=r,t.getLabel=function(e){var t=e.getCustomProperty(s);return t?'function'==typeof t?t():t:''},t.toWidgetEditable=function(e){return e.addClass('ck-editable'),e.setAttribute('contenteditable',!e.isReadOnly),e.on('change:isReadOnly',function(t,o,n){e.setAttribute('contenteditable',!n)}),e.on('change:isFocused',function(t,o,n){n?e.addClass('ck-editable_focused'):e.removeClass('ck-editable_focused')}),e};var i=o(496),u=function(e){return e&&e.__esModule?e:{default:e}}(i),d=Symbol('isWidget'),s=Symbol('label'),f=t.WIDGET_CLASS_NAME='ck-widget',c=t.WIDGET_SELECTED_CLASS_NAME='ck-widget_selected'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(3),d=n(u),s=o(270),f=n(s),c=o(0),p=n(c),_=o(60),m=n(_),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this;this.view=new f.default,this.positionLimiter=function(){var t=e.editor.editing.view,o=t.selection.editableElement;return o?t.domConverter.mapViewToDom(o.root):null},this._stack=new Map,this.editor.ui.focusTracker.add(this.view.element),this.editor.ui.view.body.add(this.view)}},{key:'hasView',value:function(e){return this._stack.has(e)}},{key:'add',value:function(e){if(this.hasView(e.view))throw new p.default('contextualballoon-add-view-exist: Cannot add configuration of the same view twice.');this.visibleView&&this.view.content.remove(this.visibleView),this._stack.set(e.view,e),this._show(e)}},{key:'remove',value:function(e){if(!this.hasView(e))throw new p.default('contextualballoon-remove-view-not-exist: Cannot remove configuration of not existing view.');if(this.visibleView===e){this.view.content.remove(e),this._stack.delete(e);var t=Array.from(this._stack.values()).pop();t?this._show(t):this.view.hide()}else this._stack.delete(e)}},{key:'updatePosition',value:function(e){e&&(this._stack.get(this.visibleView).position=e),this.view.attachTo(this._getBalloonPosition())}},{key:'_show',value:function(e){var t=e.view,o=e.balloonClassName,n=void 0===o?'':o;this.view.className=n,this.view.content.add(t),this.view.pin(this._getBalloonPosition())}},{key:'_getBalloonPosition',value:function(){var e=(0,m.default)(this._stack.values()).position;return e&&!e.limiter&&(e=Object.assign({},e,{limiter:this.positionLimiter})),e}},{key:'visibleView',get:function(){var e=this._stack.get(this.view.content.get(0));return e?e.view:null}}],[{key:'pluginName',get:function(){return'ContextualBalloon'}}]),t}(d.default);t.default=g},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o){var n=o.length;return 0===n?e.call(t):1===n?e.call(t,o[0]):2===n?e.call(t,o[0],o[1]):3===n?e.call(t,o[0],o[1],o[2]):e.apply(t,o)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(114),r=n(a),l=o(16),i=n(l),u=o(47),d=n(u),s=0/0,f=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,_=/^0o[0-7]+$/i,m=parseInt;t.default=function(e){if('number'==typeof e)return e;if((0,d.default)(e))return s;if((0,i.default)(e)){var t=(0,r.default)(e.valueOf)?e.valueOf():e;e=(0,i.default)(t)?t+'':t}if('string'!=typeof e)return 0===e?e:+e;e=e.replace(f,'');var o=p.test(e);return o||_.test(e)?m(e.slice(2),o?2:8):c.test(e)?s:+e}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(161),r=n(a),l=o(115),i=n(l),u=o(14),d=n(u),s=o(77),f=n(s),c=o(116),p=n(c);t.default=function(e){var t=e?e.length:void 0;return(0,f.default)(t)&&((0,d.default)(e)||(0,p.default)(e)||(0,i.default)(e))?(0,r.default)(t,String):null}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){for(var o=-1,n=Array(e);++o<e;)n[o]=t(o);return n}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(1),i=n(l),u=o(2),d=n(u),s=o(20),f=n(s),c=o(38),p=n(c),_=o(33),m=n(_),g=o(9),y=n(g),b=o(4),h=n(b),v=function(){function e(){var t=this;a(this,e),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this.on('modelToViewPosition',function(e,o){if(!o.viewPosition){var n=t._modelToViewMapping.get(o.modelPosition.parent);o.viewPosition=t._findPositionIn(n,o.modelPosition.offset)}},{priority:'low'}),this.on('viewToModelPosition',function(e,o){if(!o.modelPosition){for(var n=o.viewPosition.parent,a=t._viewToModelMapping.get(n);!a;)n=n.parent,a=t._viewToModelMapping.get(n);var r=t._toModelOffset(o.viewPosition.parent,o.viewPosition.offset,n);o.modelPosition=i.default.createFromParentAndOffset(a,r)}},{priority:'low'})}return r(e,[{key:'bindElements',value:function(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}},{key:'unbindViewElement',value:function(e){var t=this.toModelElement(e);this._unbindElements(t,e)}},{key:'unbindModelElement',value:function(e){var t=this.toViewElement(e);this._unbindElements(e,t)}},{key:'clearBindings',value:function(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap}},{key:'toModelElement',value:function(e){return this._viewToModelMapping.get(e)}},{key:'toViewElement',value:function(e){return this._modelToViewMapping.get(e)}},{key:'toModelRange',value:function(e){return new d.default(this.toModelPosition(e.start),this.toModelPosition(e.end))}},{key:'toViewRange',value:function(e){return new p.default(this.toViewPosition(e.start),this.toViewPosition(e.end))}},{key:'toModelPosition',value:function(e){var t={viewPosition:e,mapper:this};return this.fire('viewToModelPosition',t),t.modelPosition}},{key:'toViewPosition',value:function(e){var t={modelPosition:e,mapper:this};return this.fire('modelToViewPosition',t),t.viewPosition}},{key:'registerViewToModelLength',value:function(e,t){this._viewToModelLengthCallbacks.set(e,t)}},{key:'_toModelOffset',value:function(e,t,o){if(o!=e){var n=this._toModelOffset(e.parent,e.index,o),a=this._toModelOffset(e,t,e);return n+a}if(e.is('text'))return t;for(var r=0,l=0;l<t;l++)r+=this.getModelLength(e.getChild(l));return r}},{key:'_unbindElements',value:function(e,t){this._viewToModelMapping.delete(t),this._modelToViewMapping.delete(e)}},{key:'getModelLength',value:function(e){if(this._viewToModelLengthCallbacks.get(e.name)){var t=this._viewToModelLengthCallbacks.get(e.name);return t(e)}if(this._viewToModelMapping.has(e))return 1;if(e.is('text'))return e.data.length;if(e.is('uiElement'))return 0;var o=0,n=!0,a=!1,r;try{for(var l=e.getChildren()[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,o+=this.getModelLength(u)}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return o}},{key:'_findPositionIn',value:function(e,t){var o=0,n=0,a=0,r;if(e.is('text'))return new f.default(e,t);for(;n<t;)r=e.getChild(a),o=this.getModelLength(r),n+=o,a++;return n==t?this._moveViewPositionToTextNode(new f.default(e,a)):this._findPositionIn(r,t-(n-o))}},{key:'_moveViewPositionToTextNode',value:function(e){var t=e.nodeBefore,o=e.nodeAfter;return t instanceof m.default?new f.default(t,t.data.length):o instanceof m.default?new f.default(o,0):e}}]),e}();t.default=v,(0,h.default)(v,y.default)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=new Map;for(var o in e)t.set(o,e[o]);return t}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o,n,r,i,d){var f;if(n&&(f=i?n(e,r,i,d):n(e)),void 0!==f)return f;if(!(0,F.default)(e))return e;var p=(0,S.default)(e);if(!p){var m=(0,P.default)(e),y=m==j||m==q;if((0,R.default)(e))return(0,_.default)(e,t);if(m==W||m==L||y&&!i){if((0,V.default)(e))return i?e:{};if(f=(0,A.default)(y?{}:e),!t)return(0,b.default)(e,(0,c.default)(f,e))}else{if(!z[m])return i?e:{};f=(0,C.default)(e,m,a,t)}}else if(f=(0,x.default)(e),!t)return(0,g.default)(e,f);d||(d=new l.default);var h=d.get(e);if(h)return h;if(d.set(e,f),!p)var k=o?(0,v.default)(e):(0,D.default)(e);return(0,u.default)(k||e,function(r,l){k&&(l=r,r=e[l]),(0,s.default)(f,l,a(r,t,o,n,l,e,d))}),f}Object.defineProperty(t,'__esModule',{value:!0});var r=o(118),l=n(r),i=o(321),u=n(i),d=o(62),s=n(d),f=o(322),c=n(f),p=o(324),_=n(p),m=o(169),g=n(m),y=o(325),b=n(y),h=o(326),v=n(h),k=o(120),P=n(k),w=o(331),x=n(w),M=o(332),C=n(M),O=o(341),A=n(O),T=o(14),S=n(T),E=o(343),R=n(E),I=o(74),V=n(I),N=o(16),F=n(N),B=o(67),D=n(B),L='[object Arguments]',j='[object Function]',q='[object GeneratorFunction]',W='[object Object]',z={};z[L]=z['[object Array]']=z['[object ArrayBuffer]']=z['[object DataView]']=z['[object Boolean]']=z['[object Date]']=z['[object Float32Array]']=z['[object Float64Array]']=z['[object Int8Array]']=z['[object Int16Array]']=z['[object Int32Array]']=z['[object Map]']=z['[object Number]']=z[W]=z['[object RegExp]']=z['[object Set]']=z['[object String]']=z['[object Symbol]']=z['[object Uint8Array]']=z['[object Uint8ClampedArray]']=z['[object Uint16Array]']=z['[object Uint32Array]']=!0,z['[object Error]']=z[j]=z['[object WeakMap]']=!1,t.default=a},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(114),r=n(a),l=o(74),i=n(l),u=o(16),d=n(u),s=o(166),f=n(s),c=/[\\^$.*+?()[\]{}|]/g,p=/^\[object .+?Constructor\]$/,_=Object.prototype,m=Function.prototype.toString,g=_.hasOwnProperty,y=RegExp('^'+m.call(g).replace(c,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$');t.default=function(e){if(!(0,d.default)(e))return!1;var t=(0,r.default)(e)||(0,i.default)(e)?y:p;return t.test((0,f.default)(e))}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=Function.prototype.toString;t.default=function(e){if(null!=e){try{return o.call(e)}catch(t){}try{return e+''}catch(t){}}return''}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(56),r=n(a),l=o(31),i=n(l),u=(0,r.default)(i.default,'Map');t.default=u},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},a=o(111),r=function(e){return e&&e.__esModule?e:{default:e}}(a),l=Object.prototype,i=l.hasOwnProperty;t.default=function(e,t){return i.call(e,t)||'object'==('undefined'==typeof e?'undefined':n(e))&&t in e&&null===(0,r.default)(e)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){var o=-1,n=e.length;for(t||(t=Array(n));++o<n;)t[o]=e[o];return t}},function(e,t){'use strict';function o(e){return n(Object(e))}Object.defineProperty(t,'__esModule',{value:!0});var n=Object.getOwnPropertySymbols;n||(o=function(){return[]}),t.default=o},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(56),r=n(a),l=o(31),i=n(l),u=(0,r.default)(i.default,'Set');t.default=u},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(31),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a.default.Uint8Array;t.default=r},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o,n){var a=-1,r=e.length;for(n&&r&&(o=e[++a]);++a<r;)o=t(o,e[a],a,e);return o}},function(e,t){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if('function'==typeof t)return t(e);var o={};return t.name&&(o.name=a(t.name,e.name),!o.name)?null:t.attribute&&(o.attribute=r(t.attribute,e),!o.attribute)?null:t.class&&(o.class=l(t.class,e),!o.class)?!1:t.style&&(o.style=i(t.style,e),!o.style)?!1:o}function a(e,t){return e instanceof RegExp?e.test(t):e===t}function r(e,t){var o=[];for(var n in e){var a=e[n];if(t.hasAttribute(n)){var r=t.getAttribute(n);if(a instanceof RegExp){if(a.test(r))o.push(n);else return null;}else if(r===a)o.push(n);else return null}else return null}return o}function l(e,t){var o=[],n=!0,a=!1,r;try{for(var l=e[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)if(u=i.value,u instanceof RegExp){var d=t.getClassNames(),s=!0,f=!1,c=void 0;try{for(var p=d[Symbol.iterator](),_,m;!(s=(_=p.next()).done);s=!0)m=_.value,u.test(m)&&o.push(m)}catch(e){f=!0,c=e}finally{try{!s&&p.return&&p.return()}finally{if(f)throw c}}if(0===o.length)return null}else if(t.hasClass(u))o.push(u);else return null}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return o}function i(e,t){var o=[];for(var n in e){var a=e[n];if(t.hasStyle(n)){var r=t.getStyle(n);if(a instanceof RegExp){if(a.test(r))o.push(n);else return null;}else if(r===a)o.push(n);else return null}else return null}return o}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=function(){function e(){o(this,e),this._patterns=[],this.add.apply(this,arguments)}return u(e,[{key:'add',value:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=!0,a=!1,r;try{for(var l=t[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,('string'==typeof u||u instanceof RegExp)&&(u={name:u}),u.class&&('string'==typeof u.class||u.class instanceof RegExp)&&(u.class=[u.class]),this._patterns.push(u)}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}}},{key:'match',value:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var a=!0,r=!1,l;try{for(var i=t[Symbol.iterator](),u;!(a=(u=i.next()).done);a=!0){var d=u.value,s=!0,f=!1,c=void 0;try{for(var p=this._patterns[Symbol.iterator](),_;!(s=(_=p.next()).done);s=!0){var m=_.value,g=n(d,m);if(g)return{element:d,pattern:m,match:g}}}catch(e){f=!0,c=e}finally{try{!s&&p.return&&p.return()}finally{if(f)throw c}}}}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}return null}},{key:'matchAll',value:function(){for(var e=[],t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];var r=!0,l=!1,i;try{for(var u=o[Symbol.iterator](),d;!(r=(d=u.next()).done);r=!0){var s=d.value,f=!0,c=!1,p=void 0;try{for(var _=this._patterns[Symbol.iterator](),m;!(f=(m=_.next()).done);f=!0){var g=m.value,y=n(s,g);y&&e.push({element:s,pattern:g,match:y})}}catch(e){c=!0,p=e}finally{try{!f&&_.return&&_.return()}finally{if(c)throw p}}}}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}return 0<e.length?e:null}},{key:'getElementName',value:function(){if(1!==this._patterns.length)return null;var e=this._patterns[0],t=e.name;return'function'!=typeof e&&t&&!(t instanceof RegExp)?t:null}}]),e}();t.default=d},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(346),i=n(l),u=o(2),d=n(u),s=o(1),f=n(s),c=o(39),p=n(c),_=o(9),m=n(_),g=o(4),y=n(g),b=o(46),h=n(b),v=function(){function e(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};a(this,e),this._modelDocument=t,this.conversionApi=(0,h.default)({dispatcher:this},o)}return r(e,[{key:'convertChange',value:function(e,t){'remove'!==e&&t.range&&'$graveyard'==t.range.root.rootName||'remove'==e&&'$graveyard'==t.sourcePosition.root.rootName||'rename'==e&&'$graveyard'==t.element.root.rootName||('insert'==e||'reinsert'==e?this.convertInsertion(t.range):'move'==e?this.convertMove(t.sourcePosition,t.range):'remove'==e?this.convertRemove(t.sourcePosition,t.range):'addAttribute'==e||'removeAttribute'==e||'changeAttribute'==e?this.convertAttribute(e,t.range,t.key,t.oldValue,t.newValue):'rename'==e&&this.convertRename(t.element,t.oldName))}},{key:'convertInsertion',value:function(e){var t=this._createInsertConsumable(e),o=!0,n=!1,a;try{for(var r=e[Symbol.iterator](),l;!(o=(l=r.next()).done);o=!0){var i=l.value,u=i.item,s=d.default.createFromPositionAndShift(i.previousPosition,i.length),f={item:u,range:s};this._testAndFire('insert',f,t);var c=!0,p=!1,_=void 0;try{for(var m=u.getAttributeKeys()[Symbol.iterator](),g,y;!(c=(g=m.next()).done);c=!0)y=g.value,f.attributeKey=y,f.attributeOldValue=null,f.attributeNewValue=u.getAttribute(y),this._testAndFire('addAttribute:'+y,f,t)}catch(e){p=!0,_=e}finally{try{!c&&m.return&&m.return()}finally{if(p)throw _}}}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}var b=!0,h=!1,v;try{for(var k=this._modelDocument.markers[Symbol.iterator](),P;!(b=(P=k.next()).done);b=!0){var w=P.value,x=w.getRange();x.containsPosition(e.start)&&this.convertMarker('addMarker',w.name,x.getIntersection(e)),e.containsRange(x,!0)&&this.convertMarker('addMarker',w.name,x)}}catch(e){h=!0,v=e}finally{try{!b&&k.return&&k.return()}finally{if(h)throw v}}}},{key:'convertMove',value:function(e,t){if(t.start.isBefore(e)){this.convertInsertion(t);var o=e._getTransformedByInsertion(t.start,t.end.offset-t.start.offset);this.convertRemove(o,t)}else this.convertRemove(e,t),this.convertInsertion(t)}},{key:'convertRemove',value:function(e,t){var o=this._createConsumableForRange(t,'remove'),n=!0,a=!1,r;try{for(var l=t.getItems({shallow:!0})[Symbol.iterator](),i;!(n=(i=l.next()).done);n=!0){var u=i.value;this._testAndFire('remove',{sourcePosition:e,item:u},o)}}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}}},{key:'convertAttribute',value:function(e,t,o,n,a){if(n!=a){var r=this._createConsumableForRange(t,e+':'+o),l=!0,i=!1,u;try{for(var s=t[Symbol.iterator](),f;!(l=(f=s.next()).done);l=!0){var c=f.value,p=c.item,_=d.default.createFromPositionAndShift(c.previousPosition,c.length);this._testAndFire(e+':'+o,{item:p,range:_,attributeKey:o,attributeOldValue:n,attributeNewValue:a},r)}}catch(e){i=!0,u=e}finally{try{!l&&s.return&&s.return()}finally{if(i)throw u}}}}},{key:'convertRename',value:function(e,t){if(e.name!=t){var o=e.clone(!0);o.name=t,this.conversionApi.mapper.bindElements(o,this.conversionApi.mapper.toViewElement(e));var n=new p.default;n.appendChildren(o),this.convertRemove(f.default.createBefore(e),d.default.createOn(o)),this.convertInsertion(d.default.createOn(e))}}},{key:'convertSelection',value:function(e){var t=Array.from(this._modelDocument.markers.getMarkersAtPosition(e.getFirstPosition())),o=this._createSelectionConsumable(e,t);this.fire('selection',{selection:e},o,this.conversionApi);var n=!0,a=!1,r;try{for(var l=t[Symbol.iterator](),i;!(n=(i=l.next()).done);n=!0){var u=i.value,d={selection:e,markerName:u.name,markerRange:u.getRange()};o.test(e,'selectionMarker:'+u.name)&&this.fire('selectionMarker:'+u.name,d,o,this.conversionApi)}}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}var s=!0,f=!1,c;try{for(var p=e.getAttributeKeys()[Symbol.iterator](),_;!(s=(_=p.next()).done);s=!0){var m=_.value,d={selection:e,key:m,value:e.getAttribute(m)};o.test(e,'selectionAttribute:'+d.key)&&this.fire('selectionAttribute:'+d.key,d,o,this.conversionApi)}}catch(e){f=!0,c=e}finally{try{!s&&p.return&&p.return()}finally{if(f)throw c}}}},{key:'convertMarker',value:function(e,t,o){if(o.root.document&&'$graveyard'!=o.root.rootName){var n=e+':'+t;if(o.isCollapsed){var a=new i.default;return a.add(o,n),void this.fire(n,{markerName:t,markerRange:o},a,this.conversionApi)}var r=this._createConsumableForRange(o,n),l=!0,u=!1,s;try{for(var f=o[Symbol.iterator](),c;!(l=(c=f.next()).done);l=!0){var p=c.value,_=p.item;if(r.test(_,n)){var m={item:_,range:d.default.createFromPositionAndShift(p.previousPosition,p.length),markerName:t,markerRange:o};this.fire(n,m,r,this.conversionApi)}}}catch(e){u=!0,s=e}finally{try{!l&&f.return&&f.return()}finally{if(u)throw s}}}}},{key:'_createInsertConsumable',value:function(e){var t=new i.default,o=!0,n=!1,a;try{for(var r=e[Symbol.iterator](),l;!(o=(l=r.next()).done);o=!0){var u=l.value,d=u.item;t.add(d,'insert');var s=!0,f=!1,c=void 0;try{for(var p=d.getAttributeKeys()[Symbol.iterator](),_,m;!(s=(_=p.next()).done);s=!0)m=_.value,t.add(d,'addAttribute:'+m)}catch(e){f=!0,c=e}finally{try{!s&&p.return&&p.return()}finally{if(f)throw c}}}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}return t}},{key:'_createConsumableForRange',value:function(e,t){var o=new i.default,n=!0,a=!1,r;try{for(var l=e.getItems()[Symbol.iterator](),u,d;!(n=(u=l.next()).done);n=!0)d=u.value,o.add(d,t)}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return o}},{key:'_createSelectionConsumable',value:function(e,t){var o=new i.default;o.add(e,'selection');var n=!0,a=!1,r;try{for(var l=t[Symbol.iterator](),u,d;!(n=(u=l.next()).done);n=!0)d=u.value,o.add(e,'selectionMarker:'+d.name)}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}var s=!0,f=!1,c;try{for(var p=e.getAttributeKeys()[Symbol.iterator](),_,m;!(s=(_=p.next()).done);s=!0)m=_.value,o.add(e,'selectionAttribute:'+m)}catch(e){f=!0,c=e}finally{try{!s&&p.return&&p.return()}finally{if(f)throw c}}return o}},{key:'_testAndFire',value:function(e,t,o){if(o.test(t.item,e)){var n=t.item.name||'$text';this.fire(e+':'+n,t,o,this.conversionApi)}}}]),e}();t.default=v,(0,y.default)(v,m.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){return null}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},s=o(26),f=n(s),c=o(0),p=n(c),_=o(80),m=n(_),g=function(e){function t(e,o,n){a(this,t);var l=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o,n));return l.getFillerOffset=i,l}return l(t,e),u(t,[{key:'is',value:function(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return o?'emptyElement'==e&&o==this.name||d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e,o):'emptyElement'==e||d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e)}},{key:'insertChildren',value:function(e,t){if(t&&(t instanceof m.default||0<Array.from(t).length))throw new p.default('view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.')}}]),t}(f.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){var e=this,t=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document,'change',function(o,n,a){t.has(n)&&u.call(e,n,a.range,a.sourcePosition)},{priority:'high'})}function u(e,t,o){var n=t.end.offset-t.start.offset,a;switch(e){case'insert':var r='sticksToNext'==this.stickiness;a=this._getTransformedByInsertion(t.start,n,r);break;case'move':case'remove':case'reinsert':var l=p.default.createFromPositionAndShift(o,n),i=l.containsPosition(this)||l.start.isEqual(this)&&'sticksToNext'==this.stickiness||l.end.isEqual(this)&&'sticksToPrevious'==this.stickiness;if(i)a=this._getCombined(o,t.start);else{var u='sticksToNext'==this.stickiness;a=this._getTransformedByMove(o,t.start,n,u)}}if(!this.isEqual(a)){var d=f.default.createFromPosition(this);this.path=a.path,this.root=a.root,this.fire('change',d)}}Object.defineProperty(t,'__esModule',{value:!0});var d=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(1),f=n(s),c=o(2),p=n(c),_=o(9),m=n(_),g=o(4),y=n(g),b=o(0),h=n(b),v=function(e){function t(e,o,n){a(this,t);var l=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));if(!l.root.is('rootElement'))throw new h.default('model-liveposition-root-not-rootelement: LivePosition root has to be an instance of RootElement.');return l.stickiness=n||'sticksToNext',i.call(l),l}return l(t,e),d(t,[{key:'detach',value:function(){this.stopListening()}}]),t}(f.default);t.default=v,(0,y.default)(v,m.default)},function(e,t){'use strict';function o(e){return!!e&&1==e.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(e)}function n(e){return!!e&&1==e.length&&/[\ud800-\udbff]/.test(e)}function a(e){return!!e&&1==e.length&&/[\udc00-\udfff]/.test(e)}Object.defineProperty(t,'__esModule',{value:!0}),t.isCombiningMark=o,t.isHighSurrogateHalf=n,t.isLowSurrogateHalf=a,t.isInsideSurrogatePair=function(e,t){return n(e.charAt(t-1))&&a(e.charAt(t))},t.isInsideCombinedSymbol=function(e,t){return o(e.charAt(t))}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(93),r=n(a),l=o(362),i=n(l);t.default=function(e,t,o,n,a,l){var u=a&2,d=e.length,s=t.length;if(d!=s&&!(u&&s>d))return!1;var f=l.get(e);if(f)return f==t;var c=-1,p=!0,_=a&1?new r.default:void 0;for(l.set(e,t);++c<d;){var m=e[c],g=t[c];if(n)var y=u?n(g,m,c,t,e,l):n(m,g,c,e,t,l);if(void 0!==y){if(y)continue;p=!1;break}if(_){if(!(0,i.default)(t,function(e,t){if(!_.has(t)&&(m===e||o(m,e,n,a,l)))return _.add(t)})){p=!1;break}}else if(!(m===g||o(m,g,n,a,l))){p=!1;break}}return l['delete'](e),p}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(130),d=n(u),s=o(19),f=o(18),c=n(f),p=o(49),_=n(p),m=o(21),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'className',get:function(){return'engine.model.delta.WeakInsertDelta'}}]),t}(d.default);t.default=g,(0,s.register)('weakInsert',function(e,t){var o=new g;this.addDelta(o),t=(0,m.normalizeNodes)(t);var n=!0,a=!1,r;try{for(var l=t[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,u.setAttributesTo(this.document.selection.getAttributes())}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}var d=new _.default(e,t,this.document.version);return o.addOperation(d),this.document.applyOperation(d),this}),c.default.register(g)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e,t){var o=!0,n=!1,a;try{for(var r=t[Symbol.iterator](),l;!(o=(l=r.next()).done);o=!0){var i=l.value,u=!0,d=!1,s=void 0;try{for(var f=i.operations[Symbol.iterator](),c,p;!(u=(c=f.next()).done);u=!0)p=c.value,p.baseVersion=++e}catch(e){d=!0,s=e}finally{try{!u&&f.return&&f.return()}finally{if(d)throw s}}}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}return t}function u(e){return e.reduce(function(e,t){return e+t.operations.length},0)}function d(e,t){for(var o=e[e.length-1],n=o.operations.length+o.baseVersion,a=new b.default,r=0;r<t;r++)a.addOperation(new D.default(n++));e.push(a)}function i(e,t,o){l(t,o),p(e,t,o),s(e,t,o),c(t,o),f(o)}function l(e,t){var o=t.originalDelta.get(e),n=t.document.history;t.bWasUndone=n.isUndoneDelta(o)||n.isUndoingDelta(o)}function s(e,t,o){var n=o.originalDelta.get(t);if(o.document.history.isUndoingDelta(n)){var a=o.document.history.getUndoneDelta(n),r=o.wasAffected.get(e),l=r.get(a);l!==void 0&&(o.insertBefore=l)}}function f(e){e.bWasUndone&&(e.forceNotSticky=!0)}function c(e,t){var o=t.document.history,n=t.originalDelta.get(e);t.forceWeakRemove=o.isUndoneDelta(n)}function p(e,t,o){o.wasAffected.get(e)||o.wasAffected.set(e,new Map);var n=o.originalDelta.get(t),a=!!o.wasAffected.get(e).get(n),r=!0,l=!1,i;try{for(var u=e.operations[Symbol.iterator](),d;!(r=(d=u.next()).done);r=!0){var s=d.value,f=!0,c=!1,p=void 0;try{for(var m=t.operations[Symbol.iterator](),g,y;!(f=(g=m.next()).done);f=!0)if(y=g.value,s instanceof j.default&&y instanceof j.default&&_(s,y)){a=!0;break}}catch(e){c=!0,p=e}finally{try{!f&&m.return&&m.return()}finally{if(c)throw p}}if(a)break}}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}o.wasAffected.get(e).set(n,a)}function _(e,t){var o=e.targetPosition,n=t.sourcePosition,a=(0,K.default)(n.getParentPath(),o.getParentPath());return!(o.root!=n.root)&&'same'==a&&n.offset<o.offset}function m(e,t,o){delete o.insertBefore,delete o.forceNotSticky,delete o.forceWeakRemove;var n=o.wasAffected.get(e);o.wasAffected.delete(e);var a=!0,r=!1,l;try{for(var i=t[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,o.wasAffected.set(d,new Map(n))}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}}function g(e,t){var n=[],a=null,r;switch(e){case v.default:case P.default:var l=!0,i=!1,u;try{for(var d=t[Symbol.iterator](),s,f;!(l=(s=d.next()).done);l=!0)f=s.value,f instanceof D.default?a=new b.default:(a=f instanceof W.default?new P.default:new v.default,f.isSticky=!1),a.addOperation(f),n.push(a)}catch(e){i=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(i)throw u}}return n;case C.default:case A.default:return a=new e,a.addOperation(t[0]),a.addOperation(t[1]),n=g(v.default,t.slice(2)),[a].concat(n);case x.default:case S.default:return n=g(v.default,t.slice(0,-2)),a=new e,a.addOperation(t[t.length-2]),a.addOperation(t[t.length-1]),n.concat(a);case R.default:return a=t[0]instanceof D.default?new b.default:new R.default,a.addOperation(t[0]),[a];case V.default:for(r=0;r<t.length&&!!(t[r]instanceof D.default);r++);r==t.length?a=new b.default:(a=new V.default,0!=r&&t.unshift(t.splice(r,1)[0]));var o=!0,c=!1,p;try{for(var _=t[Symbol.iterator](),m,y;!(o=(m=_.next()).done);o=!0)y=m.value,a.addOperation(y)}catch(e){c=!0,p=e}finally{try{!o&&_.return&&_.return()}finally{if(c)throw p}}return[a];default:a=new e;var h=!0,k=!1,w;try{for(var M=t[Symbol.iterator](),O,T;!(h=(O=M.next()).done);h=!0)T=O.value,a.addOperation(T)}catch(e){k=!0,w=e}finally{try{!h&&M.return&&M.return()}finally{if(k)throw w}}return[a];}}Object.defineProperty(t,'__esModule',{value:!0});var y=o(22),b=n(y),h=o(96),v=n(h),k=o(95),P=n(k),w=o(97),x=n(w),M=o(98),C=n(M),O=o(100),A=n(O),T=o(99),S=n(T),E=o(131),R=n(E),I=o(126),V=n(I),N=o(367),F=n(N),B=o(68),D=n(B),L=o(28),j=n(L),q=o(41),W=n(q),z=o(368),H=n(z),U=o(55),K=n(U),$=new Map,J={transform:function(e,t,o){var n=J.getTransformationCase(e,t)||J.defaultTransform,a=n(e,t,Object.assign({},o)),l=H.default.last(t.operations).baseVersion;return r(l,a)},defaultTransform:function(e,t,o){var n=[],a=t.operations,r=[],l=!0,u=!1,d;try{for(var s=e.operations[Symbol.iterator](),f;!(l=(f=s.next()).done);l=!0){var c=f.value,p=[c],_=!0,m=!1,y=void 0;try{for(var b=a[Symbol.iterator](),h,v;!(_=(h=b.next()).done);_=!0){v=h.value;for(var k=0;k<p.length;k++){var i=p[k],P=(0,F.default)(i,v,o);Array.prototype.splice.apply(p,[k,1].concat(P)),k+=P.length-1;var w=Object.assign({},o);w.isStrong=!o.isStrong,w.insertBefore=o.insertBefore===void 0?void 0:!o.insertBefore;var x=(0,F.default)(v,i,w);Array.prototype.push.apply(r,x)}}}catch(e){m=!0,y=e}finally{try{!_&&b.return&&b.return()}finally{if(m)throw y}}a=r,r=[];var M=!0,C=!1,O=void 0;try{for(var A=p[Symbol.iterator](),T,S;!(M=(T=A.next()).done);M=!0)S=T.value,n.push(S)}catch(e){C=!0,O=e}finally{try{!M&&A.return&&A.return()}finally{if(C)throw O}}}}catch(e){u=!0,d=e}finally{try{!l&&s.return&&s.return()}finally{if(u)throw d}}return g(e.constructor,n)},addTransformationCase:function(e,t,o){var n=$.get(e);n||(n=new Map,$.set(e,n)),n.set(t,o)},getTransformationCase:function(e,t){var o=$.get(e.constructor);if(!o||!o.get(t.constructor)){var n=$.keys(),a=!0,r=!1,l;try{for(var i=n[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)if(d=u.value,e instanceof d&&$.get(d).get(t.constructor)){o=$.get(d);break}}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}}return o?o.get(t.constructor):void 0},transformDeltaSets:function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=Array.from(e),r=Array.from(t),s=null!==o,f={isStrong:!0};if(s){f.wasAffected=new Map,f.originalDelta=new Map,f.document=o;var c=!0,p=!1,_;try{for(var g=r[Symbol.iterator](),y,b;!(c=(y=g.next()).done);c=!0)b=y.value,f.originalDelta.set(b,b)}catch(e){p=!0,_=e}finally{try{!c&&g.return&&g.return()}finally{if(p)throw _}}}for(var h=0,v;h<n.length;h++){v=[n[h]];for(var P=0,w;P<r.length;P++){w=[r[P]];for(var x=0;x<v.length;x++)for(var k=0;k<w.length;k++){s&&i(v[x],w[k],f);var l=J.transform(v[x],w[k],{insertBefore:f.insertBefore,forceNotSticky:f.forceNotSticky,isStrong:f.isStrong,forceWeakRemove:f.forceWeakRemove,aWasUndone:!1,bWasUndone:f.bWasUndone}),M=J.transform(w[k],v[x],{insertBefore:!f.insertBefore,forceNotSticky:f.forceNotSticky,isStrong:!f.isStrong,forceWeakRemove:f.forceWeakRemove,aWasUndone:f.bWasUndone,bWasUndone:!1});if(s){m(v[x],l,f);var C=f.originalDelta.get(w[k]),O=!0,A=!1,T=void 0;try{for(var S=M[Symbol.iterator](),E,R;!(O=(E=S.next()).done);O=!0)R=E.value,f.originalDelta.set(R,C)}catch(e){A=!0,T=e}finally{try{!O&&S.return&&S.return()}finally{if(A)throw T}}}v.splice.apply(v,[x,1].concat(a(l))),x+=l.length-1,w.splice.apply(w,[k,1].concat(a(M))),k+=M.length-1}r.splice.apply(r,[P,1].concat(w)),P+=w.length-1}n.splice.apply(n,[h,1].concat(v)),h+=v.length-1}var I=u(n)-u(e),V=u(r)-u(t);return V<I?d(r,I-V):I<V&&d(n,V-I),{deltasA:n,deltasB:r}}};t.default=J},function(e,t,n){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var r=n(42),l=a(r),i=n(75),u=a(i),d=n(12),s=a(d),f=Math.ceil;t.default=function(e,t,n){t=(n?(0,u.default)(e,t,n):void 0===t)?1:o((0,s.default)(t),0);var a=e?e.length:0;if(!a||1>t)return[];for(var r=0,i=0,d=Array(f(a/t));r<a;)d[i++]=(0,l.default)(e,r,r+=t);return d}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){for(var t=-1,o=e?e.length:0,n=0,a=[];++t<o;){var r=e[t];r&&(a[n++]=r)}return a}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(85),r=n(a),l=o(23),i=n(l),u=o(169),d=n(u),s=o(14),f=n(s);t.default=function(){for(var e=arguments.length,t=Array(e?e-1:0),o=arguments[0],n=e;n--;)t[n-1]=arguments[n];return e?(0,r.default)((0,f.default)(o)?(0,d.default)(o):[o],(0,i.default)(t,1)):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(69),r=n(a),l=o(23),i=n(l),u=o(13),d=n(u),s=o(7),f=n(s),c=(0,f.default)(function(e,t){return(0,d.default)(e)?(0,r.default)(e,(0,i.default)(t,1,d.default,!0)):[]});t.default=c},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o){for(var n=e.length,a=t+(o?0:-1);o?a--:++a<n;){var r=e[a];if(r!==r)return a}return-1}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(69),r=n(a),l=o(23),i=n(l),u=o(10),d=n(u),s=o(13),f=n(s),c=o(17),p=n(c),_=o(7),m=n(_),g=(0,m.default)(function(e,t){var o=(0,p.default)(t);return(0,f.default)(o)&&(o=void 0),(0,f.default)(e)?(0,r.default)(e,(0,i.default)(t,1,f.default,!0),(0,d.default)(o)):[]});t.default=g},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(16),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return e===e&&!(0,a.default)(e)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){return function(o){return null!=o&&o[e]===t&&(t!==void 0||e in Object(o))}}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(137),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t,o){var n=null==e?void 0:(0,a.default)(e,t);return n===void 0?o:n}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return e}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(69),r=n(a),l=o(23),i=n(l),u=o(13),d=n(u),s=o(17),f=n(s),c=o(7),p=n(c),_=(0,p.default)(function(e,t){var o=(0,f.default)(t);return(0,d.default)(o)&&(o=void 0),(0,d.default)(e)?(0,r.default)(e,(0,i.default)(t,1,d.default,!0),void 0,o):[]});t.default=_},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(10),r=n(a),l=o(102),i=n(l);t.default=function(e,t){return e&&e.length?(0,i.default)(e,(0,r.default)(t,3),!0,!0):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(10),r=n(a),l=o(102),i=n(l);t.default=function(e,t){return e&&e.length?(0,i.default)(e,(0,r.default)(t,3),!0):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(387),r=n(a),l=o(75),i=n(l);t.default=function(e,t,o,n){var a=e?e.length:0;return a?(o&&'number'!=typeof o&&(0,i.default)(e,t,o)&&(o=0,n=a),(0,r.default)(e,t,o,n)):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(197),r=n(a),l=o(10),i=n(l);t.default=function(e,t){return e&&e.length?(0,r.default)(e,(0,i.default)(t,3)):-1}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o){for(var n=e.length,a=o?n:-1;o?a--:++a<n;)if(t(e[a],a,e))return a;return-1}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(197),r=n(a),l=o(10),i=n(l);t.default=function(e,t){return e&&e.length?(0,r.default)(e,(0,i.default)(t,3),!0):-1}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(140);Object.defineProperty(t,'default',{enumerable:!0,get:function(){return n(a).default}})},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(23),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){var t=e?e.length:0;return t?(0,a.default)(e,1):[]}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(23),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){var t=e?e.length:0;return t?(0,a.default)(e,1/0):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(23),r=n(a),l=o(12),i=n(l);t.default=function(e,t){var o=e?e.length:0;return o?(t=void 0===t?1:(0,i.default)(t),(0,r.default)(e,t)):[]}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){for(var t=-1,o=e?e.length:0,n={};++t<o;){var a=e[t];n[a[0]]=a[1]}return n}},function(e,t,n){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var r=n(133),l=a(r),i=n(12),u=a(i);t.default=function(e,t,n){var a=e?e.length:0;return a?(n=(0,u.default)(n),0>n&&(n=o(a+n,0)),(0,l.default)(e,t,n)):-1}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(139),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return(0,a.default)(e,1)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(29),r=n(a),l=o(141),i=n(l),u=o(142),d=n(u),s=o(7),f=n(s),c=(0,f.default)(function(e){var t=(0,r.default)(e,d.default);return t.length&&t[0]===e[0]?(0,i.default)(t):[]});t.default=c},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(29),r=n(a),l=o(141),i=n(l),u=o(10),d=n(u),s=o(142),f=n(s),c=o(17),p=n(c),_=o(7),m=n(_),g=(0,m.default)(function(e){var t=(0,p.default)(e),o=(0,r.default)(e,f.default);return t===(0,p.default)(o)?t=void 0:o.pop(),o.length&&o[0]===e[0]?(0,i.default)(o,(0,d.default)(t)):[]});t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(29),r=n(a),l=o(141),i=n(l),u=o(142),d=n(u),s=o(17),f=n(s),c=o(7),p=n(c),_=(0,p.default)(function(e){var t=(0,f.default)(e),o=(0,r.default)(e,d.default);return t===(0,f.default)(o)?t=void 0:o.pop(),o.length&&o[0]===e[0]?(0,i.default)(o,void 0,t):[]});t.default=_},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=Array.prototype,n=o.join;t.default=function(e,t){return e?n.call(e,t):''}},function(e,t,a){'use strict';function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var l=a(186),i=r(l),u=a(12),d=r(u);t.default=function(e,t,a){var r=e?e.length:0;if(!r)return-1;var l=r;if(void 0!==a&&(l=(0,d.default)(a),l=(0>l?o(r+l,0):n(l,r-1))+1),t!==t)return(0,i.default)(e,l,!0);for(;l--;)if(e[l]===t)return l;return-1}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(390),r=n(a),l=o(12),i=n(l);t.default=function(e,t){return e&&e.length?(0,r.default)(e,(0,i.default)(t)):void 0}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(143),r=n(a),l=o(7),i=n(l),u=(0,i.default)(r.default);t.default=u},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(10),r=n(a),l=o(144),i=n(l);t.default=function(e,t,o){return e&&e.length&&t&&t.length?(0,i.default)(e,t,(0,r.default)(o)):e}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(144),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t,o){return e&&e.length&&t&&t.length?(0,a.default)(e,t,void 0,o):e}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(29),r=n(a),l=o(392),i=n(l),u=o(23),d=n(u),s=o(216),f=n(s),c=o(394),p=n(c),_=o(37),m=n(_),g=o(7),y=n(g),b=(0,y.default)(function(e,t){t=(0,d.default)(t,1);var o=e?e.length:0,n=(0,i.default)(e,t);return(0,f.default)(e,(0,r.default)(t,function(e){return(0,m.default)(e,o)?+e:e}).sort(p.default)),n});t.default=b},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(101),r=n(a),l=o(37),i=n(l),u=o(57),d=n(u),s=o(17),f=n(s),c=o(393),p=n(c),_=o(58),m=n(_),g=Array.prototype,y=g.splice;t.default=function(e,t){for(var o=e?t.length:0,n=o-1;o--;){var a=t[o];if(o==n||a!==l){var l=a;if((0,i.default)(a))y.call(e,a,1);else if(!(0,d.default)(a,e)){var u=(0,r.default)(a),s=(0,p.default)(e,u);null!=s&&delete s[(0,m.default)((0,f.default)(u))]}else delete e[(0,m.default)(a)]}}return e}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(10),r=n(a),l=o(216),i=n(l);t.default=function(e,t){var o=[];if(!(e&&e.length))return o;var n=-1,a=[],l=e.length;for(t=(0,r.default)(t,3);++n<l;){var u=e[n];t(u,n,e)&&(o.push(u),a.push(n))}return(0,i.default)(e,a),o}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=Array.prototype,n=o.reverse;t.default=function(e){return e?n.call(e):e}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(42),r=n(a),l=o(75),i=n(l),u=o(12),d=n(u);t.default=function(e,t,o){var n=e?e.length:0;return n?(o&&'number'!=typeof o&&(0,i.default)(e,t,o)?(t=0,o=n):(t=null==t?0:(0,d.default)(t),o=void 0===o?n:(0,d.default)(o)),(0,r.default)(e,t,o)):[]}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(103),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){return(0,a.default)(e,t)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(10),r=n(a),l=o(145),i=n(l);t.default=function(e,t,o){return(0,i.default)(e,t,(0,r.default)(o))}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(103),r=n(a),l=o(53),i=n(l);t.default=function(e,t){var o=e?e.length:0;if(o){var n=(0,r.default)(e,t);if(n<o&&(0,i.default)(e[n],t))return n}return-1}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(103),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){return(0,a.default)(e,t,!0)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(10),r=n(a),l=o(145),i=n(l);t.default=function(e,t,o){return(0,i.default)(e,t,(0,r.default)(o),!0)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(103),r=n(a),l=o(53),i=n(l);t.default=function(e,t){var o=e?e.length:0;if(o){var n=(0,r.default)(e,t,!0)-1;if((0,i.default)(e[n],t))return n}return-1}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(227),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return e&&e.length?(0,a.default)(e):[]}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(53),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){for(var o=-1,n=e.length,r=0,l=[];++o<n;){var i=e[o],u=t?t(i):i;if(!o||!(0,a.default)(u,d)){var d=u;l[r++]=0===i?0:i}}return l}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(10),r=n(a),l=o(227),i=n(l);t.default=function(e,t){return e&&e.length?(0,i.default)(e,(0,r.default)(t)):[]}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(138),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return(0,a.default)(e,1)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(42),r=n(a),l=o(12),i=n(l);t.default=function(e,t,o){return e&&e.length?(t=o||void 0===t?1:(0,i.default)(t),(0,r.default)(e,0,0>t?0:t)):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(42),r=n(a),l=o(12),i=n(l);t.default=function(e,t,o){var n=e?e.length:0;return n?(t=o||void 0===t?1:(0,i.default)(t),t=n-t,(0,r.default)(e,0>t?0:t,n)):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(10),r=n(a),l=o(102),i=n(l);t.default=function(e,t){return e&&e.length?(0,i.default)(e,(0,r.default)(t,3),!1,!0):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(10),r=n(a),l=o(102),i=n(l);t.default=function(e,t){return e&&e.length?(0,i.default)(e,(0,r.default)(t,3)):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(23),r=n(a),l=o(50),i=n(l),u=o(13),d=n(u),s=o(7),f=n(s),c=(0,f.default)(function(e){return(0,i.default)((0,r.default)(e,1,d.default,!0))});t.default=c},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(23),r=n(a),l=o(10),i=n(l),u=o(50),d=n(u),s=o(13),f=n(s),c=o(17),p=n(c),_=o(7),m=n(_),g=(0,m.default)(function(e){var t=(0,p.default)(e);return(0,f.default)(t)&&(t=void 0),(0,d.default)((0,r.default)(e,1,f.default,!0),(0,i.default)(t))});t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(23),r=n(a),l=o(50),i=n(l),u=o(13),d=n(u),s=o(17),f=n(s),c=o(7),p=n(c),_=(0,p.default)(function(e){var t=(0,f.default)(e);return(0,d.default)(t)&&(t=void 0),(0,i.default)((0,r.default)(e,1,d.default,!0),void 0,t)});t.default=_},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(50),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return e&&e.length?(0,a.default)(e):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(10),r=n(a),l=o(50),i=n(l);t.default=function(e,t){return e&&e.length?(0,i.default)(e,(0,r.default)(t)):[]}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(50),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){return e&&e.length?(0,a.default)(e,void 0,t):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(69),r=n(a),l=o(13),i=n(l),u=o(7),d=n(u),s=(0,d.default)(function(e,t){return(0,i.default)(e)?(0,r.default)(e,t):[]});t.default=s},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(105),r=n(a),l=o(147),i=n(l),u=o(13),d=n(u),s=o(7),f=n(s),c=(0,f.default)(function(e){return(0,i.default)((0,r.default)(e,d.default))});t.default=c},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(105),r=n(a),l=o(10),i=n(l),u=o(147),d=n(u),s=o(13),f=n(s),c=o(17),p=n(c),_=o(7),m=n(_),g=(0,m.default)(function(e){var t=(0,p.default)(e);return(0,f.default)(t)&&(t=void 0),(0,d.default)((0,r.default)(e,f.default),(0,i.default)(t))});t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(105),r=n(a),l=o(147),i=n(l),u=o(13),d=n(u),s=o(17),f=n(s),c=o(7),p=n(c),_=(0,p.default)(function(e){var t=(0,f.default)(e);return(0,d.default)(t)&&(t=void 0),(0,i.default)((0,r.default)(e,d.default),void 0,t)});t.default=_},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(7),r=n(a),l=o(104),i=n(l),u=(0,r.default)(i.default);t.default=u},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(62),r=n(a),l=o(246),i=n(l);t.default=function(e,t){return(0,i.default)(e||[],t||[],r.default)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o){for(var n=-1,a=e.length,r=t.length,l={};++n<a;){var i=n<r?t[n]:void 0;o(l,e[n],i)}return l}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(397),r=n(a),l=o(246),i=n(l);t.default=function(e,t){return(0,i.default)(e||[],t||[],r.default)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(7),r=n(a),l=o(146),i=n(l),u=(0,r.default)(function(e){var t=e.length,o=1<t?e[t-1]:void 0;return o='function'==typeof o?(e.pop(),o):void 0,(0,i.default)(e,o)});t.default=u},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,a){function r(n){var r=(c[n-1]===void 0?-1:c[n-1])+1,u=c[n+1]===void 0?-1:c[n+1],p=r>u?-1:1;f[n+p]&&(f[n]=f[n+p].slice(0)),f[n]||(f[n]=[]),f[n].push(r>u?l:i);for(var _=o(r,u),m=_-n;m<d&&_<s&&a(e[m],t[_]);)m++,_++,f[n].push('equal');return _}a=a||function(e,t){return e===t};var l,i;if(t.length<e.length){var u=e;e=t,t=u,l='delete',i='insert'}else l='insert',i='delete';var d=e.length,s=t.length,n=s-d,f={},c={},_=0,m;do{for(m=-_;m<n;m++)c[m]=r(m);for(m=n+_;m>n;m--)c[m]=r(m);c[n]=r(n),_++}while(c[n]!==s);return f[n].slice(1)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){for(var t=[];e&&e.nodeType!=Node.DOCUMENT_NODE;)t.unshift(e),e=e.parentNode;return t}},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},u=o(87),d=function(e){return e&&e.__esModule?e:{default:e}}(u),s=Symbol('rootName'),f=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.rootName='main',o}return r(t,e),l(t,[{key:'is',value:function(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return o?'rootElement'==e&&o==this.name||i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e,o):'rootElement'==e||i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e)}},{key:'rootName',get:function(){return this.getCustomProperty(s)},set:function(e){this.setCustomProperty(s,e)}}]),t}(d.default);t.default=f},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(59),s=n(d),f=o(108),c=n(f),p=o(70),_=o(414),m=n(_),g=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},o.domConverter=e.domConverter,o.renderer=e.renderer,o._domElements=[],o._mutationObserver=new window.MutationObserver(o._onMutations.bind(o)),o}return l(t,e),i(t,[{key:'flush',value:function(){this._onMutations(this._mutationObserver.takeRecords())}},{key:'observe',value:function(e){this._domElements.push(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}},{key:'enable',value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'enable',this).call(this);var e=!0,o=!1,n;try{for(var a=this._domElements[Symbol.iterator](),r,l;!(e=(r=a.next()).done);e=!0)l=r.value,this._mutationObserver.observe(l,this._config)}catch(e){o=!0,n=e}finally{try{!e&&a.return&&a.return()}finally{if(o)throw n}}}},{key:'disable',value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'disable',this).call(this),this._mutationObserver.disconnect()}},{key:'destroy',value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'destroy',this).call(this),this._mutationObserver.disconnect()}},{key:'_onMutations',value:function(e){function t(e,t){if(!Array.isArray(e))return e===t||e.is('text')&&t.is('text')&&e.data===t.data}if(0!==e.length){var o=this.domConverter,n=new Map,a=new Set,r=!0,l=!1,i;try{for(var u=e[Symbol.iterator](),d,s;!(r=(d=u.next()).done);r=!0)if(s=d.value,'childList'===s.type){var f=o.mapDomToView(s.target);if(f&&f.is('uiElement'))continue;f&&!this._isBogusBrMutation(s)&&a.add(f)}}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}var _=!0,g=!1,y;try{for(var b=e[Symbol.iterator](),h;!(_=(h=b.next()).done);_=!0){var v=h.value,f=o.mapDomToView(v.target);if(!(f&&f.is('uiElement'))&&'characterData'===v.type){var k=o.findCorrespondingViewText(v.target);k&&!a.has(k.parent)?n.set(k,{type:'text',oldText:k.data,newText:(0,p.getDataWithoutFiller)(v.target),node:k}):!k&&(0,p.startsWithFiller)(v.target)&&a.add(o.mapDomToView(v.target.parentNode))}}}catch(e){g=!0,y=e}finally{try{!_&&b.return&&b.return()}finally{if(g)throw y}}var P=[],w=!0,x=!1,M;try{for(var C=n.values()[Symbol.iterator](),O,A;!(w=(O=C.next()).done);w=!0)A=O.value,this.renderer.markToSync('text',A.node),P.push(A)}catch(e){x=!0,M=e}finally{try{!w&&C.return&&C.return()}finally{if(x)throw M}}var T=!0,S=!1,E;try{for(var R=a[Symbol.iterator](),I;!(T=(I=R.next()).done);T=!0){var V=I.value,N=o.mapViewToDom(V),F=Array.from(V.getChildren()),B=Array.from(o.domChildrenToView(N));(0,m.default)(F,B,t)||(this.renderer.markToSync('children',V),P.push({type:'children',oldChildren:F,newChildren:B,node:V}))}}catch(e){S=!0,E=e}finally{try{!T&&R.return&&R.return()}finally{if(S)throw E}}var D=e[0].target.ownerDocument.getSelection(),L=null;if(D&&D.anchorNode){var j=o.domPositionToView(D.anchorNode,D.anchorOffset),q=o.domPositionToView(D.focusNode,D.focusOffset);j&&q&&(L=new c.default,L.setCollapsedAt(j),L.moveFocusTo(q))}this.document.fire('mutations',P,L),this.document.render()}}},{key:'_isBogusBrMutation',value:function(e){var t=null;return null===e.nextSibling&&0===e.removedNodes.length&&1==e.addedNodes.length&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is('element','br')}}]),t}(s.default);t.default=g},function(e,t,a){'use strict';function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var l=a(16),i=r(l),u=a(416),d=r(u),s=a(159),f=r(s);t.default=function(e,t,a){function r(t){var o=v,n=k;return v=k=void 0,g=t,w=e.apply(n,o),w}function l(e){return g=e,x=setTimeout(c,t),y?r(e):w}function u(e){var o=e-m,a=e-g,r=t-o;return b?n(r,P-a):r}function s(e){var o=e-m,n=e-g;return!m||o>=t||0>o||b&&n>=P}function c(){var e=(0,d.default)();return s(e)?p(e):void(x=setTimeout(c,u(e)))}function p(e){return(clearTimeout(x),x=void 0,h&&v)?r(e):(v=k=void 0,w)}function _(){var e=(0,d.default)(),o=s(e);if(v=arguments,k=this,m=e,o){if(void 0===x)return l(m);if(b)return clearTimeout(x),x=setTimeout(c,t),r(m)}return void 0===x&&(x=setTimeout(c,t)),w}var m=0,g=0,y=!1,b=!1,h=!0,v,k,P,w,x;if('function'!=typeof e)throw new TypeError('Expected a function');return t=(0,f.default)(t)||0,(0,i.default)(a)&&(y=!!a.leading,b='maxWait'in a,P=b?o((0,f.default)(a.maxWait)||0,t):P,h='trailing'in a?!!a.trailing:h),_.cancel=function(){void 0!==x&&clearTimeout(x),m=g=0,v=k=x=void 0},_.flush=function(){return void 0===x?w:p((0,d.default)())},_}},function(e,t,a){'use strict';function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function i(e,t){var o=!0,n=!1,a;try{for(var r=v[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,e[i]=t[i]}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=a(34),s=r(d),f=a(152),c=r(f),p=a(255),_=r(p),m=a(256),g=r(m),y=a(30),b=r(y),h=function(){function e(t){l(this,e);var o=(0,c.default)(t);if(Object.defineProperty(this,'_source',{value:t._source||t,writable:!0,enumerable:!1}),(0,_.default)(t)||o){var n=o?t.startContainer:t;n.ownerDocument&&n.ownerDocument.body.contains(n)||b.default.warn('rect-source-not-in-dom: The source of this rect does not belong to any rendered DOM tree.',{source:t}),o?i(this,e.getDomRangeRects(t)[0]):i(this,t.getBoundingClientRect())}else if(t===s.default.window){var a=s.default.window,r=a.innerWidth,u=a.innerHeight;i(this,{top:0,right:r,bottom:u,left:0,width:r,height:u})}else i(this,t)}return u(e,[{key:'clone',value:function(){return new e(this)}},{key:'moveTo',value:function(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}},{key:'moveBy',value:function(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}},{key:'getIntersection',value:function(t){var a={top:o(this.top,t.top),right:n(this.right,t.right),bottom:n(this.bottom,t.bottom),left:o(this.left,t.left)};return a.width=a.right-a.left,a.height=a.bottom-a.top,0>a.width||0>a.height?null:new e(a)}},{key:'getIntersectionArea',value:function(e){var t=this.getIntersection(e);return t?t.getArea():0}},{key:'getArea',value:function(){return this.width*this.height}},{key:'getVisible',value:function(){var t=this._source,o=this.clone();if(t!=s.default.document.body)for(var n=t.parentNode||t.commonAncestorContainer;n&&n!=s.default.document.body;){var a=new e(n),r=o.getIntersection(a);if(r)r.getArea()<o.getArea()&&(o=r);else return null;n=n.parentNode}return o}},{key:'isEqual',value:function(e){var t=!0,o=!1,n;try{for(var a=v[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)if(l=r.value,this[l]!==e[l])return!1}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return!0}},{key:'contains',value:function(e){var t=this.getIntersection(e);return!!(t&&t.isEqual(e))}},{key:'excludeScrollbarsAndBorders',value:function(){var e=this._source,t,o;if(e===s.default.window)t=s.default.window.innerWidth-s.default.document.documentElement.clientWidth,o=s.default.window.innerHeight-s.default.document.documentElement.clientHeight;else{var n=(0,g.default)(this._source);t=e.offsetWidth-e.clientWidth,o=e.offsetHeight-e.clientHeight,this.moveBy(n.left,n.top)}return this.width-=t,this.right-=t,this.height-=o,this.bottom-=o,this}}],[{key:'getDomRangeRects',value:function(t){var o=[],n=Array.from(t.getClientRects());if(n.length){var a=!0,r=!1,l;try{for(var i=n[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,o.push(new e(d))}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}}else{var s=new e(t.startContainer.getBoundingClientRect());s.right=s.left,s.width=0,o.push(s)}return o}}]),e}();t.default=h;var v=['top','right','bottom','left','width','height']},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(45),r=n(a),l=o(73),i=n(l);t.default=function(e){return!!e&&1===e.nodeType&&(0,r.default)(e)&&!(0,i.default)(e)}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=a.default.window.getComputedStyle(e);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}};var n=o(34),a=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o,n,a){if(e.isCollapsed&&n.consume(e,a)){var l=t.getFirstPosition();r(l.parent)&&(l=l.getLastMatchingPosition(function(e){return e.item.is('uiElement')})),l=f.default.wrapPosition(l,o),t.removeAllRanges(),t.addRange(new d.default(l,l))}}function r(e){if(!e.is('element'))return!1;var t=!0,o=!1,n;try{for(var a=e.getChildren()[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)if(l=r.value,!l.is('uiElement'))return!1}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return!0}Object.defineProperty(t,'__esModule',{value:!0}),t.convertRangeSelection=function(){return function(e,t,o,n){var a=t.selection;if(!a.isCollapsed&&o.consume(a,'selection')){n.viewSelection.removeAllRanges();var r=!0,l=!1,i;try{for(var u=a.getRanges()[Symbol.iterator](),d;!(r=(d=u.next()).done);r=!0){var s=d.value,f=n.mapper.toViewRange(s);n.viewSelection.addRange(f,a.isBackward)}}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}}}},t.convertCollapsedSelection=function(){return function(e,t,o,n){var a=t.selection;if(a.isCollapsed&&o.consume(a,'selection')){var r=a.getFirstPosition(),l=n.mapper.toViewPosition(r),i=f.default.breakAttributes(l);n.viewSelection.removeAllRanges(),n.viewSelection.addRange(new d.default(i,i))}}},t.convertSelectionAttribute=function(e){return function(t,o,n,r){var l=e instanceof i.default?e.clone(!0):e(o.value,o,o.selection,n,r);if(l){var u='selectionAttribute:'+o.key;a(o.selection,r.viewSelection,l,n,u)}}},t.convertSelectionMarker=function(e){return function(t,o,n,r){var l='function'==typeof e?e(o,n,r):e;if(l){var i=(0,c.highlightDescriptorToAttributeElement)(l),u='selectionMarker:'+o.markerName;a(o.selection,r.viewSelection,i,n,u)}}},t.clearAttributes=function(){return function(e,t,o,n){var a=!0,r=!1,l;try{for(var i=n.viewSelection.getRanges()[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,d.isCollapsed&&d.end.parent.document&&f.default.mergeAttributes(d.start)}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}n.viewSelection.removeAllRanges()}},t.clearFakeSelection=function(){return function(e,t,o,n){return n.viewSelection.setFake(!1)}};var l=o(26),i=n(l),u=o(38),d=n(u),s=o(90),f=n(s),c=o(88)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(424),i=n(l),u=o(150),d=n(u),s=o(70),f=function(){function e(){a(this,e),this._domParser=new DOMParser,this._domConverter=new d.default({blockFiller:s.NBSP_FILLER}),this._htmlWriter=new i.default}return r(e,[{key:'toData',value:function(e){var t=this._domConverter.viewToDom(e,document);return this._htmlWriter.getHtml(t)}},{key:'toView',value:function(e){var t=this._toDom(e);return this._domConverter.domToView(t)}},{key:'_toDom',value:function(e){for(var t=this._domParser.parseFromString(e,'text/html'),o=t.createDocumentFragment(),n=t.body.childNodes;0<n.length;)o.appendChild(n[0]);return o}}]),e}();t.default=f},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(8),s=n(d),f=o(5),c=n(f),p=o(72),_=n(p),m=o(155),g=n(m),y=o(51),b=n(y),h=o(436),v=n(h),k=o(260),P=n(k),w=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.items=o.createCollection(),o.focusTracker=new _.default,o.keystrokes=new b.default,o._focusCycler=new g.default({focusables:o.items,focusTracker:o.focusTracker,keystrokeHandler:o.keystrokes,actions:{focusPrevious:['arrowleft','arrowup'],focusNext:['arrowright','arrowdown']}}),o.template=new c.default({tag:'div',attributes:{class:['ck-toolbar']},children:o.items,on:{mousedown:(0,P.default)(o)}}),o.items.on('add',function(e,t){o.focusTracker.add(t.element)}),o.items.on('remove',function(e,t){o.focusTracker.remove(t.element)}),o}return l(t,e),i(t,[{key:'init',value:function(){this.keystrokes.listenTo(this.element),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'init',this).call(this)}},{key:'focus',value:function(){this._focusCycler.focusFirst()}},{key:'fillFromConfig',value:function(e,t){var o=this;e&&e.map(function(e){var n='|'==e?new v.default:t.create(e);o.items.add(n)})}}]),t}(s.default);t.default=w},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return e.bindTemplate.to(function(t){t.target===e.element&&t.preventDefault()})}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return function(t){return t+e}}},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(149),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(){function e(t){var o=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:20;n(this,e),this.document=t,this.size=0,this.limit=a,this.isLocked=!1,this._changeCallback=function(e,t,n,a){o._onBatch(a)},this._selectionChangeCallback=function(){o._reset()},t.on('change',this._changeCallback),t.selection.on('change:range',this._selectionChangeCallback),t.selection.on('change:attribute',this._selectionChangeCallback)}return a(e,[{key:'input',value:function(e){this.size+=e,this.size>=this.limit&&this._reset(!0)}},{key:'lock',value:function(){this.isLocked=!0}},{key:'unlock',value:function(){this.isLocked=!1}},{key:'destroy',value:function(){this.document.off('change',this._changeCallback),this.document.selection.off('change:range',this._selectionChangeCallback),this.document.selection.off('change:attribute',this._selectionChangeCallback)}},{key:'_onBatch',value:function(e){'transparent'!=e.type&&e!==this._batch&&1>=(0,l.default)(e.getOperations())&&this._reset(!0)}},{key:'_reset',value:function(e){(!this.isLocked||e)&&(this._batch=null,this.size=0)}},{key:'batch',get:function(){return this._batch||(this._batch=this.document.batch()),this._batch}}]),e}();t.default=i},function(e,t,o){'use strict';function n(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var o=u([e],t);o.sort(function(e,t){return e.start.isBefore(t.start)?-1:1});for(var n=1;n<o.length;n++){var r=o[n-1],a=o[n];r.end.isTouching(a.start)&&(r.end=a.end,o.splice(n,1),n--)}return o}function u(e,t){var o=!0,a=!1,r;try{for(var l=t[Symbol.iterator](),u;!(o=(u=l.next()).done);o=!0){var d=u.value,s=!0,f=!1,c=void 0;try{for(var p=d.operations[Symbol.iterator](),_,m;!(s=(_=p.next()).done);s=!0){m=_.value;for(var g=0,i;g<e.length;g++){switch(i=void 0,m.type){case'insert':i=e[g]._getTransformedByInsertion(m.position,m.nodes.maxOffset,!0);break;case'move':case'remove':case'reinsert':i=e[g]._getTransformedByMove(m.sourcePosition,m.targetPosition,m.howMany,!0);}i&&(e.splice.apply(e,[g,1].concat(n(i))),g=g+i.length-1)}}}catch(e){f=!0,c=e}finally{try{!s&&p.return&&p.return()}finally{if(f)throw c}}}}catch(e){a=!0,r=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw r}}return e}Object.defineProperty(t,'__esModule',{value:!0});var d=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();t.transformRangesByDeltas=u;var s=o(11),f=function(e){return e&&e.__esModule?e:{default:e}}(s),c=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o._stack=[],o._createdBatches=new WeakSet,o.refresh(),o}return l(t,e),d(t,[{key:'refresh',value:function(){this.isEnabled=0<this._stack.length}},{key:'addBatch',value:function(e){var t={ranges:Array.from(this.editor.document.selection.getRanges()),isBackward:this.editor.document.selection.isBackward};this._stack.push({batch:e,selection:t}),this.refresh()}},{key:'clearStack',value:function(){this._stack=[],this.refresh()}},{key:'_restoreSelection',value:function(e,t,o){var n=this.editor.document,a=[],r=!0,l=!1,u;try{for(var d=e[Symbol.iterator](),s;!(r=(s=d.next()).done);r=!0){var f=s.value,c=i(f,o),p=c.find(function(e){return e.start.root!=n.graveyard});p&&a.push(p)}}catch(e){l=!0,u=e}finally{try{!r&&d.return&&d.return()}finally{if(l)throw u}}a.length&&n.selection.setRanges(a,t)}},{key:'_undo',value:function(e){var t=this.editor.document,o=t.batch();this._createdBatches.add(o);var n=e.deltas.slice();n.reverse();var a=!0,r=!1,l;try{for(var i=n[Symbol.iterator](),u;!(a=(u=i.next()).done);a=!0){var d=u.value,s=d.baseVersion+d.operations.length,f=Array.from(t.history.getDeltas(s)),c=t.transformDeltas([d.getReversed()],f,!0),p=c.deltasA,_=!0,m=!1,g=void 0;try{for(var y=p[Symbol.iterator](),b,h;!(_=(b=y.next()).done);_=!0){h=b.value,h.baseVersion=t.version,o.addDelta(h);var v=!0,k=!1,P=void 0;try{for(var w=h.operations[Symbol.iterator](),x,M;!(v=(x=w.next()).done);v=!0)M=x.value,t.applyOperation(M)}catch(e){k=!0,P=e}finally{try{!v&&w.return&&w.return()}finally{if(k)throw P}}t.history.setDeltaAsUndone(d,h)}}catch(e){m=!0,g=e}finally{try{!_&&y.return&&y.return()}finally{if(m)throw g}}}}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}return o}}]),t}(f.default);t.default=c},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(11),u=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(e,o){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.attributeKey=o,r}return r(t,e),l(t,[{key:'refresh',value:function(){var e=this.editor.document;this.value=e.selection.hasAttribute(this.attributeKey),this.isEnabled=e.schema.checkAttributeInSelection(e.selection,this.attributeKey)}},{key:'execute',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=this.editor.document,n=o.selection,a=void 0===t.forceValue?!this.value:t.forceValue;o.enqueueChanges(function(){if(n.isCollapsed)a?n.setAttribute(e.attributeKey,!0):n.removeAttribute(e.attributeKey);else{var r=o.schema.getValidRanges(n.getRanges(),e.attributeKey),l=t.batch||o.batch(),i=!0,u=!1,d;try{for(var s=r[Symbol.iterator](),f,c;!(i=(f=s.next()).done);i=!0)c=f.value,a?l.setAttribute(c,e.attributeKey,a):l.removeAttribute(c,e.attributeKey)}catch(e){u=!0,d=e}finally{try{!i&&s.return&&s.return()}finally{if(u)throw d}}}})}}]),t}(u.default);t.default=d},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){return new v.default('figure',{class:'image'},new P.default('img'))}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();t.createImageViewElement=i;var d=o(3),s=n(d),f=o(52),c=n(f),p=o(43),_=n(p),m=o(495),g=o(44),y=o(6),b=n(y),h=o(48),v=n(h),k=o(176),P=n(k),w=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:'init',value:function(){var e=this.editor,o=e.document,n=o.schema,a=e.data,r=e.editing,l=e.t;n.registerItem('image'),n.requireAttributes('image',['src']),n.allow({name:'image',attributes:['alt','src','srcset'],inside:'$root'}),n.objects.add('image'),(0,c.default)().for(a.modelToView).fromElement('image').toElement(function(){return i()}),(0,c.default)().for(r.modelToView).fromElement('image').toElement(function(){return(0,g.toImageWidget)(i(),l('image widget'))}),(0,m.createImageAttributeConverter)([r.modelToView,a.modelToView],'src'),(0,m.createImageAttributeConverter)([r.modelToView,a.modelToView],'alt'),(0,m.createImageAttributeConverter)([r.modelToView,a.modelToView],'srcset',function(e,t){'removeAttribute'==t?e.removeAttribute('sizes'):e.setAttribute('sizes','100vw')}),(0,_.default)().for(a.viewToModel).from({name:'img',attribute:{src:/./}}).toElement(function(e){return new b.default('image',{src:e.getAttribute('src')})}),a.viewToModel.on('element:img',m.convertHoistableImage,{priority:'low'}),a.viewToModel.on('element',m.hoistImageThroughElement,{priority:'low'}),(0,_.default)().for(a.viewToModel).from({name:'img',attribute:{alt:/./}}).consuming({attribute:['alt']}).toAttribute(function(e){return{key:'alt',value:e.getAttribute('alt')}}),(0,_.default)().for(a.viewToModel).from({name:'img',attribute:{srcset:/./}}).consuming({attribute:['srcset']}).toAttribute(function(e){return{key:'srcset',value:e.getAttribute('srcset')}}),a.viewToModel.on('element:figure',(0,m.viewFigureToModel)())}}]),t}(s.default);t.default=w},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=e.emitter,o=e.activator,n=e.callback,a=e.contextElements;t.listenTo(document,'mousedown',function(e,t){var r=t.target;if(o()){var l=!0,i=!1,u;try{for(var d=a[Symbol.iterator](),s,f;!(l=(s=d.next()).done);l=!0)if(f=s.value,f.contains(r))return}catch(e){i=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(i)throw u}}n()}})}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(8),d=n(u),s=o(5),f=n(s),c=o(61),p=n(c),_=o(505),m=n(_),g=function(e){function t(e,o){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),l='ck-input-'+(0,p.default)();n.set('label'),n.set('value'),n.set('isReadOnly',!1),n.labelView=n._createLabelView(l),n.inputView=n._createInputView(o,l);var i=n.bindTemplate;return n.template=new f.default({tag:'div',attributes:{class:[i.if('isReadOnly','ck-disabled')]},children:[n.labelView,n.inputView]}),n}return l(t,e),i(t,[{key:'_createLabelView',value:function(e){var t=new m.default(this.locale);return t.for=e,t.bind('text').to(this,'label'),t}},{key:'_createInputView',value:function(e,t){var o=new e(this.locale);return o.id=t,o.bind('value').to(this),o.bind('isReadOnly').to(this),o}},{key:'select',value:function(){this.inputView.select()}},{key:'focus',value:function(){this.inputView.focus()}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(8),d=n(u),s=o(5),f=n(s),c=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));o.set('value'),o.set('id'),o.set('placeholder'),o.set('isReadOnly',!1);var n=o.bindTemplate;return o.template=new f.default({tag:'input',attributes:{type:'text',class:['ck-input','ck-input-text'],id:n.to('id'),placeholder:n.to('placeholder'),readonly:n.to('isReadOnly')}}),o.on('change:value',function(e,t,n){o.element.value=n||''}),o}return l(t,e),i(t,[{key:'select',value:function(){this.element.select()}},{key:'focus',value:function(){this.element.focus()}}]),t}(d.default);t.default=c},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=e.view;t.listenTo(t.element,'submit',function(e,o){o.preventDefault(),t.fire('submit')},{useCapture:!0})}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return(0,h.default)(e)?e:(0,y.default)(e)?e.commonAncestorContainer:'function'==typeof e?i(e()):null}function u(e,t){return e.top-t.height-A.arrowVerticalOffset}function d(e){return e.bottom+A.arrowVerticalOffset}Object.defineProperty(t,'__esModule',{value:!0});var s=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),f=o(8),c=n(f),p=o(5),_=n(p),m=o(506),g=o(152),y=n(g),b=o(255),h=n(b),v=o(261),k=n(v),P=o(260),w=n(P),x=o(34),M=n(x),C=(0,k.default)('px'),O=M.default.document.body,A=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=o.bindTemplate;return o.set('top',0),o.set('left',0),o.set('position','arrow_nw'),o.set('isVisible',!1),o.set('withArrow',!0),o.set('className'),o.content=o.createCollection(),o.template=new _.default({tag:'div',attributes:{class:['ck-balloon-panel',n.to('position',function(e){return'ck-balloon-panel_'+e}),n.if('isVisible','ck-balloon-panel_visible'),n.if('withArrow','ck-balloon-panel_with-arrow'),n.to('className')],style:{top:n.to('top',C),left:n.to('left',C)}},children:o.content,on:{mousedown:(0,w.default)(o),selectstart:n.to(function(e){return e.preventDefault()})}}),o}return l(t,e),s(t,[{key:'show',value:function(){this.isVisible=!0}},{key:'hide',value:function(){this.isVisible=!1}},{key:'attachTo',value:function(e){this.show();var o=t.defaultPositions,n=Object.assign({},{element:this.element,positions:[o.southArrowNorthWest,o.southArrowNorthEast,o.northArrowSouthWest,o.northArrowSouthEast],limiter:O,fitInViewport:!0},e),a=(0,m.getOptimalPosition)(n),r=a.top,l=a.left,i=a.name;Object.assign(this,{top:r,left:l,position:i})}},{key:'pin',value:function(e){var t=this;this.unpin(),this._pinWhenIsVisibleCallback=function(){t.isVisible?t._startPinning(e):t._stopPinning()},this._startPinning(e),this.listenTo(this,'change:isVisible',this._pinWhenIsVisibleCallback)}},{key:'unpin',value:function(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,'change:isVisible',this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}},{key:'_startPinning',value:function(e){var t=this;this.attachTo(e);var o=i(e.target),n=e.limiter?i(e.limiter):O;this.listenTo(M.default.document,'scroll',function(a,r){var l=r.target,i=o&&l.contains(o),u=n&&l.contains(n);(i||u||!o||!n)&&t.attachTo(e)},{useCapture:!0}),this.listenTo(M.default.window,'resize',function(){t.attachTo(e)})}},{key:'_stopPinning',value:function(){this.stopListening(M.default.document,'scroll'),this.stopListening(M.default.window,'resize')}}]),t}(c.default);t.default=A,A.arrowHorizontalOffset=30,A.arrowVerticalOffset=15,A.defaultPositions={northArrowSouth:function(e,t){return{top:u(e,t),left:e.left+e.width/2-t.width/2,name:'arrow_s'}},northArrowSouthEast:function(e,t){return{top:u(e,t),left:e.left+e.width/2-t.width+A.arrowHorizontalOffset,name:'arrow_se'}},northArrowSouthWest:function(e,t){return{top:u(e,t),left:e.left+e.width/2-A.arrowHorizontalOffset,name:'arrow_sw'}},northWestArrowSouth:function(e,t){return{top:u(e,t),left:e.left-t.width/2,name:'arrow_s'}},northWestArrowSouthWest:function(e,t){return{top:u(e,t),left:e.left-A.arrowHorizontalOffset,name:'arrow_sw'}},northWestArrowSouthEast:function(e,t){return{top:u(e,t),left:e.left-t.width+A.arrowHorizontalOffset,name:'arrow_se'}},northEastArrowSouth:function(e,t){return{top:u(e,t),left:e.right-t.width/2,name:'arrow_s'}},northEastArrowSouthEast:function(e,t){return{top:u(e,t),left:e.right-t.width+A.arrowHorizontalOffset,name:'arrow_se'}},northEastArrowSouthWest:function(e,t){return{top:u(e,t),left:e.right-A.arrowHorizontalOffset,name:'arrow_sw'}},southArrowNorth:function(e,t){return{top:d(e,t),left:e.left+e.width/2-t.width/2,name:'arrow_n'}},southArrowNorthEast:function(e,t){return{top:d(e,t),left:e.left+e.width/2-t.width+A.arrowHorizontalOffset,name:'arrow_ne'}},southArrowNorthWest:function(e,t){return{top:d(e,t),left:e.left+e.width/2-A.arrowHorizontalOffset,name:'arrow_nw'}},southWestArrowNorth:function(e,t){return{top:d(e,t),left:e.left-t.width/2,name:'arrow_n'}},southWestArrowNorthWest:function(e,t){return{top:d(e,t),left:e.left-A.arrowHorizontalOffset,name:'arrow_nw'}},southWestArrowNorthEast:function(e,t){return{top:d(e,t),left:e.left-t.width+A.arrowHorizontalOffset,name:'arrow_ne'}},southEastArrowNorth:function(e,t){return{top:d(e,t),left:e.right-t.width/2,name:'arrow_n'}},southEastArrowNorthEast:function(e,t){return{top:d(e,t),left:e.right-t.width+A.arrowHorizontalOffset,name:'arrow_ne'}},southEastArrowNorthWest:function(e,t){return{top:d(e,t),left:e.right-A.arrowHorizontalOffset,name:'arrow_nw'}}}},function(e,t,o){'use strict';function n(e){var t=e.editing.view,o=r.default.defaultPositions;return{target:t.domConverter.viewToDom(t.selection.getSelectedElement()),positions:[o.northArrowSouth,o.southArrowNorth]}}Object.defineProperty(t,'__esModule',{value:!0}),t.repositionContextualBalloon=function(e){var t=e.editing.view,o=e.plugins.get('ContextualBalloon'),a=t.selection.getSelectedElement();if(a&&(0,l.isImageWidget)(a)){var r=n(e);o.updatePosition(r)}},t.getBalloonPositionData=n;var a=o(270),r=function(e){return e&&e.__esModule?e:{default:e}}(a),l=o(44)},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=o(89),i=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),t}(i.default);t.default=u},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o){for(var n=e.textNode||(o?e.nodeBefore:e.nodeAfter),a=null;n&&n.getAttribute('linkHref')==t;)a=n,n=o?n.previousSibling:n.nextSibling;return a?u.default.createAt(a,o?'before':'after'):e}Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){return new l.default(a(e,t,!0),a(e,t,!1))};var r=o(2),l=n(r),i=o(1),u=n(i)},function(e,t,o){o(275),e.exports=o(276)},function(e,t,o){'use strict';(function(e){var t='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e};!function(o){function n(e,t,o,n){var a=t&&t.prototype instanceof r?t:r,l=Object.create(a.prototype),i=new _(n||[]);return l._invoke=s(e,o,i),l}function a(e,t,o){try{return{type:'normal',arg:e.call(t,o)}}catch(e){return{type:'throw',arg:e}}}function r(){}function l(){}function i(){}function u(e){['next','throw','return'].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function d(e){function o(n,r,l,i){var u=a(e[n],e,r);if('throw'===u.type)i(u.arg);else{var d=u.arg,s=d.value;return s&&'object'===('undefined'==typeof s?'undefined':t(s))&&b.call(s,'__await')?Promise.resolve(s.__await).then(function(e){o('next',e,l,i)},function(e){o('throw',e,l,i)}):Promise.resolve(s).then(function(e){d.value=e,l(d)},i)}}var n;this._invoke=function(e,t){function a(){return new Promise(function(n,a){o(e,t,n,a)})}return n=n?n.then(a,a):a()}}function s(e,t,o){var n=M;return function(r,l){if(n==O)throw new Error('Generator is already running');if(n==A){if('throw'===r)throw l;return g()}for(o.method=r,o.arg=l;;){var i=o.delegate;if(i){var u=f(i,o);if(u){if(u===T)continue;return u}}if('next'===o.method)o.sent=o._sent=o.arg;else if('throw'===o.method){if(n==M)throw n=A,o.arg;o.dispatchException(o.arg)}else'return'===o.method&&o.abrupt('return',o.arg);n=O;var d=a(e,t,o);if('normal'===d.type){if(n=o.done?A:C,d.arg===T)continue;return{value:d.arg,done:o.done}}'throw'===d.type&&(n=A,o.method='throw',o.arg=d.arg)}}}function f(e,t){var o=e.iterator[t.method];if(void 0===o){if(t.delegate=null,'throw'===t.method){if(e.iterator.return&&(t.method='return',t.arg=void 0,f(e,t),'throw'===t.method))return T;t.method='throw',t.arg=new TypeError('The iterator does not provide a \'throw\' method')}return T}var n=a(o,e.iterator,t.arg);if('throw'===n.type)return t.method='throw',t.arg=n.arg,t.delegate=null,T;var r=n.arg;if(!r)return t.method='throw',t.arg=new TypeError('iterator result is not an object'),t.delegate=null,T;if(r.done)t[e.resultName]=r.value,t.next=e.nextLoc,'return'!==t.method&&(t.method='next',t.arg=void 0);else return r;return t.delegate=null,T}function c(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type='normal',delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:'root'}],e.forEach(c,this),this.reset(!0)}function m(e){if(e){var t=e[v];if(t)return t.call(e);if('function'==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,n=function t(){for(;++o<e.length;)if(b.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:g}}function g(){return{value:void 0,done:!0}}var y=Object.prototype,b=y.hasOwnProperty,h='function'==typeof Symbol?Symbol:{},v=h.iterator||'@@iterator',k=h.asyncIterator||'@@asyncIterator',P=h.toStringTag||'@@toStringTag',w='object'===t(e),x=o.regeneratorRuntime;if(x)return void(w&&(e.exports=x));x=o.regeneratorRuntime=w?e.exports:{},x.wrap=n;var M='suspendedStart',C='suspendedYield',O='executing',A='completed',T={},S={};S[v]=function(){return this};var E=Object.getPrototypeOf,R=E&&E(E(m([])));R&&R!==y&&b.call(R,v)&&(S=R);var I=i.prototype=r.prototype=Object.create(S);l.prototype=I.constructor=i,i.constructor=l,i[P]=l.displayName='GeneratorFunction',x.isGeneratorFunction=function(e){var t='function'==typeof e&&e.constructor;return!!t&&(t===l||'GeneratorFunction'===(t.displayName||t.name))},x.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,!(P in e)&&(e[P]='GeneratorFunction')),e.prototype=Object.create(I),e},x.awrap=function(e){return{__await:e}},u(d.prototype),d.prototype[k]=function(){return this},x.AsyncIterator=d,x.async=function(e,t,o,a){var r=new d(n(e,t,o,a));return x.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},u(I),I[P]='Generator',I[v]=function(){return this},I.toString=function(){return'[object Generator]'},x.keys=function(e){var t=[];for(var o in e)t.push(o);return t.reverse(),function o(){for(;t.length;){var n=t.pop();if(n in e)return o.value=n,o.done=!1,o}return o.done=!0,o}},x.values=m,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method='next',this.arg=void 0,this.tryEntries.forEach(p),!e)for(var t in this)'t'===t.charAt(0)&&b.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if('throw'===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return r.type='throw',r.arg=e,o.next=t,n&&(o.method='next',o.arg=void 0),!!n}if(this.done)throw e;for(var o=this,n=this.tryEntries.length-1;0<=n;--n){var a=this.tryEntries[n],r=a.completion;if('root'===a.tryLoc)return t('end');if(a.tryLoc<=this.prev){var l=b.call(a,'catchLoc'),i=b.call(a,'finallyLoc');if(l&&i){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);}else if(!i)throw new Error('try statement without catch or finally');else if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1,n;0<=o;--o)if(n=this.tryEntries[o],n.tryLoc<=this.prev&&b.call(n,'finallyLoc')&&this.prev<n.finallyLoc){var a=n;break}a&&('break'===e||'continue'===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method='next',this.next=a.finallyLoc,T):this.complete(r)},complete:function(e,t){if('throw'===e.type)throw e.arg;return'break'===e.type||'continue'===e.type?this.next=e.arg:'return'===e.type?(this.rval=this.arg=e.arg,this.method='return',this.next='end'):'normal'===e.type&&t&&(this.next=t),T},finish:function(e){for(var t=this.tryEntries.length-1,o;0<=t;--t)if(o=this.tryEntries[t],o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),p(o),T},catch:function(e){for(var t=this.tryEntries.length-1,o;0<=t;--t)if(o=this.tryEntries[t],o.tryLoc===e){var n=o.completion;if('throw'===n.type){var a=n.arg;p(o)}return a}throw new Error('illegal catch attempt')},delegateYield:function(e,t,o){return this.delegate={iterator:m(e),resultName:t,nextLoc:o},'next'===this.method&&(this.arg=void 0),T}}}(function(){return this}()||Function('return this')())}).call(t,o(110)(e))},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0}),t.ClassicEditor=void 0;var i=o(277),u=n(i),d=o(441),s=n(d),f=o(466),c=n(f),p=o(469),_=n(p),m=o(472),g=n(m),y=o(475),b=n(y),h=o(481),v=n(h),k=o(494),P=n(k),w=o(513),x=n(w),M=o(521),C=n(M),O=o(527),A=n(O),T=o(528),S=n(T),E=o(537),R=n(E),I=o(109),V=n(I),N=t.ClassicEditor=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),t}(u.default);N.build={plugins:[s.default,c.default,_.default,g.default,b.default,v.default,P.default,x.default,C.default,A.default,S.default,R.default,V.default],config:{toolbar:['headings','bold','italic','link','bulletedList','numberedList','blockQuote','undo','redo'],image:{toolbar:['imageStyleFull','imageStyleSide','|','imageTextAlternative']}}}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(278),s=n(d),f=o(258),c=n(f),p=o(425),_=n(p),m=o(429),g=n(m),y=o(437),b=n(y);o(438);var h=function(e){function t(e,o){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return n.document.createRoot(),n.data.processor=new c.default,n.ui=new _.default(n,new g.default(n.locale)),n._elementReplacer=new b.default,n}return l(t,e),i(t,[{key:'destroy',value:function(){return this.updateEditorElement(),this._elementReplacer.restore(),this.ui.destroy(),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'destroy',this).call(this)}}],[{key:'create',value:function(e,t){var o=this;return new Promise(function(n){var a=new o(e,t);n(a.initPlugins().then(function(){return a._elementReplacer.replace(e,a.ui.view.element)}).then(function(){a.ui.init(),a.fire('uiReady')}).then(function(){return a.editing.view.attachDomRoot(a.ui.view.editableElement)}).then(function(){return a.loadDataFromEditorElement()}).then(function(){a.fire('dataReady'),a.fire('ready')}).then(function(){return a}))})}}]),t}(s.default);t.default=h},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(279),s=n(d),f=o(406),c=n(f),p=o(407),_=n(p),m=o(422),g=n(m),y=o(423),b=n(y),h=function(e){function t(e,o){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o));return n.element=e,n.editing=new _.default(n.document),n.editing.view.bind('isReadOnly').to(n),n.keystrokes=new c.default(n),n.keystrokes.listenTo(n.editing.view),n}return l(t,e),i(t,[{key:'destroy',value:function(){var e=this;return Promise.resolve().then(function(){return e.keystrokes.destroy()}).then(function(){return e.editing.destroy()}).then(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'destroy',this).call(this))}},{key:'setData',value:function(e){this.data.set(e)}},{key:'getData',value:function(){return this.data.get()}},{key:'updateEditorElement',value:function(){(0,b.default)(this.element,this.getData())}},{key:'loadDataFromEditorElement',value:function(){this.setData((0,g.default)(this.element))}}],[{key:'create',value:function(e,t){var o=this;return new Promise(function(n){var a=new o(e,t);n(a.initPlugins().then(function(){a.fire('dataReady'),a.fire('ready')}).then(function(){return a}))})}}]),t}(s.default);t.default=h},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(280),i=n(l),u=o(281),d=n(u),s=o(282),f=n(s),c=o(283),p=n(c),_=o(285),m=n(_),g=o(355),y=n(g),b=o(15),h=n(b),v=o(4),k=n(v),P=function(){function e(t){a(this,e);var o=this.constructor.build&&this.constructor.build.plugins;this.config=new i.default(t,this.constructor.build&&this.constructor.build.config),this.config.define('plugins',o),this.plugins=new d.default(this,o),this.commands=new f.default,this.locale=new p.default(this.config.get('lang')),this.t=this.locale.t,this.document=new y.default,this.data=new m.default(this.document),this.set('isReadOnly',!1)}return r(e,[{key:'initPlugins',value:function(){function e(e,t){return e.reduce(function(e,o){return o[t]?e.then(o[t].bind(o)):e},Promise.resolve())}var t=this,o=this,n=this.config;return function(){var e=n.get('plugins')||[],t=n.get('removePlugins')||[];return o.plugins.load(e,t)}().then(function(t){return e(t,'init').then(function(){return e(t,'afterInit')})}).then(function(){return t.fire('pluginsReady')})}},{key:'destroy',value:function(){var e=this;return this.fire('destroy'),this.stopListening(),this.commands.destroy(),this.plugins.destroy().then(function(){e.document.destroy(),e.data.destroy()})}},{key:'execute',value:function(){var e;(e=this.commands).execute.apply(e,arguments)}}],[{key:'create',value:function(e){var t=this;return new Promise(function(o){var n=new t(e);o(n.initPlugins().then(function(){n.fire('dataReady'),n.fire('ready')}).then(function(){return n}))})}}]),e}();t.default=P,(0,k.default)(P,h.default)},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(73),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(){function e(t,o){n(this,e),this._config={},o&&this.define(o),t&&this._setObjectToTarget(this._config,t)}return a(e,[{key:'set',value:function(e,t){this._setToTarget(this._config,e,t)}},{key:'define',value:function(e,t){this._setToTarget(this._config,e,t,!0)}},{key:'get',value:function(e){return this._getFromSource(this._config,e)}},{key:'_setToTarget',value:function(e,t,o){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if((0,l.default)(t))return void this._setObjectToTarget(e,t,n);var a=t.split('.');t=a.pop();var r=!0,i=!1,u;try{for(var d=a[Symbol.iterator](),s,f;!(r=(s=d.next()).done);r=!0)f=s.value,(0,l.default)(e[f])||(e[f]={}),e=e[f]}catch(e){i=!0,u=e}finally{try{!r&&d.return&&d.return()}finally{if(i)throw u}}return(0,l.default)(o)?((0,l.default)(e[t])||(e[t]={}),e=e[t],void this._setObjectToTarget(e,o,n)):void(n&&'undefined'!=typeof e[t]||(e[t]=o))}},{key:'_getFromSource',value:function(e,t){var o=t.split('.');t=o.pop();var n=!0,a=!1,r;try{for(var i=o[Symbol.iterator](),u,d;!(n=(u=i.next()).done);n=!0){if(d=u.value,!(0,l.default)(e[d])){e=null;break}e=e[d]}}catch(e){a=!0,r=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw r}}return e?e[t]:void 0}},{key:'_setObjectToTarget',value:function(e,t,o){var n=this;Object.keys(t).forEach(function(a){n._setToTarget(e,a,t[a],o)})}}]),e}();t.default=i},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){var o=[],n=!0,a=!1,r;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(0),u=n(i),d=o(30),s=n(d),f=function(){function e(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];a(this,e),this._editor=t,this._availablePlugins=new Map,this._plugins=new Map;var n=!0,r=!1,l;try{for(var i=o[Symbol.iterator](),u,d;!(n=(u=i.next()).done);n=!0)d=u.value,this._availablePlugins.set(d,d),d.pluginName&&this._availablePlugins.set(d.pluginName,d)}catch(e){r=!0,l=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw l}}}return l(e,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){var t,o,n,a,r,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,o=!1,n=void 0,e.prev=3,a=this._plugins[Symbol.iterator]();case 5:if(t=(r=a.next()).done){e.next=13;break}if(l=r.value,'function'!=typeof l[0]){e.next=10;break}return e.next=10,l;case 10:t=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e['catch'](3),o=!0,n=e.t0;case 19:e.prev=19,e.prev=20,!t&&a.return&&a.return();case 22:if(e.prev=22,!o){e.next=25;break}throw n;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case'end':return e.stop();}},e,this,[[3,15,19,27],[20,,22,26]])})},{key:'get',value:function(e){return this._plugins.get(e)}},{key:'load',value:function(e){function t(e){return p.includes(e)||l.get(e)||d.has(e)?void 0:o(e).catch(function(t){throw s.default.error('plugincollection-load: It was not possible to load the plugin.',{plugin:e}),t})}function o(e){return new Promise(function(o){d.add(e),e.requires&&e.requires.forEach(function(o){var a=n(o);if(r.includes(a))throw new u.default('plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.',{plugin:a,requiredBy:e});t(a)});var a=new e(i);l._add(e,a),f.push(a),o()})}function n(e){return'function'==typeof e?e:l._availablePlugins.get(e)}function a(e){return e.map(function(e){return n(e)}).filter(function(e){return!!e})}var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],l=this,i=this._editor,d=new Set,f=[],c=a(e),p=a(r),_=function(e){var t=[],o=!0,a=!1,r;try{for(var l=e[Symbol.iterator](),i,u;!(o=(i=l.next()).done);o=!0)u=i.value,n(u)||t.push(u)}catch(e){a=!0,r=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw r}}return t.length?t:null}(e);if(_){var m='plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.';return s.default.error(m,{plugins:_}),Promise.reject(new u.default(m,{plugins:_}))}return Promise.all(c.map(t)).then(function(){return f})}},{key:'destroy',value:function(){var e=Array.from(this).map(function(e){var t=r(e,2),o=t[1];return o}).filter(function(e){return'function'==typeof e.destroy}).map(function(e){return e.destroy()});return Promise.all(e)}},{key:'_add',value:function(e,t){this._plugins.set(e,t);var o=e.pluginName;o&&(this._plugins.has(o)?s.default.warn('plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.',{pluginName:o,plugin1:this._plugins.get(o).constructor,plugin2:e}):this._plugins.set(o,t))}}]),e}();t.default=f},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(0),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(){function e(){n(this,e),this._commands=new Map}return a(e,[{key:'add',value:function(e,t){this._commands.set(e,t)}},{key:'get',value:function(e){return this._commands.get(e)}},{key:'execute',value:function(e){var t=this.get(e);if(!t)throw new l.default('commandcollection-command-not-found: Command does not exist.',{commandName:e});for(var o=arguments.length,n=Array(1<o?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];t.execute.apply(t,n)}},{key:'names',value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._commands.keys(),'t0',1);case 1:case'end':return e.stop();}},e,this)})},{key:'commands',value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._commands.values(),'t0',1);case 1:case'end':return e.stop();}},e,this)})},{key:Symbol.iterator,value:function(){return this._commands[Symbol.iterator]()}},{key:'destroy',value:function(){var e=!0,t=!1,o;try{for(var n=this.commands()[Symbol.iterator](),a,r;!(e=(a=n.next()).done);e=!0)r=a.value,r.destroy()}catch(e){t=!0,o=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw o}}}}]),e}();t.default=i},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(284),l=function(){function e(t){var o=this;n(this,e),this.lang=t||'en',this.t=function(){return o._t.apply(o,arguments)}}return a(e,[{key:'_t',value:function(e,t){var o=(0,r.translate)(this.lang,e);return t&&(o=o.replace(/%(\d+)/g,function(e,o){return o<t.length?t[o]:e})),o}}]),e}();t.default=l},function(e,t){'use strict';function o(e,t){return e in n&&t in n[e]}Object.defineProperty(t,'__esModule',{value:!0}),t.add=function(e,t){n[e]=n[e]||{},Object.assign(n[e],t)},t.translate=function(e,t){return o(e,t)?n[e][t]:t.replace(/ \[context: [^\]]+\]$/,'')},t._clear=function(){n={}};var n={}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(4),i=n(l),u=o(15),d=n(u),s=o(162),f=n(s),c=o(175),p=n(c),_=o(88),m=o(348),g=n(m),y=o(350),b=o(125),h=n(b),v=o(2),k=n(v),P=o(1),w=n(P),x=o(351),M=n(x),C=o(352),O=n(C),A=o(353),T=n(A),S=o(354),E=n(S),R=function(){function e(t,o){var n=this;a(this,e),this.model=t,this.processor=o,this.mapper=new f.default,this.modelToView=new p.default(this.model,{mapper:this.mapper}),this.modelToView.on('insert:$text',(0,_.insertText)(),{priority:'lowest'}),this.viewToModel=new g.default({schema:t.schema}),this.viewToModel.on('text',(0,y.convertText)(),{priority:'lowest'}),this.viewToModel.on('element',(0,y.convertToModelFragment)(),{priority:'lowest'}),this.viewToModel.on('documentFragment',(0,y.convertToModelFragment)(),{priority:'lowest'}),['insertContent','deleteContent','modifySelection','getSelectedContent'].forEach(function(e){return n.decorate(e)})}return r(e,[{key:'get',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'main';return this.stringify(this.model.getRoot(e))}},{key:'stringify',value:function(e){var t=this.toView(e);return this.processor.toData(t)}},{key:'toView',value:function(e){var t=k.default.createIn(e),o=new h.default;return this.mapper.bindElements(e,o),this.modelToView.convertInsertion(t),this.mapper.clearBindings(),o}},{key:'set',value:function(e){var t=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'main',n=this.model.getRoot(o);this.model.enqueueChanges(function(){t.model.selection.removeAllRanges(),t.model.selection.clearAttributes(),t.model.batch('transparent').remove(k.default.createIn(n)).insert(w.default.createAt(n,0),t.parse(e))})}},{key:'parse',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'$root',o=this.processor.toView(e);return this.toModel(o,t)}},{key:'toModel',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'$root';return this.viewToModel.convert(e,{context:[t]})}},{key:'destroy',value:function(){}},{key:'insertContent',value:function(e,t,o){(0,M.default)(this,e,t,o)}},{key:'deleteContent',value:function(e,t,o){(0,O.default)(e,t,o)}},{key:'modifySelection',value:function(e,t){(0,T.default)(this,e,t)}},{key:'getSelectedContent',value:function(e){return(0,E.default)(e)}}]),e}();t.default=R,(0,i.default)(R,d.default)},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=o(287),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=function e(t,o){n(this,e),this.source=t,this.name=o,this.path=[],this.stop=(0,r.default)(),this.off=(0,r.default)()}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(){return function e(){e.called=!0}}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});t.default={get:function(e){return'number'==typeof e?e:this[e]||this.normal},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(62),r=n(a),l=o(112),i=n(l),u=o(290),d=n(u),s=o(76),f=n(s),c=o(78),p=n(c),_=o(293),m=n(_),g=Object.prototype,y=g.propertyIsEnumerable,b=!y.call({valueOf:1},'valueOf'),h=(0,d.default)(function(e,t){if(b||(0,p.default)(t)||(0,f.default)(t))return void(0,i.default)(t,(0,m.default)(t),e);for(var o in t)(0,r.default)(e,o,t[o])});t.default=h},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(75),r=n(a),l=o(7),i=n(l);t.default=function(e){return(0,i.default)(function(t,o){var n=-1,a=o.length,l=1<a?o[a-1]:void 0,i=2<a?o[2]:void 0;for(l=3<e.length&&'function'==typeof l?(a--,l):void 0,i&&(0,r.default)(o[0],o[1],i)&&(l=3>a?void 0:l,a=1),t=Object(t);++n<a;){var u=o[n];u&&e(t,u,n,l)}return t})}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(113),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=(0,a.default)('length');t.default=r},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(159),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=1/0;t.default=function(e){if(!e)return 0===e?e:0;if(e=(0,a.default)(e),e===r||e===-r){var t=0>e?-1:1;return t*1.7976931348623157e308}return e===e?e:0}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(294),r=n(a),l=o(160),i=n(l),u=o(37),d=n(u),s=o(78),f=n(s),c=Object.prototype,p=c.hasOwnProperty;t.default=function(e){for(var t=-1,o=(0,f.default)(e),n=(0,r.default)(e),a=n.length,l=(0,i.default)(e),u=l||[],s=u.length;++t<a;){var c=n[t];!!l&&('length'==c||(0,d.default)(c,s))||'constructor'==c&&(o||!p.call(e,c))||u.push(c)}return u}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){e=null==e?e:Object(e);var t=[];for(var o in e)t.push(o);return t}Object.defineProperty(t,'__esModule',{value:!0});var r=o(295),l=n(r),i=o(298),u=n(i),d=Object.prototype,s=l.default?l.default.enumerate:void 0,f=d.propertyIsEnumerable;s&&!f.call({valueOf:1},'valueOf')&&(a=function(e){return(0,u.default)(s(e))}),t.default=a},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(31),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a.default.Reflect;t.default=r},function(e){'use strict';var t='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},o;o=function(){return this}();try{o=o||Function('return this')()||(1,eval)('this')}catch(n){'object'===('undefined'==typeof window?'undefined':t(window))&&(o=window)}e.exports=o},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return e&&e.Object===Object?e:null}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){for(var t=[],o;!(o=e.next()).done;)t.push(o.value);return t}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(){this.__data__=[]}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(82),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=Array.prototype,l=r.splice;t.default=function(e){var t=this.__data__,o=(0,a.default)(t,e);if(0>o)return!1;var n=t.length-1;return o==n?t.pop():l.call(t,o,1),!0}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(82),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){var t=this.__data__,o=(0,a.default)(t,e);return 0>o?void 0:t[o][1]}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(82),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return-1<(0,a.default)(this.__data__,e)}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(82),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){var o=this.__data__,n=(0,a.default)(o,e);return 0>n?o.push([e,t]):o[n][1]=t,this}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(81),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(){this.__data__=new a.default}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return this.__data__['delete'](e)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return this.__data__.get(e)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return this.__data__.has(e)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(81),r=n(a),l=o(119),i=n(l);t.default=function(e,t){var o=this.__data__;return o instanceof r.default&&o.__data__.length==200&&(o=this.__data__=new i.default(o.__data__)),o.set(e,t),this}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(310),r=n(a),l=o(81),i=n(l),u=o(167),d=n(u);t.default=function(){this.__data__={hash:new r.default,map:new(d.default||i.default),string:new r.default}}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}Object.defineProperty(t,'__esModule',{value:!0});var r=o(311),l=n(r),i=o(312),u=n(i),d=o(313),s=n(d),f=o(314),c=n(f),p=o(315),_=n(p);a.prototype.clear=l.default,a.prototype['delete']=u.default,a.prototype.get=s.default,a.prototype.has=c.default,a.prototype.set=_.default,t.default=a},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(83),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(){this.__data__=a.default?(0,a.default)(null):{}}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return this.has(e)&&delete this.__data__[e]}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(83),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=Object.prototype,l=r.hasOwnProperty;t.default=function(e){var t=this.__data__;if(a.default){var o=t[e];return o==='__lodash_hash_undefined__'?void 0:o}return l.call(t,e)?t[e]:void 0}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(83),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=Object.prototype,l=r.hasOwnProperty;t.default=function(e){var t=this.__data__;return a.default?t[e]!==void 0:l.call(t,e)}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(83),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){var o=this.__data__;return o[e]=a.default&&void 0===t?'__lodash_hash_undefined__':t,this}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(84),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return(0,a.default)(this,e)['delete'](e)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e};t.default=function(e){var t='undefined'==typeof e?'undefined':o(e);return'string'==t||'number'==t||'symbol'==t||'boolean'==t?'__proto__'!==e:null===e}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(84),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return(0,a.default)(this,e).get(e)}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(84),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return(0,a.default)(this,e).has(e)}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(84),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){return(0,a.default)(this,e).set(e,t),this}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){for(var o=-1,n=e.length;++o<n&&!(!1===t(e[o],o,e)););return e}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(112),r=n(a),l=o(67),i=n(l);t.default=function(e,t){return e&&(0,r.default)(t,(0,i.default)(t),e)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=Object.keys;t.default=function(e){return o(Object(e))}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){if(t)return e.slice();var o=new e.constructor(e.length);return e.copy(o),o}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(112),r=n(a),l=o(170),i=n(l);t.default=function(e,t){return(0,r.default)(e,(0,i.default)(e),t)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(327),r=n(a),l=o(170),i=n(l),u=o(67),d=n(u);t.default=function(e){return(0,r.default)(e,d.default,i.default)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(85),r=n(a),l=o(14),i=n(l);t.default=function(e,t,o){var n=t(e);return(0,i.default)(e)?n:(0,r.default)(n,o(e))}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(56),r=n(a),l=o(31),i=n(l),u=(0,r.default)(i.default,'DataView');t.default=u},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(56),r=n(a),l=o(31),i=n(l),u=(0,r.default)(i.default,'Promise');t.default=u},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(56),r=n(a),l=o(31),i=n(l),u=(0,r.default)(i.default,'WeakMap');t.default=u},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=Object.prototype,n=o.hasOwnProperty;t.default=function(e){var t=e.length,o=e.constructor(t);return t&&'string'==typeof e[0]&&n.call(e,'index')&&(o.index=e.index,o.input=e.input),o}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(121),r=n(a),l=o(333),i=n(l),u=o(334),d=n(u),s=o(336),f=n(s),c=o(337),p=n(c),_=o(339),m=n(_),g=o(340),y=n(g);t.default=function(e,t,o,n){var a=e.constructor;return t==='[object ArrayBuffer]'?(0,r.default)(e):t==='[object Boolean]'||t==='[object Date]'?new a(+e):t==='[object DataView]'?(0,i.default)(e,n):t==='[object Float32Array]'||t==='[object Float64Array]'||t==='[object Int8Array]'||t==='[object Int16Array]'||t==='[object Int32Array]'||t==='[object Uint8Array]'||t==='[object Uint8ClampedArray]'||t==='[object Uint16Array]'||t==='[object Uint32Array]'?(0,y.default)(e,n):t==='[object Map]'?(0,d.default)(e,n,o):t==='[object Number]'||t==='[object String]'?new a(e):t==='[object RegExp]'?(0,f.default)(e):t==='[object Set]'?(0,p.default)(e,n,o):t==='[object Symbol]'?(0,m.default)(e):void 0}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(121),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){var o=t?(0,a.default)(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(335),r=n(a),l=o(173),i=n(l),u=o(122),d=n(u);t.default=function(e,t,o){var n=t?o((0,d.default)(e),!0):(0,d.default)(e);return(0,i.default)(n,r.default,new e.constructor)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){return e.set(t[0],t[1]),e}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=/\w*$/;t.default=function(e){var t=new e.constructor(e.source,o.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(338),r=n(a),l=o(173),i=n(l),u=o(86),d=n(u);t.default=function(e,t,o){var n=t?o((0,d.default)(e),!0):(0,d.default)(e);return(0,i.default)(n,r.default,new e.constructor)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){return e.add(t),e}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(123),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a.default?a.default.prototype:void 0,l=r?r.valueOf:void 0;t.default=function(e){return l?Object(l.call(e)):{}}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(121),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){var o=t?(0,a.default)(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(342),r=n(a),l=o(111),i=n(l),u=o(78),d=n(u);t.default=function(e){return'function'!=typeof e.constructor||(0,d.default)(e)?{}:(0,r.default)((0,i.default)(e))}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(16),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=Object.create;t.default=function(e){return(0,a.default)(e)?r(e):{}}},function(e,t,o){'use strict';(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},r=o(344),l=n(r),i=o(31),u=n(i),d={function:!0,object:!0},s=d[a(t)]&&t&&!t.nodeType?t:void 0,f=d[a(e)]&&e&&!e.nodeType?e:void 0,c=f&&f.exports===s?s:void 0,p=c?u.default.Buffer:void 0,_=p?function(e){return e instanceof p}:(0,l.default)(!1);t.default=_}).call(t,o(110)(e))},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return function(){return e}}},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(0),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(){function e(t,o,a){if(n(this,e),this.textNode=t,0>o||o>t.data.length)throw new l.default('view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>a||o+a>t.data.length)throw new l.default('view-textproxy-wrong-length: Given length value is incorrect.');this.data=t.data.substring(o,o+a),this.offsetInText=o}return a(e,[{key:'is',value:function(e){return'textProxy'==e}},{key:'getAncestors',value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],o=e.includeSelf?this.textNode:this.parent;null!==o;)t[e.parentFirst?'push':'unshift'](o),o=o.parent;return t}},{key:'isPartial',get:function(){return this.data.length!==this.textNode.data.length}},{key:'parent',get:function(){return this.textNode.parent}},{key:'root',get:function(){return this.textNode.root}},{key:'document',get:function(){return this.textNode.document}}]),e}();t.default=i},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(64),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(){function e(){n(this,e),this._consumable=new Map,this._textProxyRegistry=new Map}return a(e,[{key:'add',value:function(e,t){e instanceof l.default&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}},{key:'consume',value:function(e,t){return e instanceof l.default&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}},{key:'test',value:function(e,t){e instanceof l.default&&(e=this._getSymbolForTextProxy(e));var o=this._consumable.get(e);if(void 0===o)return null;var n=o.get(t);return void 0===n?null:n}},{key:'revert',value:function(e,t){e instanceof l.default&&(e=this._getSymbolForTextProxy(e));var o=this.test(e,t);return!1===o?(this._consumable.get(e).set(t,!0),!0):!0!==o&&null}},{key:'_getSymbolForTextProxy',value:function(e){var t=null,o=this._textProxyRegistry.get(e.startOffset);if(o){var n=o.get(e.endOffset);n&&(t=n.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e.startOffset,e.endOffset,e.parent)),t}},{key:'_addSymbolForTextProxy',value:function(e,t,o){var n=Symbol('textProxySymbol'),a,r;return a=this._textProxyRegistry.get(e),a||(a=new Map,this._textProxyRegistry.set(e,a)),r=a.get(t),r||(r=new Map,a.set(t,r)),r.set(o,n),n}}]),e}();t.default=i},function(e,t){'use strict';function o(e){return-1<e.indexOf('macintosh')}Object.defineProperty(t,'__esModule',{value:!0}),t.isMac=o;var n=navigator.userAgent.toLowerCase(),a={mac:o(n)};t.default=a},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e){var t=new Set,o=new Map,n=new _.default({startPosition:c.default.createAt(e,0),ignoreElementEnd:!0}),a=!0,r=!1,l;try{for(var i=n[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,'$marker'==d.item.name&&t.add(d.item)}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}var f=!0,p=!1,m;try{for(var g=t[Symbol.iterator](),y;!(f=(y=g.next()).done);f=!0){var b=y.value,v=b.getAttribute('data-name'),k=c.default.createBefore(b);o.has(v)?o.get(v).end=c.default.createFromPosition(k):o.set(v,new s.default(c.default.createFromPosition(k))),(0,h.remove)(s.default.createOn(b))}}catch(e){p=!0,m=e}finally{try{!f&&g.return&&g.return()}finally{if(p)throw m}}return o}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(349),u=n(i),d=o(2),s=n(d),f=o(1),c=n(f),p=o(54),_=n(p),m=o(63),g=n(m),y=o(39),b=n(y),h=o(21),v=o(9),k=n(v),P=o(4),w=n(P),x=o(46),M=n(x),C=o(30),O=n(C),A=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.conversionApi=(0,M.default)({},t),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this)}return l(e,[{key:'convert',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.fire('viewCleanup',e);var o=u.default.createFrom(e),n=this._convertItem(e,o,t);return n?(n.is('documentFragment')||(n=new b.default([n])),n.markers=r(n),n):new b.default}},{key:'_convertItem',value:function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=(0,M.default)({},o,{input:e,output:null});return e.is('element')?this.fire('element:'+e.name,n,t,this.conversionApi):e.is('text')?this.fire('text',n,t,this.conversionApi):this.fire('documentFragment',n,t,this.conversionApi),n.output&&!(n.output instanceof g.default||n.output instanceof b.default)?(O.default.warn('view-conversion-dispatcher-incorrect-result: Dropped incorrect conversion result.',[e,n.output]),null):n.output}},{key:'_convertChildren',value:function(e,t){var o=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=Array.from(e.getChildren()),r=a.map(function(e){return o._convertItem(e,t,n)}).filter(function(e){return e instanceof g.default||e instanceof b.default}).reduce(function(e,t){return e.concat(t.is('documentFragment')?Array.from(t.getChildren()):t)},[]);return new b.default(r)}}]),e}();t.default=A,(0,w.default)(A,k.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(14),u=n(i),d=o(0),s=n(d),f=function(){function e(){r(this,e),this._consumables=new Map}return l(e,[{key:'add',value:function(e,t){var o;return e.is('text')||e.is('documentFragment')?void this._consumables.set(e,!0):void(this._consumables.has(e)?o=this._consumables.get(e):(o=new c,this._consumables.set(e,o)),o.add(t))}},{key:'test',value:function(e,t){var o=this._consumables.get(e);return void 0===o?null:e.is('text')||e.is('documentFragment')?o:o.test(t)}},{key:'consume',value:function(e,t){return!!this.test(e,t)&&(e.is('text')||e.is('documentFragment')?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}},{key:'revert',value:function(e,t){var o=this._consumables.get(e);void 0!==o&&(e.is('text')||e.is('documentFragment')?this._consumables.set(e,!0):o.revert(t))}}],[{key:'consumablesFromElement',value:function(e){var t={name:!0,attribute:[],class:[],style:[]},o=e.getAttributeKeys(),n=!0,a=!1,r;try{for(var l=o[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)(u=i.value,'style'!=u&&'class'!=u)&&t.attribute.push(u)}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}var d=e.getClassNames(),s=!0,f=!1,c;try{for(var p=d[Symbol.iterator](),_,m;!(s=(_=p.next()).done);s=!0)m=_.value,t.class.push(m)}catch(e){f=!0,c=e}finally{try{!s&&p.return&&p.return()}finally{if(f)throw c}}var g=e.getStyleNames(),y=!0,b=!1,h;try{for(var v=g[Symbol.iterator](),k,P;!(y=(k=v.next()).done);y=!0)P=k.value,t.style.push(P)}catch(e){b=!0,h=e}finally{try{!y&&v.return&&v.return()}finally{if(b)throw h}}return t}},{key:'createFrom',value:function(t,o){if(o||(o=new e),t.is('text'))return o.add(t),o;t.is('element')&&o.add(t,e.consumablesFromElement(t)),t.is('documentFragment')&&o.add(t);var n=!0,a=!1,r;try{for(var l=t.getChildren()[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,o=e.createFrom(u,o)}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return o}}]),e}();t.default=f;var c=function(){function e(){r(this,e),this._canConsumeName=null,this._consumables={attribute:new Map,style:new Map,class:new Map}}return l(e,[{key:'add',value:function(e){for(var t in e.name&&(this._canConsumeName=!0),this._consumables)t in e&&this._add(t,e[t])}},{key:'test',value:function(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(var t in this._consumables)if(t in e){var o=this._test(t,e[t]);if(!0!==o)return o}return!0}},{key:'consume',value:function(e){for(var t in e.name&&(this._canConsumeName=!1),this._consumables)t in e&&this._consume(t,e[t])}},{key:'revert',value:function(e){for(var t in e.name&&(this._canConsumeName=!0),this._consumables)t in e&&this._revert(t,e[t])}},{key:'_add',value:function(e,t){var o=(0,u.default)(t)?t:[t],n=this._consumables[e],a=!0,r=!1,l;try{for(var i=o[Symbol.iterator](),d,f;!(a=(d=i.next()).done);a=!0){if(f=d.value,'attribute'===e&&('class'===f||'style'===f))throw new s.default('viewconsumable-invalid-attribute: Classes and styles should be handled separately.');n.set(f,!0)}}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}}},{key:'_test',value:function(e,t){var o=(0,u.default)(t)?t:[t],n=this._consumables[e],r=!0,l=!1,i;try{for(var d=o[Symbol.iterator](),s,f;!(r=(s=d.next()).done);r=!0)if(f=s.value,'attribute'===e&&('class'===f||'style'===f)){var c=this._test(f,[].concat(a(this._consumables[f].keys())));if(!0!==c)return c}else{var p=n.get(f);if(void 0===p)return null;if(!p)return!1}}catch(e){l=!0,i=e}finally{try{!r&&d.return&&d.return()}finally{if(l)throw i}}return!0}},{key:'_consume',value:function(e,t){var o=(0,u.default)(t)?t:[t],n=this._consumables[e],r=!0,l=!1,i;try{for(var d=o[Symbol.iterator](),s,f;!(r=(s=d.next()).done);r=!0)f=s.value,'attribute'===e&&('class'===f||'style'===f)?this._consume(f,[].concat(a(this._consumables[f].keys()))):n.set(f,!1)}catch(e){l=!0,i=e}finally{try{!r&&d.return&&d.return()}finally{if(l)throw i}}}},{key:'_revert',value:function(e,t){var o=(0,u.default)(t)?t:[t],n=this._consumables[e],r=!0,l=!1,i;try{for(var d=o[Symbol.iterator](),s,f;!(r=(s=d.next()).done);r=!0)if(f=s.value,'attribute'===e&&('class'===f||'style'===f))this._revert(f,[].concat(a(this._consumables[f].keys())));else{var c=n.get(f);!1===c&&n.set(f,!0)}}catch(e){l=!0,i=e}finally{try{!r&&d.return&&d.return()}finally{if(l)throw i}}}}]),e}()},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0}),t.convertToModelFragment=function(){return function(e,t,o,n){if(!t.output&&o.consume(t.input,{name:!0})){var a=n.convertChildren(t.input,o,t);t.output=new r.default((0,u.normalizeNodes)(a))}}},t.convertText=function(){return function(e,t,o,n){var a={name:'$text',inside:t.context};n.schema.check(a)&&o.consume(t.input)&&(t.output=new i.default(t.input.data))}};var a=o(39),r=n(a),l=o(25),i=n(l),u=o(21)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();t.default=function(e,t,o,n){n||(n=e.model.batch()),o.isCollapsed||e.deleteContent(o,n);var a=new g(e,n,o.anchor),r;r=t.is('documentFragment')?t.getChildren():[t],a.handleNodes(r,{isFirst:!0,isLast:!0});var l=a.getSelectionRange();l?o.setRanges([l]):m.default.warn('insertcontent-no-range: Cannot determine a proper selection range after insertion.')};var l=o(1),i=n(l),u=o(177),d=n(u),s=o(6),f=n(s),c=o(2),p=n(c),_=o(30),m=n(_),g=function(){function e(t,o,n){a(this,e),this.dataController=t,this.batch=o,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=t.model.schema}return r(e,[{key:'handleNodes',value:function(e,t){e=Array.from(e);for(var o=0,n;o<e.length;o++)n=e[o],this._handleNode(n,{isFirst:0===o&&t.isFirst,isLast:o===e.length-1&&t.isLast})}},{key:'getSelectionRange',value:function(){return this.nodeToSelect?p.default.createOn(this.nodeToSelect):this.dataController.model.getNearestSelectionRange(this.position)}},{key:'_handleNode',value:function(e,t){if(this._checkIsObject(e))return void this._handleObject(e,t);var o=this._checkAndSplitToAllowedPosition(e,t);return o?void(this._insert(e),this._mergeSiblingsOf(e,t)):void this._handleDisallowedNode(e,t)}},{key:'_handleObject',value:function(e,t){this._checkAndSplitToAllowedPosition(e)?this._insert(e):this._tryAutoparagraphing(e,t)}},{key:'_handleDisallowedNode',value:function(e,t){e.is('element')?this.handleNodes(e.getChildren(),t):this._tryAutoparagraphing(e,t)}},{key:'_insert',value:function(e){if(!this._checkIsAllowed(e,[this.position.parent]))return void m.default.error('insertcontent-wrong-position: The node cannot be inserted on the given position.',{node:e,position:this.position});var t=d.default.createFromPosition(this.position);this.batch.insert(this.position,e),this.position=i.default.createFromPosition(t),t.detach(),this.nodeToSelect=this._checkIsObject(e)&&!this.schema.check({name:'$text',inside:[this.position.parent]})?e:null}},{key:'_mergeSiblingsOf',value:function(e,t){if(e instanceof f.default){var o=t.isFirst&&e.previousSibling instanceof f.default&&this.canMergeWith.has(e.previousSibling),n=t.isLast&&e.nextSibling instanceof f.default&&this.canMergeWith.has(e.nextSibling),a=d.default.createBefore(e),r=d.default.createAfter(e);if(o){var l=d.default.createFromPosition(this.position);this.batch.merge(a),this.position=i.default.createFromPosition(l),l.detach()}if(n){this.position.isEqual(r)||m.default.error('insertcontent-wrong-position-on-merge: The insertion position should equal the merge position'),this.position=i.default.createAt(r.nodeBefore,'end');var u=new d.default(this.position.root,this.position.path,'sticksToPrevious');this.batch.merge(r),this.position=i.default.createFromPosition(u),u.detach()}a.detach(),r.detach()}}},{key:'_tryAutoparagraphing',value:function(e,t){var o=new f.default('paragraph');this._getAllowedIn(o,this.position.parent)&&this._checkIsAllowed(e,[o])&&(o.appendChildren(e),this._handleNode(o,t))}},{key:'_checkAndSplitToAllowedPosition',value:function(e){var t=this._getAllowedIn(e,this.position.parent);if(!t)return!1;for(;t!=this.position.parent;){if(this.schema.limits.has(this.position.parent.name))return!1;if(this.position.isAtStart){var o=this.position.parent;this.position=i.default.createBefore(o),o.isEmpty&&this.batch.remove(o)}else if(this.position.isAtEnd)this.position=i.default.createAfter(this.position.parent);else{var n=i.default.createAfter(this.position.parent);this.batch.split(this.position),this.position=n,this.canMergeWith.add(this.position.nodeAfter)}}return!0}},{key:'_getAllowedIn',value:function(e,t){return this._checkIsAllowed(e,[t])?t:t.parent?this._getAllowedIn(e,t.parent):null}},{key:'_checkIsAllowed',value:function(e,t){return this.schema.check({name:this._getNodeSchemaName(e),attributes:Array.from(e.getAttributeKeys()),inside:t})}},{key:'_checkIsObject',value:function(e){return this.schema.objects.has(this._getNodeSchemaName(e))}},{key:'_getNodeSchemaName',value:function(e){return e.is('text')?'$text':e.name}}]),e}()},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o){var n=t.parent,r=o.parent;if(n!=r&&n.parent&&r.parent&&l(t,o)){for(t=p.default.createAfter(n),o=p.default.createBefore(r),r.isEmpty?e.remove(r):(!o.isEqual(t)&&e.move(r,t),e.merge(t));o.parent.isEmpty;){var i=o.parent;o=p.default.createBefore(i),e.remove(i)}a(e,t,o)}}function r(e,t){var o=e.schema.check({name:'$text',inside:t}),n=e.schema.check({name:'paragraph',inside:t});return!o&&n}function l(e,t){var o=e.root.document.schema,n=new m.default(e,t),a=!0,r=!1,l;try{for(var i=n.getWalker()[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)if(d=u.value,o.objects.has(d.item.name)||o.limits.has(d.item.name))return!1}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}return!0}function i(e,t,o){var n=new y.default('paragraph');e.insert(t,n),o.setCollapsedAt(n)}function u(e,t){var o=e.document.schema.getLimitElement(t);e.remove(m.default.createIn(o)),i(e,p.default.createAt(o),t)}function d(e,t){var o=e.getLimitElement(t);if(!t.containsEntireContent(o))return!1;var n=t.getFirstRange();return n.start.parent!=n.end.parent&&!!e.check({name:'paragraph',inside:o.name})}Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};if(!e.isCollapsed){if(!o.doNotResetEntireContent&&d(t.document.schema,e))return void u(t,e);var n=e.getFirstRange(),l=n.start,s=f.default.createFromPosition(n.end);n.start.isTouching(n.end)||t.remove(n),o.leaveUnmerged||a(t,l,s),e.setCollapsedAt(l),r(t.document,l)&&i(t,l,e),s.detach()}};var s=o(177),f=n(s),c=o(1),p=n(c),_=o(2),m=n(_),g=o(6),y=n(g)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if('text'==t.type)return r(e.walker,e.unit);if(t.type==(e.isForward?'elementStart':'elementEnd')){if(e.schema.objects.has(t.item.name))return u.default.createAt(t.item,e.isForward?'after':'before');if(e.schema.check({name:'$text',inside:t.nextPosition}))return t.nextPosition}else{if(e.schema.limits.has(t.item.name))return void e.walker.skip(function(){return!0});if(e.schema.check({name:'$text',inside:t.nextPosition}))return t.nextPosition}}function r(e,t){var o=e.position.textNode;if(o)for(var n=o.data,a=e.position.offset-o.startOffset;(0,p.isInsideSurrogatePair)(n,a)||'character'==t&&(0,p.isInsideCombinedSymbol)(n,a);)e.next(),a=e.position.offset-o.startOffset;return e.position}function l(e,t){var o=e.root,n=u.default.createAt(o,t?'end':0);return t?new c.default(e,n):new c.default(n,e)}Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){for(var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=e.model.schema,r='backward'!=o.direction,i=o.unit?o.unit:'character',u=t.focus,d=new s.default({boundaries:l(u,r),singleCharacters:!0,direction:r?'forward':'backward'}),f={walker:d,schema:n,isForward:r,unit:i},c;c=d.next();){if(c.done)return;var p=a(f,c.value);if(p)return void t.moveFocusTo(p)}};var i=o(1),u=n(i),d=o(54),s=n(d),f=o(2),c=n(f),p=o(178)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=[];Array.from(e.getItems({direction:'backward'})).map(function(e){return u.default.createOn(e)}).filter(function(t){var o=(t.start.isAfter(e.start)||t.start.isEqual(e.start))&&(t.end.isBefore(e.end)||t.end.isEqual(e.end));return o}).forEach(function(e){t.push(e.start.parent),(0,p.remove)(e)}),t.forEach(function(e){for(var t=e;t.parent&&t.isEmpty;){var o=u.default.createOn(t);t=t.parent,(0,p.remove)(o)}})}Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=new l.default,o=e.getFirstRange();if(!o||o.isCollapsed)return t;var n=o.start.root,r=o.start.getCommonPath(o.end),i=n.getNodeByPath(r),d;d=o.start.parent==o.end.parent?o:u.default.createFromParentsAndOffsets(i,o.start.path[r.length],i,o.end.path[r.length]+1);var f=d.end.offset-d.start.offset,p=!0,_=!1,m;try{for(var g=d.getItems({shallow:!0})[Symbol.iterator](),y,b;!(p=(y=g.next()).done);p=!0)b=y.value,b.is('textProxy')?t.appendChildren(new c.default(b.data,b.getAttributes())):t.appendChildren(b.clone(!0))}catch(e){_=!0,m=e}finally{try{!p&&g.return&&g.return()}finally{if(_)throw m}}if(d!=o){var h=o._getTransformedByMove(d.start,s.default.createAt(t,0),f)[0],v=new u.default(s.default.createAt(t),h.start),k=new u.default(h.end,s.default.createAt(t,'end'));a(k),a(v)}return t};var r=o(39),l=n(r),i=o(2),u=n(i),d=o(1),s=n(d),f=o(25),c=n(f),p=o(21)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e){var t=e.textNode;if(t){var o=t.data,n=e.offset-t.startOffset;return!(0,j.isInsideSurrogatePair)(o,n)&&!(0,j.isInsideCombinedSymbol)(o,n)}return!0}function l(e,t){var o,n,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:o=!1;case 1:if(o){r.next=17;break}if(o=!0,!e){r.next=9;break}if(n=e.next(),n.done){r.next=9;break}return o=!1,r.next=9,{walker:e,value:n.value};case 9:if(!t){r.next=15;break}if(a=t.next(),a.done){r.next=15;break}return o=!1,r.next=15,{walker:t,value:a.value};case 15:r.next=1;break;case 17:case'end':return r.stop();}},q,this)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(356),d=n(u),s=o(366),f=n(s),c=o(2),p=n(c),_=o(1),m=n(_),g=o(400),y=n(g),b=o(19),h=n(b),v=o(401),k=n(v),P=o(402),w=n(P),x=o(404),M=n(x),C=o(54),O=n(C),A=o(405),T=n(A),S=o(181),E=n(S),R=o(66),I=n(R),V=o(9),N=n(V),F=o(0),B=n(F),D=o(4),L=n(D),j=o(178),q=regeneratorRuntime.mark(l),W='$graveyard',z=function(){function e(){var t=this;a(this,e),this.version=0,this.schema=new M.default,this.history=new k.default(this),this.markers=new T.default,this.selection=new w.default(this),this._pendingChanges=[],this.roots=new Map,this.selection.on('change:range',function(){var e=!0,o=!1,n;try{for(var a=t.selection.getRanges()[Symbol.iterator](),r,l;!(e=(r=a.next()).done);e=!0)if(l=r.value,!t._validateSelectionRange(l))throw new B.default('document-selection-wrong-position: Range from document selection starts or ends at incorrect position.',{range:l})}catch(e){o=!0,n=e}finally{try{!e&&a.return&&a.return()}finally{if(o)throw n}}}),this.createRoot('$root',W)}return i(e,[{key:'applyOperation',value:function(e){if(e.baseVersion!==this.version)throw new B.default('model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.',{operation:e});var t=e._execute();this.version++,this.history.addDelta(e.delta),this.fire('change',e.type,t,e.delta.batch,e.delta.type)}},{key:'batch',value:function(e){return new h.default(this,e)}},{key:'createRoot',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'$root',t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'main';if(this.roots.has(t))throw new B.default('model-document-createRoot-name-exists: Root with specified name already exists.',{name:t});var o=new y.default(this,e,t);return this.roots.set(t,o),o}},{key:'destroy',value:function(){this.selection.destroy(),this.stopListening()}},{key:'enqueueChanges',value:function(e){if(this._pendingChanges.push(e),1==this._pendingChanges.length){for(;this._pendingChanges.length;)this._pendingChanges[0](),this._pendingChanges.shift();this.fire('changesDone')}}},{key:'getRoot',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'main';if(!this.roots.has(e))throw new B.default('model-document-getRoot-root-not-exist: Root with specified name does not exist.',{name:e});return this.roots.get(e)}},{key:'hasRoot',value:function(e){return this.roots.has(e)}},{key:'getRootNames',value:function(){return Array.from(this.roots.keys()).filter(function(e){return e!=W})}},{key:'getNearestSelectionRange',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'both';if(this.schema.check({name:'$text',inside:e}))return new p.default(e);var o,n;('both'==t||'backward'==t)&&(o=new O.default({startPosition:e,direction:'backward'})),('both'==t||'forward'==t)&&(n=new O.default({startPosition:e}));var a=!0,r=!1,i;try{for(var u=l(o,n)[Symbol.iterator](),d;!(a=(d=u.next()).done);a=!0){var s=d.value,f=s.walker==o?'elementEnd':'elementStart',c=s.value;if(c.type==f&&this.schema.objects.has(c.item.name))return p.default.createOn(c.item);if(this.schema.check({name:'$text',inside:c.nextPosition}))return new p.default(c.nextPosition)}}catch(e){r=!0,i=e}finally{try{!a&&u.return&&u.return()}finally{if(r)throw i}}return null}},{key:'transformDeltas',value:function(e,t){var o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return E.default.transformDeltaSets(e,t,o?this:null)}},{key:'toJSON',value:function(){var e=(0,I.default)(this);return e.selection='[engine.model.DocumentSelection]',e}},{key:'_getDefaultRoot',value:function(){var e=!0,t=!1,o;try{for(var n=this.roots.values()[Symbol.iterator](),a,r;!(e=(a=n.next()).done);e=!0)if(r=a.value,r!==this.graveyard)return r}catch(e){t=!0,o=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw o}}return this.graveyard}},{key:'_getDefaultRange',value:function(){var e=this._getDefaultRoot(),t=new m.default(e,[0]),o=this.getNearestSelectionRange(t);return o||new p.default(t)}},{key:'_validateSelectionRange',value:function(e){return r(e.start)&&r(e.end)}},{key:'graveyard',get:function(){return this.getRoot(W)}}]),e}();t.default=z,(0,L.default)(z,N.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}var a=o(126),r=n(a),l=o(130),i=n(l),u=o(97),d=n(u),s=o(96),f=n(s),c=o(95),p=n(c),_=o(131),m=n(_),g=o(98),y=n(g),b=o(99),h=n(b),v=o(180),k=n(v),P=o(100),w=n(P)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(91),i=n(l),u=o(49),d=n(u),s=o(127),f=n(s),c=o(28),p=n(c),_=o(68),m=n(_),g=o(40),y=n(g),b=o(94),h=n(b),v=o(41),k=n(v),P=o(128),w=n(P),x=o(129),M=n(x),C={};C[i.default.className]=i.default,C[d.default.className]=d.default,C[f.default.className]=f.default,C[p.default.className]=p.default,C[m.default.className]=m.default,C[y.default.className]=y.default,C[h.default.className]=h.default,C[k.default.className]=k.default,C[w.default.className]=w.default,C[M.default.className]=M.default;var O=function(){function e(){a(this,e)}return r(e,null,[{key:'fromJSON',value:function(e,t){return C[e.__className].fromJSON(e,t)}}]),e}();t.default=O},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(92),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){return(0,a.default)(e,t)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(118),r=n(a),l=o(179),i=n(l),u=o(363),d=n(u),s=o(364),f=n(s),c=o(120),p=n(c),_=o(14),m=n(_),g=o(74),y=n(g),b=o(365),h=n(b),v='[object Arguments]',k='[object Array]',P='[object Object]',w=Object.prototype,x=w.hasOwnProperty;t.default=function(e,t,o,n,a,l){var u=(0,m.default)(e),s=(0,m.default)(t),c=k,_=k;u||(c=(0,p.default)(e),c=c==v?P:c),s||(_=(0,p.default)(t),_=_==v?P:_);var g=c==P&&!(0,y.default)(e),b=_==P&&!(0,y.default)(t),w=c==_;if(w&&!g)return l||(l=new r.default),u||(0,h.default)(e)?(0,i.default)(e,t,o,n,a,l):(0,d.default)(e,t,c,o,n,a,l);if(!(a&2)){var M=g&&x.call(e,'__wrapped__'),C=b&&x.call(t,'__wrapped__');if(M||C){var O=M?e.value():e,A=C?t.value():t;return l||(l=new r.default),o(O,A,n,a,l)}}return!!w&&(l||(l=new r.default),(0,f.default)(e,t,o,n,a,l))}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});t.default=function(e){return this.__data__.set(e,'__lodash_hash_undefined__'),this}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return this.__data__.has(e)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){for(var o=-1,n=e.length;++o<n;)if(t(e[o],o,e))return!0;return!1}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(123),r=n(a),l=o(172),i=n(l),u=o(179),d=n(u),s=o(122),f=n(s),c=o(86),p=n(c),_=r.default?r.default.prototype:void 0,m=_?_.valueOf:void 0;t.default=function(e,t,o,n,a,r,l){switch(o){case'[object DataView]':if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case'[object ArrayBuffer]':return e.byteLength==t.byteLength&&n(new i.default(e),new i.default(t));case'[object Boolean]':case'[object Date]':return+e==+t;case'[object Error]':return e.name==t.name&&e.message==t.message;case'[object Number]':return e==+e?e==+t:t!=+t;case'[object RegExp]':case'[object String]':return e==t+'';case'[object Map]':var u=f.default;case'[object Set]':var s=r&2;if(u||(u=p.default),e.size!=t.size&&!s)return!1;var c=l.get(e);return c?c==t:(r|=1,l.set(e,t),(0,d.default)(u(e),u(t),n,a,r,l));case'[object Symbol]':if(m)return m.call(e)==m.call(t);}return!1}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(168),r=n(a),l=o(67),i=n(l);t.default=function(e,t,o,n,a,l){var u=a&2,d=(0,i.default)(e),s=d.length,f=(0,i.default)(t),c=f.length;if(s!=c&&!u)return!1;for(var p=s,_;p--;)if(_=d[p],u?!(_ in t):!(0,r.default)(t,_))return!1;var m=l.get(e);if(m)return m==t;var g=!0;l.set(e,t);for(var y=u;++p<s;){_=d[p];var b=e[_],h=t[_];if(n)var v=u?n(h,b,_,t,e,l):n(b,h,_,e,t,l);if(void 0===v?!(b===h||o(b,h,n,a,l)):!v){g=!1;break}y||(y='constructor'==_)}if(g&&!y){var k=e.constructor,P=t.constructor;k!=P&&'constructor'in e&&'constructor'in t&&!('function'==typeof k&&k instanceof k&&'function'==typeof P&&P instanceof P)&&(g=!1)}return l['delete'](e),g}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(77),r=n(a),l=o(45),i=n(l),u={};u['[object Float32Array]']=u['[object Float64Array]']=u['[object Int8Array]']=u['[object Int16Array]']=u['[object Int32Array]']=u['[object Uint8Array]']=u['[object Uint8ClampedArray]']=u['[object Uint16Array]']=u['[object Uint32Array]']=!0,u['[object Arguments]']=u['[object Array]']=u['[object ArrayBuffer]']=u['[object Boolean]']=u['[object DataView]']=u['[object Date]']=u['[object Error]']=u['[object Function]']=u['[object Map]']=u['[object Number]']=u['[object Object]']=u['[object RegExp]']=u['[object Set]']=u['[object String]']=u['[object WeakMap]']=!1;var d=Object.prototype,s=d.toString;t.default=function(e){return(0,i.default)(e)&&(0,r.default)(e.length)&&!!u[s.call(e)]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var o=e.clone(),n=o.operations[0];return n.oldRange&&(n.oldRange=n.oldRange.getTransformedByDelta(t)[0]),n.newRange&&(n.newRange=n.newRange.getTransformedByDelta(t)[0]),[o]}function r(e,t){function o(){var o=new s.default(e.position.getShiftedBy(l),e.position.getShiftedBy(u)),a=new g.default(o,t.key,r,t.value,0);n.addOperation(a)}for(var n=new x.default,a=e.nodes,r=a.getNode(0).getAttribute(t.key),l=0,u=a.getNode(0).offsetSize,d=1;d<a.length;d++){var i=a.getNode(d),f=i.getAttribute(t.key);f!=r&&(r!=t.value&&o(),r=f,l=u),u+=i.offsetSize}return o(),n}function l(){var e=new P.default;return e.addOperation(new _.default(0)),e}var i=o(181),u=n(i),d=o(2),s=n(d),f=o(1),c=n(f),p=o(68),_=n(p),m=o(91),g=n(m),y=o(49),h=n(y),b=o(94),v=n(b),k=o(22),P=n(k),w=o(126),x=n(w),M=o(130),C=n(M),O=o(399),A=n(O),T=o(97),S=n(T),E=o(96),R=n(E),I=o(98),V=n(I),N=o(180),F=n(N),B=o(100),D=n(B),L=o(99),j=n(L),q=o(131),W=n(q),z=o(95),H=n(z),U=o(55),K=n(U),$=u.default.addTransformationCase,J=u.default.defaultTransform;$(x.default,F.default,function(e,t,o){var n=J(e,t,o);return e.range.containsPosition(t.position)&&n.push(r(t,e)),n}),$(x.default,V.default,function(e,t,o){if(!t.position)return J(e,t,o);var n=o.aWasUndone||o.bWasUndone,a=new c.default(t.position.root,t.position.path.slice(0,-1)),r=J(e,t,o);if(n||!(t._cloneOperation instanceof h.default))return r;var l=!0,i=!1,u;try{for(var d=e.operations[Symbol.iterator](),f,p;!(l=(f=d.next()).done);l=!0)if(p=f.value,p.range.containsPosition(a)||p.range.start.isEqual(a)){var _=new x.default,m=a.getShiftedBy(1),y=c.default.createFromPosition(m);y.path.push(0);var b=t._cloneOperation.nodes.getNode(0).getAttribute(p.key);_.addOperation(new g.default(new s.default(m,y),p.key,void 0===b?null:b,p.newValue,0)),r.push(_);break}}catch(e){i=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(i)throw u}}return r}),$(C.default,S.default,function(e,t,o){var n=o.aWasUndone||o.bWasUndone;return!n&&e.position.isEqual(t.position)?[t.getReversed(),e.clone()]:J(e,t,o)}),$(A.default,V.default,a),$(A.default,S.default,a),$(A.default,D.default,a),$(A.default,j.default,a),$(A.default,R.default,a),$(A.default,W.default,a),$(R.default,S.default,function(e,t,o){var n=e.sourcePosition.root==t.position.root&&'same'===(0,K.default)(e.sourcePosition.getParentPath(),t.position.getParentPath()),a=e.sourcePosition.offset<=t.position.offset&&e.sourcePosition.offset+e.howMany>t.position.offset;return n&&a?[t.getReversed(),e.clone()]:J(e,t,o)}),$(S.default,C.default,function(e,t,o){var n=o.aWasUndone||o.bWasUndone;return!n&&e.position.isEqual(t.position)?[l()]:J(e,t,o)}),$(S.default,R.default,function(e,t,o){var n=e.position.root==t.sourcePosition.root&&'same'===(0,K.default)(e.position.getParentPath(),t.sourcePosition.getParentPath()),a=t.sourcePosition.offset<=e.position.offset&&t.sourcePosition.offset+t.howMany>e.position.offset;return n&&a?[l()]:J(e,t,o)}),$(V.default,V.default,function(e,t,o){var n=o.aWasUndone||o.bWasUndone;if(n)return J(e,t,o);if(!e.position||!t.position)return J(e,t,o);var a=e.position.getParentPath(),r=t.position.getParentPath();if(e.position.root==t.position.root&&'same'==(0,K.default)(a,r)){if(e=e.clone(),e.position.offset<=t.position.offset){e._cloneOperation instanceof v.default&&t._cloneOperation instanceof v.default&&e._cloneOperation.sourcePosition.offset>t._cloneOperation.sourcePosition.offset&&e._cloneOperation.sourcePosition.offset--;var l=s.default.createFromPositionAndShift(e.position,e._moveOperation.howMany),i=s.default.createFromPositionAndShift(t.position,t._moveOperation.howMany),u=l.getDifference(i),d=0,f=!0,c=!1,p;try{for(var m=u[Symbol.iterator](),g,y;!(f=(g=m.next()).done);f=!0)y=g.value,d+=y.end.offset-y.start.offset}catch(e){c=!0,p=e}finally{try{!f&&m.return&&m.return()}finally{if(c)throw p}}return 0==d?(e.operations.pop(),e.addOperation(new _.default(e.operations[0].baseVersion+1))):e.operations[1].howMany=d,[e]}var b=Object.assign({},o);return b.isStrong=!0,b.insertBefore=!0,J(e,t,b)}return J(e,t,o)}),$(V.default,j.default,function(e,t,o){return e.position?e.position.root==t.position.root&&'same'===(0,K.default)(t.position.path,e.position.getParentPath())?[l()]:J(e,t,o):J(e,t,o)}),$(V.default,D.default,function(e,t,o){if(!e.position)return J(e,t,o);var n=e.position.root==t.range.start.root,a=n&&'same'===(0,K.default)(e.position.getParentPath(),t.range.start.getParentPath()),r=t.range.start.offset<e.position.offset&&t.range.end.offset>=e.position.offset;if(a&&r)return[l()];if(n&&'same'===(0,K.default)(e.position.getParentPath(),t.range.end.getShiftedBy(-1).path)){var i=e.clone(),u=c.default.createFromPosition(t.range.start);u.path.push(t.howMany-1);var d=u.getShiftedBy(1);i._cloneOperation.position=d;var s=c.default.createFromPosition(u);s.path.push(e.position.offset),i._moveOperation.sourcePosition=s;var f=c.default.createFromPosition(d);return f.path.push(0),i._moveOperation.targetPosition=f,[i]}return J(e,t,o)}),$(V.default,x.default,function(e,t,o){if(!e.position)return J(e,t,o);e=e.clone();var n=o.aWasUndone||o.bWasUndone,a=new c.default(e.position.root,e.position.path.slice(0,-1));if(n||!(e._cloneOperation instanceof h.default))return[e];var r=!0,l=!1,i;try{for(var u=t.operations[Symbol.iterator](),d,s;!(r=(d=u.next()).done);r=!0)if(s=d.value,s.range.containsPosition(a)||s.range.start.isEqual(a)){null===s.newValue?e._cloneOperation.nodes.getNode(0).removeAttribute(s.key):e._cloneOperation.nodes.getNode(0).setAttribute(s.key,s.newValue);break}}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}return[e]}),$(j.default,V.default,function(e,t,o){return t.position?e.position.root==t.position.root&&'same'===(0,K.default)(e.position.path,t.position.getParentPath())?[t.getReversed(),e.clone()]:J(e,t,o):J(e,t,o)}),$(F.default,x.default,function(e,t){var o=[e.clone()];return t.range.containsPosition(e.position)&&o.push(r(e,t)),o}),$(D.default,V.default,function(e,t,o){if(!t.position)return J(e,t,o);var n=e.range.start.root==t.position.root,a=n&&'same'===(0,K.default)(e.range.start.getParentPath(),t.position.getParentPath()),r=e.range.start.offset<t.position.offset&&e.range.end.offset>=t.position.offset;if(a&&r)return[t.getReversed(),e.clone()];if(n&&'same'===(0,K.default)(t.position.getParentPath(),e.range.end.getShiftedBy(-1).path)){var l=e.clone();return l._insertOperation.position.offset++,l._moveOperation.howMany++,l._moveOperation.targetPosition.path[l._moveOperation.targetPosition.path.length-2]++,[l]}return J(e,t,o)}),$(W.default,V.default,function(e,t,o){var n=o.aWasUndone||o.bWasUndone,a=J(e,t,o);if(n||!(t._cloneOperation instanceof h.default))return a;var r=t._cloneOperation.position.getShiftedBy(-1);if(r&&e.operations[0].position.isEqual(r)){var l=e.clone();l.operations[0].position=r.getShiftedBy(1),a.push(l)}return a}),$(V.default,W.default,function(e,t,o){e=e.clone();var n=o.aWasUndone||o.bWasUndone;if(n||!(e._cloneOperation instanceof h.default))return[e];var a=e._cloneOperation.position.getShiftedBy(-1);if(a&&!n&&t.operations[0].position.isEqual(a)){var r=t.clone();return r.operations[0].position=a.getShiftedBy(1),r.operations[0].oldName=e._cloneOperation.nodes.getNode(0).name,[e,r]}return[e]}),$(H.default,V.default,function(e,t,o){var n=J(e,t,o),a=t._cloneOperation.position||t._cloneOperation.targetPosition;if(!a)return J(e,t,o);var r=o.aWasUndone||o.bWasUndone;if(r)return n;var l=!0,i=!1,u;try{for(var d=n[Symbol.iterator](),s,f;!(l=(s=d.next()).done);l=!0)if(f=s.value,f instanceof H.default){var c=f._moveOperation,p=c.sourcePosition.getShiftedBy(c.howMany);p.isEqual(a)&&(c.howMany+=1)}}catch(e){i=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(i)throw u}}return n}),$(V.default,H.default,function(e,t,o){var n=o.aWasUndone||o.bWasUndone;if(n)return J(e,t,o);var a=e._cloneOperation.position||e._cloneOperation.targetPosition;if(!a)return J(e,t,o);t=t.clone();var r=t._moveOperation,l=r.sourcePosition.getShiftedBy(r.howMany);return l.isEqual(a)&&(r.howMany+=1),J(e,t,o)})},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e){return[e.clone()]}function l(e,t){for(var o=0;o<t.length;o++)t[o].baseVersion=e+o+1;return t}function i(e,t){return null===e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}function u(e){return 0===e.length?null:1==e.length?e[0]:(e[0].end=e[e.length-1].end,e[0])}function d(e,t,o){for(var n=[],a=0,r;a<e.length;a++){r=s(e[a],t,o.isSticky),n.push(r);for(var l=a+1;l<e.length;l++)e[l]=e[l]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0];t=t._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany,!0,!1)}return n}function s(e,t,o){var n='$graveyard'==t.root.rootName?x.default:'$graveyard'==e.start.root.rootName?C.default:P.default;var a=new n(e.start,e.end.offset-e.start.offset,t,0);return a.isSticky=o,a}Object.defineProperty(t,'__esModule',{value:!0});var f=o(49),c=n(f),p=o(91),_=n(p),m=o(129),g=n(m),y=o(128),h=n(y),b=o(127),v=n(b),k=o(28),P=n(k),w=o(41),x=n(w),M=o(94),C=n(M),O=o(68),A=n(O),T=o(2),S=n(T),E=o(55),R=n(E);t.default=function(e,t){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{isStrong:!1},n,a;e instanceof c.default?n=I.InsertOperation:e instanceof _.default?n=I.AttributeOperation:e instanceof g.default?n=I.RootAttributeOperation:e instanceof h.default?n=I.RenameOperation:e instanceof v.default?n=I.MarkerOperation:e instanceof P.default?n=I.MoveOperation:a=r,n&&(t instanceof c.default?a=n.InsertOperation:t instanceof _.default?a=n.AttributeOperation:t instanceof g.default?a=n.RootAttributeOperation:t instanceof h.default?a=n.RenameOperation:t instanceof v.default?a=n.MarkerOperation:t instanceof P.default?a=n.MoveOperation:a=r);var i=a(e,t,o);return l(e.baseVersion,i)};var I={InsertOperation:{InsertOperation:function(e,t,o){var n=e.clone(),a=void 0===o.insertBefore?!o.isStrong:o.insertBefore;return n.position=n.position._getTransformedByInsertion(t.position,t.nodes.maxOffset,a),[n]},AttributeOperation:r,RootAttributeOperation:r,RenameOperation:r,MarkerOperation:r,MoveOperation:function(e,t,o){var n=e.clone(),a=void 0===o.insertBefore?!o.isStrong:o.insertBefore;return n.position=e.position._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,a,t.isSticky&&!o.forceNotSticky),[n]}},AttributeOperation:{InsertOperation:function(e,t){var o=e.range._getTransformedByInsertion(t.position,t.nodes.maxOffset,!0,!1);return o.reverse().map(function(t){return new _.default(t,e.key,e.oldValue,e.newValue,e.baseVersion)})},AttributeOperation:function(e,t,o){if(e.key===t.key){var n=e.range.getDifference(t.range).map(function(t){return new _.default(t,e.key,e.oldValue,e.newValue,e.baseVersion)}),a=e.range.getIntersection(t.range);return a&&(o.isStrong?n.push(new _.default(a,t.key,t.newValue,e.newValue,e.baseVersion)):0===n.length&&n.push(new A.default(0))),n}return[e.clone()]},RootAttributeOperation:r,RenameOperation:r,MarkerOperation:r,MoveOperation:function(e,t){var o=S.default.createFromPositionAndShift(t.sourcePosition,t.howMany),n=[],a=u(e.range.getDifference(o)),r=e.range.getIntersection(o);return null!==a&&(a.start=a.start._getTransformedByDeletion(t.sourcePosition,t.howMany),a.end=a.end._getTransformedByDeletion(t.sourcePosition,t.howMany),n=a._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,!0,!1).reverse()),null!==r&&(r.start=r.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),r.end=r.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),n.push(r)),n.map(function(t){return new _.default(t,e.key,e.oldValue,e.newValue,e.baseVersion)})}},RootAttributeOperation:{InsertOperation:r,AttributeOperation:r,RootAttributeOperation:function(e,t,o){return e.root!==t.root||e.key!==t.key||(e.newValue===t.newValue||o.isStrong)&&e.newValue!==t.newValue?[e.clone()]:[new A.default(e.baseVersion)]},RenameOperation:r,MarkerOperation:r,MoveOperation:r},RenameOperation:{InsertOperation:function(e,t){var o=e.clone();return o.position=o.position._getTransformedByInsertion(t.position,t.nodes.maxOffset,!0),[o]},AttributeOperation:r,RootAttributeOperation:r,RenameOperation:function(e,t,o){var n=e.clone();if(e.position.isEqual(t.position))if(o.isStrong)n.oldName=t.newName;else return[new A.default(e.baseVersion)];return[n]},MarkerOperation:r,MoveOperation:function(e,t){var o=e.clone(),n=o.position.isEqual(t.sourcePosition);return o.position=o.position._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!0,n),[o]}},MarkerOperation:{InsertOperation:function(e,t){var o=e.clone();return o.oldRange&&(o.oldRange=o.oldRange._getTransformedByInsertion(t.position,t.nodes.maxOffset,!1,!1)[0]),o.newRange&&(o.newRange=o.newRange._getTransformedByInsertion(t.position,t.nodes.maxOffset,!1,!1)[0]),[o]},AttributeOperation:r,RootAttributeOperation:r,RenameOperation:r,MarkerOperation:function(e,t,o){var n=e.clone();if(e.name==t.name)if(o.isStrong)n.oldRange=t.newRange;else return[new A.default(e.baseVersion)];return[n]},MoveOperation:function(e,t){var o=e.clone();if(o.oldRange){var n=o.oldRange._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);o.oldRange=S.default.createFromRanges(n)}if(o.newRange){var a=o.newRange._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);o.newRange=S.default.createFromRanges(a)}return[o]}},MoveOperation:{InsertOperation:function(e,t,o){var n=S.default.createFromPositionAndShift(e.sourcePosition,e.howMany);n=n._getTransformedByInsertion(t.position,t.nodes.maxOffset,!1,e.isSticky&&!o.forceNotSticky)[0];var a=void 0===o.insertBefore?!o.isStrong:o.insertBefore,r=new e.constructor(n.start,n.end.offset-n.start.offset,e.targetPosition._getTransformedByInsertion(t.position,t.nodes.maxOffset,a),e.baseVersion);return r.isSticky=e.isSticky,[r]},AttributeOperation:r,RootAttributeOperation:r,RenameOperation:r,MarkerOperation:r,MoveOperation:function(e,t,o){var n=S.default.createFromPositionAndShift(e.sourcePosition,e.howMany),r=S.default.createFromPositionAndShift(t.sourcePosition,t.howMany),l=o.isStrong,u=e.isSticky&&!o.forceNotSticky,s=void 0===o.insertBefore?!l:o.insertBefore,f=e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,s,t.isSticky&&!o.forceNotSticky);if(i(e,t)&&i(t,e))return[t.getReversed()];var c=n.containsPosition(t.targetPosition)||n.start.isEqual(t.targetPosition)&&u||n.end.isEqual(t.targetPosition)&&u;if(c&&n.containsRange(r,!0))return n.start=n.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!u),n.end=n.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,u),d([n],f,e);var p=r.containsPosition(e.targetPosition)||r.start.isEqual(e.targetPosition)&&t.isSticky&&!o.forceNotSticky||r.end.isEqual(e.targetPosition)&&t.isSticky&&!o.forceNotSticky;if(p&&r.containsRange(n,!0))return n.start=n.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),n.end=n.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),d([n],f,e);var _=(0,R.default)(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if('prefix'==_||'extension'==_)return n.start=n.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!u),n.end=n.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,u),d([n],f,e);o.forceWeakRemove||(e instanceof x.default&&!(t instanceof x.default)?l=!0:!(e instanceof x.default)&&t instanceof x.default&&(l=!1));var m=[],g=n.getDifference(r),y=!0,b=!1,h;try{for(var v=g[Symbol.iterator](),k,P;!(y=(k=v.next()).done);y=!0){P=k.value,P.start=P.start._getTransformedByDeletion(t.sourcePosition,t.howMany),P.end=P.end._getTransformedByDeletion(t.sourcePosition,t.howMany);var w='same'==(0,R.default)(P.start.getParentPath(),t.getMovedRangeStart().getParentPath()),M=P._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,w,u);m.push.apply(m,a(M))}}catch(e){b=!0,h=e}finally{try{!y&&v.return&&v.return()}finally{if(b)throw h}}var C=n.getIntersection(r);return null!==C&&l&&!c&&(C.start=C.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),C.end=C.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),0===m.length?m.push(C):1==m.length?r.start.isBefore(n.start)||r.start.isEqual(n.start)?m.unshift(C):m.push(C):m.splice(1,0,C)),0===m.length?[new A.default(e.baseVersion)]:d(m,f,e)}}}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(182);Object.defineProperty(t,'chunk',{enumerable:!0,get:function(){return n(a).default}});var r=o(183);Object.defineProperty(t,'compact',{enumerable:!0,get:function(){return n(r).default}});var l=o(184);Object.defineProperty(t,'concat',{enumerable:!0,get:function(){return n(l).default}});var i=o(185);Object.defineProperty(t,'difference',{enumerable:!0,get:function(){return n(i).default}});var u=o(187);Object.defineProperty(t,'differenceBy',{enumerable:!0,get:function(){return n(u).default}});var d=o(192);Object.defineProperty(t,'differenceWith',{enumerable:!0,get:function(){return n(d).default}});var s=o(138);Object.defineProperty(t,'drop',{enumerable:!0,get:function(){return n(s).default}});var f=o(139);Object.defineProperty(t,'dropRight',{enumerable:!0,get:function(){return n(f).default}});var c=o(193);Object.defineProperty(t,'dropRightWhile',{enumerable:!0,get:function(){return n(c).default}});var p=o(194);Object.defineProperty(t,'dropWhile',{enumerable:!0,get:function(){return n(p).default}});var _=o(195);Object.defineProperty(t,'fill',{enumerable:!0,get:function(){return n(_).default}});var m=o(196);Object.defineProperty(t,'findIndex',{enumerable:!0,get:function(){return n(m).default}});var g=o(198);Object.defineProperty(t,'findLastIndex',{enumerable:!0,get:function(){return n(g).default}});var y=o(199);Object.defineProperty(t,'first',{enumerable:!0,get:function(){return n(y).default}});var b=o(200);Object.defineProperty(t,'flatten',{enumerable:!0,get:function(){return n(b).default}});var h=o(201);Object.defineProperty(t,'flattenDeep',{enumerable:!0,get:function(){return n(h).default}});var v=o(202);Object.defineProperty(t,'flattenDepth',{enumerable:!0,get:function(){return n(v).default}});var k=o(203);Object.defineProperty(t,'fromPairs',{enumerable:!0,get:function(){return n(k).default}});var P=o(140);Object.defineProperty(t,'head',{enumerable:!0,get:function(){return n(P).default}});var w=o(204);Object.defineProperty(t,'indexOf',{enumerable:!0,get:function(){return n(w).default}});var x=o(205);Object.defineProperty(t,'initial',{enumerable:!0,get:function(){return n(x).default}});var M=o(206);Object.defineProperty(t,'intersection',{enumerable:!0,get:function(){return n(M).default}});var C=o(207);Object.defineProperty(t,'intersectionBy',{enumerable:!0,get:function(){return n(C).default}});var O=o(208);Object.defineProperty(t,'intersectionWith',{enumerable:!0,get:function(){return n(O).default}});var A=o(209);Object.defineProperty(t,'join',{enumerable:!0,get:function(){return n(A).default}});var T=o(17);Object.defineProperty(t,'last',{enumerable:!0,get:function(){return n(T).default}});var S=o(210);Object.defineProperty(t,'lastIndexOf',{enumerable:!0,get:function(){return n(S).default}});var E=o(211);Object.defineProperty(t,'nth',{enumerable:!0,get:function(){return n(E).default}});var R=o(212);Object.defineProperty(t,'pull',{enumerable:!0,get:function(){return n(R).default}});var I=o(143);Object.defineProperty(t,'pullAll',{enumerable:!0,get:function(){return n(I).default}});var V=o(213);Object.defineProperty(t,'pullAllBy',{enumerable:!0,get:function(){return n(V).default}});var N=o(214);Object.defineProperty(t,'pullAllWith',{enumerable:!0,get:function(){return n(N).default}});var F=o(215);Object.defineProperty(t,'pullAt',{enumerable:!0,get:function(){return n(F).default}});var B=o(217);Object.defineProperty(t,'remove',{enumerable:!0,get:function(){return n(B).default}});var D=o(218);Object.defineProperty(t,'reverse',{enumerable:!0,get:function(){return n(D).default}});var L=o(219);Object.defineProperty(t,'slice',{enumerable:!0,get:function(){return n(L).default}});var j=o(220);Object.defineProperty(t,'sortedIndex',{enumerable:!0,get:function(){return n(j).default}});var q=o(221);Object.defineProperty(t,'sortedIndexBy',{enumerable:!0,get:function(){return n(q).default}});var W=o(222);Object.defineProperty(t,'sortedIndexOf',{enumerable:!0,get:function(){return n(W).default}});var z=o(223);Object.defineProperty(t,'sortedLastIndex',{enumerable:!0,get:function(){return n(z).default}});var H=o(224);Object.defineProperty(t,'sortedLastIndexBy',{enumerable:!0,get:function(){return n(H).default}});var U=o(225);Object.defineProperty(t,'sortedLastIndexOf',{enumerable:!0,get:function(){return n(U).default}});var K=o(226);Object.defineProperty(t,'sortedUniq',{enumerable:!0,get:function(){return n(K).default}});var $=o(228);Object.defineProperty(t,'sortedUniqBy',{enumerable:!0,get:function(){return n($).default}});var J=o(229);Object.defineProperty(t,'tail',{enumerable:!0,get:function(){return n(J).default}});var G=o(230);Object.defineProperty(t,'take',{enumerable:!0,get:function(){return n(G).default}});var Q=o(231);Object.defineProperty(t,'takeRight',{enumerable:!0,get:function(){return n(Q).default}});var Y=o(232);Object.defineProperty(t,'takeRightWhile',{enumerable:!0,get:function(){return n(Y).default}});var X=o(233);Object.defineProperty(t,'takeWhile',{enumerable:!0,get:function(){return n(X).default}});var Z=o(234);Object.defineProperty(t,'union',{enumerable:!0,get:function(){return n(Z).default}});var ee=o(235);Object.defineProperty(t,'unionBy',{enumerable:!0,get:function(){return n(ee).default}});var te=o(236);Object.defineProperty(t,'unionWith',{enumerable:!0,get:function(){return n(te).default}});var oe=o(237);Object.defineProperty(t,'uniq',{enumerable:!0,get:function(){return n(oe).default}});var ne=o(238);Object.defineProperty(t,'uniqBy',{enumerable:!0,get:function(){return n(ne).default}});var ae=o(239);Object.defineProperty(t,'uniqWith',{enumerable:!0,get:function(){return n(ae).default}});var re=o(104);Object.defineProperty(t,'unzip',{enumerable:!0,get:function(){return n(re).default}});var le=o(146);Object.defineProperty(t,'unzipWith',{enumerable:!0,get:function(){return n(le).default}});var ie=o(240);Object.defineProperty(t,'without',{enumerable:!0,get:function(){return n(ie).default}});var ue=o(241);Object.defineProperty(t,'xor',{enumerable:!0,get:function(){return n(ue).default}});var de=o(242);Object.defineProperty(t,'xorBy',{enumerable:!0,get:function(){return n(de).default}});var se=o(243);Object.defineProperty(t,'xorWith',{enumerable:!0,get:function(){return n(se).default}});var fe=o(244);Object.defineProperty(t,'zip',{enumerable:!0,get:function(){return n(fe).default}});var ce=o(245);Object.defineProperty(t,'zipObject',{enumerable:!0,get:function(){return n(ce).default}});var pe=o(247);Object.defineProperty(t,'zipObjectDeep',{enumerable:!0,get:function(){return n(pe).default}});var _e=o(248);Object.defineProperty(t,'zipWith',{enumerable:!0,get:function(){return n(_e).default}});var me=o(398);Object.defineProperty(t,'default',{enumerable:!0,get:function(){return n(me).default}})},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(115),r=n(a),l=o(14),i=n(l);t.default=function(e){return(0,i.default)(e)||(0,r.default)(e)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(371),r=n(a),l=o(372),i=n(l),u=o(189),d=n(u);t.default=function(e){var t=(0,i.default)(e);return 1==t.length&&t[0][2]?(0,d.default)(t[0][0],t[0][1]):function(o){return o===e||(0,r.default)(o,e,t)}}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(118),r=n(a),l=o(92),i=n(l);t.default=function(e,t,o,n){var a=o.length,l=a,u=!n;if(null==e)return!l;for(e=Object(e);a--;){var d=o[a];if(u&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++a<l;){d=o[a];var s=d[0],f=e[s],c=d[1];if(!(u&&d[2])){var p=new r.default;if(n)var _=n(f,c,s,e,t,p);if(void 0===_?!(0,i.default)(c,f,n,1|2,p):!_)return!1}else if(void 0===f&&!(s in e))return!1}return!0}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(188),r=n(a),l=o(373),i=n(l);t.default=function(e){for(var t=(0,i.default)(e),o=t.length;o--;)t[o][2]=(0,r.default)(t[o][1]);return t}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(374),r=n(a),l=o(67),i=n(l),u=(0,r.default)(i.default);t.default=u},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(375),r=n(a),l=o(120),i=n(l),u=o(122),d=n(u),s=o(376),f=n(s);t.default=function(e){return function(t){var o=(0,i.default)(t);return o=='[object Map]'?(0,d.default)(t):o=='[object Set]'?(0,f.default)(t):(0,r.default)(t,e(t))}}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(29),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){return(0,a.default)(t,function(t){return[t,e[t]]})}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=-1,o=Array(e.size);return e.forEach(function(e){o[++t]=[e,e]}),o}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(92),r=n(a),l=o(190),i=n(l),u=o(382),d=n(u),s=o(57),f=n(s),c=o(188),p=n(c),_=o(189),m=n(_),g=o(58),y=n(g);t.default=function(e,t){return(0,f.default)(e)&&(0,p.default)(t)?(0,m.default)((0,y.default)(e),t):function(o){var n=(0,i.default)(o,e);return n===void 0&&n===t?(0,d.default)(o,e):(0,r.default)(t,n,void 0,1|2)}}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(379),r=n(a),l=o(380),i=n(l),u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,d=/\\(\\)?/g,s=(0,r.default)(function(e){var t=[];return(0,i.default)(e).replace(u,function(e,o,n,a){t.push(n?a.replace(d,'$1'):o||e)}),t});t.default=s},function(e,t,o){'use strict';function n(e,t){if('function'!=typeof e||t&&'function'!=typeof t)throw new TypeError(l);var o=function o(){var n=arguments,a=t?t.apply(this,n):n[0],r=o.cache;if(r.has(a))return r.get(a);var l=e.apply(this,n);return o.cache=r.set(a,l),l};return o.cache=new(n.Cache||r.default),o}Object.defineProperty(t,'__esModule',{value:!0});var a=o(119),r=function(e){return e&&e.__esModule?e:{default:e}}(a),l='Expected a function';n.Cache=r.default,t.default=n},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(381),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return null==e?'':(0,a.default)(e)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(123),r=n(a),l=o(47),i=n(l),u=r.default?r.default.prototype:void 0,d=u?u.toString:void 0;t.default=function(e){if('string'==typeof e)return e;if((0,i.default)(e))return d?d.call(e):'';var t=e+'';return'0'==t&&1/e==-(1/0)?'-0':t}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(383),r=n(a),l=o(384),i=n(l);t.default=function(e,t){return null!=e&&(0,i.default)(e,t,r.default)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){return t in Object(e)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(101),r=n(a),l=o(115),i=n(l),u=o(14),d=n(u),s=o(37),f=n(s),c=o(57),p=n(c),_=o(77),m=n(_),g=o(116),y=n(g),b=o(58),h=n(b);t.default=function(e,t,o){t=(0,p.default)(t,e)?[t]:(0,r.default)(t);for(var n=-1,a=t.length,l;++n<a;){var u=(0,h.default)(t[n]);if(!(l=null!=e&&o(e,u)))break;e=e[u]}if(l)return l;var a=e?e.length:0;return!!a&&(0,m.default)(a)&&(0,f.default)(u,a)&&((0,d.default)(e)||(0,y.default)(e)||(0,i.default)(e))}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(113),r=n(a),l=o(386),i=n(l),u=o(57),d=n(u),s=o(58),f=n(s);t.default=function(e){return(0,d.default)(e)?(0,r.default)((0,f.default)(e)):(0,i.default)(e)}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(137),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return function(t){return(0,a.default)(t,e)}}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(12),r=n(a),l=o(388),i=n(l);t.default=function(e,t,o,n){var a=e.length;for(o=(0,r.default)(o),0>o&&(o=-o>a?0:a+o),n=void 0===n||n>a?a:(0,r.default)(n),0>n&&(n+=a),n=o>n?0:(0,i.default)(n);o<n;)e[o++]=t;return e}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(389),r=n(a),l=o(12),i=n(l);t.default=function(e){return e?(0,r.default)((0,i.default)(e),0,4294967295):0}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o){return e===e&&(void 0!==o&&(e=e<=o?e:o),void 0!==t&&(e=e>=t?e:t)),e}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(37),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){var o=e.length;if(o)return t+=0>t?o:0,(0,a.default)(t,o)?e[t]:void 0}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o,n){for(var a=o-1,r=e.length;++a<r;)if(n(e[a],t))return a;return-1}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(190),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){for(var o=-1,n=t.length,r=Array(n);++o<n;)r[o]=null==e?void 0:(0,a.default)(e,t[o]);return r}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(137),r=n(a),l=o(42),i=n(l);t.default=function(e,t){return 1==t.length?e:(0,r.default)(e,(0,i.default)(t,0,-1))}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(47),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){if(e!==t){var o=e!==void 0,n=null===e,r=e===e,l=(0,a.default)(e),i=t!==void 0,u=null===t,d=t===t,s=(0,a.default)(t);if(!u&&!s&&!l&&e>t||l&&i&&d&&!u&&!s||n&&i&&d||!o&&d||!r)return 1;if(!n&&!l&&!s&&e<t||s&&o&&r&&!n&&!l||u&&o&&r||!i&&r||!d)return-1}return 0}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(171),r=n(a),l=o(396),i=n(l),u=o(86),d=n(u),s=r.default&&1/(0,d.default)(new r.default([,-0]))[1]==1/0?function(e){return new r.default(e)}:i.default;t.default=s},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(){}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(62),r=n(a),l=o(101),i=n(l),u=o(37),d=n(u),s=o(57),f=n(s),c=o(16),p=n(c),_=o(58),m=n(_);t.default=function(e,t,o,n){t=(0,f.default)(t,e)?[t]:(0,i.default)(t);for(var a=-1,l=t.length,u=e;null!=u&&++a<l;){var s=(0,m.default)(t[a]);if((0,p.default)(u)){var c=o;if(a!=l-1){var _=u[s];c=n?n(_,s,u):void 0,c===void 0&&(c=null==_?(0,d.default)(t[a+1])?[]:{}:_)}(0,r.default)(u,s,c)}u=u[s]}return e}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(182),r=n(a),l=o(183),i=n(l),u=o(184),d=n(u),s=o(185),f=n(s),c=o(187),p=n(c),_=o(192),m=n(_),g=o(138),y=n(g),b=o(139),h=n(b),v=o(193),k=n(v),P=o(194),w=n(P),x=o(195),M=n(x),C=o(196),O=n(C),A=o(198),T=n(A),S=o(199),E=n(S),R=o(200),I=n(R),V=o(201),N=n(V),F=o(202),B=n(F),D=o(203),L=n(D),j=o(140),q=n(j),W=o(204),z=n(W),H=o(205),U=n(H),K=o(206),$=n(K),J=o(207),G=n(J),Q=o(208),Y=n(Q),X=o(209),Z=n(X),ee=o(17),te=n(ee),oe=o(210),ne=n(oe),ae=o(211),re=n(ae),le=o(212),ie=n(le),ue=o(143),de=n(ue),se=o(213),fe=n(se),ce=o(214),pe=n(ce),_e=o(215),me=n(_e),ge=o(217),ye=n(ge),be=o(218),he=n(be),ve=o(219),ke=n(ve),Pe=o(220),we=n(Pe),xe=o(221),Me=n(xe),Ce=o(222),Oe=n(Ce),Ae=o(223),Te=n(Ae),Se=o(224),Ee=n(Se),Re=o(225),Ie=n(Re),Ve=o(226),Ne=n(Ve),Fe=o(228),Be=n(Fe),De=o(229),Le=n(De),je=o(230),qe=n(je),We=o(231),ze=n(We),He=o(232),Ue=n(He),Ke=o(233),$e=n(Ke),Je=o(234),Ge=n(Je),Qe=o(235),Ye=n(Qe),Xe=o(236),Ze=n(Xe),et=o(237),tt=n(et),ot=o(238),nt=n(ot),at=o(239),rt=n(at),lt=o(104),it=n(lt),ut=o(146),dt=n(ut),st=o(240),ft=n(st),ct=o(241),pt=n(ct),_t=o(242),mt=n(_t),gt=o(243),yt=n(gt),bt=o(244),ht=n(bt),vt=o(245),kt=n(vt),Pt=o(247),wt=n(Pt),xt=o(248),Mt=n(xt);t.default={chunk:r.default,compact:i.default,concat:d.default,difference:f.default,differenceBy:p.default,differenceWith:m.default,drop:y.default,dropRight:h.default,dropRightWhile:k.default,dropWhile:w.default,fill:M.default,findIndex:O.default,findLastIndex:T.default,first:E.default,flatten:I.default,flattenDeep:N.default,flattenDepth:B.default,fromPairs:L.default,head:q.default,indexOf:z.default,initial:U.default,intersection:$.default,intersectionBy:G.default,intersectionWith:Y.default,join:Z.default,last:te.default,lastIndexOf:ne.default,nth:re.default,pull:ie.default,pullAll:de.default,pullAllBy:fe.default,pullAllWith:pe.default,pullAt:me.default,remove:ye.default,reverse:he.default,slice:ke.default,sortedIndex:we.default,sortedIndexBy:Me.default,sortedIndexOf:Oe.default,sortedLastIndex:Te.default,sortedLastIndexBy:Ee.default,sortedLastIndexOf:Ie.default,sortedUniq:Ne.default,sortedUniqBy:Be.default,tail:Le.default,take:qe.default,takeRight:ze.default,takeRightWhile:Ue.default,takeWhile:$e.default,union:Ge.default,unionBy:Ye.default,unionWith:Ze.default,uniq:tt.default,uniqBy:nt.default,uniqWith:rt.default,unzip:it.default,unzipWith:dt.default,without:ft.default,xor:pt.default,xorBy:mt.default,xorWith:yt.default,zip:ht.default,zipObject:kt.default,zipObjectDeep:wt.default,zipWith:Mt.default}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,o,n){var a=e.document,r=new b,l=new m.default(t,o,n,a.markers,a.version);e.addDelta(r),r.addOperation(l),a.applyOperation(l)}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(22),s=n(d),f=o(18),c=n(f),p=o(19),_=o(127),m=n(_),g=o(0),y=n(g),b=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:'type',get:function(){return'marker'}},{key:'_reverseDeltaClass',get:function(){return t}}],[{key:'className',get:function(){return'engine.model.delta.MarkerDelta'}}]),t}(s.default);t.default=b,(0,p.register)('setMarker',function(e,t){var o='string'==typeof e?e:e.name,n=this.document.markers.get(o);if(!t&&!n)throw new y.default('batch-setMarker-no-range: Range parameter is required when adding a new marker.');var a=n?n.getRange():null;return t?i(this,o,a,t):i(this,o,null,a),this}),(0,p.register)('removeMarker',function(e){var t='string'==typeof e?e:e.name;if(!this.document.markers.has(t))throw new y.default('batch-removeMarker-no-marker: Trying to remove marker that does not exist.');var o=this.document.markers.get(t).getRange();return i(this,t,o,null),this}),c.default.register(b)},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},u=o(6),d=function(e){return e&&e.__esModule?e:{default:e}}(u),s=function(e){function t(e,o){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'main';n(this,t);var l=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o));return l._doc=e,l.rootName=r,l}return r(t,e),l(t,[{key:'is',value:function(e,o){return o?'rootElement'==e&&o==this.name||i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e,o):'rootElement'==e||i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e)}},{key:'toJSON',value:function(){return this.rootName}},{key:'document',get:function(){return this._doc}}]),t}(d.default);t.default=s},function(t,o,n){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(){function t(){a(this,t),this._deltas=[],this._historyPoints=new Map,this._undoPairs=new Map,this._undoneDeltas=new Set}return r(t,[{key:'addDelta',value:function(e){if(0<e.operations.length&&!this._historyPoints.has(e.baseVersion)){var t=this._deltas.length;this._deltas[t]=e,this._historyPoints.set(e.baseVersion,t)}}},{key:'getDeltas',value:regeneratorRuntime.mark(function t(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e,a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this._deltas.length){e.next=2;break}return e.abrupt('return');case 2:if(a=this._getIndex(o),-1!=a){e.next=5;break}return e.abrupt('return');case 5:if(!(a<this._deltas.length)){e.next=13;break}if(r=this._deltas[a++],!(r.baseVersion>=n)){e.next=9;break}return e.abrupt('break',13);case 9:return e.next=11,r;case 11:e.next=5;break;case 13:case'end':return e.stop();}},t,this)})},{key:'getDelta',value:function(e){var t=this._historyPoints.get(e);return void 0===t?null:this._deltas[t]}},{key:'setDeltaAsUndone',value:function(e,t){this._undoPairs.set(t,e),this._undoneDeltas.add(e)}},{key:'isUndoingDelta',value:function(e){return this._undoPairs.has(e)}},{key:'isUndoneDelta',value:function(e){return this._undoneDeltas.has(e)}},{key:'getUndoneDelta',value:function(e){return this._undoPairs.get(e)}},{key:'_getIndex',value:function(e){var t=this._historyPoints.get(e);if(void 0===t){var o=this._deltas[this._deltas.length-1],n=o.baseVersion+o.operations.length;if(0>e||e>=n)return-1;throw new i.default('model-history-wrong-version: Given base version points to the middle of a delta.')}return t}}]),t}();o.default=u},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return e instanceof k.default||e instanceof h.default?e.getAttributes():null}function u(e,t,o){if(t&&'transparent'!=t.type){var n=e.range&&e.range.start.parent;!n||n.isEmpty||o.enqueueChanges(function(){var e=Array.from(n.getAttributeKeys()).filter(function(e){return e.startsWith(S)}),o=!0,a=!1,r;try{for(var l=e[Symbol.iterator](),i,u;!(o=(i=l.next()).done);o=!0)u=i.value,t.removeAttribute(n,u)}catch(e){a=!0,r=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw r}}})}}Object.defineProperty(t,'__esModule',{value:!0});var d=function(){function e(e,t){var o=[],n=!0,a=!1,r;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),s=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),f=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},c=o(1),p=n(c),_=o(2),m=n(_),g=o(148),y=n(g),b=o(25),h=n(b),v=o(64),k=n(v),P=o(117),w=n(P),x=o(0),M=n(x),C=o(30),O=n(C),A=o(106),T=n(A),S='selection:',E=new Set(['addAttribute','removeAttribute','changeAttribute','addRootAttribute','removeRootAttribute','changeRootAttribute']),R=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._document=e,o._attributePriority=new Map,o.listenTo(o._document,'change',function(e,t,n,a){E.has(t)&&o._updateAttributes(!1),u(n,a,o._document)}),o}return l(t,e),s(t,[{key:'destroy',value:function(){for(var e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}},{key:'getRanges',value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._ranges.length){e.next=4;break}return e.delegateYield(f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'getRanges',this).call(this),'t0',2);case 2:e.next=6;break;case 4:return e.next=6,this._document._getDefaultRange();case 6:case'end':return e.stop();}},e,this)})},{key:'getFirstRange',value:function(){return f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'getFirstRange',this).call(this)||this._document._getDefaultRange()}},{key:'getLastRange',value:function(){return f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'getLastRange',this).call(this)||this._document._getDefaultRange()}},{key:'addRange',value:function(e){var o=1<arguments.length&&void 0!==arguments[1]&&arguments[1];f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'addRange',this).call(this,e,o),this.refreshAttributes()}},{key:'removeAllRanges',value:function(){f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'removeAllRanges',this).call(this),this.refreshAttributes()}},{key:'setRanges',value:function(e){var o=1<arguments.length&&void 0!==arguments[1]&&arguments[1];f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setRanges',this).call(this,e,o),this.refreshAttributes()}},{key:'setAttribute',value:function(e,t){if(this.isCollapsed&&this.anchor.parent.isEmpty&&this._storeAttribute(e,t),this._setAttribute(e,t)){this.fire('change:attribute',{attributeKeys:[e],directChange:!0})}}},{key:'removeAttribute',value:function(e){if(this.isCollapsed&&this.anchor.parent.isEmpty&&this._removeStoredAttribute(e),this._removeAttribute(e)){this.fire('change:attribute',{attributeKeys:[e],directChange:!0})}}},{key:'setAttributesTo',value:function(e){e=(0,w.default)(e),this.isCollapsed&&this.anchor.parent.isEmpty&&this._setStoredAttributesTo(e);var t=this._setAttributesTo(e);if(0<t.size){var o=Array.from(t);this.fire('change:attribute',{attributeKeys:o,directChange:!0})}}},{key:'clearAttributes',value:function(){this.setAttributesTo([])}},{key:'refreshAttributes',value:function(){this._updateAttributes(!0)}},{key:'_popRange',value:function(){this._ranges.pop().detach()}},{key:'_pushRange',value:function(e){var t=this._prepareRange(e);t&&this._ranges.push(t)}},{key:'_prepareRange',value:function(e){var t=this;if(!(e instanceof m.default))throw new M.default('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');if(e.root==this._document.graveyard)return void O.default.warn('model-selection-range-in-graveyard: Trying to add a Range that is in the graveyard root. Range rejected.');this._checkRange(e);var o=y.default.createFromRange(e);return this.listenTo(o,'change:range',function(e,n,a){if(o.root==t._document.graveyard){var r=a.sourcePosition,l=a.range.end.offset-a.range.start.offset,i=m.default.createFromPositionAndShift(r,l);t._fixGraveyardSelection(o,i)}t.fire('change:range',{directChange:!1})}),o}},{key:'_updateAttributes',value:function(e){var t=(0,w.default)(this._getSurroundingAttributes()),o=(0,w.default)(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else{var n=!0,a=!1,r;try{for(var l=this._attributePriority[Symbol.iterator](),i;!(n=(i=l.next()).done);n=!0){var u=i.value,s=d(u,2),f=s[0],c=s[1];'low'==c&&(this._attrs.delete(f),this._attributePriority.delete(f))}}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}}this._setAttributesTo(t,!1);var p=[],_=!0,m=!1,g;try{for(var y=this.getAttributes()[Symbol.iterator](),b;!(_=(b=y.next()).done);_=!0){var h=b.value,v=d(h,2),k=v[0],P=v[1];o.has(k)&&o.get(k)===P||p.push(k)}}catch(e){m=!0,g=e}finally{try{!_&&y.return&&y.return()}finally{if(m)throw g}}var x=!0,M=!1,C;try{for(var O=o[Symbol.iterator](),A;!(x=(A=O.next()).done);x=!0){var T=A.value,S=d(T,1),E=S[0];this.hasAttribute(E)||p.push(E)}}catch(e){M=!0,C=e}finally{try{!x&&O.return&&O.return()}finally{if(M)throw C}}0<p.length&&this.fire('change:attribute',{attributeKeys:p,directChange:!1})}},{key:'_setAttribute',value:function(e,o){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0,a=n?'normal':'low';if('low'==a&&'normal'==this._attributePriority.get(e))return!1;var r=f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'getAttribute',this).call(this,e);return r!==o&&(this._attrs.set(e,o),this._attributePriority.set(e,a),!0)}},{key:'_removeAttribute',value:function(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,n=o?'normal':'low';return'low'==n&&'normal'==this._attributePriority.get(e)?!1:!!f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'hasAttribute',this).call(this,e)&&(this._attrs.delete(e),this._attributePriority.set(e,n),!0)}},{key:'_setAttributesTo',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,o=new Set,n=!0,a=!1,r;try{for(var l=this.getAttributes()[Symbol.iterator](),i;!(n=(i=l.next()).done);n=!0){var u=i.value,s=d(u,2),f=s[0],c=s[1];e.get(f)!==c&&this._removeAttribute(f,t)&&o.add(f)}}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}var p=!0,_=!1,m;try{for(var g=e[Symbol.iterator](),y;!(p=(y=g.next()).done);p=!0){var b=y.value,h=d(b,2),v=h[0],k=h[1],P=this._setAttribute(v,k,t);P&&o.add(v)}}catch(e){_=!0,m=e}finally{try{!p&&g.return&&g.return()}finally{if(_)throw m}}return o}},{key:'_getStoredAttributes',value:regeneratorRuntime.mark(function e(){var t,o,n,a,r,l,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getFirstPosition().parent,!(this.isCollapsed&&t.isEmpty)){e.next=30;break}o=!0,n=!1,a=void 0,e.prev=5,r=t.getAttributeKeys()[Symbol.iterator]();case 7:if(o=(l=r.next()).done){e.next=16;break}if(i=l.value,!i.startsWith(S)){e.next=13;break}return u=i.substr(S.length),e.next=13,[u,t.getAttribute(i)];case 13:o=!0,e.next=7;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e['catch'](5),n=!0,a=e.t0;case 22:e.prev=22,e.prev=23,!o&&r.return&&r.return();case 25:if(e.prev=25,!n){e.next=28;break}throw a;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case'end':return e.stop();}},e,this,[[5,18,22,30],[23,,25,29]])})},{key:'_removeStoredAttribute',value:function(e){var o=t._getStoreAttributeKey(e);this._document.batch().removeAttribute(this.anchor.parent,o)}},{key:'_storeAttribute',value:function(e,o){var n=t._getStoreAttributeKey(e);this._document.batch().setAttribute(this.anchor.parent,n,o)}},{key:'_setStoredAttributesTo',value:function(e){var o=this.anchor.parent,n=this._document.batch(),a=!0,r=!1,l;try{for(var i=this._getStoredAttributes()[Symbol.iterator](),u;!(a=(u=i.next()).done);a=!0){var s=u.value,f=d(s,1),c=f[0],p=t._getStoreAttributeKey(c);n.removeAttribute(o,p)}}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}var _=!0,m=!1,g;try{for(var y=e[Symbol.iterator](),b;!(_=(b=y.next()).done);_=!0){var h=b.value,v=d(h,2),k=v[0],P=v[1],p=t._getStoreAttributeKey(k);n.setAttribute(o,p,P)}}catch(e){m=!0,g=e}finally{try{!_&&y.return&&y.return()}finally{if(m)throw g}}}},{key:'_getSurroundingAttributes',value:function(){var e=this.getFirstPosition(),t=this._document.schema,o=null;if(!this.isCollapsed){var n=this.getFirstRange(),a=!0,r=!1,l;try{for(var u=n[Symbol.iterator](),d,s;!(a=(d=u.next()).done)&&(s=d.value,!(s.item.is('element')&&t.objects.has(s.item.name)));a=!0)'text'==s.type&&null==o&&(o=s.item.getAttributes())}catch(e){r=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(r)throw l}}}else{var f=e.textNode?e.textNode:e.nodeBefore,c=e.textNode?e.textNode:e.nodeAfter;if(o=i(f),o||(o=i(c)),!o)for(var p=f;p&&!o;)p=p.previousSibling,o=i(p);if(!o)for(var _=c;_&&!o;)_=_.nextSibling,o=i(_);o||(o=this._getStoredAttributes())}return o}},{key:'_fixGraveyardSelection',value:function(e,t){var o=p.default.createFromPosition(t.start),n=this._document.getNearestSelectionRange(o),a=this._ranges.indexOf(e);if(this._ranges.splice(a,1),e.detach(),n){var r=this._prepareRange(n);this._ranges.splice(a,0,r)}this.fire('change:range',{directChange:!1})}},{key:'isCollapsed',get:function(){var e=this._ranges.length;return 0===e?this._document._getDefaultRange().isCollapsed:f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'isCollapsed',this)}},{key:'anchor',get:function(){return f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'anchor',this)||this._document._getDefaultRange().start}},{key:'focus',get:function(){return f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'focus',this)||this._document._getDefaultRange().end}},{key:'rangeCount',get:function(){return this._ranges.length?this._ranges.length:1}}],[{key:'createFromSelection',value:function(){throw new M.default('documentselection-cannot-create: Cannot create new DocumentSelection instance.')}},{key:'_getStoreAttributeKey',value:function(e){return S+e}}]),t}(T.default);t.default=R},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){if(e.size!=t.size)return!1;var o=!0,n=!1,a;try{for(var r=e.entries()[Symbol.iterator](),l;!(o=(l=r.next()).done);o=!0){var i=l.value,u=JSON.stringify(i[1]),d=JSON.stringify(t.get(i[0]));if(u!==d)return!1}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}return!0}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t,o){for(var n=o.length-1,a=t.length-1;0<=n&&0<=a;){var r=t[a];if(!e.hasItem(r))return!1;var l=e._extensionChains.get(r);if(l.includes(o[n]))n--,a--;else return!1}return!0}Object.defineProperty(t,'__esModule',{value:!0}),t.SchemaItem=void 0;var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(1),u=n(i),d=o(6),s=n(d),f=o(66),c=n(f),p=o(14),_=n(p),m=o(116),g=n(m),y=o(0),b=n(y),h=o(2),v=n(h),k=function(){function e(){a(this,e),this.objects=new Set,this.limits=new Set,this._items=new Map,this._extensionChains=new Map,this.registerItem('$root'),this.registerItem('$block'),this.registerItem('$inline'),this.registerItem('$text','$inline'),this.allow({name:'$block',inside:'$root'}),this.allow({name:'$inline',inside:'$block'}),this.limits.add('$root'),this.registerItem('$clipboardHolder','$root'),this.allow({name:'$inline',inside:'$clipboardHolder'})}return l(e,[{key:'allow',value:function(t){this._getItem(t.name).allow(e._normalizeQueryPath(t.inside),t.attributes)}},{key:'disallow',value:function(t){this._getItem(t.name).disallow(e._normalizeQueryPath(t.inside),t.attributes)}},{key:'requireAttributes',value:function(e,t){this._getItem(e).requireAttributes(t)}},{key:'check',value:function(t){var o=this;if(!this.hasItem(t.name))return!1;(0,_.default)(t.attributes)?0===t.attributes.length&&t.attributes.push(void 0):t.attributes=[t.attributes];var n=e._normalizeQueryPath(t.inside),a=this._extensionChains.get(t.name).map(function(e){return o._getItem(e)});if(!this._getItem(t.name)._checkRequiredAttributes(t.attributes))return!1;var r=!0,l=!1,i;try{for(var u=t.attributes[Symbol.iterator](),d;!(r=(d=u.next()).done);r=!0){var s=d.value,f=!0,c=!1,p=void 0;try{for(var m=a[Symbol.iterator](),g,y;!(f=(g=m.next()).done);f=!0)if(y=g.value,y._hasMatchingPath('disallow',n,s))return!1}catch(e){c=!0,p=e}finally{try{!f&&m.return&&m.return()}finally{if(c)throw p}}}}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}var b=!0,h=!1,v;try{for(var k=t.attributes[Symbol.iterator](),P;!(b=(P=k.next()).done);b=!0){var w=P.value,x=!1,M=!0,C=!1,O=void 0;try{for(var A=a[Symbol.iterator](),T,S;!(M=(T=A.next()).done);M=!0)if(S=T.value,S._hasMatchingPath('allow',n,w)){x=!0;break}}catch(e){C=!0,O=e}finally{try{!M&&A.return&&A.return()}finally{if(C)throw O}}if(!x)return!1}}catch(e){h=!0,v=e}finally{try{!b&&k.return&&k.return()}finally{if(h)throw v}}return!0}},{key:'hasItem',value:function(e){return this._items.has(e)}},{key:'registerItem',value:function(e,t){if(this.hasItem(e))throw new b.default('model-schema-item-exists: Item with specified name already exists in schema.');if(!!t&&!this.hasItem(t))throw new b.default('model-schema-no-item: Item with specified name does not exist in schema.');this._items.set(e,new P(this));var o=this.hasItem(t)?this._extensionChains.get(t).concat(e):[e];this._extensionChains.set(e,o)}},{key:'itemExtends',value:function(e,t){if(!this.hasItem(e)||!this.hasItem(t))throw new b.default('model-schema-no-item: Item with specified name does not exist in schema.');var o=this._extensionChains.get(e);return o.some(function(e){return e==t})}},{key:'checkAttributeInSelection',value:function(e,t){if(e.isCollapsed)return this.check({name:'$text',inside:e.getFirstPosition(),attributes:t});var o=e.getRanges(),n=!0,a=!1,r;try{for(var l=o[Symbol.iterator](),i;!(n=(i=l.next()).done);n=!0){var u=i.value,d=!0,s=!1,f=void 0;try{for(var c=u[Symbol.iterator](),p;!(d=(p=c.next()).done);d=!0){var _=p.value,m=_.item.name||'$text';if(this.check({name:m,inside:_.previousPosition,attributes:t}))return!0}}catch(e){s=!0,f=e}finally{try{!d&&c.return&&c.return()}finally{if(s)throw f}}}}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return!1}},{key:'getValidRanges',value:function(e,t){var o=[],n=!0,a=!1,r;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done);n=!0){var d=i.value,s=d.start,f=d.start,c=d.end,p=!0,_=!1,m=void 0;try{for(var g=d.getWalker()[Symbol.iterator](),y;!(p=(y=g.next()).done);p=!0){var b=y.value,h=b.item.name||'$text',k=u.default.createBefore(b.item);this.check({name:h,inside:k,attributes:t})||(!f.isEqual(s)&&o.push(new v.default(f,s)),f=b.nextPosition),s=b.nextPosition}}catch(e){_=!0,m=e}finally{try{!p&&g.return&&g.return()}finally{if(_)throw m}}f&&!f.isEqual(c)&&o.push(new v.default(f,c))}}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return o}},{key:'getLimitElement',value:function(e){for(var t=Array.from(e.getRanges()).reduce(function(e,t){return e?e.getCommonAncestor(t.getCommonAncestor()):t.getCommonAncestor()},null);!this.limits.has(t.name)&&t.parent;)t=t.parent;return t}},{key:'_getItem',value:function(e){if(!this.hasItem(e))throw new b.default('model-schema-no-item: Item with specified name does not exist in schema.');return this._items.get(e)}}],[{key:'_normalizeQueryPath',value:function(e){var t=[];if((0,_.default)(e)){var o=!0,n=!1,a;try{for(var r=e[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,i instanceof s.default?t.push(i.name):(0,g.default)(i)&&t.push(i)}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}else if(e instanceof u.default){for(var d=e.parent;null!==d;)t.push(d.name),d=d.parent;t.reverse()}else(0,g.default)(e)&&(t=e.split(' '));return t}}]),e}();t.default=k;var P=t.SchemaItem=function(){function e(t){a(this,e),this._schema=t,this._allowed=[],this._disallowed=[],this._requiredAttributes=[]}return l(e,[{key:'allow',value:function(e,t){this._addPath('_allowed',e,t)}},{key:'disallow',value:function(e,t){this._addPath('_disallowed',e,t)}},{key:'requireAttributes',value:function(e){this._requiredAttributes.push(e)}},{key:'toJSON',value:function(){var e=(0,c.default)(this);return e._schema='[model.Schema]',e}},{key:'_addPath',value:function(e,t,o){t=t.slice(),(0,_.default)(o)||(o=[o]);var n=!0,a=!1,r;try{for(var l=o[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,this[e].push({path:t,attribute:u})}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}}},{key:'_getPaths',value:function(e,t){var o='allow'===e?this._allowed:this._disallowed,n=[],a=!0,r=!1,l;try{for(var i=o[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,d.attribute===t&&n.push(d.path)}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}return n}},{key:'_checkRequiredAttributes',value:function(e){var t=!0,o=!0,n=!1,a;try{for(var r=this._requiredAttributes[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0){i=l.value,t=!0;var u=!0,d=!1,s=void 0;try{for(var f=i[Symbol.iterator](),c,p;!(u=(c=f.next()).done);u=!0)if(p=c.value,-1==e.indexOf(p)){t=!1;break}}catch(e){d=!0,s=e}finally{try{!u&&f.return&&f.return()}finally{if(d)throw s}}if(t)break}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}return t}},{key:'_hasMatchingPath',value:function(e,t,o){var n=this._getPaths(e,o),a=!0,l=!1,i;try{for(var u=n[Symbol.iterator](),d,s;!(a=(d=u.next()).done);a=!0)if(s=d.value,r(this._schema,t,s))return!0}catch(e){l=!0,i=e}finally{try{!a&&u.return&&u.return()}finally{if(l)throw i}}return!1}}]),e}()},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(148),i=n(l),u=o(1),d=n(u),s=o(2),f=n(s),c=o(9),p=n(c),_=o(0),m=n(_),g=o(4),y=n(g),b=function(){function e(){a(this,e),this._markers=new Map}return r(e,[{key:Symbol.iterator,value:function(){return this._markers.values()}},{key:'has',value:function(e){return this._markers.has(e)}},{key:'get',value:function(e){return this._markers.get(e)||null}},{key:'set',value:function(e,t){var o=e instanceof h?e.name:e,n=this._markers.get(o);if(n){var a=n.getRange();if(a.isEqual(t))return n;this.remove(o)}var r=i.default.createFromRange(t),l=new h(o,r);return this._markers.set(o,l),this.fire('add:'+o,l),l}},{key:'remove',value:function(e){var t=e instanceof h?e.name:e,o=this._markers.get(t);return!!o&&(this._markers.delete(t),this.fire('remove:'+t,o),this._destroyMarker(o),!0)}},{key:'getMarkersAtPosition',value:regeneratorRuntime.mark(function e(t){var o,n,a,r,l,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=!0,n=!1,a=void 0,e.prev=3,r=this[Symbol.iterator]();case 5:if(o=(l=r.next()).done){e.next=13;break}if(i=l.value,!i.getRange().containsPosition(t)){e.next=10;break}return e.next=10,i;case 10:o=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e['catch'](3),n=!0,a=e.t0;case 19:e.prev=19,e.prev=20,!o&&r.return&&r.return();case 22:if(e.prev=22,!n){e.next=25;break}throw a;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case'end':return e.stop();}},e,this,[[3,15,19,27],[20,,22,26]])})},{key:'destroy',value:function(){var e=!0,t=!1,o;try{for(var n=this._markers.values()[Symbol.iterator](),a,r;!(e=(a=n.next()).done);e=!0)r=a.value,this._destroyMarker(r)}catch(e){t=!0,o=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw o}}this._markers=null,this.stopListening()}},{key:'getMarkersGroup',value:regeneratorRuntime.mark(function e(t){var o,n,a,r,l,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=!0,n=!1,a=void 0,e.prev=3,r=this._markers.values()[Symbol.iterator]();case 5:if(o=(l=r.next()).done){e.next=13;break}if(i=l.value,!i.name.startsWith(t+':')){e.next=10;break}return e.next=10,i;case 10:o=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e['catch'](3),n=!0,a=e.t0;case 19:e.prev=19,e.prev=20,!o&&r.return&&r.return();case 22:if(e.prev=22,!n){e.next=25;break}throw a;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case'end':return e.stop();}},e,this,[[3,15,19,27],[20,,22,26]])})},{key:'_destroyMarker',value:function(e){e.stopListening(),e._liveRange.detach(),e._liveRange=null}}]),e}();t.default=b,(0,y.default)(b,p.default);var h=function(){function e(t,o){a(this,e),this.name=t,this._liveRange=o,this._liveRange.delegate('change:range').to(this),this._liveRange.delegate('change:content').to(this)}return r(e,[{key:'getStart',value:function(){if(!this._liveRange)throw new m.default('marker-destroyed: Operating on destroyed marker instance.');return d.default.createFromPosition(this._liveRange.start)}},{key:'getEnd',value:function(){if(!this._liveRange)throw new m.default('marker-destroyed: Operating on destroyed marker instance.');return d.default.createFromPosition(this._liveRange.end)}},{key:'getRange',value:function(){if(!this._liveRange)throw new m.default('marker-destroyed: Operating on destroyed marker instance.');return f.default.createFromRange(this._liveRange)}}]),e}();(0,y.default)(h,p.default)},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},u=o(51),d=function(e){return e&&e.__esModule?e:{default:e}}(u),s=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.editor=e,o}return r(t,e),l(t,[{key:'set',value:function(e,o){var n=this,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if('string'==typeof o){var r=o;o=function(e,t){n.editor.execute(r),t()}}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'set',this).call(this,e,o,a)}}]),t}(d.default);t.default=s},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(408),i=n(l),u=o(162),d=n(u),s=o(175),f=n(s),c=o(88),p=o(421),_=o(257),m=o(15),g=n(m),y=o(4),b=n(y),h=function(){function e(t){var o=this;a(this,e),this.model=t,this.view=new i.default,this.mapper=new d.default,this.modelToView=new f.default(this.model,{mapper:this.mapper,viewSelection:this.view.selection}),this.listenTo(this.model,'change',function(e,t,n){o.modelToView.convertChange(t,n)},{priority:'low'}),this.listenTo(this.model,'changesDone',function(){var e=o.model.selection;o.modelToView.convertSelection(e),o.view.render()},{priority:'low'}),this.listenTo(this.model.markers,'add',function(e,t){o.modelToView.convertMarker('addMarker',t.name,t.getRange())}),this.listenTo(this.model.markers,'remove',function(e,t){o.modelToView.convertMarker('removeMarker',t.name,t.getRange())}),this.listenTo(this.view,'selectionChange',(0,p.convertSelectionChange)(this.model,this.mapper)),this.modelToView.on('insert:$text',(0,c.insertText)(),{priority:'lowest'}),this.modelToView.on('remove',(0,c.remove)(),{priority:'low'}),this.modelToView.on('selection',(0,_.clearAttributes)(),{priority:'low'}),this.modelToView.on('selection',(0,_.clearFakeSelection)(),{priority:'low'}),this.modelToView.on('selection',(0,_.convertRangeSelection)(),{priority:'low'}),this.modelToView.on('selection',(0,_.convertCollapsedSelection)(),{priority:'low'})}return r(e,[{key:'createRoot',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'main',o=this.view.createRoot(e,t),n=this.model.getRoot(t);return this.mapper.bindElements(n,o),o}},{key:'destroy',value:function(){this.view.destroy(),this.stopListening()}}]),e}();t.default=h,(0,b.default)(h,g.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){var o=[],n=!0,a=!1,r;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(108),u=n(i),d=o(409),s=n(d),f=o(150),c=n(f),p=o(251),_=n(p),m=o(70),g=o(124),y=o(30),b=n(y),h=o(252),v=n(h),k=o(415),P=n(k),w=o(417),x=n(w),M=o(418),C=n(M),O=o(419),A=n(O),T=o(4),S=n(T),E=o(15),R=n(E),I=o(420),V=function(){function e(){a(this,e),this.domRoots=new Map,this.selection=new u.default,this.domConverter=new c.default,this.roots=new Map,this.set('isReadOnly',!1),this.set('isFocused',!1),this.renderer=new s.default(this.domConverter,this.selection),this.renderer.bind('isFocused').to(this),this._observers=new Map,this.addObserver(v.default),this.addObserver(P.default),this.addObserver(x.default),this.addObserver(C.default),this.addObserver(A.default),(0,m.injectQuirksHandling)(this),(0,g.injectUiElementHandling)(this),this.decorate('render')}return l(e,[{key:'addObserver',value:function(e){var t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);var o=!0,n=!1,a;try{for(var l=this.domRoots[Symbol.iterator](),i;!(o=(i=l.next()).done);o=!0){var u=i.value,d=r(u,2),s=d[0],f=d[1];t.observe(f,s)}}catch(e){n=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(n)throw a}}return t.enable(),t}},{key:'getObserver',value:function(e){return this._observers.get(e)}},{key:'createRoot',value:function(e){var t=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'main',n='string'==typeof e?e:e.tagName,a=new _.default(n.toLowerCase(),o);return a.document=this,this.roots.set(o,a),a.on('change:children',function(e,o){return t.renderer.markToSync('children',o)}),a.on('change:attributes',function(e,o){return t.renderer.markToSync('attributes',o)}),a.on('change:text',function(e,o){return t.renderer.markToSync('text',o)}),this.domConverter.isElement(e)&&this.attachDomRoot(e,o),a}},{key:'attachDomRoot',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'main',o=this.getRoot(t);this.domRoots.set(t,e),this.domConverter.bindElements(e,o),this.renderer.markToSync('children',o),this.renderer.domDocuments.add(e.ownerDocument);var n=!0,a=!1,r;try{for(var l=this._observers.values()[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,u.observe(e,t)}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}}},{key:'getRoot',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'main';return this.roots.get(e)}},{key:'getDomRoot',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'main';return this.domRoots.get(e)}},{key:'render',value:function(){this.disableObservers(),this.renderer.render(),this.enableObservers()}},{key:'focus',value:function(){if(!this.isFocused){var e=this.selection.editableElement;e?(this.domConverter.focus(e),this.render()):b.default.warn('view-focus-no-selection: There is no selection in any editable to focus.')}}},{key:'scrollToTheSelection',value:function(){var e=this.selection.getFirstRange();e&&(0,I.scrollViewportToShowTarget)({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}},{key:'disableObservers',value:function(){var e=!0,t=!1,o;try{for(var n=this._observers.values()[Symbol.iterator](),a,r;!(e=(a=n.next()).done);e=!0)r=a.value,r.disable()}catch(e){t=!0,o=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw o}}}},{key:'enableObservers',value:function(){var e=!0,t=!1,o;try{for(var n=this._observers.values()[Symbol.iterator](),a,r;!(e=(a=n.next()).done);e=!0)r=a.value,r.enable()}catch(e){t=!0,o=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw o}}}},{key:'destroy',value:function(){var e=!0,t=!1,o;try{for(var n=this._observers.values()[Symbol.iterator](),a,r;!(e=(a=n.next()).done);e=!0)r=a.value,r.destroy()}catch(e){t=!0,o=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw o}}}}]),e}();t.default=V,(0,S.default)(V,R.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(33),i=n(l),u=o(20),d=n(u),s=o(70),f=o(4),c=n(f),p=o(249),_=n(p),m=o(410),g=n(m),y=o(411),b=n(y),h=o(30),v=n(h),k=o(15),P=n(k),w=o(0),x=n(w),M=function(){function e(t,o){a(this,e),this.domDocuments=new Set,this.domConverter=t,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=o,this._inlineFiller=null,this.isFocused=!1,this._fakeSelectionContainer=null}return r(e,[{key:'markToSync',value:function(e,t){if('text'===e)this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if('attributes'===e)this.markedAttributes.add(t);else if('children'===e)this.markedChildren.add(t);else throw new x.default('view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.')}}},{key:'render',value:function(){var e;this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent));var t=!0,o=!1,n;try{for(var a=this.markedTexts[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,!this.markedChildren.has(l.parent)&&this.domConverter.mapViewToDom(l.parent)&&this._updateText(l,{inlineFillerPosition:e})}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}var i=!0,u=!1,d;try{for(var f=this.markedAttributes[Symbol.iterator](),c,p;!(i=(c=f.next()).done);i=!0)p=c.value,this._updateAttrs(p)}catch(e){u=!0,d=e}finally{try{!i&&f.return&&f.return()}finally{if(u)throw d}}var _=!0,m=!1,g;try{for(var y=this.markedChildren[Symbol.iterator](),b,h;!(_=(b=y.next()).done);_=!0)h=b.value,this._updateChildren(h,{inlineFillerPosition:e})}catch(e){m=!0,g=e}finally{try{!_&&y.return&&y.return()}finally{if(m)throw g}}if(e){var v=this.domConverter.viewPositionToDom(e),k=v.parent.ownerDocument;this._inlineFiller=(0,s.startsWithFiller)(v.parent)?v.parent:this._addInlineFiller(k,v.parent,v.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}},{key:'_addInlineFiller',value:function(e,t,o){var n=t instanceof Array?t:t.childNodes,a=n[o];if(this.domConverter.isText(a))return a.data=s.INLINE_FILLER+a.data,a;var r=e.createTextNode(s.INLINE_FILLER);return Array.isArray(t)?n.splice(o,0,r):(0,g.default)(t,o,r),r}},{key:'_getInlineFillerPosition',value:function(){var e=this.selection.getFirstPosition();return e.parent.is('text')?d.default.createBefore(this.selection.getFirstPosition().parent):e}},{key:'_isSelectionInInlineFiller',value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return t&&this.domConverter.isText(t.parent)&&(0,s.startsWithFiller)(t.parent)}},{key:'_removeInlineFiller',value:function(){var e=this._inlineFiller;if(!(0,s.startsWithFiller)(e))throw new x.default('view-renderer-filler-was-lost: The inline filler node was lost.');(0,s.isInlineFiller)(e)?e.parentNode.removeChild(e):e.data=e.data.substr(s.INLINE_FILLER_LENGTH),this._inlineFiller=null}},{key:'_needsInlineFillerAtSelection',value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),t=e.parent,o=e.offset;if(!this.domConverter.mapViewToDom(t.root))return!1;if(!t.is('element'))return!1;if(o===t.getFillerOffset())return!1;var n=e.nodeBefore,a=e.nodeAfter;return n instanceof i.default||a instanceof i.default?!1:!0}},{key:'_updateText',value:function(e,t){var o=this.domConverter.findCorrespondingDomText(e),n=this.domConverter.viewToDom(e,o.ownerDocument),a=o.data,r=n.data,l=t.inlineFillerPosition;l&&l.parent==e.parent&&l.offset==e.index&&(r=s.INLINE_FILLER+r),a!=r&&(o.data=r)}},{key:'_updateAttrs',value:function(e){var t=this.domConverter.mapViewToDom(e),o=Array.from(t.attributes).map(function(e){return e.name}),n=e.getAttributeKeys(),a=!0,r=!1,l;try{for(var i=n[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,t.setAttribute(d,e.getAttribute(d))}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}var s=!0,f=!1,c;try{for(var p=o[Symbol.iterator](),_,m;!(s=(_=p.next()).done);s=!0)m=_.value,e.hasAttribute(m)||t.removeAttribute(m)}catch(e){f=!0,c=e}finally{try{!s&&p.return&&p.return()}finally{if(f)throw c}}}},{key:'_updateChildren',value:function(e,t){function o(e,t){return e===t||(n.isText(e)&&n.isText(t)?e.data===t.data:(0,s.isBlockFiller)(e,n.blockFiller)&&(0,s.isBlockFiller)(t,n.blockFiller))}var n=this.domConverter,a=n.mapViewToDom(e);if(a){var r=a.ownerDocument,l=t.inlineFillerPosition,u=a.childNodes,d=Array.from(n.viewChildrenToDom(e,r,{bind:!0}));l&&l.parent==e&&this._addInlineFiller(r,d,l.offset);var f=(0,_.default)(u,d,o),c=0,i=new Set,p=!0,m=!1,y;try{for(var h=f[Symbol.iterator](),v,k;!(p=(v=h.next()).done);p=!0)k=v.value,'insert'===k?((0,g.default)(a,c,d[c]),c++):'delete'===k?(i.add(u[c]),(0,b.default)(u[c])):c++}catch(e){m=!0,y=e}finally{try{!p&&h.return&&h.return()}finally{if(m)throw y}}var P=!0,w=!1,x;try{for(var M=i[Symbol.iterator](),C,O;!(P=(C=M.next()).done);P=!0)O=C.value,O.parentNode||this.domConverter.unbindDomElement(O)}catch(e){w=!0,x=e}finally{try{!P&&M.return&&M.return()}finally{if(w)throw x}}}}},{key:'_updateSelection',value:function(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();var e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):(this._removeFakeSelection(),this._updateDomSelection(e)))}},{key:'_updateFakeSelection',value:function(e){var t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=t.createElement('div'),this._fakeSelectionContainer.style.position='fixed',this._fakeSelectionContainer.style.top=0,this._fakeSelectionContainer.style.left='-9999px',this._fakeSelectionContainer.appendChild(t.createTextNode('\xA0'))),this._fakeSelectionContainer.parentElement||e.appendChild(this._fakeSelectionContainer);var o=this.selection.fakeSelectionLabel||'\xA0';this._fakeSelectionContainer.firstChild.data=o;var n=t.getSelection();n.removeAllRanges();var a=t.createRange();a.selectNodeContents(this._fakeSelectionContainer),n.addRange(a),this.domConverter.bindFakeSelection(this._fakeSelectionContainer,this.selection)}},{key:'_updateDomSelection',value:function(e){var t=e.ownerDocument.defaultView.getSelection();if(this._domSelectionNeedsUpdate(t)){var o=this.domConverter.viewPositionToDom(this.selection.anchor),n=this.domConverter.viewPositionToDom(this.selection.focus);t.collapse(o.parent,o.offset),t.extend(n.parent,n.offset)}}},{key:'_domSelectionNeedsUpdate',value:function(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;var t=e&&this.domConverter.domSelectionToView(e);if(t&&this.selection.isEqual(t))return!1;if(!this.selection.isCollapsed&&this.selection.isSimilar(t)){var o={oldSelection:t,currentSelection:this.selection};return v.default.warn('renderer-skipped-selection-rendering: The selection was not rendered due to its similarity to the current one.',o),!1}return!0}},{key:'_removeDomSelection',value:function(){var e=!0,t=!1,o;try{for(var n=this.domDocuments[Symbol.iterator](),a;!(e=(a=n.next()).done);e=!0){var r=a.value,l=r.getSelection();if(l.rangeCount){var i=r.activeElement,u=this.domConverter.mapDomToView(i);i&&u&&r.getSelection().removeAllRanges()}}}catch(e){t=!0,o=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw o}}}},{key:'_removeFakeSelection',value:function(){var e=this._fakeSelectionContainer;e&&e.remove()}},{key:'_updateFocus',value:function(){if(this.isFocused){var e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}]),e}();t.default=M,(0,c.default)(M,P.default)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o){e.insertBefore(o,e.childNodes[t]||null)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=e.parentNode;t&&t.removeChild(e)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){for(var t=0;e.previousSibling;)e=e.previousSibling,t++;return t}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){for(var o=(0,a.default)(e),n=(0,a.default)(t),r=0;o[r]==n[r]&&o[r];)r++;return 0==r?null:o[r-1]};var n=o(250),a=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(92),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t,o){o='function'==typeof o?o:void 0;var n=o?o(e,t):void 0;return n===void 0?(0,a.default)(e,t,o):!!n}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(59),s=n(d),f=o(252),c=n(f),p=o(30),_=n(p),m=o(253),g=n(m),y=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.mutationObserver=e.getObserver(c.default),o.document=e,o.selection=e.selection,o.domConverter=e.domConverter,o._documents=new WeakSet,o._fireSelectionChangeDoneDebounced=(0,g.default)(function(e){return o.document.fire('selectionChangeDone',e)},200),o._clearInfiniteLoopInterval=setInterval(function(){return o._clearInfiniteLoop()},1e3),o._loopbackCounter=0,o}return l(t,e),i(t,[{key:'observe',value:function(e){var t=this,o=e.ownerDocument;this._documents.has(o)||(this.listenTo(o,'selectionchange',function(){t._handleSelectionChange(o)}),this._documents.add(o))}},{key:'destroy',value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'destroy',this).call(this),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}},{key:'_handleSelectionChange',value:function(e){if(this.isEnabled&&(this.document.isFocused||this.document.isReadOnly)){this.mutationObserver.flush();var t=e.defaultView.getSelection(),o=this.domConverter.domSelectionToView(t);if(!(this.selection.isEqual(o)&&this.domConverter.isDomSelectionCorrect(t))){if(60<++this._loopbackCounter)return void _.default.warn('selectionchange-infinite-loop: Selection change observer detected an infinite rendering loop.');if(this.selection.isSimilar(o))this.document.render();else{var n={oldSelection:this.selection,newSelection:o,domSelection:t};this.document.fire('selectionChange',n),this._fireSelectionChangeDoneDebounced(n)}}}}},{key:'_clearInfiniteLoop',value:function(){this._loopbackCounter=0}}]),t}(s.default);t.default=y},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=Date.now;t.default=o},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},u=o(71),d=function(e){return e&&e.__esModule?e:{default:e}}(u),s=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.domEventType=['focus','blur'],o.useCapture=!0,e.on('focus',function(){e.isFocused=!0,o._renderTimeoutId=setTimeout(function(){return e.render()},0)}),e.on('blur',function(t,o){var n=e.selection.editableElement;(null===n||n===o.target)&&(e.isFocused=!1,e.render())}),o}return r(t,e),l(t,[{key:'onDomEvent',value:function(e){this.fire(e.type,e)}},{key:'destroy',value:function(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'destroy',this).call(this)}}]),t}(d.default);t.default=s},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(71),u=function(e){return e&&e.__esModule?e:{default:e}}(i),d=o(27),s=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.domEventType=['keydown','keyup'],o}return r(t,e),l(t,[{key:'onDomEvent',value:function(e){this.fire(e.type,e,{keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey||e.metaKey,shiftKey:e.shiftKey,get keystroke(){return(0,d.getCode)(this)}})}}]),t}(u.default);t.default=s},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return e==_.keyCodes.arrowright||e==_.keyCodes.arrowleft||e==_.keyCodes.arrowup||e==_.keyCodes.arrowdown}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},s=o(59),f=n(s),c=o(108),p=n(c),_=o(27),m=o(253),g=n(m),y=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o._fireSelectionChangeDoneDebounced=(0,g.default)(function(e){return o.document.fire('selectionChangeDone',e)},200),o}return l(t,e),u(t,[{key:'observe',value:function(){var e=this,t=this.document;t.on('keydown',function(o,n){var a=t.selection;a.isFake&&i(n.keyCode)&&e.isEnabled&&(n.preventDefault(),e._handleSelectionMove(n.keyCode))},{priority:'lowest'})}},{key:'destroy',value:function(){d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'destroy',this).call(this),this._fireSelectionChangeDoneDebounced.cancel()}},{key:'_handleSelectionMove',value:function(e){var t=this.document.selection,o=p.default.createFromSelection(t);o.setFake(!1),(e==_.keyCodes.arrowleft||e==_.keyCodes.arrowup)&&o.collapseToStart(),(e==_.keyCodes.arrowright||e==_.keyCodes.arrowdown)&&o.collapseToEnd();var n={oldSelection:t,newSelection:o,domSelection:null};this.document.fire('selectionChange',n),this._fireSelectionChangeDoneDebounced(n)}}]),t}(f.default);t.default=y},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.target,o=e.viewportOffset,n=o===void 0?0:o;y.scrollAncestorsToShowTarget(t);var a=new g.default(t),r=a.clone().moveBy(0,n),l=a.clone().moveBy(0,-n),f=new g.default(c.default.window).excludeScrollbarsAndBorders();if(![l,r].every(function(e){return f.contains(e)})){var p=c.default.window,_=p.scrollX,m=p.scrollY;u(l,f)?m-=f.top-a.top+n:i(r,f)&&(m+=a.bottom-f.bottom+n),d(a,f)?_-=f.left-a.left+n:s(a,f)&&(_+=a.right-f.right+n),c.default.window.scrollTo(_,m)}}function r(e){var t,o,n;(0,_.default)(e)?(t=e.commonAncestorContainer,t.nodeType==Node.TEXT_NODE&&(t=t.parentNode)):t=e.parentNode;do{if(t===c.default.document.body)return;n=new g.default(e),o=new g.default(t).excludeScrollbarsAndBorders(),o.contains(n)||l({targetRect:n,parent:t,parentRect:o})}while(t=t.parentNode)}function l(e){var t=e.targetRect,o=e.parent,n=e.parentRect;u(t,n)?o.scrollTop-=n.top-t.top:i(t,n)&&(o.scrollTop+=t.bottom-n.bottom),d(t,n)?o.scrollLeft-=n.left-t.left:s(t,n)&&(o.scrollLeft+=t.right-n.right)}function i(e,t){return e.bottom>t.bottom}function u(e,t){return e.top<t.top}function d(e,t){return e.left<t.left}function s(e,t){return e.right>t.right}Object.defineProperty(t,'__esModule',{value:!0}),t._test=void 0,t.scrollViewportToShowTarget=a,t.scrollAncestorsToShowTarget=r;var f=o(34),c=n(f),p=o(152),_=n(p),m=o(254),g=n(m),y={};Object.assign(y,{scrollViewportToShowTarget:a,scrollAncestorsToShowTarget:r}),t._test=y},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.convertSelectionChange=function(e,t){return function(o,n){var r=n.newSelection,l=new a.default,i=[],u=!0,d=!1,s;try{for(var f=r.getRanges()[Symbol.iterator](),c,p;!(u=(c=f.next()).done);u=!0)p=c.value,i.push(t.toModelRange(p))}catch(e){d=!0,s=e}finally{try{!u&&f.return&&f.return()}finally{if(d)throw s}}l.setRanges(i,r.isBackward),l.isEqual(e.selection)||e.enqueueChanges(function(){e.selection.setTo(l)})}};var n=o(106),a=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return e instanceof HTMLTextAreaElement?e.value:e.innerHTML}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){e instanceof HTMLTextAreaElement&&(e.value=t),e.innerHTML=t}},function(e,t){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var n=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=function(){function e(){o(this,e)}return n(e,[{key:'getHtml',value:function(e){var t=document.implementation.createHTMLDocument(''),o=t.createElement('div');return o.appendChild(e),o.innerHTML}}]),e}();t.default=a},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(426),i=n(l),u=o(72),d=n(u),s=o(427),f=n(s),c=o(428),p=n(c),_=function(){function e(t,o){a(this,e),this.editor=t,this.view=o,this.componentFactory=new i.default(t),this.focusTracker=new d.default,this._toolbarConfig=(0,p.default)(t.config.get('toolbar')),o.set('width',t.config.get('ui.width')),o.set('height',t.config.get('ui.height')),o.toolbar.bind('isActive').to(this.focusTracker,'isFocused'),o.toolbar.limiterElement=o.element,this._toolbarConfig&&this._toolbarConfig.viewportTopOffset&&(o.toolbar.viewportTopOffset=this._toolbarConfig.viewportTopOffset);var n=t.editing.createRoot('div');o.editable.bind('isReadOnly').to(n),o.editable.bind('isFocused').to(t.editing.view),o.editable.name=n.rootName,this.focusTracker.add(o.editableElement)}return r(e,[{key:'init',value:function(){var e=this.editor;this.view.init(),this._toolbarConfig&&this.view.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),(0,f.default)({origin:e.editing.view,originFocusTracker:this.focusTracker,originKeystrokeHandler:e.keystrokes,toolbar:this.view.toolbar})}},{key:'destroy',value:function(){this.view.destroy()}}]),e}();t.default=_},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(0),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(){function e(t){n(this,e),this.editor=t,this._components=new Map}return a(e,[{key:'names',value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._components.keys(),'t0',1);case 1:case'end':return e.stop();}},e,this)})},{key:'add',value:function(e,t){if(this._components.get(e))throw new l.default('componentfactory-item-exists: The item already exists in the component factory.',{name:e});this._components.set(e,t)}},{key:'create',value:function(e){var t=this._components.get(e);if(!t)throw new l.default('componentfactory-item-missing: There is no such UI component in the factory.',{name:e});return t(this.editor.locale)}}]),e}();t.default=i},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=e.origin,o=e.originKeystrokeHandler,n=e.originFocusTracker,a=e.toolbar,r=e.beforeFocus,l=e.afterBlur;n.add(a.element),o.set('Alt+F10',function(e,t){n.isFocused&&!a.focusTracker.isFocused&&(r&&r(),a.focus(),t())}),a.keystrokes.set('Esc',function(e,o){a.focusTracker.isFocused&&(t.focus(),l&&l(),o())})}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return Array.isArray(e)&&(e={items:e}),e}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(430),d=n(u),s=o(433),f=n(s),c=o(435),p=n(c),_=o(5),m=n(_),g=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.toolbar=new p.default(e),m.default.extend(o.toolbar.template,{attributes:{class:'ck-editor-toolbar'}}),o.editable=new f.default(e),o.top.add(o.toolbar),o.main.add(o.editable),o}return l(t,e),i(t,[{key:'editableElement',get:function(){return this.editable.element}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=o(431),u=n(i),d=o(61),s=n(d),f=o(5),c=n(f),p=function(e){function o(e){a(this,o);var n=r(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e)),l=n.t,t=(0,s.default)();return n.set('width',null),n.set('height',null),n.top=n.createCollection(),n.main=n.createCollection(),n.template=new c.default({tag:'div',attributes:{class:['ck-reset','ck-editor','ck-rounded-corners'],role:'application',dir:'ltr',lang:e.lang,"aria-labelledby":'cke-editor__aria-label_'+t},children:[{tag:'span',attributes:{id:'cke-editor__aria-label_'+t,class:'cke-voice-label'},children:[l('Rich Text Editor')]},{tag:'div',attributes:{class:'ck-editor__top ck-reset_all',role:'presentation'},children:n.top},{tag:'div',attributes:{class:'ck-editor__main',role:'presentation'},children:n.main}]}),n}return l(o,e),o}(u.default);t.default=p},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(8),s=n(d),f=o(5),c=n(f),p=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.body=o.createCollection(),o}return l(t,e),i(t,[{key:'init',value:function(){this._renderBodyCollection(),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'init',this).call(this)}},{key:'destroy',value:function(){return this._bodyCollectionContainer.remove(),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'destroy',this).call(this)}},{key:'_renderBodyCollection',value:function(){var e=this._bodyCollectionContainer=new c.default({tag:'div',attributes:{class:['ck-body','ck-rounded-corners','ck-reset_all']},children:this.body}).render();document.body.appendChild(e)}}]),t}(s.default);t.default=p},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(164),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){return(0,a.default)(e,!0,!0,t)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=o(434),u=n(i),d=o(5),s=n(d),f=function(e){function o(e,n){a(this,o);var l=r(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,n)),i=l.bindTemplate,u=l.t;l.set('name',null);return s.default.extend(l.template,{attributes:{role:'textbox',"aria-label":i.to('name',function(e){return u('Rich Text Editor, %0',[e])}),class:'ck-editor__editable_inline'}}),l}return l(o,e),o}(u.default);t.default=f},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(8),s=n(d),f=o(5),c=n(f),p=function(e){function t(e,o){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),l=n.bindTemplate;return o&&(n.element=n.editableElement=o),n.template=new c.default({tag:'div',attributes:{class:[l.to('isFocused',function(e){return e?'ck-focused':'ck-blurred'}),'ck-editor__editable'],contenteditable:l.to('isReadOnly',function(e){return!e})}}),n.set('isReadOnly',!1),n.set('isFocused',!1),n.externalElement=o,n}return l(t,e),i(t,[{key:'init',value:function(){this.externalElement?this.template.apply(this.externalElement):this.editableElement=this.element,u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'init',this).call(this)}},{key:'destroy',value:function(){this.externalElement&&this.template.revert(this.externalElement),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'destroy',this).call(this)}}]),t}(s.default);t.default=p},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(34),s=n(d),f=o(5),c=n(f),p=o(259),_=n(p),m=o(261),g=n(m),y=(0,g.default)('px'),b=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=o.bindTemplate;return o.set('isActive',!1),o.set('isSticky',!1),o.set('limiterElement',null),o.set('limiterBottomOffset',50),o.set('viewportTopOffset',0),o.set('_marginLeft',null),o.set('_isStickyToTheLimiter',!1),o.set('_hasViewportTopOffset',!1),c.default.extend(o.template,{attributes:{class:[n.if('isSticky','ck-toolbar_sticky'),n.if('_isStickyToTheLimiter','ck-toolbar_sticky_bottom-limit')],style:{width:n.to('isSticky',function(e){return e?y(o._elementPlaceholder.getBoundingClientRect().width):null}),top:n.to('_hasViewportTopOffset',function(e){return e?y(o.viewportTopOffset):null}),bottom:n.to('_isStickyToTheLimiter',function(e){return e?y(o.limiterBottomOffset):null}),marginLeft:n.to('_marginLeft')}}}),o._elementPlaceholder=new c.default({tag:'div',attributes:{class:['ck-toolbar__placeholder'],style:{display:n.to('isSticky',function(e){return e?'block':'none'}),height:n.to('isSticky',function(e){return e?y(o._toolbarRect.height):null})}}}).render(),o}return l(t,e),i(t,[{key:'init',value:function(){var e=this;u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'init',this).call(this),this.element.parentNode.insertBefore(this._elementPlaceholder,this.element),this._checkIfShouldBeSticky(),this.listenTo(s.default.window,'scroll',function(){e._checkIfShouldBeSticky()}),this.listenTo(this,'change:isActive',function(){e._checkIfShouldBeSticky()})}},{key:'destroy',value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'destroy',this).call(this),this._elementPlaceholder.remove()}},{key:'_checkIfShouldBeSticky',value:function(){var e=this._limiterRect=this.limiterElement.getBoundingClientRect(),t=this._toolbarRect=this.element.getBoundingClientRect();this.isSticky=this.isActive&&e.top<this.viewportTopOffset&&this._toolbarRect.height+this.limiterBottomOffset<e.height,this.isSticky?(this._isStickyToTheLimiter=e.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:y(-s.default.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}]),t}(_.default);t.default=b},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=o(8),u=n(i),d=o(5),s=n(d),f=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.template=new s.default({tag:'span',attributes:{class:['ck-toolbar__separator']}}),o}return l(t,e),t}(u.default);t.default=f},function(e,t){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var n=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=function(){function e(){o(this,e),this._replacedElements=[]}return n(e,[{key:'replace',value:function(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display='none',t&&e.parentNode.insertBefore(t,e.nextSibling)}},{key:'restore',value:function(){this._replacedElements.forEach(function(e){var t=e.element,o=e.newElement;t.style.display='',o&&o.remove()}),this._replacedElements=[]}}]),e}();t.default=a},function(e,t,o){var n=o(439);'string'==typeof n&&(n=[[e.i,n,'']]);var a={},r;a.transform=r;o(36)(n,a);n.locals&&(e.exports=n.locals),!1},function(e,t,o){t=e.exports=o(35)(void 0),t.push([e.i,'.ck-hidden{display:none!important}.ck-reset,.ck-reset_all,.ck-reset_all *,.ck-reset_all a,.ck-reset_all textarea{box-sizing:border-box;width:auto;height:auto;position:static}svg.ck-icon{min-width:20px;min-height:20px;font-size:1em;vertical-align:middle}svg.ck-icon,svg.ck-icon *{color:inherit;cursor:inherit}svg.ck-icon *{fill:currentColor}.ck-tooltip,.ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:999}.ck-tooltip__text{display:inline-block}.ck-tooltip__text:after{content:"";width:0;height:0}.ck-button,a.ck-button{display:inline-block;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.ck-button .ck-tooltip,a.ck-button .ck-tooltip{display:block}.ck-button:hover .ck-tooltip,a.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck-button .ck-button__label,.ck-button:focus:not(:hover) .ck-tooltip,a.ck-button .ck-button__label,a.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck-toolbar__separator{display:inline-block}.ck-toolbar__newline{display:block;clear:left}.ck-dropdown{display:inline-block;position:relative}.ck-dropdown:after{content:"";width:0;height:0;pointer-events:none;z-index:1;position:absolute;top:50%;transform:translateY(-50%)}.ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:999;position:absolute;left:0;transform:translateY(100%)}.ck-dropdown__panel-visible{display:inline-block}.ck-label,.ck-list__item{display:block}.cke-voice-label{display:none}.ck-balloon-panel{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;display:none;position:absolute;z-index:999}.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:1}.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:2}.ck-balloon-panel.ck-balloon-panel_arrow_n:before,.ck-balloon-panel.ck-balloon-panel_arrow_ne:before,.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{z-index:1}.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck-balloon-panel.ck-balloon-panel_arrow_nw:after{z-index:2}.ck-balloon-panel.ck-balloon-panel_arrow_s:before,.ck-balloon-panel.ck-balloon-panel_arrow_se:before,.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{z-index:1}.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck-balloon-panel.ck-balloon-panel_arrow_sw:after{z-index:2}.ck-balloon-panel_visible{display:block}.ck-editor .ck-toolbar.ck-toolbar_sticky{position:fixed;top:0}.ck-editor .ck-toolbar.ck-toolbar_sticky.ck-toolbar_sticky_bottom-limit{top:auto;position:absolute}.ck-reset,.ck-reset_all,.ck-reset_all *,.ck-reset_all a,.ck-reset_all textarea{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck-reset_all,.ck-reset_all *,.ck-reset_all a,.ck-reset_all textarea{border-collapse:collapse;font:normal normal normal 12px Helvetica,Arial,Tahoma,Verdana,Sans-Serif;color:#333;text-align:left;white-space:nowrap;cursor:auto;float:none}.ck-reset_all .ck-rtl *{text-align:right}.ck-reset_all iframe{vertical-align:inherit}.ck-reset_all textarea{white-space:pre-wrap}.ck-reset_all input[type=password],.ck-reset_all input[type=text],.ck-reset_all textarea{cursor:text}.ck-reset_all input[type=password][disabled],.ck-reset_all input[type=text][disabled],.ck-reset_all textarea[disabled]{cursor:default}.ck-reset_all fieldset{padding:10px;border:2px groove #e0dfe3}.ck-reset_all button::-moz-focus-inner{padding:0;border:0}svg.ck-icon{width:1.66667em;height:1.66667em}.ck-tooltip{left:50%}.ck-tooltip__text{color:#fff;font-size:.7rem;padding:.4em .64em;background:#333;position:relative;left:-50%;line-height:1.5}.ck-rounded-corners .ck-tooltip__text,.ck-tooltip__text.ck-rounded-corners{border-radius:2px}.ck-tooltip__text:after{border-style:solid;left:50%}.ck-tooltip.ck-tooltip_s{bottom:-5px;transform:translateY(100%)}.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:-5px;transform:translateX(-50%);border-color:transparent transparent #333;border-width:0 5px 5px}.ck-tooltip.ck-tooltip_n{top:-5px;transform:translateY(-100%)}.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:-5px;transform:translateX(-50%);border-color:#333 transparent transparent;border-width:5px 5px 0}.ck-tooltip,.ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s}.ck-button,a.ck-button{background:#fff;border:1px solid #bfbfbf;white-space:nowrap;cursor:default;vertical-align:middle;padding:.4em;line-height:1.66667}.ck-button:not(.ck-disabled):focus,.ck-button:not(.ck-disabled):hover,a.ck-button:not(.ck-disabled):focus,a.ck-button:not(.ck-disabled):hover{background:#e6e6e6;border-color:#a6a6a6}.ck-button:not(.ck-disabled):active,a.ck-button:not(.ck-disabled):active{background:#d9d9d9;border-color:#999;box-shadow:inset 0 2px 2px #bfbfbf}.ck-button.ck-disabled,a.ck-button.ck-disabled{background:#fff;border-color:#d9d9d9}.ck-button.ck-rounded-corners,.ck-rounded-corners .ck-button,.ck-rounded-corners a.ck-button,a.ck-button.ck-rounded-corners{border-radius:2px}.ck-button:focus,a.ck-button:focus{outline:none;border:1px solid #6ab5f9;box-shadow:0 0 3px 2px #9bcdfb}.ck-button .ck-icon,a.ck-button .ck-icon{float:left}.ck-button.ck-disabled .ck-button__label,.ck-button.ck-disabled .ck-icon,a.ck-button.ck-disabled .ck-button__label,a.ck-button.ck-disabled .ck-icon{opacity:.5}.ck-button.ck-button_with-text,a.ck-button.ck-button_with-text{padding:.4em .8em}.ck-button.ck-button_with-text .ck-icon,a.ck-button.ck-button_with-text .ck-icon{margin-left:-.4em;margin-right:.4em}.ck-button.ck-button_with-text .ck-button__label,a.ck-button.ck-button_with-text .ck-button__label{display:block}.ck-button.ck-on,a.ck-button.ck-on{background:#f7f7f7;border-color:#b9b9b9}.ck-button.ck-on:not(.ck-disabled):focus,.ck-button.ck-on:not(.ck-disabled):hover,a.ck-button.ck-on:not(.ck-disabled):focus,a.ck-button.ck-on:not(.ck-disabled):hover{background:#dedede;border-color:#a1a1a1}.ck-button.ck-on:not(.ck-disabled):active,a.ck-button.ck-on:not(.ck-disabled):active{background:#d2d2d2;border-color:#949494;box-shadow:inset 0 2px 2px #b9b9b9}.ck-button.ck-on.ck-disabled,a.ck-button.ck-on.ck-disabled{background:#f8f8f8;border-color:#d2d2d2}.ck-button-action,a.ck-button-action{background:#61b145;border-color:#498534;text-shadow:0 -1px #4e8e37;color:#fff}.ck-button-action:not(.ck-disabled):focus,.ck-button-action:not(.ck-disabled):hover,a.ck-button-action:not(.ck-disabled):focus,a.ck-button-action:not(.ck-disabled):hover{background:#579f3e;border-color:#3f732d}.ck-button-action:not(.ck-disabled):active,a.ck-button-action:not(.ck-disabled):active{background:#52963b;border-color:#3a6a29;box-shadow:inset 0 2px 2px #498534}.ck-button-action.ck-disabled,a.ck-button-action.ck-disabled{background:#6fbc54;border-color:#52963b}.ck-button-action:active,.ck-button-action:focus,.ck-button-action:hover,a.ck-button-action:active,a.ck-button-action:focus,a.ck-button-action:hover{text-shadow:0 -1px #3a6a29}.ck-button-bold,a.ck-button-bold{font-weight:700}.ck-button .ck-icon use,.ck-button .ck-icon use *,a.ck-button .ck-icon use,a.ck-button .ck-icon use *{color:inherit}.ck-button .ck-button__label,a.ck-button .ck-button__label{float:left;line-height:inherit;font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit}.ck-toolbar{line-height:1;padding:.4em;border:1px solid #bfbfbf;white-space:normal;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.ck-toolbar_floating{white-space:nowrap}.ck-rounded-corners .ck-toolbar,.ck-toolbar.ck-rounded-corners{border-radius:2px}.ck-toolbar__separator{width:1px;height:2.28em;vertical-align:middle;background:#bfbfbf}.ck-toolbar__newline{height:.4em}.ck-toolbar>*{margin-right:.4em}.ck-toolbar>:last-child{margin-right:0}.ck-toolbar-container .ck-toolbar{border:0}.ck-dropdown:after{border-style:solid;border-width:.4em .4em 0;border-color:#707070 transparent;right:.8em}.ck-dropdown .ck-button.ck-dropdown__button{padding-right:1.6em}.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:.5}.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck-dropdown__panel{border:1px solid #b9b9b9;bottom:1px;background:#fff;box-shadow:0 1px 2px 0 rgba(0,0,0,.2)}.ck-dropdown__panel.ck-rounded-corners,.ck-rounded-corners .ck-dropdown__panel{border-radius:2px}.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;list-style-type:none;background:#fff}.ck-list.ck-rounded-corners,.ck-rounded-corners .ck-list{border-radius:2px}.ck-list__item{padding:.64em;cursor:default;min-width:12em}.ck-list__item:focus,.ck-list__item:hover{background:#f7f7f7}.ck-list__item:focus{box-shadow:0 0 3px 2px #9bcdfb;position:relative;z-index:1;outline:none}.ck-list__item:last-of-type{border:none}.ck-list__item_active{background:#1a8bf1;color:#fff}.ck-list__item_active:focus,.ck-list__item_active:hover{background:#0e7ee2}.ck-label{font-weight:700}.ck-input-text{box-shadow:inset 2px 2px 3px #e6e6e6;border:1px solid #b9b9b9;padding:.64em;min-width:250px}.ck-input-text.ck-rounded-corners,.ck-rounded-corners .ck-input-text{border-radius:2px}.ck-input-text:focus{outline:none;border:1px solid #6ab5f9;box-shadow:0 0 3px 2px #9bcdfb,inset 2px 2px 3px #e6e6e6}.ck-input-text[readonly]{border:1px solid #d2d2d2;background:#f7f7f7;color:#5c5c5c}.ck-balloon-panel{box-shadow:0 1px 2px 0 rgba(0,0,0,.2);min-height:15px;background:#fff;border:1px solid #b9b9b9}.ck-balloon-panel.ck-rounded-corners,.ck-rounded-corners .ck-balloon-panel{border-radius:2px}.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck-balloon-panel.ck-balloon-panel_arrow_n:before,.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck-balloon-panel.ck-balloon-panel_arrow_ne:before,.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{border-width:0 10px 15px}.ck-balloon-panel.ck-balloon-panel_arrow_n:before,.ck-balloon-panel.ck-balloon-panel_arrow_ne:before,.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{border-color:transparent transparent #b9b9b9}.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck-balloon-panel.ck-balloon-panel_arrow_nw:after{border-color:transparent transparent #fff;margin-top:2px}.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck-balloon-panel.ck-balloon-panel_arrow_s:before,.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck-balloon-panel.ck-balloon-panel_arrow_se:before,.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{border-width:15px 10px 0}.ck-balloon-panel.ck-balloon-panel_arrow_s:before,.ck-balloon-panel.ck-balloon-panel_arrow_se:before,.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{border-color:#b9b9b9 transparent transparent}.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck-balloon-panel.ck-balloon-panel_arrow_sw:after{border-color:#fff transparent transparent;margin-bottom:2px}.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:-10px;top:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:20px;top:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:20px;top:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:-10px;bottom:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:20px;bottom:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:20px;bottom:-15px}.ck-editor-toolbar{border-radius:0}.ck-editor-toolbar .ck-button{border-width:0}.ck-editor-toolbar .ck-button.ck-disabled,.ck-editor-toolbar .ck-button:not(:hover):not(:focus):not(.ck-on){background:#f7f7f7}.ck-editor-toolbar .ck-button.ck-on{background:#dedede;border-color:#a1a1a1}.ck-editor-toolbar .ck-button.ck-on:not(.ck-disabled):focus,.ck-editor-toolbar .ck-button.ck-on:not(.ck-disabled):hover{background:#c6c6c6;border-color:#888}.ck-editor-toolbar .ck-button.ck-on:not(.ck-disabled):active{background:#b9b9b9;border-color:#7c7c7c;box-shadow:inset 0 2px 2px #a1a1a1}.ck-editor-toolbar .ck-button.ck-on.ck-disabled{background:#f7f7f7;border-color:#b9b9b9}.ck-editor-toolbar .ck-dropdown__button{border-width:1px}.ck-editor-toolbar .ck-dropdown__button:not(:hover):not(:focus):not(.ck-on){background:#fff}.ck-toolbar-container .ck-editor-toolbar{background:#f7f7f7}.ck-editor-toolbar-container.ck-balloon-panel_arrow_n:after,.ck-editor-toolbar-container.ck-balloon-panel_arrow_ne:after,.ck-editor-toolbar-container.ck-balloon-panel_arrow_nw:after{border-bottom-color:#f7f7f7}.ck-editor-toolbar-container.ck-balloon-panel_arrow_s:after,.ck-editor-toolbar-container.ck-balloon-panel_arrow_se:after,.ck-editor-toolbar-container.ck-balloon-panel_arrow_sw:after{border-top-color:#f7f7f7}.ck-editor .ck-toolbar.ck-toolbar_sticky{box-shadow:0 1px 2px 0 rgba(0,0,0,.2);border:1px solid #bfbfbf;border-width:0 0 1px;background:#f7f7f7}.ck-editor{position:relative}.ck-editor.ck-rounded-corners,.ck-rounded-corners .ck-editor{border-radius:2px}.ck-editor .ck-editor__top .ck-toolbar{border-top:0;border-left:0;border-right:0;z-index:999}.ck-editor .ck-editor__main{background:#fff}.ck-editor .ck-editor__bottom{border-bottom:0;border-left:0;border-right:0;padding:.8em}.ck-editor .ck-editor__editable.ck-focused{outline:1px solid #6ab5f9;box-shadow:inset 2px 2px 3px #e6e6e6}.ck-editor .ck-editor__editable_inline{overflow:auto;padding:0 .8em}.ck-editor,.ck-editor-bottom{background:#f7f7f7;border:1px solid #b9b9b9}',''])},function(e){'use strict';e.exports=function(e){var t='undefined'!=typeof window&&window.location;if(!t)throw new Error('fixUrls requires window.location');if(!e||'string'!=typeof e)return e;var o=t.protocol+'//'+t.host,n=o+t.pathname.replace(/\/[^\/]*$/,'/'),a=e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(a))return e;var r;return r=0===a.indexOf('//')?a:0===a.indexOf('/')?o+a:n+a.replace(/^\.\//,''),'url('+JSON.stringify(r)+')'});return a}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(3),d=n(u),s=o(442),f=n(s),c=o(448),p=n(c),_=o(451),m=n(_),g=o(458),y=n(g),b=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'requires',get:function(){return[f.default,p.default,m.default,y.default]}}]),t}(d.default);t.default=b},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(3),d=n(u),s=o(443),f=n(s),c=o(445),p=n(c),_=o(446),m=n(_),g=o(447),y=n(g),b=o(258),h=n(b),v=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){function e(e,t){var r=t.dataTransfer,l=o.data.toView(o.data.getSelectedContent(n.selection));t.preventDefault(),a.fire('clipboardOutput',{dataTransfer:r,content:l,method:e.name})}var t=this,o=this.editor,n=o.document,a=o.editing.view;this._htmlDataProcessor=new h.default,a.addObserver(f.default),this.listenTo(a,'clipboardInput',function(e,n){if(!o.isReadOnly){var r=n.dataTransfer,l='';r.getData('text/html')?l=(0,m.default)(r.getData('text/html')):r.getData('text/plain')&&(l=(0,p.default)(r.getData('text/plain'))),l=t._htmlDataProcessor.toView(l),t.fire('inputTransformation',{content:l}),a.scrollToTheSelection()}},{priority:'low'}),this.listenTo(this,'inputTransformation',function(e,o){if(!o.content.isEmpty){var a=t.editor.data,r=a.toModel(o.content,'$clipboardHolder');n.enqueueChanges(function(){a.insertContent(r,n.selection)})}},{priority:'low'}),this.listenTo(a,'copy',e,{priority:'low'}),this.listenTo(a,'cut',function(t,n){o.isReadOnly?n.preventDefault():e(t,n)},{priority:'low'}),this.listenTo(a,'clipboardOutput',function(e,a){a.content.isEmpty||(a.dataTransfer.setData('text/html',t._htmlDataProcessor.toData(a.content)),a.dataTransfer.setData('text/plain',(0,y.default)(a.content))),'cut'==a.method&&n.enqueueChanges(function(){o.data.deleteContent(n.selection,n.batch())})},{priority:'low'})}}],[{key:'pluginName',get:function(){return'Clipboard'}}]),t}(d.default);t.default=v},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var o=t.target.ownerDocument,n=t.clientX,a=t.clientY,r;return o.caretRangeFromPoint&&o.caretRangeFromPoint(n,a)?r=o.caretRangeFromPoint(n,a):t.rangeParent&&(r=o.createRange(),r.setStart(t.rangeParent,t.rangeOffset),r.collapse(!0)),r?e.domConverter.domRangeToView(r):e.selection.getFirstRange()}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(71),s=n(d),f=o(444),c=n(f),p=function(e){function t(e){function o(t,o){o.preventDefault();var n=o.dropRange?[o.dropRange]:Array.from(e.selection.getRanges());e.fire('clipboardInput',{dataTransfer:o.dataTransfer,targetRanges:n})}a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.domEventType=['paste','copy','cut','drop','dragover'],n.listenTo(e,'paste',o,{priority:'low'}),n.listenTo(e,'drop',o,{priority:'low'}),n}return l(t,e),u(t,[{key:'onDomEvent',value:function(e){var t={dataTransfer:new c.default(e.clipboardData?e.clipboardData:e.dataTransfer)};'drop'==e.type&&(t.dropRange=i(this.document,e)),this.fire(e.type,e,t)}}]),t}(s.default);t.default=p},function(e,t){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e){var t=e.files?Array.from(e.files):[],o=e.items?Array.from(e.items):[];return t.length?t:o.filter(function(e){return'file'===e.kind}).map(function(e){return e.getAsFile()})}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=function(){function e(t){o(this,e),this.files=n(t),this._native=t}return a(e,[{key:'getData',value:function(e){return this._native.getData(e)}},{key:'setData',value:function(e,t){this._native.setData(e,t)}},{key:'types',get:function(){return this._native.types}}]),e}();t.default=r},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return e=e.replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n\n/g,'</p><p>').replace(/\n/g,' ').replace(/^\s/,'&nbsp;').replace(/\s$/,'&nbsp;').replace(/\s\s/g,' &nbsp;'),-1<e.indexOf('</p><p>')&&(e='<p>'+e+'</p>'),e}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,function(e,t){return 1==t.length?' ':t})}},function(e,t){'use strict';function o(e){var t='';if(e.is('text')||e.is('textProxy'))t=e.data;else if(e.is('img')&&e.hasAttribute('alt'))t=e.getAttribute('alt');else{var a=null,r=!0,l=!1,i;try{for(var u=e.getChildren()[Symbol.iterator](),d;!(r=(d=u.next()).done);r=!0){var s=d.value,f=o(s);a&&(a.is('containerElement')||s.is('containerElement'))&&(n.includes(a.name)||n.includes(s.name)?t+='\n':t+='\n\n'),t+=f,a=s}}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}}return t}Object.defineProperty(t,'__esModule',{value:!0}),t.default=o;var n=['figcaption','li']},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(3),d=n(u),s=o(449),f=n(s),c=o(450),p=n(c),_=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor,t=e.editing.view;t.addObserver(p.default),e.commands.add('enter',new f.default(e)),this.listenTo(t,'enter',function(o,n){e.execute('enter'),n.preventDefault(),t.scrollToTheSelection()},{priority:'low'})}}],[{key:'pluginName',get:function(){return'Enter'}}]),t}(d.default);t.default=_},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,o,n){var a=o.isCollapsed,r=o.getFirstRange(),l=r.start.parent,i=r.end.parent;if(n.limits.has(l.name)||n.limits.has(i.name))return void(a||l!=i||e.deleteContent(o,t));if(a)u(t,o,r.start);else{var d=!(r.start.isAtStart&&r.end.isAtEnd);e.deleteContent(o,t,{leaveUnmerged:d}),d&&(l==i?u(t,o,o.focus):o.setCollapsedAt(i))}}function u(e,t,o){if(o.isAtEnd){var n=o.parent,a=new n.constructor(n.name,n.getAttributes());e.insert(p.default.createAfter(o.parent),a)}else e.split(o);t.setCollapsedAt(o.parent.nextSibling)}Object.defineProperty(t,'__esModule',{value:!0});var d=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(11),f=n(s),c=o(1),p=n(c),_=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),d(t,[{key:'execute',value:function(){var e=this,t=this.editor.document,o=t.batch();t.enqueueChanges(function(){i(e.editor.data,o,t.selection,t.schema),e.fire('afterExecute',{batch:o})})}}]),t}(f.default);t.default=_},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(59),d=n(u),s=o(151),f=n(s),c=o(27),p=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.on('keydown',function(t,n){o.isEnabled&&n.keyCode==c.keyCodes.enter&&e.fire('enter',new f.default(e,n.domEvent))}),o}return l(t,e),i(t,[{key:'observe',value:function(){}}]),t}(d.default);t.default=p},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(3),d=n(u),s=o(452),f=n(s),c=o(455),p=n(c),_=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'requires',get:function(){return[f.default,p.default]}},{key:'pluginName',get:function(){return'Typing'}}]),t}(d.default);t.default=_},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return!!e.ctrlKey||V.includes(e.keyCode)}function u(e,t){return e instanceof P.default&&t instanceof P.default?e.data===t.data:e===t}function d(e){if(1==e.newChildren.length-e.oldChildren.length){var t=(0,x.default)(e.oldChildren,e.newChildren,u),o=(0,C.default)(t,e.newChildren);if(!(1<o.length)){var n=o[0];return n.values[0]instanceof P.default?n:void 0}}}function s(e){var t=e.map(function(e){return e.node}).reduce(function(e,t){return e.getCommonAncestor(t,{includeSelf:!0})});return t?t.getAncestors({includeSelf:!0,parentFirst:!0}).find(function(e){return e.is('containerElement')||e.is('rootElement')}):void 0}function f(e){if(0==e.length)return!1;var t=!0,o=!1,n;try{for(var a=e[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)if(l=r.value,'children'!==l.type||d(l))return!1}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return!0}function c(e){return e.every(function(e){return e.is('text')})}function p(e){for(var t=null,o=null,n=0,a;n<e.length;n++)a=e[n],'equal'!=a&&(t=null==t?n:t,o=n);for(var r=0,l=0,i=t;i<=o;i++)'insert'!=e[i]&&r++,'delete'!=e[i]&&l++;return{insertions:l,deletions:r,firstChangeAt:t}}Object.defineProperty(t,'__esModule',{value:!0});var _=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),m=o(3),g=n(m),y=o(2),b=n(y),h=o(20),v=n(h),k=o(33),P=n(k),w=o(249),x=n(w),M=o(453),C=n(M),O=o(27),A=o(150),T=n(A),S=o(454),E=n(S),R=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),_(t,[{key:'init',value:function(){var e=this,t=this.editor,o=t.editing.view,n=new E.default(t,t.config.get('typing.undoStep')||20);t.commands.add('input',n),this.listenTo(o,'keydown',function(t,o){e._handleKeydown(o,n)},{priority:'lowest'}),this.listenTo(o,'mutations',function(t,o,n){e._handleMutations(o,n)})}},{key:'_handleKeydown',value:function(e,t){var o=this,n=this.editor.document,a=t.buffer;!t.isEnabled||i(e)||n.selection.isCollapsed||(a.lock(),n.enqueueChanges(function(){o.editor.data.deleteContent(n.selection,a.batch)}),a.unlock())}},{key:'_handleMutations',value:function(e,t){new I(this.editor).handle(e,t)}}],[{key:'pluginName',get:function(){return'Input'}}]),t}(g.default);t.default=R;for(var I=function(){function e(t){a(this,e),this.editor=t,this.editing=this.editor.editing}return _(e,[{key:'handle',value:function(e,t){if(f(e))this._handleContainerChildrenMutations(e,t);else{var o=!0,n=!1,a;try{for(var r=e[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,this._handleTextMutation(i,t),this._handleTextNodeInsertion(i)}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}}},{key:'_handleContainerChildrenMutations',value:function(e,t){var o=s(e);if(o){var n=this.editor.editing.view.domConverter,a=n.mapViewToDom(o);if(a){var r=new T.default,l=this.editor.data.toModel(r.domToView(a)).getChild(0),i=this.editor.editing.mapper.toModelElement(o),u=Array.from(l.getChildren()),d=Array.from(i.getChildren());if(c(u)&&c(d)){var f=u.map(function(e){return e.data}).join('').replace(/\u00A0/g,' '),_=d.map(function(e){return e.data}).join('');if(_!==f){var m=(0,x.default)(_,f),g=p(m),y=g.firstChangeAt,h=g.insertions,v=g.deletions,k=null;t&&(k=this.editing.mapper.toModelRange(t.getFirstRange()));var P=f.substr(y,h),w=b.default.createFromParentsAndOffsets(i,y,i,y+v);this.editor.execute('input',{text:P,range:w,resultRange:k})}}}}}},{key:'_handleTextMutation',value:function(e,t){if('text'==e.type){var o=e.newText.replace(/\u00A0/g,' '),n=e.oldText.replace(/\u00A0/g,' '),a=(0,x.default)(n,o),r=p(a),l=r.firstChangeAt,i=r.insertions,u=r.deletions,d=null;t&&(d=this.editing.mapper.toModelRange(t.getFirstRange()));var s=new v.default(e.node,l),f=this.editing.mapper.toModelPosition(s),c=b.default.createFromPositionAndShift(f,u),_=o.substr(l,i);this.editor.execute('input',{text:_,range:c,resultRange:d})}}},{key:'_handleTextNodeInsertion',value:function(e){if('children'==e.type){var t=d(e),o=new v.default(e.node,t.index),n=this.editing.mapper.toModelPosition(o),a=t.values[0].data;this.editor.execute('input',{text:a.replace(/\u00A0/g,' '),range:new b.default(n)})}}}]),e}(),V=[(0,O.getCode)('arrowUp'),(0,O.getCode)('arrowRight'),(0,O.getCode)('arrowDown'),(0,O.getCode)('arrowLeft'),9,16,17,18,20,27,33,34,35,36,229],N=112;135>=N;N++)V.push(N)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){function o(){l&&(a.push(l),l=null)}function n(e){return l&&l.type==e}var a=[],r=0,l;return e.forEach(function(e){'equal'==e?(o(),r++):'insert'==e?(n('insert')?l.values.push(t[r]):(o(),l={type:'insert',index:r,values:[t[r]]}),r++):n('delete')?l.howMany++:(o(),l={type:'delete',index:r,howMany:1})}),o(),a}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(11),s=n(d),f=o(262),c=n(f),p=function(e){function t(e,o){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._buffer=new c.default(e.document,o),n}return l(t,e),i(t,[{key:'destroy',value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'destroy',this).call(this),this._buffer.destroy()}},{key:'execute',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=this.editor.document,n=t.text||'',a=n.length,r=t.range||o.selection.getFirstRange(),l=t.resultRange;o.enqueueChanges(function(){var t=r.isCollapsed;e._buffer.lock(),t||e._buffer.batch.remove(r),e._buffer.batch.weakInsert(r.start,n),l?e.editor.data.model.selection.setRanges([l]):t&&e.editor.data.model.selection.setCollapsedAt(r.start.getShiftedBy(a)),e._buffer.unlock(),e._buffer.input(a)})}},{key:'buffer',get:function(){return this._buffer}}]),t}(s.default);t.default=p},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(3),d=n(u),s=o(456),f=n(s),c=o(457),p=n(c),_=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor,t=e.editing.view;t.addObserver(p.default),e.commands.add('forwardDelete',new f.default(e,'forward')),e.commands.add('delete',new f.default(e,'backward')),this.listenTo(t,'delete',function(o,n){e.execute('forward'==n.direction?'forwardDelete':'delete',{unit:n.unit,sequence:n.sequence}),n.preventDefault(),t.scrollToTheSelection()})}}],[{key:'pluginName',get:function(){return'Delete'}}]),t}(d.default);t.default=_},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(11),d=n(u),s=o(106),f=n(s),c=o(6),p=n(c),_=o(1),m=n(_),g=o(2),y=n(g),b=o(262),h=n(b),v=o(149),k=n(v),P=function(e){function t(e,o){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.direction=o,n._buffer=new h.default(e.document,e.config.get('typing.undoStep')),n}return l(t,e),i(t,[{key:'execute',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=this.editor.document,n=this.editor.data;o.enqueueChanges(function(){e._buffer.lock();var a=f.default.createFromSelection(o.selection),r=a.isCollapsed;if(a.isCollapsed&&n.modifySelection(a,{direction:e.direction,unit:t.unit}),e._shouldEntireContentBeReplacedWithParagraph(t.sequence||1))return void e._replaceEntireContentWithParagraph();if(!a.isCollapsed){var l=0;a.getFirstRange().getMinimalFlatRanges().forEach(function(e){l+=(0,k.default)(e.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),n.deleteContent(a,e._buffer.batch,{doNotResetEntireContent:r}),e._buffer.input(l),o.selection.setRanges(a.getRanges(),a.isBackward),e._buffer.unlock()}})}},{key:'_shouldEntireContentBeReplacedWithParagraph',value:function(e){if(1<e)return!1;var t=this.editor.document,o=t.selection,n=t.schema.getLimitElement(o),a=o.isCollapsed&&o.containsEntireContent(n);if(!a)return!1;if(!t.schema.check({name:'paragraph',inside:n.name}))return!1;var r=n.getChild(0);return r&&'paragraph'===r.name?!1:!0}},{key:'_replaceEntireContentWithParagraph',value:function(){var e=this.editor.document,t=e.selection,o=e.schema.getLimitElement(t),n=new p.default('paragraph');this._buffer.batch.remove(y.default.createIn(o)),this._buffer.batch.insert(m.default.createAt(o),n),t.setCollapsedAt(n)}}]),t}(d.default);t.default=P},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(59),d=n(u),s=o(151),f=n(s),c=o(27),p=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=0;return e.on('keyup',function(e,t){(t.keyCode==c.keyCodes.delete||t.keyCode==c.keyCodes.backspace)&&(n=0)}),e.on('keydown',function(t,o){var a={};if(o.keyCode==c.keyCodes.delete)a.direction='forward',a.unit='character';else if(o.keyCode==c.keyCodes.backspace)a.direction='backward',a.unit='codePoint';else return;a.unit=o.altKey?'word':a.unit,a.sequence=++n,e.fire('delete',new f.default(e,o.domEvent,a))}),o}return l(t,e),i(t,[{key:'observe',value:function(){}}]),t}(d.default);t.default=p},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(3),d=n(u),s=o(459),f=n(s),c=o(24),p=n(c),_=o(464),m=n(_),g=o(465),y=n(g),b=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor,o=e.t;this._addButton('undo',o('Undo'),'CTRL+Z',m.default),this._addButton('redo',o('Redo'),'CTRL+Y',y.default),e.keystrokes.set('CTRL+Z','undo'),e.keystrokes.set('CTRL+Y','redo'),e.keystrokes.set('CTRL+SHIFT+Z','redo')}},{key:'_addButton',value:function(e,t,o,n){var a=this,r=this.editor,l=r.commands.get(e);r.ui.componentFactory.add(e,function(i){var u=new p.default(i);return u.set({label:t,icon:n,keystroke:o,tooltip:!0}),u.bind('isEnabled').to(l,'isEnabled'),a.listenTo(u,'execute',function(){return r.execute(e)}),u})}}],[{key:'requires',get:function(){return[f.default]}},{key:'pluginName',get:function(){return'Undo'}}]),t}(d.default);t.default=b},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(3),d=n(u),s=o(460),f=n(s),c=o(461),p=n(c),_=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o._batchRegistry=new WeakSet,o}return l(t,e),i(t,[{key:'init',value:function(){var e=this;this._undoCommand=new f.default(this.editor),this._redoCommand=new p.default(this.editor),this.editor.commands.add('undo',this._undoCommand),this.editor.commands.add('redo',this._redoCommand),this.listenTo(this.editor.document,'change',function(t,o,n,a){e._batchRegistry.has(a)||'transparent'==a.type||(e._redoCommand._createdBatches.has(a)?e._undoCommand.addBatch(a):!e._undoCommand._createdBatches.has(a)&&(e._undoCommand.addBatch(a),e._redoCommand.clearStack()),e._batchRegistry.add(a))},{priority:'highest'}),this.listenTo(this._undoCommand,'revert',function(t,o,n){e._redoCommand.addBatch(n)})}}]),t}(d.default);t.default=_},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(263),u=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),l(t,[{key:'execute',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,o=t?this._stack.findIndex(function(e){return e.batch==t}):this._stack.length-1,n=this._stack.splice(o,1)[0];this.editor.document.enqueueChanges(function(){var t=e._undo(n.batch),o=e.editor.document.history.getDeltas(n.batch.baseVersion);e._restoreSelection(n.selection.ranges,n.selection.isBackward,o),e.fire('revert',n.batch,t)}),this.refresh()}}]),t}(u.default);t.default=d},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(263),u=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),l(t,[{key:'execute',value:function(){var e=this,t=this._stack.pop();this.editor.document.enqueueChanges(function(){var o=t.batch.deltas[t.batch.deltas.length-1],n=o.baseVersion+o.operations.length,a=e.editor.document.history.getDeltas(n);e._restoreSelection(t.selection.ranges,t.selection.isBackward,a),e._undo(t.batch)}),this.refresh()}}]),t}(u.default);t.default=d},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=o(8),u=n(i),d=o(5),s=n(d),f=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=e.bindTemplate;return e.set('content'),e.set('viewBox','0 0 20 20'),e.template=new s.default({tag:'svg',ns:'http://www.w3.org/2000/svg',attributes:{class:'ck-icon',viewBox:o.to('viewBox')}}),e.on('change:content',function(t,o,n){for(var a=new DOMParser().parseFromString(n.trim(),'image/svg+xml').firstChild;0<a.childNodes.length;)e.element.appendChild(a.childNodes[0])}),e}return l(t,e),t}(u.default);t.default=f},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=o(8),u=n(i),d=o(5),s=n(d),f=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));o.set('text',''),o.set('position','s');var n=o.bindTemplate;return o.template=new s.default({tag:'span',attributes:{class:['ck-tooltip',n.to('position',function(e){return'ck-tooltip_'+e}),n.if('text','ck-hidden',function(e){return!e.trim()})]},children:[{tag:'span',attributes:{class:['ck-tooltip__text']},children:[{text:n.to('text')}]}]}),o}return l(t,e),t}(u.default);t.default=f},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 10l8 6-1-3.982c3.417 0 8.616.869 10 3.982 0-5.983-6.601-7.96-10-7.96 0-.85 1-3.32 1-4.04l-8 6z" fill="#454545" fill-rule="evenodd"/></svg>'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 16l1-3.982c-3.417 0-8.616.869-10 3.982 0-5.983 6.601-7.96 10-7.96 0-.85-1-3.32-1-4.04l8 6-8 6z" fill="#454545" fill-rule="evenodd"/></svg>'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(467),d=n(u),s=o(468),f=n(s),c=o(3),p=n(c),_=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'afterInit',value:function(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats()}},{key:'_addListAutoformats',value:function(){var e=this.editor.commands;e.get('bulletedList')&&new d.default(this.editor,/^[*-]\s$/,'bulletedList'),e.get('numberedList')&&new d.default(this.editor,/^\d+[.|)]?\s$/,'numberedList')}},{key:'_addBasicStylesAutoformats',value:function(){var e=this.editor.commands;e.get('bold')&&(new f.default(this.editor,/(\*\*)([^*]+)(\*\*)$/g,'bold'),new f.default(this.editor,/(__)([^_]+)(__)$/g,'bold')),e.get('italic')&&(new f.default(this.editor,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,'italic'),new f.default(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,'italic')),e.get('code')&&new f.default(this.editor,/(`)([^`]+)(`)$/g,'code')}},{key:'_addHeadingAutoformats',value:function(){var e=this;Array.from(this.editor.commands.names()).filter(function(e){return e.match(/^heading[1-6]$/)}).forEach(function(t){var o=t[7],n=new RegExp('^(#{'+o+'})\\s$');new d.default(e.editor,n,function(o){var n=o.batch;e.editor.execute(t,{batch:n})})})}},{key:'_addBlockQuoteAutoformats',value:function(){this.editor.commands.get('blockQuote')&&new d.default(this.editor,/^>\s$/,'blockQuote')}}],[{key:'pluginName',get:function(){return'Autoformat'}}]),t}(p.default);t.default=_},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=o(2),l=n(r),i=o(64),u=n(i);t.default=function e(t,o,n){a(this,e);var r;if('function'==typeof n)r=n;else{r=function(e){var o=e.batch;t.execute(n,{batch:o})}}t.document.on('change',function(e,n,a,i){if('transparent'!=i.type&&'insert'==n){var d=a.range.getItems().next().value;if(d instanceof u.default){var s=d.textNode,f=s.data;if('paragraph'===s.parent.name&&f){var c=o.exec(f);c&&t.document.enqueueChanges(function(){var e=t.document.batch(),o=l.default.createFromParentsAndOffsets(s.parent,0,s.parent,c[0].length);e.remove(o),r({fixBatch:e,match:c})})}}}})}},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e){return Array.from(e.getChildren()).reduce(function(e,t){return e+t.data},'')}Object.defineProperty(t,'__esModule',{value:!0});var r=o(148),l=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function e(t,o,r){n(this,e);var i,u,d,s;o instanceof RegExp?i=o:d=o,'string'==typeof r?u=r:s=r,d=d||function(e){for(var t=[],o=[],n;null!==(n=i.exec(e))&&!(n&&4>n.length);){var a=n,r=a.index,l=a[1],u=a[2],d=a[3];r+=n[0].length-(l+u+d).length;var s=[r,r+l.length],f=[r+l.length+u.length,r+l.length+u.length+d.length];t.push(s),t.push(f),o.push([r+l.length,r+l.length+u.length])}return{remove:t,format:o}},s=s||function(e,t){var o=!0,n=!1,a;try{for(var r=t[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,e.setAttribute(i,u,!0)}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}},t.document.on('change',function(e,o,n,r){if('transparent'!=r.type&&'insert'===o){var i=t.document.selection;if(i.isCollapsed&&i.focus&&i.focus.parent){var f=i.focus.parent,c=a(f).slice(0,i.focus.offset),p=d(c),_=[];p.format.forEach(function(e){void 0===e[0]||void 0===e[1]||_.push(l.default.createFromParentsAndOffsets(f,e[0],f,e[1]))});var m=[];p.remove.slice().reverse().forEach(function(e){void 0===e[0]||void 0===e[1]||m.push(l.default.createFromParentsAndOffsets(f,e[0],f,e[1]))}),_.length&&m.length&&t.document.enqueueChanges(function(){var e=t.document.batch(),o=t.document.schema.getValidRanges(_,u);s(e,o);var n=!0,a=!1,r;try{for(var l=m[Symbol.iterator](),i,d;!(n=(i=l.next()).done);n=!0)d=i.value,e.remove(d)}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}})}}})}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(3),d=n(u),s=o(470),f=n(s),c=o(24),p=n(c),_=o(471),m=n(_),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this,o=this.editor,n=o.t,t=o.commands.get('bold'),a='CTRL+B';o.ui.componentFactory.add('bold',function(r){var l=new p.default(r);return l.set({label:n('Bold'),icon:m.default,keystroke:a,tooltip:!0}),l.bind('isOn','isEnabled').to(t,'value','isEnabled'),e.listenTo(l,'execute',function(){return o.execute('bold')}),l}),o.keystrokes.set(a,'bold')}}],[{key:'requires',get:function(){return[f.default]}},{key:'pluginName',get:function(){return'Bold'}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(3),d=n(u),s=o(52),f=n(s),c=o(43),p=n(c),_=o(264),m=n(_),g='bold',y=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor,t=e.data,o=e.editing;e.document.schema.allow({name:'$inline',attributes:g,inside:'$block'}),e.document.schema.allow({name:'$inline',attributes:g,inside:'$clipboardHolder'}),(0,f.default)().for(t.modelToView,o.modelToView).fromAttribute(g).toElement('strong'),(0,p.default)().for(t.viewToModel).fromElement('strong').fromElement('b').fromAttribute('style',{"font-weight":'bold'}).toAttribute(g,!0),e.commands.add(g,new m.default(e,g))}}]),t}(d.default);t.default=y},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.135 10.409c.361.248.654.56.88.934.225.375.338.816.338 1.324 0 .609-.128 1.123-.385 1.543-.256.42-.624.751-1.103.994a5.908 5.908 0 0 1-1.755.55c-.663.107-1.442.16-2.338.16H4.539v-.66a22.5 22.5 0 0 0 .66-.076c.265-.033.45-.073.558-.118.208-.085.35-.196.427-.334.076-.138.114-.317.114-.537V5.732c0-.203-.031-.372-.093-.507s-.211-.254-.448-.355a3.326 3.326 0 0 0-.61-.182 14.136 14.136 0 0 0-.608-.114v-.66h6.52c1.64 0 2.825.226 3.552.677.727.45 1.09 1.116 1.09 1.995 0 .406-.08.763-.244 1.07a2.388 2.388 0 0 1-.702.8 4.214 4.214 0 0 1-.99.54c-.383.153-.795.28-1.234.381v.16c.44.046.896.143 1.37.292.473.15.885.343 1.234.58zm-2.723-3.611c0-.665-.187-1.184-.562-1.556-.375-.372-.937-.558-1.687-.558-.107 0-.247.004-.419.012l-.444.021v4.449h.44c.913 0 1.587-.213 2.021-.639.434-.425.651-1.002.651-1.73zm.592 5.759c0-.835-.248-1.475-.744-1.92-.496-.445-1.21-.668-2.14-.668a22.977 22.977 0 0 0-.82.034v4.389c.05.208.209.385.474.528.265.144.586.216.964.216.67 0 1.216-.225 1.636-.676.42-.452.63-1.086.63-1.903z" fill="#454545" fill-rule="evenodd"/></svg>'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(3),d=n(u),s=o(473),f=n(s),c=o(24),p=n(c),_=o(474),m=n(_),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this,o=this.editor,n=o.t,t=o.commands.get('italic'),a='CTRL+I';o.ui.componentFactory.add('italic',function(r){var l=new p.default(r);return l.set({label:n('Italic'),icon:m.default,keystroke:a,tooltip:!0}),l.bind('isOn','isEnabled').to(t,'value','isEnabled'),e.listenTo(l,'execute',function(){return o.execute('italic')}),l}),o.keystrokes.set(a,'italic')}}],[{key:'requires',get:function(){return[f.default]}},{key:'pluginName',get:function(){return'Italic'}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(3),d=n(u),s=o(52),f=n(s),c=o(43),p=n(c),_=o(264),m=n(_),g='italic',y=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor,t=e.data,o=e.editing;e.document.schema.allow({name:'$inline',attributes:g,inside:'$block'}),e.document.schema.allow({name:'$inline',attributes:g,inside:'$clipboardHolder'}),(0,f.default)().for(t.modelToView,o.modelToView).fromAttribute(g).toElement('i'),(0,p.default)().for(t.viewToModel).fromElement('em').fromElement('i').fromAttribute('style',{"font-style":'italic'}).toAttribute(g,!0),e.commands.add(g,new m.default(e,g))}}]),t}(d.default);t.default=y},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M13.825 3.914l-.126.558a5.701 5.701 0 0 0-.685.076c-.282.045-.49.088-.626.127-.237.073-.406.186-.508.338a1.586 1.586 0 0 0-.22.5l-2.03 8.769a1.24 1.24 0 0 0-.034.27c.001.13.03.24.086.33.056.09.157.17.304.237.085.04.27.086.558.14.288.053.502.086.643.097l-.127.558H5.656l.127-.558.677-.05c.293-.023.501-.057.625-.102a1.11 1.11 0 0 0 .5-.326c.112-.138.188-.306.228-.503l2.02-8.778a1.428 1.428 0 0 0 .035-.305.59.59 0 0 0-.072-.295c-.048-.085-.148-.161-.3-.229a3.457 3.457 0 0 0-.622-.19 5.001 5.001 0 0 0-.58-.106l.128-.558h5.403z" fill="#454545" fill-rule="evenodd"/></svg>'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(3),d=n(u),s=o(476),f=n(s),c=o(24),p=n(c),_=o(478),m=n(_);o(479);var g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this,o=this.editor,n=o.t,t=o.commands.get('blockQuote');o.ui.componentFactory.add('blockQuote',function(a){var r=new p.default(a);return r.set({label:n('Block quote'),icon:m.default,tooltip:!0}),r.bind('isOn','isEnabled').to(t,'value','isEnabled'),e.listenTo(r,'execute',function(){return o.execute('blockQuote')}),r})}},{key:'afterInit',value:function(){var e=this,t=this.editor,o=t.commands.get('blockQuote');this.listenTo(this.editor.editing.view,'enter',function(t,n){var a=e.editor.document,r=a.selection.getLastPosition().parent;a.selection.isCollapsed&&r.isEmpty&&o.value&&(e.editor.execute('blockQuote'),e.editor.editing.view.scrollToTheSelection(),n.preventDefault(),t.stop())})}}],[{key:'requires',get:function(){return[f.default]}},{key:'pluginName',get:function(){return'BlockQuote'}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(3),d=n(u),s=o(477),f=n(s),c=o(43),p=n(c),_=o(52),m=n(_),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor,t=e.document.schema;e.commands.add('blockQuote',new f.default(e)),t.registerItem('blockQuote'),t.allow({name:'blockQuote',inside:'$root'}),t.allow({name:'$block',inside:'blockQuote'}),(0,p.default)().for(e.data.viewToModel).fromElement('blockquote').toElement('blockQuote'),(0,m.default)().for(e.data.modelToView,e.editing.modelToView).fromElement('blockQuote').toElement('blockquote')}},{key:'afterInit',value:function(){var e=this.editor.document.schema;e.hasItem('listItem')&&e.allow({name:'listItem',inside:'blockQuote',attributes:['type','indent']})}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return'blockQuote'==e.parent.name?e.parent:null}function u(e){for(var t=0,o=[],n;t<e.length;){var a=e[t],r=e[t+1];n||(n=_.default.createBefore(a)),r&&a.nextSibling==r||(o.push(new b.default(n,_.default.createAfter(a))),n=null),t++}return o}function d(e,t){var o=e.check({name:'blockQuote',inside:_.default.createBefore(t)}),n=e.check({name:t.name,attributes:Array.from(t.getAttributeKeys()),inside:'blockQuote'});return o&&n}Object.defineProperty(t,'__esModule',{value:!0});var s=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),f=o(11),c=n(f),p=o(1),_=n(p),m=o(6),g=n(m),y=o(2),b=n(y),h=o(60),v=n(h),k=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:'refresh',value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:'execute',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=this.editor.document,n=o.schema,a=t.batch||o.batch(),r=Array.from(o.selection.getSelectedBlocks());o.enqueueChanges(function(){if(e.value)e._removeQuote(a,r.filter(i));else{var t=r.filter(function(e){return i(e)||d(n,e)});e._applyQuote(a,t)}})}},{key:'_getValue',value:function(){var e=(0,v.default)(this.editor.document.selection.getSelectedBlocks());return!!(e&&i(e))}},{key:'_checkEnabled',value:function(){if(this.value)return!0;var e=this.editor.document.selection,t=this.editor.document.schema,o=(0,v.default)(e.getSelectedBlocks());return!!o&&d(t,o)}},{key:'_removeQuote',value:function(e,t){u(t).reverse().forEach(function(t){if(t.start.isAtStart&&t.end.isAtEnd)return void e.unwrap(t.start.parent);if(t.start.isAtStart){var o=_.default.createBefore(t.start.parent);return void e.move(t,o)}t.end.isAtEnd||e.split(t.end);var n=_.default.createAfter(t.end.parent);e.move(t,n)})}},{key:'_applyQuote',value:function(e,t){var o=[];u(t).reverse().forEach(function(t){var n=i(t.start);n||(n=new g.default('blockQuote'),e.wrap(t,n)),o.push(n)}),o.reverse().reduce(function(t,o){return t.nextSibling==o?(e.merge(_.default.createAfter(t)),t):o})}}]),t}(c.default);t.default=k},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.061 15.51v-.882c1.395-.847 2.345-1.633 2.85-2.358.37-.533.554-1.162.554-1.887 0-.437-.082-.759-.246-.964-.15-.205-.328-.307-.533-.307-.137 0-.328.048-.574.143-.37.123-.67.185-.902.185-.547 0-1.033-.205-1.456-.615-.424-.41-.636-.923-.636-1.538 0-.698.212-1.238.636-1.62a3.002 3.002 0 0 1 2.05-.78c.93 0 1.757.39 2.482 1.17.724.778 1.087 1.742 1.087 2.89 0 1.614-.602 3.084-1.805 4.41-.807.875-1.976 1.593-3.507 2.153zm-8.386 0v-.882c1.394-.847 2.345-1.633 2.85-2.358.37-.533.554-1.162.554-1.887 0-.437-.082-.759-.246-.964-.15-.205-.328-.307-.533-.307-.137 0-.328.048-.574.143-.37.123-.67.185-.903.185-.547 0-1.032-.205-1.456-.615-.424-.41-.636-.923-.636-1.538 0-.698.212-1.238.636-1.62a3.002 3.002 0 0 1 2.051-.78c.93 0 1.757.39 2.481 1.17.725.778 1.087 1.742 1.087 2.89 0 1.614-.601 3.084-1.804 4.41-.807.875-1.976 1.593-3.507 2.153z" fill="#454545" fill-rule="evenodd"/></svg>'},function(e,t,o){var n=o(480);'string'==typeof n&&(n=[[e.i,n,'']]);var a={},r;a.transform=r;o(36)(n,a);n.locals&&(e.exports=n.locals),!1},function(e,t,o){t=e.exports=o(35)(void 0),t.push([e.i,'blockquote{border-left:5px solid #ccc;padding-left:20px;margin-left:0;font-style:italic}',''])},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function l(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){var o;return(o=Array.prototype).concat.apply(o,a(e.map(function(e){return[e,t]})))}Object.defineProperty(t,'__esModule',{value:!0});var d=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(109),f=n(s),c=o(483),p=n(c),_=o(3),m=n(_),g=o(485),y=n(g),b=o(486),h=n(b),v=o(154),k=n(v),P=o(5),w=n(P);o(492);var x=function(e){function t(){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),d(t,[{key:'init',value:function(){var e=this,o=this.editor,n=new k.default,r=this._getLocalizedOptions(),l=[],i=o.t,t=i('Choose heading'),d=i('Heading'),s=!0,f=!1,c,p,_;try{for(var m=r[Symbol.iterator](),g;!(s=(g=m.next()).done);s=!0){var b=g.value,v=o.commands.get(b.modelElement),P=new y.default({commandName:b.modelElement,label:b.title,class:b.class});P.bind('isActive').to(v,'value'),n.add(P),l.push(v)}}catch(e){f=!0,_=e}finally{try{!s&&m.return&&m.return()}finally{if(f)throw _}}var x=new y.default({withText:!0,items:n,tooltip:d});(c=x.bind('isEnabled')).to.apply(c,a(u(l,'isEnabled')).concat([function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.some(function(e){return e})}])),(p=x.bind('label')).to.apply(p,a(u(l,'value')).concat([function(){for(var e=arguments.length,o=Array(e),n=0;n<e;n++)o[n]=arguments[n];var a=o.findIndex(function(e){return e});return r[a]?r[a].title:t}])),o.ui.componentFactory.add('headings',function(t){var n=(0,h.default)(x,t);return w.default.extend(n.template,{attributes:{class:['ck-heading-dropdown']}}),e.listenTo(n,'execute',function(e){o.execute(e.source.commandName),o.editing.view.focus()}),n})}},{key:'_getLocalizedOptions',value:function(){var e=this.editor,o=e.t,t={Paragraph:o('Paragraph'),"Heading 1":o('Heading 1'),"Heading 2":o('Heading 2'),"Heading 3":o('Heading 3')};return e.config.get('heading.options').map(function(e){var o=t[e.title];return o&&o!=e.title&&(e=Object.assign({},e,{title:o})),e})}}],[{key:'requires',get:function(){return[f.default,p.default]}},{key:'pluginName',get:function(){return'Heading'}}]),t}(m.default);t.default=x},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return t.check({name:'paragraph',inside:c.default.createBefore(e)})}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(11),s=n(d),f=o(1),c=n(f),p=o(60),_=n(p),m=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:'refresh',value:function(){var e=this.editor.document,t=(0,_.default)(e.selection.getSelectedBlocks());this.value=!!t&&t.is('paragraph'),this.isEnabled=!!t&&i(t,e.schema)}},{key:'execute',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.editor.document;t.enqueueChanges(function(){var o=e.batch||t.batch(),n=(e.selection||t.selection).getSelectedBlocks(),a=!0,r=!1,l;try{for(var u=n[Symbol.iterator](),d,s;!(a=(d=u.next()).done);a=!0)s=d.value,!s.is('paragraph')&&i(s,t.schema)&&o.rename(s,'paragraph')}catch(e){r=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(r)throw l}}})}}]),t}(s.default);t.default=m},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(3),d=n(u),s=o(52),f=n(s),c=o(43),p=n(c),_=o(109),m=n(_),g=o(484),y=n(g),b='paragraph',h=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.config.define('heading',{options:[{modelElement:'paragraph',title:'Paragraph',class:'ck-heading_paragraph'},{modelElement:'heading1',viewElement:'h2',title:'Heading 1',class:'ck-heading_heading1'},{modelElement:'heading2',viewElement:'h3',title:'Heading 2',class:'ck-heading_heading2'},{modelElement:'heading3',viewElement:'h4',title:'Heading 3',class:'ck-heading_heading3'}]}),o}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor,t=e.data,o=e.editing,n=e.config.get('heading.options'),a=!0,r=!1,l;try{for(var i=n[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,d.modelElement!==b&&(e.document.schema.registerItem(d.modelElement,'$block'),(0,f.default)().for(t.modelToView,o.modelToView).fromElement(d.modelElement).toElement(d.viewElement),(0,p.default)().for(t.viewToModel).fromElement(d.viewElement).toElement(d.modelElement),e.commands.add(d.modelElement,new y.default(e,d.modelElement)))}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}}},{key:'afterInit',value:function(){var e=this.editor,t=e.commands.get('enter'),o=e.config.get('heading.options');t&&this.listenTo(t,'afterExecute',function(t,n){var a=e.document.selection.getFirstPosition().parent,r=n.batch,l=o.some(function(e){return a.is(e.modelElement)});l&&!a.is(b)&&0===a.childCount&&r.rename(a,b)})}}],[{key:'requires',get:function(){return[m.default]}}]),t}(d.default);t.default=h},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,o){return o.check({name:t,inside:c.default.createBefore(e)})}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(11),s=n(d),f=o(1),c=n(f),p=o(60),_=n(p),m=function(e){function t(e,o){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.modelElement=o,n}return l(t,e),u(t,[{key:'refresh',value:function(){var e=(0,_.default)(this.editor.document.selection.getSelectedBlocks());this.value=!!e&&e.is(this.modelElement),this.isEnabled=!!e&&i(e,this.modelElement,this.editor.document.schema)}},{key:'execute',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=this.editor,n=o.document;n.enqueueChanges(function(){var o=t.batch||n.batch(),a=Array.from(n.selection.getSelectedBlocks()).filter(function(t){return i(t,e.modelElement,n.schema)}),r=!0,l=!1,u;try{for(var d=a[Symbol.iterator](),s,f;!(r=(s=d.next()).done);r=!0)f=s.value,f.is(e.modelElement)||o.rename(f,e.modelElement)}catch(e){l=!0,u=e}finally{try{!r&&d.return&&d.return()}finally{if(l)throw u}}})}}]),t}(s.default);t.default=m},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=o(46),l=n(r),i=o(4),u=n(i),d=o(15),s=n(d),f=function e(t,o){a(this,e),o&&(0,l.default)(this,o),t&&this.set(t)};t.default=f,(0,u.default)(f,s.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e){e.listenTo(document,'click',function(t,o){var n=o.target;e.element==n||e.element.contains(n)||(e.isOpen=!1)})}Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){var o=(0,f.default)(e,t),n=o.listView=new i.default(t);return n.items.bindTo(e.items).using(function(e){var o=new d.default(t);return o.bind.apply(o,a(Object.keys(e))).to(e),o}),n.items.delegate('execute').to(o),o.panelView.children.add(n),o.on('change:isOpen',function(e,t,n){n?r(o):o.stopListening(document)}),o.on('execute',function(){o.isOpen=!1}),o.keystrokes.set('arrowdown',function(e,t){o.isOpen&&(n.focus(),t())}),o.keystrokes.set('arrowup',function(e,t){o.isOpen&&(n.focusLast(),t())}),o};var l=o(487),i=n(l),u=o(488),d=n(u),s=o(489),f=n(s)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(8),s=n(d),f=o(5),c=n(f),p=o(72),_=n(p),m=o(155),g=n(m),y=o(51),b=n(y),h=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.items=e.createCollection(),e.focusTracker=new _.default,e.keystrokes=new b.default,e._focusCycler=new g.default({focusables:e.items,focusTracker:e.focusTracker,keystrokeHandler:e.keystrokes,actions:{focusPrevious:'arrowup',focusNext:'arrowdown'}}),e.template=new c.default({tag:'ul',attributes:{class:['ck-reset','ck-list']},children:e.items}),e.items.on('add',function(t,o){e.focusTracker.add(o.element)}),e.items.on('remove',function(t,o){e.focusTracker.remove(o.element)}),e}return l(t,e),i(t,[{key:'init',value:function(){this.keystrokes.listenTo(this.element),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'init',this).call(this)}},{key:'focus',value:function(){this._focusCycler.focusFirst()}},{key:'focusLast',value:function(){this._focusCycler.focusLast()}}]),t}(s.default);t.default=h},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(8),d=n(u),s=o(5),f=n(s),c=o(51),p=n(c),_=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.set('tabindex',-1),e.keystrokes=new p.default;var o=e.bindTemplate;return e.template=new f.default({tag:'li',attributes:{class:['ck-list__item',o.to('class'),o.if('isActive','ck-list__item_active')],style:o.to('style'),tabindex:o.to('tabindex')},children:[{text:o.to('label')}],on:{click:o.to('execute')}}),e}return l(t,e),i(t,[{key:'init',value:function(){var e=this,t=function(t,o){e.fire('execute'),o()};this.keystrokes.listenTo(this.element),this.keystrokes.set('Enter',t),this.keystrokes.set('Space',t)}},{key:'focus',value:function(){this.element.focus()}}]),t}(d.default);t.default=_},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){var o=new r.default(t);o.bind('label','isOn','isEnabled','withText','keystroke','tooltip').to(e);var n=new d.default(t);return new i.default(t,o,n)};var a=o(24),r=n(a),l=o(490),i=n(l),u=o(491),d=n(u)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(8),s=n(d),f=o(5),c=n(f),p=o(72),_=n(p),m=o(51),g=n(m),y=function(e){function t(e,o,n){a(this,t);var l=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c.default.extend(o.template,{attributes:{class:['ck-dropdown__button']}}),l.buttonView=o,l.panelView=n,l.set('isOpen',!1),l.focusTracker=new _.default,l.keystrokes=new g.default,l.template=new c.default({tag:'div',attributes:{class:['ck-dropdown']},children:[o,n]}),l.listenTo(o,'execute',function(){l.isOpen=!l.isOpen}),n.bind('isVisible').to(l,'isOpen'),l}return l(t,e),i(t,[{key:'init',value:function(){var e=this;this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);var o=function(t,o){e.isOpen&&(e.buttonView.focus(),e.isOpen=!1,o())};this.keystrokes.set('arrowdown',function(t,o){e.buttonView.isEnabled&&!e.isOpen&&(e.isOpen=!0,o())}),this.keystrokes.set('arrowright',function(t,o){e.isOpen&&o()}),this.keystrokes.set('arrowleft',o),this.keystrokes.set('esc',o),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'init',this).call(this)}},{key:'focus',value:function(){this.buttonView.focus()}}]),t}(s.default);t.default=y},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=o(8),u=n(i),d=o(5),s=n(d),f=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=o.bindTemplate;return o.set('isVisible',!1),o.children=o.createCollection(),o.template=new s.default({tag:'div',attributes:{class:['ck-reset','ck-dropdown__panel',n.if('isVisible','ck-dropdown__panel-visible')]},children:o.children,on:{selectstart:n.to(function(e){return e.preventDefault()})}}),o}return l(t,e),t}(u.default);t.default=f},function(e,t,o){var n=o(493);'string'==typeof n&&(n=[[e.i,n,'']]);var a={},r;a.transform=r;o(36)(n,a);n.locals&&(e.exports=n.locals),!1},function(e,t,o){t=e.exports=o(35)(void 0),t.push([e.i,'.ck-heading_heading1{font-size:1.5em}.ck-heading_heading2{font-size:1.3em}.ck-heading_heading3{font-size:1.1em}[class*=ck-heading_]{line-height:21.6px;padding:9.6px}[class*=ck-heading_heading]{font-weight:700}.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}',''])},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(3),d=n(u),s=o(265),f=n(s),c=o(497),p=n(c),_=o(501),m=n(_),g=o(44);o(511);var y=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor,t=e.plugins.get('ContextualToolbar');t&&this.listenTo(t,'show',function(t){var o=e.editing.view.selection.getSelectedElement();o&&(0,g.isImageWidget)(o)&&t.stop()},{priority:'high'})}}],[{key:'requires',get:function(){return[f.default,p.default,m.default]}},{key:'pluginName',get:function(){return'Image'}}]),t}(d.default);t.default=y},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(t,o,n,a){var r=t.name.split(':'),l=r[0]+':'+r[1];if(n.consume(o.item,l)){var i=a.mapper.toViewElement(o.item),u=i.getChild(0),d=r[0];'removeAttribute'==d?u.removeAttribute(o.attributeKey):u.setAttribute(o.attributeKey,o.attributeNewValue),e&&e(u,d)}}}function r(e,t,o){t=t.slice();for(var n={name:e.name,attributes:e.attributes,inside:t};t.length&&!o.check(n);){var a=t.pop(),r='string'==typeof a?a:a.name;if(o.limits.has(r))return null}return t.length?t:null}Object.defineProperty(t,'__esModule',{value:!0}),t.viewFigureToModel=function(){return function(e,t,o,n){if(o.test(t.input,{name:!0,class:'image'})&&n.schema.check({name:'image',inside:t.context,attributes:'src'})){var a=Array.from(t.input.getChildren()).find(function(e){return e.is('img')});if(a&&a.hasAttribute('src')&&o.test(a,{name:!0})){var r=n.convertItem(a,o,t);t.context.push(r);var l=n.convertChildren(t.input,o,t);t.context.pop(),f.default.insert(i.default.createAt(r),l),t.output=r}}}},t.createImageAttributeConverter=function(e,t,o){var n=!0,r=!1,l;try{for(var i=e[Symbol.iterator](),u,d;!(n=(u=i.next()).done);n=!0)d=u.value,d.on('addAttribute:'+t+':image',a(o)),d.on('changeAttribute:'+t+':image',a(o)),d.on('removeAttribute:'+t+':image',a(o))}catch(e){r=!0,l=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw l}}},t.convertHoistableImage=function(e,t,o,n){var a=t.input;if(o.test(a,{name:!0,attribute:['src']})){var l=r({name:'image',attributes:['src']},t.context,n.schema);if(l){var i=Object.assign({},t);i.context=l,t.output=n.convertItem(a,o,i),c.add(t.output)}}},t.hoistImageThroughElement=function(e,t){if(t.output&&t.output.is('element')){for(var o=[],n=t.output.childCount-1,a;0<=n;n--)if(a=t.output.getChild(n),c.has(a)){var r=t.output.childCount-n-1,l=null;0<r&&(l=t.output.clone(!1),l.appendChildren(t.output.removeChildren(n+1,r))),a.remove(),o.shift(),l&&o.unshift(l),o.unshift(a),0<t.output.childCount&&o.unshift(t.output)}o.length&&(t.output=new d.default(o))}};var l=o(1),i=n(l),u=o(39),d=n(u),s=o(21),f=n(s),c=new WeakSet},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){return e&&t&&e.priority==t.priority&&i(e.class)==i(t.class)}function l(e,t){if(e.priority>t.priority)return!0;return!(e.priority<t.priority)&&i(e.class)>i(t.class)}function i(e){return Array.isArray(e)?e.sort().join(','):e}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(9),s=n(d),f=o(4),c=n(f),p=function(){function e(){a(this,e),this._stack=[]}return u(e,[{key:'add',value:function(e){var t=this._stack,o=t[0];this._insertDescriptor(e);var n=t[0];o===n||r(o,n)||this.fire('change:top',{oldDescriptor:o,newDescriptor:n})}},{key:'remove',value:function(e){var t=this._stack,o=t[0];this._removeDescriptor(e);var n=t[0];o===n||r(o,n)||this.fire('change:top',{oldDescriptor:o,newDescriptor:n})}},{key:'_insertDescriptor',value:function(e){var t=this._stack,o=t.findIndex(function(t){return t.id===e.id});if(!r(e,t[o])){-1<o&&t.splice(o,1);for(var n=0;t[n]&&l(t[n],e);)n++;t.splice(n,0,e)}}},{key:'_removeDescriptor',value:function(e){var t=this._stack,o=t.findIndex(function(t){return t.id===e.id});-1<o&&t.splice(o,1)}}]),e}();t.default=p,(0,c.default)(p,s.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return e==C.keyCodes.arrowright||e==C.keyCodes.arrowleft||e==C.keyCodes.arrowup||e==C.keyCodes.arrowdown}function u(e){return e==C.keyCodes.delete||e==C.keyCodes.backspace}function d(e){for(;e;){if(e instanceof P.default&&!(e instanceof x.default))return!0;e=e.parent}return!1}Object.defineProperty(t,'__esModule',{value:!0});var s=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),f=o(3),c=n(f),p=o(498),_=n(p),m=o(2),g=n(m),y=o(106),b=n(y),h=o(6),v=n(h),k=o(87),P=n(k),w=o(251),x=n(w),M=o(156),C=o(27);o(499);var O=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:'init',value:function(){var e=this,t=this.editor.editing.view,o;this.editor.editing.modelToView.on('selection',function(e,t,n,a){o&&o.hasClass(M.WIDGET_SELECTED_CLASS_NAME)&&o.removeClass(M.WIDGET_SELECTED_CLASS_NAME);var r=a.viewSelection,l=r.getSelectedElement();l&&(0,M.isWidget)(l)&&(r.setFake(!0,{label:(0,M.getLabel)(l)}),l.addClass(M.WIDGET_SELECTED_CLASS_NAME),o=l)},{priority:'low'}),t.addObserver(_.default),this.listenTo(t,'mousedown',function(){return e._onMousedown.apply(e,arguments)}),this.listenTo(t,'keydown',function(){return e._onKeydown.apply(e,arguments)},{priority:'high'})}},{key:'_onMousedown',value:function(e,t){var o=this,n=this.editor,a=n.editing.view,r=t.target;if(!d(r)&&((0,M.isWidget)(r)||(r=r.findAncestor(M.isWidget),!!r))){t.preventDefault(),a.isFocused||a.focus();var l=n.editing.mapper.toModelElement(r);n.document.enqueueChanges(function(){o._setSelectionOverElement(l)})}}},{key:'_onKeydown',value:function(e,t){var o=t.keyCode,n=o==C.keyCodes.delete||o==C.keyCodes.arrowdown||o==C.keyCodes.arrowright;(u(o)&&this._handleDelete(n)||i(o)&&this._handleArrowKeys(n))&&(t.preventDefault(),e.stop())}},{key:'_handleDelete',value:function(e){var t=this,o=this.editor.document,n=o.selection;if(n.isCollapsed){var a=this._getObjectElementNextToSelection(e);if(a)return o.enqueueChanges(function(){var e=n.anchor.parent;if(e.isEmpty){var r=o.batch();r.remove(e)}t._setSelectionOverElement(a)}),!0}}},{key:'_handleArrowKeys',value:function(e){var t=this,o=this.editor.document,n=o.schema,a=o.selection,r=a.getSelectedElement();if(r&&n.objects.has(r.name)){var l=e?a.getLastPosition():a.getFirstPosition(),i=o.getNearestSelectionRange(l,e?'forward':'backward');return i&&o.enqueueChanges(function(){a.setRanges([i])}),!0}if(a.isCollapsed){var u=this._getObjectElementNextToSelection(e);if(u instanceof v.default&&o.schema.objects.has(u.name))return o.enqueueChanges(function(){t._setSelectionOverElement(u)}),!0}}},{key:'_setSelectionOverElement',value:function(e){this.editor.document.selection.setRanges([g.default.createOn(e)])}},{key:'_getObjectElementNextToSelection',value:function(e){var t=this.editor.document,o=t.schema,n=t.selection,a=this.editor.data,r=b.default.createFromSelection(n);a.modifySelection(r,{direction:e?'forward':'backward'});var l=e?r.focus.nodeBefore:r.focus.nodeAfter;return l instanceof v.default&&o.objects.has(l.name)?l:null}}],[{key:'pluginName',get:function(){return'Widget'}}]),t}(c.default);t.default=O},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(71),u=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.domEventType='mousedown',o}return r(t,e),l(t,[{key:'onDomEvent',value:function(e){this.fire(e.type,e)}}]),t}(u.default);t.default=d},function(e,t,o){var n=o(500);'string'==typeof n&&(n=[[e.i,n,'']]);var a={},r;a.transform=r;o(36)(n,a);n.locals&&(e.exports=n.locals),!1},function(e,t,o){t=e.exports=o(35)(void 0),t.push([e.i,'.ck-widget{margin:.8em 0;padding:0}.ck-widget.ck-widget_selected,.ck-widget.ck-widget_selected:hover{outline:3px solid #6ab5f9}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected{outline:3px solid #ddd}.ck-widget:hover{outline:3px solid #ffd25c}.ck-widget .ck-editable.ck-editable_focused,.ck-widget .ck-editable:focus{outline:1px solid #6ab5f9;box-shadow:inset 2px 2px 3px #e6e6e6;background-color:#fff}',''])},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(3),d=n(u),s=o(24),f=n(s),c=o(502),p=n(c),_=o(266),m=n(_),g=o(504),y=n(g),b=o(157),h=n(b),v=o(508),k=n(v),P=o(271);o(509);var w=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){this._createButton(),this._createForm()}},{key:'_createButton',value:function(){var e=this,o=this.editor,n=o.commands.get('imageTextAlternative'),a=o.t;o.ui.componentFactory.add('imageTextAlternative',function(t){var o=new f.default(t);return o.set({label:a('Change image text alternative'),icon:k.default,tooltip:!0}),o.bind('isEnabled').to(n,'isEnabled'),e.listenTo(o,'execute',function(){return e._showForm()}),o})}},{key:'_createForm',value:function(){var e=this,t=this.editor,o=t.editing.view;this._balloon=this.editor.plugins.get('ContextualBalloon'),this._form=new y.default(t.locale),this.listenTo(this._form,'submit',function(){t.execute('imageTextAlternative',{newValue:e._form.labeledInput.inputView.element.value}),e._hideForm(!0)}),this.listenTo(this._form,'cancel',function(){e._hideForm(!0)}),this._form.keystrokes.set('Esc',function(t,o){e._hideForm(!0),o()}),this.listenTo(o,'render',function(){e._isVisible&&(0,P.repositionContextualBalloon)(t)},{priority:'low'}),this.listenTo(t.ui.focusTracker,'change:isFocused',function(t,o,n){n||e._hideForm()},{priority:'low'}),(0,m.default)({emitter:this._form,activator:function(){return e._isVisible},contextElements:[this._form.element],callback:function(){return e._hideForm()}})}},{key:'_showForm',value:function(){if(!this._isVisible){var e=this.editor,t=e.commands.get('imageTextAlternative'),o=this._form.labeledInput;this._balloon.hasView(this._form)||this._balloon.add({view:this._form,position:(0,P.getBalloonPositionData)(e)}),o.value=o.inputView.element.value=t.value||'',this._form.labeledInput.select()}}},{key:'_hideForm',value:function(e){this._isVisible&&(this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}},{key:'_isVisible',get:function(){return this._balloon.visibleView==this._form}}],[{key:'requires',get:function(){return[p.default,h.default]}},{key:'pluginName',get:function(){return'ImageTextAlternative'}}]),t}(d.default);t.default=w},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(503),d=n(u),s=o(3),f=n(s),c=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){this.editor.commands.add('imageTextAlternative',new d.default(this.editor))}}]),t}(f.default);t.default=c},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(11),u=function(e){return e&&e.__esModule?e:{default:e}}(i),d=o(44),s=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),l(t,[{key:'refresh',value:function(){var e=this.editor.document.selection.getSelectedElement();this.isEnabled=(0,d.isImage)(e),this.value=(0,d.isImage)(e)&&e.hasAttribute('alt')&&e.getAttribute('alt')}},{key:'execute',value:function(e){var t=this.editor.document,o=t.selection.getSelectedElement();t.enqueueChanges(function(){var n=e.batch||t.batch();n.setAttribute(o,'alt',e.newValue)})}}]),t}(u.default);t.default=s},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(8),s=n(d),f=o(24),c=n(f),p=o(5),_=n(p),m=o(267),g=n(m),y=o(268),b=n(y),h=o(269),v=n(h),k=o(51),P=n(k),w=function(e){function o(e){a(this,o);var n=r(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e)),l=n.locale.t;return n.keystrokes=new P.default,n.labeledInput=n._createLabeledInputView(),n.saveButtonView=n._createButton(l('Save')),n.saveButtonView.type='submit',n.cancelButtonView=n._createButton(l('Cancel'),'cancel'),_.default.extend(n.saveButtonView.template,{attributes:{class:['ck-button-action']}}),n.template=new _.default({tag:'form',attributes:{class:['cke-text-alternative-form']},children:[n.labeledInput,{tag:'div',attributes:{class:['cke-text-alternative-form__actions']},children:[n.saveButtonView,n.cancelButtonView]}]}),(0,v.default)({view:n}),n}return l(o,e),i(o,[{key:'init',value:function(){u(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),'init',this).call(this),this.keystrokes.listenTo(this.element)}},{key:'_createButton',value:function(e,t){var o=new c.default(this.locale);return o.label=e,o.withText=!0,t&&o.delegate('execute').to(this,t),o}},{key:'_createLabeledInputView',value:function(){var e=this.locale.t,t=new g.default(this.locale,b.default);return t.label=e('Text alternative'),t}}]),o}(s.default);t.default=w},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=o(8),u=n(i),d=o(5),s=n(d),f=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));o.set('text'),o.set('for');var n=o.bindTemplate;return o.template=new s.default({tag:'label',attributes:{class:['ck-label'],for:n.to('for')},children:[{text:n.to('text')}]}),o}return l(t,e),t}(u.default);t.default=f},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o){var n=e(t,o),a=n.left,r=n.top,l=n.name;return[l,o.clone().moveTo(a,r)]}function r(e,t,o,n,r){var l=0,u=0,d=o.getArea(),s,f;return e.some(function(e){function c(){u=b,l=y,s=g,f=m}var p=a(e,t,o),_=i(p,2),m=_[0],g=_[1],y,b;if(n)if(r){var h=n.getIntersection(r);y=h?h.getIntersectionArea(g):0}else y=n.getIntersectionArea(g);return r&&(b=r.getIntersectionArea(g)),r&&!n?b>u&&c():!r&&n?y>l&&c():b>u&&y>=l?c():b>=u&&y>l&&c(),y===d}),s?[f,s]:null}function l(e){var t=e.left,o=e.top,n=d.default.window,a=n.scrollX,r=n.scrollY;return{left:t+a,top:o+r}}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){var o=[],n=!0,a=!1,r;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();t.getOptimalPosition=function(e){var t=e.element,o=e.target,n=e.positions,u=e.limiter,s=e.fitInViewport;'function'==typeof o&&(o=o()),'function'==typeof u&&(u=u());var c=(0,p.default)(t.parentElement),_=new f.default(t),g=new f.default(o),y,b;if(!u&&!s){var h=a(n[0],g,_),v=i(h,2);b=v[0],y=v[1]}else{var k=u&&new f.default(u).getVisible(),P=s&&new f.default(d.default.window),w=r(n,g,_,k,P)||a(n[0],g,_),x=i(w,2);b=x[0],y=x[1]}var M=l(y),C=M.left,O=M.top;if(c){var A=l(new f.default(c)),T=(0,m.default)(c);C-=A.left,O-=A.top,C+=c.scrollLeft,O+=c.scrollTop,C-=T.left,O-=T.top}return{left:C,top:O,name:b}};var u=o(34),d=n(u),s=o(254),f=n(s),c=o(507),p=n(c),_=o(256),m=n(_)},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){for(;e&&'html'!=e.tagName.toLowerCase();){if('static'!=a.default.window.getComputedStyle(e).position)return e;e=e.parentElement}return null};var n=o(34),a=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e){e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M5.414 6.749L2.903 4.237a.49.49 0 1 1 .694-.694L6.394 6.34a10.662 10.662 0 0 1 2.127-.53c.366-.051.734-.081 1.103-.095a10.628 10.628 0 0 1 1.524.07c1.109.134 2.204.449 3.243.936a9.65 9.65 0 0 1 2.12 1.331c.276.231.542.484.784.766.18.211.349.439.488.692.169.307.301.664.301 1.039 0 .375-.132.732-.301 1.039a4.143 4.143 0 0 1-.488.691 6.668 6.668 0 0 1-.784.767 9.628 9.628 0 0 1-2.092 1.318l2.196 2.197a.49.49 0 1 1-.694.694l-2.485-2.484-.008.003-.931-.931.009-.003-6.215-6.215a9.887 9.887 0 0 0-.945.444l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.483 8.596a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2 1.497 1.497 0 0 0-.108.241.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226 2.613 2.613 0 0 0 .234.379l3.463 3.594a10.565 10.565 0 0 1-2.125-1 9.096 9.096 0 0 1-1.015-.721 6.672 6.672 0 0 1-.798-.764 4.325 4.325 0 0 1-.502-.69c-.184-.319-.329-.693-.329-1.089 0-.375.131-.732.301-1.039.139-.253.307-.481.488-.692.225-.263.471-.5.728-.719a9.538 9.538 0 0 1 2.096-1.341l.019-.009zm6.674.401a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112 6.86 6.86 0 0 0 .727-.613c.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286a1.966 1.966 0 0 0 .148-.292.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891 10.119 10.119 0 0 0-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.449 2.449 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>'},function(e,t,o){var n=o(510);'string'==typeof n&&(n=[[e.i,n,'']]);var a={},r;a.transform=r;o(36)(n,a);n.locals&&(e.exports=n.locals),!1},function(e,t,o){t=e.exports=o(35)(void 0),t.push([e.i,'.cke-text-alternative-form{padding:1.2em;overflow:hidden}.cke-text-alternative-form .ck-label{margin-bottom:.4em}.cke-text-alternative-form__actions{clear:both;padding-top:1.2em}.cke-text-alternative-form__actions .ck-button{float:right}.cke-text-alternative-form__actions .ck-button+.ck-button{margin-right:.64em}.cke-text-alternative-form__actions .ck-button+.ck-button+.ck-button{float:left}',''])},function(e,t,o){var n=o(512);'string'==typeof n&&(n=[[e.i,n,'']]);var a={},r;a.transform=r;o(36)(n,a);n.locals&&(e.exports=n.locals),!1},function(e,t,o){t=e.exports=o(35)(void 0),t.push([e.i,'.ck-editor__editable .image{text-align:center;clear:both}.ck-editor__editable .image.image-style-side{float:right;margin-left:.8em;max-width:50%}.ck-editor__editable .image>img{display:block;margin:0 auto;max-width:100%}',''])},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(3),d=n(u),s=o(514),f=n(s);o(519);var c=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'requires',get:function(){return[f.default]}},{key:'pluginName',get:function(){return'ImageCaption'}}]),t}(d.default);t.default=c},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,o,n){if('insert'===t){var a=new m.default({boundaries:o.range,ignoreElementEnd:!0}),r=function(e){var t=e.item;'elementStart'==e.type&&(0,S.isImage)(t)&&!(0,E.getCaptionFromImage)(t)&&n.document.enqueueChanges(function(){(0,E.getCaptionFromImage)(t)||n.insert(M.default.createAt(t,'end'),new y.default('caption'))})},l=!0,i=!1,u;try{for(var d=a[Symbol.iterator](),s,f;!(l=(s=d.next()).done);l=!0)f=s.value,r(f)}catch(e){i=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(i)throw u}}}}function u(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:!0;return function(o,n,a,r){var l=n.item;if((l.childCount||t)&&(0,S.isImage)(l.parent)){if(!a.consume(n.item,'insert'))return;var i=r.mapper.toViewElement(n.range.start.parent),u=e instanceof k.default?e.clone(!0):e();l.childCount||u.addClass('ck-hidden'),d(u,n.item,i,r.mapper)}}}function d(e,t,o,n){var a=O.default.createAt(o,'end');w.default.insert(a,e),n.bindElements(t,e)}function s(e){var t=e.getAncestors({includeSelf:!0}),o=t.find(function(e){return'caption'==e.name});return o&&o.parent&&'image'==o.parent.name?o:null}Object.defineProperty(t,'__esModule',{value:!0});var f=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),c=o(3),p=n(c),_=o(54),m=n(_),g=o(6),y=n(g),b=o(48),h=n(b),v=o(26),k=n(v),P=o(90),w=n(P),x=o(1),M=n(x),C=o(20),O=n(C),A=o(43),T=n(A),S=o(44),E=o(515),R=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),f(t,[{key:'init',value:function(){var e=this,o=this.editor,n=o.document,a=o.editing.view,r=n.schema,l=o.data,d=o.editing,s=o.t;this._createCaption=(0,E.captionElementCreator)(a,s('Enter image caption')),r.registerItem('caption','$block'),r.allow({name:'$inline',inside:'caption'}),r.allow({name:'caption',inside:'image'}),r.limits.add('caption'),n.on('change',i),(0,T.default)().for(l.viewToModel).from(E.matchImageCaption).toElement('caption'),l.modelToView.on('insert:caption',u(new h.default('figcaption'),!1)),d.modelToView.on('insert:caption',u(this._createCaption)),d.modelToView.on('insert',function(t,o){return e._fixCaptionVisibility(o.item)},{priority:'high'}),d.modelToView.on('remove',function(t,o){return e._fixCaptionVisibility(o.sourcePosition.parent)},{priority:'high'}),this.listenTo(a,'render',function(){return e._updateCaptionVisibility()},{priority:'high'})}},{key:'_updateCaptionVisibility',value:function(){var e=this.editor.editing.mapper,t=this.editor.editing.view.selection,o=t.getSelectedElement(),n;if(this._lastSelectedCaption&&!this._lastSelectedCaption.childCount&&this._lastSelectedCaption.addClass('ck-hidden'),o&&(0,S.isImageWidget)(o)){var a=e.toModelElement(o),r=(0,E.getCaptionFromImage)(a);n=e.toViewElement(r)}(0,E.isCaption)(t.editableElement)&&(n=t.editableElement),n&&(n.removeClass('ck-hidden'),this._lastSelectedCaption=n)}},{key:'_fixCaptionVisibility',value:function(e){var t=s(e),o=this.editor.editing.mapper;if(t){var n=o.toViewElement(t);n&&(t.childCount?n.removeClass('ck-hidden'):n.addClass('ck-hidden'))}}}]),t}(p.default);t.default=R},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0}),t.captionElementCreator=function(e,t){return function(){var o=new i.default('figcaption');return o.document=e,o.setCustomProperty(s,!0),(0,u.attachPlaceholder)(o,t),(0,d.toWidgetEditable)(o)}},t.isCaption=function(e){return!!e.getCustomProperty(s)},t.getCaptionFromImage=function(e){var t=!0,o=!1,n;try{for(var a=e.getChildren()[Symbol.iterator](),l,i;!(t=(l=a.next()).done);t=!0)if(i=l.value,i instanceof r.default&&'caption'==i.name)return i}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return null},t.matchImageCaption=function(e){var t=e.parent;return'figcaption'==e.name&&t&&'figure'==t.name&&t.hasClass('image')?{name:!0}:null};var a=o(6),r=n(a),l=o(87),i=n(l),u=o(516),d=o(156),s=Symbol('imageCaption')},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.document;e.removeClass('ck-placeholder'),e.removeAttribute('data-placeholder'),m.has(t)&&m.get(t).delete(e)}function r(e){var t=m.get(e),o=!0,n=!1,a;try{for(var r=t[Symbol.iterator](),u;!(o=(u=r.next()).done);o=!0){var d=u.value,s=i(d,2),f=s[0],c=s[1];l(f,c)}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}function l(e,t){var o=e.document;if(o){var n=o.selection,a=n.anchor;if(t&&!t())return void e.removeClass('ck-placeholder');var r=!Array.from(e.getChildren()).some(function(e){return!e.is('uiElement')});return!o.isFocused&&r?void e.addClass('ck-placeholder'):void(r&&a&&a.parent!==e?e.addClass('ck-placeholder'):e.removeClass('ck-placeholder'))}}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){var o=[],n=!0,a=!1,r;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();t.attachPlaceholder=function(e,t,o){var n=e.document;if(!n)throw new p.default('view-placeholder-element-is-detached: Provided element is not placed in document.');a(e),m.has(n)||(m.set(n,new Map),_.listenTo(n,'render',function(){return r(n)},{priority:'high'})),e.setAttribute('data-placeholder',t),m.get(n).set(e,o),l(e,o)},t.detachPlaceholder=a;var u=o(46),d=n(u),s=o(9),f=n(s),c=o(0),p=n(c);o(517);var _={};(0,d.default)(_,f.default);var m=new WeakMap},function(e,t,o){var n=o(518);'string'==typeof n&&(n=[[e.i,n,'']]);var a={},r;a.transform=r;o(36)(n,a);n.locals&&(e.exports=n.locals),!1},function(e,t,o){t=e.exports=o(35)(void 0),t.push([e.i,'.ck-placeholder:before{content:attr(data-placeholder);cursor:text;color:#c2c2c2;pointer-events:none}',''])},function(e,t,o){var n=o(520);'string'==typeof n&&(n=[[e.i,n,'']]);var a={},r;a.transform=r;o(36)(n,a);n.locals&&(e.exports=n.locals),!1},function(e,t,o){t=e.exports=o(35)(void 0),t.push([e.i,'.ck-editor__editable .image>figcaption{background-color:#f7f7f7;padding:.8em;font-size:.75rem;color:#858585;outline-offset:-1px}',''])},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(3),d=n(u),s=o(522),f=n(s),c=o(24),p=n(c),_=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor.config.get('image.styles'),t=!0,o=!1,n;try{for(var a=e[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,this._createButton(l)}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}}},{key:'_createButton',value:function(e){var t=this,o=this.editor,n=o.commands.get(e.name);o.ui.componentFactory.add(e.name,function(a){var r=new p.default(a);return r.set({label:e.title,icon:e.icon,tooltip:!0}),r.bind('isEnabled').to(n,'isEnabled'),r.bind('isOn').to(n,'value'),t.listenTo(r,'execute',function(){return o.execute(e.name)}),r})}}],[{key:'requires',get:function(){return[f.default]}},{key:'pluginName',get:function(){return'ImageStyle'}}]),t}(d.default);t.default=_},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(3),d=n(u),s=o(523),f=n(s),c=o(265),p=n(c),_=o(524),m=o(525),g=n(m),y=o(526),b=n(y),h=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor,o=e.t,t=e.document,n=t.schema,a=e.data,r=e.editing;e.config.define('image.styles',[{name:'imageStyleFull',title:o('Full size image'),icon:g.default,value:null},{name:'imageStyleSide',title:o('Side image'),icon:b.default,value:'side',className:'image-style-side'}]);var l=e.config.get('image.styles');n.allow({name:'image',attributes:'imageStyle',inside:'$root'});var i=(0,_.modelToViewStyleAttribute)(l);r.modelToView.on('addAttribute:imageStyle:image',i),a.modelToView.on('addAttribute:imageStyle:image',i),r.modelToView.on('changeAttribute:imageStyle:image',i),a.modelToView.on('changeAttribute:imageStyle:image',i),r.modelToView.on('removeAttribute:imageStyle:image',i),a.modelToView.on('removeAttribute:imageStyle:image',i),a.viewToModel.on('element:figure',(0,_.viewToModelStyleAttribute)(l),{priority:'low'});var u=!0,d=!1,s;try{for(var c=l[Symbol.iterator](),p,m;!(u=(p=c.next()).done);u=!0)m=p.value,e.commands.add(m.name,new f.default(e,m))}catch(e){d=!0,s=e}finally{try{!u&&c.return&&c.return()}finally{if(d)throw s}}}}],[{key:'requires',get:function(){return[p.default]}}]),t}(d.default);t.default=h},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(11),u=function(e){return e&&e.__esModule?e:{default:e}}(i),d=o(44),s=function(e){function t(e,o){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.style=o,r}return r(t,e),l(t,[{key:'refresh',value:function(){var e=this.editor.document.selection.getSelectedElement();this.isEnabled=(0,d.isImage)(e),this.value=!!e&&(null===this.style.value?!e.hasAttribute('imageStyle'):e.getAttribute('imageStyle')==this.style.value)}},{key:'execute',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!this.value){var o=this.editor.document,n=o.selection.getSelectedElement();o.enqueueChanges(function(){var a=t.batch||o.batch();a.setAttribute(n,'imageStyle',e.style.value)})}}}]),t}(u.default);t.default=s},function(e,t,o){'use strict';function n(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function a(e,t,o,a){var r=t.input,l=t.output;if(o.test(r,{class:e.className})&&(0,u.isImage)(l)){var i=[].concat(n(l.getAttributeKeys()),['imageStyle']);a.schema.check({name:'image',inside:t.context,attributes:i})&&(o.consume(r,{class:e.className}),l.setAttribute('imageStyle',e.value))}}function r(e,t){var o=!0,n=!1,a;try{for(var r=t[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)if(i=l.value,i.value===e)return i}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}function l(e,t,o){return t&&('changeAttribute'==e||'removeAttribute'==e)&&(o.removeClass(t.className),!0)}function i(e,t,o){return t&&('addAttribute'==e||'changeAttribute'==e)&&(o.addClass(t.className),!0)}Object.defineProperty(t,'__esModule',{value:!0}),t.modelToViewStyleAttribute=function(e){return function(t,o,n,a){var u=t.name.split(':')[0],d=u+':imageStyle';if(n.test(o.item,d)){var s=r(o.attributeNewValue,e),f=r(o.attributeOldValue,e),c=a.mapper.toViewElement(o.item),p=l(u,f,c),_=i(u,s,c);(p||_)&&n.consume(o.item,d)}}},t.viewToModelStyleAttribute=function(e){var t=e.filter(function(e){return null!==e.value});return function(e,o,n,r){var l=!0,i=!1,u;try{for(var d=t[Symbol.iterator](),s,f;!(l=(s=d.next()).done);l=!0)f=s.value,a(f,o,n,r)}catch(e){i=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(i)throw u}}}};var u=o(44)},function(e){e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h16v1H2v-1zm15-2H3V6h14v8zm-1-7H4v6h12V7zM2 3h16v1H2V3z"/></svg>'},function(e){e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 16H2v-1h16v1zM6.978 13H2v-1h4.978v1zM18 6v7H9V6h9zm-1 6V7h-7v5h7zM6.978 10H2V9h4.978v1zm0-3H2V6h4.978v1zM18 4H2V3h16v1z"/></svg>'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(5),d=n(u),s=o(3),f=n(s),c=o(259),p=n(c),_=o(157),m=n(_),g=o(44),y=o(271),b=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'afterInit',value:function(){var e=this,t=this.editor,o=t.config.get('image.toolbar');o&&o.length&&(this._balloon=this.editor.plugins.get('ContextualBalloon'),this._toolbar=new p.default,d.default.extend(this._toolbar.template,{attributes:{class:'ck-editor-toolbar'}}),this._toolbar.fillFromConfig(o,t.ui.componentFactory),this.listenTo(t.editing.view,'render',function(){e._checkIsVisible()},{priority:'low'}),this.listenTo(t.ui.focusTracker,'change:isFocused',function(){e._checkIsVisible()},{priority:'low'}))}},{key:'_checkIsVisible',value:function(){var e=this.editor;if(!e.ui.focusTracker.isFocused)this._hideToolbar();else{var t=e.editing.view,o=t.selection.getSelectedElement();o&&(0,g.isImageWidget)(o)?this._showToolbar():this._hideToolbar()}}},{key:'_showToolbar',value:function(){var e=this.editor;this._isVisible?(0,y.repositionContextualBalloon)(e):!this._balloon.hasView(this._toolbar)&&this._balloon.add({view:this._toolbar,position:(0,y.getBalloonPositionData)(e),balloonClassName:'ck-toolbar-container ck-editor-toolbar-container'})}},{key:'_hideToolbar',value:function(){this._isVisible&&this._balloon.remove(this._toolbar)}},{key:'_isVisible',get:function(){return this._balloon.visibleView==this._toolbar}}],[{key:'requires',get:function(){return[m.default]}},{key:'pluginName',get:function(){return'ImageToolbar'}}]),t}(f.default);t.default=b},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return e.getAncestors().find(function(e){return e instanceof b.default})}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(3),s=n(d),f=o(529),c=n(f),p=o(38),_=n(p),m=o(530),g=n(m),y=o(272),b=n(y),h=o(157),v=n(h),k=o(266),P=n(k),w=o(24),x=n(w),M=o(533),C=n(M),O=o(534),A=n(O);o(535);var T='Ctrl+K',S=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:'init',value:function(){var e=this.editor;e.editing.view.addObserver(c.default),this.formView=this._createForm(),this._balloon=e.plugins.get(v.default),this._createToolbarLinkButton(),this._attachActions()}},{key:'_createForm',value:function(){var e=this,t=this.editor,o=new C.default(t.locale),n=t.commands.get('link'),a=t.commands.get('unlink');return o.urlInputView.bind('value').to(n,'value'),o.urlInputView.bind('isReadOnly').to(n,'isEnabled',function(e){return!e}),o.saveButtonView.bind('isEnabled').to(n),o.unlinkButtonView.bind('isEnabled').to(a),this.listenTo(o,'submit',function(){t.execute('link',o.urlInputView.inputView.element.value),e._hidePanel(!0)}),this.listenTo(o,'unlink',function(){t.execute('unlink'),e._hidePanel(!0)}),this.listenTo(o,'cancel',function(){return e._hidePanel(!0)}),o.keystrokes.set('Esc',function(t,o){e._hidePanel(!0),o()}),o}},{key:'_createToolbarLinkButton',value:function(){var e=this,o=this.editor,n=o.commands.get('link'),a=o.t;o.keystrokes.set(T,function(){n.isEnabled&&e._showPanel(!0)}),o.ui.componentFactory.add('link',function(t){var o=new x.default(t);return o.isEnabled=!0,o.label=a('Link'),o.icon=A.default,o.keystroke=T,o.tooltip=!0,o.bind('isEnabled').to(n,'isEnabled'),e.listenTo(o,'execute',function(){return e._showPanel(!0)}),o})}},{key:'_attachActions',value:function(){var e=this,t=this.editor.editing.view;this.listenTo(t,'click',function(){var t=e._getSelectedLinkElement();t&&e._showPanel()}),this.editor.keystrokes.set('Tab',function(t,o){e._balloon.visibleView!==e.formView||e.formView.focusTracker.isFocused||(e.formView.focus(),o())},{priority:'high'}),this.editor.keystrokes.set('Esc',function(t,o){e._balloon.visibleView===e.formView&&(e._hidePanel(),o())}),(0,P.default)({emitter:this.formView,activator:function(){return e._balloon.hasView(e.formView)},contextElements:[this._balloon.view.element],callback:function(){return e._hidePanel()}})}},{key:'_showPanel',value:function(e){var t=this,o=this.editor,n=o.commands.get('link'),a=o.commands.get('unlink'),r=o.editing,l=r.view,i=l.selection.isCollapsed,u=this._getSelectedLinkElement();this.formView.unlinkButtonView.isVisible=a.isEnabled,this.formView.urlInputView.inputView.element.value=n.value||'',this.listenTo(l,'render',function(){var e=t._getSelectedLinkElement(),o=l.selection.isCollapsed;i&&!o||u!==e?t._hidePanel(!0):t._balloon.updatePosition(t._getBalloonPositionData())}),this._balloon.hasView(this.formView)?e&&this._balloon.visibleView===this.formView&&this.formView.urlInputView.select():(this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),e&&this.formView.urlInputView.select())}},{key:'_hidePanel',value:function(e){this.stopListening(this.editor.editing.view,'render'),this._balloon.hasView(this.formView)&&(e&&this.editor.editing.view.focus(),this.stopListening(this.editor.editing.view,'render'),this._balloon.remove(this.formView))}},{key:'_getBalloonPositionData',value:function(){var e=this.editor.editing.view,t=this._getSelectedLinkElement(),o=t?e.domConverter.mapViewToDom(t):e.domConverter.viewRangeToDom(e.selection.getFirstRange());return{target:o}}},{key:'_getSelectedLinkElement',value:function(){var e=this.editor.editing.view.selection;if(e.isCollapsed)return i(e.getFirstPosition());var t=e.getFirstRange().getTrimmed(),o=i(t.start),n=i(t.end);return o&&o==n?_.default.createIn(o).getTrimmed().isEqual(t)?o:null:null}}],[{key:'requires',get:function(){return[g.default,v.default]}},{key:'pluginName',get:function(){return'Link'}}]),t}(s.default);t.default=S},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(71),u=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.domEventType='click',o}return r(t,e),l(t,[{key:'onDomEvent',value:function(e){this.fire(e.type,e)}}]),t}(u.default);t.default=d},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(3),d=n(u),s=o(52),f=n(s),c=o(43),p=n(c),_=o(272),m=n(_),g=o(531),y=n(g),b=o(532),h=n(b),v=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor,t=e.data,o=e.editing;e.document.schema.allow({name:'$inline',attributes:'linkHref',inside:'$block'}),e.document.schema.allow({name:'$inline',attributes:'linkHref',inside:'$clipboardHolder'}),(0,f.default)().for(t.modelToView,o.modelToView).fromAttribute('linkHref').toElement(function(e){var t=new m.default('a',{href:e});return t.priority=5,t}),(0,p.default)().for(t.viewToModel).from({name:'a',attribute:{href:/.?/}}).toAttribute(function(e){return{key:'linkHref',value:e.getAttribute('href')}}),e.commands.add('link',new y.default(e)),e.commands.add('unlink',new h.default(e))}}]),t}(d.default);t.default=v},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(11),d=n(u),s=o(25),f=n(s),c=o(2),p=n(c),_=o(273),m=n(_),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'refresh',value:function(){var e=this.editor.document;this.value=e.selection.getAttribute('linkHref'),this.isEnabled=e.schema.checkAttributeInSelection(e.selection,'linkHref')}},{key:'execute',value:function(e){var t=this.editor.document,o=t.selection;t.enqueueChanges(function(){var n=t.batch();if(o.isCollapsed){var a=o.getFirstPosition();if(o.hasAttribute('linkHref')){var r=(0,m.default)(o.getFirstPosition(),o.getAttribute('linkHref'));n.setAttribute(r,'linkHref',e),o.setRanges([r])}else{var l=new f.default(e,{linkHref:e});n.insert(a,l),o.setRanges([p.default.createOn(l)])}}else{var i=t.schema.getValidRanges(o.getRanges(),'linkHref'),u=!0,d=!1,s;try{for(var c=i[Symbol.iterator](),_,g;!(u=(_=c.next()).done);u=!0)g=_.value,n.setAttribute(g,'linkHref',e)}catch(e){d=!0,s=e}finally{try{!u&&c.return&&c.return()}finally{if(d)throw s}}}})}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(11),d=n(u),s=o(273),f=n(s),c=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'refresh',value:function(){this.isEnabled=this.editor.document.selection.hasAttribute('linkHref')}},{key:'execute',value:function(){var e=this.editor.document,t=e.selection;e.enqueueChanges(function(){var o=t.isCollapsed?[(0,f.default)(t.getFirstPosition(),t.getAttribute('linkHref'))]:t.getRanges(),n=e.batch(),a=!0,r=!1,l;try{for(var i=o[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,n.removeAttribute(d,'linkHref')}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}})}}]),t}(d.default);t.default=c},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(8),s=n(d),f=o(5),c=n(f),p=o(153),_=n(p),m=o(24),g=n(m),y=o(267),b=n(y),h=o(268),v=n(h),k=o(269),P=n(k),w=o(72),x=n(w),M=o(155),C=n(M),O=o(51),A=n(O),T=function(e){function o(e){a(this,o);var n=r(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e)),l=e.t;n.focusTracker=new x.default,n.keystrokes=new A.default,n.urlInputView=n._createUrlInput(),n.saveButtonView=n._createButton(l('Save')),n.saveButtonView.type='submit',n.cancelButtonView=n._createButton(l('Cancel'),'cancel'),n.unlinkButtonView=n._createButton(l('Unlink'),'unlink'),n._focusables=new _.default,n._focusCycler=new C.default({focusables:n._focusables,focusTracker:n.focusTracker,keystrokeHandler:n.keystrokes,actions:{focusPrevious:'shift + tab',focusNext:'tab'}}),c.default.extend(n.saveButtonView.template,{attributes:{class:['ck-button-action']}}),n.template=new c.default({tag:'form',attributes:{class:['ck-link-form'],tabindex:'-1'},children:[n.urlInputView,{tag:'div',attributes:{class:['ck-link-form__actions']},children:[n.saveButtonView,n.cancelButtonView,n.unlinkButtonView]}]}),(0,P.default)({view:n});var t=[n.urlInputView,n.saveButtonView,n.cancelButtonView,n.unlinkButtonView];return t.forEach(function(e){n._focusables.add(e),n.focusTracker.add(e.element)}),n}return l(o,e),i(o,[{key:'init',value:function(){return this.keystrokes.listenTo(this.element),u(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),'init',this).call(this)}},{key:'focus',value:function(){this._focusCycler.focusFirst()}},{key:'_createUrlInput',value:function(){var e=this.locale.t,t=new b.default(this.locale,v.default);return t.label=e('Link URL'),t.inputView.placeholder='https://example.com',t}},{key:'_createButton',value:function(e,t){var o=new g.default(this.locale);return o.label=e,o.withText=!0,t&&o.delegate('execute').to(this,t),o}}]),o}(s.default);t.default=T},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="#222" fill-rule="evenodd"><path d="M14.2 10.956l1.227-1.227a3.995 3.995 0 0 0-.002-5.654 4 4 0 0 0-5.654-.002L7.698 6.145a3.995 3.995 0 0 0 .003 5.654c.39.39.84.682 1.32.878l-.305-.307.638-.638a2.99 2.99 0 0 1-.946-.64 2.995 2.995 0 0 1-.003-4.24l2.073-2.072a3 3 0 0 1 4.242 4.242l-1.226 1.227.707.707z"/><path d="M10.166 7.405c.41.192.795.457 1.133.796a3.995 3.995 0 0 1 .003 5.654l-2.073 2.072a4 4 0 0 1-5.654-.002 3.995 3.995 0 0 1-.002-5.654l1.362-1.363.707.707-1.362 1.363a3 3 0 0 0 4.243 4.243l2.072-2.073a2.995 2.995 0 0 0-.003-4.24 2.987 2.987 0 0 0-1.196-.733l.77-.77z"/></g></svg>'},function(e,t,o){var n=o(536);'string'==typeof n&&(n=[[e.i,n,'']]);var a={},r;a.transform=r;o(36)(n,a);n.locals&&(e.exports=n.locals),!1},function(e,t,o){t=e.exports=o(35)(void 0),t.push([e.i,'.ck-link-form{padding:1.2em;overflow:hidden}.ck-link-form:focus{outline:none}.ck-link-form .ck-label{margin-bottom:.4em}.ck-link-form__actions{clear:both;padding-top:1.2em}.ck-link-form__actions .ck-button{float:right}.ck-link-form__actions .ck-button+.ck-button{margin-right:.64em}.ck-link-form__actions .ck-button+.ck-button+.ck-button{float:left}',''])},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(538),d=n(u),s=o(543),f=n(s),c=o(544),p=n(c),_=o(3),m=n(_),g=o(24),y=n(g),b=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this,o=this.editor.t;this._addButton('numberedList',o('Numbered List'),f.default),this._addButton('bulletedList',o('Bulleted List'),p.default),this.listenTo(this.editor.editing.view,'enter',function(t,o){var n=e.editor.document,a=n.selection.getLastPosition().parent;n.selection.isCollapsed&&'listItem'==a.name&&a.isEmpty&&(e.editor.execute('outdentList'),o.preventDefault(),t.stop())});var t=function(t){return function(o,n){var a=e.editor.commands.get(t);a.isEnabled&&(e.editor.execute(t),n())}};this.editor.keystrokes.set('Tab',t('indentList')),this.editor.keystrokes.set('Shift+Tab',t('outdentList'))}},{key:'_addButton',value:function(e,t,o){var n=this,a=this.editor,r=a.commands.get(e);a.ui.componentFactory.add(e,function(l){var i=new y.default(l);return i.set({label:t,icon:o,tooltip:!0}),i.bind('isOn','isEnabled').to(r,'value','isEnabled'),n.listenTo(i,'execute',function(){return a.execute(e)}),i})}}],[{key:'requires',get:function(){return[d.default]}},{key:'pluginName',get:function(){return'List'}}]),t}(m.default);t.default=b},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=1,o=!0,n=!1,a;try{for(var r=e.getChildren()[Symbol.iterator](),l,u;!(o=(l=r.next()).done);o=!0)if(u=l.value,'ul'==u.name||'ol'==u.name){var d=!0,s=!1,f=void 0;try{for(var c=u.getChildren()[Symbol.iterator](),p,_;!(d=(p=c.next()).done);d=!0)_=p.value,t+=i(_)}catch(e){s=!0,f=e}finally{try{!d&&c.return&&c.return()}finally{if(s)throw f}}}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}return t}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(539),s=n(d),f=o(540),c=n(f),p=o(3),_=n(p),m=o(109),g=n(m),y=o(541),b=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:'init',value:function(){var e=this.editor,t=e.document.schema;t.registerItem('listItem','$block'),t.allow({name:'listItem',inside:'$root',attributes:['type','indent']}),t.requireAttributes('listItem',['type','indent']);var o=e.data,n=e.editing;this.editor.document.on('change',(0,y.modelChangePostFixer)(this.editor.document),{priority:'high'}),this.editor.document.on('change',function(e,t,o){if('move'==t){var a=!0,r=!1,l;try{for(var i=o.range.getItems()[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,d.is('listItem')&&n.mapper.unbindModelElement(d)}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}}},{priority:'high'}),n.mapper.registerViewToModelLength('li',i),o.mapper.registerViewToModelLength('li',i),n.mapper.on('modelToViewPosition',y.modelToViewPosition),n.mapper.on('viewToModelPosition',y.viewToModelPosition),o.mapper.on('modelToViewPosition',y.modelToViewPosition),n.modelToView.on('insert',y.modelViewSplitOnInsert,{priority:'high'}),n.modelToView.on('insert:listItem',y.modelViewInsertion),o.modelToView.on('insert',y.modelViewSplitOnInsert,{priority:'high'}),o.modelToView.on('insert:listItem',y.modelViewInsertion),n.modelToView.on('changeAttribute:type:listItem',y.modelViewChangeType),o.modelToView.on('changeAttribute:type:listItem',y.modelViewChangeType),n.modelToView.on('remove:listItem',y.modelViewRemove),n.modelToView.on('remove',y.modelViewMergeAfter,{priority:'low'}),o.modelToView.on('remove:listItem',y.modelViewRemove),o.modelToView.on('remove',y.modelViewMergeAfter,{priority:'low'}),n.modelToView.on('changeAttribute:indent:listItem',y.modelViewChangeIndent),o.modelToView.on('changeAttribute:indent:listItem',y.modelViewChangeIndent),o.viewToModel.on('element:ul',y.cleanList,{priority:'high'}),o.viewToModel.on('element:ol',y.cleanList,{priority:'high'}),o.viewToModel.on('element:li',y.cleanListItem,{priority:'high'}),o.viewToModel.on('element:li',y.viewModelConverter),o.on('insertContent',y.modelIndentPasteFixer,{priority:'high'}),e.commands.add('numberedList',new s.default(e,'numbered')),e.commands.add('bulletedList',new s.default(e,'bulleted')),e.commands.add('indentList',new c.default(e,'forward')),e.commands.add('outdentList',new c.default(e,'backward'))}}],[{key:'requires',get:function(){return[g.default]}}]),t}(_.default);t.default=b},function(t,o,n){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function l(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,o){var n=t?e[0]:e[e.length-1];if(n.is('listItem'))for(var a=n[t?'previousSibling':'nextSibling'],r=n.getAttribute('indent');a&&a.is('listItem')&&a.getAttribute('indent')>=o;)r>a.getAttribute('indent')&&(r=a.getAttribute('indent')),a.getAttribute('indent')==r&&e[t?'unshift':'push'](a),a=a[t?'previousSibling':'nextSibling']}function d(e,t){return t.check({name:'listItem',attributes:['type','indent'],inside:_.default.createBefore(e)})}Object.defineProperty(o,'__esModule',{value:!0});var s=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),f=n(11),c=a(f),p=n(1),_=a(p),m=n(60),g=a(m),y=function(t){function o(e,t){r(this,o);var n=l(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return n.type='bulleted'==t?'bulleted':'numbered',n}return i(o,t),s(o,[{key:'refresh',value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:'execute',value:function(){var t=this,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.document,a=Array.from(n.selection.getSelectedBlocks()).filter(function(e){return d(e,n.schema)}),r=!0===this.value;n.enqueueChanges(function(){var l=o.batch||n.batch();if(r){for(var i=a[a.length-1].nextSibling,d=e,s=[],f;i&&'listItem'==i.name&&0!==i.getAttribute('indent');){f=i.getAttribute('indent'),f<d&&(d=f);var c=f-d;s.push({element:i,indent:c}),i=i.nextSibling}s=s.reverse();var p=!0,_=!1,m;try{for(var g=s[Symbol.iterator](),y,b;!(p=(y=g.next()).done);p=!0)b=y.value,l.setAttribute(b.element,'indent',b.indent)}catch(e){_=!0,m=e}finally{try{!p&&g.return&&g.return()}finally{if(_)throw m}}}if(!r){var h=e,v=!0,k=!1,P;try{for(var w=a[Symbol.iterator](),x,M;!(v=(x=w.next()).done);v=!0)M=x.value,M.is('listItem')&&M.getAttribute('indent')<h&&(h=M.getAttribute('indent'))}catch(e){k=!0,P=e}finally{try{!v&&w.return&&w.return()}finally{if(k)throw P}}h=0===h?1:h,u(a,!0,h),u(a,!1,h)}var C=!0,O=!1,A;try{for(var T=a.reverse()[Symbol.iterator](),S,E;!(C=(S=T.next()).done);C=!0)E=S.value,r&&'listItem'==E.name?l.rename(E,'paragraph'):r||'listItem'==E.name?!r&&'listItem'==E.name&&E.getAttribute('type')!=t.type&&l.setAttribute(E,'type',t.type):l.setAttribute(E,'type',t.type).setAttribute(E,'indent',0).rename(E,'listItem')}catch(e){O=!0,A=e}finally{try{!C&&T.return&&T.return()}finally{if(O)throw A}}})}},{key:'_getValue',value:function(){var e=(0,g.default)(this.editor.document.selection.getSelectedBlocks());return!!e&&e.is('listItem')&&e.getAttribute('type')==this.type}},{key:'_checkEnabled',value:function(){if(this.value)return!0;var e=this.editor.document.selection,t=this.editor.document.schema,o=(0,g.default)(e.getSelectedBlocks());return!!o&&d(o,t)}}]),o}(c.default);o.default=y},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var o=u(e,!1);if(o)return void t.setAttribute(e,'type',o.getAttribute('type'));var n=u(e,!0);n&&t.setAttribute(e,'type',n.getAttribute('type'))}function u(e,t){for(var o=e[t?'nextSibling':'previousSibling'];o&&o.is('listItem')&&o.getAttribute('indent')>=e.getAttribute('indent');){if(o.getAttribute('indent')==e.getAttribute('indent'))return o;o=o[t?'nextSibling':'previousSibling']}return null}Object.defineProperty(t,'__esModule',{value:!0});var d=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(11),f=n(s),c=o(60),p=n(c),_=function(e){function t(e,o){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._indentBy='forward'==o?1:-1,n}return l(t,e),d(t,[{key:'refresh',value:function(){this.isEnabled=this._checkEnabled()}},{key:'execute',value:function(){var e=this,t=this.editor.document,o=t.batch(),n=Array.from(t.selection.getSelectedBlocks());t.enqueueChanges(function(){for(var t=n[n.length-1],a=t.nextSibling;a&&'listItem'==a.name&&a.getAttribute('indent')>t.getAttribute('indent');)n.push(a),a=a.nextSibling;0>e._indentBy&&(n=n.reverse());var r=!0,l=!1,u;try{for(var d=n[Symbol.iterator](),s;!(r=(s=d.next()).done);r=!0){var f=s.value,c=f.getAttribute('indent')+e._indentBy;0>c?o.rename(f,'paragraph'):o.setAttribute(f,'indent',c)}}catch(e){l=!0,u=e}finally{try{!r&&d.return&&d.return()}finally{if(l)throw u}}0>e._indentBy&&(n=n.reverse());var p=!0,_=!1,m;try{for(var g=n[Symbol.iterator](),y,b;!(p=(y=g.next()).done);p=!0)b=y.value,i(b,o)}catch(e){_=!0,m=e}finally{try{!p&&g.return&&g.return()}finally{if(_)throw m}}})}},{key:'_checkEnabled',value:function(){var e=(0,p.default)(this.editor.document.selection.getSelectedBlocks());if(!e||!e.is('listItem'))return!1;if(0<this._indentBy){for(var t=e.getAttribute('indent'),o=e.getAttribute('type'),n=e.previousSibling;n&&n.is('listItem')&&n.getAttribute('indent')>=t;){if(n.getAttribute('indent')==t)return n.getAttribute('type')==o;n=n.previousSibling}return!1}return!0}}]),t}(f.default);t.default=_},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e,t,o){var n=e.nodeAfter;n&&'listItem'==n.name&&t.enqueueChanges(function(){for(var e=n.previousSibling,t=e&&e.is('listItem')?e.getAttribute('indent')+1:0,a=n.getAttribute('indent')-t,r=[];n&&'listItem'==n.name&&n.getAttribute('indent')>t;){a>n.getAttribute('indent')&&(a=n.getAttribute('indent'));var l=n.getAttribute('indent')-a;r.push({item:n,indent:l}),n=n.nextSibling}if(0<r.length){var i=!0,u=!1,d;try{for(var s=r.reverse()[Symbol.iterator](),f,c;!(i=(f=s.next()).done);i=!0)c=f.value,o.setAttribute(c.item,'indent',c.indent)}catch(e){u=!0,d=e}finally{try{!i&&s.return&&s.return()}finally{if(u)throw d}}}})}function l(e,t,o,n){var a=e[t?'nodeBefore':'nodeAfter'];a&&a.is('listItem')&&0!==a.getAttribute('indent')&&o.enqueueChanges(function(){var e=c(a,!t);if(e&&e!=a)for(var o=e.getAttribute('indent'),r=e.getAttribute('type');a&&a.is('listItem')&&a.getAttribute('indent')>=o;)a.getAttribute('type')!=r&&a.getAttribute('indent')==o&&n.setAttribute(a,'type',r),a=a[t?'previousSibling':'nextSibling']})}function i(e,t){var o='numbered'==e.getAttribute('type')?'ol':'ul',n=new g.default,a=new C.default(o,null);return a.appendChildren(n),t.bindElements(e,n),n}function u(e,t){for(var o=t.getNext?'nextSibling':'previousSibling',n=t.getNext?'nodeAfter':'nodeBefore',a=!!t.checkAllSiblings,r=!!t.sameIndent,l=!!t.biggerIndent,i=!!t.smallerIndent,u=!!t.isMapped,d=e instanceof v.default?e.getAttribute('indent'):t.indent,s=e instanceof v.default?e[o]:e[n];s&&'listItem'==s.name;){var f=s.getAttribute('indent');if(r&&d==f||l&&d<f||i&&d>f){if(!u||t.mapper.toViewElement(s))return s;s=s[o];continue}if(!a)return null;s=s[o]}return null}function d(e,t){return e&&t&&('ul'==e.name||'ol'==e.name)&&e.name==t.name?V.default.mergeContainers(A.default.createAfter(e)):null}function s(e,t,o,n){var a=t.parent,r=u(e,{sameIndent:!0,smallerIndent:!0,checkAllSiblings:!0}),l;if(r&&r.getAttribute('indent')==e.getAttribute('indent')){var i=o.toViewElement(r);l=V.default.breakContainer(A.default.createAfter(i))}else r=e.previousSibling,l=r&&'listItem'==r.name?r.getAttribute('indent')<e.getAttribute('indent')?o.toViewPosition(P.default.createAt(r,'end')):n.parent.is('ul')||n.parent.is('ol')?V.default.breakContainer(n):n:o.toViewPosition(P.default.createBefore(e));l=p(l),V.default.insert(l,a);var s=u(e,{biggerIndent:!0,getNext:!0,isMapped:!0,mapper:o});if(s){var f=o.toViewElement(s);V.default.breakContainer(A.default.createBefore(f));var _=A.default.createBefore(f.parent),m=c(s,!1),g=o.toViewElement(m),y=V.default.breakContainer(A.default.createAfter(g)),b=new S.default(_,y),h=A.default.createAt(t,'end');V.default.move(b,h)}d(a,a.nextSibling),d(a.previousSibling,a)}function f(e,t,o,n,r){var l=u(t,{sameIndent:!0,smallerIndent:!0,checkAllSiblings:!0,indent:e}),i=l?l.getAttribute('indent'):null,s;if(!l)s=o;else if(i==e){var f=r.toViewElement(l).parent;s=A.default.createAfter(f)}else{var c=P.default.createAt(l,'end');s=r.toViewPosition(c)}s=p(s);for(var _=[].concat(a(n.getChildren())),m=0,g;m<_.length;m++)g=_[m],(g.is('ul')||g.is('ol'))&&(s=V.default.move(S.default.createOn(g),s).end,d(g,g.nextSibling),d(g.previousSibling,g))}function c(e,t){for(var o=e.getAttribute('indent'),n=t?'previousSibling':'nextSibling',a=e;e[n]&&e[n].is('listItem')&&e[n].getAttribute('indent')>=o;)e=e[n],e.getAttribute('indent')==o&&(a=e);return a}function p(e){return e.getLastMatchingPosition(function(e){return e.item.is('uiElement')})}Object.defineProperty(t,'__esModule',{value:!0});var _=function(){function e(e,t){var o=[],n=!0,a=!1,r;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();t.modelViewInsertion=function(e,t,o,n){if(o.test(t.item,'insert')&&o.test(t.item,'addAttribute:type')&&o.test(t.item,'addAttribute:indent')){o.consume(t.item,'insert'),o.consume(t.item,'addAttribute:type'),o.consume(t.item,'addAttribute:indent');var a=t.item,r=i(a,n.mapper),l=n.mapper.toViewPosition(P.default.createBefore(a));s(a,r,n.mapper,l)}},t.modelViewChangeType=function(e,t,o,n){if(o.consume(t.item,'changeAttribute:type')){var a=n.mapper.toViewElement(t.item);V.default.breakContainer(A.default.createBefore(a)),V.default.breakContainer(A.default.createAfter(a));var r=a.parent,l='numbered'==t.attributeNewValue?'ol':'ul';r=V.default.rename(r,l),d(r,r.nextSibling),d(r.previousSibling,r)}},t.modelViewRemove=function(e,t,o,n){if(o.consume(t.item,'remove')){var a=n.mapper.toViewPosition(t.sourcePosition);a=a.getLastMatchingPosition(function(e){return!e.item.is('li')});var r=a.nodeAfter;V.default.breakContainer(A.default.createBefore(r)),V.default.breakContainer(A.default.createAfter(r));var l=r.parent,i=l.previousSibling,u=S.default.createOn(l);V.default.remove(u),i&&i.nextSibling&&d(i,i.nextSibling),f(t.item.getAttribute('indent')+1,t.sourcePosition,u.start,r,n.mapper),'$graveyard'==t.item.root.rootName&&n.mapper.unbindModelElement(t.item)}},t.modelViewChangeIndent=function(e,t,o,n){if(o.consume(t.item,'changeAttribute:indent')){var a=n.mapper.toViewElement(t.item);V.default.breakContainer(A.default.createBefore(a)),V.default.breakContainer(A.default.createAfter(a));var r=a.parent,l=r.previousSibling,i=S.default.createOn(r);V.default.remove(i);var u;l&&l.nextSibling&&(u=d(l,l.nextSibling)),u||(u=i.start),f(t.attributeOldValue+1,t.range.start,i.start,a,n.mapper),s(t.item,a,n.mapper,u)}},t.modelViewSplitOnInsert=function(e,t,o,n){if('listItem'!=t.item.name){for(var a=n.mapper.toViewPosition(t.range.start),r=[];('ul'==a.parent.name||'ol'==a.parent.name)&&(a=V.default.breakContainer(a),'li'==a.parent.name);){var l=a,u=A.default.createAt(a.parent,'end');if(!l.isEqual(u)){var s=V.default.remove(new S.default(l,u));r.push(s)}a=A.default.createAfter(a.parent)}if(0<r.length){for(var f=0;f<r.length;f++){var i=a.nodeBefore,c=V.default.insert(a,r[f]);if(a=c.end,0<f){var p=d(i,i.nextSibling);p&&p.parent==i&&a.offset--}}d(a.nodeBefore,a.nodeAfter)}}},t.modelViewMergeAfter=function(e,t,o,n){if(!t.item.is('listItem')){var a=n.mapper.toViewPosition(t.sourcePosition),r=a.nodeBefore,l=a.nodeAfter;d(r,l)}},t.viewModelConverter=function(e,t,o,n){if(o.consume(t.input,{name:!0})){var a=new v.default('listItem');t.indent=t.indent?t.indent:0;var r='ul'==t.input.parent.name?'bulleted':'numbered';a.setAttribute('type',r),a.setAttribute('indent',t.indent),t.context.push(a),t.indent++;var l=new b.default;l.appendChildren(a);var i=!0,u=!1,d;try{for(var s=t.input.getChildren()[Symbol.iterator](),f;!(i=(f=s.next()).done);i=!0){var c=f.value,p=n.convertItem(c,o,t);'ul'==c.name||'ol'==c.name?l.appendChildren(Array.from(p.getChildren())):x.default.insert(P.default.createAt(a,'end'),p)}}catch(e){u=!0,d=e}finally{try{!i&&s.return&&s.return()}finally{if(u)throw d}}t.indent--,t.context.pop(),t.output=l}},t.cleanList=function(e,t,o){if(o.test(t.input,{name:!0})){var n=Array.from(t.input.getChildren()),a=!0,r=!1,l;try{for(var i=n[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,d.is('li')||d.remove()}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}}},t.cleanListItem=function(e,t,o){if(o.test(t.input,{name:!0})){if(0===t.input.childCount)return;var n=[].concat(a(t.input.getChildren())),r=!1,l=!0,i=!0,u=!1,d;try{for(var s=n[Symbol.iterator](),f,c;!(i=(f=s.next()).done);i=!0)c=f.value,!r||c.is('ul')||c.is('ol')||c.remove(),c.is('text')?(l&&(c.data=c.data.replace(/^\s+/,'')),(!c.nextSibling||c.nextSibling.is('ul')||c.nextSibling.is('ol'))&&(c.data=c.data.replace(/\s+$/,''))):(c.is('ul')||c.is('ol'))&&(r=!0),l=!1}catch(e){u=!0,d=e}finally{try{!i&&s.return&&s.return()}finally{if(u)throw d}}}},t.modelToViewPosition=function(e,t){var o=t.modelPosition.nodeBefore;if(o&&o.is('listItem')){var n=t.mapper.toViewElement(o),a=n.getAncestors().find(function(e){return e.is('ul')||e.is('ol')}),r=new R.default({startPosition:A.default.createAt(n,0)}),l=!0,i=!1,u;try{for(var d=r[Symbol.iterator](),s,f;!(l=(s=d.next()).done);l=!0)if(f=s.value,'elementStart'==f.type&&f.item.is('li')){t.viewPosition=f.previousPosition;break}else if('elementEnd'==f.type&&f.item==a){t.viewPosition=f.nextPosition;break}}catch(e){i=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(i)throw u}}}},t.viewToModelPosition=function(e,t){var o=t.viewPosition,n=o.parent,a=t.mapper;if('ul'==n.name||'ol'==n.name){if(!o.isAtEnd){var r=a.toModelElement(o.nodeAfter);t.modelPosition=P.default.createBefore(r)}else{var l=a.toModelElement(o.nodeBefore),i=a.getModelLength(o.nodeBefore);t.modelPosition=P.default.createBefore(l).getShiftedBy(i)}e.stop()}else if('li'==n.name&&o.nodeBefore&&('ul'==o.nodeBefore.name||'ol'==o.nodeBefore.name)){for(var u=a.toModelElement(n),d=1,s=o.nodeBefore;s&&(s.is('ul')||s.is('ol'));)d+=a.getModelLength(s),s=s.previousSibling;t.modelPosition=P.default.createBefore(u).getShiftedBy(d),e.stop()}},t.modelChangePostFixer=function(e){return function(t,o,n,a){if('transparent'!=a.type)if('remove'==o){var i=n.range.end.offset-n.range.start.offset,u=n.sourcePosition._getTransformedByInsertion(n.range.start,i,!0);r(u,e,a),l(u,!1,e,a)}else if('move'==o){var d=n.range.end.offset-n.range.start.offset,s=n.sourcePosition._getTransformedByInsertion(n.range.start,d,!0);r(s,e,a),l(s,!1,e,a),r(n.range.start,e,a),l(n.range.start,!1,e,a),r(n.range.end,e,a),l(n.range.end,!0,e,a)}else if('rename'==o&&'listItem'==n.oldName&&'listItem'!=n.newName){var f=n.element;e.enqueueChanges(function(){a.removeAttribute(f,'indent').removeAttribute(f,'type')});var c=P.default.createAfter(n.element);r(c,e,a)}else'insert'==o&&(r(n.range.start,e,a),l(n.range.start,!1,e,a),r(n.range.end,e,a),l(n.range.end,!0,e,a))}},t.modelIndentPasteFixer=function(e,t){var o=_(t,2),n=o[0],a=o[1],r=n.is('documentFragment')?n.getChild(0):n;if(r.is('listItem')){var l=a.getFirstPosition(),i=null;if(l.parent.is('listItem')?i=l.parent:l.nodeBefore&&l.nodeBefore.is('listItem')&&(i=l.nodeBefore),i){var u=i.getAttribute('indent');if(0<u)for(;r&&r.is('listItem');)r.setAttribute('indent',r.getAttribute('indent')+u),r=r.nextSibling}}};var m=o(542),g=n(m),y=o(39),b=n(y),h=o(6),v=n(h),k=o(1),P=n(k),w=o(21),x=n(w),M=o(48),C=n(M),O=o(20),A=n(O),T=o(38),S=n(T),E=o(65),R=n(E),I=o(90),V=n(I)},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){var e=!this.isEmpty&&('ul'==this.getChild(0).name||'ol'==this.getChild(0).name);return this.isEmpty||e?0:null}Object.defineProperty(t,'__esModule',{value:!0});var i=o(48),u=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(e,o){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,'li',e,o));return r.getFillerOffset=l,r}return r(t,e),t}(u.default);t.default=d},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 17h10v-1H7v1zM6 4v1h13V4H6zm1 6v1h11v-1H7zM2 2.5c0 .277.223.5.5.5H3v3.5a.499.499 0 1 0 1 0v-4c0-.277-.223-.5-.5-.5h-1c-.277 0-.5.223-.5.5zM2.5 8a.499.499 0 1 0 0 1H4v1H2.5c-.277 0-.5.223-.5.5v2c0 .277.223.5.5.5h2a.499.499 0 1 0 0-1H3v-1h1.5a.46.46 0 0 0 .188-.031.45.45 0 0 0 .28-.281A.461.461 0 0 0 5 10.5v-2a.46.46 0 0 0-.031-.187.45.45 0 0 0-.282-.282.463.463 0 0 0-.125-.03H2.5V8zm2.352 10.853a.493.493 0 0 0 .148-.35v-4.005A.493.493 0 0 0 4.505 14h-2.01a.494.494 0 0 0-.495.5c0 .268.222.5.495.5H4v1H2.495a.494.494 0 0 0-.495.5c0 .268.222.5.495.5H4v1H2.495a.494.494 0 0 0-.495.5c0 .268.222.5.495.5h2.01a.49.49 0 0 0 .351-.146z" fill="#454545" fill-rule="evenodd"/></svg>'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6 16v1h10v-1H6zM6 4v1h12V4H6zm0 6v1h11v-1H6zM1 4.5C1 3.672 1.666 3 2.5 3 3.328 3 4 3.666 4 4.5 4 5.328 3.334 6 2.5 6 1.672 6 1 5.334 1 4.5zm0 6C1 9.672 1.666 9 2.5 9c.828 0 1.5.666 1.5 1.5 0 .828-.666 1.5-1.5 1.5-.828 0-1.5-.666-1.5-1.5zm0 6c0-.828.666-1.5 1.5-1.5.828 0 1.5.666 1.5 1.5 0 .828-.666 1.5-1.5 1.5-.828 0-1.5-.666-1.5-1.5z" fill="#454545" fill-rule="evenodd"/></svg>'}])});
//# sourceMappingURL=ckeditor.compat.js.map