/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
var _NumberPOSITIVE_INFINITY=Number.POSITIVE_INFINITY,_Mathfloor=Math.floor,_Mathmax=Math.max,_Mathmin=Math.min;(function(u,s){if('object'==typeof exports&&'object'==typeof module)module.exports=s();else if('function'==typeof define&&define.amd)define([],s);else{var d=s();for(var f in d)('object'==typeof exports?exports:u)[f]=d[f]}})(this,function(){return function(r){function u(d){if(s[d])return s[d].exports;var f=s[d]={i:d,l:!1,exports:{}};return r[d].call(f.exports,f,f.exports,u),f.l=!0,f.exports}var s={};return u.m=r,u.c=s,u.i=function(d){return d},u.d=function(d,f,h){u.o(d,f)||Object.defineProperty(d,f,{configurable:!1,enumerable:!0,get:h})},u.n=function(d){var f=d&&d.__esModule?function(){return d['default']}:function(){return d};return u.d(f,'a',f),f},u.o=function(d,f){return Object.prototype.hasOwnProperty.call(d,f)},u.p='',u(u.s=542)}([function(r,u){'use strict';function d(M,C){if(!(M instanceof C))throw new TypeError('Cannot call a class as a function')}function f(M,C){if(!M)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return C&&('object'==typeof C||'function'==typeof C)?C:M}function h(M,C){if('function'!=typeof C&&null!==C)throw new TypeError('Super expression must either be null or a function, not '+typeof C);M.prototype=Object.create(C&&C.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(M,C):M.__proto__=C)}Object.defineProperty(u,'__esModule',{value:!0});var P=function(){function M(C,O){for(var T=0,S;T<O.length;T++)S=O[T],S.enumerable=S.enumerable||!1,S.configurable=!0,'value'in S&&(S.writable=!0),Object.defineProperty(C,S.key,S)}return function(C,O,T){return O&&M(C.prototype,O),T&&M(C,T),C}}(),w=function(M){function C(O,T){d(this,C),T&&(O+=' '+JSON.stringify(T));var S=f(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,O));return S.name='CKEditorError',S.data=T,S}return h(C,M),P(C,null,[{key:'isCKEditorError',value:function(T){return T instanceof C}}]),C}(Error);u.default=w},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}function f(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function N(F,D){for(var L=0,q;L<D.length;L++)q=D[L],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(F,q.key,q)}return function(F,D,L){return D&&N(F.prototype,D),L&&N(F,L),F}}(),P=s(53),w=d(P),M=s(18),C=d(M),O=s(56),T=d(O),S=s(0),E=d(S),I=s(27),R=d(I),V=function(){function N(F,D){if(f(this,N),!F.is('element')&&!F.is('documentFragment'))throw new E.default('model-position-root-invalid: Position root invalid.');if(!(D instanceof Array)||0===D.length)throw new E.default('model-position-path-incorrect: Position path must be an Array with at least one item.',{path:D});D=F.getPath().concat(D),F=F.root,this.root=F,this.path=D}return h(N,[{key:'compareWith',value:function(D){if(this.root!=D.root)return'different';var L=(0,T.default)(this.path,D.path);return'same'===L?'same':'prefix'===L?'before':'extension'===L?'after':this.path[L]<D.path[L]?'before':'after'}},{key:'getLastMatchingPosition',value:function(D){var L=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};L.startPosition=this;var q=new w.default(L);return q.skip(D),q.position}},{key:'getParentPath',value:function(){return this.path.slice(0,-1)}},{key:'getAncestors',value:function(){return this.parent.is('documentFragment')?[this.parent]:this.parent.getAncestors({includeSelf:!0})}},{key:'getCommonPath',value:function(D){if(this.root!=D.root)return[];var L=(0,T.default)(this.path,D.path),q='string'==typeof L?_Mathmin(this.path.length,D.path.length):L;return this.path.slice(0,q)}},{key:'getCommonAncestor',value:function(D){for(var L=this.getAncestors(),q=D.getAncestors(),z=0;L[z]==q[z]&&L[z];)z++;return 0==z?null:L[z-1]}},{key:'getShiftedBy',value:function(D){var L=N.createFromPosition(this),q=L.offset+D;return L.offset=0>q?0:q,L}},{key:'isAfter',value:function(D){return'after'==this.compareWith(D)}},{key:'isBefore',value:function(D){return'before'==this.compareWith(D)}},{key:'isEqual',value:function(D){return'same'==this.compareWith(D)}},{key:'isTouching',value:function(D){var L=null,q=null,z=this.compareWith(D);switch(z){case'same':return!0;case'before':L=N.createFromPosition(this),q=N.createFromPosition(D);break;case'after':L=N.createFromPosition(D),q=N.createFromPosition(this);break;default:return!1;}for(var W=L.parent;L.path.length+q.path.length;){if(L.isEqual(q))return!0;if(L.path.length>q.path.length){if(L.offset!==W.maxOffset)return!1;L.path=L.path.slice(0,-1),W=W.parent,L.offset++}else{if(0!==q.offset)return!1;q.path=q.path.slice(0,-1)}}}},{key:'_getTransformedByDeletion',value:function(D,L){var q=N.createFromPosition(this);if(this.root!=D.root)return q;if('same'==(0,T.default)(D.getParentPath(),this.getParentPath())){if(D.offset<this.offset){if(D.offset+L>this.offset)return null;q.offset-=L}}else if('prefix'==(0,T.default)(D.getParentPath(),this.getParentPath())){var z=D.path.length-1;if(D.offset<=this.path[z]){if(D.offset+L>this.path[z])return null;q.path[z]-=L}}return q}},{key:'_getTransformedByInsertion',value:function(D,L,q){var z=N.createFromPosition(this);if(this.root!=D.root)return z;if('same'==(0,T.default)(D.getParentPath(),this.getParentPath()))(D.offset<this.offset||D.offset==this.offset&&q)&&(z.offset+=L);else if('prefix'==(0,T.default)(D.getParentPath(),this.getParentPath())){var W=D.path.length-1;D.offset<=this.path[W]&&(z.path[W]+=L)}return z}},{key:'_getTransformedByMove',value:function(D,L,q,z,W){var H=this._getTransformedByDeletion(D,q);return L=L._getTransformedByDeletion(D,q),H=null===H||W&&H.isEqual(D)?this._getCombined(D,L):H._getTransformedByInsertion(L,q,z),H}},{key:'_getCombined',value:function(D,L){var q=D.path.length-1,z=N.createFromPosition(L);return z.offset=z.offset+this.path[q]-D.offset,z.path=z.path.concat(this.path.slice(q+1)),z}},{key:'offset',get:function(){return(0,C.default)(this.path)},set:function(D){this.path[this.path.length-1]=D}},{key:'parent',get:function(){for(var D=this.root,L=0;L<this.path.length-1;L++)D=D.getChild(D.offsetToIndex(this.path[L]));return D}},{key:'index',get:function(){return this.parent.offsetToIndex(this.offset)}},{key:'textNode',get:function(){var D=this.parent.getChild(this.index);return D instanceof R.default&&D.startOffset<this.offset?D:null}},{key:'nodeAfter',get:function(){return null===this.textNode?this.parent.getChild(this.index):null}},{key:'nodeBefore',get:function(){return null===this.textNode?this.parent.getChild(this.index-1):null}},{key:'isAtStart',get:function(){return 0===this.offset}},{key:'isAtEnd',get:function(){return this.offset==this.parent.maxOffset}}],[{key:'createAt',value:function(D,L){if(D instanceof N)return this.createFromPosition(D);var q=D;if('end'==L)L=q.maxOffset;else{if('before'==L)return this.createBefore(q);if('after'==L)return this.createAfter(q);L||(L=0)}return this.createFromParentAndOffset(q,L)}},{key:'createAfter',value:function(D){if(!D.parent)throw new E.default('model-position-after-root: You can not make position after root.',{root:D});return this.createFromParentAndOffset(D.parent,D.endOffset)}},{key:'createBefore',value:function(D){if(!D.parent)throw new E.default('model-position-before-root: You can not make position before root.',{root:D});return this.createFromParentAndOffset(D.parent,D.startOffset)}},{key:'createFromParentAndOffset',value:function(D,L){if(!D.is('element')&&!D.is('documentFragment'))throw new E.default('model-position-parent-incorrect: Position parent have to be a element or document fragment.');var q=D.getPath();return q.push(L),new this(D.root,q)}},{key:'createFromPosition',value:function(D){return new this(D.root,D.path.slice())}},{key:'fromJSON',value:function(D,L){if('$graveyard'===D.root)return new N(L.graveyard,D.path);if(!L.hasRoot(D.root))throw new E.default('model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.',{rootName:D.root});return new N(L.getRoot(D.root),D.path)}}]),N}();u.default=V},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}function f(T,S){if(!(T instanceof S))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function T(S,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}return function(S,E,I){return E&&T(S.prototype,E),I&&T(S,I),S}}(),P=s(19),w=d(P),M=s(4),C=d(M),O=function(){function T(S){f(this,T),this.editor=S}return h(T,[{key:'destroy',value:function(){this.stopListening()}}]),T}();u.default=O,(0,C.default)(O,w.default)},function(r,u,s){'use strict';function d(I){return I&&I.__esModule?I:{default:I}}function f(I){if(Array.isArray(I)){for(var R=0,V=Array(I.length);R<I.length;R++)V[R]=I[R];return V}return Array.from(I)}function h(I,R){if(!(I instanceof R))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var P=function(){function I(R,V){for(var N=0,F;N<V.length;N++)F=V[N],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(R,F.key,F)}return function(R,V,N){return V&&I(R.prototype,V),N&&I(R,N),R}}(),w=s(1),M=d(w),C=s(53),O=d(C),T=s(0),S=d(T),E=function(){function I(R){var V=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;h(this,I),this.start=M.default.createFromPosition(R),this.end=V?M.default.createFromPosition(V):M.default.createFromPosition(R)}return P(I,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function R(){return regeneratorRuntime.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.delegateYield(new O.default({boundaries:this,ignoreElementEnd:!0}),'t0',1);case 1:case'end':return N.stop();}},R,this)})},{key:'containsPosition',value:function(V){return V.isAfter(this.start)&&V.isBefore(this.end)}},{key:'containsRange',value:function(V){var N=1<arguments.length&&void 0!==arguments[1]&&arguments[1];V.isCollapsed&&(N=!1);var F=this.containsPosition(V.start)||N&&this.start.isEqual(V.start),D=this.containsPosition(V.end)||N&&this.end.isEqual(V.end);return F&&D}},{key:'isEqual',value:function(V){return this.start.isEqual(V.start)&&this.end.isEqual(V.end)}},{key:'isIntersecting',value:function(V){return this.start.isBefore(V.end)&&this.end.isAfter(V.start)}},{key:'getDifference',value:function(V){var N=[];return this.isIntersecting(V)?(this.containsPosition(V.start)&&N.push(new I(this.start,V.start)),this.containsPosition(V.end)&&N.push(new I(V.end,this.end))):N.push(I.createFromRange(this)),N}},{key:'getIntersection',value:function(V){if(this.isIntersecting(V)){var N=this.start,F=this.end;return this.containsPosition(V.start)&&(N=V.start),this.containsPosition(V.end)&&(F=V.end),new I(N,F)}return null}},{key:'getMinimalFlatRanges',value:function(){for(var V=[],N=this.start.getCommonPath(this.end).length,F=M.default.createFromPosition(this.start),D=F.parent,L;F.path.length>N+1;)L=D.maxOffset-F.offset,0!=L&&V.push(new I(F,F.getShiftedBy(L))),F.path=F.path.slice(0,-1),F.offset++,D=D.parent;for(;F.path.length<=this.end.path.length;){var q=this.end.path[F.path.length-1],z=q-F.offset;0!=z&&V.push(new I(F,F.getShiftedBy(z))),F.offset=q,F.path.push(0)}return V}},{key:'getWalker',value:function(){var V=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return V.boundaries=this,new O.default(V)}},{key:'getItems',value:regeneratorRuntime.mark(function R(){var V=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},N,F,D,L,q,z,W;return regeneratorRuntime.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:V.boundaries=this,V.ignoreElementEnd=!0,N=new O.default(V),F=!0,D=!1,L=void 0,U.prev=6,q=N[Symbol.iterator]();case 8:if(F=(z=q.next()).done){U.next=15;break}return W=z.value,U.next=12,W.item;case 12:F=!0,U.next=8;break;case 15:U.next=21;break;case 17:U.prev=17,U.t0=U['catch'](6),D=!0,L=U.t0;case 21:U.prev=21,U.prev=22,!F&&q.return&&q.return();case 24:if(U.prev=24,!D){U.next=27;break}throw L;case 27:return U.finish(24);case 28:return U.finish(21);case 29:case'end':return U.stop();}},R,this,[[6,17,21,29],[22,,24,28]])})},{key:'getPositions',value:regeneratorRuntime.mark(function R(){var V=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},N,F,D,L,q,z,W;return regeneratorRuntime.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return V.boundaries=this,N=new O.default(V),U.next=4,N.position;case 4:F=!0,D=!1,L=void 0,U.prev=7,q=N[Symbol.iterator]();case 9:if(F=(z=q.next()).done){U.next=16;break}return W=z.value,U.next=13,W.nextPosition;case 13:F=!0,U.next=9;break;case 16:U.next=22;break;case 18:U.prev=18,U.t0=U['catch'](7),D=!0,L=U.t0;case 22:U.prev=22,U.prev=23,!F&&q.return&&q.return();case 25:if(U.prev=25,!D){U.next=28;break}throw L;case 28:return U.finish(25);case 29:return U.finish(22);case 30:case'end':return U.stop();}},R,this,[[7,18,22,30],[23,,25,29]])})},{key:'getTransformedByDelta',value:function(V){var N=[I.createFromRange(this)],F=new Set(['insert','move','remove','reinsert']),D=!0,L=!1,q;try{for(var z=V.operations[Symbol.iterator](),W,H;!(D=(W=z.next()).done);D=!0)if(H=W.value,F.has(H.type))for(var U=0,K;U<N.length;U++)K=N[U]._getTransformedByDocumentChange(H.type,V.type,H.targetPosition||H.position,H.howMany||H.nodes.maxOffset,H.sourcePosition),N.splice.apply(N,[U,1].concat(f(K))),U+=K.length-1}catch($){L=!0,q=$}finally{try{!D&&z.return&&z.return()}finally{if(L)throw q}}return N}},{key:'getTransformedByDeltas',value:function(V){var N=[I.createFromRange(this)],F=!0,D=!1,L;try{for(var q=V[Symbol.iterator](),z,W;!(F=(z=q.next()).done);F=!0){W=z.value;for(var H=0,U;H<N.length;H++)U=N[H].getTransformedByDelta(W),N.splice.apply(N,[H,1].concat(f(U))),H+=U.length-1}}catch(Q){D=!0,L=Q}finally{try{!F&&q.return&&q.return()}finally{if(D)throw L}}for(var K=0,$;K<N.length;K++){$=N[K];for(var J=K+1,G;J<N.length;J++)G=N[J],($.containsRange(G)||G.containsRange($)||$.isEqual(G))&&N.splice(J,1)}return N}},{key:'getCommonAncestor',value:function(){return this.start.getCommonAncestor(this.end)}},{key:'_getTransformedByDocumentChange',value:function(V,N,F,D,L){if('insert'==V)return this._getTransformedByInsertion(F,D,!1,!1);var q=I.createFromPositionAndShift(L,D);if('merge'==N&&this.isCollapsed&&(this.start.isEqual(q.start)||this.start.isEqual(q.end)))return[new I(F.getShiftedBy(this.start.offset))];if(q.containsPosition(this.start)&&this.containsPosition(q.end)&&this.end.isAfter(F)){var z=this.start._getCombined(L,F._getTransformedByDeletion(L,D)),W=this.end._getTransformedByMove(L,F,D,!1,!1);return[new I(z,W)]}if((q.containsPosition(this.end)||q.end.isEqual(this.end))&&this.containsPosition(q.start)&&this.start.isBefore(F)){var H=this.start._getTransformedByMove(L,F,D,!0,!1),U=this.end._getCombined(L,F._getTransformedByDeletion(L,D));return[new I(H,U)]}return this._getTransformedByMove(L,F,D)}},{key:'_getTransformedByInsertion',value:function(V,N){var F=2<arguments.length&&void 0!==arguments[2]&&arguments[2],D=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(F&&this.containsPosition(V))return[new I(this.start,V),new I(V._getTransformedByInsertion(V,N,!0),this.end._getTransformedByInsertion(V,N,this.isCollapsed))];var L=I.createFromRange(this),q=!!L.isCollapsed||!D,z=!!L.isCollapsed||D;return L.start=L.start._getTransformedByInsertion(V,N,q),L.end=L.end._getTransformedByInsertion(V,N,z),[L]}},{key:'_getTransformedByMove',value:function(V,N,F){if(this.isCollapsed){var D=this.start._getTransformedByMove(V,N,F,!0,!1);return[new I(D)]}var q=new I(V,V.getShiftedBy(F)),z=this.getDifference(q),W=null,H=this.getIntersection(q),L;1==z.length?W=new I(z[0].start._getTransformedByDeletion(V,F),z[0].end._getTransformedByDeletion(V,F)):2==z.length&&(W=new I(this.start,this.end._getTransformedByDeletion(V,F)));var U=N._getTransformedByDeletion(V,F);return L=W?W._getTransformedByInsertion(U,F,null!==H):[],H&&L.push(new I(H.start._getCombined(q.start,U),H.end._getCombined(q.start,U))),L}},{key:'isCollapsed',get:function(){return this.start.isEqual(this.end)}},{key:'isFlat',get:function(){return this.start.parent===this.end.parent}},{key:'root',get:function(){return this.start.root}}],[{key:'createFromPositionAndShift',value:function(V,N){var F=V,D=V.getShiftedBy(N);return 0<N?new this(F,D):new this(D,F)}},{key:'createFromParentsAndOffsets',value:function(V,N,F,D){return new this(M.default.createFromParentAndOffset(V,N),M.default.createFromParentAndOffset(F,D))}},{key:'createFromRange',value:function(V){return new this(V.start,V.end)}},{key:'createIn',value:function(V){return this.createFromParentsAndOffsets(V,0,V,V.maxOffset)}},{key:'createOn',value:function(V){return this.createFromPositionAndShift(M.default.createBefore(V),V.offsetSize)}},{key:'createFromRanges',value:function(V){if(0===V.length)throw new S.default('range-create-from-ranges-empty-array: At least one range has to be passed.');else if(1==V.length)return this.createFromRange(V[0]);var N=V[0];V.sort(function(z,W){return z.start.isAfter(W.start)?1:-1});for(var F=V.indexOf(N),D=new this(N.start,N.end),L=F-1;0<=L&&V[L].end.isEqual(D.start);L++)D.start=M.default.createFromPosition(V[L].start);for(var q=F+1;q<V.length&&V[q].start.isEqual(D.end);q++)D.end=M.default.createFromPosition(V[q].end);return D}},{key:'fromJSON',value:function(V,N){return new this(M.default.fromJSON(V.start,N),M.default.fromJSON(V.end,N))}}]),I}();u.default=E},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){for(var h=arguments.length,P=Array(1<h?h-1:0),w=1;w<h;w++)P[w-1]=arguments[w];P.forEach(function(M){Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M)).forEach(function(C){if(!(C in f.prototype)){var O=Object.getOwnPropertyDescriptor(M,C);O.enumerable=!1,Object.defineProperty(f.prototype,C,O)}})})}},function(r,u,s){'use strict';function d(we){return we&&we.__esModule?we:{default:we}}function f(we){if(Array.isArray(we)){for(var xe=0,Me=Array(we.length);xe<we.length;xe++)Me[xe]=we[xe];return Me}return Array.from(we)}function h(we,xe){if(!we)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return xe&&('object'==typeof xe||'function'==typeof xe)?xe:we}function P(we,xe){if('function'!=typeof xe&&null!==xe)throw new TypeError('Super expression must either be null or a function, not '+typeof xe);we.prototype=Object.create(xe&&xe.prototype,{constructor:{value:we,enumerable:!1,writable:!0,configurable:!0}}),xe&&(Object.setPrototypeOf?Object.setPrototypeOf(we,xe):we.__proto__=xe)}function w(we,xe){if(!(we instanceof xe))throw new TypeError('Cannot call a class as a function')}function M(we){return!!we&&((we.value&&(we=we.value),Array.isArray(we))?we.some(M):!!(we instanceof ve))}function C(we,xe){return we.map(function(Me){return Me instanceof ve?Me.getValue(xe):Me})}function O(we,xe,Me){var Ce=Me.node,Oe=C(we,Ce);Oe=1==we.length&&we[0]instanceof Pe?Oe[0]:Oe.reduce(q,''),H(Oe)?xe.remove():xe.set(Oe)}function T(we){return{set:function(Me){we.textContent=Me},remove:function(){we.textContent=''}}}function S(we,xe,Me){return{set:function(Oe){we.setAttributeNS(Me,xe,Oe)},remove:function(){we.removeAttributeNS(Me,xe)}}}function E(we,xe){return{set:function(Ce){we.style[xe]=Ce},remove:function(){we.style[xe]=null}}}function I(we){var xe=(0,ce.default)(we,function(Me){if(Me&&(Me instanceof ve||K(Me)||U(Me)||$(Me)))return Me});return xe}function R(we){if('string'==typeof we?we=F(we):we.text&&D(we),we.on&&(we.eventListeners=N(we.on),delete we.on),!we.text){we.attributes&&V(we.attributes);var xe=new le.default;if(we.children)if($(we.children))xe.add(we.children);else{var Me=!0,Ce=!1,Oe;try{for(var Ae=we.children[Symbol.iterator](),Te,Se;!(Me=(Te=Ae.next()).done);Me=!0)Se=Te.value,K(Se)||U(Se)?xe.add(Se):xe.add(new he(Se))}catch(Ee){Ce=!0,Oe=Ee}finally{try{!Me&&Ae.return&&Ae.return()}finally{if(Ce)throw Oe}}}we.children=xe}return we}function V(we){for(var xe in we)we[xe].value&&(we[xe].value=[].concat(we[xe].value)),L(we,xe)}function N(we){for(var xe in we)L(we,xe);return we}function F(we){return{text:[we]}}function D(we){Array.isArray(we.text)||(we.text=[we.text])}function L(we,xe){Array.isArray(we[xe])||(we[xe]=[we[xe]])}function q(we,xe){return H(xe)?we:H(we)?xe:we+' '+xe}function z(we,xe){for(var Me in xe)if(we[Me]){var Ce;(Ce=we[Me]).push.apply(Ce,f(xe[Me]))}else we[Me]=xe[Me]}function W(we,xe){if(xe.attributes&&(!we.attributes&&(we.attributes={}),z(we.attributes,xe.attributes)),xe.eventListeners&&(!we.eventListeners&&(we.eventListeners={}),z(we.eventListeners,xe.eventListeners)),xe.text){var Me;(Me=we.text).push.apply(Me,f(xe.text))}if(xe.children&&xe.children.length){if(we.children.length!=xe.children.length)throw new ee.default('ui-template-extend-children-mismatch: The number of children in extended definition does not match.');var Ce=0,Oe=!0,Ae=!1,Te;try{for(var Se=xe.children[Symbol.iterator](),Ee,Ie;!(Oe=(Ee=Se.next()).done);Oe=!0)Ie=Ee.value,W(we.children.get(Ce++),Ie)}catch(Re){Ae=!0,Te=Re}finally{try{!Oe&&Se.return&&Se.return()}finally{if(Ae)throw Te}}}}function H(we){return!we&&0!==we}function U(we){return we instanceof ie.default}function K(we){return we instanceof he}function $(we){return we instanceof de.default}function J(){return{children:[],bindings:[],attributes:{}}}function G(we){return'class'==we||'style'==we}Object.defineProperty(u,'__esModule',{value:!0}),u.TemplateIfBinding=u.TemplateToBinding=u.TemplateBinding=void 0;var Q=function we(xe,Me,Ce){null===xe&&(xe=Function.prototype);var Oe=Object.getOwnPropertyDescriptor(xe,Me);if(Oe===void 0){var Ae=Object.getPrototypeOf(xe);return null===Ae?void 0:we(Ae,Me,Ce)}if('value'in Oe)return Oe.value;var Te=Oe.get;return void 0===Te?void 0:Te.call(Ce)},Y=function(){function we(xe,Me){var Ce=[],Oe=!0,Ae=!1,Te;try{for(var Se=xe[Symbol.iterator](),Ee;!(Oe=(Ee=Se.next()).done)&&(Ce.push(Ee.value),!(Me&&Ce.length===Me));Oe=!0);}catch(Ie){Ae=!0,Te=Ie}finally{try{!Oe&&Se['return']&&Se['return']()}finally{if(Ae)throw Te}}return Ce}return function(xe,Me){if(Array.isArray(xe))return xe;if(Symbol.iterator in Object(xe))return we(xe,Me);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),X=function(){function we(xe,Me){for(var Ce=0,Oe;Ce<Me.length;Ce++)Oe=Me[Ce],Oe.enumerable=Oe.enumerable||!1,Oe.configurable=!0,'value'in Oe&&(Oe.writable=!0),Object.defineProperty(xe,Oe.key,Oe)}return function(xe,Me,Ce){return Me&&we(xe.prototype,Me),Ce&&we(xe,Ce),xe}}(),Z=s(0),ee=d(Z),te=s(4),re=d(te),ae=s(9),oe=d(ae),ne=s(87),le=d(ne),ue=s(7),ie=d(ue),se=s(125),de=d(se),fe=s(490),ce=d(fe),pe=s(17),me=d(pe),ge=s(42),ye=d(ge),he=function(){function we(xe){w(this,we),Object.assign(this,R(I(xe))),this._isRendered=!1,this._revertData=null}return X(we,[{key:'render',value:function(){var Me=this._renderNode({intoFragment:!0});return this._isRendered=!0,Me}},{key:'apply',value:function(Me){return this._revertData=J(),this._renderNode({node:Me,isApplying:!0,revertData:this._revertData}),Me}},{key:'revert',value:function(Me){if(!this._revertData)throw new ee.default('ui-template-revert-not-applied: Attempting reverting a template which has not been applied yet.');this._revertTemplateFromNode(Me,this._revertData)}},{key:'_renderNode',value:function(Me){var Ce;if(Ce=Me.node?this.tag&&this.text:this.tag?this.text:!this.text,Ce)throw new ee.default('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering new Node.');return this.text?this._renderText(Me):this._renderElement(Me)}},{key:'_renderElement',value:function(Me){var Ce=Me.node;return Ce||(Ce=Me.node=document.createElementNS(this.ns||'http://www.w3.org/1999/xhtml',this.tag)),this._renderAttributes(Me),this._renderElementChildren(Me),this._setUpListeners(Me),Ce}},{key:'_renderText',value:function(Me){var Ce=Me.node;return Ce?Me.revertData.text=Ce.textContent:Ce=Me.node=document.createTextNode(''),M(this.text)?this._bindToObservable({schema:this.text,updater:T(Ce),data:Me}):Ce.textContent=this.text.join(''),Ce}},{key:'_renderAttributes',value:function(Me){var Ce=void 0,Oe,Ae,Te;if(this.attributes){var Se=Me.node,Ee=Me.revertData;for(Ce in this.attributes)if(Ae=Se.getAttribute(Ce),Oe=this.attributes[Ce],Ee&&(Ee.attributes[Ce]=Ae),Te=(0,me.default)(Oe[0])&&Oe[0].ns?Oe[0].ns:null,M(Oe)){var Ie=Te?Oe[0].value:Oe;Ee&&G(Ce)&&Ie.unshift(Ae),this._bindToObservable({schema:Ie,updater:S(Se,Ce,Te),data:Me})}else'style'==Ce&&'string'!=typeof Oe[0]?this._renderStyleAttribute(Oe[0],Me):(Ee&&Ae&&G(Ce)&&Oe.unshift(Ae),Oe=Oe.map(function(Re){return Re?Re.value||Re:Re}).reduce(function(Re,Ve){return Re.concat(Ve)},[]).reduce(q,''),H(Oe)||Se.setAttributeNS(Te,Ce,Oe))}}},{key:'_renderStyleAttribute',value:function(Me,Ce){var Oe=Ce.node;for(var Ae in Me){var Te=Me[Ae];M(Te)?this._bindToObservable({schema:[Te],updater:E(Oe,Ae),data:Ce}):Oe.style[Ae]=Te}}},{key:'_renderElementChildren',value:function(Me){var Ce=Me.node,Oe=Me.intoFragment?document.createDocumentFragment():Ce,Ae=Me.isApplying,Te=0,Se=!0,Ee=!1,Ie;try{for(var Re=this.children[Symbol.iterator](),Ve,Ne;!(Se=(Ve=Re.next()).done);Se=!0)if(Ne=Ve.value,$(Ne)){if(!Ae){Ne.setParent(Ce);var Fe=!0,Be=!1,De=void 0;try{for(var je=Ne[Symbol.iterator](),Le,qe;!(Fe=(Le=je.next()).done);Fe=!0)qe=Le.value,Oe.appendChild(qe.element)}catch(He){Be=!0,De=He}finally{try{!Fe&&je.return&&je.return()}finally{if(Be)throw De}}}}else if(U(Ne))Ae||Oe.appendChild(Ne.element);else if(Ae){var ze=Me.revertData,We=J();ze.children.push(We),Ne._renderNode({node:Oe.childNodes[Te++],isApplying:!0,revertData:We})}else Oe.appendChild(Ne.render())}catch(He){Ee=!0,Ie=He}finally{try{!Se&&Re.return&&Re.return()}finally{if(Ee)throw Ie}}Me.intoFragment&&Ce.appendChild(Oe)}},{key:'_setUpListeners',value:function(Me){var Ce=this;if(this.eventListeners){var Oe=function(Se){var Ee=Ce.eventListeners[Se].map(function(Ie){var Re=Se.split('@'),Ve=Y(Re,2),Ne=Ve[0],Fe=Ve[1];return Ie.activateDomEventListener(Ne,Fe,Me)});Me.revertData&&Me.revertData.bindings.push(Ee)};for(var Ae in this.eventListeners)Oe(Ae)}}},{key:'_bindToObservable',value:function(Me){var Ce=Me.schema,Oe=Me.updater,Ae=Me.data,Te=Ae.revertData;O(Ce,Oe,Ae);var Se=Ce.filter(function(Ee){return!H(Ee)}).filter(function(Ee){return Ee.observable}).map(function(Ee){return Ee.activateAttributeListener(Ce,Oe,Ae)});Te&&Te.bindings.push(Se)}},{key:'_revertTemplateFromNode',value:function(Me,Ce){var Oe=!0,Ae=!1,Te;try{for(var Se=Ce.bindings[Symbol.iterator](),Ee;!(Oe=(Ee=Se.next()).done);Oe=!0){var Ie=Ee.value,Re=!0,Ve=!1,Ne=void 0;try{for(var Fe=Ie[Symbol.iterator](),Be,De;!(Re=(Be=Fe.next()).done);Re=!0)De=Be.value,De()}catch(ze){Ve=!0,Ne=ze}finally{try{!Re&&Fe.return&&Fe.return()}finally{if(Ve)throw Ne}}}}catch(ze){Ae=!0,Te=ze}finally{try{!Oe&&Se.return&&Se.return()}finally{if(Ae)throw Te}}if(Ce.text)return void(Me.textContent=Ce.text);for(var je in Ce.attributes){var Le=Ce.attributes[je];null===Le?Me.removeAttribute(je):Me.setAttribute(je,Le)}for(var qe=0;qe<Ce.children.length;++qe)this._revertTemplateFromNode(Me.childNodes[qe],Ce.children[qe])}}],[{key:'bind',value:function(Me,Ce){return{to:function(Ae,Te){return new ke({eventNameOrFunction:Ae,attribute:Ae,observable:Me,emitter:Ce,callback:Te})},if:function(Ae,Te,Se){return new Pe({observable:Me,emitter:Ce,attribute:Ae,valueIfTrue:Te,callback:Se})}}}},{key:'extend',value:function(Me,Ce){Me._isRendered&&ye.default.warn('template-extend-render: Attempting to extend a template which has already been rendered.'),W(Me,R(I(Ce)))}}]),we}();u.default=he,(0,re.default)(he,oe.default);var ve=u.TemplateBinding=function(){function we(xe){w(this,we),Object.assign(this,xe)}return X(we,[{key:'getValue',value:function(Me){var Ce=this.observable[this.attribute];return this.callback?this.callback(Ce,Me):Ce}},{key:'activateAttributeListener',value:function(Me,Ce,Oe){var Ae=this,Te=function(){return O(Me,Ce,Oe)};return this.emitter.listenTo(this.observable,'change:'+this.attribute,Te),function(){Ae.emitter.stopListening(Ae.observable,'change:'+Ae.attribute,Te)}}}]),we}(),ke=u.TemplateToBinding=function(we){function xe(){return w(this,xe),h(this,(xe.__proto__||Object.getPrototypeOf(xe)).apply(this,arguments))}return P(xe,we),X(xe,[{key:'activateDomEventListener',value:function(Ce,Oe,Ae){var Te=this,Se=function(Ie,Re){(!Oe||Re.target.matches(Oe))&&('function'==typeof Te.eventNameOrFunction?Te.eventNameOrFunction(Re):Te.observable.fire(Te.eventNameOrFunction,Re))};return this.emitter.listenTo(Ae.node,Ce,Se),function(){Te.emitter.stopListening(Ae.node,Ce,Se)}}}]),xe}(ve),Pe=u.TemplateIfBinding=function(we){function xe(){return w(this,xe),h(this,(xe.__proto__||Object.getPrototypeOf(xe)).apply(this,arguments))}return P(xe,we),X(xe,[{key:'getValue',value:function(Ce){var Oe=Q(xe.prototype.__proto__||Object.getPrototypeOf(xe.prototype),'getValue',this).call(this,Ce);return!H(Oe)&&(this.valueIfTrue||!0)}}]),xe}(ve)},function(r,u,s){'use strict';function d(D){return D&&D.__esModule?D:{default:D}}function f(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}function h(D,L){if(!D)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:D}function P(D,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);D.prototype=Object.create(L&&L.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(D,L):D.__proto__=L)}function w(D){return'string'==typeof D?[new R.default(D)]:((0,N.default)(D)||(D=[D]),Array.from(D).map(function(L){return'string'==typeof L?new R.default(L):L}))}Object.defineProperty(u,'__esModule',{value:!0});var M=function(){function D(L,q){for(var z=0,W;z<q.length;z++)W=q[z],W.enumerable=W.enumerable||!1,W.configurable=!0,'value'in W&&(W.writable=!0),Object.defineProperty(L,W.key,W)}return function(L,q,z){return q&&D(L.prototype,q),z&&D(L,z),L}}(),C=function D(L,q,z){null===L&&(L=Function.prototype);var W=Object.getOwnPropertyDescriptor(L,q);if(W===void 0){var H=Object.getPrototypeOf(L);return null===H?void 0:D(H,q,z)}if('value'in W)return W.value;var U=W.get;return void 0===U?void 0:U.call(z)},O=s(61),T=d(O),S=s(79),E=d(S),I=s(27),R=d(I),V=s(47),N=d(V),F=function(D){function L(q,z,W){f(this,L);var H=h(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,z));return H.name=q,H._children=new E.default,W&&H.insertChildren(0,W),H}return P(L,D),M(L,[{key:'is',value:function(z){var W=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return W?'element'==z&&W==this.name:'element'==z||z==this.name}},{key:'getChild',value:function(z){return this._children.getNode(z)}},{key:'getChildren',value:function(){return this._children[Symbol.iterator]()}},{key:'getChildIndex',value:function(z){return this._children.getNodeIndex(z)}},{key:'getChildStartOffset',value:function(z){return this._children.getNodeStartOffset(z)}},{key:'clone',value:function(){var z=0<arguments.length&&void 0!==arguments[0]&&arguments[0],W=z?Array.from(this._children).map(function(H){return H.clone(!0)}):null;return new L(this.name,this.getAttributes(),W)}},{key:'offsetToIndex',value:function(z){return this._children.offsetToIndex(z)}},{key:'appendChildren',value:function(z){this.insertChildren(this.childCount,z)}},{key:'insertChildren',value:function(z,W){W=w(W);var H=!0,U=!1,K;try{for(var $=W[Symbol.iterator](),J,G;!(H=(J=$.next()).done);H=!0)G=J.value,G.parent=this}catch(Q){U=!0,K=Q}finally{try{!H&&$.return&&$.return()}finally{if(U)throw K}}this._children.insertNodes(z,W)}},{key:'removeChildren',value:function(z){var W=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,H=this._children.removeNodes(z,W),U=!0,K=!1,$;try{for(var J=H[Symbol.iterator](),G,Q;!(U=(G=J.next()).done);U=!0)Q=G.value,Q.parent=null}catch(Y){K=!0,$=Y}finally{try{!U&&J.return&&J.return()}finally{if(K)throw $}}return H}},{key:'getNodeByPath',value:function(z){var W=this,H=!0,U=!1,K;try{for(var $=z[Symbol.iterator](),J,G;!(H=(J=$.next()).done);H=!0)G=J.value,W=W.getChild(W.offsetToIndex(G))}catch(Q){U=!0,K=Q}finally{try{!H&&$.return&&$.return()}finally{if(U)throw K}}return W}},{key:'toJSON',value:function(){var z=C(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),'toJSON',this).call(this);if(z.name=this.name,0<this._children.length){z.children=[];var W=!0,H=!1,U;try{for(var K=this._children[Symbol.iterator](),$,J;!(W=($=K.next()).done);W=!0)J=$.value,z.children.push(J.toJSON())}catch(G){H=!0,U=G}finally{try{!W&&K.return&&K.return()}finally{if(H)throw U}}}return z}},{key:'childCount',get:function(){return this._children.length}},{key:'maxOffset',get:function(){return this._children.maxOffset}},{key:'isEmpty',get:function(){return 0===this.childCount}}],[{key:'fromJSON',value:function(z){var W=null;if(z.children){W=[];var H=!0,U=!1,K;try{for(var $=z.children[Symbol.iterator](),J,G;!(H=(J=$.next()).done);H=!0)G=J.value,G.name?W.push(L.fromJSON(G)):W.push(R.default.fromJSON(G))}catch(Q){U=!0,K=Q}finally{try{!H&&$.return&&$.return()}finally{if(U)throw K}}}return new L(z.name,z.attributes,W)}}]),L}(T.default);u.default=F},function(r,u,s){'use strict';function d(W){return W&&W.__esModule?W:{default:W}}function f(W,H){if(!(W instanceof H))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function W(H,U){for(var K=0,$;K<U.length;K++)$=U[K],$.enumerable=$.enumerable||!1,$.configurable=!0,'value'in $&&($.writable=!0),Object.defineProperty(H,$.key,$)}return function(H,U,K){return U&&W(H.prototype,U),K&&W(H,K),H}}(),P=s(0),w=d(P),M=s(125),C=d(M),O=s(5),T=d(O),S=s(88),E=d(S),I=s(19),R=d(I),V=s(87),N=d(V),F=s(4),D=d(F),L=s(47),q=d(L),z=function(){function W(H){f(this,W),this.locale=H,this.t=H&&H.t,this.set('ready',!1),this._viewCollections=new N.default,this._unboundChildren=this.createCollection(),this._viewCollections.on('add',function(U,K){K.locale=H})}return h(W,[{key:'createCollection',value:function(){var U=new C.default;return this._viewCollections.add(U),U}},{key:'addChildren',value:function(U){var K=this;(0,q.default)(U)||(U=[U]),U.map(function($){return K._unboundChildren.add($)})}},{key:'init',value:function(){if(this.ready)throw new w.default('ui-view-init-reinit: This View has already been initialized.');this._viewCollections.map(function(U){return U.init()}),this.ready=!0}},{key:'destroy',value:function(){this.stopListening(),this._viewCollections.map(function(U){return U.destroy()})}},{key:'_addTemplateChildren',value:function(){var U=this;(function $(J){if(J.children){var G=!0,Q=!1,Y;try{for(var X=J.children[Symbol.iterator](),Z,ee;!(G=(Z=X.next()).done);G=!0)ee=Z.value,ee instanceof W?U.addChildren(ee):$(ee)}catch(te){Q=!0,Y=te}finally{try{!G&&X.return&&X.return()}finally{if(Q)throw Y}}}})(this.template)}},{key:'element',get:function(){return this._element?this._element:this.template?(this._addTemplateChildren(),this._element=this.template.render()):null},set:function(U){this._element=U}},{key:'bindTemplate',get:function(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=T.default.bind(this,this)}}]),W}();u.default=z,(0,D.default)(z,E.default),(0,D.default)(z,R.default)},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(190),P=d(h),w=s(14),M=d(w),O=_Mathmax;u.default=function(T,S){if('function'!=typeof T)throw new TypeError('Expected a function');return S=O(void 0===S?T.length-1:(0,M.default)(S),0),function(){for(var E=arguments,I=-1,R=O(E.length-S,0),V=Array(R);++I<R;)V[I]=E[S+I];switch(S){case 0:return T.call(this,V);case 1:return T.call(this,E[0],V);case 2:return T.call(this,E[0],E[1],V);}var N=Array(S+1);for(I=-1;++I<S;)N[I]=E[I];return N[S]=V,(0,P.default)(T,this,N)}}},function(r,u,s){'use strict';function d(H){return H&&H.__esModule?H:{default:H}}function f(H){if(Array.isArray(H)){for(var U=0,K=Array(H.length);U<H.length;U++)K[U]=H[U];return K}return Array.from(H)}function P(H,U){H[z]||(H[z]=U||(0,F.default)())}function w(H){return H[z]}function M(H){return H._events||Object.defineProperty(H,'_events',{value:{}}),H._events}function C(){return{callbacks:[],childEvents:[]}}function O(H,U){var K=M(H);if(!K[U]){for(var $=U,J=null,G=[];''!==$&&!K[$];)K[$]=C(),G.push(K[$]),J&&K[$].childEvents.push(J),J=$,$=$.substr(0,$.lastIndexOf(':'));if(''!==$){var Q=!0,Y=!1,X;try{for(var Z=G[Symbol.iterator](),ee,te;!(Q=(ee=Z.next()).done);Q=!0)te=ee.value,te.callbacks=K[$].callbacks.slice()}catch(re){Y=!0,X=re}finally{try{!Q&&Z.return&&Z.return()}finally{if(Y)throw X}}K[$].childEvents.push(J)}}}function T(H,U){var K=M(H)[U];if(!K)return[];for(var $=[K.callbacks],J=0,G;J<K.childEvents.length;J++)G=T(H,K.childEvents[J]),$=$.concat(G);return $}function S(H,U){var K;return H._events&&(K=H._events[U])&&K.callbacks.length?K.callbacks:-1<U.indexOf(':')?S(H,U.substr(0,U.lastIndexOf(':'))):null}function E(H,U,K){var $=!0,J=!1,G;try{for(var Q=H[Symbol.iterator](),Y;!($=(Y=Q.next()).done);$=!0){var X=Y.value,Z=I(X,2),ee=Z[0],te=Z[1];te?'function'==typeof te&&(te=te(U.name)):te=U.name;var re=new V.default(U.source,te);re.path=[].concat(f(U.path)),ee.fire.apply(ee,[re].concat(f(K)))}}catch(ae){J=!0,G=ae}finally{try{!$&&Q.return&&Q.return()}finally{if(J)throw G}}}Object.defineProperty(u,'__esModule',{value:!0});var I=function(){function H(U,K){var $=[],J=!0,G=!1,Q;try{for(var Y=U[Symbol.iterator](),X;!(J=(X=Y.next()).done)&&($.push(X.value),!(K&&$.length===K));J=!0);}catch(Z){G=!0,Q=Z}finally{try{!J&&Y['return']&&Y['return']()}finally{if(G)throw Q}}return $}return function(U,K){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return H(U,K);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();u._getEmitterListenedTo=function(H,U){return H[q]&&H[q][U]?H[q][U].emitter:null},u._setEmitterId=P,u._getEmitterId=w;var R=s(408),V=d(R),N=s(72),F=d(N),D=s(508),L=d(D),q=Symbol('listeningTo'),z=Symbol('emitterId');u.default={on:function(U,K){var $=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};O(this,U);var J=T(this,U),G=L.default.get($.priority);K={callback:K,context:$.context||this,priority:G};var Q=!0,Y=!1,X;try{for(var Z=J[Symbol.iterator](),ee;!(Q=(ee=Z.next()).done);Q=!0){for(var te=ee.value,re=!1,ae=0;ae<te.length;ae++)if(te[ae].priority<G){te.splice(ae,0,K),re=!0;break}re||te.push(K)}}catch(oe){Y=!0,X=oe}finally{try{!Q&&Z.return&&Z.return()}finally{if(Y)throw X}}},once:function(U,K,$){this.on(U,function(Q){Q.off();for(var Y=arguments.length,X=Array(1<Y?Y-1:0),Z=1;Z<Y;Z++)X[Z-1]=arguments[Z];K.call.apply(K,[this,Q].concat(X))},$)},off:function(U,K,$){var J=T(this,U),G=!0,Q=!1,Y;try{for(var X=J[Symbol.iterator](),Z,ee;!(G=(Z=X.next()).done);G=!0){ee=Z.value;for(var te=0;te<ee.length;te++)ee[te].callback==K&&($&&$!=ee[te].context||(ee.splice(te,1),te--))}}catch(re){Q=!0,Y=re}finally{try{!G&&X.return&&X.return()}finally{if(Q)throw Y}}},listenTo:function(U,K,$,J){var G,Q;this[q]||(this[q]={});var Y=this[q];w(U)||P(U);var X=w(U);(G=Y[X])||(G=Y[X]={emitter:U,callbacks:{}}),(Q=G.callbacks[K])||(Q=G.callbacks[K]=[]),Q.push($),U.on(K,$,J)},stopListening:function(U,K,$){var J=this[q],G=U&&w(U),Q=J&&G&&J[G],Y=Q&&K&&Q.callbacks[K];if(J&&(!U||Q)&&(!K||Y))if($)U.off(K,$);else if(Y){for(;$=Y.pop();)U.off(K,$);delete Q.callbacks[K]}else if(Q){for(K in Q.callbacks)this.stopListening(U,K);delete J[G]}else{for(G in J)this.stopListening(J[G].emitter);delete this[q]}},fire:function(U){var K=U instanceof V.default?U:new V.default(this,U),$=K.name,J=S(this,$);K.path.push(this);for(var G=arguments.length,Q=Array(1<G?G-1:0),Y=1;Y<G;Y++)Q[Y-1]=arguments[Y];if(J){var X=[K].concat(f(Q));J=Array.from(J);for(var Z=0;Z<J.length&&(J[Z].callback.apply(J[Z].context,X),K.off.called&&(delete K.off.called,this.off($,J[Z].callback,J[Z].context)),!K.stop.called);Z++);}if(this._delegations){var ee=this._delegations.get($),te=this._delegations.get('*');ee&&E(ee,K,Q),te&&E(te,K,Q)}return K.return},delegate:function(){for(var U=this,K=arguments.length,$=Array(K),J=0;J<K;J++)$[J]=arguments[J];return{to:function(Q,Y){U._delegations||(U._delegations=new Map);var X=!0,Z=!1,ee;try{for(var te=$[Symbol.iterator](),re;!(X=(re=te.next()).done);X=!0){var ae=re.value,oe=U._delegations.get(ae);oe?oe.set(Q,Y):U._delegations.set(ae,new Map([[Q,Y]]))}}catch(ne){Z=!0,ee=ne}finally{try{!X&&te.return&&te.return()}finally{if(Z)throw ee}}}}},stopDelegating:function(U,K){if(this._delegations)if(!U)this._delegations.clear();else if(!K)this._delegations.delete(U);else{var $=this._delegations.get(U);$&&$.delete(K)}}}},function(r,u,s){'use strict';function d(V){return V&&V.__esModule?V:{default:V}}Object.defineProperty(u,'__esModule',{value:!0});var h='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&'function'==typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?'symbol':typeof V},P=s(430),w=d(P),M=s(431),C=d(M),O=s(225),T=d(O),S=s(12),E=d(S),I=s(501),R=d(I);u.default=function(V){return'function'==typeof V?V:null==V?T.default:'object'==('undefined'==typeof V?'undefined':h(V))?(0,E.default)(V)?(0,C.default)(V[0],V[1]):(0,w.default)(V):(0,R.default)(V)}},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}function f(T,S){if(!(T instanceof S))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function T(S,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}return function(S,E,I){return E&&T(S.prototype,E),I&&T(S,I),S}}(),P=s(19),w=d(P),M=s(4),C=d(M),O=function(){function T(S){function E(){this.isEnabled=!1}var I=this;f(this,T),this.editor=S,this.set('value',void 0),this.set('isEnabled',!1),this.decorate('execute'),this.listenTo(this.editor.document,'changesDone',function(){I.refresh()}),this.on('execute',function(R){I.isEnabled||R.stop()},{priority:'high'}),this.listenTo(S,'change:isReadOnly',function(R,V,N){N?(I.on('change:isEnabled',E,{priority:'lowest'}),I.isEnabled=!1):(I.off('change:isEnabled',E),I.refresh())})}return h(T,[{key:'refresh',value:function(){this.isEnabled=!0}},{key:'execute',value:function(){}},{key:'destroy',value:function(){this.stopListening()}}]),T}();u.default=O,(0,C.default)(O,w.default)},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var d=Array.isArray;u.default=d},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(104),P=d(h),w=s(51),M=d(w);u.default=function(C){return(0,M.default)(C)&&(0,P.default)(C)}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(502),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w){var M=(0,P.default)(w),C=M%1;return M===M?C?M-C:M:0}},function(r,u,s){'use strict';function f(O,T){if(!(O instanceof T))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var P=function(){function O(T,S){for(var E=0,I;E<S.length;E++)I=S[E],I.enumerable=I.enumerable||!1,I.configurable=!0,'value'in I&&(I.writable=!0),Object.defineProperty(T,I.key,I)}return function(T,S,E){return S&&O(T.prototype,S),E&&O(T,E),T}}();u.register=function(O,T){if(C.prototype[O])throw new M.default('model-batch-register-taken: This batch method name is already taken.',{name:O});C.prototype[O]=T};var w=s(0),M=function(O){return O&&O.__esModule?O:{default:O}}(w),C=function(){function O(T){var S=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'default';f(this,O),this.document=T,this.deltas=[],this.type=S}return P(O,[{key:'addDelta',value:function(S){return S.batch=this,this.deltas.push(S),S}},{key:'getOperations',value:regeneratorRuntime.mark(function T(){var S,E,I,R,V,N;return regeneratorRuntime.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:S=!0,E=!1,I=void 0,D.prev=3,R=this.deltas[Symbol.iterator]();case 5:if(S=(V=R.next()).done){D.next=11;break}return N=V.value,D.delegateYield(N.operations,'t0',8);case 8:S=!0,D.next=5;break;case 11:D.next=17;break;case 13:D.prev=13,D.t1=D['catch'](3),E=!0,I=D.t1;case 17:D.prev=17,D.prev=18,!S&&R.return&&R.return();case 20:if(D.prev=20,!E){D.next=23;break}throw I;case 23:return D.finish(20);case 24:return D.finish(17);case 25:case'end':return D.stop();}},T,this,[[3,13,17,25],[18,,20,24]])})},{key:'baseVersion',get:function(){return 0<this.deltas.length?this.deltas[0].baseVersion:null}}]),O}();u.default=C},function(r,u,s){'use strict';function d(S){return S&&S.__esModule?S:{default:S}}function f(S,E){if(!(S instanceof E))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function S(E,I){for(var R=0,V;R<I.length;R++)V=I[R],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(E,V.key,V)}return function(E,I,R){return I&&S(E.prototype,I),R&&S(E,R),E}}(),P=s(0),w=d(P),M=s(319),C=d(M),O=new Map,T=function(){function S(){f(this,S)}return h(S,null,[{key:'fromJSON',value:function(I,R){if(!O.has(I.__className))throw new w.default('delta-fromjson-no-deserializer: This delta has no defined deserializer',{name:I.__className});var V=O.get(I.__className),N=new V,F=!0,D=!1,L;try{for(var q=I.operations[Symbol.iterator](),z,W;!(F=(z=q.next()).done);F=!0)W=z.value,N.addOperation(C.default.fromJSON(W,R))}catch(U){D=!0,L=U}finally{try{!F&&q.return&&q.return()}finally{if(D)throw L}}for(var H in I)'__className'!=H&&void 0===N[H]&&(N[H]=I[H]);return N}},{key:'register',value:function(I){O.set(I.className,I)}}]),S}();u.default=T},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var f='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&'function'==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?'symbol':typeof h};u.default=function(h){var P='undefined'==typeof h?'undefined':f(h);return!!h&&('object'==P||'function'==P)}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){var h=f?f.length:0;return h?f[h-1]:void 0}},function(r,u,s){'use strict';function d(U){return U&&U.__esModule?U:{default:U}}function f(U){q in U||(Object.defineProperty(U,q,{value:new Map}),Object.defineProperty(U,z,{value:new Map}),Object.defineProperty(U,W,{value:new Map}))}function h(){var U=this,K=w.apply(void 0,arguments),$=Array.from(this._bindings.keys()),J=$.length;if(!K.callback&&1<K.to.length)throw new V.default('observable-bind-to-no-callback: Binding multiple observables only possible with callback.');if(1<J&&K.callback)throw new V.default('observable-bind-to-extra-callback: Cannot bind multiple attributes and use a callback in one binding.');K.to.forEach(function(G){if(G.attrs.length&&G.attrs.length!==J)throw new V.default('observable-bind-to-attrs-length: The number of attributes must match.');G.attrs.length||(G.attrs=U._bindAttrs)}),this._to=K.to,K.callback&&(this._bindings.get($[0]).callback=K.callback),T(this._observable,this._to),C(this),this._bindAttrs.forEach(function(G){O(U._observable,G)})}function P(U){return U.every(function(K){return'string'==typeof K})}function w(){for(var U=arguments.length,K=Array(U),$=0;$<U;$++)K[$]=arguments[$];if(!K.length)throw new V.default('observable-bind-to-parse-error: Invalid argument syntax in `to()`.');var J={to:[]},G;return'function'==typeof K[K.length-1]&&(J.callback=K.pop()),K.forEach(function(Q){if('string'==typeof Q)G.attrs.push(Q);else if('object'==('undefined'==typeof Q?'undefined':S(Q)))G={observable:Q,attrs:[]},J.to.push(G);else throw new V.default('observable-bind-to-parse-error: Invalid argument syntax in `to()`.')}),J}function M(U,K,$,J){var G=U[z],Q=G.get($),Y=Q||{};Y[J]||(Y[J]=new Set),Y[J].add(K),Q||G.set($,Y)}function C(U){var K;U._bindings.forEach(function($,J){U._to.forEach(function(G){K=G.attrs[$.callback?0:U._bindAttrs.indexOf(J)],$.to.push([G.observable,K]),M(U._observable,$,G.observable,K)})})}function O(U,K){var $=U[W],J=$.get(K),G;J.callback?G=J.callback.apply(U,J.to.map(function(Q){return Q[0][Q[1]]})):(G=J.to[0],G=G[0][G[1]]),U.hasOwnProperty(K)?U[K]=G:U.set(K,G)}function T(U,K){K.forEach(function($){var J=U[z],G;J.get($.observable)||U.listenTo($.observable,'change',function(Q,Y){G=J.get($.observable)[Y],G&&G.forEach(function(X){O(U,X.attr)})})})}Object.defineProperty(u,'__esModule',{value:!0});var S='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&'function'==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?'symbol':typeof U},E=s(9),I=d(E),R=s(0),V=d(R),N=s(50),F=d(N),D=s(17),L=d(D),q=Symbol('attributes'),z=Symbol('boundObservables'),W=Symbol('boundAttributes'),H={set:function(K,$){var J=this;if((0,L.default)(K))return void Object.keys(K).forEach(function(Q){J.set(Q,K[Q])},this);f(this);var G=this[q];if(K in this&&!G.has(K))throw new V.default('observable-set-cannot-override: Cannot override an existing property.');Object.defineProperty(this,K,{enumerable:!0,configurable:!0,get:function(){return G.get(K)},set:function(Y){var X=G.get(K);X===Y&&G.has(K)||(G.set(K,Y),this.fire('change:'+K,K,Y,X))}}),this[K]=$},bind:function(){for(var K=arguments.length,$=Array(K),J=0;J<K;J++)$[J]=arguments[J];if(!$.length||!P($))throw new V.default('observable-bind-wrong-attrs: All attributes must be strings.');if(new Set($).size!==$.length)throw new V.default('observable-bind-duplicate-attrs: Attributes must be unique.');f(this);var G=this[W];$.forEach(function(Y){if(G.has(Y))throw new V.default('observable-bind-rebind: Cannot bind the same attribute more that once.')});var Q=new Map;return $.forEach(function(Y){var X={attr:Y,to:[]};G.set(Y,X),Q.set(Y,X)}),{to:h,_observable:this,_bindAttrs:$,_to:[],_bindings:Q}},unbind:function(){var K=this;if(q in this){for(var $=this[W],J=this[z],G=arguments.length,Q=Array(G),Y=0;Y<G;Y++)Q[Y]=arguments[Y];if(Q.length){if(!P(Q))throw new V.default('observable-unbind-wrong-attrs: Attributes must be strings.');Q.forEach(function(X){var Z=$.get(X),ee,te,re,ae;Z.to.forEach(function(oe){ee=oe[0],te=oe[1],re=J.get(ee),ae=re[te],ae.delete(Z),ae.size||delete re[te],Object.keys(re).length||(J.delete(ee),K.stopListening(ee,'change'))}),$.delete(X)})}else J.forEach(function(X,Z){K.stopListening(Z,'change')}),J.clear(),$.clear()}},decorate:function(K){var $=this,J=this[K];if(!J)throw new V.default('observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.',{object:this,methodName:K});this.on(K,function(G,Q){G.return=J.apply($,Q)}),this[K]=function(){for(var G=arguments.length,Q=Array(G),Y=0;Y<G;Y++)Q[Y]=arguments[Y];return this.fire(K,Q)}}};u.default=H,(0,F.default)(H,I.default)},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}function f(T,S){if(!(T instanceof S))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function T(S,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}return function(S,E,I){return E&&T(S.prototype,E),I&&T(S,I),S}}(),P=s(70),w=d(P),M=s(16),C=d(M),O=function(){function T(){f(this,T),this.batch=null,this.operations=[]}return h(T,[{key:'addOperation',value:function(E){return E.delta=this,this.operations.push(E),E}},{key:'clone',value:function(){var E=new this.constructor,I=!0,R=!1,V;try{for(var N=this.operations[Symbol.iterator](),F,D;!(I=(F=N.next()).done);I=!0)D=F.value,E.addOperation(D.clone())}catch(L){R=!0,V=L}finally{try{!I&&N.return&&N.return()}finally{if(R)throw V}}return E}},{key:'getReversed',value:function(){var E=new this._reverseDeltaClass,I=!0,R=!1,V;try{for(var N=this.operations[Symbol.iterator](),F,D;!(I=(F=N.next()).done);I=!0)D=F.value,E.addOperation(D.getReversed())}catch(q){R=!0,V=q}finally{try{!I&&N.return&&N.return()}finally{if(R)throw V}}E.operations.reverse();for(var L=0;L<E.operations.length;L++)E.operations[L].baseVersion=this.operations[this.operations.length-1].baseVersion+L+1;return E}},{key:'toJSON',value:function(){var E=(0,w.default)(this);return E.__className=this.constructor.className,delete E.batch,E}},{key:'baseVersion',get:function(){return 0<this.operations.length?this.operations[0].baseVersion:null},set:function(E){var I=!0,R=!1,V;try{for(var N=this.operations[Symbol.iterator](),F,D;!(I=(F=N.next()).done);I=!0)D=F.value,D.baseVersion=E++}catch(L){R=!0,V=L}finally{try{!I&&N.return&&N.return()}finally{if(R)throw V}}}},{key:'_reverseDeltaClass',get:function(){return T}}],[{key:'className',get:function(){return'engine.model.delta.Delta'}}]),T}();u.default=O,C.default.register(O)},function(r,u,s){'use strict';function d(J){return J&&J.__esModule?J:{default:J}}function f(J,G){G=C(G);var Q=G.reduce(function(Z,ee){return Z+ee.offsetSize},0),Y=J.parent;T(J);var X=J.index;return Y.insertChildren(X,G),O(Y,X+G.length),O(Y,X),new L.default(J,J.getShiftedBy(Q))}function h(J){if(!J.isFlat)throw new K.default('model-writer-remove-range-not-flat: Trying to remove a range that starts and ends in different element.');var G=J.start.parent;T(J.start),T(J.end);var Q=G.removeChildren(J.start.index,J.end.index-J.start.index);return O(G,J.start.index),Q}function P(J,G){if(!J.isFlat)throw new K.default('model-writer-move-range-not-flat: Trying to move a range that starts and ends in different element.');var Q=this.remove(J);return G=G._getTransformedByDeletion(J.start,J.end.offset-J.start.offset),this.insert(G,Q)}function w(J,G,Q){T(J.start),T(J.end);var Y=!0,X=!1,Z;try{for(var ee=J.getItems()[Symbol.iterator](),te;!(Y=(te=ee.next()).done);Y=!0){var re=te.value,ae=re.is('textProxy')?re.textNode:re;null===Q?ae.removeAttribute(G):ae.setAttribute(G,Q),O(ae.parent,ae.index)}}catch(oe){X=!0,Z=oe}finally{try{!Y&&ee.return&&ee.return()}finally{if(X)throw Z}}O(J.end.parent,J.end.index)}function M(J,G){this.setAttribute(J,G,null)}function C(J){var G=[];J instanceof Array||(J=[J]);for(var Q=0;Q<J.length;Q++)if('string'==typeof J[Q])G.push(new V.default(J[Q]));else if(J[Q]instanceof F.default)G.push(new V.default(J[Q].data,J[Q].getAttributes()));else if(J[Q]instanceof z.default||J[Q]instanceof H.default){var Y=!0,X=!1,Z=void 0;try{for(var ee=J[Q][Symbol.iterator](),te,re;!(Y=(te=ee.next()).done);Y=!0)re=te.value,G.push(re)}catch(le){X=!0,Z=le}finally{try{!Y&&ee.return&&ee.return()}finally{if(X)throw Z}}}else J[Q]instanceof I.default&&G.push(J[Q]);for(var ae=1;ae<G.length;ae++){var oe=G[ae],ne=G[ae-1];oe instanceof V.default&&ne instanceof V.default&&S(oe,ne)&&(G.splice(ae-1,2,new V.default(ne.data+oe.data,ne.getAttributes())),ae--)}return G}function O(J,G){var Q=J.getChild(G-1),Y=J.getChild(G);if(Q&&Y&&Q.is('text')&&Y.is('text')&&S(Q,Y)){var X=new V.default(Q.data+Y.data,Q.getAttributes());J.removeChildren(G-1,2),J.insertChildren(G-1,X)}}function T(J){var G=J.textNode,Q=J.parent;if(G){var Y=J.offset-G.startOffset,X=G.index;Q.removeChildren(X,1);var Z=new V.default(G.data.substr(0,Y),G.getAttributes()),ee=new V.default(G.data.substr(Y),G.getAttributes());Q.insertChildren(X,[Z,ee])}}function S(J,G){var Q=J.getAttributes(),Y=G.getAttributes(),X=!0,Z=!1,ee;try{for(var te=Q[Symbol.iterator](),re,ae;!(X=(re=te.next()).done);X=!0){if(ae=re.value,ae[1]!==G.getAttribute(ae[0]))return!1;Y.next()}}catch(oe){Z=!0,ee=oe}finally{try{!X&&te.return&&te.return()}finally{if(Z)throw ee}}return Y.next().done}Object.defineProperty(u,'__esModule',{value:!0}),u.insert=f,u.remove=h,u.move=P,u.setAttribute=w,u.removeAttribute=M,u.normalizeNodes=C;var E=s(61),I=d(E),R=s(27),V=d(R),N=s(63),F=d(N),D=s(3),L=d(D),q=s(35),z=d(q),W=s(79),H=d(W),U=s(0),K=d(U);u.default={insert:f,remove:h,move:P,setAttribute:w,removeAttribute:M,normalizeNodes:C}},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}function f(R,V){if(!(R instanceof V))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function R(V,N){for(var F=0,D;F<N.length;F++)D=N[F],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(V,D.key,D)}return function(V,N,F){return N&&R(V.prototype,N),F&&R(V,F),V}}(),P=s(55),w=d(P),M=s(56),C=d(M),O=s(0),T=d(O),S=s(82),E=d(S),I=function(){function R(V,N){f(this,R),this.parent=V,this.offset=N}return h(R,[{key:'getShiftedBy',value:function(N){var F=R.createFromPosition(this),D=F.offset+N;return F.offset=0>D?0:D,F}},{key:'getLastMatchingPosition',value:function(N){var F=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};F.startPosition=this;var D=new w.default(F);return D.skip(N),D.position}},{key:'getAncestors',value:function(){return this.parent.is('documentFragment')?[this.parent]:this.parent.getAncestors({includeSelf:!0})}},{key:'getCommonAncestor',value:function(N){for(var F=this.getAncestors(),D=N.getAncestors(),L=0;F[L]==D[L]&&F[L];)L++;return 0==L?null:F[L-1]}},{key:'isEqual',value:function(N){return this.parent==N.parent&&this.offset==N.offset}},{key:'isBefore',value:function(N){return'before'==this.compareWith(N)}},{key:'isAfter',value:function(N){return'after'==this.compareWith(N)}},{key:'compareWith',value:function(N){if(this.isEqual(N))return'same';if(this.parent===N.parent)return 0>this.offset-N.offset?'before':'after';var F=this.getAncestors(),D=N.getAncestors(),L=(0,C.default)(F,D),q;switch(L){case 0:return'different';case'prefix':q=F.length-1;break;case'extension':q=D.length-1;break;default:q=L-1;}var z=F[q],W=F[q+1],H=D[q+1];if(z===this.parent){var U=this.offset-H.index;return 0>=U?'before':'after'}if(z===N.parent){var K=W.index-N.offset;return 0>K?'before':'after'}var $=W.index-H.index;return 0>$?'before':'after'}},{key:'nodeAfter',get:function(){return this.parent.is('text')?null:this.parent.getChild(this.offset)||null}},{key:'nodeBefore',get:function(){return this.parent.is('text')?null:this.parent.getChild(this.offset-1)||null}},{key:'isAtStart',get:function(){return 0===this.offset}},{key:'isAtEnd',get:function(){var N=this.parent.is('text')?this.parent.data.length:this.parent.childCount;return this.offset===N}},{key:'root',get:function(){return this.parent.root}},{key:'editableElement',get:function(){for(var N=this.parent;!(N instanceof E.default);)if(N.parent)N=N.parent;else return null;return N}}],[{key:'createAt',value:function(N,F){if(N instanceof R)return this.createFromPosition(N);var D=N;if('end'==F)F=D.is('text')?D.data.length:D.childCount;else{if('before'==F)return this.createBefore(D);if('after'==F)return this.createAfter(D);F||(F=0)}return new R(D,F)}},{key:'createAfter',value:function(N){if(N.is('textProxy'))return new R(N.textNode,N.offsetInText+N.data.length);if(!N.parent)throw new T.default('view-position-after-root: You can not make position after root.',{root:N});return new R(N.parent,N.index+1)}},{key:'createBefore',value:function(N){if(N.is('textProxy'))return new R(N.textNode,N.offsetInText);if(!N.parent)throw new T.default('view-position-before-root: You can not make position before root.',{root:N});return new R(N.parent,N.index)}},{key:'createFromPosition',value:function(N){return new this(N.parent,N.offset)}}]),R}();u.default=I},function(r,u,s){'use strict';function d(D){return D&&D.__esModule?D:{default:D}}function f(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}function h(D,L){if(!D)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:D}function P(D,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);D.prototype=Object.create(L&&L.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(D,L):D.__proto__=L)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function D(L,q){for(var z=0,W;z<q.length;z++)W=q[z],W.enumerable=W.enumerable||!1,W.configurable=!0,'value'in W&&(W.writable=!0),Object.defineProperty(L,W.key,W)}return function(L,q,z){return q&&D(L.prototype,q),z&&D(L,z),L}}(),M=function D(L,q,z){null===L&&(L=Function.prototype);var W=Object.getOwnPropertyDescriptor(L,q);if(W===void 0){var H=Object.getPrototypeOf(L);return null===H?void 0:D(H,q,z)}if('value'in W)return W.value;var U=W.get;return void 0===U?void 0:U.call(z)},C=s(7),O=d(C),T=s(5),S=d(T),E=s(381),I=d(E),R=s(390),V=d(R),N=s(24),F=function(D){function L(q){f(this,L);var z=h(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,q));z.set('label'),z.set('keystroke'),z.set('tooltip'),z.set('tooltipPosition','s'),z.set('type','button'),z.set('isOn',!1),z.set('isEnabled',!0),z.set('isVisible',!0),z.set('withText',!1),z.set('icon'),z.set('tabindex',-1),z.bind('_tooltipString').to(z,'tooltip',z,'label',z,'keystroke',z._getTooltipString.bind(z)),z.tooltipView=z._createTooltipView();var W=z.bindTemplate;return z.template=new S.default({tag:'button',attributes:{class:['ck-button',W.to('isEnabled',function(H){return H?'ck-enabled':'ck-disabled'}),W.if('isVisible','ck-hidden',function(H){return!H}),W.to('isOn',function(H){return H?'ck-on':'ck-off'}),W.if('withText','ck-button_with-text')],type:W.to('type',function(H){return H?H:'button'}),tabindex:W.to('tabindex')},children:[{tag:'span',attributes:{class:['ck-button__label']},children:[{text:W.to('label')}]},z.tooltipView],on:{mousedown:W.to(function(H){H.preventDefault()}),click:W.to(function(H){z.isEnabled?z.fire('execute'):H.preventDefault()})}}),z}return P(L,D),w(L,[{key:'init',value:function(){if(this.icon){var z=this.iconView=new I.default;z.bind('content').to(this,'icon'),this.element.insertBefore(z.element,this.element.firstChild),this.addChildren(z)}M(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),'init',this).call(this)}},{key:'focus',value:function(){this.element.focus()}},{key:'_createTooltipView',value:function(){var z=new V.default;return z.bind('text').to(this,'_tooltipString'),z.bind('position').to(this,'tooltipPosition'),z}},{key:'_getTooltipString',value:function(z,W,H){return z?'string'==typeof z?z:(H&&(H=(0,N.getEnvKeystrokeText)(H)),z instanceof Function?z(W,H):''+W+(H?' ('+H+')':'')):''}}]),L}(O.default);u.default=F},function(r,u,s){'use strict';function d(I){return I&&I.__esModule?I:{default:I}}function f(I){var R;if('string'!=typeof I)R=I.keyCode+(I.altKey?E.alt:0)+(I.ctrlKey?E.ctrl:0)+(I.shiftKey?E.shift:0);else if(R=E[I.toLowerCase()],!R)throw new O.default('keyboard-unknown-key: Unknown key name.',{key:I});return R}function M(I){return I.split(/\s*\+\s*/)}Object.defineProperty(u,'__esModule',{value:!0}),u.keyCodes=void 0,u.getCode=f,u.parseKeystroke=function(I){return'string'==typeof I&&(I=M(I)),I.map(function(R){return'string'==typeof R?f(R):R}).reduce(function(R,V){return V+R},0)},u.getEnvKeystrokeText=function(I){var R=M(I);return S.default.mac&&'ctrl'==R[0].toLowerCase()?'\u2318'+(R[1]||''):I};var C=s(0),O=d(C),T=s(407),S=d(T),E=u.keyCodes=function(){for(var I={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448},R=65,V;90>=R;R++)V=String.fromCharCode(R),I[V.toLowerCase()]=R;for(var N=48;57>=N;N++)I[N-48]=N;for(var F=112;123>=F;F++)I['f'+(F-111)]=F;return I}()},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}function f(C,O,T,S,E){var I=-1,R=C.length;for(T||(T=M.default),E||(E=[]);++I<R;){var V=C[I];0<O&&T(V)?1<O?f(V,O-1,T,S,E):(0,P.default)(E,V):!S&&(E[E.length]=V)}return E}Object.defineProperty(u,'__esModule',{value:!0});var h=s(92),P=d(h),w=s(464),M=d(w);u.default=f},function(r,u,s){'use strict';function d(q){return q&&q.__esModule?q:{default:q}}function f(q,z){if(!(q instanceof z))throw new TypeError('Cannot call a class as a function')}function h(q,z){if(!q)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return z&&('object'==typeof z||'function'==typeof z)?z:q}function P(q,z){if('function'!=typeof z&&null!==z)throw new TypeError('Super expression must either be null or a function, not '+typeof z);q.prototype=Object.create(z&&z.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(q,z):q.__proto__=z)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function q(z,W){for(var H=0,U;H<W.length;H++)U=W[H],U.enumerable=U.enumerable||!1,U.configurable=!0,'value'in U&&(U.writable=!0),Object.defineProperty(z,U.key,U)}return function(z,W,H){return W&&q(z.prototype,W),H&&q(z,H),z}}(),M=s(36),C=d(M),O=s(1),T=d(O),S=s(3),E=d(S),I=s(0),R=d(I),V=s(56),N=d(V),F=s(21),D=d(F),L=function(q){function z(W,H,U,K){f(this,z);var $=h(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,K));return $.sourcePosition=T.default.createFromPosition(W),$.howMany=H,$.targetPosition=T.default.createFromPosition(U),$.isSticky=!1,$}return P(z,q),w(z,[{key:'clone',value:function(){var H=new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion);return H.isSticky=this.isSticky,H}},{key:'getMovedRangeStart',value:function(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}},{key:'getReversed',value:function(){var H=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany),U=new this.constructor(this.getMovedRangeStart(),this.howMany,H,this.baseVersion+1);return U.isSticky=this.isSticky,U}},{key:'_execute',value:function(){var H=this.sourcePosition.parent,U=this.targetPosition.parent,K=this.sourcePosition.offset,$=this.targetPosition.offset;if(!H||!U)throw new R.default('move-operation-position-invalid: Source position or target position is invalid.');else if(K+this.howMany>H.maxOffset)throw new R.default('move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.');else if(H===U&&K<$&&$<K+this.howMany)throw new R.default('move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.');else if(this.sourcePosition.root==this.targetPosition.root&&'prefix'==(0,N.default)(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){var J=this.sourcePosition.path.length-1;if(this.targetPosition.path[J]>=K&&this.targetPosition.path[J]<K+this.howMany)throw new R.default('move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.')}var G=D.default.move(E.default.createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition);return{sourcePosition:this.sourcePosition,range:G}}},{key:'type',get:function(){return'move'}}],[{key:'fromJSON',value:function(H,U){var K=T.default.fromJSON(H.sourcePosition,U),$=T.default.fromJSON(H.targetPosition,U),J=new this(K,H.howMany,$,H.baseVersion);return H.isSticky&&(J.isSticky=!0),J}},{key:'className',get:function(){return'engine.model.operation.MoveOperation'}}]),z}(C.default);u.default=L},function(r,u,s){'use strict';function f(S,E){if(!(S instanceof E))throw new TypeError('Cannot call a class as a function')}function h(S,E){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:S}function P(S,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function S(E,I){for(var R=0,V;R<I.length;R++)V=I[R],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(E,V.key,V)}return function(E,I,R){return I&&S(E.prototype,I),R&&S(E,R),E}}(),M=function S(E,I,R){null===E&&(E=Function.prototype);var V=Object.getOwnPropertyDescriptor(E,I);if(V===void 0){var N=Object.getPrototypeOf(E);return null===N?void 0:S(N,I,R)}if('value'in V)return V.value;var F=V.get;return void 0===F?void 0:F.call(R)},C=s(61),O=function(S){return S&&S.__esModule?S:{default:S}}(C),T=function(S){function E(I,R){f(this,E);var V=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,R));return V.data=I||'',V}return P(E,S),w(E,[{key:'is',value:function(R){return'text'==R}},{key:'clone',value:function(){return new E(this.data,this.getAttributes())}},{key:'toJSON',value:function(){var R=M(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),'toJSON',this).call(this);return R.data=this.data,R}},{key:'offsetSize',get:function(){return this.data.length}}],[{key:'fromJSON',value:function(R){return new E(R.data,R.attributes)}}]),E}(O.default);u.default=T},function(r,u,s){'use strict';function d(K){return K&&K.__esModule?K:{default:K}}function f(K){if(Array.isArray(K)){for(var $=0,J=Array(K.length);$<K.length;$++)J[$]=K[$];return J}return Array.from(K)}function h(K,$){if(!(K instanceof $))throw new TypeError('Cannot call a class as a function')}function P(K,$){if(!K)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return $&&('object'==typeof $||'function'==typeof $)?$:K}function w(K,$){if('function'!=typeof $&&null!==$)throw new TypeError('Super expression must either be null or a function, not '+typeof $);K.prototype=Object.create($&&$.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(K,$):K.__proto__=$)}function M(K,$){var J=null,G=0,Q=0,Y=null;if(K.clear(),''!==$){';'!=$.charAt($.length-1)&&($+=';');for(var X=0,Z;X<$.length;X++)if(Z=$.charAt(X),null==J)switch(Z){case':':Y||(Y=$.substr(G,X-G),Q=X+1);break;case'"':case'\'':J=Z;break;case';':var ee=$.substr(Q,X-Q);Y&&K.set(Y.trim(),ee.trim()),Y=null,G=X+1;}else Z===J&&(J=null)}}function C(K,$){var J=$.split(/\s+/);K.clear(),J.forEach(function(G){return K.add(G)})}function O(K){return'string'==typeof K?[new V.default(K)]:((0,L.default)(K)||(K=[K]),Array.from(K).map(function($){return'string'==typeof $?new V.default($):$}))}Object.defineProperty(u,'__esModule',{value:!0});var T=function(){function K($,J){var G=[],Q=!0,Y=!1,X;try{for(var Z=$[Symbol.iterator](),ee;!(Q=(ee=Z.next()).done)&&(G.push(ee.value),!(J&&G.length===J));Q=!0);}catch(te){Y=!0,X=te}finally{try{!Q&&Z['return']&&Z['return']()}finally{if(Y)throw X}}return G}return function($,J){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return K($,J);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),S=function(){function K($,J){for(var G=0,Q;G<J.length;G++)Q=J[G],Q.enumerable=Q.enumerable||!1,Q.configurable=!0,'value'in Q&&(Q.writable=!0),Object.defineProperty($,Q.key,Q)}return function($,J,G){return J&&K($.prototype,J),G&&K($,G),$}}(),E=s(83),I=d(E),R=s(31),V=d(R),N=s(271),F=d(N),D=s(47),L=d(D),q=s(106),z=d(q),W=s(167),H=d(W),U=function(K){function $(J,G,Q){h(this,$);var Y=P(this,($.__proto__||Object.getPrototypeOf($)).call(this));if(Y.name=J,Y._attrs=(0,z.default)(G)?(0,F.default)(G):new Map(G),Y._children=[],Q&&Y.insertChildren(0,Q),Y._classes=new Set,Y._attrs.has('class')){var X=Y._attrs.get('class');C(Y._classes,X),Y._attrs.delete('class')}return Y._styles=new Map,Y._attrs.has('style')&&(M(Y._styles,Y._attrs.get('style')),Y._attrs.delete('style')),Y._customProperties=new Map,Y}return w($,K),S($,[{key:'is',value:function(G){var Q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return Q?'element'==G&&Q==this.name:'element'==G||G==this.name}},{key:'clone',value:function(){var G=0<arguments.length&&void 0!==arguments[0]&&arguments[0],Q=[];if(G){var Y=!0,X=!1,Z;try{for(var ee=this.getChildren()[Symbol.iterator](),te,re;!(Y=(te=ee.next()).done);Y=!0)re=te.value,Q.push(re.clone(G))}catch(oe){X=!0,Z=oe}finally{try{!Y&&ee.return&&ee.return()}finally{if(X)throw Z}}}var ae=new this.constructor(this.name,this._attrs,Q);return ae._classes=new Set(this._classes),ae._styles=new Map(this._styles),ae._customProperties=new Map(this._customProperties),ae.getFillerOffset=this.getFillerOffset,ae}},{key:'appendChildren',value:function(G){return this.insertChildren(this.childCount,G)}},{key:'getChild',value:function(G){return this._children[G]}},{key:'getChildIndex',value:function(G){return this._children.indexOf(G)}},{key:'getChildren',value:function(){return this._children[Symbol.iterator]()}},{key:'getAttributeKeys',value:regeneratorRuntime.mark(function J(){var G,Q,Y,X,Z,ee;return regeneratorRuntime.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(!(0<this._classes.size)){re.next=3;break}return re.next=3,'class';case 3:if(!(0<this._styles.size)){re.next=6;break}return re.next=6,'style';case 6:G=!0,Q=!1,Y=void 0,re.prev=9,X=this._attrs.keys()[Symbol.iterator]();case 11:if(G=(Z=X.next()).done){re.next=18;break}return ee=Z.value,re.next=15,ee;case 15:G=!0,re.next=11;break;case 18:re.next=24;break;case 20:re.prev=20,re.t0=re['catch'](9),Q=!0,Y=re.t0;case 24:re.prev=24,re.prev=25,!G&&X.return&&X.return();case 27:if(re.prev=27,!Q){re.next=30;break}throw Y;case 30:return re.finish(27);case 31:return re.finish(24);case 32:case'end':return re.stop();}},J,this,[[9,20,24,32],[25,,27,31]])})},{key:'getAttributes',value:regeneratorRuntime.mark(function J(){return regeneratorRuntime.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.delegateYield(this._attrs.entries(),'t0',1);case 1:if(!(0<this._classes.size)){Q.next=4;break}return Q.next=4,['class',this.getAttribute('class')];case 4:if(!(0<this._styles.size)){Q.next=7;break}return Q.next=7,['style',this.getAttribute('style')];case 7:case'end':return Q.stop();}},J,this)})},{key:'getAttribute',value:function(G){if('class'==G)return 0<this._classes.size?[].concat(f(this._classes)).join(' '):void 0;if('style'==G){if(0<this._styles.size){var Q='',Y=!0,X=!1,Z;try{for(var ee=this._styles[Symbol.iterator](),te;!(Y=(te=ee.next()).done);Y=!0){var re=te.value,ae=T(re,2),oe=ae[0],ne=ae[1];Q+=oe+':'+ne+';'}}catch(le){X=!0,Z=le}finally{try{!Y&&ee.return&&ee.return()}finally{if(X)throw Z}}return Q}return}return this._attrs.get(G)}},{key:'hasAttribute',value:function(G){return'class'==G?0<this._classes.size:'style'==G?0<this._styles.size:this._attrs.has(G)}},{key:'setAttribute',value:function(G,Q){this._fireChange('attributes',this),'class'==G?C(this._classes,Q):'style'==G?M(this._styles,Q):this._attrs.set(G,Q)}},{key:'insertChildren',value:function(G,Q){this._fireChange('children',this);var Y=0;Q=O(Q);var X=!0,Z=!1,ee;try{for(var te=Q[Symbol.iterator](),re,ae;!(X=(re=te.next()).done);X=!0)ae=re.value,ae.parent=this,this._children.splice(G,0,ae),G++,Y++}catch(oe){Z=!0,ee=oe}finally{try{!X&&te.return&&te.return()}finally{if(Z)throw ee}}return Y}},{key:'removeAttribute',value:function(G){return this._fireChange('attributes',this),'class'==G?!!(0<this._classes.size)&&(this._classes.clear(),!0):'style'==G?!!(0<this._styles.size)&&(this._styles.clear(),!0):this._attrs.delete(G)}},{key:'removeChildren',value:function(G){var Q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this._fireChange('children',this);for(var Y=G;Y<G+Q;Y++)this._children[Y].parent=null;return this._children.splice(G,Q)}},{key:'isSimilar',value:function(G){if(!(G instanceof $))return!1;if(this===G)return!0;if(this.name!=G.name)return!1;if(this._attrs.size!==G._attrs.size||this._classes.size!==G._classes.size||this._styles.size!==G._styles.size)return!1;var Q=!0,Y=!1,X;try{for(var Z=this._attrs[Symbol.iterator](),ee;!(Q=(ee=Z.next()).done);Q=!0){var te=ee.value,re=T(te,2),ae=re[0],oe=re[1];if(!G._attrs.has(ae)||G._attrs.get(ae)!==oe)return!1}}catch(ke){Y=!0,X=ke}finally{try{!Q&&Z.return&&Z.return()}finally{if(Y)throw X}}var ne=!0,le=!1,ue;try{for(var ie=this._classes[Symbol.iterator](),se,de;!(ne=(se=ie.next()).done);ne=!0)if(de=se.value,!G._classes.has(de))return!1}catch(ke){le=!0,ue=ke}finally{try{!ne&&ie.return&&ie.return()}finally{if(le)throw ue}}var fe=!0,ce=!1,pe;try{for(var me=this._styles[Symbol.iterator](),ge;!(fe=(ge=me.next()).done);fe=!0){var ye=ge.value,be=T(ye,2),he=be[0],ve=be[1];if(!G._styles.has(he)||G._styles.get(he)!==ve)return!1}}catch(ke){ce=!0,pe=ke}finally{try{!fe&&me.return&&me.return()}finally{if(ce)throw pe}}return!0}},{key:'addClass',value:function(){var G=this;this._fireChange('attributes',this);for(var Q=arguments.length,Y=Array(Q),X=0;X<Q;X++)Y[X]=arguments[X];Y.forEach(function(Z){return G._classes.add(Z)})}},{key:'removeClass',value:function(){var G=this;this._fireChange('attributes',this);for(var Q=arguments.length,Y=Array(Q),X=0;X<Q;X++)Y[X]=arguments[X];Y.forEach(function(Z){return G._classes.delete(Z)})}},{key:'hasClass',value:function(){for(var G=arguments.length,Q=Array(G),Y=0;Y<G;Y++)Q[Y]=arguments[Y];var X=!0,Z=!1,ee;try{for(var te=Q[Symbol.iterator](),re,ae;!(X=(re=te.next()).done);X=!0)if(ae=re.value,!this._classes.has(ae))return!1}catch(oe){Z=!0,ee=oe}finally{try{!X&&te.return&&te.return()}finally{if(Z)throw ee}}return!0}},{key:'getClassNames',value:function(){return this._classes.keys()}},{key:'setStyle',value:function(G,Q){if(this._fireChange('attributes',this),(0,z.default)(G)){var Y=Object.keys(G),X=!0,Z=!1,ee;try{for(var te=Y[Symbol.iterator](),re,ae;!(X=(re=te.next()).done);X=!0)ae=re.value,this._styles.set(ae,G[ae])}catch(oe){Z=!0,ee=oe}finally{try{!X&&te.return&&te.return()}finally{if(Z)throw ee}}}else this._styles.set(G,Q)}},{key:'getStyle',value:function(G){return this._styles.get(G)}},{key:'getStyleNames',value:function(){return this._styles.keys()}},{key:'hasStyle',value:function(){for(var G=arguments.length,Q=Array(G),Y=0;Y<G;Y++)Q[Y]=arguments[Y];var X=!0,Z=!1,ee;try{for(var te=Q[Symbol.iterator](),re,ae;!(X=(re=te.next()).done);X=!0)if(ae=re.value,!this._styles.has(ae))return!1}catch(oe){Z=!0,ee=oe}finally{try{!X&&te.return&&te.return()}finally{if(Z)throw ee}}return!0}},{key:'removeStyle',value:function(){var G=this;this._fireChange('attributes',this);for(var Q=arguments.length,Y=Array(Q),X=0;X<Q;X++)Y[X]=arguments[X];Y.forEach(function(Z){return G._styles.delete(Z)})}},{key:'findAncestor',value:function(){for(var G=arguments.length,Q=Array(G),Y=0;Y<G;Y++)Q[Y]=arguments[Y];for(var X=new(Function.prototype.bind.apply(H.default,[null].concat(Q))),Z=this.parent;Z;){if(X.match(Z))return Z;Z=Z.parent}return null}},{key:'setCustomProperty',value:function(G,Q){this._customProperties.set(G,Q)}},{key:'getCustomProperty',value:function(G){return this._customProperties.get(G)}},{key:'removeCustomProperty',value:function(G){return this._customProperties.delete(G)}},{key:'getCustomProperties',value:regeneratorRuntime.mark(function J(){return regeneratorRuntime.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.delegateYield(this._customProperties.entries(),'t0',1);case 1:case'end':return Q.stop();}},J,this)})},{key:'childCount',get:function(){return this._children.length}},{key:'isEmpty',get:function(){return 0===this._children.length}}]),$}(I.default);u.default=U},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h){for(var P=-1,w=f.length,M=Array(w);++P<w;)M[P]=h(f[P],P,f);return M}},function(r){'use strict';function d(h,P){var w=h[1]||'',M=h[3];if(!M)return w;if(P&&'function'==typeof btoa){var C=f(M),O=M.sources.map(function(T){return'/*# sourceURL='+M.sourceRoot+T+' */'});return[w].concat(O).concat([C]).join('\n')}return[w].join('\n')}function f(h){var P=btoa(unescape(encodeURIComponent(JSON.stringify(h))));return'/*# '+('sourceMappingURL=data:application/json;charset=utf-8;base64,'+P)+' */'}r.exports=function(h){var P=[];return P.toString=function(){return this.map(function(M){var C=d(M,h);return M[2]?'@media '+M[2]+'{'+C+'}':C}).join('')},P.i=function(w,M){'string'==typeof w&&(w=[[null,w,'']]);for(var C={},O=0,T;O<this.length;O++)T=this[O][0],'number'==typeof T&&(C[T]=!0);for(O=0;O<w.length;O++){var S=w[O];'number'==typeof S[0]&&C[S[0]]||(M&&!S[2]?S[2]=M:M&&(S[2]='('+S[2]+') and ('+M+')'),P.push(S))}},P}},function(r,u,s){'use strict';function f(T,S){if(!(T instanceof S))throw new TypeError('Cannot call a class as a function')}function h(T,S){if(!T)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return S&&('object'==typeof S||'function'==typeof S)?S:T}function P(T,S){if('function'!=typeof S&&null!==S)throw new TypeError('Super expression must either be null or a function, not '+typeof S);T.prototype=Object.create(S&&S.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(T,S):T.__proto__=S)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function T(S,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}return function(S,E,I){return E&&T(S.prototype,E),I&&T(S,I),S}}(),M=s(83),C=function(T){return T&&T.__esModule?T:{default:T}}(M),O=function(T){function S(E){f(this,S);var I=h(this,(S.__proto__||Object.getPrototypeOf(S)).call(this));return I._data=E,I}return P(S,T),w(S,[{key:'clone',value:function(){return new S(this.data)}},{key:'is',value:function(I){return'text'==I}},{key:'isSimilar',value:function(I){return!!(I instanceof S)&&(this===I||this.data===I.data)}},{key:'data',get:function(){return this._data},set:function(I){this._fireChange('text',this),this._data=I}}]),S}(C.default);u.default=O},function(r,u,s){'use strict';(function(d,f){Object.defineProperty(u,'__esModule',{value:!0});var P='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&'function'==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?'symbol':typeof N},w=s(437),M=function(N){return N&&N.__esModule?N:{default:N}}(w),C={function:!0,object:!0},O=C[P(u)]&&u&&!u.nodeType?u:void 0,T=C[P(d)]&&d&&!d.nodeType?d:void 0,S=(0,M.default)(O&&T&&'object'==('undefined'==typeof f?'undefined':P(f))&&f),E=(0,M.default)(C['undefined'==typeof self?'undefined':P(self)]&&self),I=(0,M.default)(C['undefined'==typeof window?'undefined':P(window)]&&window),R=(0,M.default)(C[P(void 0)]&&void 0),V=S||I!==(R&&R.window)&&I||E||R||Function('return this')();u.default=V}).call(u,s(108)(r),s(157))},function(r,u,s){function d(W,H){for(var U=0;U<W.length;U++){var K=W[U],$=I[K.id];if($){$.refs++;for(var J=0;J<$.parts.length;J++)$.parts[J](K.parts[J]);for(;J<K.parts.length;J++)$.parts.push(O(K.parts[J],H))}else{for(var G=[],J=0;J<K.parts.length;J++)G.push(O(K.parts[J],H));I[K.id]={id:K.id,refs:1,parts:G}}}}function f(W){for(var H=[],U={},K=0;K<W.length;K++){var $=W[K],J=$[0],G=$[1],Q=$[2],Y=$[3],X={css:G,media:Q,sourceMap:Y};U[J]?U[J].parts.push(X):H.push(U[J]={id:J,parts:[X]})}return H}function h(W,H){var U=N(W.insertInto);if(!U)throw new Error('Couldn\'t find a style target. This probably means that the value for the \'insertInto\' parameter is invalid.');var K=L[L.length-1];if('top'===W.insertAt)K?K.nextSibling?U.insertBefore(H,K.nextSibling):U.appendChild(H):U.insertBefore(H,U.firstChild),L.push(H);else if('bottom'===W.insertAt)U.appendChild(H);else throw new Error('Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.')}function P(W){W.parentNode.removeChild(W);var H=L.indexOf(W);0<=H&&L.splice(H,1)}function w(W){var H=document.createElement('style');return W.attrs.type='text/css',C(H,W.attrs),h(W,H),H}function M(W){var H=document.createElement('link');return W.attrs.type='text/css',W.attrs.rel='stylesheet',C(H,W.attrs),h(W,H),H}function C(W,H){Object.keys(H).forEach(function(U){W.setAttribute(U,H[U])})}function O(W,H){var U,K,$;if(H.singleton){var J=D++;U=F||(F=w(H)),K=T.bind(null,U,J,!1),$=T.bind(null,U,J,!0)}else W.sourceMap&&'function'==typeof URL&&'function'==typeof URL.createObjectURL&&'function'==typeof URL.revokeObjectURL&&'function'==typeof Blob&&'function'==typeof btoa?(U=M(H),K=E.bind(null,U,H),$=function(){P(U),U.href&&URL.revokeObjectURL(U.href)}):(U=w(H),K=S.bind(null,U),$=function(){P(U)});return K(W),function(Q){if(Q){if(Q.css===W.css&&Q.media===W.media&&Q.sourceMap===W.sourceMap)return;K(W=Q)}else $()}}function T(W,H,U,K){var $=U?'':K.css;if(W.styleSheet)W.styleSheet.cssText=z(H,$);else{var J=document.createTextNode($),G=W.childNodes;G[H]&&W.removeChild(G[H]),G.length?W.insertBefore(J,G[H]):W.appendChild(J)}}function S(W,H){var U=H.css,K=H.media;if(K&&W.setAttribute('media',K),W.styleSheet)W.styleSheet.cssText=U;else{for(;W.firstChild;)W.removeChild(W.firstChild);W.appendChild(document.createTextNode(U))}}function E(W,H,U){var K=U.css,$=U.sourceMap,J=H.convertToAbsoluteUrls===void 0&&$;(H.convertToAbsoluteUrls||J)&&(K=q(K)),$&&(K+='\n/*# sourceMappingURL=data:application/json;base64,'+btoa(unescape(encodeURIComponent(JSON.stringify($))))+' */');var G=new Blob([K],{type:'text/css'}),Q=W.href;W.href=URL.createObjectURL(G),Q&&URL.revokeObjectURL(Q)}var I={},V=function(W){var H;return function(){return'undefined'==typeof H&&(H=W.apply(this,arguments)),H}}(function(){return window&&document&&document.all&&!window.atob}),N=function(W){var H={};return function(U){return'undefined'==typeof H[U]&&(H[U]=W.call(this,U)),H[U]}}(function(W){return document.querySelector(W)}),F=null,D=0,L=[],q=s(275);r.exports=function(W,H){if('undefined'!=typeof DEBUG&&DEBUG&&'object'!=typeof document)throw new Error('The style-loader cannot be used in a non-browser environment');H=H||{},H.attrs='object'==typeof H.attrs?H.attrs:{},'undefined'==typeof H.singleton&&(H.singleton=V()),'undefined'==typeof H.insertInto&&(H.insertInto='head'),'undefined'==typeof H.insertAt&&(H.insertAt='bottom');var U=f(W);return d(U,H),function($){for(var J=[],G=0;G<U.length;G++){var Q=U[G],Y=I[Q.id];Y.refs--,J.push(Y)}if($){var X=f($);d(X,H)}for(var G=0,Y;G<J.length;G++)if(Y=J[G],0===Y.refs){for(var Z=0;Z<Y.parts.length;Z++)Y.parts[Z]();delete I[Y.id]}}};var z=function(){var W=[];return function(H,U){return W[H]=U,W.filter(Boolean).join('\n')}}()},function(r,u,s){'use strict';function d(q){return q&&q.__esModule?q:{default:q}}function f(q,z){if(!(q instanceof z))throw new TypeError('Cannot call a class as a function')}function h(q,z,W,H){if((0,D.default)(q)){var U=!0,K=!1,$;try{for(var J=q[Symbol.iterator](),G,Q;!(U=(G=J.next()).done);U=!0)Q=G.value,h(Q,z,W,H)}catch(Z){K=!0,$=Z}finally{try{!U&&J.return&&J.return()}finally{if(K)throw $}}return}var Y=Array.from(q.getAttributeKeys());Y.push(z.key);var X={name:q.name||'$text',attributes:Y,inside:W.context};H.schema.check(X)&&q.setAttribute(z.key,z.value)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function q(z,W){for(var H=0,U;H<W.length;H++)U=W[H],U.enumerable=U.enumerable||!1,U.configurable=!0,'value'in U&&(U.writable=!0),Object.defineProperty(z,U.key,U)}return function(z,W,H){return W&&q(z.prototype,W),H&&q(z,H),z}}();u.default=function(){return new L};var M=s(167),C=d(M),O=s(6),T=d(O),S=s(1),E=d(S),I=s(21),R=d(I),V=s(0),N=d(V),F=s(47),D=d(F),L=function(){function q(){f(this,q),this._dispatchers=[],this._from=[]}return w(q,[{key:'for',value:function(){for(var W=arguments.length,H=Array(W),U=0;U<W;U++)H[U]=arguments[U];return this._dispatchers=H,this}},{key:'fromElement',value:function(W){return this.from({name:W})}},{key:'fromAttribute',value:function(W){var H=1<arguments.length&&void 0!==arguments[1]?arguments[1]:/.*/,U={};'style'===W||'class'===W?U[W]=H:(U.attribute={},U.attribute[W]=H);var K=new C.default(U);return this._from.push({matcher:K,consume:!1,priority:null,attributeKey:W}),this}},{key:'from',value:function(W){return W instanceof C.default||(W=new C.default(W)),this._from.push({matcher:W,consume:!1,priority:null}),this}},{key:'consuming',value:function(W){var H=this._from[this._from.length-1];return H.consume=W,this}},{key:'withPriority',value:function(W){var H=this._from[this._from.length-1];return H.priority=W,this}},{key:'toElement',value:function(W){this._setCallback(function(U){return function(K,$,J,G){var Q=U.matcher.matchAll($.input);if(Q){var Y=!0,X=!1,Z;try{for(var ee=Q[Symbol.iterator](),te;!(Y=(te=ee.next()).done);Y=!0){var re=te.value,ae=W instanceof Function?W($.input):new T.default(W);if(ae){var oe=Array.from(ae.getAttributeKeys());if(G.schema.check({name:ae.name,attributes:oe,inside:$.context})&&J.consume($.input,U.consume||re.match)){$.context.push(ae);var ne=G.convertChildren($.input,J,$),le=E.default.createAt(ae,'end');R.default.insert(le,ne),$.context.pop(),$.output=ae;break}}}}catch(ue){X=!0,Z=ue}finally{try{!Y&&ee.return&&ee.return()}finally{if(X)throw Z}}}}},'normal')}},{key:'toAttribute',value:function(W,H){this._setCallback(function(K){return function($,J,G,Q){var Y=K.matcher.matchAll(J.input);if(Y){var X=!0,Z=!1,ee;try{for(var te=Y[Symbol.iterator](),re,ae;!(X=(re=te.next()).done);X=!0)if(ae=re.value,!!G.consume(J.input,K.consume||ae.match)){J.output||(J.output=Q.convertChildren(J.input,G,J));var oe=void 0;if(!(W instanceof Function))oe={key:W,value:H?H:J.input.getAttribute(K.attributeKey)};else if(oe=W(J.input),!oe)return;h(J.output,oe,J,Q);break}}catch(ne){Z=!0,ee=ne}finally{try{!X&&te.return&&te.return()}finally{if(Z)throw ee}}}}},'low')}},{key:'toMarker',value:function(W){this._setCallback(function(U){return function(K,$,J){var G=U.matcher.matchAll($.input);if(G){var Q;if(Q=W instanceof Function?W($.input):new T.default('$marker',{"data-name":$.input.getAttribute('data-name')}),'$marker'!=Q.name||'string'!=typeof Q.getAttribute('data-name'))throw new N.default('build-view-converter-invalid-marker: Invalid model element to mark marker range.');var Y=!0,X=!1,Z;try{for(var ee=G[Symbol.iterator](),te,re;!(Y=(te=ee.next()).done);Y=!0)if(re=te.value,!!J.consume($.input,U.consume||re.match)){$.output=Q;break}}catch(ae){X=!0,Z=ae}finally{try{!Y&&ee.return&&ee.return()}finally{if(X)throw Z}}}}},'normal')}},{key:'_setCallback',value:function(W,H){var U=!0,K=!1,$;try{for(var J=this._from[Symbol.iterator](),G;!(U=(G=J.next()).done);U=!0){var Q=G.value,Y=Q.matcher.getElementName(),X=Y?'element:'+Y:'element',Z=W(Q),ee=null===Q.priority?H:Q.priority,te=!0,re=!1,ae=void 0;try{for(var oe=this._dispatchers[Symbol.iterator](),ne,le;!(te=(ne=oe.next()).done);te=!0)le=ne.value,le.on(X,Z,{priority:ee})}catch(ue){re=!0,ae=ue}finally{try{!te&&oe.return&&oe.return()}finally{if(re)throw ae}}}}catch(ue){K=!0,$=ue}finally{try{!U&&J.return&&J.return()}finally{if(K)throw $}}}}]),q}()},function(r,u,s){'use strict';function d(V){return V&&V.__esModule?V:{default:V}}function f(V,N){if(!(V instanceof N))throw new TypeError('Cannot call a class as a function')}function h(V){return'string'==typeof V?[new S.default(V)]:((0,I.default)(V)||(V=[V]),Array.from(V).map(function(N){return'string'==typeof N?new S.default(N):N}))}Object.defineProperty(u,'__esModule',{value:!0});var P=function(){function V(N,F){for(var D=0,L;D<F.length;D++)L=F[D],L.enumerable=L.enumerable||!1,L.configurable=!0,'value'in L&&(L.writable=!0),Object.defineProperty(N,L.key,L)}return function(N,F,D){return F&&V(N.prototype,F),D&&V(N,D),N}}(),w=s(79),M=d(w),C=s(6),O=d(C),T=s(27),S=d(T),E=s(47),I=d(E),R=function(){function V(N){f(this,V),this.markers=new Map,this._children=new M.default,N&&this.insertChildren(0,N)}return P(V,[{key:Symbol.iterator,value:function(){return this.getChildren()}},{key:'is',value:function(F){return'documentFragment'==F}},{key:'getChild',value:function(F){return this._children.getNode(F)}},{key:'getChildren',value:function(){return this._children[Symbol.iterator]()}},{key:'getChildIndex',value:function(F){return this._children.getNodeIndex(F)}},{key:'getChildStartOffset',value:function(F){return this._children.getNodeStartOffset(F)}},{key:'getPath',value:function(){return[]}},{key:'getNodeByPath',value:function(F){var D=this,L=!0,q=!1,z;try{for(var W=F[Symbol.iterator](),H,U;!(L=(H=W.next()).done);L=!0)U=H.value,D=D.getChild(D.offsetToIndex(U))}catch(K){q=!0,z=K}finally{try{!L&&W.return&&W.return()}finally{if(q)throw z}}return D}},{key:'offsetToIndex',value:function(F){return this._children.offsetToIndex(F)}},{key:'appendChildren',value:function(F){this.insertChildren(this.childCount,F)}},{key:'insertChildren',value:function(F,D){D=h(D);var L=!0,q=!1,z;try{for(var W=D[Symbol.iterator](),H,U;!(L=(H=W.next()).done);L=!0)U=H.value,U.parent=this}catch(K){q=!0,z=K}finally{try{!L&&W.return&&W.return()}finally{if(q)throw z}}this._children.insertNodes(F,D)}},{key:'removeChildren',value:function(F){var D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,L=this._children.removeNodes(F,D),q=!0,z=!1,W;try{for(var H=L[Symbol.iterator](),U,K;!(q=(U=H.next()).done);q=!0)K=U.value,K.parent=null}catch($){z=!0,W=$}finally{try{!q&&H.return&&H.return()}finally{if(z)throw W}}return L}},{key:'toJSON',value:function(){var F=[],D=!0,L=!1,q;try{for(var z=this._children[Symbol.iterator](),W,H;!(D=(W=z.next()).done);D=!0)H=W.value,F.push(H.toJSON())}catch(U){L=!0,q=U}finally{try{!D&&z.return&&z.return()}finally{if(L)throw q}}return F}},{key:'childCount',get:function(){return this._children.length}},{key:'maxOffset',get:function(){return this._children.maxOffset}},{key:'isEmpty',get:function(){return 0===this.childCount}},{key:'root',get:function(){return this}},{key:'parent',get:function(){return null}}],[{key:'fromJSON',value:function(F){var D=[],L=!0,q=!1,z;try{for(var W=F[Symbol.iterator](),H,U;!(L=(H=W.next()).done);L=!0)U=H.value,U.name?D.push(O.default.fromJSON(U)):D.push(S.default.fromJSON(U))}catch(K){q=!0,z=K}finally{try{!L&&W.return&&W.return()}finally{if(q)throw z}}return new V(D)}}]),V}();u.default=R},function(r,u,s){'use strict';function f(C,O){if(!(C instanceof O))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function C(O,T){for(var S=0,E;S<T.length;S++)E=T[S],E.enumerable=E.enumerable||!1,E.configurable=!0,'value'in E&&(E.writable=!0),Object.defineProperty(O,E.key,E)}return function(O,T,S){return T&&C(O.prototype,T),S&&C(O,S),O}}(),P=s(70),w=function(C){return C&&C.__esModule?C:{default:C}}(P),M=function(){function C(O){f(this,C),this.baseVersion=O}return h(C,[{key:'toJSON',value:function(){var T=(0,w.default)(this,!0);return T.__className=this.constructor.className,delete T.delta,T}}],[{key:'fromJSON',value:function(T){return new this(T.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.Operation'}}]),C}();u.default=M},function(r,u,s){'use strict';function d(E){return E&&E.__esModule?E:{default:E}}function f(E,I){if(!(E instanceof I))throw new TypeError('Cannot call a class as a function')}function h(E,I){if(!E)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return I&&('object'==typeof I||'function'==typeof I)?I:E}function P(E,I){if('function'!=typeof I&&null!==I)throw new TypeError('Super expression must either be null or a function, not '+typeof I);E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(E,I):E.__proto__=I)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function E(I,R){for(var V=0,N;V<R.length;V++)N=R[V],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}return function(I,R,V){return R&&E(I.prototype,R),V&&E(I,V),I}}(),M=s(26),C=d(M),O=s(115),T=d(O),S=function(E){function I(){return f(this,I),h(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return P(I,E),w(I,[{key:'getReversed',value:function(){var V=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new T.default(this.getMovedRangeStart(),this.howMany,V,this.baseVersion+1)}},{key:'type',get:function(){return'remove'}}],[{key:'className',get:function(){return'engine.model.operation.RemoveOperation'}}]),I}(C.default);u.default=S},function(r,u,s){'use strict';function d(S){return S&&S.__esModule?S:{default:S}}function f(S,E){if(!(S instanceof E))throw new TypeError('Cannot call a class as a function')}function h(S){return S.item.is('attributeElement')||S.item.is('uiElement')}Object.defineProperty(u,'__esModule',{value:!0});var P=function(){function S(E,I){for(var R=0,V;R<I.length;R++)V=I[R],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(E,V.key,V)}return function(E,I,R){return I&&S(E.prototype,I),R&&S(E,R),E}}(),w=s(22),M=d(w),C=s(55),O=d(C),T=function(){function S(E){var I=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;f(this,S),this.start=M.default.createFromPosition(E),this.end=I?M.default.createFromPosition(I):M.default.createFromPosition(E)}return P(S,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function E(){return regeneratorRuntime.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.delegateYield(new O.default({boundaries:this,ignoreElementEnd:!0}),'t0',1);case 1:case'end':return R.stop();}},E,this)})},{key:'getEnlarged',value:function(){var I=this.start.getLastMatchingPosition(h,{direction:'backward'}),R=this.end.getLastMatchingPosition(h);return I.parent.is('text')&&I.isAtStart&&(I=M.default.createBefore(I.parent)),R.parent.is('text')&&R.isAtEnd&&(R=M.default.createAfter(R.parent)),new S(I,R)}},{key:'getTrimmed',value:function(){var I=this.start.getLastMatchingPosition(h);if(I.isAfter(this.end)||I.isEqual(this.end))return new S(I,I);var R=this.end.getLastMatchingPosition(h,{direction:'backward'}),V=I.nodeAfter,N=R.nodeBefore;return V&&V.is('text')&&(I=new M.default(V,0)),N&&N.is('text')&&(R=new M.default(N,N.data.length)),new S(I,R)}},{key:'isEqual',value:function(I){return this==I||this.start.isEqual(I.start)&&this.end.isEqual(I.end)}},{key:'containsPosition',value:function(I){return I.isAfter(this.start)&&I.isBefore(this.end)}},{key:'containsRange',value:function(I){var R=1<arguments.length&&void 0!==arguments[1]&&arguments[1];I.isCollapsed&&(R=!1);var V=this.containsPosition(I.start)||R&&this.start.isEqual(I.start),N=this.containsPosition(I.end)||R&&this.end.isEqual(I.end);return V&&N}},{key:'getDifference',value:function(I){var R=[];return this.isIntersecting(I)?(this.containsPosition(I.start)&&R.push(new S(this.start,I.start)),this.containsPosition(I.end)&&R.push(new S(I.end,this.end))):R.push(S.createFromRange(this)),R}},{key:'getIntersection',value:function(I){if(this.isIntersecting(I)){var R=this.start,V=this.end;return this.containsPosition(I.start)&&(R=I.start),this.containsPosition(I.end)&&(V=I.end),new S(R,V)}return null}},{key:'getWalker',value:function(){var I=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return I.boundaries=this,new O.default(I)}},{key:'getCommonAncestor',value:function(){return this.start.getCommonAncestor(this.end)}},{key:'getItems',value:regeneratorRuntime.mark(function E(){var I=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},R,V,N,F,D,L,q;return regeneratorRuntime.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:I.boundaries=this,I.ignoreElementEnd=!0,R=new O.default(I),V=!0,N=!1,F=void 0,W.prev=6,D=R[Symbol.iterator]();case 8:if(V=(L=D.next()).done){W.next=15;break}return q=L.value,W.next=12,q.item;case 12:V=!0,W.next=8;break;case 15:W.next=21;break;case 17:W.prev=17,W.t0=W['catch'](6),N=!0,F=W.t0;case 21:W.prev=21,W.prev=22,!V&&D.return&&D.return();case 24:if(W.prev=24,!N){W.next=27;break}throw F;case 27:return W.finish(24);case 28:return W.finish(21);case 29:case'end':return W.stop();}},E,this,[[6,17,21,29],[22,,24,28]])})},{key:'getPositions',value:regeneratorRuntime.mark(function E(){var I=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},R,V,N,F,D,L,q;return regeneratorRuntime.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return I.boundaries=this,R=new O.default(I),W.next=4,R.position;case 4:V=!0,N=!1,F=void 0,W.prev=7,D=R[Symbol.iterator]();case 9:if(V=(L=D.next()).done){W.next=16;break}return q=L.value,W.next=13,q.nextPosition;case 13:V=!0,W.next=9;break;case 16:W.next=22;break;case 18:W.prev=18,W.t0=W['catch'](7),N=!0,F=W.t0;case 22:W.prev=22,W.prev=23,!V&&D.return&&D.return();case 25:if(W.prev=25,!N){W.next=28;break}throw F;case 28:return W.finish(25);case 29:return W.finish(22);case 30:case'end':return W.stop();}},E,this,[[7,18,22,30],[23,,25,29]])})},{key:'isIntersecting',value:function(I){return this.start.isBefore(I.end)&&this.end.isAfter(I.start)}},{key:'isCollapsed',get:function(){return this.start.isEqual(this.end)}},{key:'isFlat',get:function(){return this.start.parent===this.end.parent}},{key:'root',get:function(){return this.start.root}}],[{key:'createFromParentsAndOffsets',value:function(I,R,V,N){return new this(new M.default(I,R),new M.default(V,N))}},{key:'createFromRange',value:function(I){return new this(I.start,I.end)}},{key:'createFromPositionAndShift',value:function(I,R){var V=I,N=I.getShiftedBy(R);return 0<R?new this(V,N):new this(N,V)}},{key:'createIn',value:function(I){return this.createFromParentsAndOffsets(I,0,I,I.childCount)}},{key:'createOn',value:function(I){return this.createFromPositionAndShift(M.default.createBefore(I),1)}}]),S}();u.default=T},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.toImageWidget=function(T,S){return T.setCustomProperty(O,!0),(0,w.toWidget)(T,{label:function(){var I=T.getChild(0),R=I.getAttribute('alt');return R?R+' '+S:S}})},u.isImageWidget=function(T){return!!T.getCustomProperty(O)&&(0,w.isWidget)(T)},u.isImage=function(T){return T instanceof C.default&&'image'==T.name};var w=s(156),M=s(6),C=function(T){return T&&T.__esModule?T:{default:T}}(M),O=Symbol('isImage')},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h,P){var w=-1,M=f.length;0>h&&(h=-h>M?0:M+h),P=P>M?M:P,0>P&&(P+=M),M=h>P?0:P-h>>>0,h>>>=0;for(var C=Array(M);++w<M;)C[w]=f[w+h];return C}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=/^(?:0|[1-9]\d*)$/;u.default=function(P,w){return w=null==w?9007199254740991:w,!!w&&('number'==typeof P||h.test(P))&&-1<P&&0==P%1&&P<w}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0});u.default={error:function(h,P){console.error(h,P)},warn:function(h,P){console.warn(h,P)}}},function(r,u,s){'use strict';function d(F){return F&&F.__esModule?F:{default:F}}function f(F,D){if(!(F instanceof D))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var P=function(){function F(D,L){for(var q=0,z;q<L.length;q++)z=L[q],z.enumerable=z.enumerable||!1,z.configurable=!0,'value'in z&&(z.writable=!0),Object.defineProperty(D,z.key,z)}return function(D,L,q){return L&&F(D.prototype,L),q&&F(D,q),D}}();u.default=function(){return new N};var w=s(109),M=s(160),C=s(118),O=d(C),T=s(45),S=d(T),E=s(122),I=d(E),R=s(0),V=d(R),N=function(){function F(){f(this,F),this._dispatchers=[],this._from=null}return P(F,[{key:'for',value:function(){for(var L=arguments.length,q=Array(L),z=0;z<L;z++)q[z]=arguments[z];return this._dispatchers=q,this}},{key:'fromElement',value:function(L){return this._from={type:'element',name:L,priority:null},this}},{key:'fromAttribute',value:function(L){return this._from={type:'attribute',key:L,priority:null},this}},{key:'fromMarker',value:function(L){return this._from={type:'marker',name:L,priority:null},this}},{key:'withPriority',value:function(L){return this._from.priority=L,this}},{key:'toElement',value:function(L){var q=null===this._from.priority?'normal':this._from.priority,z=!0,W=!1,H;try{for(var U=this._dispatchers[Symbol.iterator](),K,$;!(z=(K=U.next()).done);z=!0)$=K.value,'element'==this._from.type?(L='string'==typeof L?new S.default(L):L,$.on('insert:'+this._from.name,(0,w.insertElement)(L),{priority:q})):'attribute'==this._from.type?(L='string'==typeof L?new O.default(L):L,$.on('addAttribute:'+this._from.key,(0,w.wrapItem)(L),{priority:q}),$.on('changeAttribute:'+this._from.key,(0,w.wrapItem)(L),{priority:q}),$.on('removeAttribute:'+this._from.key,(0,w.unwrapItem)(L),{priority:q}),$.on('selectionAttribute:'+this._from.key,(0,M.convertSelectionAttribute)(L),{priority:q})):(L='string'==typeof L?new O.default(L):L,$.on('addMarker:'+this._from.name,(0,w.wrapRange)(L),{priority:q}),$.on('removeMarker:'+this._from.name,(0,w.unwrapRange)(L),{priority:q}),$.on('selectionMarker:'+this._from.name,(0,M.convertSelectionMarker)(L),{priority:q}))}catch(J){W=!0,H=J}finally{try{!z&&U.return&&U.return()}finally{if(W)throw H}}}},{key:'toStamp',value:function(L){var q=!0,z=!1,W;try{for(var H=this._dispatchers[Symbol.iterator](),U,K;!(q=(U=H.next()).done);q=!0){if(K=U.value,'marker'!=this._from.type)throw new V.default('build-model-converter-non-marker-to-stamp: To-stamp conversion is supported only from model markers.');var $=null===this._from.priority?'normal':this._from.priority;L='string'==typeof L?new I.default(L):L,K.on('addMarker:'+this._from.name,(0,w.insertUIElement)(L),{priority:$}),K.on('removeMarker:'+this._from.name,(0,w.removeUIElement)(L),{priority:$})}}catch(J){z=!0,W=J}finally{try{!q&&H.return&&H.return()}finally{if(z)throw W}}}},{key:'toAttribute',value:function(L,q){if('attribute'!=this._from.type)throw new V.default('build-model-converter-non-attribute-to-attribute: To-attribute conversion is supported only from model attributes.');var z=L?'string'==typeof L?q?function(){return{key:L,value:q}}:function(Y){return{key:L,value:Y}}:L:void 0;var W=!0,H=!1,U;try{for(var K=this._dispatchers[Symbol.iterator](),$;!(W=($=K.next()).done);W=!0){var J=$.value,G={priority:this._from.priority||'normal'};J.on('addAttribute:'+this._from.key,(0,w.setAttribute)(z),G),J.on('changeAttribute:'+this._from.key,(0,w.setAttribute)(z),G),J.on('removeAttribute:'+this._from.key,(0,w.removeAttribute)(z),G)}}catch(Q){H=!0,U=Q}finally{try{!W&&K.return&&K.return()}finally{if(H)throw U}}}}]),F}()},function(r,u,s){'use strict';function d(W){return W&&W.__esModule?W:{default:W}}function f(W){if(Array.isArray(W)){for(var H=0,U=Array(W.length);H<W.length;H++)U[H]=W[H];return U}return Array.from(W)}function h(W,H){if(!(W instanceof H))throw new TypeError('Cannot call a class as a function')}function P(W,H){if(!W)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return H&&('object'==typeof H||'function'==typeof H)?H:W}function w(W,H){if('function'!=typeof H&&null!==H)throw new TypeError('Super expression must either be null or a function, not '+typeof H);W.prototype=Object.create(H&&H.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(W,H):W.__proto__=H)}Object.defineProperty(u,'__esModule',{value:!0});var M=function(){function W(H,U){for(var K=0,$;K<U.length;K++)$=U[K],$.enumerable=$.enumerable||!1,$.configurable=!0,'value'in $&&($.writable=!0),Object.defineProperty(H,$.key,$)}return function(H,U,K){return U&&W(H.prototype,U),K&&W(H,K),H}}(),C=s(36),O=d(C),T=s(1),S=d(T),E=s(79),I=d(E),R=s(37),V=d(R),N=s(21),F=s(27),D=d(F),L=s(6),q=d(L),z=function(W){function H(U,K,$){h(this,H);var J=P(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,$));return J.position=S.default.createFromPosition(U),J.nodes=new I.default((0,N.normalizeNodes)(K)),J}return w(H,W),M(H,[{key:'clone',value:function(){var K=new I.default([].concat(f(this.nodes)).map(function($){return $.clone(!0)}));return new H(this.position,K,this.baseVersion)}},{key:'getReversed',value:function(){var K=this.position.root.document.graveyard,$=new S.default(K,[0]);return new V.default(this.position,this.nodes.maxOffset,$,this.baseVersion+1)}},{key:'_execute',value:function(){var K=this.nodes;this.nodes=new I.default([].concat(f(K)).map(function(J){return J.clone(!0)}));var $=(0,N.insert)(this.position,K);return{range:$}}},{key:'type',get:function(){return'insert'}}],[{key:'fromJSON',value:function(K,$){var J=[],G=!0,Q=!1,Y;try{for(var X=K.nodes[Symbol.iterator](),Z,ee;!(G=(Z=X.next()).done);G=!0)ee=Z.value,ee.name?J.push(q.default.fromJSON(ee)):J.push(D.default.fromJSON(ee))}catch(te){Q=!0,Y=te}finally{try{!G&&X.return&&X.return()}finally{if(Q)throw Y}}return new H(S.default.fromJSON(K.position,$),J,K.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.InsertOperation'}}]),H}(O.default);u.default=z},function(r,u,s){'use strict';function f(E,I){if(!(E instanceof I))throw new TypeError('Cannot call a class as a function')}function h(E,I){if(!E)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return I&&('object'==typeof I||'function'==typeof I)?I:E}function P(E,I){if('function'!=typeof I&&null!==I)throw new TypeError('Super expression must either be null or a function, not '+typeof I);E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(E,I):E.__proto__=I)}function w(){var E=!0,I=!1,R;try{for(var V=this.getChildren()[Symbol.iterator](),N,F;!(E=(N=V.next()).done);E=!0)if(F=N.value,!F.is('uiElement'))return null}catch(D){I=!0,R=D}finally{try{!E&&V.return&&V.return()}finally{if(I)throw R}}return this.childCount}Object.defineProperty(u,'__esModule',{value:!0});var M=function(){function E(I,R){for(var V=0,N;V<R.length;V++)N=R[V],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}return function(I,R,V){return R&&E(I.prototype,R),V&&E(I,V),I}}(),C=function E(I,R,V){null===I&&(I=Function.prototype);var N=Object.getOwnPropertyDescriptor(I,R);if(N===void 0){var F=Object.getPrototypeOf(I);return null===F?void 0:E(F,R,V)}if('value'in N)return N.value;var D=N.get;return void 0===D?void 0:D.call(V)},O=s(28),T=function(E){return E&&E.__esModule?E:{default:E}}(O),S=function(E){function I(R,V,N){f(this,I);var F=h(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,R,V,N));return F.getFillerOffset=w,F}return P(I,E),M(I,[{key:'is',value:function(V){var N=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return N?'containerElement'==V&&N==this.name||C(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),'is',this).call(this,V,N):'containerElement'==V||C(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),'is',this).call(this,V)}}]),I}(T.default);u.default=S},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default={window:window,document:document}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){return!!(f&&f[Symbol.iterator])}},function(r,u,s){'use strict';function f(O,T){if(!(O instanceof T))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function O(T,S){for(var E=0,I;E<S.length;E++)I=S[E],I.enumerable=I.enumerable||!1,I.configurable=!0,'value'in I&&(I.writable=!0),Object.defineProperty(T,I.key,I)}return function(T,S,E){return S&&O(T.prototype,S),E&&O(T,E),T}}(),P=s(88),w=function(O){return O&&O.__esModule?O:{default:O}}(P),M=s(24),C=function(){function O(){f(this,O),this._listener=Object.create(w.default),this._keystrokes=new Map}return h(O,[{key:'listenTo',value:function(S){var E=this;this._listener.listenTo(S,'keydown',function(I,R){E.press(R)})}},{key:'set',value:function(S,E){var I=(0,M.parseKeystroke)(S),R=this._keystrokes.get(I);R?R.push(E):this._keystrokes.set(I,[E])}},{key:'press',value:function(S){var E=(0,M.getCode)(S),I=this._keystrokes.get(E);if(!I)return!1;var R=!0,V=!1,N;try{for(var F=I[Symbol.iterator](),D,L;!(R=(D=F.next()).done);R=!0)L=D.value,L(S,function(){S.preventDefault(),S.stopPropagation()})}catch(q){V=!0,N=q}finally{try{!R&&F.return&&F.return()}finally{if(V)throw N}}return!0}},{key:'destroy',value:function(){this._keystrokes=new Map,this._listener.stopListening()}}]),O}();u.default=C},function(r,u,s){'use strict';function d(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(90),P=d(h),w=s(130),M=d(w),C=s(131),O=d(C),T=s(140),S=d(T),E=s(448),I=d(E),R=s(103),V=d(R);u.default=function(F,D,L){var q=-1,z=M.default,W=F.length,H=!0,U=[],K=U;if(L)H=!1,z=O.default;else if(W>=200){var $=D?null:(0,I.default)(F);if($)return(0,V.default)($);H=!1,z=S.default,K=new P.default}else K=D?[]:U;outer:for(;++q<W;){var J=F[q],G=D?D(J):J;if(J=L||0!==J?J:0,H&&G===G){for(var Q=K.length;Q--;)if(K[Q]===G)continue outer;D&&K.push(G),U.push(J)}else z(K,G,L)||(K!==U&&K.push(G),U.push(J))}return U}},function(r,u,s){'use strict';function d(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(489);Object.defineProperty(u,'default',{enumerable:!0,get:function(){return d(f).default}})},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var f='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&'function'==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?'symbol':typeof h};u.default=function(h){return!!h&&'object'==('undefined'==typeof h?'undefined':f(h))}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&'function'==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?'symbol':typeof T},P=s(51),w=function(T){return T&&T.__esModule?T:{default:T}}(P),C=Object.prototype,O=C.toString;u.default=function(T){return'symbol'==('undefined'==typeof T?'undefined':h(T))||(0,w.default)(T)&&O.call(T)=='[object Symbol]'}},function(r,u,s){'use strict';function d(F){return F&&F.__esModule?F:{default:F}}function f(F,D){if(!(F instanceof D))throw new TypeError('Cannot call a class as a function')}function h(F,D,L,q,z){return{done:!1,value:{type:F,item:D,previousPosition:L,nextPosition:q,length:z}}}Object.defineProperty(u,'__esModule',{value:!0});var P=function(){function F(D,L){for(var q=0,z;q<L.length;q++)z=L[q],z.enumerable=z.enumerable||!1,z.configurable=!0,'value'in z&&(z.writable=!0),Object.defineProperty(D,z.key,z)}return function(D,L,q){return L&&F(D.prototype,L),q&&F(D,q),D}}(),w=s(27),M=d(w),C=s(63),O=d(C),T=s(6),S=d(T),E=s(1),I=d(E),R=s(0),V=d(R),N=function(){function F(){var D=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(f(this,F),!D.boundaries&&!D.startPosition)throw new V.default('model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');var L=D.direction||'forward';if('forward'!=L&&'backward'!=L)throw new V.default('model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:L});this.direction=L,this.boundaries=D.boundaries||null,this.position=D.startPosition?I.default.createFromPosition(D.startPosition):I.default.createFromPosition(this.boundaries['backward'==this.direction?'end':'start']),this.singleCharacters=!!D.singleCharacters,this.shallow=!!D.shallow,this.ignoreElementEnd=!!D.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}return P(F,[{key:Symbol.iterator,value:function(){return this}},{key:'skip',value:function(L){var q,z,W,H;do{W=this.position,H=this._visitedParent;var U=this.next();q=U.done,z=U.value}while(!q&&L(z));q||(this.position=W,this._visitedParent=H)}},{key:'next',value:function(){return'forward'==this.direction?this._next():this._previous()}},{key:'_next',value:function(){var L=this.position,q=I.default.createFromPosition(this.position),z=this._visitedParent;if(null===z.parent&&q.offset===z.maxOffset)return{done:!0};if(z===this._boundaryEndParent&&q.offset==this.boundaries.end.offset)return{done:!0};var W=q.textNode?q.textNode:q.nodeAfter;if(W instanceof S.default)return this.shallow?q.offset++:(q.path.push(0),this._visitedParent=W),this.position=q,h('elementStart',W,L,q,1);if(W instanceof M.default){var H;if(this.singleCharacters)H=1;else{var U=W.endOffset;this._boundaryEndParent==z&&this.boundaries.end.offset<U&&(U=this.boundaries.end.offset),H=U-q.offset}var K=q.offset-W.startOffset,$=new O.default(W,K,H);return q.offset+=H,this.position=q,h('text',$,L,q,H)}return q.path.pop(),q.offset++,this.position=q,this._visitedParent=z.parent,this.ignoreElementEnd?this._next():h('elementEnd',z,L,q)}},{key:'_previous',value:function(){var L=this.position,q=I.default.createFromPosition(this.position),z=this._visitedParent;if(null===z.parent&&0===q.offset)return{done:!0};if(z==this._boundaryStartParent&&q.offset==this.boundaries.start.offset)return{done:!0};var W=q.textNode?q.textNode:q.nodeBefore;if(W instanceof S.default)return q.offset--,this.shallow?(this.position=q,h('elementStart',W,L,q,1)):(q.path.push(W.maxOffset),this.position=q,this._visitedParent=W,this.ignoreElementEnd?this._previous():h('elementEnd',W,L,q));if(W instanceof M.default){var H;if(this.singleCharacters)H=1;else{var U=W.startOffset;this._boundaryStartParent==z&&this.boundaries.start.offset>U&&(U=this.boundaries.start.offset),H=q.offset-U}var K=q.offset-W.startOffset,$=new O.default(W,K-H,H);return q.offset-=H,this.position=q,h('text',$,L,q,H)}return q.path.pop(),this.position=q,this._visitedParent=z.parent,h('elementStart',z,L,q,1)}}]),F}();u.default=N},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}function f(T,S){if(!(T instanceof S))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function T(S,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}return function(S,E,I){return E&&T(S.prototype,E),I&&T(S,I),S}}(),P=s(88),w=d(P),M=s(4),C=d(M),O=function(){function T(S){f(this,T),this.document=S,this.isEnabled=!1}return h(T,[{key:'enable',value:function(){this.isEnabled=!0}},{key:'disable',value:function(){this.isEnabled=!1}},{key:'destroy',value:function(){this.disable(),this.stopListening()}}]),T}();u.default=O,(0,C.default)(O,w.default)},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}function f(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function N(F,D){for(var L=0,q;L<D.length;L++)q=D[L],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(F,q.key,q)}return function(F,D,L){return D&&N(F.prototype,D),L&&N(F,L),F}}(),P=s(28),w=d(P),M=s(31),C=d(M),O=s(332),T=d(O),S=s(22),E=d(S),I=s(0),R=d(I),V=function(){function N(){var F=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(f(this,N),!F.boundaries&&!F.startPosition)throw new R.default('view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');if(F.direction&&'forward'!=F.direction&&'backward'!=F.direction)throw new R.default('view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:F.direction});this.boundaries=F.boundaries||null,this.position=F.startPosition?E.default.createFromPosition(F.startPosition):E.default.createFromPosition(F.boundaries['backward'==F.direction?'end':'start']),this.direction=F.direction||'forward',this.singleCharacters=!!F.singleCharacters,this.shallow=!!F.shallow,this.ignoreElementEnd=!!F.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}return h(N,[{key:Symbol.iterator,value:function(){return this}},{key:'skip',value:function(D){var L,q,z;do{z=this.position;var W=this.next();L=W.done,q=W.value}while(!L&&D(q));L||(this.position=z)}},{key:'next',value:function(){return'forward'==this.direction?this._next():this._previous()}},{key:'_next',value:function(){var D=E.default.createFromPosition(this.position),L=this.position,q=D.parent;if(null===q.parent&&D.offset===q.childCount)return{done:!0};if(q===this._boundaryEndParent&&D.offset==this.boundaries.end.offset)return{done:!0};var z;if(q instanceof C.default){if(D.isAtEnd)return this.position=E.default.createAfter(q),this._next();z=q.data[D.offset]}else z=q.getChild(D.offset);if(z instanceof w.default)return this.shallow?D.offset++:D=new E.default(z,0),this.position=D,this._formatReturnValue('elementStart',z,L,D,1);if(z instanceof C.default){if(this.singleCharacters)return D=new E.default(z,0),this.position=D,this._next();var W=z.data.length,H=z;return z==this._boundaryEndParent?(W=this.boundaries.end.offset,H=new T.default(z,0,W),D=E.default.createAfter(H)):D.offset++,this.position=D,this._formatReturnValue('text',H,L,D,W)}if('string'==typeof z){var U;if(this.singleCharacters)U=1;else{var K=q===this._boundaryEndParent?this.boundaries.end.offset:q.data.length;U=K-D.offset}var $=new T.default(q,D.offset,U);return D.offset+=U,this.position=D,this._formatReturnValue('text',$,L,D,U)}return D=E.default.createAfter(q),this.position=D,this.ignoreElementEnd?this._next():this._formatReturnValue('elementEnd',q,L,D)}},{key:'_previous',value:function(){var D=E.default.createFromPosition(this.position),L=this.position,q=D.parent;if(null===q.parent&&0===D.offset)return{done:!0};if(q==this._boundaryStartParent&&D.offset==this.boundaries.start.offset)return{done:!0};var z;if(q instanceof C.default){if(D.isAtStart)return this.position=E.default.createBefore(q),this._previous();z=q.data[D.offset-1]}else z=q.getChild(D.offset-1);if(z instanceof w.default)return this.shallow?(D.offset--,this.position=D,this._formatReturnValue('elementStart',z,L,D,1)):(D=new E.default(z,z.childCount),this.position=D,this.ignoreElementEnd?this._previous():this._formatReturnValue('elementEnd',z,L,D));if(z instanceof C.default){if(this.singleCharacters)return D=new E.default(z,z.data.length),this.position=D,this._previous();var W=z.data.length,H=z;if(z==this._boundaryStartParent){var U=this.boundaries.start.offset;H=new T.default(z,U,z.data.length-U),W=H.data.length,D=E.default.createBefore(H)}else D.offset--;return this.position=D,this._formatReturnValue('text',H,L,D,W)}if('string'==typeof z){var K;if(!this.singleCharacters){var $=q===this._boundaryStartParent?this.boundaries.start.offset:0;K=D.offset-$}else K=1;D.offset-=K;var J=new T.default(q,D.offset,K);return this.position=D,this._formatReturnValue('text',J,L,D,K)}return D=E.default.createBefore(q),this.position=D,this._formatReturnValue('elementStart',q,L,D,1)}},{key:'_formatReturnValue',value:function(D,L,q,z,W){return L instanceof T.default&&(L.offsetInText+L.data.length==L.textNode.data.length&&('forward'!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?q=E.default.createAfter(L.textNode):(z=E.default.createAfter(L.textNode),this.position=z)),0===L.offsetInText&&('backward'!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?q=E.default.createBefore(L.textNode):(z=E.default.createBefore(L.textNode),this.position=z))),{done:!1,value:{type:D,item:L,previousPosition:q,nextPosition:z,length:W}}}}]),N}();u.default=V},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h){for(var P=_Mathmin(f.length,h.length),w=0;w<P;w++)if(f[w]!=h[w])return w;return f.length==h.length?'same':f.length<h.length?'prefix':'extension'}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(232),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M){var C=w[M];return(0,P.default)(C)?C:void 0}},function(r,u,s){'use strict';function d(S){return S&&S.__esModule?S:{default:S}}Object.defineProperty(u,'__esModule',{value:!0});var h='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&'function'==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?'symbol':typeof S},P=s(12),w=d(P),M=s(52),C=d(M),O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,T=/^\w*$/;u.default=function(S,E){if((0,w.default)(S))return!1;var I='undefined'==typeof S?'undefined':h(S);return'number'==I||'symbol'==I||'boolean'==I||null==S||(0,C.default)(S)||T.test(S)||!O.test(S)||null!=E&&S in Object(E)}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(52),P=function(M){return M&&M.__esModule?M:{default:M}}(h);u.default=function(M){if('string'==typeof M||(0,P.default)(M))return M;var C=M+'';return'0'==C&&1/M==-(1/0)?'-0':C}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h){return f===h||f!==f&&h!==h}},function(r,u,s){'use strict';function d(S){return S&&S.__esModule?S:{default:S}}function f(S){if(Array.isArray(S)){for(var E=0,I=Array(S.length);E<S.length;E++)I[E]=S[E];return I}return Array.from(S)}function h(S,E){if(!(S instanceof E))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var P=function(){function S(E,I){for(var R=0,V;R<I.length;R++)V=I[R],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(E,V.key,V)}return function(E,I,R){return I&&S(E.prototype,I),R&&S(E,R),E}}(),w=s(155),M=d(w),C=s(0),O=d(C),T=function(){function S(E){h(this,S),this.parent=null,this._attrs=(0,M.default)(E)}return P(S,[{key:'clone',value:function(){return new S(this._attrs)}},{key:'getPath',value:function(){for(var I=[],R=this;R.parent;)I.unshift(R.startOffset),R=R.parent;return I}},{key:'getAncestors',value:function(){for(var I=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},R=[],V=I.includeSelf?this:this.parent;V;)R[I.parentFirst?'push':'unshift'](V),V=V.parent;return R}},{key:'getCommonAncestor',value:function(I){for(var R=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},V=this.getAncestors(R),N=I.getAncestors(R),F=0;V[F]==N[F]&&V[F];)F++;return 0==F?null:V[F-1]}},{key:'remove',value:function(){this.parent.removeChildren(this.index)}},{key:'hasAttribute',value:function(I){return this._attrs.has(I)}},{key:'getAttribute',value:function(I){return this._attrs.get(I)}},{key:'getAttributes',value:function(){return this._attrs.entries()}},{key:'getAttributeKeys',value:function(){return this._attrs.keys()}},{key:'setAttribute',value:function(I,R){this._attrs.set(I,R)}},{key:'setAttributesTo',value:function(I){this._attrs=(0,M.default)(I)}},{key:'removeAttribute',value:function(I){return this._attrs.delete(I)}},{key:'clearAttributes',value:function(){this._attrs.clear()}},{key:'toJSON',value:function(){var I={};return this._attrs.size&&(I.attributes=[].concat(f(this._attrs))),I}},{key:'index',get:function(){var I;if(!this.parent)return null;if(null===(I=this.parent.getChildIndex(this)))throw new O.default('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return I}},{key:'startOffset',get:function(){var I;if(!this.parent)return null;if(null===(I=this.parent.getChildStartOffset(this)))throw new O.default('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return I}},{key:'offsetSize',get:function(){return 1}},{key:'endOffset',get:function(){return this.parent?this.startOffset+this.offsetSize:null}},{key:'nextSibling',get:function(){var I=this.index;return null!==I&&this.parent.getChild(I+1)||null}},{key:'previousSibling',get:function(){var I=this.index;return null!==I&&this.parent.getChild(I-1)||null}},{key:'root',get:function(){for(var I=this;I.parent;)I=I.parent;return I}},{key:'document',get:function(){return this.root==this?null:this.root.document||null}}]),S}();u.default=T},function(r,u,s){'use strict';function f(T,S){if(!(T instanceof S))throw new TypeError('Cannot call a class as a function')}function h(T,S){if(!T)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return S&&('object'==typeof S||'function'==typeof S)?S:T}function P(T,S){if('function'!=typeof S&&null!==S)throw new TypeError('Super expression must either be null or a function, not '+typeof S);T.prototype=Object.create(S&&S.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(T,S):T.__proto__=S)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function T(S,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}return function(S,E,I){return E&&T(S.prototype,E),I&&T(S,I),S}}(),M=s(36),C=function(T){return T&&T.__esModule?T:{default:T}}(M),O=function(T){function S(){return f(this,S),h(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return P(S,T),w(S,[{key:'clone',value:function(){return new S(this.baseVersion)}},{key:'getReversed',value:function(){return new S(this.baseVersion+1)}},{key:'_execute',value:function(){}}],[{key:'className',get:function(){return'engine.model.operation.NoOperation'}}]),S}(C.default);u.default=O},function(r,u,s){'use strict';function f(C,O){if(!(C instanceof O))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function C(O,T){for(var S=0,E;S<T.length;S++)E=T[S],E.enumerable=E.enumerable||!1,E.configurable=!0,'value'in E&&(E.writable=!0),Object.defineProperty(O,E.key,E)}return function(O,T,S){return T&&C(O.prototype,T),S&&C(O,S),O}}(),P=s(0),w=function(C){return C&&C.__esModule?C:{default:C}}(P),M=function(){function C(O,T,S){if(f(this,C),this.textNode=O,0>T||T>O.offsetSize)throw new w.default('model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>S||T+S>O.offsetSize)throw new w.default('model-textproxy-wrong-length: Given length value is incorrect.');this.data=O.data.substring(T,T+S),this.offsetInText=T}return h(C,[{key:'is',value:function(T){return'textProxy'==T}},{key:'getPath',value:function(){var T=this.textNode.getPath();return 0<T.length&&(T[T.length-1]+=this.offsetInText),T}},{key:'getAncestors',value:function(){for(var T=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},S=[],E=T.includeSelf?this:this.parent;E;)S[T.parentFirst?'push':'unshift'](E),E=E.parent;return S}},{key:'hasAttribute',value:function(T){return this.textNode.hasAttribute(T)}},{key:'getAttribute',value:function(T){return this.textNode.getAttribute(T)}},{key:'getAttributes',value:function(){return this.textNode.getAttributes()}},{key:'getAttributeKeys',value:function(){return this.textNode.getAttributeKeys()}},{key:'startOffset',get:function(){return null===this.textNode.startOffset?null:this.textNode.startOffset+this.offsetInText}},{key:'offsetSize',get:function(){return this.data.length}},{key:'endOffset',get:function(){return null===this.startOffset?null:this.startOffset+this.offsetSize}},{key:'isPartial',get:function(){return this.offsetSize!==this.textNode.offsetSize}},{key:'parent',get:function(){return this.textNode.parent}},{key:'root',get:function(){return this.textNode.root}},{key:'document',get:function(){return this.textNode.document}}]),C}();u.default=M},function(r,u,s){'use strict';function d(V){return V instanceof Text&&V.data.substr(0,S)===E}function M(V,N){if(N.keyCode==C.keyCodes.arrowleft){var F=N.domTarget.ownerDocument.defaultView.getSelection();if(1==F.rangeCount&&F.getRangeAt(0).collapsed){var D=F.getRangeAt(0).startContainer,L=F.getRangeAt(0).startOffset;d(D)&&L<=S&&F.collapse(D,0)}}}Object.defineProperty(u,'__esModule',{value:!0}),u.INLINE_FILLER=u.INLINE_FILLER_LENGTH=u.NBSP_FILLER=u.BR_FILLER=void 0,u.startsWithFiller=d,u.isInlineFiller=function(V){return V.data.length==S&&d(V)},u.getDataWithoutFiller=function(V){return d(V)?V.data.slice(S):V.data},u.isBlockFiller=function(V,N){var F=R.get(N);return F||(F=N(window.document),R.set(N,F)),V.isEqualNode(F)},u.injectQuirksHandling=function(V){V.on('keydown',M)};for(var C=s(24),O=u.BR_FILLER=function(N){var F=N.createElement('br');return F.dataset.ckeFiller=!0,F},T=u.NBSP_FILLER=function(N){return N.createTextNode('\xA0')},S=u.INLINE_FILLER_LENGTH=7,E=u.INLINE_FILLER='',I=0;I<S;I++)u.INLINE_FILLER=E+='\u200B';var R=new WeakMap},function(r,u,s){'use strict';function d(E){return E&&E.__esModule?E:{default:E}}function f(E,I){if(!(E instanceof I))throw new TypeError('Cannot call a class as a function')}function h(E,I){if(!E)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return I&&('object'==typeof I||'function'==typeof I)?I:E}function P(E,I){if('function'!=typeof I&&null!==I)throw new TypeError('Super expression must either be null or a function, not '+typeof I);E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(E,I):E.__proto__=I)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function E(I,R){for(var V=0,N;V<R.length;V++)N=R[V],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}return function(I,R,V){return R&&E(I.prototype,R),V&&E(I,V),I}}(),M=s(54),C=d(M),O=s(121),T=d(O),S=function(E){function I(R){f(this,I);var V=h(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,R));return V.useCapture=!1,V}return P(I,E),w(I,[{key:'observe',value:function(V){var N=this,F='string'==typeof this.domEventType?[this.domEventType]:this.domEventType;F.forEach(function(D){N.listenTo(V,D,function(L,q){N.isEnabled&&N.onDomEvent(q)},{useCapture:N.useCapture})})}},{key:'fire',value:function(V,N,F){this.isEnabled&&this.document.fire(V,new T.default(this.document,N,F))}}]),I}(C.default);u.default=S},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){var h=f.next();return h.done?null:h.value}},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}function f(R,V){if(!(R instanceof V))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function R(V,N){for(var F=0,D;F<N.length;F++)D=N[F],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(V,D.key,D)}return function(V,N,F){return N&&R(V.prototype,N),F&&R(V,F),V}}(),P=s(88),w=d(P),M=s(19),C=d(M),O=s(0),T=d(O),S=s(4),E=d(S),I=function(){function R(){f(this,R),this.set('isFocused',!1),this.focusedElement=null,this._elements=new Set,this._nextEventLoopTimeout=null}return h(R,[{key:'add',value:function(N){var F=this;if(this._elements.has(N))throw new T.default('focusTracker-add-element-already-exist');this.listenTo(N,'focus',function(){return F._focus(N)},{useCapture:!0}),this.listenTo(N,'blur',function(){return F._blur()},{useCapture:!0}),this._elements.add(N)}},{key:'remove',value:function(N){N===this.focusedElement&&this._blur(N),this._elements.has(N)&&(this.stopListening(N),this._elements.delete(N))}},{key:'_focus',value:function(N){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=N,this.isFocused=!0}},{key:'_blur',value:function(){var N=this;clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(function(){N.focusedElement=null,N.isFocused=!1},0)}}]),R}();u.default=I,(0,E.default)(I,w.default),(0,E.default)(I,C.default)},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(60),P=function(C){return C&&C.__esModule?C:{default:C}}(h),w=Object.prototype,M=w.hasOwnProperty;u.default=function(C,O,T){var S=C[O];M.call(C,O)&&(0,P.default)(S,T)&&(T!==void 0||O in C)||(C[O]=T)}},function(r,u,s){'use strict';function d(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(90),P=d(h),w=s(130),M=d(w),C=s(131),O=d(C),T=s(29),S=d(T),E=s(138),I=d(E),R=s(140),V=d(R);u.default=function(F,D,L,q){var z=-1,W=M.default,H=!0,U=F.length,K=[],$=D.length;if(!U)return K;L&&(D=(0,S.default)(D,(0,I.default)(L))),q?(W=O.default,H=!1):D.length>=200&&(W=V.default,H=!1,D=new P.default(D));outer:for(;++z<U;){var J=F[z],G=L?L(J):J;if(J=q||0!==J?J:0,H&&G===G){for(var Q=$;Q--;)if(D[Q]===G)continue outer;K.push(J)}else W(D,G,q)||K.push(J)}return K}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(192),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w){return(0,P.default)(w,!1,!0)}},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(194),P=d(h),w=s(428),M=d(w),C=s(202),O=d(C),T=s(104),S=d(T),E=s(41),I=d(E),R=s(101),V=d(R);u.default=function(N){var F=(0,V.default)(N);if(!(F||(0,S.default)(N)))return(0,M.default)(N);var D=(0,O.default)(N),q=D||[],z=q.length;for(var W in N)!(0,P.default)(N,W)||!!D&&('length'==W||(0,I.default)(W,z))||F&&'constructor'==W||q.push(W);return q}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(){for(var f='e',h=0;8>h;h++)f+=_Mathfloor(65536*(1+Math.random())).toString(16).substring(1);return f}},function(r,u,s){'use strict';function d(K){return K&&K.__esModule?K:{default:K}}function f(K,$){if(!(K instanceof $))throw new TypeError('Cannot call a class as a function')}function h(K,$){if(!K)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return $&&('object'==typeof $||'function'==typeof $)?$:K}function P(K,$){if('function'!=typeof $&&null!==$)throw new TypeError('Super expression must either be null or a function, not '+typeof $);K.prototype=Object.create($&&$.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(K,$):K.__proto__=$)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function K($,J){for(var G=0,Q;G<J.length;G++)Q=J[G],Q.enumerable=Q.enumerable||!1,Q.configurable=!0,'value'in Q&&(Q.writable=!0),Object.defineProperty($,Q.key,Q)}return function($,J,G){return J&&K($.prototype,J),G&&K($,G),$}}(),M=s(20),C=d(M),O=s(16),T=d(O),S=s(76),E=d(S),I=s(15),R=s(1),V=d(R),N=s(6),F=d(N),D=s(37),L=d(D),q=s(26),z=d(q),W=s(0),H=d(W),U=function(K){function $(){return f(this,$),h(this,($.__proto__||Object.getPrototypeOf($)).apply(this,arguments))}return P($,K),w($,[{key:'type',get:function(){return'merge'}},{key:'position',get:function(){return this._removeOperation?this._removeOperation.sourcePosition:null}},{key:'_removeOperation',get:function(){return this.operations[1]||null}},{key:'_reverseDeltaClass',get:function(){return E.default}}],[{key:'className',get:function(){return'engine.model.delta.MergeDelta'}}]),$}(C.default);u.default=U,(0,I.register)('merge',function(K){var $=new U;this.addDelta($);var J=K.nodeBefore,G=K.nodeAfter;if(!(J instanceof F.default))throw new H.default('batch-merge-no-element-before: Node before merge position must be an element.');if(!(G instanceof F.default))throw new H.default('batch-merge-no-element-after: Node after merge position must be an element.');var Q=V.default.createFromParentAndOffset(G,0),Y=V.default.createFromParentAndOffset(J,J.maxOffset),X=new z.default(Q,G.maxOffset,Y,this.document.version);X.isSticky=!0,$.addOperation(X),this.document.applyOperation(X);var Z=this.document.graveyard,ee=new V.default(Z,[0]),te=new L.default(K,1,ee,this.document.version);return $.addOperation(te),this.document.applyOperation(te),this}),T.default.register(U)},function(r,u,s){'use strict';function d(W){return W&&W.__esModule?W:{default:W}}function f(W,H){if(!(W instanceof H))throw new TypeError('Cannot call a class as a function')}function h(W,H){if(!W)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return H&&('object'==typeof H||'function'==typeof H)?H:W}function P(W,H){if('function'!=typeof H&&null!==H)throw new TypeError('Super expression must either be null or a function, not '+typeof H);W.prototype=Object.create(H&&H.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(W,H):W.__proto__=H)}function w(W,H,U,K,$){var J=new R.default(U,K,$,W.document.version);H.addOperation(J),W.document.applyOperation(J)}Object.defineProperty(u,'__esModule',{value:!0});var M=function(){function W(H,U){for(var K=0,$;K<U.length;K++)$=U[K],$.enumerable=$.enumerable||!1,$.configurable=!0,'value'in $&&($.writable=!0),Object.defineProperty(H,$.key,$)}return function(H,U,K){return U&&W(H.prototype,U),K&&W(H,K),H}}(),C=s(20),O=d(C),T=s(16),S=d(T),E=s(15),I=s(26),R=d(I),V=s(1),N=d(V),F=s(3),D=d(F),L=s(0),q=d(L),z=function(W){function H(){return f(this,H),h(this,(H.__proto__||Object.getPrototypeOf(H)).apply(this,arguments))}return P(H,W),M(H,[{key:'type',get:function(){return'move'}},{key:'howMany',get:function(){return this._moveOperation?this._moveOperation.howMany:null}},{key:'sourcePosition',get:function(){return this._moveOperation?this._moveOperation.sourcePosition:null}},{key:'targetPosition',get:function(){return this._moveOperation?this._moveOperation.targetPosition:null}},{key:'_moveOperation',get:function(){return this.operations[0]||null}},{key:'_reverseDeltaClass',get:function(){return H}}],[{key:'className',get:function(){return'engine.model.delta.MoveDelta'}}]),H}(O.default);u.default=z,(0,E.register)('move',function(W,H){var U=new z;if(this.addDelta(U),W instanceof D.default){if(!W.isFlat)throw new q.default('batch-move-range-not-flat: Range to move is not flat.');w(this,U,W.start,W.end.offset-W.start.offset,H)}else w(this,U,N.default.createBefore(W),1,H);return this}),S.default.register(z)},function(r,u,s){'use strict';function d(q){return q&&q.__esModule?q:{default:q}}function f(q,z){if(!(q instanceof z))throw new TypeError('Cannot call a class as a function')}function h(q,z){if(!q)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return z&&('object'==typeof z||'function'==typeof z)?z:q}function P(q,z){if('function'!=typeof z&&null!==z)throw new TypeError('Super expression must either be null or a function, not '+typeof z);q.prototype=Object.create(z&&z.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(q,z):q.__proto__=z)}function w(q,z,W){var H=new L;q.addDelta(H);var U=q.document.graveyard,K=new N.default(U,[0]),$=new R.default(z,W,K,q.document.version);H.addOperation($),q.document.applyOperation($)}Object.defineProperty(u,'__esModule',{value:!0});var M=function(){function q(z,W){for(var H=0,U;H<W.length;H++)U=W[H],U.enumerable=U.enumerable||!1,U.configurable=!0,'value'in U&&(U.writable=!0),Object.defineProperty(z,U.key,U)}return function(z,W,H){return W&&q(z.prototype,W),H&&q(z,H),z}}(),C=s(74),O=d(C),T=s(15),S=s(16),E=d(S),I=s(37),R=d(I),V=s(1),N=d(V),F=s(3),D=d(F),L=function(q){function z(){return f(this,z),h(this,(z.__proto__||Object.getPrototypeOf(z)).apply(this,arguments))}return P(z,q),M(z,null,[{key:'className',get:function(){return'engine.model.delta.RemoveDelta'}}]),z}(O.default);u.default=L,(0,T.register)('remove',function(q){if(q instanceof D.default){var z=q.getMinimalFlatRanges().reverse(),W=!0,H=!1,U;try{for(var K=z[Symbol.iterator](),$,J;!(W=($=K.next()).done);W=!0)J=$.value,w(this,J.start,J.end.offset-J.start.offset)}catch(G){H=!0,U=G}finally{try{!W&&K.return&&K.return()}finally{if(H)throw U}}}else w(this,N.default.createBefore(q),1);return this}),E.default.register(L)},function(r,u,s){'use strict';function d(K){return K&&K.__esModule?K:{default:K}}function f(K,$){if(!(K instanceof $))throw new TypeError('Cannot call a class as a function')}function h(K,$){if(!K)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return $&&('object'==typeof $||'function'==typeof $)?$:K}function P(K,$){if('function'!=typeof $&&null!==$)throw new TypeError('Super expression must either be null or a function, not '+typeof $);K.prototype=Object.create($&&$.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(K,$):K.__proto__=$)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function K($,J){for(var G=0,Q;G<J.length;G++)Q=J[G],Q.enumerable=Q.enumerable||!1,Q.configurable=!0,'value'in Q&&(Q.writable=!0),Object.defineProperty($,Q.key,Q)}return function($,J,G){return J&&K($.prototype,J),G&&K($,G),$}}(),M=s(20),C=d(M),O=s(16),T=d(O),S=s(15),E=s(1),I=d(E),R=s(6),V=d(R),N=s(44),F=d(N),D=s(26),L=d(D),q=s(0),z=d(q),W=s(73),H=d(W),U=function(K){function $(){return f(this,$),h(this,($.__proto__||Object.getPrototypeOf($)).apply(this,arguments))}return P($,K),w($,[{key:'type',get:function(){return'split'}},{key:'position',get:function(){return this._moveOperation?this._moveOperation.sourcePosition:null}},{key:'_cloneOperation',get:function(){return this.operations[0]||null}},{key:'_moveOperation',get:function(){return this.operations[1]&&this.operations[1]instanceof L.default?this.operations[1]:null}},{key:'_reverseDeltaClass',get:function(){return H.default}}],[{key:'className',get:function(){return'engine.model.delta.SplitDelta'}}]),$}(C.default);u.default=U,(0,S.register)('split',function(K){var $=new U;this.addDelta($);var J=K.parent;if(!J.parent)throw new z.default('batch-split-root: Root element can not be split.');var G=new V.default(J.name,J.getAttributes()),Q=new F.default(I.default.createAfter(J),G,this.document.version);$.addOperation(Q),this.document.applyOperation(Q);var Y=new L.default(K,J.maxOffset-K.offset,I.default.createFromParentAndOffset(G,0),this.document.version);return Y.isSticky=!0,$.addOperation(Y),this.document.applyOperation(Y),this}),T.default.register(U)},function(r,u,s){'use strict';function d(H){return H&&H.__esModule?H:{default:H}}function f(H,U){if(!(H instanceof U))throw new TypeError('Cannot call a class as a function')}function h(H,U){if(!H)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return U&&('object'==typeof U||'function'==typeof U)?U:H}function P(H,U){if('function'!=typeof U&&null!==U)throw new TypeError('Super expression must either be null or a function, not '+typeof U);H.prototype=Object.create(U&&U.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(H,U):H.__proto__=U)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function H(U,K){for(var $=0,J;$<K.length;$++)J=K[$],J.enumerable=J.enumerable||!1,J.configurable=!0,'value'in J&&(J.writable=!0),Object.defineProperty(U,J.key,J)}return function(U,K,$){return K&&H(U.prototype,K),$&&H(U,$),U}}(),M=s(20),C=d(M),O=s(16),T=d(O),S=s(78),E=d(S),I=s(15),R=s(1),V=d(R),N=s(37),F=d(N),D=s(26),L=d(D),q=s(0),z=d(q),W=function(H){function U(){return f(this,U),h(this,(U.__proto__||Object.getPrototypeOf(U)).apply(this,arguments))}return P(U,H),w(U,[{key:'type',get:function(){return'unwrap'}},{key:'position',get:function(){return this._moveOperation?this._moveOperation.targetPosition:null}},{key:'_moveOperation',get:function(){return this.operations[0]||null}},{key:'_reverseDeltaClass',get:function(){return E.default}}],[{key:'className',get:function(){return'engine.model.delta.UnwrapDelta'}}]),U}(C.default);u.default=W,(0,I.register)('unwrap',function(H){if(null===H.parent)throw new z.default('batch-unwrap-element-no-parent: Trying to unwrap an element which has no parent.');var U=new W;this.addDelta(U);var K=V.default.createFromParentAndOffset(H,0),$=new L.default(K,H.maxOffset,V.default.createBefore(H),this.document.version);$.isSticky=!0,U.addOperation($),this.document.applyOperation($);var J=this.document.graveyard,G=new V.default(J,[0]),Q=new F.default(V.default.createBefore(H),1,G,this.document.version);return U.addOperation(Q),this.document.applyOperation(Q),this}),T.default.register(W)},function(r,u,s){'use strict';function d(J){return J&&J.__esModule?J:{default:J}}function f(J,G){if(!(J instanceof G))throw new TypeError('Cannot call a class as a function')}function h(J,G){if(!J)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return G&&('object'==typeof G||'function'==typeof G)?G:J}function P(J,G){if('function'!=typeof G&&null!==G)throw new TypeError('Super expression must either be null or a function, not '+typeof G);J.prototype=Object.create(G&&G.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(J,G):J.__proto__=G)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function J(G,Q){for(var Y=0,X;Y<Q.length;Y++)X=Q[Y],X.enumerable=X.enumerable||!1,X.configurable=!0,'value'in X&&(X.writable=!0),Object.defineProperty(G,X.key,X)}return function(G,Q,Y){return Q&&J(G.prototype,Q),Y&&J(G,Y),G}}(),M=s(20),C=d(M),O=s(16),T=d(O),S=s(77),E=d(S),I=s(15),R=s(1),V=d(R),N=s(3),F=d(N),D=s(6),L=d(D),q=s(44),z=d(q),W=s(26),H=d(W),U=s(0),K=d(U),$=function(J){function G(){return f(this,G),h(this,(G.__proto__||Object.getPrototypeOf(G)).apply(this,arguments))}return P(G,J),w(G,[{key:'type',get:function(){return'wrap'}},{key:'range',get:function(){var Y=this._moveOperation;return Y?F.default.createFromPositionAndShift(Y.sourcePosition,Y.howMany):null}},{key:'howMany',get:function(){var Y=this.range;return Y?Y.end.offset-Y.start.offset:0}},{key:'_insertOperation',get:function(){return this.operations[0]||null}},{key:'_moveOperation',get:function(){return this.operations[1]||null}},{key:'_reverseDeltaClass',get:function(){return E.default}}],[{key:'className',get:function(){return'engine.model.delta.WrapDelta'}}]),G}(C.default);u.default=$,(0,I.register)('wrap',function(J,G){if(!J.isFlat)throw new K.default('batch-wrap-range-not-flat: Range to wrap is not flat.');var Q=G instanceof L.default?G:new L.default(G);if(0<Q.childCount)throw new K.default('batch-wrap-element-not-empty: Element to wrap with is not empty.');if(null!==Q.parent)throw new K.default('batch-wrap-element-attached: Element to wrap with is already attached to tree model.');var Y=new $;this.addDelta(Y);var X=new z.default(J.end,Q,this.document.version);Y.addOperation(X),this.document.applyOperation(X);var Z=V.default.createFromParentAndOffset(Q,0),ee=new H.default(J.start,J.end.offset-J.start.offset,Z,this.document.version);return Y.addOperation(ee),this.document.applyOperation(ee),this}),T.default.register($)},function(r,u,s){'use strict';function d(S){return S&&S.__esModule?S:{default:S}}function f(S){if(Array.isArray(S)){for(var E=0,I=Array(S.length);E<S.length;E++)I[E]=S[E];return I}return Array.from(S)}function h(S,E){if(!(S instanceof E))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var P=function(){function S(E,I){for(var R=0,V;R<I.length;R++)V=I[R],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(E,V.key,V)}return function(E,I,R){return I&&S(E.prototype,I),R&&S(E,R),E}}(),w=s(61),M=d(w),C=s(0),O=d(C),T=function(){function S(E){h(this,S),this._nodes=[],E&&this.insertNodes(0,E)}return P(S,[{key:Symbol.iterator,value:function(){return this._nodes[Symbol.iterator]()}},{key:'getNode',value:function(I){return this._nodes[I]||null}},{key:'getNodeIndex',value:function(I){var R=this._nodes.indexOf(I);return-1==R?null:R}},{key:'getNodeStartOffset',value:function(I){var R=this.getNodeIndex(I);return null===R?null:this._nodes.slice(0,R).reduce(function(V,N){return V+N.offsetSize},0)}},{key:'indexToOffset',value:function(I){if(I==this._nodes.length)return this.maxOffset;var R=this._nodes[I];if(!R)throw new O.default('model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.');return this.getNodeStartOffset(R)}},{key:'offsetToIndex',value:function(I){var R=0,V=!0,N=!1,F;try{for(var D=this._nodes[Symbol.iterator](),L,q;!(V=(L=D.next()).done);V=!0){if(q=L.value,I>=R&&I<R+q.offsetSize)return this.getNodeIndex(q);R+=q.offsetSize}}catch(z){N=!0,F=z}finally{try{!V&&D.return&&D.return()}finally{if(N)throw F}}if(R!=I)throw new O.default('model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.');return this.length}},{key:'insertNodes',value:function(I,R){var N=!0,F=!1,V,D;try{for(var L=R[Symbol.iterator](),q,z;!(N=(q=L.next()).done);N=!0)if(z=q.value,!(z instanceof M.default))throw new O.default('model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.')}catch(W){F=!0,D=W}finally{try{!N&&L.return&&L.return()}finally{if(F)throw D}}(V=this._nodes).splice.apply(V,[I,0].concat(f(R)))}},{key:'removeNodes',value:function(I){var R=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return this._nodes.splice(I,R)}},{key:'toJSON',value:function(){return this._nodes.map(function(I){return I.toJSON()})}},{key:'length',get:function(){return this._nodes.length}},{key:'maxOffset',get:function(){return this._nodes.reduce(function(I,R){return I+R.offsetSize},0)}}]),S}();u.default=T},function(r,u,s){'use strict';function d(D){return D&&D.__esModule?D:{default:D}}function f(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}function h(D,L){if(!D)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:D}function P(D,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);D.prototype=Object.create(L&&L.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(D,L):D.__proto__=L)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function D(L,q){for(var z=0,W;z<q.length;z++)W=q[z],W.enumerable=W.enumerable||!1,W.configurable=!0,'value'in W&&(W.writable=!0),Object.defineProperty(L,W.key,W)}return function(L,q,z){return q&&D(L.prototype,q),z&&D(L,z),L}}(),M=s(36),C=d(M),O=s(3),T=d(O),S=s(0),E=d(S),I=s(21),R=d(I),V=s(494),N=d(V),F=function(D){function L(q,z,W,H,U){f(this,L);var K=h(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,U));return K.range=T.default.createFromRange(q),K.key=z,K.oldValue=void 0===W?null:W,K.newValue=void 0===H?null:H,K}return P(L,D),w(L,[{key:'clone',value:function(){return new L(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:'getReversed',value:function(){return new L(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:'_execute',value:function(){var z=!0,W=!1,H;try{for(var U=this.range.getItems()[Symbol.iterator](),K,$;!(z=(K=U.next()).done);z=!0){if($=K.value,null!==this.oldValue&&!(0,N.default)($.getAttribute(this.key),this.oldValue))throw new E.default('attribute-operation-wrong-old-value: Changed node has different attribute value than operation\\\'s old attribute value.',{item:$,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&$.hasAttribute(this.key))throw new E.default('attribute-operation-attribute-exists: The attribute with given key already exists.',{node:$,key:this.key});if((0,N.default)(this.oldValue,this.newValue))return}}catch(J){W=!0,H=J}finally{try{!z&&U.return&&U.return()}finally{if(W)throw H}}return R.default.setAttribute(this.range,this.key,this.newValue),{range:this.range,key:this.key,oldValue:this.oldValue,newValue:this.newValue}}},{key:'type',get:function(){return null===this.oldValue?'addAttribute':null===this.newValue?'removeAttribute':'changeAttribute'}}],[{key:'fromJSON',value:function(z,W){return new L(T.default.fromJSON(z.range,W),z.key,z.oldValue,z.newValue,z.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.AttributeOperation'}}]),L}(C.default);u.default=F},function(r,u,s){'use strict';function d(K){return K&&K.__esModule?K:{default:K}}function f(K,$){if(!(K instanceof $))throw new TypeError('Cannot call a class as a function')}function h(K,$){return!$.has(K)&&($.add(K),K.document.schema.itemExtends(K.name,'$block')&&K.parent)}function P(K,$){var J=K.parent.getAncestors({parentFirst:!0,includeSelf:!0}),G=J.find(function(Q){return h(Q,$)});return J.forEach(function(Q){return $.add(Q)}),G}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function K($,J){var G=[],Q=!0,Y=!1,X;try{for(var Z=$[Symbol.iterator](),ee;!(Q=(ee=Z.next()).done)&&(G.push(ee.value),!(J&&G.length===J));Q=!0);}catch(te){Y=!0,X=te}finally{try{!Q&&Z['return']&&Z['return']()}finally{if(Y)throw X}}return G}return function($,J){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return K($,J);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),M=function(){function K($,J){for(var G=0,Q;G<J.length;G++)Q=J[G],Q.enumerable=Q.enumerable||!1,Q.configurable=!0,'value'in Q&&(Q.writable=!0),Object.defineProperty($,Q.key,Q)}return function($,J,G){return J&&K($.prototype,J),G&&K($,G),$}}(),C=s(1),O=d(C),T=s(6),S=d(T),E=s(3),I=d(E),R=s(9),V=d(R),N=s(0),F=d(N),D=s(4),L=d(D),q=s(155),z=d(q),W=s(507),H=d(W),U=function(){function K($,J){f(this,K),this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,$&&this.setRanges($,J)}return M(K,[{key:'isEqual',value:function(J){if(this.rangeCount!=J.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(J.anchor)||!this.focus.isEqual(J.focus))return!1;var G=!0,Q=!1,Y;try{for(var X=this._ranges[Symbol.iterator](),Z;!(G=(Z=X.next()).done);G=!0){var ee=Z.value,te=!1,re=!0,ae=!1,oe=void 0;try{for(var ne=J._ranges[Symbol.iterator](),le,ue;!(re=(le=ne.next()).done);re=!0)if(ue=le.value,ee.isEqual(ue)){te=!0;break}}catch(ie){ae=!0,oe=ie}finally{try{!re&&ne.return&&ne.return()}finally{if(ae)throw oe}}if(!te)return!1}}catch(ie){Q=!0,Y=ie}finally{try{!G&&X.return&&X.return()}finally{if(Q)throw Y}}return!0}},{key:'getRanges',value:regeneratorRuntime.mark(function $(){var J,G,Q,Y,X,Z;return regeneratorRuntime.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:J=!0,G=!1,Q=void 0,te.prev=3,Y=this._ranges[Symbol.iterator]();case 5:if(J=(X=Y.next()).done){te.next=12;break}return Z=X.value,te.next=9,I.default.createFromRange(Z);case 9:J=!0,te.next=5;break;case 12:te.next=18;break;case 14:te.prev=14,te.t0=te['catch'](3),G=!0,Q=te.t0;case 18:te.prev=18,te.prev=19,!J&&Y.return&&Y.return();case 21:if(te.prev=21,!G){te.next=24;break}throw Q;case 24:return te.finish(21);case 25:return te.finish(18);case 26:case'end':return te.stop();}},$,this,[[3,14,18,26],[19,,21,25]])})},{key:'getFirstRange',value:function(){var J=null,G=!0,Q=!1,Y;try{for(var X=this._ranges[Symbol.iterator](),Z,ee;!(G=(Z=X.next()).done);G=!0)ee=Z.value,(!J||ee.start.isBefore(J.start))&&(J=ee)}catch(te){Q=!0,Y=te}finally{try{!G&&X.return&&X.return()}finally{if(Q)throw Y}}return J?I.default.createFromRange(J):null}},{key:'getLastRange',value:function(){var J=null,G=!0,Q=!1,Y;try{for(var X=this._ranges[Symbol.iterator](),Z,ee;!(G=(Z=X.next()).done);G=!0)ee=Z.value,(!J||ee.end.isAfter(J.end))&&(J=ee)}catch(te){Q=!0,Y=te}finally{try{!G&&X.return&&X.return()}finally{if(Q)throw Y}}return J?I.default.createFromRange(J):null}},{key:'getFirstPosition',value:function(){var J=this.getFirstRange();return J?O.default.createFromPosition(J.start):null}},{key:'getLastPosition',value:function(){var J=this.getLastRange();return J?O.default.createFromPosition(J.end):null}},{key:'addRange',value:function(J){var G=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this._pushRange(J),this._lastRangeBackward=!!G,this.fire('change:range',{directChange:!0})}},{key:'removeAllRanges',value:function(){0<this._ranges.length&&(this._removeAllRanges(),this.fire('change:range',{directChange:!0}))}},{key:'setRanges',value:function(J){var G=this,Q=1<arguments.length&&void 0!==arguments[1]&&arguments[1];J=Array.from(J);var Y=J.some(function(oe){if(!(oe instanceof I.default))throw new F.default('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');return G._ranges.every(function(ne){return!ne.isEqual(oe)})});if(J.length!==this._ranges.length||Y){this._removeAllRanges();var X=!0,Z=!1,ee;try{for(var te=J[Symbol.iterator](),re,ae;!(X=(re=te.next()).done);X=!0)ae=re.value,this._pushRange(ae)}catch(oe){Z=!0,ee=oe}finally{try{!X&&te.return&&te.return()}finally{if(Z)throw ee}}this._lastRangeBackward=!!Q,this.fire('change:range',{directChange:!0})}}},{key:'setTo',value:function(J){this.setRanges(J.getRanges(),J.isBackward)}},{key:'collapse',value:function(J,G){var Q=O.default.createAt(J,G),Y=new I.default(Q,Q);this.setRanges([Y])}},{key:'collapseToStart',value:function(){var J=this.getFirstPosition();null!==J&&this.setRanges([new I.default(J,J)])}},{key:'collapseToEnd',value:function(){var J=this.getLastPosition();null!==J&&this.setRanges([new I.default(J,J)])}},{key:'setFocus',value:function(J,G){if(null===this.anchor)throw new F.default('model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.');var Q=O.default.createAt(J,G);if('same'!=Q.compareWith(this.focus)){var Y=this.anchor;this._ranges.length&&this._popRange(),'before'==Q.compareWith(Y)?this.addRange(new I.default(Q,Y),!0):this.addRange(new I.default(Y,Q))}}},{key:'getAttribute',value:function(J){return this._attrs.get(J)}},{key:'getAttributes',value:function(){return this._attrs.entries()}},{key:'getAttributeKeys',value:function(){return this._attrs.keys()}},{key:'hasAttribute',value:function(J){return this._attrs.has(J)}},{key:'clearAttributes',value:function(){if(0<this._attrs.size){var J=Array.from(this._attrs.keys());this._attrs.clear(),this.fire('change:attribute',{attributeKeys:J,directChange:!0})}}},{key:'removeAttribute',value:function(J){this.hasAttribute(J)&&(this._attrs.delete(J),this.fire('change:attribute',{attributeKeys:[J],directChange:!0}))}},{key:'setAttribute',value:function(J,G){this.getAttribute(J)!==G&&(this._attrs.set(J,G),this.fire('change:attribute',{attributeKeys:[J],directChange:!0}))}},{key:'setAttributesTo',value:function(J){if(J=(0,z.default)(J),!(0,H.default)(J,this._attrs)){var G=new Set(Array.from(J.keys()).concat(Array.from(this._attrs.keys()))),Q=!0,Y=!1,X;try{for(var Z=J[Symbol.iterator](),ee;!(Q=(ee=Z.next()).done);Q=!0){var te=ee.value,re=w(te,2),ae=re[0],oe=re[1];this._attrs.get(ae)===oe&&G.delete(ae)}}catch(ne){Y=!0,X=ne}finally{try{!Q&&Z.return&&Z.return()}finally{if(Y)throw X}}this._attrs=J,this.fire('change:attribute',{attributeKeys:Array.from(G),directChange:!0})}}},{key:'getSelectedElement',value:function(){if(1!==this.rangeCount)return null;var J=this.getFirstRange(),G=J.start.nodeAfter,Q=J.end.nodeBefore;return G instanceof S.default&&G==Q?G:null}},{key:'getSelectedBlocks',value:regeneratorRuntime.mark(function $(){var J,G,Q,Y,X,Z,ee,te,re,ae,oe,ne,le,ue,ie;return regeneratorRuntime.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:J=new WeakSet,G=!0,Q=!1,Y=void 0,de.prev=4,X=this.getRanges()[Symbol.iterator]();case 6:if(G=(Z=X.next()).done){de.next=46;break}if(ee=Z.value,te=P(ee.start,J),!te){de.next=12;break}return de.next=12,te;case 12:re=!0,ae=!1,oe=void 0,de.prev=15,ne=ee.getWalker()[Symbol.iterator]();case 17:if(re=(le=ne.next()).done){de.next=25;break}if(ue=le.value,!('elementEnd'==ue.type&&h(ue.item,J))){de.next=22;break}return de.next=22,ue.item;case 22:re=!0,de.next=17;break;case 25:de.next=31;break;case 27:de.prev=27,de.t0=de['catch'](15),ae=!0,oe=de.t0;case 31:de.prev=31,de.prev=32,!re&&ne.return&&ne.return();case 34:if(de.prev=34,!ae){de.next=37;break}throw oe;case 37:return de.finish(34);case 38:return de.finish(31);case 39:if(ie=P(ee.end,J),!ie||ee.end.isTouching(O.default.createAt(ie))){de.next=43;break}return de.next=43,ie;case 43:G=!0,de.next=6;break;case 46:de.next=52;break;case 48:de.prev=48,de.t1=de['catch'](4),Q=!0,Y=de.t1;case 52:de.prev=52,de.prev=53,!G&&X.return&&X.return();case 55:if(de.prev=55,!Q){de.next=58;break}throw Y;case 58:return de.finish(55);case 59:return de.finish(52);case 60:case'end':return de.stop();}},$,this,[[4,48,52,60],[15,27,31,39],[32,,34,38],[53,,55,59]])})},{key:'_pushRange',value:function(J){if(!(J instanceof I.default))throw new F.default('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');this._checkRange(J),this._ranges.push(I.default.createFromRange(J))}},{key:'_checkRange',value:function(J){for(var G=0;G<this._ranges.length;G++)if(J.isIntersecting(this._ranges[G]))throw new F.default('model-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:J,intersectingRange:this._ranges[G]})}},{key:'_popRange',value:function(){this._ranges.pop()}},{key:'_removeAllRanges',value:function(){for(;0<this._ranges.length;)this._popRange()}},{key:'anchor',get:function(){if(0<this._ranges.length){var J=this._ranges[this._ranges.length-1];return this._lastRangeBackward?J.end:J.start}return null}},{key:'focus',get:function(){if(0<this._ranges.length){var J=this._ranges[this._ranges.length-1];return this._lastRangeBackward?J.start:J.end}return null}},{key:'isCollapsed',get:function(){var J=this._ranges.length;return 1===J&&this._ranges[0].isCollapsed}},{key:'rangeCount',get:function(){return this._ranges.length}},{key:'isBackward',get:function(){return!this.isCollapsed&&this._lastRangeBackward}}],[{key:'createFromSelection',value:function(J){var G=new this;return G.setTo(J),G}}]),K}();u.default=U,(0,L.default)(U,V.default)},function(r,u,s){'use strict';function d(F){return F&&F.__esModule?F:{default:F}}function f(F,D){if(!(F instanceof D))throw new TypeError('Cannot call a class as a function')}function h(F,D){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return D&&('object'==typeof D||'function'==typeof D)?D:F}function P(F,D){if('function'!=typeof D&&null!==D)throw new TypeError('Super expression must either be null or a function, not '+typeof D);F.prototype=Object.create(D&&D.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(F,D):F.__proto__=D)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function F(D,L){for(var q=0,z;q<L.length;q++)z=L[q],z.enumerable=z.enumerable||!1,z.configurable=!0,'value'in z&&(z.writable=!0),Object.defineProperty(D,z.key,z)}return function(D,L,q){return L&&F(D.prototype,L),q&&F(D,q),D}}(),M=s(45),C=d(M),O=s(0),T=d(O),S=s(4),E=d(S),I=s(19),R=d(I),V=Symbol('document'),N=function(F){function D(L,q,z){f(this,D);var W=h(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,L,q,z));return W.set('isReadOnly',!1),W.set('isFocused',!1),W}return P(D,F),w(D,[{key:'document',get:function(){return this.getCustomProperty(V)},set:function(q){var z=this;if(this.getCustomProperty(V))throw new T.default('view-editableelement-document-already-set: View document is already set.');this.setCustomProperty(V,q),this.bind('isReadOnly').to(q),this.bind('isFocused').to(q,'isFocused',function(W){return W&&q.selection.editableElement==z}),this.listenTo(q,'render',function(){z.isFocused=q.isFocused&&q.selection.editableElement==z},{priority:'high'})}}]),D}(C.default);u.default=N,(0,E.default)(N,R.default)},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}function f(R,V){if(!(R instanceof V))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function R(V,N){for(var F=0,D;F<N.length;F++)D=N[F],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(V,D.key,D)}return function(V,N,F){return N&&R(V.prototype,N),F&&R(V,F),V}}(),P=s(0),w=d(P),M=s(9),C=d(M),O=s(4),T=d(O),S=s(70),E=d(S),I=function(){function R(){f(this,R),this.parent=null}return h(R,[{key:'getAncestors',value:function(){for(var N=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},F=[],D=N.includeSelf?this:this.parent;D;)F[N.parentFirst?'push':'unshift'](D),D=D.parent;return F}},{key:'getCommonAncestor',value:function(N){for(var F=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},D=this.getAncestors(F),L=N.getAncestors(F),q=0;D[q]==L[q]&&D[q];)q++;return 0==q?null:D[q-1]}},{key:'remove',value:function(){this.parent.removeChildren(this.index)}},{key:'_fireChange',value:function(N,F){this.fire('change:'+N,F),this.parent&&this.parent._fireChange(N,F)}},{key:'toJSON',value:function(){var N=(0,E.default)(this);return delete N.parent,N}},{key:'index',get:function(){var N;if(!this.parent)return null;if(-1==(N=this.parent.getChildIndex(this)))throw new w.default('view-node-not-found-in-parent: The node\'s parent does not contain this node.');return N}},{key:'nextSibling',get:function(){var N=this.index;return null!==N&&this.parent.getChild(N+1)||null}},{key:'previousSibling',get:function(){var N=this.index;return null!==N&&this.parent.getChild(N-1)||null}},{key:'root',get:function(){for(var N=this;N.parent;)N=N.parent;return N}},{key:'document',get:function(){return this.parent instanceof R?this.parent.document:null}}]),R}();u.default=I,(0,T.default)(I,C.default)},function(r,u,s){'use strict';function d(q){return q&&q.__esModule?q:{default:q}}function f(q,z){if(!(q instanceof z))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function q(z,W){for(var H=0,U;H<W.length;H++)U=W[H],U.enumerable=U.enumerable||!1,U.configurable=!0,'value'in U&&(U.writable=!0),Object.defineProperty(z,U.key,U)}return function(z,W,H){return W&&q(z.prototype,W),H&&q(z,H),z}}(),P=s(0),w=d(P),M=s(38),C=d(M),O=s(22),T=d(O),S=s(4),E=d(S),I=s(9),R=d(I),V=s(28),N=d(V),F=s(126),D=d(F),L=function(){function q(z,W){f(this,q),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel='',z&&this.setRanges(z,W)}return h(q,[{key:'setFake',value:function(){var W=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0,H=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._isFake=W,this._fakeSelectionLabel=W?H.label||'':'',this.fire('change')}},{key:'addRange',value:function(W,H){if(!(W instanceof C.default))throw new w.default('view-selection-invalid-range: Invalid Range.');this._pushRange(W),this._lastRangeBackward=!!H,this.fire('change')}},{key:'getRanges',value:regeneratorRuntime.mark(function z(){var W,H,U,K,$,J;return regeneratorRuntime.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:W=!0,H=!1,U=void 0,Q.prev=3,K=this._ranges[Symbol.iterator]();case 5:if(W=($=K.next()).done){Q.next=12;break}return J=$.value,Q.next=9,C.default.createFromRange(J);case 9:W=!0,Q.next=5;break;case 12:Q.next=18;break;case 14:Q.prev=14,Q.t0=Q['catch'](3),H=!0,U=Q.t0;case 18:Q.prev=18,Q.prev=19,!W&&K.return&&K.return();case 21:if(Q.prev=21,!H){Q.next=24;break}throw U;case 24:return Q.finish(21);case 25:return Q.finish(18);case 26:case'end':return Q.stop();}},z,this,[[3,14,18,26],[19,,21,25]])})},{key:'getFirstRange',value:function(){var W=null,H=!0,U=!1,K;try{for(var $=this._ranges[Symbol.iterator](),J,G;!(H=(J=$.next()).done);H=!0)G=J.value,(!W||G.start.isBefore(W.start))&&(W=G)}catch(Q){U=!0,K=Q}finally{try{!H&&$.return&&$.return()}finally{if(U)throw K}}return W?C.default.createFromRange(W):null}},{key:'getLastRange',value:function(){var W=null,H=!0,U=!1,K;try{for(var $=this._ranges[Symbol.iterator](),J,G;!(H=(J=$.next()).done);H=!0)G=J.value,(!W||G.end.isAfter(W.end))&&(W=G)}catch(Q){U=!0,K=Q}finally{try{!H&&$.return&&$.return()}finally{if(U)throw K}}return W?C.default.createFromRange(W):null}},{key:'getFirstPosition',value:function(){var W=this.getFirstRange();return W?T.default.createFromPosition(W.start):null}},{key:'getLastPosition',value:function(){var W=this.getLastRange();return W?T.default.createFromPosition(W.end):null}},{key:'isEqual',value:function(W){if(this.isFake!=W.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=W.fakeSelectionLabel)return!1;if(this.rangeCount!=W.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(W.anchor)||!this.focus.isEqual(W.focus))return!1;var H=!0,U=!1,K;try{for(var $=this._ranges[Symbol.iterator](),J;!(H=(J=$.next()).done);H=!0){var G=J.value,Q=!1,Y=!0,X=!1,Z=void 0;try{for(var ee=W._ranges[Symbol.iterator](),te,re;!(Y=(te=ee.next()).done);Y=!0)if(re=te.value,G.isEqual(re)){Q=!0;break}}catch(ae){X=!0,Z=ae}finally{try{!Y&&ee.return&&ee.return()}finally{if(X)throw Z}}if(!Q)return!1}}catch(ae){U=!0,K=ae}finally{try{!H&&$.return&&$.return()}finally{if(U)throw K}}return!0}},{key:'isSimilar',value:function(W){if(this.isBackward!=W.isBackward)return!1;var H=(0,D.default)(this.getRanges()),U=(0,D.default)(W.getRanges());if(H!=U)return!1;if(0==H)return!0;var K=!0,$=!1,J;try{for(var G=this.getRanges()[Symbol.iterator](),Q,Y;!(K=(Q=G.next()).done);K=!0){Y=Q.value,Y=Y.getTrimmed();var X=!1,Z=!0,ee=!1,te=void 0;try{for(var re=W.getRanges()[Symbol.iterator](),ae,oe;!(Z=(ae=re.next()).done);Z=!0)if(oe=ae.value,oe=oe.getTrimmed(),Y.start.isEqual(oe.start)&&Y.end.isEqual(oe.end)){X=!0;break}}catch(ne){ee=!0,te=ne}finally{try{!Z&&re.return&&re.return()}finally{if(ee)throw te}}if(!X)return!1}}catch(ne){$=!0,J=ne}finally{try{!K&&G.return&&G.return()}finally{if($)throw J}}return!0}},{key:'removeAllRanges',value:function(){this._ranges.length&&(this._ranges=[],this.fire('change'))}},{key:'setRanges',value:function(W,H){this._ranges=[];var U=!0,K=!1,$;try{for(var J=W[Symbol.iterator](),G,Q;!(U=(G=J.next()).done);U=!0){if(Q=G.value,!(Q instanceof C.default))throw new w.default('view-selection-invalid-range: Invalid Range.');this._pushRange(Q)}}catch(Y){K=!0,$=Y}finally{try{!U&&J.return&&J.return()}finally{if(K)throw $}}this._lastRangeBackward=!!H,this.fire('change')}},{key:'setTo',value:function(W){this._isFake=W._isFake,this._fakeSelectionLabel=W._fakeSelectionLabel,this.setRanges(W.getRanges(),W.isBackward)}},{key:'collapse',value:function(W,H){var U=T.default.createAt(W,H),K=new C.default(U,U);this.setRanges([K])}},{key:'collapseToStart',value:function(){var W=this.getFirstPosition();null!==W&&this.setRanges([new C.default(W,W)])}},{key:'collapseToEnd',value:function(){var W=this.getLastPosition();null!==W&&this.setRanges([new C.default(W,W)])}},{key:'setFocus',value:function(W,H){if(null===this.anchor)throw new w.default('view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.');var U=T.default.createAt(W,H);if('same'!=U.compareWith(this.focus)){var K=this.anchor;this._ranges.pop(),'before'==U.compareWith(K)?this.addRange(new C.default(U,K),!0):this.addRange(new C.default(K,U))}}},{key:'getSelectedElement',value:function(){if(1!==this.rangeCount)return null;var W=this.getFirstRange(),H=W.start.nodeAfter,U=W.end.nodeBefore;return H instanceof N.default&&H==U?H:null}},{key:'_pushRange',value:function(W){var H=!0,U=!1,K;try{for(var $=this._ranges[Symbol.iterator](),J,G;!(H=(J=$.next()).done);H=!0)if(G=J.value,W.isIntersecting(G))throw new w.default('view-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:W,intersectingRange:G})}catch(Q){U=!0,K=Q}finally{try{!H&&$.return&&$.return()}finally{if(U)throw K}}this._ranges.push(C.default.createFromRange(W))}},{key:'isFake',get:function(){return this._isFake}},{key:'fakeSelectionLabel',get:function(){return this._fakeSelectionLabel}},{key:'anchor',get:function(){if(!this._ranges.length)return null;var W=this._ranges[this._ranges.length-1],H=this._lastRangeBackward?W.end:W.start;return T.default.createFromPosition(H)}},{key:'focus',get:function(){if(!this._ranges.length)return null;var W=this._ranges[this._ranges.length-1],H=this._lastRangeBackward?W.start:W.end;return T.default.createFromPosition(H)}},{key:'isCollapsed',get:function(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}},{key:'rangeCount',get:function(){return this._ranges.length}},{key:'isBackward',get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:'editableElement',get:function(){return this.anchor?this.anchor.editableElement:null}}],[{key:'createFromSelection',value:function(W){var H=new q;return H.setTo(W),H}}]),q}();u.default=L,(0,E.default)(L,R.default)},function(r,u,s){'use strict';function d(we){return we&&we.__esModule?we:{default:we}}function f(we){if(Array.isArray(we)){for(var xe=0,Me=Array(we.length);xe<we.length;xe++)Me[xe]=we[xe];return Me}return Array.from(we)}function h(we){return we instanceof Z.default?L(we):D(we)}function P(we){var xe=we.parent;if(!xe.is('containerElement'))throw new ge.default('view-writer-break-non-container-element: Trying to break an element which is not a container element.');if(!xe.parent)throw new ge.default('view-writer-break-root: Trying to break root element.');if(we.isAtStart)return Z.default.createBefore(xe);if(!we.isAtEnd){var Me=xe.clone(!1);O(Z.default.createAfter(xe),Me);var Ce=new fe.default(we,Z.default.createAt(xe,'end')),Oe=new Z.default(Me,0);E(Ce,Oe)}return Z.default.createAfter(xe)}function w(we){var xe=we.offset,Me=we.parent;if(Me.is('text'))return we;if(Me.is('attributeElement')&&0===Me.childCount){var Ce=Me.parent,Oe=Me.index;return Me.remove(),w(new Z.default(Ce,Oe))}var Ae=Me.getChild(xe-1),Te=Me.getChild(xe);if(!Ae||!Te)return we;if(Ae.is('text')&&Te.is('text'))return U(Ae,Te);if(Ae.is('attributeElement')&&Te.is('attributeElement')&&Ae.isSimilar(Te)){var Se=Ae.childCount;return Ae.appendChildren(Te.getChildren()),Te.remove(),w(new Z.default(Ae,Se))}return we}function M(we){var xe=we.nodeBefore,Me=we.nodeAfter;if(!xe||!Me||!xe.is('containerElement')||!Me.is('containerElement'))throw new ge.default('view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.');var Ce=xe.getChild(xe.childCount-1),Oe=Ce instanceof se.default?Z.default.createAt(Ce,'end'):Z.default.createAt(xe,'end');return E(fe.default.createIn(Me),Z.default.createAt(xe,'end')),T(fe.default.createOn(Me)),Oe}function C(we){var xe=[],Me=new pe.default({boundaries:we}),Ce=we.start,Oe=!0,Ae=!1,Te;try{for(var Se=Me[Symbol.iterator](),Ee,Ie;!(Oe=(Ee=Se.next()).done);Oe=!0)Ie=Ee.value,Ie.item.is('containerElement')&&(!Ce.isEqual(Ie.previousPosition)&&xe.push(new fe.default(Ce,Ie.previousPosition)),Ce=Ie.nextPosition)}catch(Re){Ae=!0,Te=Re}finally{try{!Oe&&Se.return&&Se.return()}finally{if(Ae)throw Te}}return xe.push(new fe.default(Ce,we.end)),xe}function O(we,xe){xe=(0,ve.default)(xe)?[].concat(f(xe)):[xe],G(xe);var Me=F(we);if(!Me)throw new ge.default('view-writer-invalid-position-container');var Ce=L(we,!0),Oe=Me.insertChildren(Ce.offset,xe),Ae=Ce.getShiftedBy(Oe),Te=w(Ce);if(0===Oe)return new fe.default(Te,Te);Te.isEqual(Ce)||Ae.offset--;var Se=w(Ae);return new fe.default(Te,Se)}function T(we){if(Y(we),we.isCollapsed)return new be.default;var xe=D(we,!0),Me=xe.start,Ce=xe.end,Oe=Me.parent,Ae=Ce.offset-Me.offset,Te=Oe.removeChildren(Me.offset,Ae),Se=w(Me);return we.start=Se,we.end=Z.default.createFromPosition(Se),new be.default(Te)}function S(we,xe){Y(we);var Me=we.getWalker({direction:'backward',ignoreElementEnd:!0}),Ce=!0,Oe=!1,Ae;try{for(var Te=Me[Symbol.iterator](),Se;!(Ce=(Se=Te.next()).done);Ce=!0){var Ee=Se.value,Ie=Ee.item,Re=void 0;if(Ie.is('element')&&xe.isSimilar(Ie))Re=fe.default.createOn(Ie);else if(!Ee.nextPosition.isAfter(we.start)&&(Ie.is('text')||Ie.is('textProxy'))){var Ve=Ie.getAncestors().find(function(Ne){return Ne.is('element')&&xe.isSimilar(Ne)});Ve&&(Re=fe.default.createIn(Ve))}Re&&(Re.end.isAfter(we.end)&&(Re.end=we.end),Re.start.isBefore(we.start)&&(Re.start=we.start),T(Re))}}catch(Ne){Oe=!0,Ae=Ne}finally{try{!Ce&&Te.return&&Te.return()}finally{if(Oe)throw Ae}}}function E(we,xe){var Me;if(xe.isAfter(we.end)){xe=L(xe,!0);var Ce=xe.parent,Oe=Ce.childCount;we=D(we,!0),Me=T(we),xe.offset+=Ce.childCount-Oe}else Me=T(we);return O(xe,Me)}function I(we,xe){if(!(xe instanceof ae.default))throw new ge.default('view-writer-wrap-invalid-attribute');if(Y(we),we.isCollapsed)return we;if(we.end.isEqual(we.start.getShiftedBy(1))){var Me=we.start.nodeAfter;if(Me instanceof ae.default&&K(xe,Me))return we}if(J(we)&&K(xe,we.start.parent)){var Ce=we.start.parent.parent,Oe=we.start.parent.index;return fe.default.createFromParentsAndOffsets(Ce,Oe,Ce,Oe+1)}var Ae=D(we,!0),Te=Ae.start,Se=Ae.end,Ee=Te.parent,Ie=q(Ee,Te.offset,Se.offset,xe),Re=z(Ee,Ie.start.offset,Ie.end.offset,xe),Ve=w(Re.start);Ve.isEqual(Re.start)||Re.end.offset--;var Ne=w(Re.end);return new fe.default(Ve,Ne)}function R(we,xe){if(!(xe instanceof ae.default))throw new ge.default('view-writer-wrap-invalid-attribute');if(xe.isSimilar(we.parent))return W(Z.default.createFromPosition(we));we.parent.is('text')&&(we=H(we));var Me=new ae.default;Me.priority=_NumberPOSITIVE_INFINITY,Me.isSimilar=function(){return!1},we.parent.insertChildren(we.offset,Me);var Ce=new fe.default(we,we.getShiftedBy(1));I(Ce,xe);var Oe=new Z.default(Me.parent,Me.index);Me.remove();var Ae=Oe.nodeBefore,Te=Oe.nodeAfter;return Ae instanceof se.default&&Te instanceof se.default?U(Ae,Te):W(Oe)}function V(we,xe){if(!(xe instanceof ae.default))throw new ge.default('view-writer-unwrap-invalid-attribute');if(Y(we),we.isCollapsed)return we;if(we.end.isEqual(we.start.getShiftedBy(1))){var Me=we.start.nodeAfter;if(!xe.isSimilar(Me)&&Me instanceof ae.default&&$(xe,Me))return we}var Ce=D(we,!0),Oe=Ce.start,Ae=Ce.end,Te=Oe.parent,Se=q(Te,Oe.offset,Ae.offset,xe),Ee=w(Se.start);Ee.isEqual(Se.start)||Se.end.offset--;var Ie=w(Se.end);return new fe.default(Ee,Ie)}function N(we,xe){var Me=new te.default(xe,we.getAttributes());return O(Z.default.createAfter(we),Me),E(fe.default.createIn(we),Z.default.createAt(Me)),T(fe.default.createOn(we)),Me}function F(we){for(var xe=we.parent;!Q(xe);){if(!xe)return;xe=xe.parent}return xe}function D(we){var xe=1<arguments.length&&void 0!==arguments[1]&&arguments[1],Me=we.start,Ce=we.end;if(Y(we),we.isCollapsed){var Oe=L(we.start,xe);return new fe.default(Oe,Oe)}var Ae=L(Ce,xe),Te=Ae.parent.childCount,Se=L(Me,xe);return Ae.offset+=Ae.parent.childCount-Te,new fe.default(Se,Ae)}function L(we){var xe=1<arguments.length&&arguments[1]!==void 0&&arguments[1],Me=we.offset,Ce=we.parent;if(we.parent.is('emptyElement'))throw new ge.default('view-writer-cannot-break-empty-element');if(we.parent.is('uiElement'))throw new ge.default('view-writer-cannot-break-ui-element');if(!xe&&Ce.is('text')&&Q(Ce.parent))return Z.default.createFromPosition(we);if(Q(Ce))return Z.default.createFromPosition(we);if(Ce.is('text'))return L(H(we),xe);var Oe=Ce.childCount;if(Me==Oe){var Ae=new Z.default(Ce.parent,Ce.index+1);return L(Ae,xe)}if(0===Me){var Te=new Z.default(Ce.parent,Ce.index);return L(Te,xe)}var Se=Ce.index+1,Ee=Ce.clone();Ce.parent.insertChildren(Se,Ee);var Ie=Ce.childCount-Me,Re=Ce.removeChildren(Me,Ie);Ee.appendChildren(Re);var Ve=new Z.default(Ce.parent,Se);return L(Ve,xe)}function q(we,xe,Me,Ce){for(var Oe=xe,Ae=[],Te;Oe<Me;)if(Te=we.getChild(Oe),Te.isSimilar(Ce)){var Se=Te.getChildren(),Ee=Te.childCount;Te.remove(),we.insertChildren(Oe,Se),Ae.push(new Z.default(we,Oe),new Z.default(we,Oe+Ee)),Oe+=Ee,Me+=Ee-1}else Te.is('attributeElement')&&q(Te,0,Te.childCount,Ce),Oe++;var Ie=0,Re=!0,Ve=!1,Ne;try{for(var Fe=Ae[Symbol.iterator](),Be,De;!(Re=(Be=Fe.next()).done);Re=!0)if(De=Be.value,De.offset-=Ie,De.offset!=xe&&De.offset!=Me){var je=w(De);je.isEqual(De)||(Ie++,Me--)}}catch(Le){Ve=!0,Ne=Le}finally{try{!Re&&Fe.return&&Fe.return()}finally{if(Ve)throw Ne}}return fe.default.createFromParentsAndOffsets(we,xe,we,Me)}function z(we,xe,Me,Ce){for(var Oe=xe,Ae=[];Oe<Me;){var Te=we.getChild(Oe),Se=Te.is('text'),Ee=Te.is('attributeElement'),Ie=Te.is('emptyElement'),Re=Te.is('uiElement');if(Se||Ie||Re||Ee&&Ce.priority<=Te.priority){var Ve=Ce.clone();Te.remove(),Ve.appendChildren(Te),we.insertChildren(Oe,Ve),Ae.push(new Z.default(we,Oe))}else Ee&&z(Te,0,Te.childCount,Ce);Oe++}var Ne=0,Fe=!0,Be=!1,De;try{for(var je=Ae[Symbol.iterator](),Le,qe;!(Fe=(Le=je.next()).done);Fe=!0)if(qe=Le.value,qe.offset-=Ne,qe.offset!=xe){var ze=w(qe);ze.isEqual(qe)||(Ne++,Me--)}}catch(We){Be=!0,De=We}finally{try{!Fe&&je.return&&je.return()}finally{if(Be)throw De}}return fe.default.createFromParentsAndOffsets(we,xe,we,Me)}function W(we){var xe=we.nodeBefore;if(xe&&xe.is('text'))return new Z.default(xe,xe.data.length);var Me=we.nodeAfter;return Me&&Me.is('text')?new Z.default(Me,0):we}function H(we){if(we.offset==we.parent.data.length)return new Z.default(we.parent.parent,we.parent.index+1);if(0===we.offset)return new Z.default(we.parent.parent,we.parent.index);var xe=we.parent.data.slice(we.offset);return we.parent.data=we.parent.data.slice(0,we.offset),we.parent.parent.insertChildren(we.parent.index+1,new se.default(xe)),new Z.default(we.parent.parent,we.parent.index+1)}function U(we,xe){var Me=we.data.length;return we.data+=xe.data,xe.remove(),new Z.default(we,Me)}function K(we,xe){if(we.name!==xe.name||we.priority!==xe.priority)return!1;var Me=!0,Ce=!1,Oe;try{for(var Ae=we.getAttributeKeys()[Symbol.iterator](),Te,Se;!(Me=(Te=Ae.next()).done);Me=!0)if((Se=Te.value,'class'!==Se&&'style'!==Se)&&xe.hasAttribute(Se)&&xe.getAttribute(Se)!==we.getAttribute(Se))return!1}catch(tt){Ce=!0,Oe=tt}finally{try{!Me&&Ae.return&&Ae.return()}finally{if(Ce)throw Oe}}var Ee=!0,Ie=!1,Re;try{for(var Ve=we.getStyleNames()[Symbol.iterator](),Ne,Fe;!(Ee=(Ne=Ve.next()).done);Ee=!0)if(Fe=Ne.value,xe.hasStyle(Fe)&&xe.getStyle(Fe)!==we.getStyle(Fe))return!1}catch(tt){Ie=!0,Re=tt}finally{try{!Ee&&Ve.return&&Ve.return()}finally{if(Ie)throw Re}}var Be=!0,De=!1,je;try{for(var Le=we.getAttributeKeys()[Symbol.iterator](),qe,ze;!(Be=(qe=Le.next()).done);Be=!0)(ze=qe.value,'class'!==ze&&'style'!==ze)&&(xe.hasAttribute(ze)||xe.setAttribute(ze,we.getAttribute(ze)))}catch(tt){De=!0,je=tt}finally{try{!Be&&Le.return&&Le.return()}finally{if(De)throw je}}var We=!0,He=!1,Ue;try{for(var Ke=we.getStyleNames()[Symbol.iterator](),$e,Je;!(We=($e=Ke.next()).done);We=!0)Je=$e.value,xe.hasStyle(Je)||xe.setStyle(Je,we.getStyle(Je))}catch(tt){He=!0,Ue=tt}finally{try{!We&&Ke.return&&Ke.return()}finally{if(He)throw Ue}}var Ge=!0,Qe=!1,Ye;try{for(var Xe=we.getClassNames()[Symbol.iterator](),Ze,et;!(Ge=(Ze=Xe.next()).done);Ge=!0)et=Ze.value,xe.hasClass(et)||xe.addClass(et)}catch(tt){Qe=!0,Ye=tt}finally{try{!Ge&&Xe.return&&Xe.return()}finally{if(Qe)throw Ye}}return!0}function $(we,xe){if(we.name!==xe.name||we.priority!==xe.priority)return!1;var Me=!0,Ce=!1,Oe;try{for(var Ae=we.getAttributeKeys()[Symbol.iterator](),Te,Se;!(Me=(Te=Ae.next()).done);Me=!0)if((Se=Te.value,'class'!==Se&&'style'!==Se)&&(!xe.hasAttribute(Se)||xe.getAttribute(Se)!==we.getAttribute(Se)))return!1}catch(We){Ce=!0,Oe=We}finally{try{!Me&&Ae.return&&Ae.return()}finally{if(Ce)throw Oe}}if(!xe.hasClass.apply(xe,f(we.getClassNames())))return!1;var Ee=!0,Ie=!1,Re;try{for(var Ve=we.getStyleNames()[Symbol.iterator](),Ne,Fe;!(Ee=(Ne=Ve.next()).done);Ee=!0)if(Fe=Ne.value,!xe.hasStyle(Fe)||xe.getStyle(Fe)!==we.getStyle(Fe))return!1}catch(We){Ie=!0,Re=We}finally{try{!Ee&&Ve.return&&Ve.return()}finally{if(Ie)throw Re}}var Be=!0,De=!1,je;try{for(var Le=we.getAttributeKeys()[Symbol.iterator](),qe,ze;!(Be=(qe=Le.next()).done);Be=!0)(ze=qe.value,'class'!==ze&&'style'!==ze)&&xe.removeAttribute(ze)}catch(We){De=!0,je=We}finally{try{!Be&&Le.return&&Le.return()}finally{if(De)throw je}}return xe.removeClass.apply(xe,f(we.getClassNames())),xe.removeStyle.apply(xe,f(we.getStyleNames())),!0}function J(we){return we.start.parent==we.end.parent&&we.start.parent.is('attributeElement')&&0===we.start.offset&&we.end.offset===we.start.parent.childCount}function G(we){var xe=function(Ie){if(!Pe.some(function(Re){return Ie instanceof Re}))throw new ge.default('view-writer-insert-invalid-node');Ie.is('text')||G(Ie.getChildren())},Me=!0,Ce=!1,Oe;try{for(var Ae=we[Symbol.iterator](),Te,Se;!(Me=(Te=Ae.next()).done);Me=!0)Se=Te.value,xe(Se)}catch(Ee){Ce=!0,Oe=Ee}finally{try{!Me&&Ae.return&&Ae.return()}finally{if(Ce)throw Oe}}}function Q(we){return we&&(we.is('containerElement')||we.is('documentFragment'))}function Y(we){var xe=F(we.start),Me=F(we.end);if(!xe||!Me||xe!==Me)throw new ge.default('view-writer-invalid-range-container')}Object.defineProperty(u,'__esModule',{value:!0}),u.breakAttributes=h,u.breakContainer=P,u.mergeAttributes=w,u.mergeContainers=M,u.breakViewRangePerContainer=C,u.insert=O,u.remove=T,u.clear=S,u.move=E,u.wrap=I,u.wrapPosition=R,u.unwrap=V,u.rename=N;var X=s(22),Z=d(X),ee=s(45),te=d(ee),re=s(118),ae=d(re),oe=s(166),ne=d(oe),le=s(122),ue=d(le),ie=s(31),se=d(ie),de=s(38),fe=d(de),ce=s(55),pe=d(ce),me=s(0),ge=d(me),ye=s(119),be=d(ye),he=s(47),ve=d(he);u.default={breakAttributes:h,breakContainer:P,mergeAttributes:w,mergeContainers:M,insert:O,remove:T,clear:S,move:E,wrap:I,wrapPosition:R,unwrap:V,rename:N,breakViewRangePerContainer:C};var Pe=[se.default,ae.default,te.default,ne.default,ue.default]},function(r,u,s){'use strict';function d(J){return J&&J.__esModule?J:{default:J}}function f(J,G){if(!(J instanceof G))throw new TypeError('Cannot call a class as a function')}function h(J,G){if(!J)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return G&&('object'==typeof G||'function'==typeof G)?G:J}function P(J,G){if('function'!=typeof G&&null!==G)throw new TypeError('Super expression must either be null or a function, not '+typeof G);J.prototype=Object.create(G&&G.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(J,G):J.__proto__=G)}function w(J,G,Q,Y){if(Q.test(G.input,{name:G.input.name})&&C(G.input,G.context,Y.schema,!1)){G.context.push('paragraph');var X=Y.convertItem(G.input,Q,G);G.context.pop(),G.output=X}}function M(J,G,Q,Y){if(G.output){var X=K.paragraphLikeElements.has(G.input.name)&&!G.output.is('element'),Z=G.input.is('documentFragment')||G.input.is('element')&&G.output.is('element')||X;if(Z){var ee=G.output.is('element');ee&&G.context.push(G.output);for(var te=null,re=0,ae;re<G.output.childCount;re++)ae=G.output.getChild(re),C(ae,G.context,Y.schema,X)?(te?re--:(te=new D.default('paragraph'),G.output.insertChildren(ae.index,te)),ae.remove(),te.appendChildren(ae)):te=null;ee&&G.context.pop()}}}function C(J,G,Q,Y){var X=J.name||'$text';return!Y&&Q.check({name:X,inside:G})?!1:!!Q.check({name:'paragraph',inside:G})&&!!Q.check({name:X,inside:G.concat('paragraph')})}function O(J,G){var Q=!0,Y=!1,X;try{for(var Z=J.getRootNames()[Symbol.iterator](),ee;!(Q=(ee=Z.next()).done);Q=!0){var te=ee.value,re=J.getRoot(te);re.isEmpty?!$.has(re)&&$.set(re,G):$.delete(re)}}catch(ae){Y=!0,X=ae}finally{try{!Q&&Z.return&&Z.return()}finally{if(Y)throw X}}}function T(){var J=function(ne,le){var ie=le.document,se=ie.schema;se.check({name:'paragraph',inside:[ne]})&&ie.enqueueChanges(function(){$.delete(ne),le.insert(q.default.createAt(ne),new D.default('paragraph'))})},G=!0,Q=!1,Y;try{for(var X=$[Symbol.iterator](),Z;!(G=(Z=X.next()).done);G=!0){var ee=Z.value,te=S(ee,2),re=te[0],ae=te[1];J(re,ae)}}catch(oe){Q=!0,Y=oe}finally{try{!G&&X.return&&X.return()}finally{if(Q)throw Y}}}Object.defineProperty(u,'__esModule',{value:!0});var S=function(){function J(G,Q){var Y=[],X=!0,Z=!1,ee;try{for(var te=G[Symbol.iterator](),re;!(X=(re=te.next()).done)&&(Y.push(re.value),!(Q&&Y.length===Q));X=!0);}catch(ae){Z=!0,ee=ae}finally{try{!X&&te['return']&&te['return']()}finally{if(Z)throw ee}}return Y}return function(G,Q){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return J(G,Q);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),E=function(){function J(G,Q){for(var Y=0,X;Y<Q.length;Y++)X=Q[Y],X.enumerable=X.enumerable||!1,X.configurable=!0,'value'in X&&(X.writable=!0),Object.defineProperty(G,X.key,X)}return function(G,Q,Y){return Q&&J(G.prototype,Q),Y&&J(G,Y),G}}(),I=s(364),R=d(I),V=s(2),N=d(V),F=s(6),D=d(F),L=s(1),q=d(L),z=s(43),W=d(z),H=s(34),U=d(H),K=function(J){function G(){return f(this,G),h(this,(G.__proto__||Object.getPrototypeOf(G)).apply(this,arguments))}return P(G,J),E(G,[{key:'init',value:function(){var Y=this.editor,X=Y.document,Z=Y.data,ee=Y.editing;Y.commands.add('paragraph',new R.default(Y)),X.schema.registerItem('paragraph','$block'),(0,W.default)().for(Z.modelToView,ee.modelToView).fromElement('paragraph').toElement('p'),(0,U.default)().for(Z.viewToModel).fromElement('p').toElement('paragraph'),Z.viewToModel.on('element',w,{priority:'low'}),Z.viewToModel.on('text',w,{priority:'lowest'}),Z.viewToModel.on('element',M,{priority:'lowest'}),Z.viewToModel.on('documentFragment',M,{priority:'lowest'}),X.on('change',function(te,re,ae,oe){'transparent'==oe.type||O(X,oe)}),X.on('changesDone',T,{priority:'lowest'}),Y.on('dataReady',function(){O(X,X.batch('transparent')),T()},{priority:'lowest'})}}],[{key:'pluginName',get:function(){return'Paragraph'}}]),G}(N.default);u.default=K,K.paragraphLikeElements=new Set(['blockquote','dd','div','dt','h1','h2','h3','h4','h5','h6','li','p','td']);var $=new Map},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}function f(R,V){if(!(R instanceof V))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function R(V,N){for(var F=0,D;F<N.length;F++)D=N[F],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(V,D.key,D)}return function(V,N,F){return N&&R(V.prototype,N),F&&R(V,F),V}}(),P=s(9),w=d(P),M=s(0),C=d(M),O=s(72),T=d(O),S=s(4),E=d(S),I=function(){function R(V){f(this,R),this._items=[],this._itemMap=new Map,this._idProperty=V&&V.idProperty||'id',this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap}return h(R,[{key:'add',value:function(N,F){var L=this._idProperty,D;if(L in N){if(D=N[L],'string'!=typeof D)throw new C.default('collection-add-invalid-id');if(this.get(D))throw new C.default('collection-add-item-already-exists')}else N[L]=D=(0,T.default)();if(void 0===F)F=this._items.length;else if(F>this._items.length||0>F)throw new C.default('collection-add-item-invalid-index');return this._items.splice(F,0,N),this._itemMap.set(D,N),this.fire('add',N,F),this}},{key:'get',value:function(N){var F;if('string'==typeof N)F=this._itemMap.get(N);else if('number'==typeof N)F=this._items[N];else throw new C.default('collection-get-invalid-arg: Index or id must be given.');return F||null}},{key:'getIndex',value:function(N){var F;return F='string'==typeof N?this._itemMap.get(N):N,this._items.indexOf(F)}},{key:'remove',value:function(N){var q=!1,z=this._idProperty,F,D,L;if('string'==typeof N?(D=N,L=this._itemMap.get(D),q=!L,L&&(F=this._items.indexOf(L))):'number'==typeof N?(F=N,L=this._items[F],q=!L,L&&(D=L[z])):(L=N,D=L[z],F=this._items.indexOf(L),q=-1==F||!this._itemMap.get(D)),q)throw new C.default('collection-remove-404: Item not found.');this._items.splice(F,1),this._itemMap.delete(D);var W=this._bindToInternalToExternalMap.get(L);return this._bindToInternalToExternalMap.delete(L),this._bindToExternalToInternalMap.delete(W),this.fire('remove',L),L}},{key:'map',value:function(N,F){return this._items.map(N,F)}},{key:'find',value:function(N,F){return this._items.find(N,F)}},{key:'filter',value:function(N,F){return this._items.filter(N,F)}},{key:'clear',value:function(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}},{key:'bindTo',value:function(N){var F=this;if(this._bindToCollection)throw new C.default('collection-bind-to-rebind: The collection cannot be bound more than once.');return this._bindToCollection=N,{as:function(L){F._setUpBindToBinding(function(q){return new L(q)})},using:function(L){'function'==typeof L?F._setUpBindToBinding(function(q){return L(q)}):F._setUpBindToBinding(function(q){return q[L]})}}}},{key:'_setUpBindToBinding',value:function(N){var F=this,D=this._bindToCollection,L=function(J,G,Q){var Y=D._bindToCollection==F,X=D._bindToInternalToExternalMap.get(G);if(Y&&X)F._bindToExternalToInternalMap.set(G,X),F._bindToInternalToExternalMap.set(X,G);else{var Z=N(G);F._bindToExternalToInternalMap.set(G,Z),F._bindToInternalToExternalMap.set(Z,G),F.add(Z,Q)}},q=!0,z=!1,W;try{for(var H=D[Symbol.iterator](),U,K;!(q=(U=H.next()).done);q=!0)K=U.value,L(null,K)}catch($){z=!0,W=$}finally{try{!q&&H.return&&H.return()}finally{if(z)throw W}}this.listenTo(D,'add',L),this.listenTo(D,'remove',function($,J){var G=F._bindToExternalToInternalMap.get(J);G&&F.remove(G)})}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:'length',get:function(){return this._items.length}}]),R}();u.default=I,(0,E.default)(I,w.default)},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}function f(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function h(N){return N['data-ck-expando']||(N['data-ck-expando']=(0,O.default)())}function P(N){return N&&(0,I.default)(N.addEventListener)}Object.defineProperty(u,'__esModule',{value:!0});var w=s(9),M=d(w),C=s(72),O=d(C),T=s(50),S=d(T),E=s(232),I=d(E),R=(0,S.default)({},M.default,{listenTo:function(){for(var F=arguments.length,D=Array(F),L=0;L<F;L++)D[L]=arguments[L];var q=D[0];P(q)&&(D[0]=this._getProxyEmitter(q)||new V(q)),M.default.listenTo.apply(this,D)},stopListening:function(){for(var F=arguments.length,D=Array(F),L=0;L<F;L++)D[L]=arguments[L];var q=D[0];if(P(q)){var z=this._getProxyEmitter(q);if(!z)return;D[0]=z}M.default.stopListening.apply(this,D)},_getProxyEmitter:function(F){return(0,w._getEmitterListenedTo)(this,h(F))}});u.default=R;var V=function N(F){f(this,N),(0,w._setEmitterId)(this,h(F)),this._domNode=F};(0,S.default)(V.prototype,M.default,{on:function(F,D){var L=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(M.default.on.call(this,F,D,L),!(this._domListeners&&this._domListeners[F])){var q=this._createDomListener(F,!!L.useCapture);this._domNode.addEventListener(F,q,!!L.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[F]=q}},off:function(F,D,L){M.default.off.call(this,F,D,L);var q;!this._domListeners[F]||(q=this._events[F])&&q.callbacks.length||this._domListeners[F].removeListener()},_createDomListener:function(F,D){var L=this,q=function(W){L.fire(F,W)};return q.removeListener=function(){L._domNode.removeEventListener(F,q,D),delete L._domListeners[F]},q}})},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}function f(R){var V=-1,N=R?R.length:0;for(this.clear();++V<N;){var F=R[V];this.set(F[0],F[1])}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(467),P=d(h),w=s(468),M=d(w),C=s(469),O=d(C),T=s(470),S=d(T),E=s(471),I=d(E);f.prototype.clear=P.default,f.prototype['delete']=M.default,f.prototype.get=O.default,f.prototype.has=S.default,f.prototype.set=I.default,u.default=f},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}function f(T){var S=-1,E=T?T.length:0;for(this.__data__=new P.default;++S<E;)this.add(T[S])}Object.defineProperty(u,'__esModule',{value:!0});var h=s(127),P=d(h),w=s(478),M=d(w),C=s(479),O=d(C);f.prototype.add=f.prototype.push=M.default,f.prototype.has=O.default,u.default=f},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h){for(var P=-1,w=f.length,M=0,C=[],O;++P<w;)O=f[P],h(O,P,f)&&(C[M++]=O);return C}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h){for(var P=-1,w=h.length,M=f.length;++P<w;)f[M+P]=h[P];return f}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(60),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M){for(var C=w.length;C--;)if((0,P.default)(w[C][0],M))return C;return-1}},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}function f(T,S,E,I,R){return!(T!==S)||(null!=T&&null!=S&&((0,M.default)(T)||(0,O.default)(S))?(0,P.default)(T,S,f,E,I,R):T!==T&&S!==S)}Object.defineProperty(u,'__esModule',{value:!0});var h=s(426),P=d(h),w=s(17),M=d(w),C=s(51),O=d(C);u.default=f},function(r,u,s){'use strict';function d(E){return E&&E.__esModule?E:{default:E}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(137),P=d(h),w=s(225),M=d(w),C=s(52),O=d(C);u.default=function(E,I,R){var V=0,N=E?E.length:V;if('number'==typeof I&&I===I&&N<=4294967295>>>1){for(;V<N;){var F=V+N>>>1,D=E[F];null!==D&&!(0,O.default)(D)&&(R?D<=I:D<I)?V=F+1:N=F}return N}return(0,P.default)(E,I,M.default,R)}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(40),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M,C,O){for(var T=w.length,S=O?T:-1;(O?S--:++S<T)&&M(w[S],S,w););return C?(0,P.default)(w,O?0:S,O?S+1:T):(0,P.default)(w,O?S+1:0,O?T:S)}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(12),P=d(h),w=s(486),M=d(w);u.default=function(C){return(0,P.default)(C)?C:(0,M.default)(C)}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(465),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M){var C=w.__data__;return(0,P.default)(M)?C['string'==typeof M?'string':'hash']:C.map}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){var h=!1;if(null!=f&&'function'!=typeof f.toString)try{h=!!(f+'')}catch(P){}return h}},function(r,u,s){'use strict';function d(I){return I&&I.__esModule?I:{default:I}}Object.defineProperty(u,'__esModule',{value:!0});var h='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&'function'==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?'symbol':typeof I},P=s(60),w=d(P),M=s(104),C=d(M),O=s(41),T=d(O),S=s(17),E=d(S);u.default=function(I,R,V){if(!(0,E.default)(V))return!1;var N='undefined'==typeof R?'undefined':h(R);return!('number'==N?!((0,C.default)(V)&&(0,T.default)(R,V.length)):!('string'==N&&R in V))&&(0,w.default)(V[R],I)}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var f=Object.prototype;u.default=function(h){var P=h&&h.constructor,w='function'==typeof P&&P.prototype||f;return h===w}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var f=s(57),h=function(w){return w&&w.__esModule?w:{default:w}}(f),P=(0,h.default)(Object,'create');u.default=P},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){var h=-1,P=Array(f.size);return f.forEach(function(w){P[++h]=w}),P}},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(453),P=d(h),w=s(151),M=d(w),C=s(105),O=d(C);u.default=function(T){return null!=T&&(0,O.default)((0,P.default)(T))&&!(0,M.default)(T)}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0});u.default=function(h){return'number'==typeof h&&-1<h&&0==h%1&&h<=9007199254740991}},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(144),P=d(h),w=s(99),M=d(w),C=s(51),O=d(C),S=Object.prototype,E=Function.prototype.toString,I=S.hasOwnProperty,R=E.call(Object),V=S.toString;u.default=function(N){if(!(0,O.default)(N)||V.call(N)!='[object Object]'||(0,M.default)(N))return!1;var F=(0,P.default)(N);if(null===F)return!0;var D=I.call(F,'constructor')&&F.constructor;return'function'==typeof D&&D instanceof D&&E.call(D)==R}},function(r,u,s){'use strict';function d(V){return V&&V.__esModule?V:{default:V}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(91),P=d(h),w=s(29),M=d(w),C=s(135),O=d(C),T=s(197),S=d(T),E=s(13),I=d(E);u.default=function(V){if(!(V&&V.length))return[];var N=0;return V=(0,P.default)(V,function(F){if((0,I.default)(F))return N=_Mathmax(F.length,N),!0}),(0,S.default)(N,function(F){return(0,M.default)(V,(0,O.default)(F))})}},function(r){'use strict';r.exports=function(d){return d.webpackPolyfill||(d.deprecate=function(){},d.paths=[],!d.children&&(d.children=[]),Object.defineProperty(d,'loaded',{enumerable:!0,get:function(){return d.l}}),Object.defineProperty(d,'id',{enumerable:!0,get:function(){return d.i}}),d.webpackPolyfill=1),d}},function(r,u,s){'use strict';function d(G){return G&&G.__esModule?G:{default:G}}function I(G,Q){var Y=new K.default({startPosition:G,singleCharacters:!0}),X=0,Z=!0,ee=!1,te;try{for(var re=Y[Symbol.iterator](),ae,oe;!(Z=(ae=re.next()).done);Z=!0)if(oe=ae.value,'text'==oe.type&&(X++,X==Q))return Y.position}catch(ne){ee=!0,te=ne}finally{try{!Z&&re.return&&re.return()}finally{if(ee)throw te}}}function V(G){var Q=G.split(':');return Q[0]+':'+Q[1]}Object.defineProperty(u,'__esModule',{value:!0}),u.insertElement=function(G){return function(Q,Y,X,Z){var ee=G instanceof F.default?G.clone(!0):G(Y,X,Z);if(ee&&X.consume(Y.item,'insert')){var te=Z.mapper.toViewPosition(Y.range.start);Z.mapper.bindElements(Y.item,ee),J.default.insert(te,ee)}}},u.insertText=function(){return function(G,Q,Y,X){if(Y.consume(Q.item,'insert')){var Z=X.mapper.toViewPosition(Q.range.start),ee=new L.default(Q.item.data);J.default.insert(Z,ee)}}},u.insertUIElement=function(G){return function(Q,Y,X,Z){var ee,te;if((G instanceof F.default?(ee=G.clone(!0),te=G.clone(!0)):(Y.isOpening=!0,ee=G(Y,X,Z),Y.isOpening=!1,te=G(Y,X,Z)),ee&&te)&&X.consume(Y.range,'addMarker')){var re=Z.mapper;J.default.insert(re.toViewPosition(Y.range.start),ee),Y.range.isCollapsed||J.default.insert(re.toViewPosition(Y.range.end),te)}}},u.setAttribute=function(G){return G=G||function(Q,Y){return{value:Q,key:Y}},function(Q,Y,X,Z){if(X.consume(Y.item,V(Q.name))){var ee=G(Y.attributeNewValue,Y.attributeKey,Y,X,Z),te=ee.key,re=ee.value;Z.mapper.toViewElement(Y.item).setAttribute(te,re)}}},u.removeAttribute=function(G){return G=G||function(Q,Y){return{key:Y}},function(Q,Y,X,Z){if(X.consume(Y.item,V(Q.name))){var ee=G(Y.attributeOldValue,Y.attributeKey,Y,X,Z),te=ee.key;Z.mapper.toViewElement(Y.item).removeAttribute(te)}}},u.wrapItem=function(G){return function(Q,Y,X,Z){var ee=G instanceof F.default?G.clone(!0):G(Y.attributeNewValue,Y,X,Z);if(ee&&X.consume(Y.item,V(Q.name))){var te=Z.mapper.toViewRange(Y.range);if(null!==Y.attributeOldValue&&!(G instanceof F.default)){var re=G(Y.attributeOldValue,Y,X,Z);te=J.default.unwrap(te,re)}J.default.wrap(te,ee)}}},u.unwrapItem=function(G){return function(Q,Y,X,Z){var ee=G instanceof F.default?G.clone(!0):G(Y.attributeOldValue,Y,X,Z);if(ee&&X.consume(Y.item,V(Q.name))){var te=Z.mapper.toViewRange(Y.range);J.default.unwrap(te,ee)}}},u.wrapRange=function(G){return function(Q,Y,X,Z){var ee=G instanceof F.default?G.clone(!0):G(Y,X,Z);if(ee&&X.consume(Y.range,'addMarker')){var te=Z.mapper.toViewRange(Y.range),re=J.default.breakViewRangePerContainer(te),ae=!0,oe=!1,ne;try{for(var le=re[Symbol.iterator](),ue,ie;!(ae=(ue=le.next()).done);ae=!0)ie=ue.value,J.default.wrap(ie,ee)}catch(se){oe=!0,ne=se}finally{try{!ae&&le.return&&le.return()}finally{if(oe)throw ne}}}}},u.unwrapRange=function(G){return function(Q,Y,X,Z){var ee=G instanceof F.default?G.clone(!0):G(Y,X,Z);if(ee&&X.consume(Y.range,'removeMarker')){var te=Z.mapper.toViewRange(Y.range),re=J.default.breakViewRangePerContainer(te),ae=!0,oe=!1,ne;try{for(var le=re[Symbol.iterator](),ue,ie;!(ae=(ue=le.next()).done);ae=!0)ie=ue.value,J.default.unwrap(ie,ee)}catch(se){oe=!0,ne=se}finally{try{!ae&&le.return&&le.return()}finally{if(oe)throw ne}}}}},u.remove=function(){return function(G,Q,Y,X){if(Y.consume(Q.item,'remove')){var Z=X.mapper.toViewPosition(Q.sourcePosition),ee;if(Q.item.is('element'))Z=Z.getLastMatchingPosition(function(re){return!re.item.is('containerElement')}),Z.parent.is('text')&&Z.isAtEnd&&(Z=H.default.createAfter(Z.parent)),ee=z.default.createOn(Z.nodeAfter);else{var te=I(Z,Q.item.offsetSize);ee=new z.default(Z,te)}J.default.remove(ee.getTrimmed()),'$graveyard'==Q.item.root.rootName&&X.mapper.unbindModelElement(Q.item)}}},u.removeUIElement=function(G){return function(Q,Y,X,Z){var ee,te;if((G instanceof F.default?(ee=G.clone(!0),te=G.clone(!0)):(Y.isOpening=!0,ee=G(Y,X,Z),Y.isOpening=!1,te=G(Y,X,Z)),ee&&te)&&X.consume(Y.range,'removeMarker')){var re=Z.mapper.toViewRange(Y.range);J.default.clear(re.getEnlarged(),te),ee.isSimilar(te)||J.default.clear(re.getEnlarged(),ee)}}},u.eventNameToConsumableType=V;var N=s(28),F=d(N),D=s(31),L=d(D),q=s(38),z=d(q),W=s(22),H=d(W),U=s(55),K=d(U),$=s(85),J=d($)},function(r,u,s){'use strict';function d(G){return G&&G.__esModule?G:{default:G}}function f(G,Q){if(!(G instanceof Q))throw new TypeError('Cannot call a class as a function')}function h(G,Q){if(!G)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return Q&&('object'==typeof Q||'function'==typeof Q)?Q:G}function P(G,Q){if('function'!=typeof Q&&null!==Q)throw new TypeError('Super expression must either be null or a function, not '+typeof Q);G.prototype=Object.create(Q&&Q.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf(G,Q):G.__proto__=Q)}function w(G,Q,Y,X){X instanceof K.default?C(G,G.document,Q,Y,X):M(G,G.document,Q,Y,X)}function M(G,Q,Y,X,Z){var ee=Z.getAttribute(Y),te,re,ae=Z.is('rootElement')?new J:new $;ee!=X&&(G.addDelta(ae),Z.is('rootElement')?re=new L.default(Z,Y,ee,X,Q.version):(te=Z.is('element')?new K.default(H.default.createBefore(Z),H.default.createFromParentAndOffset(Z,0)):new K.default(H.default.createBefore(Z),H.default.createAfter(Z)),re=new F.default(te,Y,ee,X,Q.version)),ae.addOperation(re),Q.applyOperation(re))}function C(G,Q,Y,X,Z){function ee(){0===te.operations.length&&G.addDelta(te);var ce=new K.default(re,ae),pe=new F.default(ce,Y,oe,X,Q.version);te.addOperation(pe),Q.applyOperation(pe)}var te=new $,re=Z.start,ae,oe,ne,le=!0,ue=!1,ie;try{for(var se=Z[Symbol.iterator](),de,fe;!(le=(de=se.next()).done);le=!0)fe=de.value,ne=fe.item.getAttribute(Y),ae&&oe!=ne&&(oe!=X&&ee(),re=ae),ae=fe.nextPosition,oe=ne}catch(ce){ue=!0,ie=ce}finally{try{!le&&se.return&&se.return()}finally{if(ue)throw ie}}ae instanceof H.default&&ae!=re&&oe!=X&&ee()}Object.defineProperty(u,'__esModule',{value:!0}),u.RootAttributeDelta=void 0;var O=function(){function G(Q,Y){for(var X=0,Z;X<Y.length;X++)Z=Y[X],Z.enumerable=Z.enumerable||!1,Z.configurable=!0,'value'in Z&&(Z.writable=!0),Object.defineProperty(Q,Z.key,Z)}return function(Q,Y,X){return Y&&G(Q.prototype,Y),X&&G(Q,X),Q}}(),T=function G(Q,Y,X){null===Q&&(Q=Function.prototype);var Z=Object.getOwnPropertyDescriptor(Q,Y);if(Z===void 0){var ee=Object.getPrototypeOf(Q);return null===ee?void 0:G(ee,Y,X)}if('value'in Z)return Z.value;var te=Z.get;return void 0===te?void 0:te.call(X)},S=s(20),E=d(S),I=s(16),R=d(I),V=s(15),N=s(80),F=d(N),D=s(117),L=d(D),q=s(62),z=d(q),W=s(1),H=d(W),U=s(3),K=d(U),$=function(G){function Q(){return f(this,Q),h(this,(Q.__proto__||Object.getPrototypeOf(Q)).apply(this,arguments))}return P(Q,G),O(Q,[{key:'toJSON',value:function(){var X=T(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),'toJSON',this).call(this);return delete X._range,X}},{key:'type',get:function(){return'attribute'}},{key:'key',get:function(){return this.operations[0]?this.operations[0].key:null}},{key:'value',get:function(){return this.operations[0]?this.operations[0].newValue:null}},{key:'range',get:function(){if(this._range)return this._range;var X=null,Z=null,ee=!0,te=!1,re;try{for(var ae=this.operations[Symbol.iterator](),oe,ne;!(ee=(oe=ae.next()).done);ee=!0)(ne=oe.value,!(ne instanceof z.default))&&((null==X||X.isAfter(ne.range.start))&&(X=ne.range.start),(null==Z||Z.isBefore(ne.range.end))&&(Z=ne.range.end))}catch(le){te=!0,re=le}finally{try{!ee&&ae.return&&ae.return()}finally{if(te)throw re}}return X&&Z?(this._range=new K.default(X,Z),this._range):null}},{key:'_reverseDeltaClass',get:function(){return Q}}],[{key:'className',get:function(){return'engine.model.delta.AttributeDelta'}}]),Q}(E.default);u.default=$;var J=u.RootAttributeDelta=function(G){function Q(){return f(this,Q),h(this,(Q.__proto__||Object.getPrototypeOf(Q)).apply(this,arguments))}return P(Q,G),O(Q,null,[{key:'className',get:function(){return'engine.model.delta.RootAttributeDelta'}}]),Q}(E.default);(0,V.register)('setAttribute',function(G,Q,Y){return w(this,Q,Y,G),this}),(0,V.register)('removeAttribute',function(G,Q){return w(this,Q,null,G),this}),R.default.register($),R.default.register(J)},function(r,u,s){'use strict';function d(K){return K&&K.__esModule?K:{default:K}}function f(K,$){if(!(K instanceof $))throw new TypeError('Cannot call a class as a function')}function h(K,$){if(!K)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return $&&('object'==typeof $||'function'==typeof $)?$:K}function P(K,$){if('function'!=typeof $&&null!==$)throw new TypeError('Super expression must either be null or a function, not '+typeof $);K.prototype=Object.create($&&$.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(K,$):K.__proto__=$)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function K($,J){var G=[],Q=!0,Y=!1,X;try{for(var Z=$[Symbol.iterator](),ee;!(Q=(ee=Z.next()).done)&&(G.push(ee.value),!(J&&G.length===J));Q=!0);}catch(te){Y=!0,X=te}finally{try{!Q&&Z['return']&&Z['return']()}finally{if(Y)throw X}}return G}return function($,J){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return K($,J);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),M=function(){function K($,J){for(var G=0,Q;G<J.length;G++)Q=J[G],Q.enumerable=Q.enumerable||!1,Q.configurable=!0,'value'in Q&&(Q.writable=!0),Object.defineProperty($,Q.key,Q)}return function($,J,G){return J&&K($.prototype,J),G&&K($,G),$}}(),C=s(20),O=d(C),T=s(75),S=d(T),E=s(16),I=d(E),R=s(44),V=d(R),N=s(15),F=s(21),D=s(35),L=d(D),q=s(3),z=d(q),W=s(1),H=d(W),U=function(K){function $(){return f(this,$),h(this,($.__proto__||Object.getPrototypeOf($)).apply(this,arguments))}return P($,K),M($,[{key:'type',get:function(){return'insert'}},{key:'position',get:function(){return this._insertOperation?this._insertOperation.position:null}},{key:'nodes',get:function(){return this._insertOperation?this._insertOperation.nodes:null}},{key:'_insertOperation',get:function(){return this.operations[0]||null}},{key:'_reverseDeltaClass',get:function(){return S.default}}],[{key:'className',get:function(){return'engine.model.delta.InsertDelta'}}]),$}(O.default);u.default=U,(0,N.register)('insert',function(K,$){var J=(0,F.normalizeNodes)($);if(0===J.length)return this;var G=new U,Q=new V.default(K,J,this.document.version);if(this.addDelta(G),G.addOperation(Q),this.document.applyOperation(Q),$ instanceof L.default){var Y=!0,X=!1,Z;try{for(var ee=$.markers[Symbol.iterator](),te;!(Y=(te=ee.next()).done);Y=!0){var re=te.value,ae=w(re,2),oe=ae[0],ne=ae[1],le=H.default.createAt(ne.root),ue=new z.default(ne.start._getCombined(le,K),ne.end._getCombined(le,K));this.setMarker(oe,ue)}}catch(ie){X=!0,Z=ie}finally{try{!Y&&ee.return&&ee.return()}finally{if(X)throw Z}}}return this}),I.default.register(U)},function(r,u,s){'use strict';function d(W){return W&&W.__esModule?W:{default:W}}function f(W,H){if(!(W instanceof H))throw new TypeError('Cannot call a class as a function')}function h(W,H){if(!W)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return H&&('object'==typeof H||'function'==typeof H)?H:W}function P(W,H){if('function'!=typeof H&&null!==H)throw new TypeError('Super expression must either be null or a function, not '+typeof H);W.prototype=Object.create(H&&H.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(W,H):W.__proto__=H)}function w(W,H,U){H.addOperation(U),W.document.applyOperation(U)}Object.defineProperty(u,'__esModule',{value:!0});var M=function(){function W(H,U){for(var K=0,$;K<U.length;K++)$=U[K],$.enumerable=$.enumerable||!1,$.configurable=!0,'value'in $&&($.writable=!0),Object.defineProperty(H,$.key,$)}return function(H,U,K){return U&&W(H.prototype,U),K&&W(H,K),H}}(),C=s(20),O=d(C),T=s(16),S=d(T),E=s(15),I=s(116),R=d(I),V=s(6),N=d(V),F=s(1),D=d(F),L=s(0),q=d(L),z=function(W){function H(){return f(this,H),h(this,(H.__proto__||Object.getPrototypeOf(H)).apply(this,arguments))}return P(H,W),M(H,[{key:'type',get:function(){return'rename'}},{key:'_reverseDeltaClass',get:function(){return H}}],[{key:'className',get:function(){return'engine.model.delta.RenameDelta'}}]),H}(O.default);u.default=z,(0,E.register)('rename',function(W,H){if(!(W instanceof N.default))throw new q.default('batch-rename-not-element-instance: Trying to rename an object which is not an instance of Element.');var U=new z;this.addDelta(U);var K=new R.default(D.default.createBefore(W),W.name,H,this.document.version);return w(this,U,K),this}),S.default.register(z)},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}function f(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function h(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function P(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}function w(){var N=this,F=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document,'change',function(D,L,q,z,W){F.has(L)&&M.call(N,L,W,q.range,q.sourcePosition)},{priority:'high'})}function M(N,F,D,L){var q=D.end.offset-D.start.offset,z=D.start;('move'==N||'remove'==N||'reinsert'==N)&&(z=z._getTransformedByInsertion(L,q));var W=this._getTransformedByDocumentChange(N,F,z,q,L);('move'==N||'remove'==N||'reinsert'==N)&&3==W.length&&(W[2]=D);var H=T.default.createFromRanges(W);if(!H.isEqual(this)){var U=T.default.createFromRange(this);this.start=H.start,this.end=H.end,this.fire('change',U,{type:N,range:D,sourcePosition:L})}}Object.defineProperty(u,'__esModule',{value:!0});var C=function(){function N(F,D){for(var L=0,q;L<D.length;L++)q=D[L],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(F,q.key,q)}return function(F,D,L){return D&&N(F.prototype,D),L&&N(F,L),F}}(),O=s(3),T=d(O),S=s(9),E=d(S),I=s(4),R=d(I),V=function(N){function F(D,L){f(this,F);var q=h(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,D,L));return w.call(q),q}return P(F,N),C(F,[{key:'detach',value:function(){this.stopListening()}}]),F}(T.default);u.default=V,(0,R.default)(V,E.default)},function(r,u,s){'use strict';function d(I){return I&&I.__esModule?I:{default:I}}function f(I,R){if(!(I instanceof R))throw new TypeError('Cannot call a class as a function')}function h(I,R){if(!I)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return R&&('object'==typeof R||'function'==typeof R)?R:I}function P(I,R){if('function'!=typeof R&&null!==R)throw new TypeError('Super expression must either be null or a function, not '+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function I(R,V){for(var N=0,F;N<V.length;N++)F=V[N],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(R,F.key,F)}return function(R,V,N){return V&&I(R.prototype,V),N&&I(R,N),R}}(),M=function I(R,V,N){null===R&&(R=Function.prototype);var F=Object.getOwnPropertyDescriptor(R,V);if(F===void 0){var D=Object.getPrototypeOf(R);return null===D?void 0:I(D,V,N)}if('value'in F)return F.value;var L=F.get;return void 0===L?void 0:L.call(N)},C=s(36),O=d(C),T=s(3),S=d(T),E=function(I){function R(V,N,F,D,L){f(this,R);var q=h(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,L));return q.name=V,q.oldRange=N?S.default.createFromRange(N):null,q.newRange=F?S.default.createFromRange(F):null,q._markers=D,q}return P(R,I),w(R,[{key:'clone',value:function(){return new R(this.name,this.oldRange,this.newRange,this._markers,this.baseVersion)}},{key:'getReversed',value:function(){return new R(this.name,this.newRange,this.oldRange,this._markers,this.baseVersion+1)}},{key:'_execute',value:function(){var N=this.newRange?'set':'remove';return this._markers[N](this.name,this.newRange),{name:this.name,type:N}}},{key:'toJSON',value:function(){var N=M(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),'toJSON',this).call(this);return delete N._markers,N}},{key:'type',get:function(){return'marker'}}],[{key:'fromJSON',value:function(N,F){return new R(N.name,N.oldRange?S.default.fromJSON(N.oldRange,F):null,N.newRange?S.default.fromJSON(N.newRange,F):null,F.markers,N.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.MarkerOperation'}}]),R}(O.default);u.default=E},function(r,u,s){'use strict';function d(E){return E&&E.__esModule?E:{default:E}}function f(E,I){if(!(E instanceof I))throw new TypeError('Cannot call a class as a function')}function h(E,I){if(!E)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return I&&('object'==typeof I||'function'==typeof I)?I:E}function P(E,I){if('function'!=typeof I&&null!==I)throw new TypeError('Super expression must either be null or a function, not '+typeof I);E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(E,I):E.__proto__=I)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function E(I,R){for(var V=0,N;V<R.length;V++)N=R[V],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}return function(I,R,V){return R&&E(I.prototype,R),V&&E(I,V),I}}(),M=s(26),C=d(M),O=s(37),T=d(O),S=function(E){function I(){return f(this,I),h(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return P(I,E),w(I,[{key:'getReversed',value:function(){var V=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new T.default(this.getMovedRangeStart(),this.howMany,V,this.baseVersion+1)}},{key:'position',get:function(){return this.targetPosition},set:function(V){this.targetPosition=V}},{key:'type',get:function(){return'reinsert'}}],[{key:'className',get:function(){return'engine.model.operation.ReinsertOperation'}}]),I}(C.default);u.default=S},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}function f(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function h(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function P(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function N(F,D){for(var L=0,q;L<D.length;L++)q=D[L],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(F,q.key,q)}return function(F,D,L){return D&&N(F.prototype,D),L&&N(F,L),F}}(),M=s(36),C=d(M),O=s(6),T=d(O),S=s(0),E=d(S),I=s(1),R=d(I),V=function(N){function F(D,L,q,z){f(this,F);var W=h(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,z));return W.position=D,W.oldName=L,W.newName=q,W}return P(F,N),w(F,[{key:'clone',value:function(){return new F(R.default.createFromPosition(this.position),this.oldName,this.newName,this.baseVersion)}},{key:'getReversed',value:function(){return new F(R.default.createFromPosition(this.position),this.newName,this.oldName,this.baseVersion+1)}},{key:'_execute',value:function(){var L=this.position.nodeAfter;if(!(L instanceof T.default))throw new E.default('rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.');else if(L.name!==this.oldName)throw new E.default('rename-operation-wrong-name: Element to change has different name than operation\'s old name.');return this.oldName==this.newName?void 0:(L.name=this.newName,{element:L,oldName:this.oldName})}},{key:'type',get:function(){return'rename'}}],[{key:'fromJSON',value:function(L,q){return new F(R.default.fromJSON(L.position,q),L.oldName,L.newName,L.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.RenameOperation'}}]),F}(C.default);u.default=V},function(r,u,s){'use strict';function d(E){return E&&E.__esModule?E:{default:E}}function f(E,I){if(!(E instanceof I))throw new TypeError('Cannot call a class as a function')}function h(E,I){if(!E)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return I&&('object'==typeof I||'function'==typeof I)?I:E}function P(E,I){if('function'!=typeof I&&null!==I)throw new TypeError('Super expression must either be null or a function, not '+typeof I);E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(E,I):E.__proto__=I)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function E(I,R){for(var V=0,N;V<R.length;V++)N=R[V],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}return function(I,R,V){return R&&E(I.prototype,R),V&&E(I,V),I}}(),M=s(36),C=d(M),O=s(0),T=d(O),S=function(E){function I(R,V,N,F,D){f(this,I);var L=h(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,D));return L.root=R,L.key=V,L.oldValue=N,L.newValue=F,L}return P(I,E),w(I,[{key:'clone',value:function(){return new I(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:'getReversed',value:function(){return new I(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:'_execute',value:function(){if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new T.default('rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation\\\'s old attribute value.',{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new T.default('rootattribute-operation-attribute-exists: The attribute with given key already exists.',{root:this.root,key:this.key});return null===this.newValue?this.root.removeAttribute(this.key):this.root.setAttribute(this.key,this.newValue),{root:this.root,key:this.key,oldValue:this.oldValue,newValue:this.newValue}}},{key:'type',get:function(){return null===this.oldValue?'addRootAttribute':null===this.newValue?'removeRootAttribute':'changeRootAttribute'}}],[{key:'fromJSON',value:function(V,N){if(!N.hasRoot(V.root))throw new T.default('rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.',{rootName:V});return new I(N.getRoot(V.root),V.key,V.oldValue,V.newValue,V.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.RootAttributeOperation'}}]),I}(C.default);u.default=S},function(r,u,s){'use strict';function f(R,V){if(!(R instanceof V))throw new TypeError('Cannot call a class as a function')}function h(R,V){if(!R)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:R}function P(R,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);R.prototype=Object.create(V&&V.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(R,V):R.__proto__=V)}function w(){if(M(this))return null;for(var R=this.parent;R&&R.is('attributeElement');){if(1<M(R))return null;R=R.parent}return!R||1<M(R)?null:this.childCount}function M(R){return Array.from(R.getChildren()).filter(function(V){return!V.is('uiElement')}).length}Object.defineProperty(u,'__esModule',{value:!0});var C=function(){function R(V,N){for(var F=0,D;F<N.length;F++)D=N[F],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(V,D.key,D)}return function(V,N,F){return N&&R(V.prototype,N),F&&R(V,F),V}}(),O=function R(V,N,F){null===V&&(V=Function.prototype);var D=Object.getOwnPropertyDescriptor(V,N);if(D===void 0){var L=Object.getPrototypeOf(V);return null===L?void 0:R(L,N,F)}if('value'in D)return D.value;var q=D.get;return void 0===q?void 0:q.call(F)},T=s(28),S=function(R){return R&&R.__esModule?R:{default:R}}(T),E=10,I=function(R){function V(N,F,D){f(this,V);var L=h(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,N,F,D));return L.priority=E,L.getFillerOffset=w,L}return P(V,R),C(V,[{key:'is',value:function(F){var D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return D?'attributeElement'==F&&D==this.name||O(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),'is',this).call(this,F,D):'attributeElement'==F||O(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),'is',this).call(this,F)}},{key:'clone',value:function(F){var D=O(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),'clone',this).call(this,F);return D.priority=this.priority,D}},{key:'isSimilar',value:function(F){return O(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),'isSimilar',this).call(this,F)&&this.priority==F.priority}}]),V}(S.default);u.default=I,I.DEFAULT_PRIORITY=E},function(r,u,s){'use strict';function d(V){return V&&V.__esModule?V:{default:V}}function f(V,N){if(!(V instanceof N))throw new TypeError('Cannot call a class as a function')}function h(V){return'string'==typeof V?[new M.default(V)]:((0,S.default)(V)||(V=[V]),Array.from(V).map(function(N){return'string'==typeof N?new M.default(N):N}))}Object.defineProperty(u,'__esModule',{value:!0});var P=function(){function V(N,F){for(var D=0,L;D<F.length;D++)L=F[D],L.enumerable=L.enumerable||!1,L.configurable=!0,'value'in L&&(L.writable=!0),Object.defineProperty(N,L.key,L)}return function(N,F,D){return F&&V(N.prototype,F),D&&V(N,D),N}}(),w=s(31),M=d(w),C=s(4),O=d(C),T=s(47),S=d(T),E=s(9),I=d(E),R=function(){function V(N){f(this,V),this._children=[],N&&this.insertChildren(0,N)}return P(V,[{key:Symbol.iterator,value:function(){return this._children[Symbol.iterator]()}},{key:'is',value:function(F){return'documentFragment'==F}},{key:'appendChildren',value:function(F){return this.insertChildren(this.childCount,F)}},{key:'getChild',value:function(F){return this._children[F]}},{key:'getChildIndex',value:function(F){return this._children.indexOf(F)}},{key:'getChildren',value:function(){return this._children[Symbol.iterator]()}},{key:'insertChildren',value:function(F,D){this._fireChange('children',this);var L=0;D=h(D);var q=!0,z=!1,W;try{for(var H=D[Symbol.iterator](),U,K;!(q=(U=H.next()).done);q=!0)K=U.value,K.parent=this,this._children.splice(F,0,K),F++,L++}catch($){z=!0,W=$}finally{try{!q&&H.return&&H.return()}finally{if(z)throw W}}return L}},{key:'removeChildren',value:function(F){var D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this._fireChange('children',this);for(var L=F;L<F+D;L++)this._children[L].parent=null;return this._children.splice(F,D)}},{key:'_fireChange',value:function(F,D){this.fire('change:'+F,D)}},{key:'childCount',get:function(){return this._children.length}},{key:'isEmpty',get:function(){return 0===this.childCount}},{key:'root',get:function(){return this}},{key:'parent',get:function(){return null}}]),V}();u.default=R,(0,O.default)(R,I.default)},function(r,u,s){'use strict';function d(Z){return Z&&Z.__esModule?Z:{default:Z}}function f(Z,ee){if(!(Z instanceof ee))throw new TypeError('Cannot call a class as a function')}function h(Z,ee,te){var re=(0,G.default)(Z);return te&&(re=re.slice(re.indexOf(te)+1)),re.some(function(ae){return ae.tagName&&ee.includes(ae.tagName.toLowerCase())})}function P(Z,ee){for(;Z&&Z!=U.default.document;)ee(Z),Z=Z.parentNode}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function Z(ee,te){var re=[],ae=!0,oe=!1,ne;try{for(var le=ee[Symbol.iterator](),ue;!(ae=(ue=le.next()).done)&&(re.push(ue.value),!(te&&re.length===te));ae=!0);}catch(ie){oe=!0,ne=ie}finally{try{!ae&&le['return']&&le['return']()}finally{if(oe)throw ne}}return re}return function(ee,te){if(Array.isArray(ee))return ee;if(Symbol.iterator in Object(ee))return Z(ee,te);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),M=function(){function Z(ee,te){for(var re=0,ae;re<te.length;re++)ae=te[re],ae.enumerable=ae.enumerable||!1,ae.configurable=!0,'value'in ae&&(ae.writable=!0),Object.defineProperty(ee,ae.key,ae)}return function(ee,te,re){return te&&Z(ee.prototype,te),re&&Z(ee,re),ee}}(),C=s(31),O=d(C),T=s(28),S=d(T),E=s(22),I=d(E),R=s(38),V=d(R),N=s(84),F=d(N),D=s(119),L=d(D),q=s(55),z=d(q),W=s(64),H=s(46),U=d(H),K=s(400),$=d(K),J=s(184),G=d(J),Q=s(397),Y=d(Q),X=function(){function Z(){var ee=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};f(this,Z),this.blockFiller=ee.blockFiller||W.BR_FILLER,this.preElements=['pre'],this.blockElements=['p','div','h1','h2','h3','h4','h5','h6'],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}return M(Z,[{key:'bindFakeSelection',value:function(te,re){this._fakeSelectionMapping.set(te,F.default.createFromSelection(re))}},{key:'fakeSelectionToView',value:function(te){return this._fakeSelectionMapping.get(te)}},{key:'bindElements',value:function(te,re){this._domToViewMapping.set(te,re),this._viewToDomMapping.set(re,te)}},{key:'unbindDomElement',value:function(te){var re=this._domToViewMapping.get(te);if(re){this._domToViewMapping.delete(te),this._viewToDomMapping.delete(re);var ae=!0,oe=!1,ne;try{for(var le=Array.from(te.childNodes)[Symbol.iterator](),ue,ie;!(ae=(ue=le.next()).done);ae=!0)ie=ue.value,this.unbindDomElement(ie)}catch(se){oe=!0,ne=se}finally{try{!ae&&le.return&&le.return()}finally{if(oe)throw ne}}}}},{key:'bindDocumentFragments',value:function(te,re){this._domToViewMapping.set(te,re),this._viewToDomMapping.set(re,te)}},{key:'viewToDom',value:function(te,re){var ae=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(te.is('text')){var oe=this._processDataFromViewText(te);return re.createTextNode(oe)}if(this.mapViewToDom(te))return this.mapViewToDom(te);var ne;if(te.is('documentFragment'))ne=re.createDocumentFragment(),ae.bind&&this.bindDocumentFragments(ne,te);else{if(te.is('uiElement'))return ne=te.render(re),ae.bind&&this.bindElements(ne,te),ne;ne=re.createElement(te.name),ae.bind&&this.bindElements(ne,te);var le=!0,ue=!1,ie;try{for(var se=te.getAttributeKeys()[Symbol.iterator](),de,fe;!(le=(de=se.next()).done);le=!0)fe=de.value,ne.setAttribute(fe,te.getAttribute(fe))}catch(he){ue=!0,ie=he}finally{try{!le&&se.return&&se.return()}finally{if(ue)throw ie}}}if(ae.withChildren||void 0===ae.withChildren){var ce=!0,pe=!1,me;try{for(var ge=this.viewChildrenToDom(te,re,ae)[Symbol.iterator](),ye,be;!(ce=(ye=ge.next()).done);ce=!0)be=ye.value,ne.appendChild(be)}catch(he){pe=!0,me=he}finally{try{!ce&&ge.return&&ge.return()}finally{if(pe)throw me}}}return ne}},{key:'viewChildrenToDom',value:regeneratorRuntime.mark(function ee(te,re){var ae=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},oe,ne,le,ue,ie,se,de,fe;return regeneratorRuntime.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:oe=te.getFillerOffset&&te.getFillerOffset(),ne=0,le=!0,ue=!1,ie=void 0,pe.prev=5,se=te.getChildren()[Symbol.iterator]();case 7:if(le=(de=se.next()).done){pe.next=18;break}if(fe=de.value,oe!==ne){pe.next=12;break}return pe.next=12,this.blockFiller(re);case 12:return pe.next=14,this.viewToDom(fe,re,ae);case 14:ne++;case 15:le=!0,pe.next=7;break;case 18:pe.next=24;break;case 20:pe.prev=20,pe.t0=pe['catch'](5),ue=!0,ie=pe.t0;case 24:pe.prev=24,pe.prev=25,!le&&se.return&&se.return();case 27:if(pe.prev=27,!ue){pe.next=30;break}throw ie;case 30:return pe.finish(27);case 31:return pe.finish(24);case 32:if(oe!==ne){pe.next=35;break}return pe.next=35,this.blockFiller(re);case 35:case'end':return pe.stop();}},ee,this,[[5,20,24,32],[25,,27,31]])})},{key:'viewRangeToDom',value:function(te){var re=this.viewPositionToDom(te.start),ae=this.viewPositionToDom(te.end),oe=document.createRange();return oe.setStart(re.parent,re.offset),oe.setEnd(ae.parent,ae.offset),oe}},{key:'viewPositionToDom',value:function(te){var re=te.parent;if(re.is('text')){var ae=this.findCorrespondingDomText(re);if(!ae)return null;var oe=te.offset;return(0,W.startsWithFiller)(ae)&&(oe+=W.INLINE_FILLER_LENGTH),{parent:ae,offset:oe}}var ne,le,ue;if(0===te.offset){if(ne=this.mapViewToDom(re),!ne)return null;ue=ne.childNodes[0]}else{var ie=te.nodeBefore;if(le=ie.is('text')?this.findCorrespondingDomText(ie):this.mapViewToDom(te.nodeBefore),!le)return null;ne=le.parentNode,ue=le.nextSibling}if(this.isText(ue)&&(0,W.startsWithFiller)(ue))return{parent:ue,offset:W.INLINE_FILLER_LENGTH};var se=le?(0,$.default)(le)+1:0;return{parent:ne,offset:se}}},{key:'domToView',value:function(te){var re=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if((0,W.isBlockFiller)(te,this.blockFiller))return null;var ae=this.getParentUIElement(te,this._domToViewMapping);if(ae)return ae;if(this.isText(te)){if((0,W.isInlineFiller)(te))return null;var oe=this._processDataFromDomText(te);return''===oe?null:new O.default(oe)}if(this.isComment(te))return null;if(this.mapDomToView(te))return this.mapDomToView(te);var ne;if(this.isDocumentFragment(te))ne=new L.default,re.bind&&this.bindDocumentFragments(te,ne);else{var le=re.keepOriginalCase?te.tagName:te.tagName.toLowerCase();ne=new S.default(le),re.bind&&this.bindElements(te,ne);for(var ue=te.attributes,ie=ue.length-1;0<=ie;ie--)ne.setAttribute(ue[ie].name,ue[ie].value)}if(re.withChildren||void 0===re.withChildren){var se=!0,de=!1,fe;try{for(var ce=this.domChildrenToView(te,re)[Symbol.iterator](),pe,me;!(se=(pe=ce.next()).done);se=!0)me=pe.value,ne.appendChildren(me)}catch(ge){de=!0,fe=ge}finally{try{!se&&ce.return&&ce.return()}finally{if(de)throw fe}}}return ne}},{key:'domChildrenToView',value:regeneratorRuntime.mark(function ee(te){var re=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},ae,oe,ne;return regeneratorRuntime.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:ae=0;case 1:if(!(ae<te.childNodes.length)){ue.next=10;break}if(oe=te.childNodes[ae],ne=this.domToView(oe,re),null===ne){ue.next=7;break}return ue.next=7,ne;case 7:ae++,ue.next=1;break;case 10:case'end':return ue.stop();}},ee,this)})},{key:'domSelectionToView',value:function(te){if(1===te.rangeCount){var re=te.getRangeAt(0).startContainer;this.isText(re)&&(re=re.parentNode);var ae=this.fakeSelectionToView(re);if(ae)return ae}for(var oe=new F.default,ne=this.isDomSelectionBackward(te),le=0;le<te.rangeCount;le++){var ue=te.getRangeAt(le),ie=this.domRangeToView(ue);ie&&oe.addRange(ie,ne)}return oe}},{key:'domRangeToView',value:function(te){var re=this.domPositionToView(te.startContainer,te.startOffset),ae=this.domPositionToView(te.endContainer,te.endOffset);return re&&ae?new V.default(re,ae):null}},{key:'domPositionToView',value:function(te,re){if((0,W.isBlockFiller)(te,this.blockFiller))return this.domPositionToView(te.parentNode,(0,$.default)(te));var ae=this.mapDomToView(te);if(ae&&ae.is('uiElement'))return I.default.createBefore(ae);if(this.isText(te)){if((0,W.isInlineFiller)(te))return this.domPositionToView(te.parentNode,(0,$.default)(te));var oe=this.findCorrespondingViewText(te),ne=re;return oe?((0,W.startsWithFiller)(te)&&(ne-=W.INLINE_FILLER_LENGTH,ne=0>ne?0:ne),new I.default(oe,ne)):null}if(0===re){var le=this.mapDomToView(te);if(le)return new I.default(le,0)}else{var ue=te.childNodes[re-1],ie=this.isText(ue)?this.findCorrespondingViewText(ue):this.mapDomToView(ue);if(ie&&ie.parent)return new I.default(ie.parent,ie.index+1)}return null}},{key:'mapDomToView',value:function(te){return this.getParentUIElement(te)||this._domToViewMapping.get(te)}},{key:'findCorrespondingViewText',value:function(te){if((0,W.isInlineFiller)(te))return null;var re=this.getParentUIElement(te);if(re)return re;var ae=te.previousSibling;if(ae){if(!this.isElement(ae))return null;var oe=this.mapDomToView(ae);if(oe){var ne=oe.nextSibling;return ne instanceof O.default?oe.nextSibling:null}}else{var le=this.mapDomToView(te.parentNode);if(le){var ue=le.getChild(0);return ue instanceof O.default?ue:null}}return null}},{key:'mapViewToDom',value:function(te){return this._viewToDomMapping.get(te)}},{key:'findCorrespondingDomText',value:function(te){var re=te.previousSibling;return re&&this.mapViewToDom(re)?this.mapViewToDom(re).nextSibling:!re&&te.parent&&this.mapViewToDom(te.parent)?this.mapViewToDom(te.parent).childNodes[0]:null}},{key:'focus',value:function(te){var re=this.mapViewToDom(te);if(re&&re.ownerDocument.activeElement!==re){var ae=U.default.window,oe=ae.scrollX,ne=ae.scrollY,le=[];P(re,function(ue){var ie=ue.scrollLeft,se=ue.scrollTop;le.push([ie,se])}),re.focus(),P(re,function(ue){var ie=le.shift(),se=w(ie,2),de=se[0],fe=se[1];ue.scrollLeft=de,ue.scrollTop=fe}),U.default.window.scrollTo(oe,ne)}}},{key:'isText',value:function(te){return te&&te.nodeType==Node.TEXT_NODE}},{key:'isElement',value:function(te){return te&&te.nodeType==Node.ELEMENT_NODE}},{key:'isDocumentFragment',value:function(te){return te&&te.nodeType==Node.DOCUMENT_FRAGMENT_NODE}},{key:'isComment',value:function(te){return te&&te.nodeType==Node.COMMENT_NODE}},{key:'isDomSelectionBackward',value:function(te){if(te.isCollapsed)return!1;var re=document.createRange();re.setStart(te.anchorNode,te.anchorOffset),re.setEnd(te.focusNode,te.focusOffset);var ae=re.collapsed;return re.detach(),ae}},{key:'getParentUIElement',value:function(te){var re=(0,G.default)(te);for(re.pop();re.length;){var ae=re.pop(),oe=this._domToViewMapping.get(ae);if(oe&&oe.is('uiElement'))return oe}return null}},{key:'isDomSelectionCorrect',value:function(te){return this._isDomSelectionPositionCorrect(te.anchorNode,te.anchorOffset)&&this._isDomSelectionPositionCorrect(te.focusNode,te.focusOffset)}},{key:'_isDomSelectionPositionCorrect',value:function(te,re){if(this.isText(te)&&(0,W.startsWithFiller)(te)&&re<W.INLINE_FILLER_LENGTH)return!1;if(this.isElement(te)&&(0,W.startsWithFiller)(te.childNodes[re]))return!1;var ae=this.mapDomToView(te);return ae&&ae.is('uiElement')?!1:!0}},{key:'_processDataFromViewText',value:function(te){var re=this,ae=te.data;if(te.getAncestors().some(function(se){return re.preElements.includes(se.name)}))return ae;var oe=this._getTouchingViewTextNode(te,!1),ne=this._getTouchingViewTextNode(te,!0),le=ae.match(/ *$/)[0],ue=ae.substr(0,ae.length-le.length);if(oe&&' '!=oe.data.charAt(oe.data.length-1)||(ue=ue.replace(/^ /,'\xA0')),ue=ue.replace(/ {2}/g,' \xA0'),0<le.length){var ie=!1;ne?(' '==ne.data.charAt(0)||'\xA0'==ne.data.charAt(0))&&0==le.length%2&&(ie=!0):le.length%2&&(ie=!0),ie&&(le='\xA0'+le.substr(0,le.length-1)),le=le.replace(/ {2}/g,' \xA0')}return ue+le}},{key:'_getTouchingViewTextNode',value:function(te,re){if(!te.parent)return null;var ae=new z.default({startPosition:re?I.default.createAfter(te):I.default.createBefore(te),direction:re?'forward':'backward'}),oe=!0,ne=!1,le;try{for(var ue=ae[Symbol.iterator](),ie,se;!(oe=(ie=ue.next()).done);oe=!0){if(se=ie.value,se.item.is('containerElement'))return null;if(se.item.is('text'))return se.item}}catch(de){ne=!0,le=de}finally{try{!oe&&ue.return&&ue.return()}finally{if(ne)throw le}}return null}},{key:'_processDataFromDomText',value:function(te){var re=(0,W.getDataWithoutFiller)(te);if(h(te,this.preElements))return re;re=re.replace(/[ \n\t\r]{1,}/g,' ');var ae=this._getTouchingDomTextNode(te,!1),oe=this._getTouchingDomTextNode(te,!0);return(!ae||/[^\S\u00A0]/.test(ae.data.charAt(ae.data.length-1)))&&(re=re.replace(/^ /,'')),oe||(re=re.replace(/ $/,'')),re=re.replace(/ \u00A0/g,'  '),(!ae||/[^\S\u00A0]/.test(ae.data.charAt(ae.data.length-1)))&&(re=re.replace(/^\u00A0/,' ')),oe&&'\xA0'!=oe.data.charAt(0)||(re=re.replace(/\u00A0( *)$/,' $1')),re}},{key:'_getTouchingDomTextNode',value:function(te,re){if(!te.parentNode)return null;var ae=re?'nextNode':'previousNode',oe=te.ownerDocument,ne=oe.createTreeWalker(oe.childNodes[0],NodeFilter.SHOW_TEXT);ne.currentNode=te;var le=ne[ae]();if(null!==le){var ue=(0,Y.default)(te,le);if(ue&&!h(te,this.blockElements,ue)&&!h(le,this.blockElements,ue))return le}return null}}]),Z}();u.default=X},function(r,u,s){'use strict';function f(C,O){if(!(C instanceof O))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function C(O,T){for(var S=0,E;S<T.length;S++)E=T[S],E.enumerable=E.enumerable||!1,E.configurable=!0,'value'in E&&(E.writable=!0),Object.defineProperty(O,E.key,E)}return function(O,T,S){return T&&C(O.prototype,T),S&&C(O,S),O}}(),P=s(50),w=function(C){return C&&C.__esModule?C:{default:C}}(P),M=function(){function C(O,T,S){f(this,C),this.document=O,this.domEvent=T,this.domTarget=T.target,(0,w.default)(this,S)}return h(C,[{key:'preventDefault',value:function(){this.domEvent.preventDefault()}},{key:'stopPropagation',value:function(){this.domEvent.stopPropagation()}},{key:'target',get:function(){return this.document.domConverter.mapDomToView(this.domTarget)}}]),C}();u.default=M},function(r,u,s){'use strict';function d(L){return L&&L.__esModule?L:{default:L}}function f(L,q){if(!(L instanceof q))throw new TypeError('Cannot call a class as a function')}function h(L,q){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return q&&('object'==typeof q||'function'==typeof q)?q:L}function P(L,q){if('function'!=typeof q&&null!==q)throw new TypeError('Super expression must either be null or a function, not '+typeof q);L.prototype=Object.create(q&&q.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(L,q):L.__proto__=q)}function M(){return null}function C(L,q,z){if(q.keyCode==F.keyCodes.arrowright){var W=q.domTarget.ownerDocument.defaultView.getSelection(),H=1==W.rangeCount&&W.getRangeAt(0).collapsed;if(H||q.shiftKey){var U=W.focusNode,K=W.focusOffset,$=z.domPositionToView(U,K);if(null===$)return;var J=!1,G=$.getLastMatchingPosition(function(Y){return Y.item.is('uiElement')&&(J=!0),Y.item.is('uiElement')||Y.item.is('attributeElement')});if(J){var Q=z.viewPositionToDom(G);H?W.collapse(Q.parent,Q.offset):W.extend(Q.parent,Q.offset)}}}}Object.defineProperty(u,'__esModule',{value:!0});var O=function(){function L(q,z){for(var W=0,H;W<z.length;W++)H=z[W],H.enumerable=H.enumerable||!1,H.configurable=!0,'value'in H&&(H.writable=!0),Object.defineProperty(q,H.key,H)}return function(q,z,W){return z&&L(q.prototype,z),W&&L(q,W),q}}(),T=function L(q,z,W){null===q&&(q=Function.prototype);var H=Object.getOwnPropertyDescriptor(q,z);if(H===void 0){var U=Object.getPrototypeOf(q);return null===U?void 0:L(U,z,W)}if('value'in H)return H.value;var K=H.get;return void 0===K?void 0:K.call(W)};u.injectUiElementHandling=function(L){L.on('keydown',function(q,z){return C(q,z,L.domConverter)})};var S=s(28),E=d(S),I=s(0),R=d(I),V=s(83),N=d(V),F=s(24),D=function(L){function q(z,W,H){f(this,q);var U=h(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,z,W,H));return U.getFillerOffset=M,U}return P(q,L),O(q,[{key:'is',value:function(W){var H=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return H?'uiElement'==W&&H==this.name||T(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),'is',this).call(this,W,H):'uiElement'==W||T(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),'is',this).call(this,W)}},{key:'insertChildren',value:function(W,H){if(H&&(H instanceof N.default||0<Array.from(H).length))throw new R.default('view-uielement-cannot-add: Cannot add child nodes to UIElement instance.')}},{key:'render',value:function(W){var H=W.createElement(this.name),U=!0,K=!1,$;try{for(var J=this.getAttributeKeys()[Symbol.iterator](),G,Q;!(U=(G=J.next()).done);U=!0)Q=G.value,H.setAttribute(Q,this.getAttribute(Q))}catch(Y){K=!0,$=Y}finally{try{!U&&J.return&&J.return()}finally{if(K)throw $}}return H}}]),q}(E.default);u.default=D},function(r,u,s){'use strict';function f(O,T){if(!(O instanceof T))throw new TypeError('Cannot call a class as a function')}function h(O){return!!(O.focus&&'none'!=M.default.window.getComputedStyle(O.element).display)}Object.defineProperty(u,'__esModule',{value:!0});var P=function(){function O(T,S){for(var E=0,I;E<S.length;E++)I=S[E],I.enumerable=I.enumerable||!1,I.configurable=!0,'value'in I&&(I.writable=!0),Object.defineProperty(T,I.key,I)}return function(T,S,E){return S&&O(T.prototype,S),E&&O(T,E),T}}(),w=s(46),M=function(O){return O&&O.__esModule?O:{default:O}}(w),C=function(){function O(T){var S=this;if(f(this,O),Object.assign(this,T),T.actions&&T.keystrokeHandler){var E=function(V){var N=T.actions[V];'string'==typeof N&&(N=[N]);var F=!0,D=!1,L;try{for(var q=N[Symbol.iterator](),z,W;!(F=(z=q.next()).done);F=!0)W=z.value,T.keystrokeHandler.set(W,function(H,U){S[V](),U()})}catch(H){D=!0,L=H}finally{try{!F&&q.return&&q.return()}finally{if(D)throw L}}};for(var I in T.actions)E(I)}}return P(O,[{key:'focusFirst',value:function(){this._focus(this.first)}},{key:'focusLast',value:function(){this._focus(this.last)}},{key:'focusNext',value:function(){this._focus(this.next)}},{key:'focusPrevious',value:function(){this._focus(this.previous)}},{key:'_focus',value:function(S){S&&S.focus()}},{key:'_getFocusableItem',value:function(S){var E=this.current,I=this.focusables.length;if(!I)return null;if(null===E)return this[1===S?'first':'last'];var R=(E+I+S)%I;do{var V=this.focusables.get(R);if(h(V))return V;R=(R+I+S)%I}while(R!==E);return null}},{key:'first',get:function(){return this.focusables.find(h)||null}},{key:'last',get:function(){return this.focusables.filter(h).slice(-1)[0]||null}},{key:'next',get:function(){return this._getFocusableItem(1)}},{key:'previous',get:function(){return this._getFocusableItem(-1)}},{key:'current',get:function(){var S=this,E=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find(function(I,R){var V=I.element===S.focusTracker.focusedElement;return V&&(E=R),V}),E)}}]),O}();u.default=C},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}function f(R,V){if(!(R instanceof V))throw new TypeError('Cannot call a class as a function')}function h(R,V){if(!R)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:R}function P(R,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);R.prototype=Object.create(V&&V.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(R,V):R.__proto__=V)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function R(V,N){for(var F=0,D;F<N.length;F++)D=N[F],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(V,D.key,D)}return function(V,N,F){return N&&R(V.prototype,N),F&&R(V,F),V}}(),M=s(2),C=d(M),O=s(180),T=d(O),S=s(0),E=d(S),I=function(R){function V(){return f(this,V),h(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return P(V,R),w(V,[{key:'init',value:function(){this.view=new T.default,this._stack=new Map,this.editor.ui.focusTracker.add(this.view.element),this.editor.ui.view.body.add(this.view)}},{key:'hasView',value:function(F){return this._stack.has(F)}},{key:'add',value:function(F){if(this.hasView(F.view))throw new E.default('contextualballoon-add-view-exist: Cannot add configuration of the same view twice.');this.visibleView&&this.view.content.remove(this.visibleView),this._stack.set(F.view,F),this._show(F)}},{key:'remove',value:function(F){if(!this.hasView(F))throw new E.default('contextualballoon-remove-view-not-exist: Cannot remove configuration of not existing view.');if(this.visibleView===F){this.view.content.remove(F),this._stack.delete(F);var D=Array.from(this._stack.values()).pop();D?this._show(D):this.view.hide()}else this._stack.delete(F)}},{key:'updatePosition',value:function(F){F&&(this._stack.get(this.visibleView).position=F),this.view.attachTo(this._getBalloonPosition())}},{key:'_show',value:function(F){var D=F.view,L=F.balloonClassName,q=void 0===L?'':L;this.view.className=q,this.view.content.add(D),this.view.pin(this._getBalloonPosition())}},{key:'_getBalloonPosition',value:function(){return this._stack.values().next().value.position}},{key:'visibleView',get:function(){var F=this._stack.get(this.view.content.get(0));return F?F.view:null}}],[{key:'pluginName',get:function(){return'ContextualBalloon'}}]),V}(C.default);u.default=I},function(r,u,s){'use strict';function d(D){return D&&D.__esModule?D:{default:D}}function f(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}function h(D,L){if(!D)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:D}function P(D,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);D.prototype=Object.create(L&&L.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(D,L):D.__proto__=L)}function w(D){return D.every(function(L){return'string'==typeof L})}Object.defineProperty(u,'__esModule',{value:!0});var M=function(){function D(L,q){for(var z=0,W;z<q.length;z++)W=q[z],W.enumerable=W.enumerable||!1,W.configurable=!0,'value'in W&&(W.writable=!0),Object.defineProperty(L,W.key,W)}return function(L,q,z){return q&&D(L.prototype,q),z&&D(L,z),L}}(),C=function D(L,q,z){null===L&&(L=Function.prototype);var W=Object.getOwnPropertyDescriptor(L,q);if(W===void 0){var H=Object.getPrototypeOf(L);return null===H?void 0:D(H,q,z)}if('value'in W)return W.value;var U=W.get;return void 0===U?void 0:U.call(z)},O=s(0),T=d(O),S=s(19),E=d(S),I=s(87),R=d(I),V=s(4),N=d(V),F=function(D){function L(q){f(this,L);var z=h(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,{idProperty:'viewUid'}));return z.on('add',function(W,H,U){H.element&&z._parentElement&&z._parentElement.insertBefore(H.element,z._parentElement.children[U])}),z.on('remove',function(W,H){H.element&&z._parentElement&&H.element.remove()}),z.locale=q,z.set('ready',!1),z._parentElement=null,z}return P(L,D),M(L,[{key:'init',value:function(){if(this.ready)throw new T.default('ui-viewcollection-init-reinit: This ViewCollection has already been initialized.');this.map(function(z){return z.init()}),this.ready=!0}},{key:'destroy',value:function(){this.map(function(z){return z.destroy()})}},{key:'add',value:function(z,W){C(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),'add',this).call(this,z,W),this.ready&&!z.ready&&z.init()}},{key:'setParent',value:function(z){this._parentElement=z}},{key:'delegate',value:function(){for(var z=this,W=arguments.length,H=Array(W),U=0;U<W;U++)H[U]=arguments[U];if(!H.length||!w(H))throw new T.default('ui-viewcollection-delegate-wrong-events: All event names must be strings.');return{to:function($){var J=!0,G=!1,Q;try{for(var Y=z[Symbol.iterator](),X;!(J=(X=Y.next()).done);J=!0){var Z=X.value,ee=!0,te=!1,re=void 0;try{for(var ae=H[Symbol.iterator](),oe,ne;!(ee=(oe=ae.next()).done);ee=!0)ne=oe.value,Z.delegate(ne).to($)}catch(le){te=!0,re=le}finally{try{!ee&&ae.return&&ae.return()}finally{if(te)throw re}}}}catch(le){G=!0,Q=le}finally{try{!J&&Y.return&&Y.return()}finally{if(G)throw Q}}z.on('add',function(le,ue){var ie=!0,se=!1,de;try{for(var fe=H[Symbol.iterator](),ce,pe;!(ie=(ce=fe.next()).done);ie=!0)pe=ce.value,ue.delegate(pe).to($)}catch(me){se=!0,de=me}finally{try{!ie&&fe.return&&fe.return()}finally{if(se)throw de}}}),z.on('remove',function(le,ue){var ie=!0,se=!1,de;try{for(var fe=H[Symbol.iterator](),ce,pe;!(ie=(ce=fe.next()).done);ie=!0)pe=ce.value,ue.stopDelegating(pe,$)}catch(me){se=!0,de=me}finally{try{!ie&&fe.return&&fe.return()}finally{if(se)throw de}}})}}}}]),L}(R.default);u.default=F,(0,N.default)(R.default,E.default)},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){var h=0,P=!0,w=!1,M;try{for(var C=f[Symbol.iterator](),O,T;!(P=(O=C.next()).done);P=!0)T=O.value,h++}catch(S){w=!0,M=S}finally{try{!P&&C.return&&C.return()}finally{if(w)throw M}}return h}},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}function f(R){var V=-1,N=R?R.length:0;for(this.clear();++V<N;){var F=R[V];this.set(F[0],F[1])}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(472),P=d(h),w=s(473),M=d(w),C=s(474),O=d(C),T=s(475),S=d(T),E=s(476),I=d(E);f.prototype.clear=P.default,f.prototype['delete']=M.default,f.prototype.get=O.default,f.prototype.has=S.default,f.prototype.set=I.default,u.default=f},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}function f(N){this.__data__=new P.default(N)}Object.defineProperty(u,'__esModule',{value:!0});var h=s(89),P=d(h),w=s(481),M=d(w),C=s(482),O=d(C),T=s(483),S=d(T),E=s(484),I=d(E),R=s(485),V=d(R);f.prototype.clear=M.default,f.prototype['delete']=O.default,f.prototype.get=S.default,f.prototype.has=I.default,f.prototype.set=V.default,u.default=f},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var f=s(32),h=function(w){return w&&w.__esModule?w:{default:w}}(f),P=h.default.Symbol;u.default=P},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(133),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M){return!!w.length&&-1<(0,P.default)(w,M,0)}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h,P){for(var w=-1,M=f.length;++w<M;)if(P(h,f[w]))return!0;return!1}},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(97),P=d(h),w=s(58),M=d(w),C=s(59),O=d(C);u.default=function(T,S){S=(0,M.default)(S,T)?[S]:(0,P.default)(S);for(var E=0,I=S.length;null!=T&&E<I;)T=T[(0,O.default)(S[E++])];return E&&E==I?T:void 0}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(203),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M,C){if(M!==M)return(0,P.default)(w,C);for(var O=C-1,T=w.length;++O<T;)if(w[O]===M)return O;return-1}},function(r,u,s){'use strict';function d(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(90),P=d(h),w=s(130),M=d(w),C=s(131),O=d(C),T=s(29),S=d(T),E=s(138),I=d(E),R=s(140),V=d(R);u.default=function(F,D,L){for(var q=L?O.default:M.default,z=F[0].length,W=F.length,H=W,U=Array(W),K=Infinity,$=[],J;H--;)J=F[H],H&&D&&(J=(0,S.default)(J,(0,I.default)(D))),K=_Mathmin(J.length,K),U[H]=!L&&(D||120<=z&&120<=J.length)?new P.default(H&&J):void 0;J=F[0];var G=-1,Q=U[0];outer:for(;++G<z&&$.length<K;){var Y=J[G],X=D?D(Y):Y;if(Y=L||0!==Y?Y:0,Q?!(0,V.default)(Q,X):!q($,X,L)){for(H=W;--H;){var Z=U[H];if(Z?!(0,V.default)(Z,X):!q(F[H],X,L))continue outer}Q&&Q.push(X),$.push(Y)}}return $}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){return function(h){return null==h?void 0:h[f]}}},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(29),P=d(h),w=s(133),M=d(w),C=s(425),O=d(C),T=s(138),S=d(T),E=Array.prototype,I=E.splice;u.default=function(R,V,N,F){var D=F?O.default:M.default,L=-1,q=V.length,z=R;for(N&&(z=(0,P.default)(R,(0,S.default)(N)));++L<q;)for(var W=0,H=V[L],U=N?N(H):H;-1<(W=D(z,U,W,F));)z!==R&&I.call(z,W,1),I.call(R,W,1);return R}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(52),P=function(T){return T&&T.__esModule?T:{default:T}}(h);u.default=function(T,S,E,I){S=E(S);for(var R=0,V=T?T.length:0,N=S!==S,F=null===S,D=(0,P.default)(S),L=void 0===S;R<V;){var q=_Mathfloor((R+V)/2),z=E(T[q]),W=z!==void 0,H=null===z,U=z===z,K=(0,P.default)(z);if(N)var $=I||U;else $=L?U&&(I||W):F?U&&W&&(I||!H):D?U&&W&&!H&&(I||!K):H||K?!1:I?z<=S:z<S;$?R=q+1:V=q}return _Mathmin(V,4294967295-1)}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){return function(h){return f(h)}}},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(92),P=d(h),w=s(69),M=d(w),C=s(49),O=d(C);u.default=function(T,S,E){for(var I=-1,R=T.length,V;++I<R;)V=V?(0,P.default)((0,M.default)(V,T[I],S,E),(0,M.default)(T[I],V,S,E)):T[I];return V&&V.length?(0,O.default)(V,S,E):[]}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h){return f.has(h)}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(13),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w){return(0,P.default)(w)?w:[]}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(189),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w){var M=new w.constructor(w.byteLength);return new P.default(M).set(new P.default(w)),M}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(68),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M,C,O){C||(C={});for(var T=-1,S=M.length;++T<S;){var E=M[T],I=O?O(C[E],w[E],E,C,w):w[E];(0,P.default)(C,E,I)}return C}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var f=Object.getPrototypeOf;u.default=function(h){return f(Object(h))}},function(r,u,s){'use strict';function d(Q){return Q&&Q.__esModule?Q:{default:Q}}function f(Q){return H.call(Q)}Object.defineProperty(u,'__esModule',{value:!0});var h=s(409),P=d(h),w=s(187),M=d(w),C=s(411),O=d(C),T=s(188),S=d(T),E=s(413),I=d(E),R=s(206),V=d(R),N='[object Map]',D='[object Promise]',L='[object Set]',q='[object WeakMap]',z='[object DataView]',W=Object.prototype,H=W.toString,U=(0,V.default)(P.default),K=(0,V.default)(M.default),$=(0,V.default)(O.default),J=(0,V.default)(S.default),G=(0,V.default)(I.default);(P.default&&f(new P.default(new ArrayBuffer(1)))!=z||M.default&&f(new M.default)!=N||O.default&&f(O.default.resolve())!=D||S.default&&f(new S.default)!=L||I.default&&f(new I.default)!=q)&&(f=function(Y){var X=H.call(Y),Z=X=='[object Object]'?Y.constructor:void 0,ee=Z?(0,V.default)(Z):void 0;if(ee)switch(ee){case U:return z;case K:return N;case $:return D;case J:return L;case G:return q;}return X}),u.default=f},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){var h=-1,P=Array(f.size);return f.forEach(function(w,M){P[++h]=[M,w]}),P}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(40),P=d(h),w=s(14),M=d(w);u.default=function(C,O,T){var S=C?C.length:0;return S?(O=T||void 0===O?1:(0,M.default)(O),(0,P.default)(C,0>O?0:O,S)):[]}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(40),P=d(h),w=s(14),M=d(w);u.default=function(C,O,T){var S=C?C.length:0;return S?(O=T||void 0===O?1:(0,M.default)(O),O=S-O,(0,P.default)(C,0,0>O?0:O)):[]}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){return f&&f.length?f[0]:void 0}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(13),P=function(S){return S&&S.__esModule?S:{default:S}}(h),M=Object.prototype,C=M.hasOwnProperty,O=M.toString,T=M.propertyIsEnumerable;u.default=function(S){return(0,P.default)(S)&&C.call(S,'callee')&&(!T.call(S,'callee')||O.call(S)=='[object Arguments]')}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(17),P=function(T){return T&&T.__esModule?T:{default:T}}(h),C=Object.prototype,O=C.toString;u.default=function(T){var S=(0,P.default)(T)?O.call(T):'';return S=='[object Function]'||S=='[object GeneratorFunction]'}},function(r,u,s){'use strict';function d(S){return S&&S.__esModule?S:{default:S}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(12),P=d(h),w=s(51),M=d(w),O=Object.prototype,T=O.toString;u.default=function(S){return'string'==typeof S||!(0,P.default)(S)&&(0,M.default)(S)&&T.call(S)=='[object String]'}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(136),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M){return w&&w.length&&M&&M.length?(0,P.default)(w,M):w}},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(190),P=d(h),w=s(29),M=d(w),C=s(107),O=d(C);u.default=function(T,S){if(!(T&&T.length))return[];var E=(0,O.default)(T);return null==S?E:(0,M.default)(E,function(I){return(0,P.default)(S,void 0,I)})}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(C){return(0,P.default)(C)?(0,M.default)(C):new Map(C)};var h=s(106),P=d(h),w=s(271),M=d(w)},function(r,u){'use strict';function h(E,I){E.setCustomProperty(O,I)}function M(){return null}Object.defineProperty(u,'__esModule',{value:!0}),u.isWidget=function(E){return!!E.getCustomProperty(C)},u.toWidget=function(E){var I=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return E.setAttribute('contenteditable',!1),E.getFillerOffset=M,E.addClass(T),E.setCustomProperty(C,!0),I.label&&h(E,I.label),E},u.setLabel=h,u.getLabel=function(E){var I=E.getCustomProperty(O);return I?'function'==typeof I?I():I:''},u.toWidgetEditable=function(E){return E.addClass('ck-editable'),E.setAttribute('contenteditable',!E.isReadOnly),E.on('change:isReadOnly',function(I,R,V){E.setAttribute('contenteditable',!V)}),E.on('change:isFocused',function(I,R,V){V?E.addClass('ck-editable_focused'):E.removeClass('ck-editable_focused')}),E};var C=Symbol('isWidget'),O=Symbol('label'),T=u.WIDGET_CLASS_NAME='ck-widget',S=u.WIDGET_SELECTED_CLASS_NAME='ck-widget_selected'},function(r){'use strict';var d='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&'function'==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?'symbol':typeof h},f;f=function(){return this}();try{f=f||Function('return this')()||(1,eval)('this')}catch(h){'object'===('undefined'==typeof window?'undefined':d(window))&&(f=window)}r.exports=f},function(r,u,s){'use strict';function f(T,S){if(!(T instanceof S))throw new TypeError('Cannot call a class as a function')}function h(T,S){if(!T)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return S&&('object'==typeof S||'function'==typeof S)?S:T}function P(T,S){if('function'!=typeof S&&null!==S)throw new TypeError('Super expression must either be null or a function, not '+typeof S);T.prototype=Object.create(S&&S.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(T,S):T.__proto__=S)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function T(S,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}return function(S,E,I){return E&&T(S.prototype,E),I&&T(S,I),S}}(),M=s(11),C=function(T){return T&&T.__esModule?T:{default:T}}(M),O=function(T){function S(E,I){f(this,S);var R=h(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,E));return R.attributeKey=I,R}return P(S,T),w(S,[{key:'refresh',value:function(){var I=this.editor.document;this.value=I.selection.hasAttribute(this.attributeKey),this.isEnabled=I.schema.checkAttributeInSelection(I.selection,this.attributeKey)}},{key:'execute',value:function(){var I=this,R=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},V=this.editor.document,N=V.selection,F=void 0===R.forceValue?!this.value:R.forceValue;V.enqueueChanges(function(){if(N.isCollapsed)F?N.setAttribute(I.attributeKey,!0):N.removeAttribute(I.attributeKey);else{var D=V.schema.getValidRanges(N.getRanges(),I.attributeKey),L=R.batch||V.batch(),q=!0,z=!1,W;try{for(var H=D[Symbol.iterator](),U,K;!(q=(U=H.next()).done);q=!0)K=U.value,F?L.setAttribute(K,I.attributeKey,F):L.removeAttribute(K,I.attributeKey)}catch($){z=!0,W=$}finally{try{!q&&H.return&&H.return()}finally{if(z)throw W}}}})}}]),S}(C.default);u.default=O},function(r,u,s){'use strict';function d(q){return q&&q.__esModule?q:{default:q}}function f(q,z){if(!(q instanceof z))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function q(z,W){for(var H=0,U;H<W.length;H++)U=W[H],U.enumerable=U.enumerable||!1,U.configurable=!0,'value'in U&&(U.writable=!0),Object.defineProperty(z,U.key,U)}return function(z,W,H){return W&&q(z.prototype,W),H&&q(z,H),z}}(),P=s(1),w=d(P),M=s(3),C=d(M),O=s(22),T=d(O),S=s(38),E=d(S),I=s(31),R=d(I),V=s(9),N=d(V),F=s(4),D=d(F),L=function(){function q(){var z=this;f(this,q),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this.on('modelToViewPosition',function(W,H){if(!H.viewPosition){var U=z._modelToViewMapping.get(H.modelPosition.parent);H.viewPosition=z._findPositionIn(U,H.modelPosition.offset)}},{priority:'low'}),this.on('viewToModelPosition',function(W,H){if(!H.modelPosition){for(var U=H.viewPosition.parent,K=z._viewToModelMapping.get(U);!K;)U=U.parent,K=z._viewToModelMapping.get(U);var $=z._toModelOffset(H.viewPosition.parent,H.viewPosition.offset,U);H.modelPosition=w.default.createFromParentAndOffset(K,$)}},{priority:'low'})}return h(q,[{key:'bindElements',value:function(W,H){this._modelToViewMapping.set(W,H),this._viewToModelMapping.set(H,W)}},{key:'unbindViewElement',value:function(W){var H=this.toModelElement(W);this._unbindElements(H,W)}},{key:'unbindModelElement',value:function(W){var H=this.toViewElement(W);this._unbindElements(W,H)}},{key:'clearBindings',value:function(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap}},{key:'toModelElement',value:function(W){return this._viewToModelMapping.get(W)}},{key:'toViewElement',value:function(W){return this._modelToViewMapping.get(W)}},{key:'toModelRange',value:function(W){return new C.default(this.toModelPosition(W.start),this.toModelPosition(W.end))}},{key:'toViewRange',value:function(W){return new E.default(this.toViewPosition(W.start),this.toViewPosition(W.end))}},{key:'toModelPosition',value:function(W){var H={viewPosition:W,mapper:this};return this.fire('viewToModelPosition',H),H.modelPosition}},{key:'toViewPosition',value:function(W){var H={modelPosition:W,mapper:this};return this.fire('modelToViewPosition',H),H.viewPosition}},{key:'registerViewToModelLength',value:function(W,H){this._viewToModelLengthCallbacks.set(W,H)}},{key:'_toModelOffset',value:function(W,H,U){if(U!=W){var K=this._toModelOffset(W.parent,W.index,U),$=this._toModelOffset(W,H,W);return K+$}if(W.is('text'))return H;for(var J=0,G=0;G<H;G++)J+=this.getModelLength(W.getChild(G));return J}},{key:'_unbindElements',value:function(W,H){this._viewToModelMapping.delete(H),this._modelToViewMapping.delete(W)}},{key:'getModelLength',value:function(W){if(this._viewToModelLengthCallbacks.get(W.name)){var H=this._viewToModelLengthCallbacks.get(W.name);return H(W)}if(this._viewToModelMapping.has(W))return 1;if(W.is('text'))return W.data.length;if(W.is('uiElement'))return 0;var U=0,K=!0,$=!1,J;try{for(var G=W.getChildren()[Symbol.iterator](),Q,Y;!(K=(Q=G.next()).done);K=!0)Y=Q.value,U+=this.getModelLength(Y)}catch(X){$=!0,J=X}finally{try{!K&&G.return&&G.return()}finally{if($)throw J}}return U}},{key:'_findPositionIn',value:function(W,H){var K=0,$=0,J=0,U;if(W.is('text'))return new T.default(W,H);for(;$<H;)U=W.getChild(J),K=this.getModelLength(U),$+=K,J++;return $==H?this._moveViewPositionToTextNode(new T.default(W,J)):this._findPositionIn(U,H-($-K))}},{key:'_moveViewPositionToTextNode',value:function(W){var H=W.nodeBefore,U=W.nodeAfter;return H instanceof R.default?new T.default(H,H.data.length):U instanceof R.default?new T.default(U,0):W}}]),q}();u.default=L,(0,D.default)(L,N.default)},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}function M(N,F,D,L,q){if(N.isCollapsed&&L.consume(N,q)){var z=F.getFirstPosition();z=V.default.wrapPosition(z,D),F.removeAllRanges(),F.addRange(new I.default(z,z))}}Object.defineProperty(u,'__esModule',{value:!0}),u.convertRangeSelection=function(){return function(N,F,D,L){var q=F.selection;if(!q.isCollapsed&&D.consume(q,'selection')){L.viewSelection.removeAllRanges();var z=!0,W=!1,H;try{for(var U=q.getRanges()[Symbol.iterator](),K;!(z=(K=U.next()).done);z=!0){var $=K.value,J=L.mapper.toViewRange($);L.viewSelection.addRange(J,q.isBackward)}}catch(G){W=!0,H=G}finally{try{!z&&U.return&&U.return()}finally{if(W)throw H}}}}},u.convertCollapsedSelection=function(){return function(N,F,D,L){var q=F.selection;if(q.isCollapsed&&D.consume(q,'selection')){var z=q.getFirstPosition(),W=L.mapper.toViewPosition(z),H=V.default.breakAttributes(W);L.viewSelection.removeAllRanges(),L.viewSelection.addRange(new I.default(H,H))}}},u.convertSelectionAttribute=function(N){return function(F,D,L,q){var z=N instanceof S.default?N.clone(!0):N(D.value,D,D.selection,L,q);if(z){var W='selectionAttribute:'+D.key;M(D.selection,q.viewSelection,z,L,W)}}},u.convertSelectionMarker=function(N){return function(F,D,L,q){var z=N instanceof S.default?N.clone(!0):N(D,L,q);if(z){var W='selectionMarker:'+D.name;M(D.selection,q.viewSelection,z,L,W)}}},u.clearAttributes=function(){return function(N,F,D,L){var q=!0,z=!1,W;try{for(var H=L.viewSelection.getRanges()[Symbol.iterator](),U,K;!(q=(U=H.next()).done);q=!0)K=U.value,K.isCollapsed&&K.end.parent.document&&V.default.mergeAttributes(K.start)}catch($){z=!0,W=$}finally{try{!q&&H.return&&H.return()}finally{if(z)throw W}}L.viewSelection.removeAllRanges()}},u.clearFakeSelection=function(){return function(N,F,D,L){return L.viewSelection.setFake(!1)}};var T=s(28),S=d(T),E=s(38),I=d(E),R=s(85),V=d(R)},function(r,u,s){'use strict';function d(q){return q&&q.__esModule?q:{default:q}}function f(q,z){if(!(q instanceof z))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function q(z,W){for(var H=0,U;H<W.length;H++)U=W[H],U.enumerable=U.enumerable||!1,U.configurable=!0,'value'in U&&(U.writable=!0),Object.defineProperty(z,U.key,U)}return function(z,W,H){return W&&q(z.prototype,W),H&&q(z,H),z}}(),P=s(306),w=d(P),M=s(3),C=d(M),O=s(1),T=d(O),S=s(35),E=d(S),I=s(9),R=d(I),V=s(4),N=d(V),F=s(50),D=d(F),L=function(){function q(z){var W=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};f(this,q),this._modelDocument=z,this.conversionApi=(0,D.default)({dispatcher:this},W)}return h(q,[{key:'convertChange',value:function(W,H){'remove'!==W&&H.range&&'$graveyard'==H.range.root.rootName||'remove'==W&&'$graveyard'==H.sourcePosition.root.rootName||'rename'==W&&'$graveyard'==H.element.root.rootName||('insert'==W||'reinsert'==W?this.convertInsertion(H.range):'move'==W?this.convertMove(H.sourcePosition,H.range):'remove'==W?this.convertRemove(H.sourcePosition,H.range):'addAttribute'==W||'removeAttribute'==W||'changeAttribute'==W?this.convertAttribute(W,H.range,H.key,H.oldValue,H.newValue):'rename'==W&&this.convertRename(H.element,H.oldName))}},{key:'convertInsertion',value:function(W){var H=this._createInsertConsumable(W),U=!0,K=!1,$;try{for(var J=W[Symbol.iterator](),G;!(U=(G=J.next()).done);U=!0){var Q=G.value,Y=Q.item,X=C.default.createFromPositionAndShift(Q.previousPosition,Q.length),Z={item:Y,range:X};this._testAndFire('insert',Z,H);var ee=!0,te=!1,re=void 0;try{for(var ae=Y.getAttributeKeys()[Symbol.iterator](),oe,ne;!(ee=(oe=ae.next()).done);ee=!0)ne=oe.value,Z.attributeKey=ne,Z.attributeOldValue=null,Z.attributeNewValue=Y.getAttribute(ne),this._testAndFire('addAttribute:'+ne,Z,H)}catch(pe){te=!0,re=pe}finally{try{!ee&&ae.return&&ae.return()}finally{if(te)throw re}}}}catch(pe){K=!0,$=pe}finally{try{!U&&J.return&&J.return()}finally{if(K)throw $}}var le=!0,ue=!1,ie;try{for(var se=this._modelDocument.markers[Symbol.iterator](),de;!(le=(de=se.next()).done);le=!0){var fe=de.value,ce=fe.getRange();ce.containsPosition(W.start)&&this.convertMarker('addMarker',fe.name,ce.getIntersection(W)),W.containsRange(ce,!0)&&this.convertMarker('addMarker',fe.name,ce)}}catch(pe){ue=!0,ie=pe}finally{try{!le&&se.return&&se.return()}finally{if(ue)throw ie}}}},{key:'convertMove',value:function(W,H){if(H.start.isBefore(W)){this.convertInsertion(H);var U=W._getTransformedByInsertion(H.start,H.end.offset-H.start.offset);this.convertRemove(U,H)}else this.convertRemove(W,H),this.convertInsertion(H)}},{key:'convertRemove',value:function(W,H){var U=this._createConsumableForRange(H,'remove'),K=!0,$=!1,J;try{for(var G=H.getItems({shallow:!0})[Symbol.iterator](),Q;!(K=(Q=G.next()).done);K=!0){var Y=Q.value;this._testAndFire('remove',{sourcePosition:W,item:Y},U)}}catch(Z){$=!0,J=Z}finally{try{!K&&G.return&&G.return()}finally{if($)throw J}}}},{key:'convertAttribute',value:function(W,H,U,K,$){var J=this._createConsumableForRange(H,W+':'+U),G=!0,Q=!1,Y;try{for(var X=H[Symbol.iterator](),Z;!(G=(Z=X.next()).done);G=!0){var ee=Z.value,te=ee.item,re=C.default.createFromPositionAndShift(ee.previousPosition,ee.length);this._testAndFire(W+':'+U,{item:te,range:re,attributeKey:U,attributeOldValue:K,attributeNewValue:$},J)}}catch(oe){Q=!0,Y=oe}finally{try{!G&&X.return&&X.return()}finally{if(Q)throw Y}}}},{key:'convertRename',value:function(W,H){var U=W.clone(!0);U.name=H,this.conversionApi.mapper.bindElements(U,this.conversionApi.mapper.toViewElement(W));var K=new E.default;K.appendChildren(U),this.convertRemove(T.default.createBefore(W),C.default.createOn(U)),this.convertInsertion(C.default.createOn(W))}},{key:'convertSelection',value:function(W){var H=Array.from(this._modelDocument.markers.getMarkersAtPosition(W.getFirstPosition())),U=this._createSelectionConsumable(W,H);this.fire('selection',{selection:W},U,this.conversionApi);var K=!0,$=!1,J;try{for(var G=H[Symbol.iterator](),Q;!(K=(Q=G.next()).done);K=!0){var Y=Q.value,X={selection:W,name:Y.name};U.test(W,'selectionMarker:'+Y.name)&&this.fire('selectionMarker:'+Y.name,X,U,this.conversionApi)}}catch(ne){$=!0,J=ne}finally{try{!K&&G.return&&G.return()}finally{if($)throw J}}var Z=!0,ee=!1,te;try{for(var re=W.getAttributeKeys()[Symbol.iterator](),ae;!(Z=(ae=re.next()).done);Z=!0){var oe=ae.value,X={selection:W,key:oe,value:W.getAttribute(oe)};U.test(W,'selectionAttribute:'+X.key)&&this.fire('selectionAttribute:'+X.key,X,U,this.conversionApi)}}catch(ne){ee=!0,te=ne}finally{try{!Z&&re.return&&re.return()}finally{if(ee)throw te}}}},{key:'convertMarker',value:function(W,H,U){if(U.root.document&&'$graveyard'!=U.root.rootName){var K=this._createMarkerConsumable(W,U);this.fire(W+':'+H,{name:H,range:U},K,this.conversionApi)}}},{key:'_createInsertConsumable',value:function(W){var H=new w.default,U=!0,K=!1,$;try{for(var J=W[Symbol.iterator](),G;!(U=(G=J.next()).done);U=!0){var Q=G.value,Y=Q.item;H.add(Y,'insert');var X=!0,Z=!1,ee=void 0;try{for(var te=Y.getAttributeKeys()[Symbol.iterator](),re,ae;!(X=(re=te.next()).done);X=!0)ae=re.value,H.add(Y,'addAttribute:'+ae)}catch(oe){Z=!0,ee=oe}finally{try{!X&&te.return&&te.return()}finally{if(Z)throw ee}}}}catch(oe){K=!0,$=oe}finally{try{!U&&J.return&&J.return()}finally{if(K)throw $}}return H}},{key:'_createConsumableForRange',value:function(W,H){var U=new w.default,K=!0,$=!1,J;try{for(var G=W.getItems()[Symbol.iterator](),Q,Y;!(K=(Q=G.next()).done);K=!0)Y=Q.value,U.add(Y,H)}catch(X){$=!0,J=X}finally{try{!K&&G.return&&G.return()}finally{if($)throw J}}return U}},{key:'_createSelectionConsumable',value:function(W,H){var U=new w.default;U.add(W,'selection');var K=!0,$=!1,J;try{for(var G=H[Symbol.iterator](),Q,Y;!(K=(Q=G.next()).done);K=!0)Y=Q.value,U.add(W,'selectionMarker:'+Y.name)}catch(oe){$=!0,J=oe}finally{try{!K&&G.return&&G.return()}finally{if($)throw J}}var X=!0,Z=!1,ee;try{for(var te=W.getAttributeKeys()[Symbol.iterator](),re,ae;!(X=(re=te.next()).done);X=!0)ae=re.value,U.add(W,'selectionAttribute:'+ae)}catch(oe){Z=!0,ee=oe}finally{try{!X&&te.return&&te.return()}finally{if(Z)throw ee}}return U}},{key:'_createMarkerConsumable',value:function(W,H){var U=new w.default;return U.add(H,W),U}},{key:'_testAndFire',value:function(W,H,U){if(U.test(H.item,W)){var K=H.item.name||'$text';this.fire(W+':'+K,H,U,this.conversionApi)}}}]),q}();u.default=L,(0,N.default)(L,R.default)},function(r,u,s){'use strict';function d(S){return S&&S.__esModule?S:{default:S}}function f(S,E){if(!(S instanceof E))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function S(E,I){for(var R=0,V;R<I.length;R++)V=I[R],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(E,V.key,V)}return function(E,I,R){return I&&S(E.prototype,I),R&&S(E,R),E}}(),P=s(311),w=d(P),M=s(120),C=d(M),O=s(64),T=function(){function S(){f(this,S),this._domParser=new DOMParser,this._domConverter=new C.default({blockFiller:O.NBSP_FILLER}),this._htmlWriter=new w.default}return h(S,[{key:'toData',value:function(I){var R=this._domConverter.viewToDom(I,document);return this._htmlWriter.getHtml(R)}},{key:'toView',value:function(I){var R=this._toDom(I);return this._domConverter.domToView(R)}},{key:'_toDom',value:function(I){for(var R=this._domParser.parseFromString(I,'text/html'),V=R.createDocumentFragment(),N=R.body.childNodes;0<N.length;)V.appendChild(N[0]);return V}}]),S}();u.default=T},function(r,u,s){'use strict';function d(ge){return ge&&ge.__esModule?ge:{default:ge}}function f(ge){if(Array.isArray(ge)){for(var ye=0,be=Array(ge.length);ye<ge.length;ye++)be[ye]=ge[ye];return be}return Array.from(ge)}function h(ge,ye){var be=!0,he=!1,ve;try{for(var ke=ye[Symbol.iterator](),Pe;!(be=(Pe=ke.next()).done);be=!0){var we=Pe.value,xe=!0,Me=!1,Ce=void 0;try{for(var Oe=we.operations[Symbol.iterator](),Ae,Te;!(xe=(Ae=Oe.next()).done);xe=!0)Te=Ae.value,Te.baseVersion=++ge}catch(Se){Me=!0,Ce=Se}finally{try{!xe&&Oe.return&&Oe.return()}finally{if(Me)throw Ce}}}}catch(Se){he=!0,ve=Se}finally{try{!be&&ke.return&&ke.return()}finally{if(he)throw ve}}return ye}function P(ge){return ge.reduce(function(ye,be){return ye+be.operations.length},0)}function w(ge,ye){for(var be=ge[ge.length-1],he=be.operations.length+be.baseVersion,ve=new F.default,ke=0;ke<ye;ke++)ve.addOperation(new oe.default(he++));ge.push(ve)}function M(ge,ye,be){C(ye,be),E(ge,ye,be),O(ge,ye,be),S(ye,be),T(be)}function C(ge,ye){var be=ye.originalDelta.get(ge),he=ye.document.history;ye.bWasUndone=he.isUndoneDelta(be)||he.isUndoingDelta(be)}function O(ge,ye,be){var he=be.originalDelta.get(ye);if(be.document.history.isUndoingDelta(he)){var ve=be.document.history.getUndoneDelta(he),ke=be.wasAffected.get(ge),Pe=ke.get(ve);Pe!==void 0&&(be.insertBefore=Pe)}}function T(ge){ge.bWasUndone&&(ge.forceNotSticky=!0)}function S(ge,ye){var be=ye.document.history,he=ye.originalDelta.get(ge);ye.forceWeakRemove=be.isUndoneDelta(he)}function E(ge,ye,be){be.wasAffected.get(ge)||be.wasAffected.set(ge,new Map);var he=be.originalDelta.get(ye),ve=!!be.wasAffected.get(ge).get(he),ke=!0,Pe=!1,we;try{for(var xe=ge.operations[Symbol.iterator](),Me;!(ke=(Me=xe.next()).done);ke=!0){var Ce=Me.value,Oe=!0,Ae=!1,Te=void 0;try{for(var Se=ye.operations[Symbol.iterator](),Ee,Ie;!(Oe=(Ee=Se.next()).done);Oe=!0)if(Ie=Ee.value,Ce instanceof le.default&&Ie instanceof le.default&&I(Ce,Ie)){ve=!0;break}}catch(Re){Ae=!0,Te=Re}finally{try{!Oe&&Se.return&&Se.return()}finally{if(Ae)throw Te}}if(ve)break}}catch(Re){Pe=!0,we=Re}finally{try{!ke&&xe.return&&xe.return()}finally{if(Pe)throw we}}be.wasAffected.get(ge).set(he,ve)}function I(ge,ye){var be=ge.targetPosition,he=ye.sourcePosition,ve=(0,ce.default)(he.getParentPath(),be.getParentPath());return!(be.root!=he.root)&&'same'==ve&&he.offset<be.offset}function R(ge,ye,be){delete be.insertBefore,delete be.forceNotSticky,delete be.forceWeakRemove;var he=be.wasAffected.get(ge);be.wasAffected.delete(ge);var ve=!0,ke=!1,Pe;try{for(var we=ye[Symbol.iterator](),xe,Me;!(ve=(xe=we.next()).done);ve=!0)Me=xe.value,be.wasAffected.set(Me,new Map(he))}catch(Ce){ke=!0,Pe=Ce}finally{try{!ve&&we.return&&we.return()}finally{if(ke)throw Pe}}}function V(ge,ye){var be=[],he=null,ve=void 0;switch(ge){case L.default:case z.default:var ke=!0,Pe=!1,we;try{for(var xe=ye[Symbol.iterator](),Me,Ce;!(ke=(Me=xe.next()).done);ke=!0)Ce=Me.value,Ce instanceof oe.default?he=new F.default:(he=Ce instanceof ie.default?new z.default:new L.default,Ce.isSticky=!1),he.addOperation(Ce),be.push(he)}catch(je){Pe=!0,we=je}finally{try{!ke&&xe.return&&xe.return()}finally{if(Pe)throw we}}return be;case K.default:case J.default:return he=new ge,he.addOperation(ye[0]),he.addOperation(ye[1]),be=V(L.default,ye.slice(2)),[he].concat(be);case H.default:case Q.default:return be=V(L.default,ye.slice(0,-2)),he=new ge,he.addOperation(ye[ye.length-2]),he.addOperation(ye[ye.length-1]),be.concat(he);case X.default:return he=ye[0]instanceof oe.default?new F.default:new X.default,he.addOperation(ye[0]),[he];case ee.default:for(ve=0;ve<ye.length&&!!(ye[ve]instanceof oe.default);ve++);ve==ye.length?he=new F.default:(he=new ee.default,0!=ve&&ye.unshift(ye.splice(ve,1)[0]));var Oe=!0,Ae=!1,Te;try{for(var Se=ye[Symbol.iterator](),Ee,Ie;!(Oe=(Ee=Se.next()).done);Oe=!0)Ie=Ee.value,he.addOperation(Ie)}catch(je){Ae=!0,Te=je}finally{try{!Oe&&Se.return&&Se.return()}finally{if(Ae)throw Te}}return[he];default:he=new ge;var Re=!0,Ve=!1,Ne;try{for(var Fe=ye[Symbol.iterator](),Be,De;!(Re=(Be=Fe.next()).done);Re=!0)De=Be.value,he.addOperation(De)}catch(je){Ve=!0,Ne=je}finally{try{!Re&&Fe.return&&Fe.return()}finally{if(Ve)throw Ne}}return[he];}}Object.defineProperty(u,'__esModule',{value:!0});var N=s(20),F=d(N),D=s(74),L=d(D),q=s(75),z=d(q),W=s(73),H=d(W),U=s(76),K=d(U),$=s(78),J=d($),G=s(77),Q=d(G),Y=s(112),X=d(Y),Z=s(110),ee=d(Z),te=s(320),re=d(te),ae=s(62),oe=d(ae),ne=s(26),le=d(ne),ue=s(37),ie=d(ue),se=s(488),de=d(se),fe=s(56),ce=d(fe),pe=new Map,me={transform:function(ye,be,he){var ve=me.getTransformationCase(ye,be)||me.defaultTransform,ke=ve(ye,be,Object.assign({},he)),Pe=de.default.last(be.operations).baseVersion;return h(Pe,ke)},defaultTransform:function(ye,be,he){var ve=[],ke=be.operations,Pe=[],we=!0,xe=!1,Me;try{for(var Ce=ye.operations[Symbol.iterator](),Oe;!(we=(Oe=Ce.next()).done);we=!0){var Ae=Oe.value,Te=[Ae],Se=!0,Ee=!1,Ie=void 0;try{for(var Re=ke[Symbol.iterator](),Ve,Ne;!(Se=(Ve=Re.next()).done);Se=!0){Ne=Ve.value;for(var Fe=0;Fe<Te.length;Fe++){var Be=Te[Fe],De=(0,re.default)(Be,Ne,he);Array.prototype.splice.apply(Te,[Fe,1].concat(De)),Fe+=De.length-1;var je=Object.assign({},he);je.isStrong=!he.isStrong,je.insertBefore=he.insertBefore===void 0?void 0:!he.insertBefore;var Le=(0,re.default)(Ne,Be,je);Array.prototype.push.apply(Pe,Le)}}}catch($e){Ee=!0,Ie=$e}finally{try{!Se&&Re.return&&Re.return()}finally{if(Ee)throw Ie}}ke=Pe,Pe=[];var qe=!0,ze=!1,We=void 0;try{for(var He=Te[Symbol.iterator](),Ue,Ke;!(qe=(Ue=He.next()).done);qe=!0)Ke=Ue.value,ve.push(Ke)}catch($e){ze=!0,We=$e}finally{try{!qe&&He.return&&He.return()}finally{if(ze)throw We}}}}catch($e){xe=!0,Me=$e}finally{try{!we&&Ce.return&&Ce.return()}finally{if(xe)throw Me}}return V(ye.constructor,ve)},addTransformationCase:function(ye,be,he){var ve=pe.get(ye);ve||(ve=new Map,pe.set(ye,ve)),ve.set(be,he)},getTransformationCase:function(ye,be){var he=pe.get(ye.constructor);if(!he||!he.get(be.constructor)){var ve=pe.keys(),ke=!0,Pe=!1,we;try{for(var xe=ve[Symbol.iterator](),Me,Ce;!(ke=(Me=xe.next()).done);ke=!0)if(Ce=Me.value,ye instanceof Ce&&pe.get(Ce).get(be.constructor)){he=pe.get(Ce);break}}catch(Oe){Pe=!0,we=Oe}finally{try{!ke&&xe.return&&xe.return()}finally{if(Pe)throw we}}}return he?he.get(be.constructor):void 0},transformDeltaSets:function(ye,be){var he=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,ve=Array.from(ye),ke=Array.from(be),Pe=null!==he,we={isStrong:!0};if(Pe){we.wasAffected=new Map,we.originalDelta=new Map,we.document=he;var xe=!0,Me=!1,Ce;try{for(var Oe=ke[Symbol.iterator](),Ae,Te;!(xe=(Ae=Oe.next()).done);xe=!0)Te=Ae.value,we.originalDelta.set(Te,Te)}catch($e){Me=!0,Ce=$e}finally{try{!xe&&Oe.return&&Oe.return()}finally{if(Me)throw Ce}}}for(var Se=0,Ee;Se<ve.length;Se++){Ee=[ve[Se]];for(var Ie=0,Re;Ie<ke.length;Ie++){Re=[ke[Ie]];for(var Ve=0;Ve<Ee.length;Ve++)for(var Ne=0;Ne<Re.length;Ne++){Pe&&M(Ee[Ve],Re[Ne],we);var Fe=me.transform(Ee[Ve],Re[Ne],{insertBefore:we.insertBefore,forceNotSticky:we.forceNotSticky,isStrong:we.isStrong,forceWeakRemove:we.forceWeakRemove,aWasUndone:!1,bWasUndone:we.bWasUndone}),Be=me.transform(Re[Ne],Ee[Ve],{insertBefore:!we.insertBefore,forceNotSticky:we.forceNotSticky,isStrong:!we.isStrong,forceWeakRemove:we.forceWeakRemove,aWasUndone:we.bWasUndone,bWasUndone:!1});if(Pe){R(Ee[Ve],Fe,we);var De=we.originalDelta.get(Re[Ne]),je=!0,Le=!1,qe=void 0;try{for(var ze=Be[Symbol.iterator](),We,He;!(je=(We=ze.next()).done);je=!0)He=We.value,we.originalDelta.set(He,De)}catch($e){Le=!0,qe=$e}finally{try{!je&&ze.return&&ze.return()}finally{if(Le)throw qe}}}Ee.splice.apply(Ee,[Ve,1].concat(f(Fe))),Ve+=Fe.length-1,Re.splice.apply(Re,[Ne,1].concat(f(Be))),Ne+=Be.length-1}ke.splice.apply(ke,[Ie,1].concat(Re)),Ie+=Re.length-1}ve.splice.apply(ve,[Se,1].concat(Ee)),Se+=Ee.length-1}var Ue=P(ve)-P(ye),Ke=P(ke)-P(be);return Ke<Ue?w(ke,Ue-Ke):Ue<Ke&&w(ve,Ke-Ue),{deltasA:ve,deltasB:ke}}};u.default=me},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}function f(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function h(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function P(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function N(F,D){for(var L=0,q;L<D.length;L++)q=D[L],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(F,q.key,q)}return function(F,D,L){return D&&N(F.prototype,D),L&&N(F,L),F}}(),M=s(111),C=d(M),O=s(15),T=s(16),S=d(T),E=s(44),I=d(E),R=s(21),V=function(N){function F(){return f(this,F),h(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return P(F,N),w(F,null,[{key:'className',get:function(){return'engine.model.delta.WeakInsertDelta'}}]),F}(C.default);u.default=V,(0,O.register)('weakInsert',function(N,F){var D=new V;this.addDelta(D),F=(0,R.normalizeNodes)(F);var L=!0,q=!1,z;try{for(var W=F[Symbol.iterator](),H,U;!(L=(H=W.next()).done);L=!0)U=H.value,U.setAttributesTo(this.document.selection.getAttributes())}catch($){q=!0,z=$}finally{try{!L&&W.return&&W.return()}finally{if(q)throw z}}var K=new I.default(N,F,this.document.version);return D.addOperation(K),this.document.applyOperation(K),this}),S.default.register(V)},function(r,u,s){'use strict';function d(q){return q&&q.__esModule?q:{default:q}}function f(q,z){if(!(q instanceof z))throw new TypeError('Cannot call a class as a function')}function h(q,z){if(!q)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return z&&('object'==typeof z||'function'==typeof z)?z:q}function P(q,z){if('function'!=typeof z&&null!==z)throw new TypeError('Super expression must either be null or a function, not '+typeof z);q.prototype=Object.create(z&&z.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(q,z):q.__proto__=z)}function w(){var q=this,z=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document,'change',function(W,H,U){z.has(H)&&M.call(q,H,U.range,U.sourcePosition)},{priority:'high'})}function M(q,z,W){var H=z.end.offset-z.start.offset,U;switch(q){case'insert':var K='sticksToNext'==this.stickiness;U=this._getTransformedByInsertion(z.start,H,K);break;case'move':case'remove':case'reinsert':var $=E.default.createFromPositionAndShift(W,H),J=$.containsPosition(this)||$.start.isEqual(this)&&'sticksToNext'==this.stickiness||$.end.isEqual(this)&&'sticksToPrevious'==this.stickiness;if(J)U=this._getCombined(W,z.start);else{var G='sticksToNext'==this.stickiness;U=this._getTransformedByMove(W,z.start,H,G)}}if(!this.isEqual(U)){var Q=T.default.createFromPosition(this);this.path=U.path,this.root=U.root,this.fire('change',Q)}}Object.defineProperty(u,'__esModule',{value:!0});var C=function(){function q(z,W){for(var H=0,U;H<W.length;H++)U=W[H],U.enumerable=U.enumerable||!1,U.configurable=!0,'value'in U&&(U.writable=!0),Object.defineProperty(z,U.key,U)}return function(z,W,H){return W&&q(z.prototype,W),H&&q(z,H),z}}(),O=s(1),T=d(O),S=s(3),E=d(S),I=s(9),R=d(I),V=s(4),N=d(V),F=s(0),D=d(F),L=function(q){function z(W,H,U){f(this,z);var K=h(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,W,H));if(!K.root.is('rootElement'))throw new D.default('model-liveposition-root-not-rootelement: LivePosition root has to be an instance of RootElement.');return K.stickiness=U||'sticksToNext',w.call(K),K}return P(z,q),C(z,[{key:'detach',value:function(){this.stopListening()}}]),z}(T.default);u.default=L,(0,N.default)(L,R.default)},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}function f(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function h(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function P(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}function w(){return null}Object.defineProperty(u,'__esModule',{value:!0});var M=function(){function N(F,D){for(var L=0,q;L<D.length;L++)q=D[L],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(F,q.key,q)}return function(F,D,L){return D&&N(F.prototype,D),L&&N(F,L),F}}(),C=function N(F,D,L){null===F&&(F=Function.prototype);var q=Object.getOwnPropertyDescriptor(F,D);if(q===void 0){var z=Object.getPrototypeOf(F);return null===z?void 0:N(z,D,L)}if('value'in q)return q.value;var W=q.get;return void 0===W?void 0:W.call(L)},O=s(28),T=d(O),S=s(0),E=d(S),I=s(83),R=d(I),V=function(N){function F(D,L,q){f(this,F);var z=h(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,D,L,q));return z.getFillerOffset=w,z}return P(F,N),M(F,[{key:'is',value:function(L){var q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return q?'emptyElement'==L&&q==this.name||C(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),'is',this).call(this,L,q):'emptyElement'==L||C(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),'is',this).call(this,L)}},{key:'insertChildren',value:function(L,q){if(q&&(q instanceof R.default||0<Array.from(q).length))throw new E.default('view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.')}}]),F}(T.default);u.default=V},function(r,u){'use strict';function d(T,S){if(!(T instanceof S))throw new TypeError('Cannot call a class as a function')}function f(T,S){if('function'==typeof S)return S(T);var E={};return S.name&&(E.name=h(S.name,T.name),!E.name)?null:S.attribute&&(E.attribute=P(S.attribute,T),!E.attribute)?null:S.class&&(E.class=w(S.class,T),!E.class)?!1:S.style&&(E.style=M(S.style,T),!E.style)?!1:E}function h(T,S){return T instanceof RegExp?T.test(S):T===S}function P(T,S){var E=[];for(var I in T){var R=T[I];if(S.hasAttribute(I)){var V=S.getAttribute(I);if(R instanceof RegExp){if(R.test(V))E.push(I);else return null;}else if(V===R)E.push(I);else return null}else return null}return E}function w(T,S){var E=[],I=!0,R=!1,V;try{for(var N=T[Symbol.iterator](),F,D;!(I=(F=N.next()).done);I=!0)if(D=F.value,D instanceof RegExp){var L=S.getClassNames(),q=!0,z=!1,W=void 0;try{for(var H=L[Symbol.iterator](),U,K;!(q=(U=H.next()).done);q=!0)K=U.value,D.test(K)&&E.push(K)}catch($){z=!0,W=$}finally{try{!q&&H.return&&H.return()}finally{if(z)throw W}}if(0===E.length)return null}else if(S.hasClass(D))E.push(D);else return null}catch($){R=!0,V=$}finally{try{!I&&N.return&&N.return()}finally{if(R)throw V}}return E}function M(T,S){var E=[];for(var I in T){var R=T[I];if(S.hasStyle(I)){var V=S.getStyle(I);if(R instanceof RegExp){if(R.test(V))E.push(I);else return null;}else if(V===R)E.push(I);else return null}else return null}return E}Object.defineProperty(u,'__esModule',{value:!0});var C=function(){function T(S,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}return function(S,E,I){return E&&T(S.prototype,E),I&&T(S,I),S}}(),O=function(){function T(){d(this,T),this._patterns=[],this.add.apply(this,arguments)}return C(T,[{key:'add',value:function(){for(var E=arguments.length,I=Array(E),R=0;R<E;R++)I[R]=arguments[R];var V=!0,N=!1,F;try{for(var D=I[Symbol.iterator](),L,q;!(V=(L=D.next()).done);V=!0)q=L.value,('string'==typeof q||q instanceof RegExp)&&(q={name:q}),q.class&&('string'==typeof q.class||q.class instanceof RegExp)&&(q.class=[q.class]),this._patterns.push(q)}catch(z){N=!0,F=z}finally{try{!V&&D.return&&D.return()}finally{if(N)throw F}}}},{key:'match',value:function(){for(var E=arguments.length,I=Array(E),R=0;R<E;R++)I[R]=arguments[R];var V=!0,N=!1,F;try{for(var D=I[Symbol.iterator](),L;!(V=(L=D.next()).done);V=!0){var q=L.value,z=!0,W=!1,H=void 0;try{for(var U=this._patterns[Symbol.iterator](),K;!(z=(K=U.next()).done);z=!0){var $=K.value,S=f(q,$);if(S)return{element:q,pattern:$,match:S}}}catch(J){W=!0,H=J}finally{try{!z&&U.return&&U.return()}finally{if(W)throw H}}}}catch(J){N=!0,F=J}finally{try{!V&&D.return&&D.return()}finally{if(N)throw F}}return null}},{key:'matchAll',value:function(){for(var E=[],I=arguments.length,R=Array(I),V=0;V<I;V++)R[V]=arguments[V];var N=!0,F=!1,D;try{for(var L=R[Symbol.iterator](),q;!(N=(q=L.next()).done);N=!0){var z=q.value,W=!0,H=!1,U=void 0;try{for(var K=this._patterns[Symbol.iterator](),$;!(W=($=K.next()).done);W=!0){var J=$.value,G=f(z,J);G&&E.push({element:z,pattern:J,match:G})}}catch(Q){H=!0,U=Q}finally{try{!W&&K.return&&K.return()}finally{if(H)throw U}}}}catch(Q){F=!0,D=Q}finally{try{!N&&L.return&&L.return()}finally{if(F)throw D}}return 0<E.length?E:null}},{key:'getElementName',value:function(){if(1!==this._patterns.length)return null;var E=this._patterns[0],I=E.name;return'function'!=typeof E&&I&&!(I instanceof RegExp)?I:null}}]),T}();u.default=O},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}function f(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function h(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function P(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function N(F,D){for(var L=0,q;L<D.length;L++)q=D[L],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(F,q.key,q)}return function(F,D,L){return D&&N(F.prototype,D),L&&N(F,L),F}}(),M=function N(F,D,L){null===F&&(F=Function.prototype);var q=Object.getOwnPropertyDescriptor(F,D);if(q===void 0){var z=Object.getPrototypeOf(F);return null===z?void 0:N(z,D,L)}if('value'in q)return q.value;var W=q.get;return void 0===W?void 0:W.call(L)},C=s(54),O=d(C),T=s(84),S=d(T),E=s(64),I=s(495),R=d(I),V=function(N){function F(D){f(this,F);var L=h(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,D));return L._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},L.domConverter=D.domConverter,L.renderer=D.renderer,L._domElements=[],L._mutationObserver=new window.MutationObserver(L._onMutations.bind(L)),L}return P(F,N),w(F,[{key:'flush',value:function(){this._onMutations(this._mutationObserver.takeRecords())}},{key:'observe',value:function(L){this._domElements.push(L),this.isEnabled&&this._mutationObserver.observe(L,this._config)}},{key:'enable',value:function(){M(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),'enable',this).call(this);var L=!0,q=!1,z;try{for(var W=this._domElements[Symbol.iterator](),H,U;!(L=(H=W.next()).done);L=!0)U=H.value,this._mutationObserver.observe(U,this._config)}catch(K){q=!0,z=K}finally{try{!L&&W.return&&W.return()}finally{if(q)throw z}}}},{key:'disable',value:function(){M(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),'disable',this).call(this),this._mutationObserver.disconnect()}},{key:'destroy',value:function(){M(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),'destroy',this).call(this),this._mutationObserver.disconnect()}},{key:'_onMutations',value:function(L){function q(Ce,Oe){if(!Array.isArray(Ce))return Ce===Oe||Ce.is('text')&&Oe.is('text')&&Ce.data===Oe.data}if(0!==L.length){var z=this.domConverter,W=new Map,H=new Set,U=!0,K=!1,$;try{for(var J=L[Symbol.iterator](),G,Q;!(U=(G=J.next()).done);U=!0)if(Q=G.value,'childList'===Q.type){var Y=z.mapDomToView(Q.target);if(Y&&Y.is('uiElement'))continue;Y&&!this._isBogusBrMutation(Q)&&H.add(Y)}}catch(Ce){K=!0,$=Ce}finally{try{!U&&J.return&&J.return()}finally{if(K)throw $}}var X=!0,Z=!1,ee;try{for(var te=L[Symbol.iterator](),re;!(X=(re=te.next()).done);X=!0){var ae=re.value,Y=z.mapDomToView(ae.target);if(!(Y&&Y.is('uiElement'))&&'characterData'===ae.type){var oe=z.findCorrespondingViewText(ae.target);oe&&!H.has(oe.parent)?W.set(oe,{type:'text',oldText:oe.data,newText:(0,E.getDataWithoutFiller)(ae.target),node:oe}):!oe&&(0,E.startsWithFiller)(ae.target)&&H.add(z.mapDomToView(ae.target.parentNode))}}}catch(Ce){Z=!0,ee=Ce}finally{try{!X&&te.return&&te.return()}finally{if(Z)throw ee}}var ne=[],le=!0,ue=!1,ie;try{for(var se=W.values()[Symbol.iterator](),de,fe;!(le=(de=se.next()).done);le=!0)fe=de.value,this.renderer.markToSync('text',fe.node),ne.push(fe)}catch(Ce){ue=!0,ie=Ce}finally{try{!le&&se.return&&se.return()}finally{if(ue)throw ie}}var ce=!0,pe=!1,me;try{for(var ge=H[Symbol.iterator](),ye;!(ce=(ye=ge.next()).done);ce=!0){var be=ye.value,he=z.mapViewToDom(be),ve=Array.from(be.getChildren()),ke=Array.from(z.domChildrenToView(he));(0,R.default)(ve,ke,q)||(this.renderer.markToSync('children',be),ne.push({type:'children',oldChildren:ve,newChildren:ke,node:be}))}}catch(Ce){pe=!0,me=Ce}finally{try{!ce&&ge.return&&ge.return()}finally{if(pe)throw me}}var Pe=L[0].target.ownerDocument.getSelection(),we=null;if(Pe&&Pe.anchorNode){var xe=z.domPositionToView(Pe.anchorNode,Pe.anchorOffset),Me=z.domPositionToView(Pe.focusNode,Pe.focusOffset);xe&&Me&&(we=new S.default,we.collapse(xe),we.setFocus(Me))}this.document.fire('mutations',ne,we),this.document.render()}}},{key:'_isBogusBrMutation',value:function(L){var q=null;return null===L.nextSibling&&0===L.removedNodes.length&&1==L.addedNodes.length&&(q=this.domConverter.domToView(L.addedNodes[0],{withChildren:!1})),q&&q.is('element','br')}}]),F}(O.default);u.default=V},function(r,u,s){'use strict';function f(E,I){if(!(E instanceof I))throw new TypeError('Cannot call a class as a function')}function h(E,I){if(!E)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return I&&('object'==typeof I||'function'==typeof I)?I:E}function P(E,I){if('function'!=typeof I&&null!==I)throw new TypeError('Super expression must either be null or a function, not '+typeof I);E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(E,I):E.__proto__=I)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function E(I,R){for(var V=0,N;V<R.length;V++)N=R[V],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}return function(I,R,V){return R&&E(I.prototype,R),V&&E(I,V),I}}(),M=function E(I,R,V){null===I&&(I=Function.prototype);var N=Object.getOwnPropertyDescriptor(I,R);if(N===void 0){var F=Object.getPrototypeOf(I);return null===F?void 0:E(F,R,V)}if('value'in N)return N.value;var D=N.get;return void 0===D?void 0:D.call(V)},C=s(82),O=function(E){return E&&E.__esModule?E:{default:E}}(C),T=Symbol('rootName'),S=function(E){function I(R){f(this,I);var V=h(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,R));return V.rootName='main',V}return P(I,E),w(I,[{key:'is',value:function(V){var N=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return N?'rootElement'==V&&N==this.name||M(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),'is',this).call(this,V,N):'rootElement'==V||M(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),'is',this).call(this,V)}},{key:'rootName',get:function(){return this.getCustomProperty(T)},set:function(V){this.setCustomProperty(T,V)}}]),I}(O.default);u.default=S},function(r,u,s){'use strict';function d(H){return H&&H.__esModule?H:{default:H}}function f(H,U){if(!(H instanceof U))throw new TypeError('Cannot call a class as a function')}function h(H,U){if(!H)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return U&&('object'==typeof U||'function'==typeof U)?U:H}function P(H,U){if('function'!=typeof U&&null!==U)throw new TypeError('Super expression must either be null or a function, not '+typeof U);H.prototype=Object.create(U&&U.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(H,U):H.__proto__=U)}function w(){return new L.default('figure',{class:'image'},new z.default('img'))}Object.defineProperty(u,'__esModule',{value:!0});var M=function(){function H(U,K){for(var $=0,J;$<K.length;$++)J=K[$],J.enumerable=J.enumerable||!1,J.configurable=!0,'value'in J&&(J.writable=!0),Object.defineProperty(U,J.key,J)}return function(U,K,$){return K&&H(U.prototype,K),$&&H(U,$),U}}();u.createImageViewElement=w;var C=s(2),O=d(C),T=s(43),S=d(T),E=s(34),I=d(E),R=s(340),V=s(39),N=s(6),F=d(N),D=s(45),L=d(D),q=s(166),z=d(q),W=function(H){function U(){return f(this,U),h(this,(U.__proto__||Object.getPrototypeOf(U)).apply(this,arguments))}return P(U,H),M(U,[{key:'init',value:function(){var $=this.editor,J=$.document,G=J.schema,Q=$.data,Y=$.editing,X=$.t;G.registerItem('image'),G.requireAttributes('image',['src']),G.allow({name:'image',attributes:['alt','src','srcset'],inside:'$root'}),G.objects.add('image'),(0,S.default)().for(Q.modelToView).fromElement('image').toElement(function(){return w()}),(0,S.default)().for(Y.modelToView).fromElement('image').toElement(function(){return(0,V.toImageWidget)(w(),X('image widget'))}),(0,R.createImageAttributeConverter)([Y.modelToView,Q.modelToView],'src'),(0,R.createImageAttributeConverter)([Y.modelToView,Q.modelToView],'alt'),(0,R.createImageAttributeConverter)([Y.modelToView,Q.modelToView],'srcset',function(Z,ee){'removeAttribute'==ee?Z.removeAttribute('sizes'):Z.setAttribute('sizes','100vw')}),(0,I.default)().for(Q.viewToModel).from({name:'img',attribute:{src:/./}}).toElement(function(Z){return new F.default('image',{src:Z.getAttribute('src')})}),Q.viewToModel.on('element:img',R.convertHoistableImage,{priority:'low'}),Q.viewToModel.on('element',R.hoistImageThroughElement,{priority:'low'}),(0,I.default)().for(Q.viewToModel).from({name:'img',attribute:{alt:/./}}).consuming({attribute:['alt']}).toAttribute(function(Z){return{key:'alt',value:Z.getAttribute('alt')}}),(0,I.default)().for(Q.viewToModel).from({name:'img',attribute:{srcset:/./}}).consuming({attribute:['srcset']}).toAttribute(function(Z){return{key:'srcset',value:Z.getAttribute('srcset')}}),Q.viewToModel.on('element:figure',(0,R.viewFigureToModel)())}}]),U}(O.default);u.default=W},function(r,u,s){'use strict';function h(C){var O=C.editing.view,T=w.default.defaultPositions;return{target:O.domConverter.viewToDom(O.selection.getSelectedElement()),positions:[T.northArrowSouth,T.southArrowNorth]}}Object.defineProperty(u,'__esModule',{value:!0}),u.repositionContextualBalloon=function(C){var O=C.editing.view,T=C.plugins.get('ContextualBalloon'),S=O.selection.getSelectedElement();if(S&&(0,M.isImageWidget)(S)){var E=h(C);T.updatePosition(E)}},u.getBalloonPositionData=h;var P=s(180),w=function(C){return C&&C.__esModule?C:{default:C}}(P),M=s(39)},function(r,u,s){'use strict';function d(O){return O&&O.__esModule?O:{default:O}}function h(O,T,S){for(var E=O.textNode||(S?O.nodeBefore:O.nodeAfter),I=null;E&&E.getAttribute('linkHref')==T;)I=E,E=S?E.previousSibling:E.nextSibling;return I?C.default.createAt(I,S?'before':'after'):O}Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(O,T){return new w.default(h(O,T,!0),h(O,T,!1))};var P=s(3),w=d(P),M=s(1),C=d(M)},function(r,u,s){'use strict';function f(O,T){if(!(O instanceof T))throw new TypeError('Cannot call a class as a function')}function h(O,T){if(!O)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return T&&('object'==typeof T||'function'==typeof T)?T:O}function P(O,T){if('function'!=typeof T&&null!==T)throw new TypeError('Super expression must either be null or a function, not '+typeof T);O.prototype=Object.create(T&&T.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(O,T):O.__proto__=T)}Object.defineProperty(u,'__esModule',{value:!0});var w=s(118),M=function(O){return O&&O.__esModule?O:{default:O}}(w),C=function(O){function T(){return f(this,T),h(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return P(T,O),T}(M.default);u.default=C},function(r,u,s){'use strict';function f(C,O){if(!(C instanceof O))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function C(O,T){for(var S=0,E;S<T.length;S++)E=T[S],E.enumerable=E.enumerable||!1,E.configurable=!0,'value'in E&&(E.writable=!0),Object.defineProperty(O,E.key,E)}return function(O,T,S){return T&&C(O.prototype,T),S&&C(O,S),O}}(),P=s(126),w=function(C){return C&&C.__esModule?C:{default:C}}(P),M=function(){function C(O){var T=this,S=1<arguments.length&&void 0!==arguments[1]?arguments[1]:20;f(this,C),this.document=O,this.size=0,this.limit=S,this.isLocked=!1,this._changeCallback=function(E,I,R,V){T._onBatch(V)},this._selectionChangeCallback=function(){T._reset()},O.on('change',this._changeCallback),O.selection.on('change:range',this._selectionChangeCallback),O.selection.on('change:attribute',this._selectionChangeCallback)}return h(C,[{key:'input',value:function(T){this.size+=T,this.size>=this.limit&&this._reset(!0)}},{key:'lock',value:function(){this.isLocked=!0}},{key:'unlock',value:function(){this.isLocked=!1}},{key:'destroy',value:function(){this.document.off('change',this._changeCallback),this.document.selection.off('change:range',this._selectionChangeCallback),this.document.selection.off('change:attribute',this._selectionChangeCallback)}},{key:'_onBatch',value:function(T){'transparent'!=T.type&&T!==this._batch&&1>=(0,w.default)(T.getOperations())&&this._reset(!0)}},{key:'_reset',value:function(T){(!this.isLocked||T)&&(this._batch=null,this.size=0)}},{key:'batch',get:function(){return this._batch||(this._batch=this.document.batch()),this._batch}}]),C}();u.default=M},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){var h=f.emitter,P=f.activator,w=f.callback,M=f.contextElements;h.listenTo(document,'mousedown',function(C,O){var T=O.target;if(P()){var S=!0,E=!1,I;try{for(var R=M[Symbol.iterator](),V,N;!(S=(V=R.next()).done);S=!0)if(N=V.value,N.contains(T))return}catch(F){E=!0,I=F}finally{try{!S&&R.return&&R.return()}finally{if(E)throw I}}w()}})}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){return f.bindTemplate.to(function(h){h.target===f.element&&h.preventDefault()})}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){var h=f.view;h.listenTo(h.element,'submit',function(P,w){w.preventDefault(),h.fire('submit')},{useCapture:!0})}},function(r,u,s){'use strict';function d(E){return E&&E.__esModule?E:{default:E}}function f(E,I){if(!(E instanceof I))throw new TypeError('Cannot call a class as a function')}function h(E,I){if(!E)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return I&&('object'==typeof I||'function'==typeof I)?I:E}function P(E,I){if('function'!=typeof I&&null!==I)throw new TypeError('Super expression must either be null or a function, not '+typeof I);E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(E,I):E.__proto__=I)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function E(I,R){for(var V=0,N;V<R.length;V++)N=R[V],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}return function(I,R,V){return R&&E(I.prototype,R),V&&E(I,V),I}}(),M=s(7),C=d(M),O=s(5),T=d(O),S=function(E){function I(R){f(this,I);var V=h(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,R));V.set('value'),V.set('id'),V.set('placeholder'),V.set('isReadOnly',!1);var N=V.bindTemplate;return V.template=new T.default({tag:'input',attributes:{type:'text',class:['ck-input','ck-input-text'],id:N.to('id'),placeholder:N.to('placeholder'),readonly:N.to('isReadOnly')}}),V.on('change:value',function(F,D,L){V.element.value=L||''}),V}return P(I,E),w(I,[{key:'select',value:function(){this.element.select()}},{key:'focus',value:function(){this.element.focus()}}]),I}(C.default);u.default=S},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}function f(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function h(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function P(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function N(F,D){for(var L=0,q;L<D.length;L++)q=D[L],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(F,q.key,q)}return function(F,D,L){return D&&N(F.prototype,D),L&&N(F,L),F}}(),M=s(7),C=d(M),O=s(5),T=d(O),S=s(72),E=d(S),I=s(382),R=d(I),V=function(N){function F(D,L){f(this,F);var q=h(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,D)),z='ck-input-'+(0,E.default)();q.set('label'),q.set('value'),q.set('isReadOnly',!1),q.labelView=q._createLabelView(z),q.inputView=q._createInputView(L,z);var W=q.bindTemplate;return q.template=new T.default({tag:'div',attributes:{class:[W.if('isReadOnly','ck-disabled')]},children:[q.labelView,q.inputView]}),q}return P(F,N),w(F,[{key:'_createLabelView',value:function(L){var q=new R.default(this.locale);return q.for=L,q.bind('text').to(this,'label'),q}},{key:'_createInputView',value:function(L,q){var z=new L(this.locale);return z.id=q,z.bind('value').to(this),z.bind('isReadOnly').to(this),z}},{key:'select',value:function(){this.inputView.select()}},{key:'focus',value:function(){this.inputView.focus()}}]),F}(C.default);u.default=V},function(r,u,s){'use strict';function d(J){return J&&J.__esModule?J:{default:J}}function f(J,G){if(!(J instanceof G))throw new TypeError('Cannot call a class as a function')}function h(J,G){if(!J)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return G&&('object'==typeof G||'function'==typeof G)?G:J}function P(J,G){if('function'!=typeof G&&null!==G)throw new TypeError('Super expression must either be null or a function, not '+typeof G);J.prototype=Object.create(G&&G.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(J,G):J.__proto__=G)}function w(J,G){return J.top-G.height-$.arrowVerticalOffset}function M(J){return J.bottom+$.arrowVerticalOffset}Object.defineProperty(u,'__esModule',{value:!0});var C=function(){function J(G,Q){for(var Y=0,X;Y<Q.length;Y++)X=Q[Y],X.enumerable=X.enumerable||!1,X.configurable=!0,'value'in X&&(X.writable=!0),Object.defineProperty(G,X.key,X)}return function(G,Q,Y){return Q&&J(G.prototype,Q),Y&&J(G,Y),G}}(),O=s(7),T=d(O),S=s(5),E=d(S),I=s(402),R=s(185),V=d(R),N=s(231),F=d(N),D=s(186),L=d(D),q=s(176),z=d(q),W=s(46),H=d(W),U=(0,L.default)('px'),K=H.default.document.body,$=function(J){function G(Q){f(this,G);var Y=h(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,Q)),X=Y.bindTemplate;return Y.set('top',0),Y.set('left',0),Y.set('position','arrow_nw'),Y.set('isVisible',!1),Y.set('withArrow',!0),Y.set('className'),Y.content=Y.createCollection(),Y.template=new E.default({tag:'div',attributes:{class:['ck-balloon-panel',X.to('position',function(Z){return'ck-balloon-panel_'+Z}),X.if('isVisible','ck-balloon-panel_visible'),X.if('withArrow','ck-balloon-panel_with-arrow'),X.to('className')],style:{top:X.to('top',U),left:X.to('left',U)}},children:Y.content,on:{mousedown:(0,z.default)(Y),selectstart:X.to(function(Z){return Z.preventDefault()})}}),Y}return P(G,J),C(G,[{key:'show',value:function(){this.isVisible=!0}},{key:'hide',value:function(){this.isVisible=!1}},{key:'attachTo',value:function(Y){this.show();var X=G.defaultPositions,Z=Object.assign({},{element:this.element,positions:[X.southArrowNorthWest,X.southArrowNorthEast,X.northArrowSouthWest,X.northArrowSouthEast],limiter:K,fitInViewport:!0},Y),ee=(0,I.getOptimalPosition)(Z),te=ee.top,re=ee.left,ae=ee.name;Object.assign(this,{top:te,left:re,position:ae})}},{key:'pin',value:function(Y){var X=this;this.unpin(),this._pinWhenIsVisibleCallback=function(){X.isVisible?X._startPinning(Y):X._stopPinning()},this._startPinning(Y),this.listenTo(this,'change:isVisible',this._pinWhenIsVisibleCallback)}},{key:'unpin',value:function(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,'change:isVisible',this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}},{key:'_startPinning',value:function(Y){var X=this;this.attachTo(Y);var Z=Y.limiter||K,ee=null;(0,F.default)(Y.target)?ee=Y.target:(0,V.default)(Y.target)&&(ee=Y.target.commonAncestorContainer),this.listenTo(H.default.document,'scroll',function(te,re){var ae=re.target,oe=ee&&ae.contains(ee),ne=ae.contains(Z);(oe||ne||!ee)&&X.attachTo(Y)},{useCapture:!0}),this.listenTo(H.default.window,'resize',function(){X.attachTo(Y)})}},{key:'_stopPinning',value:function(){this.stopListening(H.default.document,'scroll'),this.stopListening(H.default.window,'resize')}}]),G}(T.default);u.default=$,$.arrowHorizontalOffset=30,$.arrowVerticalOffset=15,$.defaultPositions={northArrowSouth:function(G,Q){return{top:w(G,Q),left:G.left+G.width/2-Q.width/2,name:'arrow_s'}},northArrowSouthEast:function(G,Q){return{top:w(G,Q),left:G.left+G.width/2-Q.width+$.arrowHorizontalOffset,name:'arrow_se'}},northArrowSouthWest:function(G,Q){return{top:w(G,Q),left:G.left+G.width/2-$.arrowHorizontalOffset,name:'arrow_sw'}},northWestArrowSouth:function(G,Q){return{top:w(G,Q),left:G.left-Q.width/2,name:'arrow_s'}},northWestArrowSouthWest:function(G,Q){return{top:w(G,Q),left:G.left-$.arrowHorizontalOffset,name:'arrow_sw'}},northWestArrowSouthEast:function(G,Q){return{top:w(G,Q),left:G.left-Q.width+$.arrowHorizontalOffset,name:'arrow_se'}},northEastArrowSouth:function(G,Q){return{top:w(G,Q),left:G.right-Q.width/2,name:'arrow_s'}},northEastArrowSouthEast:function(G,Q){return{top:w(G,Q),left:G.right-Q.width+$.arrowHorizontalOffset,name:'arrow_se'}},northEastArrowSouthWest:function(G,Q){return{top:w(G,Q),left:G.right-$.arrowHorizontalOffset,name:'arrow_sw'}},southArrowNorth:function(G,Q){return{top:M(G,Q),left:G.left+G.width/2-Q.width/2,name:'arrow_n'}},southArrowNorthEast:function(G,Q){return{top:M(G,Q),left:G.left+G.width/2-Q.width+$.arrowHorizontalOffset,name:'arrow_ne'}},southArrowNorthWest:function(G,Q){return{top:M(G,Q),left:G.left+G.width/2-$.arrowHorizontalOffset,name:'arrow_nw'}},southWestArrowNorth:function(G,Q){return{top:M(G,Q),left:G.left-Q.width/2,name:'arrow_n'}},southWestArrowNorthWest:function(G,Q){return{top:M(G,Q),left:G.left-$.arrowHorizontalOffset,name:'arrow_nw'}},southWestArrowNorthEast:function(G,Q){return{top:M(G,Q),left:G.left-Q.width+$.arrowHorizontalOffset,name:'arrow_ne'}},southEastArrowNorth:function(G,Q){return{top:M(G,Q),left:G.right-Q.width/2,name:'arrow_n'}},southEastArrowNorthEast:function(G,Q){return{top:M(G,Q),left:G.right-Q.width+$.arrowHorizontalOffset,name:'arrow_ne'}},southEastArrowNorthWest:function(G,Q){return{top:M(G,Q),left:G.right-$.arrowHorizontalOffset,name:'arrow_nw'}}}},function(r,u,s){'use strict';function d(H){return H&&H.__esModule?H:{default:H}}function f(H,U){if(!(H instanceof U))throw new TypeError('Cannot call a class as a function')}function h(H,U){if(!H)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return U&&('object'==typeof U||'function'==typeof U)?U:H}function P(H,U){if('function'!=typeof U&&null!==U)throw new TypeError('Super expression must either be null or a function, not '+typeof U);H.prototype=Object.create(U&&U.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(H,U):H.__proto__=U)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function H(U,K){for(var $=0,J;$<K.length;$++)J=K[$],J.enumerable=J.enumerable||!1,J.configurable=!0,'value'in J&&(J.writable=!0),Object.defineProperty(U,J.key,J)}return function(U,K,$){return K&&H(U.prototype,K),$&&H(U,$),U}}(),M=function H(U,K,$){null===U&&(U=Function.prototype);var J=Object.getOwnPropertyDescriptor(U,K);if(J===void 0){var G=Object.getPrototypeOf(U);return null===G?void 0:H(G,K,$)}if('value'in J)return J.value;var Q=J.get;return void 0===Q?void 0:Q.call($)},C=s(7),O=d(C),T=s(5),S=d(T),E=s(67),I=d(E),R=s(123),V=d(R),N=s(48),F=d(N),D=s(389),L=d(D),q=s(176),z=d(q),W=function(H){function U(K){f(this,U);var $=h(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,K));return $.items=$.createCollection(),$.focusTracker=new I.default,$.keystrokes=new F.default,$._focusCycler=new V.default({focusables:$.items,focusTracker:$.focusTracker,keystrokeHandler:$.keystrokes,actions:{focusPrevious:['arrowleft','arrowup'],focusNext:['arrowright','arrowdown']}}),$.template=new S.default({tag:'div',attributes:{class:['ck-toolbar']},children:$.items,on:{mousedown:(0,z.default)($)}}),$.items.on('add',function(J,G){$.focusTracker.add(G.element)}),$.items.on('remove',function(J,G){$.focusTracker.remove(G.element)}),$}return P(U,H),w(U,[{key:'init',value:function(){this.keystrokes.listenTo(this.element),M(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),'init',this).call(this)}},{key:'focus',value:function(){this._focusCycler.focusFirst()}},{key:'fillFromConfig',value:function($,J){var G=this;$&&$.map(function(Q){var Y='|'==Q?new L.default:J.create(Q);G.items.add(Y)})}}]),U}(O.default);u.default=W},function(r,u,s){'use strict';function f(I){if(Array.isArray(I)){for(var R=0,V=Array(I.length);R<I.length;R++)V[R]=I[R];return V}return Array.from(I)}function h(I,R){if(!(I instanceof R))throw new TypeError('Cannot call a class as a function')}function P(I,R){if(!I)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return R&&('object'==typeof R||'function'==typeof R)?R:I}function w(I,R){if('function'!=typeof R&&null!==R)throw new TypeError('Super expression must either be null or a function, not '+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}function M(I,R){var V=C([I],R);V.sort(function(L,q){return L.start.isBefore(q.start)?-1:1});for(var N=1;N<V.length;N++){var F=V[N-1],D=V[N];F.end.isTouching(D.start)&&(F.end=D.end,V.splice(N,1),N--)}return V}function C(I,R){var V=!0,N=!1,F;try{for(var D=R[Symbol.iterator](),L;!(V=(L=D.next()).done);V=!0){var q=L.value,z=!0,W=!1,H=void 0;try{for(var U=q.operations[Symbol.iterator](),K,$;!(z=(K=U.next()).done);z=!0){$=K.value;for(var J=0,G;J<I.length;J++){switch(G=void 0,$.type){case'insert':G=I[J]._getTransformedByInsertion($.position,$.nodes.maxOffset,!0);break;case'move':case'remove':case'reinsert':G=I[J]._getTransformedByMove($.sourcePosition,$.targetPosition,$.howMany,!0);}G&&(I.splice.apply(I,[J,1].concat(f(G))),J=J+G.length-1)}}}catch(Q){W=!0,H=Q}finally{try{!z&&U.return&&U.return()}finally{if(W)throw H}}}}catch(Q){N=!0,F=Q}finally{try{!V&&D.return&&D.return()}finally{if(N)throw F}}return I}Object.defineProperty(u,'__esModule',{value:!0});var O=function(){function I(R,V){for(var N=0,F;N<V.length;N++)F=V[N],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(R,F.key,F)}return function(R,V,N){return V&&I(R.prototype,V),N&&I(R,N),R}}();u.transformRangesByDeltas=C;var T=s(11),S=function(I){return I&&I.__esModule?I:{default:I}}(T),E=function(I){function R(V){h(this,R);var N=P(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,V));return N._stack=[],N._createdBatches=new WeakSet,N.refresh(),N}return w(R,I),O(R,[{key:'refresh',value:function(){this.isEnabled=0<this._stack.length}},{key:'addBatch',value:function(N){var F={ranges:Array.from(this.editor.document.selection.getRanges()),isBackward:this.editor.document.selection.isBackward};this._stack.push({batch:N,selection:F}),this.refresh()}},{key:'clearStack',value:function(){this._stack=[],this.refresh()}},{key:'_restoreSelection',value:function(N,F,D){var L=this.editor.document,q=[],z=!0,W=!1,H;try{for(var U=N[Symbol.iterator](),K;!(z=(K=U.next()).done);z=!0){var $=K.value,J=M($,D),G=J.find(function(Q){return Q.start.root!=L.graveyard});G&&q.push(G)}}catch(Q){W=!0,H=Q}finally{try{!z&&U.return&&U.return()}finally{if(W)throw H}}q.length&&L.selection.setRanges(q,F)}},{key:'_undo',value:function(N){var F=this.editor.document,D=F.batch();this._createdBatches.add(D);var L=N.deltas.slice();L.reverse();var q=!0,z=!1,W;try{for(var H=L[Symbol.iterator](),U;!(q=(U=H.next()).done);q=!0){var K=U.value,$=K.baseVersion+K.operations.length,J=Array.from(F.history.getDeltas($)),G=F.transformDeltas([K.getReversed()],J,!0),Q=G.deltasA,Y=!0,X=!1,Z=void 0;try{for(var ee=Q[Symbol.iterator](),te,re;!(Y=(te=ee.next()).done);Y=!0){re=te.value,re.baseVersion=F.version,D.addDelta(re);var ae=!0,oe=!1,ne=void 0;try{for(var le=re.operations[Symbol.iterator](),ue,ie;!(ae=(ue=le.next()).done);ae=!0)ie=ue.value,F.applyOperation(ie)}catch(se){oe=!0,ne=se}finally{try{!ae&&le.return&&le.return()}finally{if(oe)throw ne}}F.history.setDeltaAsUndone(K,re)}}catch(se){X=!0,Z=se}finally{try{!Y&&ee.return&&ee.return()}finally{if(X)throw Z}}}}catch(se){z=!0,W=se}finally{try{!q&&H.return&&H.return()}finally{if(z)throw W}}return D}}]),R}(S.default);u.default=E},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h,P){function w(F){var D=(R[F-1]===void 0?-1:R[F-1])+1,L=R[F+1]===void 0?-1:R[F+1],q=D>L?-1:1;I[F+q]&&(I[F]=I[F+q].slice(0)),I[F]||(I[F]=[]),I[F].push(D>L?M:C);for(var z=_Mathmax(D,L),W=z-F;W<T&&z<S&&P(f[W],h[z]);)W++,z++,I[F].push('equal');return z}P=P||function(F,D){return F===D};var M,C;if(h.length<f.length){var O=f;f=h,h=O,M='delete',C='insert'}else M='insert',C='delete';var T=f.length,S=h.length,E=S-T,I={},R={},V=0,N=void 0;do{for(N=-V;N<E;N++)R[N]=w(N);for(N=E+V;N>E;N--)R[N]=w(N);R[E]=w(E),V++}while(R[E]!==S);return I[E].slice(1)}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){for(var h=[];f&&f.nodeType!=Node.DOCUMENT_NODE;)h.unshift(f),f=f.parentNode;return h}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){return'[object Range]'==Object.prototype.toString.apply(f)}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){return function(h){return h+f}}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(57),h=d(f),P=s(32),w=d(P),M=(0,h.default)(w.default,'Map');u.default=M},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(57),h=d(f),P=s(32),w=d(P),M=(0,h.default)(w.default,'Set');u.default=M},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var f=s(32),h=function(w){return w&&w.__esModule?w:{default:w}}(f),P=h.default.Uint8Array;u.default=P},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h,P){var w=P.length;return 0===w?f.call(h):1===w?f.call(h,P[0]):2===w?f.call(h,P[0],P[1]):3===w?f.call(h,P[0],P[1],P[2]):f.apply(h,P)}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h,P,w){var M=-1,C=f.length;for(w&&C&&(P=f[++M]);++M<C;)P=h(P,f[M],M,f);return P}},function(r,u,s){'use strict';function d(Re){return Re&&Re.__esModule?Re:{default:Re}}function f(Re,Ve,Ne,Fe,Be,De,je){var Le;if(Fe&&(Le=De?Fe(Re,Be,De,je):Fe(Re)),void 0!==Le)return Le;if(!(0,re.default)(Re))return Re;var qe=(0,Q.default)(Re);if(!qe){var ze=(0,z.default)(Re),We=ze==de||ze==fe;if((0,X.default)(Re))return(0,I.default)(Re,Ve);if(ze==me||ze==ne||We&&!De){if((0,ee.default)(Re))return De?Re:{};if(Le=(0,J.default)(We?{}:Re),!Ve)return(0,F.default)(Re,(0,S.default)(Le,Re))}else{if(!Ie[ze])return De?Re:{};Le=(0,K.default)(Re,ze,f,Ve)}}else if(Le=(0,H.default)(Re),!Ve)return(0,V.default)(Re,Le);je||(je=new P.default);var He=je.get(Re);if(He)return He;if(je.set(Re,Le),!qe)var Ue=Ne?(0,L.default)(Re):(0,oe.default)(Re);return(0,M.default)(Ue||Re,function(Ke,$e){Ue&&($e=Ke,Ke=Re[$e]),(0,O.default)(Le,$e,f(Ke,Ve,Ne,Fe,$e,Re,je))}),Le}Object.defineProperty(u,'__esModule',{value:!0});var h=s(128),P=d(h),w=s(416),M=d(w),C=s(68),O=d(C),T=s(418),S=d(T),E=s(438),I=d(E),R=s(199),V=d(R),N=s(446),F=d(N),D=s(452),L=d(D),q=s(145),z=d(q),W=s(461),H=d(W),U=s(462),K=d(U),$=s(463),J=d($),G=s(12),Q=d(G),Y=s(493),X=d(Y),Z=s(99),ee=d(Z),te=s(17),re=d(te),ae=s(71),oe=d(ae),ne='[object Arguments]',de='[object Function]',fe='[object GeneratorFunction]',me='[object Object]',Ie={};Ie[ne]=Ie['[object Array]']=Ie['[object ArrayBuffer]']=Ie['[object DataView]']=Ie['[object Boolean]']=Ie['[object Date]']=Ie['[object Float32Array]']=Ie['[object Float64Array]']=Ie['[object Int8Array]']=Ie['[object Int16Array]']=Ie['[object Int32Array]']=Ie['[object Map]']=Ie['[object Number]']=Ie[me]=Ie['[object RegExp]']=Ie['[object Set]']=Ie['[object String]']=Ie['[object Symbol]']=Ie['[object Uint8Array]']=Ie['[object Uint8ClampedArray]']=Ie['[object Uint16Array]']=Ie['[object Uint32Array]']=!0,Ie['[object Error]']=Ie[de]=Ie['[object WeakMap]']=!1,u.default=f},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h,P){for(var w=f.length,M=P?w:-1;P?M--:++M<w;)if(h(f[M],M,f))return M;return-1}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&'function'==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?'symbol':typeof O},P=s(144),w=function(O){return O&&O.__esModule?O:{default:O}}(P),M=Object.prototype,C=M.hasOwnProperty;u.default=function(O,T){return C.call(O,T)||'object'==('undefined'==typeof O?'undefined':h(O))&&T in O&&null===(0,w.default)(O)}},function(r,u,s){'use strict';function d(D){return D&&D.__esModule?D:{default:D}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(97),P=d(h),w=s(41),M=d(w),C=s(58),O=d(C),T=s(18),S=d(T),E=s(477),I=d(E),R=s(59),V=d(R),N=Array.prototype,F=N.splice;u.default=function(D,L){for(var q=D?L.length:0,z=q-1,W;q--;)if(W=L[q],q==z||W!==H){var H=W;if((0,M.default)(W))F.call(D,W,1);else if(!(0,O.default)(W,D)){var U=(0,P.default)(W),K=(0,I.default)(D,U);null!=K&&delete K[(0,V.default)((0,S.default)(U))]}else delete D[(0,V.default)(W)]}return D}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(60),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M){for(var C=-1,O=w.length,T=0,S=[];++C<O;){var E=w[C],I=M?M(E):E;if(!C||!(0,P.default)(I,R)){var R=I;S[T++]=0===E?0:E}}return S}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h){for(var P=-1,w=Array(f);++P<f;)w[P]=h(P);return w}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h,P){for(var w=-1,M=f.length,C=h.length,O={},T;++w<M;)T=w<C?h[w]:void 0,P(O,f[w],T);return O}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h){var P=-1,w=f.length;for(h||(h=Array(w));++P<w;)h[P]=f[P];return h}},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(90),P=d(h),w=s(417),M=d(w);u.default=function(T,S,E,I,R,V){var N=R&2,F=T.length,D=S.length;if(F!=D&&!(N&&D>F))return!1;var L=V.get(T);if(L)return L==S;var q=-1,z=!0,W=R&1?new P.default:void 0;for(V.set(T,S);++q<F;){var H=T[q],U=S[q];if(I)var K=N?I(U,H,q,S,T,V):I(H,U,q,T,S,V);if(void 0!==K){if(K)continue;z=!1;break}if(W){if(!(0,M.default)(S,function($,J){if(!W.has(J)&&(H===$||E(H,$,I,R,V)))return W.add(J)})){z=!1;break}}else if(!(H===U||E(H,U,I,R,V))){z=!1;break}}return V['delete'](T),z}},function(r,u){'use strict';function d(h){return f(Object(h))}Object.defineProperty(u,'__esModule',{value:!0});var f=Object.getOwnPropertySymbols;f||(d=function(){return[]}),u.default=d},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(197),P=d(h),w=s(150),M=d(w),C=s(12),O=d(C),T=s(105),S=d(T),E=s(152),I=d(E);u.default=function(R){var V=R?R.length:void 0;return(0,S.default)(V)&&((0,O.default)(R)||(0,I.default)(R)||(0,M.default)(R))?(0,P.default)(V,String):null}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h,P){for(var w=f.length,M=h+(P?0:-1),C;P?M--:++M<w;)if(C=f[M],C!==C)return M;return-1}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(17),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w){return w===w&&!(0,P.default)(w)}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h){return function(P){return null!=P&&P[f]===h&&(h!==void 0||f in Object(P))}}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var f=Function.prototype.toString;u.default=function(h){if(null!=h){try{return f.call(h)}catch(P){}try{return h+''}catch(P){}}return''}},function(r,u,s){'use strict';function d(E){return E&&E.__esModule?E:{default:E}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(40),P=d(h),w=s(100),M=d(w),C=s(14),O=d(C),T=Math.ceil;u.default=function(E,I,R){I=(R?(0,M.default)(E,I,R):void 0===I)?1:_Mathmax((0,O.default)(I),0);var V=E?E.length:0;if(!V||1>I)return[];for(var N=0,F=0,D=Array(T(V/I));N<V;)D[F++]=(0,P.default)(E,N,N+=I);return D}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){for(var h=-1,P=f?f.length:0,w=0,M=[],C;++h<P;)C=f[h],C&&(M[w++]=C);return M}},function(r,u,s){'use strict';function d(E){return E&&E.__esModule?E:{default:E}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(92),P=d(h),w=s(25),M=d(w),C=s(199),O=d(C),T=s(12),S=d(T);u.default=function(){for(var E=arguments.length,I=Array(E?E-1:0),R=arguments[0],V=E;V--;)I[V-1]=arguments[V];return E?(0,P.default)((0,S.default)(R)?(0,O.default)(R):[R],(0,M.default)(I,1)):[]}},function(r,u,s){'use strict';function d(I){return I&&I.__esModule?I:{default:I}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(17),P=d(h),w=s(500),M=d(w),C=s(256),O=d(C);u.default=function(I,R,V){function N(re){var ae=K,oe=$;return K=$=void 0,X=re,G=I.apply(oe,ae),G}function F(re){return X=re,Q=setTimeout(q,R),Z?N(re):G}function D(re){var ae=re-Y,oe=re-X,ne=R-ae;return ee?_Mathmin(ne,J-oe):ne}function L(re){var ae=re-Y,oe=re-X;return!Y||ae>=R||0>ae||ee&&oe>=J}function q(){var re=(0,M.default)();return L(re)?z(re):void(Q=setTimeout(q,D(re)))}function z(re){return(clearTimeout(Q),Q=void 0,te&&K)?N(re):(K=$=void 0,G)}function U(){var re=(0,M.default)(),ae=L(re);if(K=arguments,$=this,Y=re,ae){if(void 0===Q)return F(Y);if(ee)return clearTimeout(Q),Q=setTimeout(q,R),N(Y)}return void 0===Q&&(Q=setTimeout(q,R)),G}var Y=0,X=0,Z=!1,ee=!1,te=!0,K,$,J,G,Q;if('function'!=typeof I)throw new TypeError('Expected a function');return R=(0,O.default)(R)||0,(0,P.default)(V)&&(Z=!!V.leading,ee='maxWait'in V,J=ee?_Mathmax((0,O.default)(V.maxWait)||0,R):J,te='trailing'in V?!!V.trailing:te),U.cancel=function(){void 0!==Q&&clearTimeout(Q),Y=X=0,K=$=Q=void 0},U.flush=function(){return void 0===Q?G:z((0,M.default)())},U}},function(r,u,s){'use strict';function d(E){return E&&E.__esModule?E:{default:E}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(69),h=d(f),P=s(25),w=d(P),M=s(13),C=d(M),O=s(8),T=d(O),S=(0,T.default)(function(E,I){return(0,C.default)(E)?(0,h.default)(E,(0,w.default)(I,1,C.default,!0)):[]});u.default=S},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(69),h=d(f),P=s(25),w=d(P),M=s(10),C=d(M),O=s(13),T=d(O),S=s(18),E=d(S),I=s(8),R=d(I),V=(0,R.default)(function(N,F){var D=(0,E.default)(F);return(0,T.default)(D)&&(D=void 0),(0,T.default)(N)?(0,h.default)(N,(0,w.default)(F,1,T.default,!0),(0,C.default)(D)):[]});u.default=V},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(69),h=d(f),P=s(25),w=d(P),M=s(13),C=d(M),O=s(18),T=d(O),S=s(8),E=d(S),I=(0,E.default)(function(R,V){var N=(0,T.default)(V);return(0,C.default)(N)&&(N=void 0),(0,C.default)(R)?(0,h.default)(R,(0,w.default)(V,1,C.default,!0),void 0,N):[]});u.default=I},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(10),P=d(h),w=s(96),M=d(w);u.default=function(C,O){return C&&C.length?(0,M.default)(C,(0,P.default)(O,3),!0,!0):[]}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(10),P=d(h),w=s(96),M=d(w);u.default=function(C,O){return C&&C.length?(0,M.default)(C,(0,P.default)(O,3),!0):[]}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(422),P=d(h),w=s(100),M=d(w);u.default=function(C,O,T,S){var E=C?C.length:0;return E?(T&&'number'!=typeof T&&(0,M.default)(C,O,T)&&(T=0,S=E),(0,P.default)(C,O,T,S)):[]}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(193),P=d(h),w=s(10),M=d(w);u.default=function(C,O){return C&&C.length?(0,P.default)(C,(0,M.default)(O,3)):-1}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(193),P=d(h),w=s(10),M=d(w);u.default=function(C,O){return C&&C.length?(0,P.default)(C,(0,M.default)(O,3),!0):-1}},function(r,u,s){'use strict';function d(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(149);Object.defineProperty(u,'default',{enumerable:!0,get:function(){return d(f).default}})},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(25),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w){var M=w?w.length:0;return M?(0,P.default)(w,1):[]}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(25),P=function(M){return M&&M.__esModule?M:{default:M}}(h);u.default=function(M){var C=M?M.length:0;return C?(0,P.default)(M,1/0):[]}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(25),P=d(h),w=s(14),M=d(w);u.default=function(C,O){var T=C?C.length:0;return T?(O=void 0===O?1:(0,M.default)(O),(0,P.default)(C,O)):[]}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){for(var h=-1,P=f?f.length:0,w={},M;++h<P;)M=f[h],w[M[0]]=M[1];return w}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(132),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M,C){var O=null==w?void 0:(0,P.default)(w,M);return O===void 0?C:O}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){return f}},function(r,u,s){'use strict';function d(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(133),P=d(h),w=s(14),M=d(w);u.default=function(O,T,S){var E=O?O.length:0;return E?(S=(0,M.default)(S),0>S&&(S=_Mathmax(E+S,0)),(0,P.default)(O,T,S)):-1}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(148),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w){return(0,P.default)(w,1)}},function(r,u,s){'use strict';function d(E){return E&&E.__esModule?E:{default:E}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(29),h=d(f),P=s(134),w=d(P),M=s(141),C=d(M),O=s(8),T=d(O),S=(0,T.default)(function(E){var I=(0,h.default)(E,C.default);return I.length&&I[0]===E[0]?(0,w.default)(I):[]});u.default=S},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(29),h=d(f),P=s(134),w=d(P),M=s(10),C=d(M),O=s(141),T=d(O),S=s(18),E=d(S),I=s(8),R=d(I),V=(0,R.default)(function(N){var F=(0,E.default)(N),D=(0,h.default)(N,T.default);return F===(0,E.default)(D)?F=void 0:D.pop(),D.length&&D[0]===N[0]?(0,w.default)(D,(0,C.default)(F)):[]});u.default=V},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(29),h=d(f),P=s(134),w=d(P),M=s(141),C=d(M),O=s(18),T=d(O),S=s(8),E=d(S),I=(0,E.default)(function(R){var V=(0,T.default)(R),N=(0,h.default)(R,C.default);return V===(0,T.default)(N)?V=void 0:N.pop(),N.length&&N[0]===R[0]?(0,w.default)(N,void 0,V):[]});u.default=I},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(51),P=d(h),w=s(106),M=d(w);u.default=function(C){return!!C&&1===C.nodeType&&(0,P.default)(C)&&!(0,M.default)(C)}},function(r,u,s){'use strict';function d(D){return D&&D.__esModule?D:{default:D}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(151),P=d(h),w=s(99),M=d(w),C=s(17),O=d(C),T=s(206),S=d(T),E=/[\\^$.*+?()[\]{}|]/g,I=/^\[object .+?Constructor\]$/,R=Object.prototype,V=Function.prototype.toString,N=R.hasOwnProperty,F=RegExp('^'+V.call(N).replace(E,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$');u.default=function(D){if(!(0,O.default)(D))return!1;var L=(0,P.default)(D)||(0,M.default)(D)?F:I;return L.test((0,S.default)(D))}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var f=Array.prototype,h=f.join;u.default=function(P,w){return P?h.call(P,w):''}},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(203),P=d(h),w=s(14),M=d(w);u.default=function(T,S,E){var I=T?T.length:0;if(!I)return-1;var R=I;if(void 0!==E&&(R=(0,M.default)(E),R=(0>R?_Mathmax(I+R,0):_Mathmin(R,I-1))+1),S!==S)return(0,P.default)(T,R,!0);for(;R--;)if(T[R]===S)return R;return-1}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(432),P=d(h),w=s(14),M=d(w);u.default=function(C,O){return C&&C.length?(0,P.default)(C,(0,M.default)(O)):void 0}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(153),h=d(f),P=s(8),w=d(P),M=(0,w.default)(h.default);u.default=M},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(10),P=d(h),w=s(136),M=d(w);u.default=function(C,O,T){return C&&C.length&&O&&O.length?(0,M.default)(C,O,(0,P.default)(T)):C}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(136),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M,C){return w&&w.length&&M&&M.length?(0,P.default)(w,M,void 0,C):w}},function(r,u,s){'use strict';function d(D){return D&&D.__esModule?D:{default:D}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(29),h=d(f),P=s(419),w=d(P),M=s(25),C=d(M),O=s(195),T=d(O),S=s(445),E=d(S),I=s(41),R=d(I),V=s(8),N=d(V),F=(0,N.default)(function(D,L){L=(0,C.default)(L,1);var q=D?D.length:0,z=(0,w.default)(D,L);return(0,T.default)(D,(0,h.default)(L,function(W){return(0,R.default)(W,q)?+W:W}).sort(E.default)),z});u.default=F},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(10),P=d(h),w=s(195),M=d(w);u.default=function(C,O){var T=[];if(!(C&&C.length))return T;var S=-1,E=[],I=C.length;for(O=(0,P.default)(O,3);++S<I;){var R=C[S];O(R,S,C)&&(T.push(R),E.push(S))}return(0,M.default)(C,E),T}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var f=Array.prototype,h=f.reverse;u.default=function(P){return P?h.call(P):P}},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(40),P=d(h),w=s(100),M=d(w),C=s(14),O=d(C);u.default=function(T,S,E){var I=T?T.length:0;return I?(E&&'number'!=typeof E&&(0,M.default)(T,S,E)?(S=0,E=I):(S=null==S?0:(0,O.default)(S),E=void 0===E?I:(0,O.default)(E)),(0,P.default)(T,S,E)):[]}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(95),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M){return(0,P.default)(w,M)}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(10),P=d(h),w=s(137),M=d(w);u.default=function(C,O,T){return(0,M.default)(C,O,(0,P.default)(T))}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(95),P=d(h),w=s(60),M=d(w);u.default=function(C,O){var T=C?C.length:0;if(T){var S=(0,P.default)(C,O);if(S<T&&(0,M.default)(C[S],O))return S}return-1}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(95),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M){return(0,P.default)(w,M,!0)}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(10),P=d(h),w=s(137),M=d(w);u.default=function(C,O,T){return(0,M.default)(C,O,(0,P.default)(T),!0)}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(95),P=d(h),w=s(60),M=d(w);u.default=function(C,O){var T=C?C.length:0;if(T){var S=(0,P.default)(C,O,!0)-1;if((0,M.default)(C[S],O))return S}return-1}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(196),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w){return w&&w.length?(0,P.default)(w):[]}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(10),P=d(h),w=s(196),M=d(w);u.default=function(C,O){return C&&C.length?(0,M.default)(C,(0,P.default)(O)):[]}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(147),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w){return(0,P.default)(w,1)}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(40),P=d(h),w=s(14),M=d(w);u.default=function(C,O,T){return C&&C.length?(O=T||void 0===O?1:(0,M.default)(O),(0,P.default)(C,0,0>O?0:O)):[]}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(40),P=d(h),w=s(14),M=d(w);u.default=function(C,O,T){var S=C?C.length:0;return S?(O=T||void 0===O?1:(0,M.default)(O),O=S-O,(0,P.default)(C,0>O?0:O,S)):[]}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(10),P=d(h),w=s(96),M=d(w);u.default=function(C,O){return C&&C.length?(0,M.default)(C,(0,P.default)(O,3),!1,!0):[]}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(10),P=d(h),w=s(96),M=d(w);u.default=function(C,O){return C&&C.length?(0,M.default)(C,(0,P.default)(O,3)):[]}},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(151),P=d(h),w=s(17),M=d(w),C=s(52),O=d(C),T=0/0,S=/^\s+|\s+$/g,E=/^[-+]0x[0-9a-f]+$/i,I=/^0b[01]+$/i,R=/^0o[0-7]+$/i,V=parseInt;u.default=function(N){if('number'==typeof N)return N;if((0,O.default)(N))return T;if((0,M.default)(N)){var F=(0,P.default)(N.valueOf)?N.valueOf():N;N=(0,M.default)(F)?F+'':F}if('string'!=typeof N)return 0===N?N:+N;N=N.replace(S,'');var D=I.test(N);return D||R.test(N)?V(N.slice(2),D?2:8):E.test(N)?T:+N}},function(r,u,s){'use strict';function d(E){return E&&E.__esModule?E:{default:E}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(25),h=d(f),P=s(49),w=d(P),M=s(13),C=d(M),O=s(8),T=d(O),S=(0,T.default)(function(E){return(0,w.default)((0,h.default)(E,1,C.default,!0))});u.default=S},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(25),h=d(f),P=s(10),w=d(P),M=s(49),C=d(M),O=s(13),T=d(O),S=s(18),E=d(S),I=s(8),R=d(I),V=(0,R.default)(function(N){var F=(0,E.default)(N);return(0,T.default)(F)&&(F=void 0),(0,C.default)((0,h.default)(N,1,T.default,!0),(0,w.default)(F))});u.default=V},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(25),h=d(f),P=s(49),w=d(P),M=s(13),C=d(M),O=s(18),T=d(O),S=s(8),E=d(S),I=(0,E.default)(function(R){var V=(0,T.default)(R);return(0,C.default)(V)&&(V=void 0),(0,w.default)((0,h.default)(R,1,C.default,!0),void 0,V)});u.default=I},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(49),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w){return w&&w.length?(0,P.default)(w):[]}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(10),P=d(h),w=s(49),M=d(w);u.default=function(C,O){return C&&C.length?(0,M.default)(C,(0,P.default)(O)):[]}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(49),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M){return w&&w.length?(0,P.default)(w,void 0,M):[]}},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(69),h=d(f),P=s(13),w=d(P),M=s(8),C=d(M),O=(0,C.default)(function(T,S){return(0,w.default)(T)?(0,h.default)(T,S):[]});u.default=O},function(r,u,s){'use strict';function d(E){return E&&E.__esModule?E:{default:E}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(91),h=d(f),P=s(139),w=d(P),M=s(13),C=d(M),O=s(8),T=d(O),S=(0,T.default)(function(E){return(0,w.default)((0,h.default)(E,C.default))});u.default=S},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(91),h=d(f),P=s(10),w=d(P),M=s(139),C=d(M),O=s(13),T=d(O),S=s(18),E=d(S),I=s(8),R=d(I),V=(0,R.default)(function(N){var F=(0,E.default)(N);return(0,T.default)(F)&&(F=void 0),(0,C.default)((0,h.default)(N,T.default),(0,w.default)(F))});u.default=V},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(91),h=d(f),P=s(139),w=d(P),M=s(13),C=d(M),O=s(18),T=d(O),S=s(8),E=d(S),I=(0,E.default)(function(R){var V=(0,T.default)(R);return(0,C.default)(V)&&(V=void 0),(0,w.default)((0,h.default)(R,C.default),void 0,V)});u.default=I},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(8),h=d(f),P=s(107),w=d(P),M=(0,h.default)(w.default);u.default=M},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(68),P=d(h),w=s(198),M=d(w);u.default=function(C,O){return(0,M.default)(C||[],O||[],P.default)}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(434),P=d(h),w=s(198),M=d(w);u.default=function(C,O){return(0,M.default)(C||[],O||[],P.default)}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(8),h=d(f),P=s(154),w=d(P),M=(0,h.default)(function(C){var O=C.length,T=1<O?C[O-1]:void 0;return T='function'==typeof T?(C.pop(),T):void 0,(0,w.default)(C,T)});u.default=M},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){var h=new Map;for(var P in f)h.set(P,f[P]);return h}},function(r,u){'use strict';function d(M){return!!M&&1==M.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(M)}function f(M){return!!M&&1==M.length&&/[\ud800-\udbff]/.test(M)}function h(M){return!!M&&1==M.length&&/[\udc00-\udfff]/.test(M)}Object.defineProperty(u,'__esModule',{value:!0}),u.isCombiningMark=d,u.isHighSurrogateHalf=f,u.isLowSurrogateHalf=h,u.isInsideSurrogatePair=function(M,C){return f(M.charAt(C-1))&&h(M.charAt(C))},u.isInsideCombinedSymbol=function(M,C){return d(M.charAt(C))}},function(r,u,s){'use strict';(function(d,f){var h='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&'function'==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?'symbol':typeof P};!function(P){function w(ne,le,ue,ie){var se=le&&le.prototype instanceof C?le:C,de=Object.create(se.prototype),fe=new F(ie||[]);return de._invoke=I(ne,ue,fe),de}function M(ne,le,ue){try{return{type:'normal',arg:ne.call(le,ue)}}catch(ie){return{type:'throw',arg:ie}}}function C(){}function O(){}function T(){}function S(ne){['next','throw','return'].forEach(function(le){ne[le]=function(ue){return this._invoke(le,ue)}})}function E(ne){function le(se,de,fe,ce){var pe=M(ne[se],ne,de);if('throw'===pe.type)ce(pe.arg);else{var me=pe.arg,ge=me.value;return ge&&'object'===('undefined'==typeof ge?'undefined':h(ge))&&z.call(ge,'__await')?Promise.resolve(ge.__await).then(function(ye){le('next',ye,fe,ce)},function(ye){le('throw',ye,fe,ce)}):Promise.resolve(ge).then(function(ye){me.value=ye,fe(me)},ce)}}'object'===h(P.process)&&P.process.domain&&(le=P.process.domain.bind(le));var ie;this._invoke=function(se,de){function fe(){return new Promise(function(ce,pe){le(se,de,ce,pe)})}return ie=ie?ie.then(fe,fe):fe()}}function I(ne,le,ue){var ie=Q;return function(de,fe){if(ie==X)throw new Error('Generator is already running');if(ie==Z){if('throw'===de)throw fe;return L()}for(ue.method=de,ue.arg=fe;;){var ce=ue.delegate;if(ce){var pe=R(ce,ue);if(pe){if(pe===ee)continue;return pe}}if('next'===ue.method)ue.sent=ue._sent=ue.arg;else if('throw'===ue.method){if(ie==Q)throw ie=Z,ue.arg;ue.dispatchException(ue.arg)}else'return'===ue.method&&ue.abrupt('return',ue.arg);ie=X;var me=M(ne,le,ue);if('normal'===me.type){if(ie=ue.done?Z:Y,me.arg===ee)continue;return{value:me.arg,done:ue.done}}'throw'===me.type&&(ie=Z,ue.method='throw',ue.arg=me.arg)}}}function R(ne,le){var ue=ne.iterator[le.method];if(ue===W){if(le.delegate=null,'throw'===le.method){if(ne.iterator.return&&(le.method='return',le.arg=W,R(ne,le),'throw'===le.method))return ee;le.method='throw',le.arg=new TypeError('The iterator does not provide a \'throw\' method')}return ee}var ie=M(ue,ne.iterator,le.arg);if('throw'===ie.type)return le.method='throw',le.arg=ie.arg,le.delegate=null,ee;var se=ie.arg;if(!se)return le.method='throw',le.arg=new TypeError('iterator result is not an object'),le.delegate=null,ee;if(se.done)le[ne.resultName]=se.value,le.next=ne.nextLoc,'return'!==le.method&&(le.method='next',le.arg=W);else return se;return le.delegate=null,ee}function V(ne){var le={tryLoc:ne[0]};1 in ne&&(le.catchLoc=ne[1]),2 in ne&&(le.finallyLoc=ne[2],le.afterLoc=ne[3]),this.tryEntries.push(le)}function N(ne){var le=ne.completion||{};le.type='normal',delete le.arg,ne.completion=le}function F(ne){this.tryEntries=[{tryLoc:'root'}],ne.forEach(V,this),this.reset(!0)}function D(ne){if(ne){var le=ne[U];if(le)return le.call(ne);if('function'==typeof ne.next)return ne;if(!isNaN(ne.length)){var ue=-1,ie=function se(){for(;++ue<ne.length;)if(z.call(ne,ue))return se.value=ne[ue],se.done=!1,se;return se.value=W,se.done=!0,se};return ie.next=ie}}return{next:L}}function L(){return{value:W,done:!0}}var q=Object.prototype,z=q.hasOwnProperty,W,H='function'==typeof Symbol?Symbol:{},U=H.iterator||'@@iterator',K=H.asyncIterator||'@@asyncIterator',$=H.toStringTag||'@@toStringTag',J='object'===h(f),G=P.regeneratorRuntime;if(G)return void(J&&(f.exports=G));G=P.regeneratorRuntime=J?f.exports:{},G.wrap=w;var Q='suspendedStart',Y='suspendedYield',X='executing',Z='completed',ee={},te={};te[U]=function(){return this};var re=Object.getPrototypeOf,ae=re&&re(re(D([])));ae&&ae!==q&&z.call(ae,U)&&(te=ae);var oe=T.prototype=C.prototype=Object.create(te);O.prototype=oe.constructor=T,T.constructor=O,T[$]=O.displayName='GeneratorFunction',G.isGeneratorFunction=function(ne){var le='function'==typeof ne&&ne.constructor;return!!le&&(le===O||'GeneratorFunction'===(le.displayName||le.name))},G.mark=function(ne){return Object.setPrototypeOf?Object.setPrototypeOf(ne,T):(ne.__proto__=T,!($ in ne)&&(ne[$]='GeneratorFunction')),ne.prototype=Object.create(oe),ne},G.awrap=function(ne){return{__await:ne}},S(E.prototype),E.prototype[K]=function(){return this},G.AsyncIterator=E,G.async=function(ne,le,ue,ie){var se=new E(w(ne,le,ue,ie));return G.isGeneratorFunction(le)?se:se.next().then(function(de){return de.done?de.value:se.next()})},S(oe),oe[$]='Generator',oe[U]=function(){return this},oe.toString=function(){return'[object Generator]'},G.keys=function(ne){var le=[];for(var ue in ne)le.push(ue);return le.reverse(),function ie(){for(;le.length;){var se=le.pop();if(se in ne)return ie.value=se,ie.done=!1,ie}return ie.done=!0,ie}},G.values=D,F.prototype={constructor:F,reset:function(le){if(this.prev=0,this.next=0,this.sent=this._sent=W,this.done=!1,this.delegate=null,this.method='next',this.arg=W,this.tryEntries.forEach(N),!le)for(var ue in this)'t'===ue.charAt(0)&&z.call(this,ue)&&!isNaN(+ue.slice(1))&&(this[ue]=W)},stop:function(){this.done=!0;var le=this.tryEntries[0],ue=le.completion;if('throw'===ue.type)throw ue.arg;return this.rval},dispatchException:function(le){function ue(me,ge){return fe.type='throw',fe.arg=le,ie.next=me,ge&&(ie.method='next',ie.arg=W),!!ge}if(this.done)throw le;for(var ie=this,se=this.tryEntries.length-1;0<=se;--se){var de=this.tryEntries[se],fe=de.completion;if('root'===de.tryLoc)return ue('end');if(de.tryLoc<=this.prev){var ce=z.call(de,'catchLoc'),pe=z.call(de,'finallyLoc');if(ce&&pe){if(this.prev<de.catchLoc)return ue(de.catchLoc,!0);if(this.prev<de.finallyLoc)return ue(de.finallyLoc)}else if(ce){if(this.prev<de.catchLoc)return ue(de.catchLoc,!0);}else if(!pe)throw new Error('try statement without catch or finally');else if(this.prev<de.finallyLoc)return ue(de.finallyLoc)}}},abrupt:function(le,ue){for(var ie=this.tryEntries.length-1,se;0<=ie;--ie)if(se=this.tryEntries[ie],se.tryLoc<=this.prev&&z.call(se,'finallyLoc')&&this.prev<se.finallyLoc){var de=se;break}de&&('break'===le||'continue'===le)&&de.tryLoc<=ue&&ue<=de.finallyLoc&&(de=null);var fe=de?de.completion:{};return fe.type=le,fe.arg=ue,de?(this.method='next',this.next=de.finallyLoc,ee):this.complete(fe)},complete:function(le,ue){if('throw'===le.type)throw le.arg;return'break'===le.type||'continue'===le.type?this.next=le.arg:'return'===le.type?(this.rval=this.arg=le.arg,this.method='return',this.next='end'):'normal'===le.type&&ue&&(this.next=ue),ee},finish:function(le){for(var ue=this.tryEntries.length-1,ie;0<=ue;--ue)if(ie=this.tryEntries[ue],ie.finallyLoc===le)return this.complete(ie.completion,ie.afterLoc),N(ie),ee},catch:function(le){for(var ue=this.tryEntries.length-1,ie;0<=ue;--ue)if(ie=this.tryEntries[ue],ie.tryLoc===le){var se=ie.completion;if('throw'===se.type){var de=se.arg;N(ie)}return de}throw new Error('illegal catch attempt')},delegateYield:function(le,ue,ie){return this.delegate={iterator:D(le),resultName:ue,nextLoc:ie},'next'===this.method&&(this.arg=W),ee}}}('object'===('undefined'==typeof d?'undefined':h(d))?d:'object'===('undefined'==typeof window?'undefined':h(window))?window:'object'===('undefined'==typeof self?'undefined':h(self))?self:void 0)}).call(u,s(157),s(108)(r))},function(r,u,s){'use strict';function d(re){return re&&re.__esModule?re:{default:re}}function f(re,ae){if(!(re instanceof ae))throw new TypeError('Cannot call a class as a function')}function h(re,ae){if(!re)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return ae&&('object'==typeof ae||'function'==typeof ae)?ae:re}function P(re,ae){if('function'!=typeof ae&&null!==ae)throw new TypeError('Super expression must either be null or a function, not '+typeof ae);re.prototype=Object.create(ae&&ae.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}),ae&&(Object.setPrototypeOf?Object.setPrototypeOf(re,ae):re.__proto__=ae)}Object.defineProperty(u,'__esModule',{value:!0}),u.ClassicEditor=void 0;var w=s(297),M=d(w),C=s(365),O=d(C),T=s(276),S=d(T),E=s(279),I=d(E),R=s(281),V=d(R),N=s(283),F=d(N),D=s(336),L=d(D),q=s(339),z=d(q),W=s(341),H=d(W),U=s(344),K=d(U),$=s(352),J=d($),G=s(353),Q=d(G),Y=s(360),X=d(Y),Z=s(86),ee=d(Z),te=u.ClassicEditor=function(re){function ae(){return f(this,ae),h(this,(ae.__proto__||Object.getPrototypeOf(ae)).apply(this,arguments))}return P(ae,re),ae}(M.default);te.build={plugins:[O.default,S.default,I.default,V.default,F.default,L.default,z.default,H.default,K.default,J.default,Q.default,X.default,ee.default],config:{toolbar:['headings','bold','italic','link','unlink','bulletedList','numberedList','blockQuote','undo','redo'],image:{toolbar:['imageStyleFull','imageStyleSide','|','imageTextAlternative']}}}},function(r){'use strict';r.exports=function(d){var f='undefined'!=typeof window&&window.location;if(!f)throw new Error('fixUrls requires window.location');if(!d||'string'!=typeof d)return d;var h=f.protocol+'//'+f.host,P=h+f.pathname.replace(/\/[^\/]*$/,'/'),w=d.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(M,C){var O=C.trim().replace(/^"(.*)"$/,function(S,E){return E}).replace(/^'(.*)'$/,function(S,E){return E});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(O))return M;var T;return T=0===O.indexOf('//')?O:0===O.indexOf('/')?h+O:P+O.replace(/^\.\//,''),'url('+JSON.stringify(T)+')'});return w}},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}function f(R,V){if(!(R instanceof V))throw new TypeError('Cannot call a class as a function')}function h(R,V){if(!R)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:R}function P(R,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);R.prototype=Object.create(V&&V.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(R,V):R.__proto__=V)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function R(V,N){for(var F=0,D;F<N.length;F++)D=N[F],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(V,D.key,D)}return function(V,N,F){return N&&R(V.prototype,N),F&&R(V,F),V}}(),M=s(277),C=d(M),O=s(278),T=d(O),S=s(2),E=d(S),I=function(R){function V(){return f(this,V),h(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return P(V,R),w(V,[{key:'afterInit',value:function(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats()}},{key:'_addListAutoformats',value:function(){var F=this.editor.commands;F.get('bulletedList')&&new C.default(this.editor,/^[*-]\s$/,'bulletedList'),F.get('numberedList')&&new C.default(this.editor,/^\d+[.|)]?\s$/,'numberedList')}},{key:'_addBasicStylesAutoformats',value:function(){var F=this.editor.commands;F.get('bold')&&(new T.default(this.editor,/(\*\*)([^*]+)(\*\*)$/g,'bold'),new T.default(this.editor,/(__)([^_]+)(__)$/g,'bold')),F.get('italic')&&(new T.default(this.editor,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,'italic'),new T.default(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,'italic'))}},{key:'_addHeadingAutoformats',value:function(){var F=this;Array.from(this.editor.commands.names()).filter(function(D){return D.match(/^heading[1-6]$/)}).forEach(function(D){var L=D[7],q=new RegExp('^(#{'+L+'})\\s$');new C.default(F.editor,q,function(z){var W=z.batch;F.editor.execute(D,{batch:W})})})}},{key:'_addBlockQuoteAutoformats',value:function(){this.editor.commands.get('blockQuote')&&new C.default(this.editor,/^>\s$/,'blockQuote')}}],[{key:'pluginName',get:function(){return'Autoformat'}}]),V}(E.default);u.default=I},function(r,u,s){'use strict';function d(O){return O&&O.__esModule?O:{default:O}}function f(O,T){if(!(O instanceof T))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=s(3),P=d(h),w=s(63),M=d(w);u.default=function O(T,S,E){f(this,O);var I;if('function'==typeof E)I=E;else{I=function(N){var F=N.batch;T.execute(E,{batch:F})}}T.document.on('change',function(V,N,F,D){if('transparent'!=D.type&&'insert'==N){var L=F.range.getItems().next().value;if(L instanceof M.default){var q=L.textNode,z=q.data;if('paragraph'===q.parent.name&&z){var W=S.exec(z);W&&T.document.enqueueChanges(function(){var H=T.document.batch(),U=P.default.createFromParentsAndOffsets(q.parent,0,q.parent,W[0].length);H.remove(U),I({fixBatch:H,match:W})})}}}})}},function(r,u,s){'use strict';function f(C,O){if(!(C instanceof O))throw new TypeError('Cannot call a class as a function')}function h(C){return Array.from(C.getChildren()).reduce(function(O,T){return O+T.data},'')}Object.defineProperty(u,'__esModule',{value:!0});var P=s(113),w=function(C){return C&&C.__esModule?C:{default:C}}(P);u.default=function C(O,T,S){f(this,C);var E,I,R,V;T instanceof RegExp?E=T:R=T,'string'==typeof S?I=S:V=S,R=R||function(N){for(var D=[],L=[],F;null!==(F=E.exec(N))&&!(F&&4>F.length);){var q=F,z=q.index,W=q[1],H=q[2],U=q[3];z+=F[0].length-(W+H+U).length;var $=[z,z+W.length],J=[z+W.length+H.length,z+W.length+H.length+U.length];D.push($),D.push(J),L.push([z+W.length,z+W.length+H.length])}return{remove:D,format:L}},V=V||function(N,F){var D=!0,L=!1,q;try{for(var z=F[Symbol.iterator](),W,H;!(D=(W=z.next()).done);D=!0)H=W.value,N.setAttribute(H,I,!0)}catch(U){L=!0,q=U}finally{try{!D&&z.return&&z.return()}finally{if(L)throw q}}},O.document.on('change',function(N,F,D,L){if('transparent'!=L.type&&'insert'===F){var q=O.document.selection;if(q.isCollapsed&&q.focus&&q.focus.parent){var z=q.focus.parent,W=h(z).slice(0,q.focus.offset),H=R(W),U=[];H.format.forEach(function($){void 0===$[0]||void 0===$[1]||U.push(w.default.createFromParentsAndOffsets(z,$[0],z,$[1]))});var K=[];H.remove.slice().reverse().forEach(function($){void 0===$[0]||void 0===$[1]||K.push(w.default.createFromParentsAndOffsets(z,$[0],z,$[1]))}),U.length&&K.length&&O.document.enqueueChanges(function(){var $=O.document.batch(),J=O.document.schema.getValidRanges(U,I);V($,J);var G=!0,Q=!1,Y;try{for(var X=K[Symbol.iterator](),Z,ee;!(G=(Z=X.next()).done);G=!0)ee=Z.value,$.remove(ee)}catch(te){Q=!0,Y=te}finally{try{!G&&X.return&&X.return()}finally{if(Q)throw Y}}})}}})}},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}function f(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function h(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function P(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function N(F,D){for(var L=0,q;L<D.length;L++)q=D[L],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(F,q.key,q)}return function(F,D,L){return D&&N(F.prototype,D),L&&N(F,L),F}}(),M=s(2),C=d(M),O=s(280),T=d(O),S=s(23),E=d(S),I=s(521),R=d(I),V=function(N){function F(){return f(this,F),h(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return P(F,N),w(F,[{key:'init',value:function(){var L=this,q=this.editor,z=q.t,W=q.commands.get('bold'),H='CTRL+B';q.ui.componentFactory.add('bold',function(U){var K=new E.default(U);return K.set({label:z('Bold'),icon:R.default,keystroke:H,tooltip:!0}),K.bind('isOn','isEnabled').to(W,'value','isEnabled'),L.listenTo(K,'execute',function(){return q.execute('bold')}),K}),q.keystrokes.set(H,'bold')}}],[{key:'requires',get:function(){return[T.default]}},{key:'pluginName',get:function(){return'Bold'}}]),F}(C.default);u.default=V},function(r,u,s){'use strict';function d(F){return F&&F.__esModule?F:{default:F}}function f(F,D){if(!(F instanceof D))throw new TypeError('Cannot call a class as a function')}function h(F,D){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return D&&('object'==typeof D||'function'==typeof D)?D:F}function P(F,D){if('function'!=typeof D&&null!==D)throw new TypeError('Super expression must either be null or a function, not '+typeof D);F.prototype=Object.create(D&&D.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(F,D):F.__proto__=D)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function F(D,L){for(var q=0,z;q<L.length;q++)z=L[q],z.enumerable=z.enumerable||!1,z.configurable=!0,'value'in z&&(z.writable=!0),Object.defineProperty(D,z.key,z)}return function(D,L,q){return L&&F(D.prototype,L),q&&F(D,q),D}}(),M=s(2),C=d(M),O=s(43),T=d(O),S=s(34),E=d(S),I=s(158),R=d(I),V='bold',N=function(F){function D(){return f(this,D),h(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return P(D,F),w(D,[{key:'init',value:function(){var q=this.editor,z=q.data,W=q.editing;q.document.schema.allow({name:'$inline',attributes:V,inside:'$block'}),q.document.schema.allow({name:'$inline',attributes:V,inside:'$clipboardHolder'}),(0,T.default)().for(z.modelToView,W.modelToView).fromAttribute(V).toElement('strong'),(0,E.default)().for(z.viewToModel).fromElement('strong').fromElement('b').fromAttribute('style',{"font-weight":'bold'}).toAttribute(V,!0),q.commands.add(V,new R.default(q,V))}}]),D}(C.default);u.default=N},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}function f(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function h(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function P(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function N(F,D){for(var L=0,q;L<D.length;L++)q=D[L],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(F,q.key,q)}return function(F,D,L){return D&&N(F.prototype,D),L&&N(F,L),F}}(),M=s(2),C=d(M),O=s(282),T=d(O),S=s(23),E=d(S),I=s(522),R=d(I),V=function(N){function F(){return f(this,F),h(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return P(F,N),w(F,[{key:'init',value:function(){var L=this,q=this.editor,z=q.t,W=q.commands.get('italic'),H='CTRL+I';q.ui.componentFactory.add('italic',function(U){var K=new E.default(U);return K.set({label:z('Italic'),icon:R.default,keystroke:H,tooltip:!0}),K.bind('isOn','isEnabled').to(W,'value','isEnabled'),L.listenTo(K,'execute',function(){return q.execute('italic')}),K}),q.keystrokes.set(H,'italic')}}],[{key:'requires',get:function(){return[T.default]}},{key:'pluginName',get:function(){return'Italic'}}]),F}(C.default);u.default=V},function(r,u,s){'use strict';function d(F){return F&&F.__esModule?F:{default:F}}function f(F,D){if(!(F instanceof D))throw new TypeError('Cannot call a class as a function')}function h(F,D){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return D&&('object'==typeof D||'function'==typeof D)?D:F}function P(F,D){if('function'!=typeof D&&null!==D)throw new TypeError('Super expression must either be null or a function, not '+typeof D);F.prototype=Object.create(D&&D.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(F,D):F.__proto__=D)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function F(D,L){for(var q=0,z;q<L.length;q++)z=L[q],z.enumerable=z.enumerable||!1,z.configurable=!0,'value'in z&&(z.writable=!0),Object.defineProperty(D,z.key,z)}return function(D,L,q){return L&&F(D.prototype,L),q&&F(D,q),D}}(),M=s(2),C=d(M),O=s(43),T=d(O),S=s(34),E=d(S),I=s(158),R=d(I),V='italic',N=function(F){function D(){return f(this,D),h(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return P(D,F),w(D,[{key:'init',value:function(){var q=this.editor,z=q.data,W=q.editing;q.document.schema.allow({name:'$inline',attributes:V,inside:'$block'}),q.document.schema.allow({name:'$inline',attributes:V,inside:'$clipboardHolder'}),(0,T.default)().for(z.modelToView,W.modelToView).fromAttribute(V).toElement('i'),(0,E.default)().for(z.viewToModel).fromElement('em').fromElement('i').fromAttribute('style',{"font-style":'italic'}).toAttribute(V,!0),q.commands.add(V,new R.default(q,V))}}]),D}(C.default);u.default=N},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}function f(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function h(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function P(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function N(F,D){for(var L=0,q;L<D.length;L++)q=D[L],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(F,q.key,q)}return function(F,D,L){return D&&N(F.prototype,D),L&&N(F,L),F}}(),M=s(2),C=d(M),O=s(285),T=d(O),S=s(23),E=d(S),I=s(526),R=d(I);s(533);var V=function(N){function F(){return f(this,F),h(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return P(F,N),w(F,[{key:'init',value:function(){var L=this,q=this.editor,z=q.t,W=q.commands.get('blockQuote');q.ui.componentFactory.add('blockQuote',function(H){var U=new E.default(H);return U.set({label:z('Block quote'),icon:R.default,tooltip:!0}),U.bind('isOn','isEnabled').to(W,'value','isEnabled'),L.listenTo(U,'execute',function(){return q.execute('blockQuote')}),U})}},{key:'afterInit',value:function(){var L=this,q=this.editor,z=q.commands.get('blockQuote');this.listenTo(this.editor.editing.view,'enter',function(W,H){var U=L.editor.document,K=U.selection.getLastPosition().parent;U.selection.isCollapsed&&K.isEmpty&&z.value&&(L.editor.execute('blockQuote'),H.preventDefault(),W.stop())})}}],[{key:'requires',get:function(){return[T.default]}},{key:'pluginName',get:function(){return'BlockQuote'}}]),F}(C.default);u.default=V},function(r,u,s){'use strict';function d(z){return z&&z.__esModule?z:{default:z}}function f(z,W){if(!(z instanceof W))throw new TypeError('Cannot call a class as a function')}function h(z,W){if(!z)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return W&&('object'==typeof W||'function'==typeof W)?W:z}function P(z,W){if('function'!=typeof W&&null!==W)throw new TypeError('Super expression must either be null or a function, not '+typeof W);z.prototype=Object.create(W&&W.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(z,W):z.__proto__=W)}function w(z){return'blockQuote'==z.parent.name?z.parent:null}function M(z){for(var H=0,U=[],W;H<z.length;){var K=z[H],$=z[H+1];W||(W=I.default.createBefore(K)),$&&K.nextSibling==$||(U.push(new F.default(W,I.default.createAfter(K))),W=null),H++}return U}function C(z,W){var H=z.check({name:'blockQuote',inside:I.default.createBefore(W)}),U=z.check({name:W.name,attributes:Array.from(W.getAttributeKeys()),inside:'blockQuote'});return H&&U}Object.defineProperty(u,'__esModule',{value:!0});var O=function(){function z(W,H){for(var U=0,K;U<H.length;U++)K=H[U],K.enumerable=K.enumerable||!1,K.configurable=!0,'value'in K&&(K.writable=!0),Object.defineProperty(W,K.key,K)}return function(W,H,U){return H&&z(W.prototype,H),U&&z(W,U),W}}(),T=s(11),S=d(T),E=s(1),I=d(E),R=s(6),V=d(R),N=s(3),F=d(N),D=s(66),L=d(D),q=function(z){function W(){return f(this,W),h(this,(W.__proto__||Object.getPrototypeOf(W)).apply(this,arguments))}return P(W,z),O(W,[{key:'refresh',value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:'execute',value:function(){var U=this,K=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},$=this.editor.document,J=$.schema,G=K.batch||$.batch(),Q=Array.from($.selection.getSelectedBlocks());$.enqueueChanges(function(){if(U.value)U._removeQuote(G,Q.filter(w));else{var Y=Q.filter(function(X){return w(X)||C(J,X)});U._applyQuote(G,Y)}})}},{key:'_getValue',value:function(){var U=(0,L.default)(this.editor.document.selection.getSelectedBlocks());return!!(U&&w(U))}},{key:'_checkEnabled',value:function(){if(this.value)return!0;var U=this.editor.document.selection,K=this.editor.document.schema,$=(0,L.default)(U.getSelectedBlocks());return!!$&&C(K,$)}},{key:'_removeQuote',value:function(U,K){M(K).reverse().forEach(function($){if($.start.isAtStart&&$.end.isAtEnd)return void U.unwrap($.start.parent);if($.start.isAtStart){var J=I.default.createBefore($.start.parent);return void U.move($,J)}$.end.isAtEnd||U.split($.end);var G=I.default.createAfter($.end.parent);U.move($,G)})}},{key:'_applyQuote',value:function(U,K){var $=[];M(K).reverse().forEach(function(J){var G=w(J.start);G||(G=new V.default('blockQuote'),U.wrap(J,G)),$.push(G)}),$.reverse().reduce(function(J,G){return J.nextSibling==G?(U.merge(I.default.createAfter(J)),J):G})}}]),W}(S.default);u.default=q},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}function f(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function h(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function P(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function N(F,D){for(var L=0,q;L<D.length;L++)q=D[L],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(F,q.key,q)}return function(F,D,L){return D&&N(F.prototype,D),L&&N(F,L),F}}(),M=s(2),C=d(M),O=s(284),T=d(O),S=s(34),E=d(S),I=s(43),R=d(I),V=function(N){function F(){return f(this,F),h(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return P(F,N),w(F,[{key:'init',value:function(){var L=this.editor,q=L.document.schema;L.commands.add('blockQuote',new T.default(L)),q.registerItem('blockQuote'),q.allow({name:'blockQuote',inside:'$root'}),q.allow({name:'$block',inside:'blockQuote'}),(0,E.default)().for(L.data.viewToModel).fromElement('blockquote').toElement('blockQuote'),(0,R.default)().for(L.data.modelToView,L.editing.modelToView).fromElement('blockQuote').toElement('blockquote')}},{key:'afterInit',value:function(){var L=this.editor.document.schema;L.hasItem('listItem')&&L.allow({name:'listItem',inside:'blockQuote',attributes:['type','indent']})}}]),F}(C.default);u.default=V},function(r,u,s){'use strict';function d(q){return q&&q.__esModule?q:{default:q}}function f(q,z){if(!(q instanceof z))throw new TypeError('Cannot call a class as a function')}function h(q,z){if(!q)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return z&&('object'==typeof z||'function'==typeof z)?z:q}function P(q,z){if('function'!=typeof z&&null!==z)throw new TypeError('Super expression must either be null or a function, not '+typeof z);q.prototype=Object.create(z&&z.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(q,z):q.__proto__=z)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function q(z,W){for(var H=0,U;H<W.length;H++)U=W[H],U.enumerable=U.enumerable||!1,U.configurable=!0,'value'in U&&(U.writable=!0),Object.defineProperty(z,U.key,U)}return function(z,W,H){return W&&q(z.prototype,W),H&&q(z,H),z}}(),M=s(2),C=d(M),O=s(287),T=d(O),S=s(290),E=d(S),I=s(289),R=d(I),V=s(291),N=d(V),F=s(162),D=d(F),L=function(q){function z(){return f(this,z),h(this,(z.__proto__||Object.getPrototypeOf(z)).apply(this,arguments))}return P(z,q),w(z,[{key:'init',value:function(){function H(G,Q){var Y=Q.dataTransfer,X=K.data.toView(K.data.getSelectedContent($.selection));Q.preventDefault(),J.fire('clipboardOutput',{dataTransfer:Y,content:X,method:G.name})}var U=this,K=this.editor,$=K.document,J=K.editing.view;this._htmlDataProcessor=new D.default,J.addObserver(T.default),this.listenTo(J,'clipboardInput',function(G,Q){if(!K.isReadOnly){var Y=Q.dataTransfer,X='';Y.getData('text/html')?X=(0,R.default)(Y.getData('text/html')):Y.getData('text/plain')&&(X=(0,E.default)(Y.getData('text/plain'))),X=U._htmlDataProcessor.toView(X),U.fire('inputTransformation',{content:X})}},{priority:'low'}),this.listenTo(this,'inputTransformation',function(G,Q){if(!Q.content.isEmpty){var Y=U.editor.data,X=Y.toModel(Q.content,'$clipboardHolder');$.enqueueChanges(function(){Y.insertContent(X,$.selection)})}},{priority:'low'}),this.listenTo(J,'copy',H,{priority:'low'}),this.listenTo(J,'cut',function(G,Q){K.isReadOnly?Q.preventDefault():H(G,Q)},{priority:'low'}),this.listenTo(J,'clipboardOutput',function(G,Q){Q.content.isEmpty||(Q.dataTransfer.setData('text/html',U._htmlDataProcessor.toData(Q.content)),Q.dataTransfer.setData('text/plain',(0,N.default)(Q.content))),'cut'==Q.method&&$.enqueueChanges(function(){K.data.deleteContent($.selection,$.batch())})},{priority:'low'})}}],[{key:'pluginName',get:function(){return'Clipboard'}}]),z}(C.default);u.default=L},function(r,u,s){'use strict';function d(I){return I&&I.__esModule?I:{default:I}}function f(I,R){if(!(I instanceof R))throw new TypeError('Cannot call a class as a function')}function h(I,R){if(!I)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return R&&('object'==typeof R||'function'==typeof R)?R:I}function P(I,R){if('function'!=typeof R&&null!==R)throw new TypeError('Super expression must either be null or a function, not '+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}function w(I,R){var V=R.target.ownerDocument,N=R.clientX,F=R.clientY,D;return V.caretRangeFromPoint&&V.caretRangeFromPoint(N,F)?D=V.caretRangeFromPoint(N,F):R.rangeParent&&(D=V.createRange(),D.setStart(R.rangeParent,R.rangeOffset),D.collapse(!0)),D?I.domConverter.domRangeToView(D):I.selection.getFirstRange()}Object.defineProperty(u,'__esModule',{value:!0});var M=function(){function I(R,V){for(var N=0,F;N<V.length;N++)F=V[N],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(R,F.key,F)}return function(R,V,N){return V&&I(R.prototype,V),N&&I(R,N),R}}(),C=s(65),O=d(C),T=s(288),S=d(T),E=function(I){function R(V){function N(D,L){L.preventDefault();var q=L.dropRange?[L.dropRange]:Array.from(V.selection.getRanges());V.fire('clipboardInput',{dataTransfer:L.dataTransfer,targetRanges:q})}f(this,R);var F=h(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,V));return F.domEventType=['paste','copy','cut','drop'],F.listenTo(V,'paste',N,{priority:'low'}),F.listenTo(V,'drop',N,{priority:'low'}),F}return P(R,I),M(R,[{key:'onDomEvent',value:function(N){var F={dataTransfer:new S.default(N.clipboardData?N.clipboardData:N.dataTransfer)};'drop'==N.type&&(F.dropRange=w(this.document,N)),this.fire(N.type,N,F)}}]),R}(O.default);u.default=E},function(r,u){'use strict';function d(w,M){if(!(w instanceof M))throw new TypeError('Cannot call a class as a function')}function f(w){var M=w.files?Array.from(w.files):[],C=w.items?Array.from(w.items):[];return M.length?M:C.filter(function(O){return'file'===O.kind}).map(function(O){return O.getAsFile()})}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function w(M,C){for(var O=0,T;O<C.length;O++)T=C[O],T.enumerable=T.enumerable||!1,T.configurable=!0,'value'in T&&(T.writable=!0),Object.defineProperty(M,T.key,T)}return function(M,C,O){return C&&w(M.prototype,C),O&&w(M,O),M}}(),P=function(){function w(M){d(this,w),this.files=f(M),this._native=M}return h(w,[{key:'getData',value:function(C){return this._native.getData(C)}},{key:'setData',value:function(C,O){this._native.setData(C,O)}},{key:'types',get:function(){return this._native.types}}]),w}();u.default=P},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){return f.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,function(h,P){return 1==P.length?' ':P})}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){return f=f.replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n\n/g,'</p><p>').replace(/\n/g,' ').replace(/^\s/,'&nbsp;').replace(/\s$/,'&nbsp;').replace(/\s\s/g,' &nbsp;'),-1<f.indexOf('</p><p>')&&(f='<p>'+f+'</p>'),f}},function(r,u){'use strict';function d(h){var P='';if(h.is('text')||h.is('textProxy'))P=h.data;else if(h.is('img')&&h.hasAttribute('alt'))P=h.getAttribute('alt');else{var w=null,M=!0,C=!1,O;try{for(var T=h.getChildren()[Symbol.iterator](),S;!(M=(S=T.next()).done);M=!0){var E=S.value,I=d(E);w&&(w.is('containerElement')||E.is('containerElement'))&&(f.includes(w.name)||f.includes(E.name)?P+='\n':P+='\n\n'),P+=I,w=E}}catch(R){C=!0,O=R}finally{try{!M&&T.return&&T.return()}finally{if(C)throw O}}}return P}Object.defineProperty(u,'__esModule',{value:!0}),u.default=d;var f=['figcaption','li']},function(r,u,s){'use strict';function f(C,O){if(!(C instanceof O))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function C(O,T){for(var S=0,E;S<T.length;S++)E=T[S],E.enumerable=E.enumerable||!1,E.configurable=!0,'value'in E&&(E.writable=!0),Object.defineProperty(O,E.key,E)}return function(O,T,S){return T&&C(O.prototype,T),S&&C(O,S),O}}(),P=s(0),w=function(C){return C&&C.__esModule?C:{default:C}}(P),M=function(){function C(){f(this,C),this._commands=new Map}return h(C,[{key:'add',value:function(T,S){this._commands.set(T,S)}},{key:'get',value:function(T){return this._commands.get(T)}},{key:'execute',value:function(T){var S=this.get(T);if(!S)throw new w.default('commandcollection-command-not-found: Command does not exist.',{commandName:T});for(var E=arguments.length,I=Array(1<E?E-1:0),R=1;R<E;R++)I[R-1]=arguments[R];S.execute.apply(S,I)}},{key:'names',value:regeneratorRuntime.mark(function O(){return regeneratorRuntime.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.delegateYield(this._commands.keys(),'t0',1);case 1:case'end':return S.stop();}},O,this)})},{key:'commands',value:regeneratorRuntime.mark(function O(){return regeneratorRuntime.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.delegateYield(this._commands.values(),'t0',1);case 1:case'end':return S.stop();}},O,this)})},{key:Symbol.iterator,value:function(){return this._commands[Symbol.iterator]()}},{key:'destroy',value:function(){var T=!0,S=!1,E;try{for(var I=this.commands()[Symbol.iterator](),R,V;!(T=(R=I.next()).done);T=!0)V=R.value,V.destroy()}catch(N){S=!0,E=N}finally{try{!T&&I.return&&I.return()}finally{if(S)throw E}}}}]),C}();u.default=M},function(r,u,s){'use strict';function f(S,E){if(!(S instanceof E))throw new TypeError('Cannot call a class as a function')}function h(S,E){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:S}function P(S,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function S(E,I){for(var R=0,V;R<I.length;R++)V=I[R],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(E,V.key,V)}return function(E,I,R){return I&&S(E.prototype,I),R&&S(E,R),E}}(),M=function S(E,I,R){null===E&&(E=Function.prototype);var V=Object.getOwnPropertyDescriptor(E,I);if(V===void 0){var N=Object.getPrototypeOf(E);return null===N?void 0:S(N,I,R)}if('value'in V)return V.value;var F=V.get;return void 0===F?void 0:F.call(R)},C=s(48),O=function(S){return S&&S.__esModule?S:{default:S}}(C),T=function(S){function E(I){f(this,E);var R=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));return R.editor=I,R}return P(E,S),w(E,[{key:'set',value:function(R,V){var N=this;if('string'==typeof V){var F=V;V=function(L,q){N.editor.execute(F),q()}}M(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),'set',this).call(this,R,V)}}]),E}(O.default);u.default=T},function(r,u,s){'use strict';function d(W){return W&&W.__esModule?W:{default:W}}function f(W,H){if(!(W instanceof H))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function W(H,U){for(var K=0,$;K<U.length;K++)$=U[K],$.enumerable=$.enumerable||!1,$.configurable=!0,'value'in $&&($.writable=!0),Object.defineProperty(H,$.key,$)}return function(H,U,K){return U&&W(H.prototype,U),K&&W(H,K),H}}(),P=s(395),w=d(P),M=s(296),C=d(M),O=s(292),T=d(O),S=s(506),E=d(S),I=s(300),R=d(I),V=s(315),N=d(V),F=s(19),D=d(F),L=s(4),q=d(L),z=function(){function W(H){f(this,W);var U=this.constructor.build&&this.constructor.build.plugins;this.config=new w.default(H,this.constructor.build&&this.constructor.build.config),this.config.define('plugins',U),this.plugins=new C.default(this,U),this.commands=new T.default,this.locale=new E.default(this.config.get('lang')),this.t=this.locale.t,this.document=new N.default,this.data=new R.default(this.document),this.set('isReadOnly',!1)}return h(W,[{key:'initPlugins',value:function(){function H(G,Q){return G.reduce(function(Y,X){return X[Q]?Y.then(X[Q].bind(X)):Y},Promise.resolve())}var K=this,$=this,J=this.config;return function(){var G=J.get('plugins')||[],Q=J.get('removePlugins')||[];return $.plugins.load(G,Q)}().then(function(G){return H(G,'init').then(function(){return H(G,'afterInit')})}).then(function(){return K.fire('pluginsReady')})}},{key:'destroy',value:function(){var U=this;return this.fire('destroy'),this.stopListening(),this.commands.destroy(),this.plugins.destroy().then(function(){U.document.destroy(),U.data.destroy()})}},{key:'execute',value:function(){var U;(U=this.commands).execute.apply(U,arguments)}}],[{key:'create',value:function(U){var K=this;return new Promise(function($){var J=new K(U);$(J.initPlugins().then(function(){J.fire('dataReady'),J.fire('ready')}).then(function(){return J}))})}}]),W}();u.default=z,(0,q.default)(z,D.default)},function(r,u,s){'use strict';function d(L){return L&&L.__esModule?L:{default:L}}function f(L,q){if(!(L instanceof q))throw new TypeError('Cannot call a class as a function')}function h(L,q){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return q&&('object'==typeof q||'function'==typeof q)?q:L}function P(L,q){if('function'!=typeof q&&null!==q)throw new TypeError('Super expression must either be null or a function, not '+typeof q);L.prototype=Object.create(q&&q.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(L,q):L.__proto__=q)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function L(q,z){for(var W=0,H;W<z.length;W++)H=z[W],H.enumerable=H.enumerable||!1,H.configurable=!0,'value'in H&&(H.writable=!0),Object.defineProperty(q,H.key,H)}return function(q,z,W){return z&&L(q.prototype,z),W&&L(q,W),q}}(),M=function L(q,z,W){null===q&&(q=Function.prototype);var H=Object.getOwnPropertyDescriptor(q,z);if(H===void 0){var U=Object.getPrototypeOf(q);return null===U?void 0:L(U,z,W)}if('value'in H)return H.value;var K=H.get;return void 0===K?void 0:K.call(W)},C=s(294),O=d(C),T=s(293),S=d(T),E=s(302),I=d(E),R=s(398),V=d(R),N=s(405),F=d(N),D=function(L){function q(z,W){f(this,q);var H=h(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,W));return H.element=z,H.editing=new I.default(H.document),H.editing.view.bind('isReadOnly').to(H),H.keystrokes=new S.default(H),H.keystrokes.listenTo(H.editing.view),H}return P(q,L),w(q,[{key:'destroy',value:function(){var W=this;return Promise.resolve().then(function(){return W.keystrokes.destroy()}).then(function(){return W.editing.destroy()}).then(M(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),'destroy',this).call(this))}},{key:'setData',value:function(W){this.data.set(W)}},{key:'getData',value:function(){return this.data.get()}},{key:'updateEditorElement',value:function(){(0,F.default)(this.element,this.getData())}},{key:'loadDataFromEditorElement',value:function(){this.setData((0,V.default)(this.element))}}],[{key:'create',value:function(W,H){var U=this;return new Promise(function(K){var $=new U(W,H);K($.initPlugins().then(function(){$.fire('dataReady'),$.fire('ready')}).then(function(){return $}))})}}]),q}(O.default);u.default=D},function(r,u,s){'use strict';function d(S){return S&&S.__esModule?S:{default:S}}function f(S,E){if(!(S instanceof E))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function S(E,I){var R=[],V=!0,N=!1,F;try{for(var D=E[Symbol.iterator](),L;!(V=(L=D.next()).done)&&(R.push(L.value),!(I&&R.length===I));V=!0);}catch(q){N=!0,F=q}finally{try{!V&&D['return']&&D['return']()}finally{if(N)throw F}}return R}return function(E,I){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return S(E,I);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),P=function(){function S(E,I){for(var R=0,V;R<I.length;R++)V=I[R],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(E,V.key,V)}return function(E,I,R){return I&&S(E.prototype,I),R&&S(E,R),E}}(),w=s(0),M=d(w),C=s(42),O=d(C),T=function(){function S(E){var I=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];f(this,S),this._editor=E,this._availablePlugins=new Map,this._plugins=new Map;var R=!0,V=!1,N;try{for(var F=I[Symbol.iterator](),D,L;!(R=(D=F.next()).done);R=!0)L=D.value,this._availablePlugins.set(L,L),L.pluginName&&this._availablePlugins.set(L.pluginName,L)}catch(q){V=!0,N=q}finally{try{!R&&F.return&&F.return()}finally{if(V)throw N}}}return P(S,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function E(){var I,R,V,N,F,D;return regeneratorRuntime.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:I=!0,R=!1,V=void 0,q.prev=3,N=this._plugins[Symbol.iterator]();case 5:if(I=(F=N.next()).done){q.next=13;break}if(D=F.value,'function'!=typeof D[0]){q.next=10;break}return q.next=10,D;case 10:I=!0,q.next=5;break;case 13:q.next=19;break;case 15:q.prev=15,q.t0=q['catch'](3),R=!0,V=q.t0;case 19:q.prev=19,q.prev=20,!I&&N.return&&N.return();case 22:if(q.prev=22,!R){q.next=25;break}throw V;case 25:return q.finish(22);case 26:return q.finish(19);case 27:case'end':return q.stop();}},E,this,[[3,15,19,27],[20,,22,26]])})},{key:'get',value:function(I){return this._plugins.get(I)}},{key:'load',value:function(I){function R(G){return K.includes(G)||q.get(G)||W.has(G)?void 0:V(G).catch(function(Q){throw O.default.error('plugincollection-load: It was not possible to load the plugin.',{plugin:G}),Q})}function V(G){return new Promise(function(Q){W.add(G),G.requires&&G.requires.forEach(function(X){var Z=N(X);if(L.includes(Z))throw new M.default('plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.',{plugin:Z,requiredBy:G});R(Z)});var Y=new G(z);q._add(G,Y),H.push(Y),Q()})}function N(G){return'function'==typeof G?G:q._availablePlugins.get(G)}function D(G){return G.map(function(Q){return N(Q)}).filter(function(Q){return!!Q})}var L=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],q=this,z=this._editor,W=new Set,H=[],U=D(I),K=D(L),$=function(G){var Q=[],Y=!0,X=!1,Z;try{for(var ee=G[Symbol.iterator](),te,re;!(Y=(te=ee.next()).done);Y=!0)re=te.value,N(re)||Q.push(re)}catch(ae){X=!0,Z=ae}finally{try{!Y&&ee.return&&ee.return()}finally{if(X)throw Z}}return Q.length?Q:null}(I);if($){var J='plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.';return O.default.error(J,{plugins:$}),Promise.reject(new M.default(J,{plugins:$}))}return Promise.all(U.map(R)).then(function(){return H})}},{key:'destroy',value:function(){var I=Array.from(this).map(function(R){var V=h(R,2),N=V[1];return N}).filter(function(R){return'function'==typeof R.destroy}).map(function(R){return R.destroy()});return Promise.all(I)}},{key:'_add',value:function(I,R){this._plugins.set(I,R);var V=I.pluginName;V&&(this._plugins.has(V)?O.default.warn('plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.',{pluginName:V,plugin1:this._plugins.get(V).constructor,plugin2:I}):this._plugins.set(V,R))}}]),S}();u.default=T},function(r,u,s){'use strict';function d(L){return L&&L.__esModule?L:{default:L}}function f(L,q){if(!(L instanceof q))throw new TypeError('Cannot call a class as a function')}function h(L,q){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return q&&('object'==typeof q||'function'==typeof q)?q:L}function P(L,q){if('function'!=typeof q&&null!==q)throw new TypeError('Super expression must either be null or a function, not '+typeof q);L.prototype=Object.create(q&&q.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(L,q):L.__proto__=q)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function L(q,z){for(var W=0,H;W<z.length;W++)H=z[W],H.enumerable=H.enumerable||!1,H.configurable=!0,'value'in H&&(H.writable=!0),Object.defineProperty(q,H.key,H)}return function(q,z,W){return z&&L(q.prototype,z),W&&L(q,W),q}}(),M=function L(q,z,W){null===q&&(q=Function.prototype);var H=Object.getOwnPropertyDescriptor(q,z);if(H===void 0){var U=Object.getPrototypeOf(q);return null===U?void 0:L(U,z,W)}if('value'in H)return H.value;var K=H.get;return void 0===K?void 0:K.call(W)},C=s(295),O=d(C),T=s(162),S=d(T),E=s(298),I=d(E),R=s(299),V=d(R),N=s(406),F=d(N);s(534);var D=function(L){function q(z,W){f(this,q);var H=h(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,z,W));return H.document.createRoot(),H.data.processor=new S.default,H.ui=new I.default(H,new V.default(H.locale)),H._elementReplacer=new F.default,H}return P(q,L),w(q,[{key:'destroy',value:function(){return this.updateEditorElement(),this._elementReplacer.restore(),this.ui.destroy(),M(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),'destroy',this).call(this)}}],[{key:'create',value:function(W,H){var U=this;return new Promise(function(K){var $=new U(W,H);K($.initPlugins().then(function(){return $._elementReplacer.replace(W,$.ui.view.element)}).then(function(){$.ui.init(),$.fire('uiReady')}).then(function(){return $.editing.view.attachDomRoot($.ui.view.editableElement)}).then(function(){return $.loadDataFromEditorElement()}).then(function(){$.fire('dataReady'),$.fire('ready')}).then(function(){return $}))})}}]),q}(O.default);u.default=D},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}function f(R,V){if(!(R instanceof V))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function R(V,N){for(var F=0,D;F<N.length;F++)D=N[F],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(V,D.key,D)}return function(V,N,F){return N&&R(V.prototype,N),F&&R(V,F),V}}(),P=s(372),w=d(P),M=s(67),C=d(M),O=s(386),T=d(O),S=s(387),E=d(S),I=function(){function R(V,N){f(this,R),this.editor=V,this.view=N,this.componentFactory=new w.default(V),this.focusTracker=new C.default,this._toolbarConfig=(0,E.default)(V.config.get('toolbar')),N.set('width',V.config.get('ui.width')),N.set('height',V.config.get('ui.height')),N.toolbar.bind('isActive').to(this.focusTracker,'isFocused'),N.toolbar.limiterElement=N.element,this._toolbarConfig&&this._toolbarConfig.viewportTopOffset&&(N.toolbar.viewportTopOffset=this._toolbarConfig.viewportTopOffset);var F=V.editing.createRoot('div');N.editable.bind('isReadOnly').to(F),N.editable.bind('isFocused').to(V.editing.view),N.editable.name=F.rootName,this.focusTracker.add(N.editableElement)}return h(R,[{key:'init',value:function(){var N=this.editor;this.view.init(),this._toolbarConfig&&this.view.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),(0,T.default)({origin:N.editing.view,originFocusTracker:this.focusTracker,originKeystrokeHandler:N.keystrokes,toolbar:this.view.toolbar})}},{key:'destroy',value:function(){this.view.destroy()}}]),R}();u.default=I},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}function f(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function h(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function P(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function N(F,D){for(var L=0,q;L<D.length;L++)q=D[L],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(F,q.key,q)}return function(F,D,L){return D&&N(F.prototype,D),L&&N(F,L),F}}(),M=s(379),C=d(M),O=s(378),T=d(O),S=s(388),E=d(S),I=s(5),R=d(I),V=function(N){function F(D){f(this,F);var L=h(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,D));return L.toolbar=new E.default(D),R.default.extend(L.toolbar.template,{attributes:{class:'ck-editor-toolbar'}}),L.editable=new T.default(D),L.top.add(L.toolbar),L.main.add(L.editable),L}return P(F,N),w(F,[{key:'editableElement',get:function(){return this.editable.element}}]),F}(C.default);u.default=V},function(r,u,s){'use strict';function d(Z){return Z&&Z.__esModule?Z:{default:Z}}function f(Z,ee){if(!(Z instanceof ee))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function Z(ee,te){for(var re=0,ae;re<te.length;re++)ae=te[re],ae.enumerable=ae.enumerable||!1,ae.configurable=!0,'value'in ae&&(ae.writable=!0),Object.defineProperty(ee,ae.key,ae)}return function(ee,te,re){return te&&Z(ee.prototype,te),re&&Z(ee,re),ee}}(),P=s(4),w=d(P),M=s(19),C=d(M),O=s(159),T=d(O),S=s(161),E=d(S),I=s(109),R=s(310),V=d(R),N=s(308),F=s(119),D=d(F),L=s(3),q=d(L),z=s(1),W=d(z),H=s(304),U=d(H),K=s(301),$=d(K),J=s(305),G=d(J),Q=s(303),Y=d(Q),X=function(){function Z(ee,te){var re=this;f(this,Z),this.model=ee,this.processor=te,this.mapper=new T.default,this.modelToView=new E.default(this.model,{mapper:this.mapper}),this.modelToView.on('insert:$text',(0,I.insertText)(),{priority:'lowest'}),this.viewToModel=new V.default({schema:ee.schema}),this.viewToModel.on('text',(0,N.convertText)(),{priority:'lowest'}),this.viewToModel.on('element',(0,N.convertToModelFragment)(),{priority:'lowest'}),this.viewToModel.on('documentFragment',(0,N.convertToModelFragment)(),{priority:'lowest'}),['insertContent','deleteContent','modifySelection','getSelectedContent'].forEach(function(ae){return re.decorate(ae)})}return h(Z,[{key:'get',value:function(){var te=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'main';return this.stringify(this.model.getRoot(te))}},{key:'stringify',value:function(te){var re=this.toView(te);return this.processor.toData(re)}},{key:'toView',value:function(te){var re=q.default.createIn(te),ae=new D.default;return this.mapper.bindElements(te,ae),this.modelToView.convertInsertion(re),this.mapper.clearBindings(),ae}},{key:'set',value:function(te){var re=this,ae=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'main',oe=this.model.getRoot(ae);this.model.enqueueChanges(function(){re.model.selection.removeAllRanges(),re.model.selection.clearAttributes(),re.model.batch('transparent').remove(q.default.createIn(oe)).insert(W.default.createAt(oe,0),re.parse(te))})}},{key:'parse',value:function(te){var re=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'$root',ae=this.processor.toView(te);return this.toModel(ae,re)}},{key:'toModel',value:function(te){var re=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'$root';return this.viewToModel.convert(te,{context:[re]})}},{key:'destroy',value:function(){}},{key:'insertContent',value:function(te,re,ae){(0,U.default)(this,te,re,ae)}},{key:'deleteContent',value:function(te,re,ae){(0,$.default)(te,re,ae)}},{key:'modifySelection',value:function(te,re){(0,G.default)(this,te,re)}},{key:'getSelectedContent',value:function(te){return(0,Y.default)(te)}}]),Z}();u.default=X,(0,w.default)(X,C.default)},function(r,u,s){'use strict';function d(D){return D&&D.__esModule?D:{default:D}}function h(D,L,q){var z=L.parent,W=q.parent;if(z!=W&&z.parent&&W.parent&&w(L,q)){for(L=I.default.createAfter(z),q=I.default.createBefore(W),W.isEmpty?D.remove(W):(!q.isEqual(L)&&D.move(W,L),D.merge(L));q.parent.isEmpty;){var H=q.parent;q=I.default.createBefore(H),D.remove(H)}h(D,L,q)}}function P(D,L){var q=D.schema.check({name:'$text',inside:L}),z=D.schema.check({name:'paragraph',inside:L});return!q&&z}function w(D,L){var q=D.root.document.schema,z=new V.default(D,L),W=!0,H=!1,U;try{for(var K=z.getWalker()[Symbol.iterator](),$,J;!(W=($=K.next()).done);W=!0)if(J=$.value,q.objects.has(J.item.name)||q.limits.has(J.item.name))return!1}catch(G){H=!0,U=G}finally{try{!W&&K.return&&K.return()}finally{if(H)throw U}}return!0}function M(D,L,q){var z=new F.default('paragraph');D.insert(L,z),q.collapse(z)}function C(D,L){var q=D.document.schema.getLimitElement(L);D.remove(V.default.createIn(q)),M(D,I.default.createAt(q),L)}function O(D,L){var q=D.getLimitElement(L),z=I.default.createAt(q),W=I.default.createAt(q,'end');if(!z.isTouching(L.getFirstPosition())||!W.isTouching(L.getLastPosition()))return!1;var H=L.getFirstRange();return H.start.parent!=H.end.parent&&!!D.check({name:'paragraph',inside:q.name})}Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(D,L){var q=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};if(!D.isCollapsed){if(!q.doNotResetEntireContent&&O(L.document.schema,D))return void C(L,D);var z=D.getFirstRange(),W=z.start,H=S.default.createFromPosition(z.end);z.start.isTouching(z.end)||L.remove(z),q.leaveUnmerged||h(L,W,H),D.collapse(W),P(L.document,W)&&M(L,W,D),H.detach()}};var T=s(165),S=d(T),E=s(1),I=d(E),R=s(3),V=d(R),N=s(6),F=d(N)},function(r,u,s){'use strict';function d(L){return L&&L.__esModule?L:{default:L}}function f(L,q){if(!(L instanceof q))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function L(q,z){for(var W=0,H;W<z.length;W++)H=z[W],H.enumerable=H.enumerable||!1,H.configurable=!0,'value'in H&&(H.writable=!0),Object.defineProperty(q,H.key,H)}return function(q,z,W){return z&&L(q.prototype,z),W&&L(q,W),q}}(),P=s(323),w=d(P),M=s(159),C=d(M),O=s(161),T=d(O),S=s(109),E=s(307),I=s(160),R=s(19),V=d(R),N=s(4),F=d(N),D=function(){function L(q){var z=this;f(this,L),this.model=q,this.view=new w.default,this.mapper=new C.default,this.modelToView=new T.default(this.model,{mapper:this.mapper,viewSelection:this.view.selection}),this.listenTo(this.model,'change',function(W,H,U){z.modelToView.convertChange(H,U)},{priority:'low'}),this.listenTo(this.model,'changesDone',function(){var W=z.model.selection;z.modelToView.convertSelection(W),z.view.render()},{priority:'low'}),this.listenTo(this.model.markers,'add',function(W,H){z.modelToView.convertMarker('addMarker',H.name,H.getRange())}),this.listenTo(this.model.markers,'remove',function(W,H){z.modelToView.convertMarker('removeMarker',H.name,H.getRange())}),this.listenTo(this.view,'selectionChange',(0,E.convertSelectionChange)(this.model,this.mapper)),this.modelToView.on('insert:$text',(0,S.insertText)(),{priority:'lowest'}),this.modelToView.on('remove',(0,S.remove)(),{priority:'low'}),this.modelToView.on('selection',(0,I.clearAttributes)(),{priority:'low'}),this.modelToView.on('selection',(0,I.clearFakeSelection)(),{priority:'low'}),this.modelToView.on('selection',(0,I.convertRangeSelection)(),{priority:'low'}),this.modelToView.on('selection',(0,I.convertCollapsedSelection)(),{priority:'low'})}return h(L,[{key:'createRoot',value:function(z){var W=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'main',H=this.view.createRoot(z,W),U=this.model.getRoot(W);return this.mapper.bindElements(U,H),H}},{key:'destroy',value:function(){this.view.destroy(),this.stopListening()}}]),L}();u.default=D,(0,F.default)(D,V.default)},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}function h(R){var V=[];Array.from(R.getItems({direction:'backward'})).map(function(N){return C.default.createOn(N)}).filter(function(N){var F=(N.start.isAfter(R.start)||N.start.isEqual(R.start))&&(N.end.isBefore(R.end)||N.end.isEqual(R.end));return F}).forEach(function(N){V.push(N.start.parent),(0,I.remove)(N)}),V.forEach(function(N){for(var F=N,D;F.parent&&F.isEmpty;)D=C.default.createOn(F),F=F.parent,(0,I.remove)(D)})}Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(R){var V=new w.default,N=R.getFirstRange();if(!N||N.isCollapsed)return V;var F=N.start.root,D=N.start.getCommonPath(N.end),L=F.getNodeByPath(D),q;q=N.start.parent==N.end.parent?N:C.default.createFromParentsAndOffsets(L,N.start.path[D.length],L,N.end.path[D.length]+1);var z=q.end.offset-q.start.offset,W=!0,H=!1,U;try{for(var K=q.getItems({shallow:!0})[Symbol.iterator](),$,J;!(W=($=K.next()).done);W=!0)J=$.value,J.is('textProxy')?V.appendChildren(new E.default(J.data,J.getAttributes())):V.appendChildren(J.clone(!0))}catch(X){H=!0,U=X}finally{try{!W&&K.return&&K.return()}finally{if(H)throw U}}if(q!=N){var G=N._getTransformedByMove(q.start,T.default.createAt(V,0),z)[0],Q=new C.default(T.default.createAt(V),G.start),Y=new C.default(G.end,T.default.createAt(V,'end'));h(Y),h(Q)}return V};var P=s(35),w=d(P),M=s(3),C=d(M),O=s(1),T=d(O),S=s(27),E=d(S),I=s(21)},function(r,u,s){'use strict';function d(F){return F&&F.__esModule?F:{default:F}}function f(F,D){if(!(F instanceof D))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var P=function(){function F(D,L){for(var q=0,z;q<L.length;q++)z=L[q],z.enumerable=z.enumerable||!1,z.configurable=!0,'value'in z&&(z.writable=!0),Object.defineProperty(D,z.key,z)}return function(D,L,q){return L&&F(D.prototype,L),q&&F(D,q),D}}();u.default=function(F,D,L,q){q||(q=F.model.batch()),L.isCollapsed||F.deleteContent(L,q);var z=new N(F,q,L.anchor),W;W=D.is('documentFragment')?D.getChildren():[D],z.handleNodes(W,{isFirst:!0,isLast:!0});var H=z.getSelectionRange();H?L.setRanges([H]):V.default.warn('insertcontent-no-range: Cannot determine a proper selection range after insertion.')};var w=s(1),M=d(w),C=s(165),O=d(C),T=s(6),S=d(T),E=s(3),I=d(E),R=s(42),V=d(R),N=function(){function F(D,L,q){f(this,F),this.dataController=D,this.batch=L,this.position=q,this.canMergeWith=new Set([this.position.parent]),this.schema=D.model.schema}return P(F,[{key:'handleNodes',value:function(L,q){L=Array.from(L);for(var z=0,W;z<L.length;z++)W=L[z],this._handleNode(W,{isFirst:0===z&&q.isFirst,isLast:z===L.length-1&&q.isLast})}},{key:'getSelectionRange',value:function(){return this.nodeToSelect?I.default.createOn(this.nodeToSelect):this.dataController.model.getNearestSelectionRange(this.position)}},{key:'_handleNode',value:function(L,q){if(this._checkIsObject(L))return void this._handleObject(L,q);var z=this._checkAndSplitToAllowedPosition(L,q);return z?void(this._insert(L),this._mergeSiblingsOf(L,q)):void this._handleDisallowedNode(L,q)}},{key:'_handleObject',value:function(L,q){this._checkAndSplitToAllowedPosition(L)?this._insert(L):this._tryAutoparagraphing(L,q)}},{key:'_handleDisallowedNode',value:function(L,q){L.is('element')?this.handleNodes(L.getChildren(),q):this._tryAutoparagraphing(L,q)}},{key:'_insert',value:function(L){if(!this._checkIsAllowed(L,[this.position.parent]))return void V.default.error('insertcontent-wrong-position: The node cannot be inserted on the given position.',{node:L,position:this.position});var q=O.default.createFromPosition(this.position);this.batch.insert(this.position,L),this.position=M.default.createFromPosition(q),q.detach(),this.nodeToSelect=this._checkIsObject(L)&&!this.schema.check({name:'$text',inside:[this.position.parent]})?L:null}},{key:'_mergeSiblingsOf',value:function(L,q){if(L instanceof S.default){var z=q.isFirst&&L.previousSibling instanceof S.default&&this.canMergeWith.has(L.previousSibling),W=q.isLast&&L.nextSibling instanceof S.default&&this.canMergeWith.has(L.nextSibling),H=O.default.createBefore(L),U=O.default.createAfter(L);if(z){var K=O.default.createFromPosition(this.position);this.batch.merge(H),this.position=M.default.createFromPosition(K),K.detach()}if(W){this.position.isEqual(U)||V.default.error('insertcontent-wrong-position-on-merge: The insertion position should equal the merge position'),this.position=M.default.createAt(U.nodeBefore,'end');var $=new O.default(this.position.root,this.position.path,'sticksToPrevious');this.batch.merge(U),this.position=M.default.createFromPosition($),$.detach()}H.detach(),U.detach()}}},{key:'_tryAutoparagraphing',value:function(L,q){var z=new S.default('paragraph');this._getAllowedIn(z,this.position.parent)&&this._checkIsAllowed(L,[z])&&(z.appendChildren(L),this._handleNode(z,q))}},{key:'_checkAndSplitToAllowedPosition',value:function(L){var q=this._getAllowedIn(L,this.position.parent);if(!q)return!1;for(;q!=this.position.parent;){if(this.schema.limits.has(this.position.parent.name))return!1;if(this.position.isAtStart){var z=this.position.parent;this.position=M.default.createBefore(z),z.isEmpty&&this.batch.remove(z)}else if(this.position.isAtEnd)this.position=M.default.createAfter(this.position.parent);else{var W=M.default.createAfter(this.position.parent);this.batch.split(this.position),this.position=W,this.canMergeWith.add(this.position.nodeAfter)}}return!0}},{key:'_getAllowedIn',value:function(L,q){return this._checkIsAllowed(L,[q])?q:q.parent?this._getAllowedIn(L,q.parent):null}},{key:'_checkIsAllowed',value:function(L,q){return this.schema.check({name:this._getNodeSchemaName(L),attributes:Array.from(L.getAttributeKeys()),inside:q})}},{key:'_checkIsObject',value:function(L){return this.schema.objects.has(this._getNodeSchemaName(L))}},{key:'_getNodeSchemaName',value:function(L){return L.is('text')?'$text':L.name}}]),F}()},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}function h(R,V){if('text'==V.type)return P(R.walker,R.unit);if(V.type==(R.isForward?'elementStart':'elementEnd')){if(R.schema.objects.has(V.item.name))return C.default.createAt(V.item,R.isForward?'after':'before');if(R.schema.check({name:'$text',inside:V.nextPosition}))return V.nextPosition}else{if(R.schema.limits.has(V.item.name))return void R.walker.skip(function(){return!0});if(R.schema.check({name:'$text',inside:V.nextPosition}))return V.nextPosition}}function P(R,V){var N=R.position.textNode;if(N)for(var F=N.data,D=R.position.offset-N.startOffset;(0,I.isInsideSurrogatePair)(F,D)||'character'==V&&(0,I.isInsideCombinedSymbol)(F,D);)R.next(),D=R.position.offset-N.startOffset;return R.position}function w(R,V){var N=R.root,F=C.default.createAt(N,V?'end':0);return V?new E.default(R,F):new E.default(F,R)}Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(R,V){for(var N=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},F=R.model.schema,D='backward'!=N.direction,L=N.unit?N.unit:'character',q=V.focus,z=new T.default({boundaries:w(q,D),singleCharacters:!0,direction:D?'forward':'backward'}),W={walker:z,schema:F,isForward:D,unit:L},H;H=z.next();){if(H.done)return;var U=h(W,H.value);if(U)return void V.setFocus(U)}};var M=s(1),C=d(M),O=s(53),T=d(O),S=s(3),E=d(S),I=s(272)},function(r,u,s){'use strict';function f(C,O){if(!(C instanceof O))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function C(O,T){for(var S=0,E;S<T.length;S++)E=T[S],E.enumerable=E.enumerable||!1,E.configurable=!0,'value'in E&&(E.writable=!0),Object.defineProperty(O,E.key,E)}return function(O,T,S){return T&&C(O.prototype,T),S&&C(O,S),O}}(),P=s(63),w=function(C){return C&&C.__esModule?C:{default:C}}(P),M=function(){function C(){f(this,C),this._consumable=new Map,this._textProxyRegistry=new Map}return h(C,[{key:'add',value:function(T,S){T instanceof w.default&&(T=this._getSymbolForTextProxy(T)),this._consumable.has(T)||this._consumable.set(T,new Map),this._consumable.get(T).set(S,!0)}},{key:'consume',value:function(T,S){return T instanceof w.default&&(T=this._getSymbolForTextProxy(T)),!!this.test(T,S)&&(this._consumable.get(T).set(S,!1),!0)}},{key:'test',value:function(T,S){T instanceof w.default&&(T=this._getSymbolForTextProxy(T));var E=this._consumable.get(T);if(void 0===E)return null;var I=E.get(S);return void 0===I?null:I}},{key:'revert',value:function(T,S){T instanceof w.default&&(T=this._getSymbolForTextProxy(T));var E=this.test(T,S);return!1===E?(this._consumable.get(T).set(S,!0),!0):!0!==E&&null}},{key:'_getSymbolForTextProxy',value:function(T){var S=null,E=this._textProxyRegistry.get(T.startOffset);if(E){var I=E.get(T.endOffset);I&&(S=I.get(T.parent))}return S||(S=this._addSymbolForTextProxy(T.startOffset,T.endOffset,T.parent)),S}},{key:'_addSymbolForTextProxy',value:function(T,S,E){var I=Symbol('textProxySymbol'),R,V;return R=this._textProxyRegistry.get(T),R||(R=new Map,this._textProxyRegistry.set(T,R)),V=R.get(S),V||(V=new Map,R.set(S,V)),V.set(E,I),I}}]),C}();u.default=M},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.convertSelectionChange=function(w,M){return function(C,O){var T=O.newSelection,S=new P.default,E=[],I=!0,R=!1,V;try{for(var N=T.getRanges()[Symbol.iterator](),F,D;!(I=(F=N.next()).done);I=!0)D=F.value,E.push(M.toModelRange(D))}catch(L){R=!0,V=L}finally{try{!I&&N.return&&N.return()}finally{if(R)throw V}}S.setRanges(E,T.isBackward),S.isEqual(w.selection)||w.enqueueChanges(function(){w.selection.setTo(S)})}};var h=s(81),P=function(w){return w&&w.__esModule?w:{default:w}}(h)},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(u,'__esModule',{value:!0}),u.convertToModelFragment=function(){return function(T,S,E,I){if(!S.output&&E.consume(S.input,{name:!0})){var R=I.convertChildren(S.input,E,S);S.output=new w.default((0,O.normalizeNodes)(R))}}},u.convertText=function(){return function(T,S,E,I){var R={name:'$text',inside:S.context};I.schema.check(R)&&E.consume(S.input)&&(S.output=new C.default(S.input.data))}};var P=s(35),w=d(P),M=s(27),C=d(M),O=s(21)},function(r,u,s){'use strict';function d(E){return E&&E.__esModule?E:{default:E}}function f(E){if(Array.isArray(E)){for(var I=0,R=Array(E.length);I<E.length;I++)R[I]=E[I];return R}return Array.from(E)}function h(E,I){if(!(E instanceof I))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var P=function(){function E(I,R){for(var V=0,N;V<R.length;V++)N=R[V],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}return function(I,R,V){return R&&E(I.prototype,R),V&&E(I,V),I}}(),w=s(12),M=d(w),C=s(0),O=d(C),T=function(){function E(){h(this,E),this._consumables=new Map}return P(E,[{key:'add',value:function(R,V){var N;return R.is('text')||R.is('documentFragment')?void this._consumables.set(R,!0):void(this._consumables.has(R)?N=this._consumables.get(R):(N=new S,this._consumables.set(R,N)),N.add(V))}},{key:'test',value:function(R,V){var N=this._consumables.get(R);return void 0===N?null:R.is('text')||R.is('documentFragment')?N:N.test(V)}},{key:'consume',value:function(R,V){return!!this.test(R,V)&&(R.is('text')||R.is('documentFragment')?this._consumables.set(R,!1):this._consumables.get(R).consume(V),!0)}},{key:'revert',value:function(R,V){var N=this._consumables.get(R);void 0!==N&&(R.is('text')||R.is('documentFragment')?this._consumables.set(R,!0):N.revert(V))}}],[{key:'consumablesFromElement',value:function(R){var V={name:!0,attribute:[],class:[],style:[]},N=R.getAttributeKeys(),F=!0,D=!1,L;try{for(var q=N[Symbol.iterator](),z,W;!(F=(z=q.next()).done);F=!0)(W=z.value,'style'!=W&&'class'!=W)&&V.attribute.push(W)}catch(oe){D=!0,L=oe}finally{try{!F&&q.return&&q.return()}finally{if(D)throw L}}var H=R.getClassNames(),U=!0,K=!1,$;try{for(var J=H[Symbol.iterator](),G,Q;!(U=(G=J.next()).done);U=!0)Q=G.value,V.class.push(Q)}catch(oe){K=!0,$=oe}finally{try{!U&&J.return&&J.return()}finally{if(K)throw $}}var Y=R.getStyleNames(),X=!0,Z=!1,ee;try{for(var te=Y[Symbol.iterator](),re,ae;!(X=(re=te.next()).done);X=!0)ae=re.value,V.style.push(ae)}catch(oe){Z=!0,ee=oe}finally{try{!X&&te.return&&te.return()}finally{if(Z)throw ee}}return V}},{key:'createFrom',value:function(R,V){if(V||(V=new E),R.is('text'))return V.add(R),V;R.is('element')&&V.add(R,E.consumablesFromElement(R)),R.is('documentFragment')&&V.add(R);var N=!0,F=!1,D;try{for(var L=R.getChildren()[Symbol.iterator](),q,z;!(N=(q=L.next()).done);N=!0)z=q.value,V=E.createFrom(z,V)}catch(W){F=!0,D=W}finally{try{!N&&L.return&&L.return()}finally{if(F)throw D}}return V}}]),E}();u.default=T;var S=function(){function E(){h(this,E),this._canConsumeName=null,this._consumables={attribute:new Map,style:new Map,class:new Map}}return P(E,[{key:'add',value:function(R){for(var V in R.name&&(this._canConsumeName=!0),this._consumables)V in R&&this._add(V,R[V])}},{key:'test',value:function(R){if(R.name&&!this._canConsumeName)return this._canConsumeName;for(var V in this._consumables)if(V in R){var N=this._test(V,R[V]);if(!0!==N)return N}return!0}},{key:'consume',value:function(R){for(var V in R.name&&(this._canConsumeName=!1),this._consumables)V in R&&this._consume(V,R[V])}},{key:'revert',value:function(R){for(var V in R.name&&(this._canConsumeName=!0),this._consumables)V in R&&this._revert(V,R[V])}},{key:'_add',value:function(R,V){var N=(0,M.default)(V)?V:[V],F=this._consumables[R],D=!0,L=!1,q;try{for(var z=N[Symbol.iterator](),W,H;!(D=(W=z.next()).done);D=!0){if(H=W.value,'attribute'===R&&('class'===H||'style'===H))throw new O.default('viewconsumable-invalid-attribute: Classes and styles should be handled separately.');F.set(H,!0)}}catch(U){L=!0,q=U}finally{try{!D&&z.return&&z.return()}finally{if(L)throw q}}}},{key:'_test',value:function(R,V){var N=(0,M.default)(V)?V:[V],F=this._consumables[R],D=!0,L=!1,q;try{for(var z=N[Symbol.iterator](),W,H;!(D=(W=z.next()).done);D=!0)if(H=W.value,'attribute'===R&&('class'===H||'style'===H)){var U=this._test(H,[].concat(f(this._consumables[H].keys())));if(!0!==U)return U}else{var K=F.get(H);if(void 0===K)return null;if(!K)return!1}}catch($){L=!0,q=$}finally{try{!D&&z.return&&z.return()}finally{if(L)throw q}}return!0}},{key:'_consume',value:function(R,V){var N=(0,M.default)(V)?V:[V],F=this._consumables[R],D=!0,L=!1,q;try{for(var z=N[Symbol.iterator](),W,H;!(D=(W=z.next()).done);D=!0)H=W.value,'attribute'===R&&('class'===H||'style'===H)?this._consume(H,[].concat(f(this._consumables[H].keys()))):F.set(H,!1)}catch(U){L=!0,q=U}finally{try{!D&&z.return&&z.return()}finally{if(L)throw q}}}},{key:'_revert',value:function(R,V){var N=(0,M.default)(V)?V:[V],F=this._consumables[R],D=!0,L=!1,q;try{for(var z=N[Symbol.iterator](),W,H;!(D=(W=z.next()).done);D=!0)if(H=W.value,'attribute'===R&&('class'===H||'style'===H))this._revert(H,[].concat(f(this._consumables[H].keys())));else{var U=F.get(H);!1===U&&F.set(H,!0)}}catch(K){L=!0,q=K}finally{try{!D&&z.return&&z.return()}finally{if(L)throw q}}}}]),E}()},function(r,u,s){'use strict';function d(G){return G&&G.__esModule?G:{default:G}}function f(G,Q){if(!(G instanceof Q))throw new TypeError('Cannot call a class as a function')}function h(G){var Q=new Set,Y=new Map,X=new I.default({startPosition:S.default.createAt(G,0),ignoreElementEnd:!0}),Z=!0,ee=!1,te;try{for(var re=X[Symbol.iterator](),ae,oe;!(Z=(ae=re.next()).done);Z=!0)oe=ae.value,'$marker'==oe.item.name&&Q.add(oe.item)}catch(pe){ee=!0,te=pe}finally{try{!Z&&re.return&&re.return()}finally{if(ee)throw te}}var ne=!0,le=!1,ue;try{for(var ie=Q[Symbol.iterator](),se;!(ne=(se=ie.next()).done);ne=!0){var de=se.value,fe=de.getAttribute('data-name'),ce=S.default.createBefore(de);Y.has(fe)?Y.get(fe).end=S.default.createFromPosition(ce):Y.set(fe,new O.default(S.default.createFromPosition(ce))),(0,D.remove)(O.default.createOn(de))}}catch(pe){le=!0,ue=pe}finally{try{!ne&&ie.return&&ie.return()}finally{if(le)throw ue}}return Y}Object.defineProperty(u,'__esModule',{value:!0});var P=function(){function G(Q,Y){for(var X=0,Z;X<Y.length;X++)Z=Y[X],Z.enumerable=Z.enumerable||!1,Z.configurable=!0,'value'in Z&&(Z.writable=!0),Object.defineProperty(Q,Z.key,Z)}return function(Q,Y,X){return Y&&G(Q.prototype,Y),X&&G(Q,X),Q}}(),w=s(309),M=d(w),C=s(3),O=d(C),T=s(1),S=d(T),E=s(53),I=d(E),R=s(61),V=d(R),N=s(35),F=d(N),D=s(21),L=s(9),q=d(L),z=s(4),W=d(z),H=s(50),U=d(H),K=s(42),$=d(K),J=function(){function G(){var Q=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};f(this,G),this.conversionApi=(0,U.default)({},Q),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this)}return P(G,[{key:'convert',value:function(Y){var X=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.fire('viewCleanup',Y);var Z=M.default.createFrom(Y),ee=this._convertItem(Y,Z,X);return ee?(ee.is('documentFragment')||(ee=new F.default([ee])),ee.markers=h(ee),ee):new F.default}},{key:'_convertItem',value:function(Y,X){var Z=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},ee=(0,U.default)({},Z,{input:Y,output:null});return Y.is('element')?this.fire('element:'+Y.name,ee,X,this.conversionApi):Y.is('text')?this.fire('text',ee,X,this.conversionApi):this.fire('documentFragment',ee,X,this.conversionApi),ee.output&&!(ee.output instanceof V.default||ee.output instanceof F.default)?($.default.warn('view-conversion-dispatcher-incorrect-result: Dropped incorrect conversion result.',[Y,ee.output]),null):ee.output}},{key:'_convertChildren',value:function(Y,X){var Z=this,ee=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},te=Array.from(Y.getChildren()),re=te.map(function(ae){return Z._convertItem(ae,X,ee)}).filter(function(ae){return ae instanceof V.default||ae instanceof F.default}).reduce(function(ae,oe){return ae.concat(oe.is('documentFragment')?Array.from(oe.getChildren()):oe)},[]);return new F.default(re)}}]),G}();u.default=J,(0,W.default)(J,q.default)},function(r,u){'use strict';function d(P,w){if(!(P instanceof w))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var f=function(){function P(w,M){for(var C=0,O;C<M.length;C++)O=M[C],O.enumerable=O.enumerable||!1,O.configurable=!0,'value'in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}return function(w,M,C){return M&&P(w.prototype,M),C&&P(w,C),w}}(),h=function(){function P(){d(this,P)}return f(P,[{key:'getHtml',value:function(M){var C=document.implementation.createHTMLDocument(''),O=C.createElement('div');return O.appendChild(M),O.innerHTML}}]),P}();u.default=h},function(r,u,s){'use strict';function d(H){return H&&H.__esModule?H:{default:H}}var f=s(110),h=d(f),P=s(111),w=d(P),M=s(73),C=d(M),O=s(74),T=d(O),S=s(75),E=d(S),I=s(112),R=d(I),V=s(76),N=d(V),F=s(77),D=d(F),L=s(164),q=d(L),z=s(78),W=d(z)},function(r,u,s){'use strict';function d(pe){return pe&&pe.__esModule?pe:{default:pe}}function f(pe,me){var ge=pe.clone(),ye=ge.operations[0];return ye.oldRange&&(ye.oldRange=ye.oldRange.getTransformedByDelta(me)[0]),ye.newRange&&(ye.newRange=ye.newRange.getTransformedByDelta(me)[0]),[ge]}function h(pe,me){function ge(){var Me=new O.default(pe.position.getShiftedBy(ve),pe.position.getShiftedBy(ke)),Ce=new V.default(Me,me.key,he,me.value,0);ye.addOperation(Ce)}for(var ye=new z.default,be=pe.nodes,he=be.getNode(0).getAttribute(me.key),ve=0,ke=be.getNode(0).offsetSize,Pe=1;Pe<be.length;Pe++){var we=be.getNode(Pe),xe=we.getAttribute(me.key);xe!=he&&(he!=me.value&&ge(),he=xe,ve=ke),ke+=we.offsetSize}return ge(),ye}function P(){var pe=new L.default;return pe.addOperation(new I.default(0)),pe}var w=s(163),M=d(w),C=s(3),O=d(C),T=s(1),S=d(T),E=s(62),I=d(E),R=s(80),V=d(R),N=s(44),F=d(N),D=s(20),L=d(D),q=s(110),z=d(q),W=s(111),H=d(W),U=s(314),K=d(U),$=s(73),J=d($),G=s(74),Q=d(G),Y=s(76),X=d(Y),Z=s(164),ee=d(Z),te=s(78),re=d(te),ae=s(77),oe=d(ae),ne=s(112),le=d(ne),ue=s(75),ie=d(ue),se=s(56),de=d(se),fe=M.default.addTransformationCase,ce=M.default.defaultTransform;fe(z.default,ee.default,function(pe,me,ge){var ye=ce(pe,me,ge);return pe.range.containsPosition(me.position)&&ye.push(h(me,pe)),ye}),fe(z.default,X.default,function(pe,me,ge){var ye=new S.default(me.position.root,me.position.path.slice(0,-1)),be=ce(pe,me,ge),he=!0,ve=!1,ke;try{for(var Pe=pe.operations[Symbol.iterator](),we,xe;!(he=(we=Pe.next()).done);he=!0)if(xe=we.value,xe.range.containsPosition(ye)||xe.range.start.isEqual(ye)){var Me=new z.default,Ce=ye.getShiftedBy(1),Oe=S.default.createFromPosition(Ce);Oe.path.push(0);var Ae=me._cloneOperation.nodes.getNode(0).getAttribute(xe.key);Me.addOperation(new V.default(new O.default(Ce,Oe),xe.key,void 0===Ae?null:Ae,xe.newValue,0)),be.push(Me);break}}catch(Te){ve=!0,ke=Te}finally{try{!he&&Pe.return&&Pe.return()}finally{if(ve)throw ke}}return be}),fe(H.default,J.default,function(pe,me,ge){return pe.position.isEqual(me.position)?[me.getReversed(),pe.clone()]:ce(pe,me,ge)}),fe(K.default,X.default,f),fe(K.default,J.default,f),fe(K.default,re.default,f),fe(K.default,oe.default,f),fe(K.default,Q.default,f),fe(K.default,le.default,f),fe(Q.default,J.default,function(pe,me,ge){var ye=pe.sourcePosition.root==me.position.root&&'same'===(0,de.default)(pe.sourcePosition.getParentPath(),me.position.getParentPath()),be=pe.sourcePosition.offset<=me.position.offset&&pe.sourcePosition.offset+pe.howMany>me.position.offset;return ye&&be?[me.getReversed(),pe.clone()]:ce(pe,me,ge)}),fe(J.default,H.default,function(pe,me,ge){return pe.position.isEqual(me.position)?[P()]:ce(pe,me,ge)}),fe(J.default,Q.default,function(pe,me,ge){var ye=pe.position.root==me.sourcePosition.root&&'same'===(0,de.default)(pe.position.getParentPath(),me.sourcePosition.getParentPath()),be=me.sourcePosition.offset<=pe.position.offset&&me.sourcePosition.offset+me.howMany>pe.position.offset;return ye&&be?[P()]:ce(pe,me,ge)}),fe(X.default,X.default,function(pe,me,ge){var ye=pe.position.getParentPath(),be=me.position.getParentPath();if(pe.position.root==me.position.root&&'same'==(0,de.default)(ye,be)){var he=Object.assign({},ge);return pe.position.offset!=me.position.offset&&(he.isStrong=pe.position.offset>me.position.offset),void 0===ge.insertBefore&&(he.insertBefore=he.isStrong),ce(pe,me,he)}return ce(pe,me,ge)}),fe(X.default,oe.default,function(pe,me,ge){return pe.position.root==me.position.root&&'same'===(0,de.default)(me.position.path,pe.position.getParentPath())?[P()]:ce(pe,me,ge)}),fe(X.default,re.default,function(pe,me,ge){var ye=pe.position.root==me.range.start.root,be=ye&&'same'===(0,de.default)(pe.position.getParentPath(),me.range.start.getParentPath()),he=me.range.start.offset<pe.position.offset&&me.range.end.offset>=pe.position.offset;if(be&&he)return[P()];if(ye&&'same'===(0,de.default)(pe.position.getParentPath(),me.range.end.getShiftedBy(-1).path)){var ve=pe.clone(),ke=S.default.createFromPosition(me.range.start);ke.path.push(me.howMany-1);var Pe=ke.getShiftedBy(1);ve._cloneOperation.position=Pe;var we=S.default.createFromPosition(ke);we.path.push(pe.position.offset),ve._moveOperation.sourcePosition=we;var xe=S.default.createFromPosition(Pe);return xe.path.push(0),ve._moveOperation.targetPosition=xe,[ve]}return ce(pe,me,ge)}),fe(X.default,z.default,function(pe,me){pe=pe.clone();var ge=new S.default(pe.position.root,pe.position.path.slice(0,-1));if(pe._cloneOperation instanceof F.default){var ye=!0,be=!1,he;try{for(var ve=me.operations[Symbol.iterator](),ke,Pe;!(ye=(ke=ve.next()).done);ye=!0)if(Pe=ke.value,Pe.range.containsPosition(ge)||Pe.range.start.isEqual(ge)){null===Pe.newValue?pe._cloneOperation.nodes.getNode(0).removeAttribute(Pe.key):pe._cloneOperation.nodes.getNode(0).setAttribute(Pe.key,Pe.newValue);break}}catch(we){be=!0,he=we}finally{try{!ye&&ve.return&&ve.return()}finally{if(be)throw he}}}return[pe]}),fe(oe.default,X.default,function(pe,me,ge){return pe.position.root==me.position.root&&'same'===(0,de.default)(pe.position.path,me.position.getParentPath())?[me.getReversed(),pe.clone()]:ce(pe,me,ge)}),fe(ee.default,z.default,function(pe,me){var ge=[pe.clone()];return me.range.containsPosition(pe.position)&&ge.push(h(pe,me)),ge}),fe(re.default,X.default,function(pe,me,ge){var ye=pe.range.start.root==me.position.root,be=ye&&'same'===(0,de.default)(pe.range.start.getParentPath(),me.position.getParentPath()),he=pe.range.start.offset<me.position.offset&&pe.range.end.offset>=me.position.offset;if(be&&he)return[me.getReversed(),pe.clone()];if(ye&&'same'===(0,de.default)(me.position.getParentPath(),pe.range.end.getShiftedBy(-1).path)){var ve=pe.clone();return ve._insertOperation.position.offset++,ve._moveOperation.howMany++,ve._moveOperation.targetPosition.path[ve._moveOperation.targetPosition.path.length-2]++,[ve]}return ce(pe,me,ge)}),fe(le.default,X.default,function(pe,me,ge){var ye=ge.aWasUndone||ge.bWasUndone,be=new S.default(me.position.root,me.position.path.slice(0,-1)),he=ce(pe,me,ge);if(!ye&&pe.operations[0].position.isEqual(be)){var ve=pe.clone();ve.operations[0].position=be.getShiftedBy(1),he.push(ve)}return he}),fe(X.default,le.default,function(pe,me,ge){var ye=ge.aWasUndone||ge.bWasUndone,be=new S.default(pe.position.root,pe.position.path.slice(0,-1));if(!ye&&me.operations[0].position.isEqual(be)){var he=me.clone();return he.operations[0].position=be.getShiftedBy(1),he.operations[0].oldName=pe._cloneOperation.nodes.getNode(0).name,[pe.clone(),he]}return[pe.clone()]}),fe(ie.default,X.default,function(pe,me,ge){var ye=ce(pe,me,ge),be=me._cloneOperation.position||me._cloneOperation.targetPosition;if(!be)return ce(pe,me,ge);var he=!0,ve=!1,ke;try{for(var Pe=ye[Symbol.iterator](),we,xe;!(he=(we=Pe.next()).done);he=!0)if(xe=we.value,xe instanceof ie.default){var Me=xe._moveOperation,Ce=Me.sourcePosition.getShiftedBy(Me.howMany);Ce.isEqual(be)&&(Me.howMany+=1)}}catch(Oe){ve=!0,ke=Oe}finally{try{!he&&Pe.return&&Pe.return()}finally{if(ve)throw ke}}return ye}),fe(X.default,ie.default,function(pe,me,ge){var ye=pe._cloneOperation.position||pe._cloneOperation.targetPosition;if(!ye)return ce(pe,me,ge);me=me.clone();var be=me._moveOperation,he=be.sourcePosition.getShiftedBy(be.howMany);return he.isEqual(ye)&&(be.howMany+=1),ce(pe,me,ge)})},function(r,u,s){'use strict';function d(D){return D&&D.__esModule?D:{default:D}}function f(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}function h(D,L){if(!D)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:D}function P(D,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);D.prototype=Object.create(L&&L.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(D,L):D.__proto__=L)}function w(D,L,q,z){var W=D.document,H=new F,U=new R.default(L,q,z,W.markers,W.version);D.addDelta(H),H.addOperation(U),W.applyOperation(U)}Object.defineProperty(u,'__esModule',{value:!0});var M=function(){function D(L,q){for(var z=0,W;z<q.length;z++)W=q[z],W.enumerable=W.enumerable||!1,W.configurable=!0,'value'in W&&(W.writable=!0),Object.defineProperty(L,W.key,W)}return function(L,q,z){return q&&D(L.prototype,q),z&&D(L,z),L}}(),C=s(20),O=d(C),T=s(16),S=d(T),E=s(15),I=s(114),R=d(I),V=s(0),N=d(V),F=function(D){function L(){return f(this,L),h(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return P(L,D),M(L,[{key:'type',get:function(){return'marker'}},{key:'_reverseDeltaClass',get:function(){return L}}],[{key:'className',get:function(){return'engine.model.delta.MarkerDelta'}}]),L}(O.default);u.default=F,(0,E.register)('setMarker',function(D,L){var q='string'==typeof D?D:D.name,z=this.document.markers.get(q);if(!L&&!z)throw new N.default('batch-setMarker-no-range: Range parameter is required when adding a new marker.');var W=z?z.getRange():null;return L?w(this,q,W,L):w(this,q,null,W),this}),(0,E.register)('removeMarker',function(D){var L='string'==typeof D?D:D.name;if(!this.document.markers.has(L))throw new N.default('batch-removeMarker-no-marker: Trying to remove marker that does not exist.');var q=this.document.markers.get(L).getRange();return w(this,L,q,null),this}),S.default.register(F)},function(r,u,s){'use strict';function d(de){return de&&de.__esModule?de:{default:de}}function f(de,fe){if(!(de instanceof fe))throw new TypeError('Cannot call a class as a function')}function h(de){var fe=de.textNode;if(fe){var ce=fe.data,pe=de.offset-fe.startOffset;return!(0,le.isInsideSurrogatePair)(ce,pe)&&!(0,le.isInsideCombinedSymbol)(ce,pe)}return!0}function P(de,fe){var ce,pe,me;return regeneratorRuntime.wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:ce=!1;case 1:if(ce){ye.next=17;break}if(ce=!0,!de){ye.next=9;break}if(pe=de.next(),pe.done){ye.next=9;break}return ce=!1,ye.next=9,{walker:de,value:pe.value};case 9:if(!fe){ye.next=15;break}if(me=fe.next(),me.done){ye.next=15;break}return ce=!1,ye.next=15,{walker:fe,value:me.value};case 15:ye.next=1;break;case 17:case'end':return ye.stop();}},ue[0],this)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function de(fe,ce){for(var pe=0,me;pe<ce.length;pe++)me=ce[pe],me.enumerable=me.enumerable||!1,me.configurable=!0,'value'in me&&(me.writable=!0),Object.defineProperty(fe,me.key,me)}return function(fe,ce,pe){return ce&&de(fe.prototype,ce),pe&&de(fe,pe),fe}}(),M=s(312),C=d(M),O=s(313),T=d(O),S=s(3),E=d(S),I=s(1),R=d(I),V=s(321),N=d(V),F=s(15),D=d(F),L=s(317),q=d(L),z=s(316),W=d(z),H=s(322),U=d(H),K=s(53),$=d(K),J=s(318),G=d(J),Q=s(163),Y=d(Q),X=s(70),Z=d(X),ee=s(9),te=d(ee),re=s(0),ae=d(re),oe=s(4),ne=d(oe),le=s(272),ue=[P].map(regeneratorRuntime.mark),ie='$graveyard',se=function(){function de(){var fe=this;f(this,de),this.version=0,this.schema=new U.default,this.history=new q.default(this),this.markers=new G.default,this.selection=new W.default(this),this._pendingChanges=[],this.roots=new Map,this.selection.on('change:range',function(){var ce=!0,pe=!1,me;try{for(var ge=fe.selection.getRanges()[Symbol.iterator](),ye,be;!(ce=(ye=ge.next()).done);ce=!0)if(be=ye.value,!fe._validateSelectionRange(be))throw new ae.default('document-selection-wrong-position: Range from document selection starts or ends at incorrect position.',{range:be})}catch(he){pe=!0,me=he}finally{try{!ce&&ge.return&&ge.return()}finally{if(pe)throw me}}}),this.createRoot('$root',ie)}return w(de,[{key:'applyOperation',value:function(ce){if(ce.baseVersion!==this.version)throw new ae.default('model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.',{operation:ce});var pe=ce._execute();this.version++,this.history.addDelta(ce.delta),pe&&this.fire('change',ce.type,pe,ce.delta.batch,ce.delta.type)}},{key:'batch',value:function(ce){return new D.default(this,ce)}},{key:'createRoot',value:function(){var ce=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'$root',pe=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'main';if(this.roots.has(pe))throw new ae.default('model-document-createRoot-name-exists: Root with specified name already exists.',{name:pe});var me=new N.default(this,ce,pe);return this.roots.set(pe,me),me}},{key:'destroy',value:function(){this.selection.destroy(),this.stopListening()}},{key:'enqueueChanges',value:function(ce){if(this._pendingChanges.push(ce),1==this._pendingChanges.length){for(;this._pendingChanges.length;)this._pendingChanges[0](),this._pendingChanges.shift();this.fire('changesDone')}}},{key:'getRoot',value:function(){var ce=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'main';if(!this.roots.has(ce))throw new ae.default('model-document-getRoot-root-not-exist: Root with specified name does not exist.',{name:ce});return this.roots.get(ce)}},{key:'hasRoot',value:function(ce){return this.roots.has(ce)}},{key:'getRootNames',value:function(){return Array.from(this.roots.keys()).filter(function(ce){return ce!=ie})}},{key:'getNearestSelectionRange',value:function(ce){var pe=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'both';if(this.schema.check({name:'$text',inside:ce}))return new E.default(ce);var me,ge;('both'==pe||'backward'==pe)&&(me=new $.default({startPosition:ce,direction:'backward'})),('both'==pe||'forward'==pe)&&(ge=new $.default({startPosition:ce}));var ye=!0,be=!1,he;try{for(var ve=P(me,ge)[Symbol.iterator](),ke;!(ye=(ke=ve.next()).done);ye=!0){var Pe=ke.value,we=Pe.walker==me?'elementEnd':'elementStart',xe=Pe.value;if(xe.type==we&&this.schema.objects.has(xe.item.name))return E.default.createOn(xe.item);if(this.schema.check({name:'$text',inside:xe.nextPosition}))return new E.default(xe.nextPosition)}}catch(Me){be=!0,he=Me}finally{try{!ye&&ve.return&&ve.return()}finally{if(be)throw he}}return null}},{key:'transformDeltas',value:function(ce,pe){var me=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return Y.default.transformDeltaSets(ce,pe,me?this:null)}},{key:'toJSON',value:function(){var ce=(0,Z.default)(this);return ce.selection='[engine.model.DocumentSelection]',ce}},{key:'_getDefaultRoot',value:function(){var ce=!0,pe=!1,me;try{for(var ge=this.roots.values()[Symbol.iterator](),ye,be;!(ce=(ye=ge.next()).done);ce=!0)if(be=ye.value,be!==this.graveyard)return be}catch(he){pe=!0,me=he}finally{try{!ce&&ge.return&&ge.return()}finally{if(pe)throw me}}return this.graveyard}},{key:'_getDefaultRange',value:function(){var ce=this._getDefaultRoot(),pe=new R.default(ce,[0]),me=this.getNearestSelectionRange(pe);return me||new E.default(pe)}},{key:'_validateSelectionRange',value:function(ce){return h(ce.start)&&h(ce.end)}},{key:'graveyard',get:function(){return this.getRoot(ie)}}]),de}();u.default=se,(0,ne.default)(se,te.default)},function(r,u,s){'use strict';function d(Z){return Z&&Z.__esModule?Z:{default:Z}}function f(Z,ee){if(!(Z instanceof ee))throw new TypeError('Cannot call a class as a function')}function h(Z,ee){if(!Z)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return ee&&('object'==typeof ee||'function'==typeof ee)?ee:Z}function P(Z,ee){if('function'!=typeof ee&&null!==ee)throw new TypeError('Super expression must either be null or a function, not '+typeof ee);Z.prototype=Object.create(ee&&ee.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,ee):Z.__proto__=ee)}function w(Z){return Z instanceof q.default||Z instanceof D.default?Z.getAttributes():null}function M(Z,ee){if(ee&&'transparent'!=ee.type){var te=Z.range&&Z.range.start.parent;if(te&&!te.isEmpty){var re=Array.from(te.getAttributeKeys()).filter(function(se){return se.startsWith(Q)}),ae=!0,oe=!1,ne;try{for(var le=re[Symbol.iterator](),ue,ie;!(ae=(ue=le.next()).done);ae=!0)ie=ue.value,ee.removeAttribute(te,ie)}catch(se){oe=!0,ne=se}finally{try{!ae&&le.return&&le.return()}finally{if(oe)throw ne}}}}}Object.defineProperty(u,'__esModule',{value:!0});var C=function(){function Z(ee,te){var re=[],ae=!0,oe=!1,ne;try{for(var le=ee[Symbol.iterator](),ue;!(ae=(ue=le.next()).done)&&(re.push(ue.value),!(te&&re.length===te));ae=!0);}catch(ie){oe=!0,ne=ie}finally{try{!ae&&le['return']&&le['return']()}finally{if(oe)throw ne}}return re}return function(ee,te){if(Array.isArray(ee))return ee;if(Symbol.iterator in Object(ee))return Z(ee,te);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),O=function(){function Z(ee,te){for(var re=0,ae;re<te.length;re++)ae=te[re],ae.enumerable=ae.enumerable||!1,ae.configurable=!0,'value'in ae&&(ae.writable=!0),Object.defineProperty(ee,ae.key,ae)}return function(ee,te,re){return te&&Z(ee.prototype,te),re&&Z(ee,re),ee}}(),T=function Z(ee,te,re){null===ee&&(ee=Function.prototype);var ae=Object.getOwnPropertyDescriptor(ee,te);if(ae===void 0){var oe=Object.getPrototypeOf(ee);return null===oe?void 0:Z(oe,te,re)}if('value'in ae)return ae.value;var ne=ae.get;return void 0===ne?void 0:ne.call(re)},S=s(1),E=d(S),I=s(3),R=d(I),V=s(113),N=d(V),F=s(27),D=d(F),L=s(63),q=d(L),z=s(155),W=d(z),H=s(0),U=d(H),K=s(42),$=d(K),J=s(81),G=d(J),Q='selection:',Y=new Set(['addAttribute','removeAttribute','changeAttribute','addRootAttribute','removeRootAttribute','changeRootAttribute']),X=function(Z){function ee(te){f(this,ee);var re=h(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this));return re._document=te,re._attributePriority=new Map,re.listenTo(re._document,'change',function(ae,oe,ne,le){Y.has(oe)&&re._updateAttributes(!1),M(ne,le)}),re}return P(ee,Z),O(ee,[{key:'destroy',value:function(){for(var re=0;re<this._ranges.length;re++)this._ranges[re].detach();this.stopListening()}},{key:'getRanges',value:regeneratorRuntime.mark(function te(){return regeneratorRuntime.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(!this._ranges.length){ae.next=4;break}return ae.delegateYield(T(ee.prototype.__proto__||Object.getPrototypeOf(ee.prototype),'getRanges',this).call(this),'t0',2);case 2:ae.next=6;break;case 4:return ae.next=6,this._document._getDefaultRange();case 6:case'end':return ae.stop();}},te,this)})},{key:'getFirstRange',value:function(){return T(ee.prototype.__proto__||Object.getPrototypeOf(ee.prototype),'getFirstRange',this).call(this)||this._document._getDefaultRange()}},{key:'getLastRange',value:function(){return T(ee.prototype.__proto__||Object.getPrototypeOf(ee.prototype),'getLastRange',this).call(this)||this._document._getDefaultRange()}},{key:'addRange',value:function(re){var ae=1<arguments.length&&void 0!==arguments[1]&&arguments[1];T(ee.prototype.__proto__||Object.getPrototypeOf(ee.prototype),'addRange',this).call(this,re,ae),this.refreshAttributes()}},{key:'removeAllRanges',value:function(){T(ee.prototype.__proto__||Object.getPrototypeOf(ee.prototype),'removeAllRanges',this).call(this),this.refreshAttributes()}},{key:'setRanges',value:function(re){var ae=1<arguments.length&&void 0!==arguments[1]&&arguments[1];T(ee.prototype.__proto__||Object.getPrototypeOf(ee.prototype),'setRanges',this).call(this,re,ae),this.refreshAttributes()}},{key:'setAttribute',value:function(re,ae){if(this.isCollapsed&&this.anchor.parent.isEmpty&&this._storeAttribute(re,ae),this._setAttribute(re,ae)){this.fire('change:attribute',{attributeKeys:[re],directChange:!0})}}},{key:'removeAttribute',value:function(re){if(this.isCollapsed&&this.anchor.parent.isEmpty&&this._removeStoredAttribute(re),this._removeAttribute(re)){this.fire('change:attribute',{attributeKeys:[re],directChange:!0})}}},{key:'setAttributesTo',value:function(re){re=(0,W.default)(re),this.isCollapsed&&this.anchor.parent.isEmpty&&this._setStoredAttributesTo(re);var ae=this._setAttributesTo(re);if(0<ae.size){var oe=Array.from(ae);this.fire('change:attribute',{attributeKeys:oe,directChange:!0})}}},{key:'clearAttributes',value:function(){this.setAttributesTo([])}},{key:'refreshAttributes',value:function(){this._updateAttributes(!0)}},{key:'_popRange',value:function(){this._ranges.pop().detach()}},{key:'_pushRange',value:function(re){var ae=this._prepareRange(re);ae&&this._ranges.push(ae)}},{key:'_prepareRange',value:function(re){var ae=this;if(!(re instanceof R.default))throw new U.default('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');if(re.root==this._document.graveyard)return void $.default.warn('model-selection-range-in-graveyard: Trying to add a Range that is in the graveyard root. Range rejected.');this._checkRange(re);var oe=N.default.createFromRange(re);return this.listenTo(oe,'change',function(ne,le,ue){if(oe.root==ae._document.graveyard){var ie=ue.sourcePosition,se=ue.range.end.offset-ue.range.start.offset,de=R.default.createFromPositionAndShift(ie,se);ae._fixGraveyardSelection(oe,de)}ae.fire('change:range',{directChange:!1})}),oe}},{key:'_updateAttributes',value:function(re){var ae=(0,W.default)(this._getSurroundingAttributes()),oe=(0,W.default)(this.getAttributes());if(re)this._attributePriority=new Map,this._attrs=new Map;else{var ne=!0,le=!1,ue;try{for(var ie=this._attributePriority[Symbol.iterator](),se;!(ne=(se=ie.next()).done);ne=!0){var de=se.value,fe=C(de,2),ce=fe[0],pe=fe[1];'low'==pe&&(this._attrs.delete(ce),this._attributePriority.delete(ce))}}catch(Re){le=!0,ue=Re}finally{try{!ne&&ie.return&&ie.return()}finally{if(le)throw ue}}}this._setAttributesTo(ae,!1);var me=[],ge=!0,ye=!1,be;try{for(var he=this.getAttributes()[Symbol.iterator](),ve;!(ge=(ve=he.next()).done);ge=!0){var ke=ve.value,Pe=C(ke,2),we=Pe[0],xe=Pe[1];oe.has(we)&&oe.get(we)===xe||me.push(we)}}catch(Re){ye=!0,be=Re}finally{try{!ge&&he.return&&he.return()}finally{if(ye)throw be}}var Me=!0,Ce=!1,Oe;try{for(var Ae=oe[Symbol.iterator](),Te;!(Me=(Te=Ae.next()).done);Me=!0){var Se=Te.value,Ee=C(Se,1),Ie=Ee[0];this.hasAttribute(Ie)||me.push(Ie)}}catch(Re){Ce=!0,Oe=Re}finally{try{!Me&&Ae.return&&Ae.return()}finally{if(Ce)throw Oe}}0<me.length&&this.fire('change:attribute',{attributeKeys:me,directChange:!1})}},{key:'_setAttribute',value:function(re,ae){var oe=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0,ne=oe?'normal':'low';if('low'==ne&&'normal'==this._attributePriority.get(re))return!1;var le=T(ee.prototype.__proto__||Object.getPrototypeOf(ee.prototype),'getAttribute',this).call(this,re);return le!==ae&&(this._attrs.set(re,ae),this._attributePriority.set(re,ne),!0)}},{key:'_removeAttribute',value:function(re){var ae=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,oe=ae?'normal':'low';return'low'==oe&&'normal'==this._attributePriority.get(re)?!1:!!T(ee.prototype.__proto__||Object.getPrototypeOf(ee.prototype),'hasAttribute',this).call(this,re)&&(this._attrs.delete(re),this._attributePriority.set(re,oe),!0)}},{key:'_setAttributesTo',value:function(re){var ae=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,oe=new Set,ne=!0,le=!1,ue;try{for(var ie=this.getAttributes()[Symbol.iterator](),se;!(ne=(se=ie.next()).done);ne=!0){var de=se.value,fe=C(de,2),ce=fe[0],pe=fe[1];re.get(ce)!==pe&&this._removeAttribute(ce,ae)&&oe.add(ce)}}catch(Me){le=!0,ue=Me}finally{try{!ne&&ie.return&&ie.return()}finally{if(le)throw ue}}var me=!0,ge=!1,ye;try{for(var be=re[Symbol.iterator](),he;!(me=(he=be.next()).done);me=!0){var ve=he.value,ke=C(ve,2),Pe=ke[0],we=ke[1],xe=this._setAttribute(Pe,we,ae);xe&&oe.add(Pe)}}catch(Me){ge=!0,ye=Me}finally{try{!me&&be.return&&be.return()}finally{if(ge)throw ye}}return oe}},{key:'_getStoredAttributes',value:regeneratorRuntime.mark(function te(){var re,ae,oe,ne,le,ue,ie,se;return regeneratorRuntime.wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(re=this.getFirstPosition().parent,!(this.isCollapsed&&re.isEmpty)){fe.next=30;break}ae=!0,oe=!1,ne=void 0,fe.prev=5,le=re.getAttributeKeys()[Symbol.iterator]();case 7:if(ae=(ue=le.next()).done){fe.next=16;break}if(ie=ue.value,!ie.startsWith(Q)){fe.next=13;break}return se=ie.substr(Q.length),fe.next=13,[se,re.getAttribute(ie)];case 13:ae=!0,fe.next=7;break;case 16:fe.next=22;break;case 18:fe.prev=18,fe.t0=fe['catch'](5),oe=!0,ne=fe.t0;case 22:fe.prev=22,fe.prev=23,!ae&&le.return&&le.return();case 25:if(fe.prev=25,!oe){fe.next=28;break}throw ne;case 28:return fe.finish(25);case 29:return fe.finish(22);case 30:case'end':return fe.stop();}},te,this,[[5,18,22,30],[23,,25,29]])})},{key:'_removeStoredAttribute',value:function(re){var ae=ee._getStoreAttributeKey(re);this._document.batch().removeAttribute(this.anchor.parent,ae)}},{key:'_storeAttribute',value:function(re,ae){var oe=ee._getStoreAttributeKey(re);this._document.batch().setAttribute(this.anchor.parent,oe,ae)}},{key:'_setStoredAttributesTo',value:function(re){var ae=this.anchor.parent,oe=this._document.batch(),ne=!0,le=!1,ue;try{for(var ie=this._getStoredAttributes()[Symbol.iterator](),se;!(ne=(se=ie.next()).done);ne=!0){var de=se.value,fe=C(de,1),ce=fe[0],pe=ee._getStoreAttributeKey(ce);oe.removeAttribute(ae,pe)}}catch(xe){le=!0,ue=xe}finally{try{!ne&&ie.return&&ie.return()}finally{if(le)throw ue}}var me=!0,ge=!1,ye;try{for(var be=re[Symbol.iterator](),he;!(me=(he=be.next()).done);me=!0){var ve=he.value,ke=C(ve,2),Pe=ke[0],we=ke[1],pe=ee._getStoreAttributeKey(Pe);oe.setAttribute(ae,pe,we)}}catch(xe){ge=!0,ye=xe}finally{try{!me&&be.return&&be.return()}finally{if(ge)throw ye}}}},{key:'_getSurroundingAttributes',value:function(){var re=this.getFirstPosition(),ae=this._document.schema,oe=null;if(!this.isCollapsed){var ne=this.getFirstRange(),le=!0,ue=!1,ie;try{for(var se=ne[Symbol.iterator](),de,fe;!(le=(de=se.next()).done)&&(fe=de.value,!(fe.item.is('element')&&ae.objects.has(fe.item.name)));le=!0)'text'==fe.type&&null==oe&&(oe=fe.item.getAttributes())}catch(ye){ue=!0,ie=ye}finally{try{!le&&se.return&&se.return()}finally{if(ue)throw ie}}}else{var ce=re.textNode?re.textNode:re.nodeBefore,pe=re.textNode?re.textNode:re.nodeAfter;if(oe=w(ce),oe||(oe=w(pe)),!oe)for(var me=ce;me&&!oe;)me=me.previousSibling,oe=w(me);if(!oe)for(var ge=pe;ge&&!oe;)ge=ge.nextSibling,oe=w(ge);oe||(oe=this._getStoredAttributes())}return oe}},{key:'_fixGraveyardSelection',value:function(re,ae){var oe=E.default.createFromPosition(ae.start),ne=this._document.getNearestSelectionRange(oe),le=this._ranges.indexOf(re);if(this._ranges.splice(le,1),re.detach(),ne){var ue=this._prepareRange(ne);this._ranges.splice(le,0,ue)}this.fire('change:range',{directChange:!1})}},{key:'isCollapsed',get:function(){var re=this._ranges.length;return 0===re?this._document._getDefaultRange().isCollapsed:T(ee.prototype.__proto__||Object.getPrototypeOf(ee.prototype),'isCollapsed',this)}},{key:'anchor',get:function(){return T(ee.prototype.__proto__||Object.getPrototypeOf(ee.prototype),'anchor',this)||this._document._getDefaultRange().start}},{key:'focus',get:function(){return T(ee.prototype.__proto__||Object.getPrototypeOf(ee.prototype),'focus',this)||this._document._getDefaultRange().end}},{key:'rangeCount',get:function(){return this._ranges.length?this._ranges.length:1}}],[{key:'createFromSelection',value:function(){throw new U.default('documentselection-cannot-create: Cannot create new DocumentSelection instance.')}},{key:'_getStoreAttributeKey',value:function(re){return Q+re}}]),ee}(G.default);u.default=X},function(r,u,s){'use strict';function f(C,O){if(!(C instanceof O))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function C(O,T){for(var S=0,E;S<T.length;S++)E=T[S],E.enumerable=E.enumerable||!1,E.configurable=!0,'value'in E&&(E.writable=!0),Object.defineProperty(O,E.key,E)}return function(O,T,S){return T&&C(O.prototype,T),S&&C(O,S),O}}(),P=s(0),w=function(C){return C&&C.__esModule?C:{default:C}}(P),M=function(){function C(){f(this,C),this._deltas=[],this._historyPoints=new Map,this._undoPairs=new Map,this._undoneDeltas=new Set}return h(C,[{key:'addDelta',value:function(T){if(0<T.operations.length&&!this._historyPoints.has(T.baseVersion)){var S=this._deltas.length;this._deltas[S]=T,this._historyPoints.set(T.baseVersion,S)}}},{key:'getDeltas',value:regeneratorRuntime.mark(function O(){var T=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,S=1<arguments.length&&void 0!==arguments[1]?arguments[1]:_NumberPOSITIVE_INFINITY,E,I;return regeneratorRuntime.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(0!==this._deltas.length){V.next=2;break}return V.abrupt('return');case 2:if(E=this._getIndex(T),-1!=E){V.next=5;break}return V.abrupt('return');case 5:if(!(E<this._deltas.length)){V.next=13;break}if(I=this._deltas[E++],!(I.baseVersion>=S)){V.next=9;break}return V.abrupt('break',13);case 9:return V.next=11,I;case 11:V.next=5;break;case 13:case'end':return V.stop();}},O,this)})},{key:'getDelta',value:function(T){var S=this._historyPoints.get(T);return void 0===S?null:this._deltas[S]}},{key:'setDeltaAsUndone',value:function(T,S){this._undoPairs.set(S,T),this._undoneDeltas.add(T)}},{key:'isUndoingDelta',value:function(T){return this._undoPairs.has(T)}},{key:'isUndoneDelta',value:function(T){return this._undoneDeltas.has(T)}},{key:'getUndoneDelta',value:function(T){return this._undoPairs.get(T)}},{key:'_getIndex',value:function(T){var S=this._historyPoints.get(T);if(void 0===S){var E=this._deltas[this._deltas.length-1],I=E.baseVersion+E.operations.length;if(0>T||T>=I)return-1;throw new w.default('model-history-wrong-version: Given base version points to the middle of a delta.')}return S}}]),C}();u.default=M},function(r,u,s){'use strict';function d(L){return L&&L.__esModule?L:{default:L}}function f(L,q){if(!(L instanceof q))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function L(q,z){for(var W=0,H;W<z.length;W++)H=z[W],H.enumerable=H.enumerable||!1,H.configurable=!0,'value'in H&&(H.writable=!0),Object.defineProperty(q,H.key,H)}return function(q,z,W){return z&&L(q.prototype,z),W&&L(q,W),q}}(),P=s(113),w=d(P),M=s(1),C=d(M),O=s(3),T=d(O),S=s(9),E=d(S),I=s(0),R=d(I),V=s(4),N=d(V),F=function(){function L(){f(this,L),this._markers=new Map}return h(L,[{key:Symbol.iterator,value:function(){return this._markers.values()}},{key:'has',value:function(z){return this._markers.has(z)}},{key:'get',value:function(z){return this._markers.get(z)||null}},{key:'set',value:function(z,W){var H=z instanceof D?z.name:z,U=this._markers.get(H);if(U){var K=U.getRange();if(K.isEqual(W))return U;this.remove(H)}var $=w.default.createFromRange(W),J=new D(H,$);return this._markers.set(H,J),this.fire('add:'+H,J),J}},{key:'remove',value:function(z){var W=z instanceof D?z.name:z,H=this._markers.get(W);return!!H&&(this._markers.delete(W),this.fire('remove:'+W,H),this._destroyMarker(H),!0)}},{key:'getMarkersAtPosition',value:regeneratorRuntime.mark(function q(z){var W,H,U,K,$,J;return regeneratorRuntime.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:W=!0,H=!1,U=void 0,Q.prev=3,K=this[Symbol.iterator]();case 5:if(W=($=K.next()).done){Q.next=13;break}if(J=$.value,!J.getRange().containsPosition(z)){Q.next=10;break}return Q.next=10,J;case 10:W=!0,Q.next=5;break;case 13:Q.next=19;break;case 15:Q.prev=15,Q.t0=Q['catch'](3),H=!0,U=Q.t0;case 19:Q.prev=19,Q.prev=20,!W&&K.return&&K.return();case 22:if(Q.prev=22,!H){Q.next=25;break}throw U;case 25:return Q.finish(22);case 26:return Q.finish(19);case 27:case'end':return Q.stop();}},q,this,[[3,15,19,27],[20,,22,26]])})},{key:'destroy',value:function(){var z=!0,W=!1,H;try{for(var U=this._markers.values()[Symbol.iterator](),K,$;!(z=(K=U.next()).done);z=!0)$=K.value,this._destroyMarker($)}catch(J){W=!0,H=J}finally{try{!z&&U.return&&U.return()}finally{if(W)throw H}}this._markers=null,this.stopListening()}},{key:'getMarkersGroup',value:regeneratorRuntime.mark(function q(z){var W,H,U,K,$,J;return regeneratorRuntime.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:W=!0,H=!1,U=void 0,Q.prev=3,K=this._markers.values()[Symbol.iterator]();case 5:if(W=($=K.next()).done){Q.next=13;break}if(J=$.value,!J.name.startsWith(z+':')){Q.next=10;break}return Q.next=10,J;case 10:W=!0,Q.next=5;break;case 13:Q.next=19;break;case 15:Q.prev=15,Q.t0=Q['catch'](3),H=!0,U=Q.t0;case 19:Q.prev=19,Q.prev=20,!W&&K.return&&K.return();case 22:if(Q.prev=22,!H){Q.next=25;break}throw U;case 25:return Q.finish(22);case 26:return Q.finish(19);case 27:case'end':return Q.stop();}},q,this,[[3,15,19,27],[20,,22,26]])})},{key:'_destroyMarker',value:function(z){z.stopListening(),z._liveRange.detach(),z._liveRange=null}}]),L}();u.default=F,(0,N.default)(F,E.default);var D=function(){function L(q,z){f(this,L),this.name=q,this._liveRange=z,this._liveRange.delegate('change').to(this)}return h(L,[{key:'getStart',value:function(){if(!this._liveRange)throw new R.default('marker-destroyed: Operating on destroyed marker instance.');return C.default.createFromPosition(this._liveRange.start)}},{key:'getEnd',value:function(){if(!this._liveRange)throw new R.default('marker-destroyed: Operating on destroyed marker instance.');return C.default.createFromPosition(this._liveRange.end)}},{key:'getRange',value:function(){if(!this._liveRange)throw new R.default('marker-destroyed: Operating on destroyed marker instance.');return T.default.createFromRange(this._liveRange)}}]),L}();(0,N.default)(D,E.default)},function(r,u,s){'use strict';function d(J){return J&&J.__esModule?J:{default:J}}function f(J,G){if(!(J instanceof G))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function J(G,Q){for(var Y=0,X;Y<Q.length;Y++)X=Q[Y],X.enumerable=X.enumerable||!1,X.configurable=!0,'value'in X&&(X.writable=!0),Object.defineProperty(G,X.key,X)}return function(G,Q,Y){return Q&&J(G.prototype,Q),Y&&J(G,Y),G}}(),P=s(80),w=d(P),M=s(44),C=d(M),O=s(114),T=d(O),S=s(26),E=d(S),I=s(62),R=d(I),V=s(36),N=d(V),F=s(115),D=d(F),L=s(37),q=d(L),z=s(116),W=d(z),H=s(117),U=d(H),K={};K[w.default.className]=w.default,K[C.default.className]=C.default,K[T.default.className]=T.default,K[E.default.className]=E.default,K[R.default.className]=R.default,K[N.default.className]=N.default,K[D.default.className]=D.default,K[q.default.className]=q.default,K[W.default.className]=W.default,K[U.default.className]=U.default;var $=function(){function J(){f(this,J)}return h(J,null,[{key:'fromJSON',value:function(Q,Y){return K[Q.__className].fromJSON(Q,Y)}}]),J}();u.default=$},function(r,u,s){'use strict';function d(te){return te&&te.__esModule?te:{default:te}}function f(te){if(Array.isArray(te)){for(var re=0,ae=Array(te.length);re<te.length;re++)ae[re]=te[re];return ae}return Array.from(te)}function P(te){return[te.clone()]}function w(te,re){for(var ae=0;ae<re.length;ae++)re[ae].baseVersion=te+ae+1;return re}function M(te,re){return null===te.targetPosition._getTransformedByDeletion(re.sourcePosition,re.howMany)}function C(te){return 0===te.length?null:1==te.length?te[0]:(te[0].end=te[te.length-1].end,te[0])}function O(te,re,ae){for(var oe=[],ne=0,le;ne<te.length;ne++){le=T(te[ne],re,ae.isSticky),oe.push(le);for(var ue=ne+1;ue<te.length;ue++)te[ue]=te[ue]._getTransformedByMove(le.sourcePosition,le.targetPosition,le.howMany)[0];re=re._getTransformedByMove(le.sourcePosition,le.targetPosition,le.howMany,!0,!1)}return oe}function T(te,re,ae){var oe='$graveyard'==re.root.rootName?U.default:'$graveyard'==te.start.root.rootName?$.default:W.default;var ne=new oe(te.start,te.end.offset-te.start.offset,re,0);return ne.isSticky=ae,ne}Object.defineProperty(u,'__esModule',{value:!0});var S=s(44),E=d(S),I=s(80),R=d(I),V=s(117),N=d(V),F=s(116),D=d(F),L=s(114),q=d(L),z=s(26),W=d(z),H=s(37),U=d(H),K=s(115),$=d(K),J=s(62),G=d(J),Q=s(3),Y=d(Q),X=s(56),Z=d(X);u.default=function(te,re){var ae=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{isStrong:!1},oe,ne;te instanceof E.default?oe=ee.InsertOperation:te instanceof R.default?oe=ee.AttributeOperation:te instanceof N.default?oe=ee.RootAttributeOperation:te instanceof D.default?oe=ee.RenameOperation:te instanceof q.default?oe=ee.MarkerOperation:te instanceof W.default?oe=ee.MoveOperation:ne=P,oe&&(re instanceof E.default?ne=oe.InsertOperation:re instanceof R.default?ne=oe.AttributeOperation:re instanceof N.default?ne=oe.RootAttributeOperation:re instanceof D.default?ne=oe.RenameOperation:re instanceof q.default?ne=oe.MarkerOperation:re instanceof W.default?ne=oe.MoveOperation:ne=P);var le=ne(te,re,ae);return w(te.baseVersion,le)};var ee={InsertOperation:{InsertOperation:function(re,ae,oe){var ne=re.clone(),le=void 0===oe.insertBefore?!oe.isStrong:oe.insertBefore;return ne.position=ne.position._getTransformedByInsertion(ae.position,ae.nodes.maxOffset,le),[ne]},AttributeOperation:P,RootAttributeOperation:P,RenameOperation:P,MarkerOperation:P,MoveOperation:function(re,ae,oe){var ne=re.clone(),le=void 0===oe.insertBefore?!oe.isStrong:oe.insertBefore;return ne.position=re.position._getTransformedByMove(ae.sourcePosition,ae.targetPosition,ae.howMany,le,ae.isSticky&&!oe.forceNotSticky),[ne]}},AttributeOperation:{InsertOperation:function(re,ae){var oe=re.range._getTransformedByInsertion(ae.position,ae.nodes.maxOffset,!0,!1);return oe.reverse().map(function(ne){return new R.default(ne,re.key,re.oldValue,re.newValue,re.baseVersion)})},AttributeOperation:function(re,ae,oe){if(re.key===ae.key){var ne=re.range.getDifference(ae.range).map(function(ue){return new R.default(ue,re.key,re.oldValue,re.newValue,re.baseVersion)}),le=re.range.getIntersection(ae.range);return le&&(oe.isStrong?ne.push(new R.default(le,ae.key,ae.newValue,re.newValue,re.baseVersion)):0===ne.length&&ne.push(new G.default(0))),ne}return[re.clone()]},RootAttributeOperation:P,RenameOperation:P,MarkerOperation:P,MoveOperation:function(re,ae){var oe=Y.default.createFromPositionAndShift(ae.sourcePosition,ae.howMany),ne=[],le=C(re.range.getDifference(oe)),ue=re.range.getIntersection(oe);return null!==le&&(le.start=le.start._getTransformedByDeletion(ae.sourcePosition,ae.howMany),le.end=le.end._getTransformedByDeletion(ae.sourcePosition,ae.howMany),ne=le._getTransformedByInsertion(ae.getMovedRangeStart(),ae.howMany,!0,!1).reverse()),null!==ue&&(ue.start=ue.start._getCombined(ae.sourcePosition,ae.getMovedRangeStart()),ue.end=ue.end._getCombined(ae.sourcePosition,ae.getMovedRangeStart()),ne.push(ue)),ne.map(function(ie){return new R.default(ie,re.key,re.oldValue,re.newValue,re.baseVersion)})}},RootAttributeOperation:{InsertOperation:P,AttributeOperation:P,RootAttributeOperation:function(re,ae,oe){return re.root!==ae.root||re.key!==ae.key||(re.newValue===ae.newValue||oe.isStrong)&&re.newValue!==ae.newValue?[re.clone()]:[new G.default(re.baseVersion)]},RenameOperation:P,MarkerOperation:P,MoveOperation:P},RenameOperation:{InsertOperation:function(re,ae){var oe=re.clone();return oe.position=oe.position._getTransformedByInsertion(ae.position,ae.nodes.maxOffset,!0),[oe]},AttributeOperation:P,RootAttributeOperation:P,RenameOperation:function(re,ae,oe){var ne=re.clone();if(re.position.isEqual(ae.position))if(oe.isStrong)ne.oldName=ae.newName;else return[new G.default(re.baseVersion)];return[ne]},MarkerOperation:P,MoveOperation:function(re,ae){var oe=re.clone(),ne=oe.position.isEqual(ae.sourcePosition);return oe.position=oe.position._getTransformedByMove(ae.sourcePosition,ae.targetPosition,ae.howMany,!0,ne),[oe]}},MarkerOperation:{InsertOperation:function(re,ae){var oe=re.clone();return oe.oldRange&&(oe.oldRange=oe.oldRange._getTransformedByInsertion(ae.position,ae.nodes.maxOffset,!1,!1)[0]),oe.newRange&&(oe.newRange=oe.newRange._getTransformedByInsertion(ae.position,ae.nodes.maxOffset,!1,!1)[0]),[oe]},AttributeOperation:P,RootAttributeOperation:P,RenameOperation:P,MarkerOperation:function(re,ae,oe){var ne=re.clone();if(re.name==ae.name)if(oe.isStrong)ne.oldRange=ae.newRange;else return[new G.default(re.baseVersion)];return[ne]},MoveOperation:function(re,ae){var oe=re.clone();if(oe.oldRange){var ne=oe.oldRange._getTransformedByMove(ae.sourcePosition,ae.targetPosition,ae.howMany);oe.oldRange=Y.default.createFromRanges(ne)}if(oe.newRange){var le=oe.newRange._getTransformedByMove(ae.sourcePosition,ae.targetPosition,ae.howMany);oe.newRange=Y.default.createFromRanges(le)}return[oe]}},MoveOperation:{InsertOperation:function(re,ae,oe){var ne=Y.default.createFromPositionAndShift(re.sourcePosition,re.howMany);ne=ne._getTransformedByInsertion(ae.position,ae.nodes.maxOffset,!1,re.isSticky&&!oe.forceNotSticky)[0];var le=void 0===oe.insertBefore?!oe.isStrong:oe.insertBefore,ue=new re.constructor(ne.start,ne.end.offset-ne.start.offset,re.targetPosition._getTransformedByInsertion(ae.position,ae.nodes.maxOffset,le),re.baseVersion);return ue.isSticky=re.isSticky,[ue]},AttributeOperation:P,RootAttributeOperation:P,RenameOperation:P,MarkerOperation:P,MoveOperation:function(re,ae,oe){var ne=Y.default.createFromPositionAndShift(re.sourcePosition,re.howMany),le=Y.default.createFromPositionAndShift(ae.sourcePosition,ae.howMany),ue=oe.isStrong,ie=re.isSticky&&!oe.forceNotSticky,se=void 0===oe.insertBefore?!ue:oe.insertBefore,de=re.targetPosition._getTransformedByMove(ae.sourcePosition,ae.targetPosition,ae.howMany,se,ae.isSticky&&!oe.forceNotSticky);if(M(re,ae)&&M(ae,re))return[ae.getReversed()];var fe=ne.containsPosition(ae.targetPosition)||ne.start.isEqual(ae.targetPosition)&&ie||ne.end.isEqual(ae.targetPosition)&&ie;if(fe&&ne.containsRange(le,!0))return ne.start=ne.start._getTransformedByMove(ae.sourcePosition,ae.targetPosition,ae.howMany,!ie),ne.end=ne.end._getTransformedByMove(ae.sourcePosition,ae.targetPosition,ae.howMany,ie),O([ne],de,re);var ce=le.containsPosition(re.targetPosition)||le.start.isEqual(re.targetPosition)&&ae.isSticky&&!oe.forceNotSticky||le.end.isEqual(re.targetPosition)&&ae.isSticky&&!oe.forceNotSticky;if(ce&&le.containsRange(ne,!0))return ne.start=ne.start._getCombined(ae.sourcePosition,ae.getMovedRangeStart()),ne.end=ne.end._getCombined(ae.sourcePosition,ae.getMovedRangeStart()),O([ne],de,re);var pe=(0,Z.default)(re.sourcePosition.getParentPath(),ae.sourcePosition.getParentPath());if('prefix'==pe||'extension'==pe)return ne.start=ne.start._getTransformedByMove(ae.sourcePosition,ae.targetPosition,ae.howMany,!ie),ne.end=ne.end._getTransformedByMove(ae.sourcePosition,ae.targetPosition,ae.howMany,ie),O([ne],de,re);oe.forceWeakRemove||(re instanceof U.default&&!(ae instanceof U.default)?ue=!0:!(re instanceof U.default)&&ae instanceof U.default&&(ue=!1));var me=[],ge=ne.getDifference(le),ye=!0,be=!1,he;try{for(var ve=ge[Symbol.iterator](),ke,Pe;!(ye=(ke=ve.next()).done);ye=!0){Pe=ke.value,Pe.start=Pe.start._getTransformedByDeletion(ae.sourcePosition,ae.howMany),Pe.end=Pe.end._getTransformedByDeletion(ae.sourcePosition,ae.howMany);var we='same'==(0,Z.default)(Pe.start.getParentPath(),ae.getMovedRangeStart().getParentPath()),xe=Pe._getTransformedByInsertion(ae.getMovedRangeStart(),ae.howMany,we,ie);me.push.apply(me,f(xe))}}catch(Ce){be=!0,he=Ce}finally{try{!ye&&ve.return&&ve.return()}finally{if(be)throw he}}var Me=ne.getIntersection(le);return null!==Me&&ue&&!fe&&(Me.start=Me.start._getCombined(ae.sourcePosition,ae.getMovedRangeStart()),Me.end=Me.end._getCombined(ae.sourcePosition,ae.getMovedRangeStart()),0===me.length?me.push(Me):1==me.length?le.start.isBefore(ne.start)||le.start.isEqual(ne.start)?me.unshift(Me):me.push(Me):me.splice(1,0,Me)),0===me.length?[new G.default(re.baseVersion)]:O(me,de,re)}}}},function(r,u,s){'use strict';function f(S,E){if(!(S instanceof E))throw new TypeError('Cannot call a class as a function')}function h(S,E){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:S}function P(S,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function S(E,I){for(var R=0,V;R<I.length;R++)V=I[R],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(E,V.key,V)}return function(E,I,R){return I&&S(E.prototype,I),R&&S(E,R),E}}(),M=function S(E,I,R){null===E&&(E=Function.prototype);var V=Object.getOwnPropertyDescriptor(E,I);if(V===void 0){var N=Object.getPrototypeOf(E);return null===N?void 0:S(N,I,R)}if('value'in V)return V.value;var F=V.get;return void 0===F?void 0:F.call(R)},C=s(6),O=function(S){return S&&S.__esModule?S:{default:S}}(C),T=function(S){function E(I,R){var V=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'main';f(this,E);var N=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,R));return N._doc=I,N.rootName=V,N}return P(E,S),w(E,[{key:'is',value:function(R,V){return V?'rootElement'==R&&V==this.name||M(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),'is',this).call(this,R,V):'rootElement'==R||M(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),'is',this).call(this,R)}},{key:'toJSON',value:function(){return this.rootName}},{key:'document',get:function(){return this._doc}}]),E}(O.default);u.default=T},function(r,u,s){'use strict';function d(W){return W&&W.__esModule?W:{default:W}}function f(W,H){if(!(W instanceof H))throw new TypeError('Cannot call a class as a function')}function h(W,H,U){for(var K=U.length-1,$=H.length-1,J;0<=K&&0<=$;){if(J=H[$],!W.hasItem(J))return!1;var G=W._extensionChains.get(J);if(G.includes(U[K]))K--,$--;else return!1}return!0}Object.defineProperty(u,'__esModule',{value:!0}),u.SchemaItem=void 0;var P=function(){function W(H,U){for(var K=0,$;K<U.length;K++)$=U[K],$.enumerable=$.enumerable||!1,$.configurable=!0,'value'in $&&($.writable=!0),Object.defineProperty(H,$.key,$)}return function(H,U,K){return U&&W(H.prototype,U),K&&W(H,K),H}}(),w=s(1),M=d(w),C=s(6),O=d(C),T=s(70),S=d(T),E=s(12),I=d(E),R=s(152),V=d(R),N=s(0),F=d(N),D=s(3),L=d(D),q=function(){function W(){f(this,W),this.objects=new Set,this.limits=new Set,this._items=new Map,this._extensionChains=new Map,this.registerItem('$root'),this.registerItem('$block'),this.registerItem('$inline'),this.registerItem('$text','$inline'),this.allow({name:'$block',inside:'$root'}),this.allow({name:'$inline',inside:'$block'}),this.limits.add('$root'),this.registerItem('$clipboardHolder','$root'),this.allow({name:'$inline',inside:'$clipboardHolder'})}return P(W,[{key:'allow',value:function(U){this._getItem(U.name).allow(W._normalizeQueryPath(U.inside),U.attributes)}},{key:'disallow',value:function(U){this._getItem(U.name).disallow(W._normalizeQueryPath(U.inside),U.attributes)}},{key:'requireAttributes',value:function(U,K){this._getItem(U).requireAttributes(K)}},{key:'check',value:function(U){var K=this;if(!this.hasItem(U.name))return!1;(0,I.default)(U.attributes)?0===U.attributes.length&&U.attributes.push(void 0):U.attributes=[U.attributes];var $=W._normalizeQueryPath(U.inside),J=this._extensionChains.get(U.name).map(function(ke){return K._getItem(ke)});if(!this._getItem(U.name)._checkRequiredAttributes(U.attributes))return!1;var G=!0,Q=!1,Y;try{for(var X=U.attributes[Symbol.iterator](),Z;!(G=(Z=X.next()).done);G=!0){var ee=Z.value,te=!0,re=!1,ae=void 0;try{for(var oe=J[Symbol.iterator](),ne,le;!(te=(ne=oe.next()).done);te=!0)if(le=ne.value,le._hasMatchingPath('disallow',$,ee))return!1}catch(ke){re=!0,ae=ke}finally{try{!te&&oe.return&&oe.return()}finally{if(re)throw ae}}}}catch(ke){Q=!0,Y=ke}finally{try{!G&&X.return&&X.return()}finally{if(Q)throw Y}}var ue=!0,ie=!1,se;try{for(var de=U.attributes[Symbol.iterator](),fe;!(ue=(fe=de.next()).done);ue=!0){var ce=fe.value,pe=!1,me=!0,ge=!1,ye=void 0;try{for(var be=J[Symbol.iterator](),he,ve;!(me=(he=be.next()).done);me=!0)if(ve=he.value,ve._hasMatchingPath('allow',$,ce)){pe=!0;break}}catch(ke){ge=!0,ye=ke}finally{try{!me&&be.return&&be.return()}finally{if(ge)throw ye}}if(!pe)return!1}}catch(ke){ie=!0,se=ke}finally{try{!ue&&de.return&&de.return()}finally{if(ie)throw se}}return!0}},{key:'hasItem',value:function(U){return this._items.has(U)}},{key:'registerItem',value:function(U,K){if(this.hasItem(U))throw new F.default('model-schema-item-exists: Item with specified name already exists in schema.');if(!!K&&!this.hasItem(K))throw new F.default('model-schema-no-item: Item with specified name does not exist in schema.');this._items.set(U,new z(this));var $=this.hasItem(K)?this._extensionChains.get(K).concat(U):[U];this._extensionChains.set(U,$)}},{key:'itemExtends',value:function(U,K){if(!this.hasItem(U)||!this.hasItem(K))throw new F.default('model-schema-no-item: Item with specified name does not exist in schema.');var $=this._extensionChains.get(U);return $.some(function(J){return J==K})}},{key:'checkAttributeInSelection',value:function(U,K){if(U.isCollapsed)return this.check({name:'$text',inside:U.getFirstPosition(),attributes:K});var $=U.getRanges(),J=!0,G=!1,Q;try{for(var Y=$[Symbol.iterator](),X;!(J=(X=Y.next()).done);J=!0){var Z=X.value,ee=!0,te=!1,re=void 0;try{for(var ae=Z[Symbol.iterator](),oe;!(ee=(oe=ae.next()).done);ee=!0){var ne=oe.value,le=ne.item.name||'$text';if(this.check({name:le,inside:ne.previousPosition,attributes:K}))return!0}}catch(ue){te=!0,re=ue}finally{try{!ee&&ae.return&&ae.return()}finally{if(te)throw re}}}}catch(ue){G=!0,Q=ue}finally{try{!J&&Y.return&&Y.return()}finally{if(G)throw Q}}return!1}},{key:'getValidRanges',value:function(U,K){var $=[],J=!0,G=!1,Q;try{for(var Y=U[Symbol.iterator](),X;!(J=(X=Y.next()).done);J=!0){var Z=X.value,ee=Z.start,te=Z.start,re=Z.end,ae=!0,oe=!1,ne=void 0;try{for(var le=Z.getWalker()[Symbol.iterator](),ue;!(ae=(ue=le.next()).done);ae=!0){var ie=ue.value,se=ie.item.name||'$text',de=M.default.createBefore(ie.item);this.check({name:se,inside:de,attributes:K})||(!te.isEqual(ee)&&$.push(new L.default(te,ee)),te=ie.nextPosition),ee=ie.nextPosition}}catch(fe){oe=!0,ne=fe}finally{try{!ae&&le.return&&le.return()}finally{if(oe)throw ne}}te&&!te.isEqual(re)&&$.push(new L.default(te,re))}}catch(fe){G=!0,Q=fe}finally{try{!J&&Y.return&&Y.return()}finally{if(G)throw Q}}return $}},{key:'getLimitElement',value:function(U){for(var K=Array.from(U.getRanges()).reduce(function($,J){return $?$.getCommonAncestor(J.getCommonAncestor()):J.getCommonAncestor()},null);!this.limits.has(K.name)&&K.parent;)K=K.parent;return K}},{key:'_getItem',value:function(U){if(!this.hasItem(U))throw new F.default('model-schema-no-item: Item with specified name does not exist in schema.');return this._items.get(U)}}],[{key:'_normalizeQueryPath',value:function(U){var K=[];if((0,I.default)(U)){var $=!0,J=!1,G;try{for(var Q=U[Symbol.iterator](),Y,X;!($=(Y=Q.next()).done);$=!0)X=Y.value,X instanceof O.default?K.push(X.name):(0,V.default)(X)&&K.push(X)}catch(ee){J=!0,G=ee}finally{try{!$&&Q.return&&Q.return()}finally{if(J)throw G}}}else if(U instanceof M.default){for(var Z=U.parent;null!==Z;)K.push(Z.name),Z=Z.parent;K.reverse()}else(0,V.default)(U)&&(K=U.split(' '));return K}}]),W}();u.default=q;var z=u.SchemaItem=function(){function W(H){f(this,W),this._schema=H,this._allowed=[],this._disallowed=[],this._requiredAttributes=[]}return P(W,[{key:'allow',value:function(U,K){this._addPath('_allowed',U,K)}},{key:'disallow',value:function(U,K){this._addPath('_disallowed',U,K)}},{key:'requireAttributes',value:function(U){this._requiredAttributes.push(U)}},{key:'toJSON',value:function(){var U=(0,S.default)(this);return U._schema='[model.Schema]',U}},{key:'_addPath',value:function(U,K,$){K=K.slice(),(0,I.default)($)||($=[$]);var J=!0,G=!1,Q;try{for(var Y=$[Symbol.iterator](),X,Z;!(J=(X=Y.next()).done);J=!0)Z=X.value,this[U].push({path:K,attribute:Z})}catch(ee){G=!0,Q=ee}finally{try{!J&&Y.return&&Y.return()}finally{if(G)throw Q}}}},{key:'_getPaths',value:function(U,K){var $='allow'===U?this._allowed:this._disallowed,J=[],G=!0,Q=!1,Y;try{for(var X=$[Symbol.iterator](),Z,ee;!(G=(Z=X.next()).done);G=!0)ee=Z.value,ee.attribute===K&&J.push(ee.path)}catch(te){Q=!0,Y=te}finally{try{!G&&X.return&&X.return()}finally{if(Q)throw Y}}return J}},{key:'_checkRequiredAttributes',value:function(U){var K=!0,$=!0,J=!1,G;try{for(var Q=this._requiredAttributes[Symbol.iterator](),Y,X;!($=(Y=Q.next()).done);$=!0){X=Y.value,K=!0;var Z=!0,ee=!1,te=void 0;try{for(var re=X[Symbol.iterator](),ae,oe;!(Z=(ae=re.next()).done);Z=!0)if(oe=ae.value,-1==U.indexOf(oe)){K=!1;break}}catch(ne){ee=!0,te=ne}finally{try{!Z&&re.return&&re.return()}finally{if(ee)throw te}}if(K)break}}catch(ne){J=!0,G=ne}finally{try{!$&&Q.return&&Q.return()}finally{if(J)throw G}}return K}},{key:'_hasMatchingPath',value:function(U,K,$){var J=this._getPaths(U,$),G=!0,Q=!1,Y;try{for(var X=J[Symbol.iterator](),Z,ee;!(G=(Z=X.next()).done);G=!0)if(ee=Z.value,h(this._schema,K,ee))return!0}catch(te){Q=!0,Y=te}finally{try{!G&&X.return&&X.return()}finally{if(Q)throw Y}}return!1}}]),W}()},function(r,u,s){'use strict';function d(ee){return ee&&ee.__esModule?ee:{default:ee}}function f(ee,te){if(!(ee instanceof te))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function ee(te,re){var ae=[],oe=!0,ne=!1,le;try{for(var ue=te[Symbol.iterator](),ie;!(oe=(ie=ue.next()).done)&&(ae.push(ie.value),!(re&&ae.length===re));oe=!0);}catch(se){ne=!0,le=se}finally{try{!oe&&ue['return']&&ue['return']()}finally{if(ne)throw le}}return ae}return function(te,re){if(Array.isArray(te))return te;if(Symbol.iterator in Object(te))return ee(te,re);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),P=function(){function ee(te,re){for(var ae=0,oe;ae<re.length;ae++)oe=re[ae],oe.enumerable=oe.enumerable||!1,oe.configurable=!0,'value'in oe&&(oe.writable=!0),Object.defineProperty(te,oe.key,oe)}return function(te,re,ae){return re&&ee(te.prototype,re),ae&&ee(te,ae),te}}(),w=s(84),M=d(w),C=s(331),O=d(C),T=s(120),S=d(T),E=s(169),I=d(E),R=s(64),V=s(122),N=s(42),F=d(N),D=s(168),L=d(D),q=s(329),z=d(q),W=s(326),H=d(W),U=s(327),K=d(U),$=s(325),J=d($),G=s(4),Q=d(G),Y=s(19),X=d(Y),Z=function(){function ee(){f(this,ee),this.domRoots=new Map,this.selection=new M.default,this.domConverter=new S.default,this.roots=new Map,this.set('isReadOnly',!1),this.set('isFocused',!1),this.renderer=new O.default(this.domConverter,this.selection),this.renderer.bind('isFocused').to(this),this._observers=new Map,this.addObserver(L.default),this.addObserver(z.default),this.addObserver(H.default),this.addObserver(K.default),this.addObserver(J.default),(0,R.injectQuirksHandling)(this),(0,V.injectUiElementHandling)(this),this.decorate('render')}return P(ee,[{key:'addObserver',value:function(re){var ae=this._observers.get(re);if(ae)return ae;ae=new re(this),this._observers.set(re,ae);var oe=!0,ne=!1,le;try{for(var ue=this.domRoots[Symbol.iterator](),ie;!(oe=(ie=ue.next()).done);oe=!0){var se=ie.value,de=h(se,2),fe=de[0],ce=de[1];ae.observe(ce,fe)}}catch(pe){ne=!0,le=pe}finally{try{!oe&&ue.return&&ue.return()}finally{if(ne)throw le}}return ae.enable(),ae}},{key:'getObserver',value:function(re){return this._observers.get(re)}},{key:'createRoot',value:function(re){var ae=this,oe=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'main',ne='string'==typeof re?re:re.tagName,le=new I.default(ne.toLowerCase(),oe);return le.document=this,this.roots.set(oe,le),le.on('change:children',function(ue,ie){return ae.renderer.markToSync('children',ie)}),le.on('change:attributes',function(ue,ie){return ae.renderer.markToSync('attributes',ie)}),le.on('change:text',function(ue,ie){return ae.renderer.markToSync('text',ie)}),this.domConverter.isElement(re)&&this.attachDomRoot(re,oe),le}},{key:'attachDomRoot',value:function(re){var ae=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'main',oe=this.getRoot(ae);this.domRoots.set(ae,re),this.domConverter.bindElements(re,oe),this.renderer.markToSync('children',oe),this.renderer.domDocuments.add(re.ownerDocument);var ne=!0,le=!1,ue;try{for(var ie=this._observers.values()[Symbol.iterator](),se,de;!(ne=(se=ie.next()).done);ne=!0)de=se.value,de.observe(re,ae)}catch(fe){le=!0,ue=fe}finally{try{!ne&&ie.return&&ie.return()}finally{if(le)throw ue}}}},{key:'getRoot',value:function(){var re=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'main';return this.roots.get(re)}},{key:'getDomRoot',value:function(){var re=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'main';return this.domRoots.get(re)}},{key:'render',value:function(){this.disableObservers(),this.renderer.render(),this.enableObservers()}},{key:'focus',value:function(){if(!this.isFocused){var re=this.selection.editableElement;re?(this.domConverter.focus(re),this.render()):F.default.warn('view-focus-no-selection: There is no selection in any editable to focus.')}}},{key:'disableObservers',value:function(){var re=!0,ae=!1,oe;try{for(var ne=this._observers.values()[Symbol.iterator](),le,ue;!(re=(le=ne.next()).done);re=!0)ue=le.value,ue.disable()}catch(ie){ae=!0,oe=ie}finally{try{!re&&ne.return&&ne.return()}finally{if(ae)throw oe}}}},{key:'enableObservers',value:function(){var re=!0,ae=!1,oe;try{for(var ne=this._observers.values()[Symbol.iterator](),le,ue;!(re=(le=ne.next()).done);re=!0)ue=le.value,ue.enable()}catch(ie){ae=!0,oe=ie}finally{try{!re&&ne.return&&ne.return()}finally{if(ae)throw oe}}}},{key:'destroy',value:function(){var re=!0,ae=!1,oe;try{for(var ne=this._observers.values()[Symbol.iterator](),le,ue;!(re=(le=ne.next()).done);re=!0)ue=le.value,ue.destroy()}catch(ie){ae=!0,oe=ie}finally{try{!re&&ne.return&&ne.return()}finally{if(ae)throw oe}}}}]),ee}();u.default=Z,(0,Q.default)(Z,X.default)},function(r,u,s){'use strict';function f(T,S){if(!(T instanceof S))throw new TypeError('Cannot call a class as a function')}function h(T,S){if(!T)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return S&&('object'==typeof S||'function'==typeof S)?S:T}function P(T,S){if('function'!=typeof S&&null!==S)throw new TypeError('Super expression must either be null or a function, not '+typeof S);T.prototype=Object.create(S&&S.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(T,S):T.__proto__=S)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function T(S,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}return function(S,E,I){return E&&T(S.prototype,E),I&&T(S,I),S}}(),M=s(65),C=function(T){return T&&T.__esModule?T:{default:T}}(M),O=function(T){function S(E){f(this,S);var I=h(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,E));return I.domEventType='click',I}return P(S,T),w(S,[{key:'onDomEvent',value:function(I){this.fire(I.type,I)}}]),S}(C.default);u.default=O},function(r,u,s){'use strict';function d(F){return F&&F.__esModule?F:{default:F}}function f(F,D){if(!(F instanceof D))throw new TypeError('Cannot call a class as a function')}function h(F,D){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return D&&('object'==typeof D||'function'==typeof D)?D:F}function P(F,D){if('function'!=typeof D&&null!==D)throw new TypeError('Super expression must either be null or a function, not '+typeof D);F.prototype=Object.create(D&&D.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(F,D):F.__proto__=D)}function w(F){return F==I.keyCodes.arrowright||F==I.keyCodes.arrowleft||F==I.keyCodes.arrowup||F==I.keyCodes.arrowdown}Object.defineProperty(u,'__esModule',{value:!0});var M=function(){function F(D,L){for(var q=0,z;q<L.length;q++)z=L[q],z.enumerable=z.enumerable||!1,z.configurable=!0,'value'in z&&(z.writable=!0),Object.defineProperty(D,z.key,z)}return function(D,L,q){return L&&F(D.prototype,L),q&&F(D,q),D}}(),C=function F(D,L,q){null===D&&(D=Function.prototype);var z=Object.getOwnPropertyDescriptor(D,L);if(z===void 0){var W=Object.getPrototypeOf(D);return null===W?void 0:F(W,L,q)}if('value'in z)return z.value;var H=z.get;return void 0===H?void 0:H.call(q)},O=s(54),T=d(O),S=s(84),E=d(S),I=s(24),R=s(210),V=d(R),N=function(F){function D(L){f(this,D);var q=h(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,L));return q._fireSelectionChangeDoneDebounced=(0,V.default)(function(z){return q.document.fire('selectionChangeDone',z)},200),q}return P(D,F),M(D,[{key:'observe',value:function(){var q=this,z=this.document;z.on('keydown',function(W,H){var U=z.selection;U.isFake&&w(H.keyCode)&&q.isEnabled&&(H.preventDefault(),q._handleSelectionMove(H.keyCode))},{priority:'lowest'})}},{key:'destroy',value:function(){C(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),'destroy',this).call(this),this._fireSelectionChangeDoneDebounced.cancel()}},{key:'_handleSelectionMove',value:function(q){var z=this.document.selection,W=E.default.createFromSelection(z);W.setFake(!1),(q==I.keyCodes.arrowleft||q==I.keyCodes.arrowup)&&W.collapseToStart(),(q==I.keyCodes.arrowright||q==I.keyCodes.arrowdown)&&W.collapseToEnd();var H={oldSelection:z,newSelection:W,domSelection:null};this.document.fire('selectionChange',H),this._fireSelectionChangeDoneDebounced(H)}}]),D}(T.default);u.default=N},function(r,u,s){'use strict';function f(S,E){if(!(S instanceof E))throw new TypeError('Cannot call a class as a function')}function h(S,E){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:S}function P(S,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function S(E,I){for(var R=0,V;R<I.length;R++)V=I[R],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(E,V.key,V)}return function(E,I,R){return I&&S(E.prototype,I),R&&S(E,R),E}}(),M=function S(E,I,R){null===E&&(E=Function.prototype);var V=Object.getOwnPropertyDescriptor(E,I);if(V===void 0){var N=Object.getPrototypeOf(E);return null===N?void 0:S(N,I,R)}if('value'in V)return V.value;var F=V.get;return void 0===F?void 0:F.call(R)},C=s(65),O=function(S){return S&&S.__esModule?S:{default:S}}(C),T=function(S){function E(I){f(this,E);var R=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I));return R.domEventType=['focus','blur'],R.useCapture=!0,I.on('focus',function(){I.isFocused=!0,R._renderTimeoutId=setTimeout(function(){return I.render()},0)}),I.on('blur',function(V,N){var F=I.selection.editableElement;(null===F||F===N.target)&&(I.isFocused=!1,I.render())}),R}return P(E,S),w(E,[{key:'onDomEvent',value:function(R){this.fire(R.type,R)}},{key:'destroy',value:function(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),M(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),'destroy',this).call(this)}}]),E}(O.default);u.default=T},function(r,u,s){'use strict';function f(S,E){if(!(S instanceof E))throw new TypeError('Cannot call a class as a function')}function h(S,E){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:S}function P(S,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function S(E,I){for(var R=0,V;R<I.length;R++)V=I[R],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(E,V.key,V)}return function(E,I,R){return I&&S(E.prototype,I),R&&S(E,R),E}}(),M=s(65),C=function(S){return S&&S.__esModule?S:{default:S}}(M),O=s(24),T=function(S){function E(I){f(this,E);var R=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I));return R.domEventType=['keydown','keyup'],R}return P(E,S),w(E,[{key:'onDomEvent',value:function(R){this.fire(R.type,R,{keyCode:R.keyCode,altKey:R.altKey,ctrlKey:R.ctrlKey||R.metaKey,shiftKey:R.shiftKey,get keystroke(){return(0,O.getCode)(this)}})}}]),E}(C.default);u.default=T},function(r,u,s){'use strict';function f(T,S){if(!(T instanceof S))throw new TypeError('Cannot call a class as a function')}function h(T,S){if(!T)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return S&&('object'==typeof S||'function'==typeof S)?S:T}function P(T,S){if('function'!=typeof S&&null!==S)throw new TypeError('Super expression must either be null or a function, not '+typeof S);T.prototype=Object.create(S&&S.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(T,S):T.__proto__=S)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function T(S,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}return function(S,E,I){return E&&T(S.prototype,E),I&&T(S,I),S}}(),M=s(65),C=function(T){return T&&T.__esModule?T:{default:T}}(M),O=function(T){function S(E){f(this,S);var I=h(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,E));return I.domEventType='mousedown',I}return P(S,T),w(S,[{key:'onDomEvent',value:function(I){this.fire(I.type,I)}}]),S}(C.default);u.default=O},function(r,u,s){'use strict';function d(F){return F&&F.__esModule?F:{default:F}}function f(F,D){if(!(F instanceof D))throw new TypeError('Cannot call a class as a function')}function h(F,D){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return D&&('object'==typeof D||'function'==typeof D)?D:F}function P(F,D){if('function'!=typeof D&&null!==D)throw new TypeError('Super expression must either be null or a function, not '+typeof D);F.prototype=Object.create(D&&D.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(F,D):F.__proto__=D)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function F(D,L){for(var q=0,z;q<L.length;q++)z=L[q],z.enumerable=z.enumerable||!1,z.configurable=!0,'value'in z&&(z.writable=!0),Object.defineProperty(D,z.key,z)}return function(D,L,q){return L&&F(D.prototype,L),q&&F(D,q),D}}(),M=function F(D,L,q){null===D&&(D=Function.prototype);var z=Object.getOwnPropertyDescriptor(D,L);if(z===void 0){var W=Object.getPrototypeOf(D);return null===W?void 0:F(W,L,q)}if('value'in z)return z.value;var H=z.get;return void 0===H?void 0:H.call(q)},C=s(54),O=d(C),T=s(168),S=d(T),E=s(42),I=d(E),R=s(210),V=d(R),N=function(F){function D(L){f(this,D);var q=h(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,L));return q.mutationObserver=L.getObserver(S.default),q.document=L,q.selection=L.selection,q.domConverter=L.domConverter,q._documents=new WeakSet,q._fireSelectionChangeDoneDebounced=(0,V.default)(function(z){return q.document.fire('selectionChangeDone',z)},200),q._clearInfiniteLoopInterval=setInterval(function(){return q._clearInfiniteLoop()},1e3),q._loopbackCounter=0,q}return P(D,F),w(D,[{key:'observe',value:function(q){var z=this,W=q.ownerDocument;this._documents.has(W)||(this.listenTo(W,'selectionchange',function(){z._handleSelectionChange(W)}),this._documents.add(W))}},{key:'destroy',value:function(){M(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),'destroy',this).call(this),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}},{key:'_handleSelectionChange',value:function(q){if(this.isEnabled&&(this.document.isFocused||this.document.isReadOnly)){this.mutationObserver.flush();var z=q.defaultView.getSelection(),W=this.domConverter.domSelectionToView(z);if(!(this.selection.isEqual(W)&&this.domConverter.isDomSelectionCorrect(z))){if(60<++this._loopbackCounter)return void I.default.warn('selectionchange-infinite-loop: Selection change observer detected an infinite rendering loop.');if(this.selection.isSimilar(W))this.document.render();else{var H={oldSelection:this.selection,newSelection:W,domSelection:z};this.document.fire('selectionChange',H),this._fireSelectionChangeDoneDebounced(H)}}}}},{key:'_clearInfiniteLoop',value:function(){this._loopbackCounter=0}}]),D}(O.default);u.default=N},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}function h(N){var F=N.document;N.removeClass('ck-placeholder'),N.removeAttribute('data-placeholder'),V.has(F)&&V.get(F).delete(N)}function P(N){var F=V.get(N),D=!0,L=!1,q;try{for(var z=F[Symbol.iterator](),W;!(D=(W=z.next()).done);D=!0){var H=W.value,U=M(H,2),K=U[0],$=U[1];w(K,$)}}catch(J){L=!0,q=J}finally{try{!D&&z.return&&z.return()}finally{if(L)throw q}}}function w(N,F){var D=N.document;if(D){var L=D.selection,q=L.anchor;if(F&&!F())return void N.removeClass('ck-placeholder');var z=!Array.from(N.getChildren()).some(function(W){return!W.is('uiElement')});return!D.isFocused&&z?void N.addClass('ck-placeholder'):void(z&&q&&q.parent!==N?N.addClass('ck-placeholder'):N.removeClass('ck-placeholder'))}}Object.defineProperty(u,'__esModule',{value:!0});var M=function(){function N(F,D){var L=[],q=!0,z=!1,W;try{for(var H=F[Symbol.iterator](),U;!(q=(U=H.next()).done)&&(L.push(U.value),!(D&&L.length===D));q=!0);}catch(K){z=!0,W=K}finally{try{!q&&H['return']&&H['return']()}finally{if(z)throw W}}return L}return function(F,D){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return N(F,D);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();u.attachPlaceholder=function(N,F,D){var L=N.document;if(!L)throw new I.default('view-placeholder-element-is-detached: Provided element is not placed in document.');h(N),V.has(L)||(V.set(L,new Map),R.listenTo(L,'render',function(){return P(L)},{priority:'high'})),N.setAttribute('data-placeholder',F),V.get(L).set(N,D),w(N,D)},u.detachPlaceholder=h;var C=s(50),O=d(C),T=s(9),S=d(T),E=s(0),I=d(E);s(535);var R={};(0,O.default)(R,S.default);var V=new WeakMap},function(r,u,s){'use strict';function d(K){return K&&K.__esModule?K:{default:K}}function f(K,$){if(!(K instanceof $))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function K($,J){for(var G=0,Q;G<J.length;G++)Q=J[G],Q.enumerable=Q.enumerable||!1,Q.configurable=!0,'value'in Q&&(Q.writable=!0),Object.defineProperty($,Q.key,Q)}return function($,J,G){return J&&K($.prototype,J),G&&K($,G),$}}(),P=s(31),w=d(P),M=s(22),C=d(M),O=s(64),T=s(4),S=d(T),E=s(183),I=d(E),R=s(401),V=d(R),N=s(404),F=d(N),D=s(42),L=d(D),q=s(19),z=d(q),W=s(0),H=d(W),U=function(){function K($,J){f(this,K),this.domDocuments=new Set,this.domConverter=$,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=J,this._inlineFiller=null,this.isFocused=!1,this._fakeSelectionContainer=null}return h(K,[{key:'markToSync',value:function(J,G){if('text'===J)this.domConverter.mapViewToDom(G.parent)&&this.markedTexts.add(G);else{if(!this.domConverter.mapViewToDom(G))return;if('attributes'===J)this.markedAttributes.add(G);else if('children'===J)this.markedChildren.add(G);else throw new H.default('view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.')}}},{key:'render',value:function(){var J;this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?J=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(J=this.selection.getFirstPosition(),this.markedChildren.add(J.parent));var G=!0,Q=!1,Y;try{for(var X=this.markedTexts[Symbol.iterator](),Z,ee;!(G=(Z=X.next()).done);G=!0)ee=Z.value,!this.markedChildren.has(ee.parent)&&this.domConverter.mapViewToDom(ee.parent)&&this._updateText(ee,{inlineFillerPosition:J})}catch(ge){Q=!0,Y=ge}finally{try{!G&&X.return&&X.return()}finally{if(Q)throw Y}}var te=!0,re=!1,ae;try{for(var oe=this.markedAttributes[Symbol.iterator](),ne,le;!(te=(ne=oe.next()).done);te=!0)le=ne.value,this._updateAttrs(le)}catch(ge){re=!0,ae=ge}finally{try{!te&&oe.return&&oe.return()}finally{if(re)throw ae}}var ue=!0,ie=!1,se;try{for(var de=this.markedChildren[Symbol.iterator](),fe,ce;!(ue=(fe=de.next()).done);ue=!0)ce=fe.value,this._updateChildren(ce,{inlineFillerPosition:J})}catch(ge){ie=!0,se=ge}finally{try{!ue&&de.return&&de.return()}finally{if(ie)throw se}}if(J){var pe=this.domConverter.viewPositionToDom(J),me=pe.parent.ownerDocument;this._inlineFiller=(0,O.startsWithFiller)(pe.parent)?pe.parent:this._addInlineFiller(me,pe.parent,pe.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}},{key:'_addInlineFiller',value:function(J,G,Q){var Y=G instanceof Array?G:G.childNodes,X=Y[Q];if(this.domConverter.isText(X))return X.data=O.INLINE_FILLER+X.data,X;var Z=J.createTextNode(O.INLINE_FILLER);return Array.isArray(G)?Y.splice(Q,0,Z):(0,V.default)(G,Q,Z),Z}},{key:'_getInlineFillerPosition',value:function(){var J=this.selection.getFirstPosition();return J.parent.is('text')?C.default.createBefore(this.selection.getFirstPosition().parent):J}},{key:'_isSelectionInInlineFiller',value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var J=this.selection.getFirstPosition(),G=this.domConverter.viewPositionToDom(J);return G&&this.domConverter.isText(G.parent)&&(0,O.startsWithFiller)(G.parent)}},{key:'_removeInlineFiller',value:function(){var J=this._inlineFiller;if(!(0,O.startsWithFiller)(J))throw new H.default('view-renderer-filler-was-lost: The inline filler node was lost.');(0,O.isInlineFiller)(J)?J.parentNode.removeChild(J):J.data=J.data.substr(O.INLINE_FILLER_LENGTH),this._inlineFiller=null}},{key:'_needsInlineFillerAtSelection',value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var J=this.selection.getFirstPosition(),G=J.parent,Q=J.offset;if(!this.domConverter.mapViewToDom(G.root))return!1;if(!G.is('element'))return!1;if(Q===G.getFillerOffset())return!1;var Y=J.nodeBefore,X=J.nodeAfter;return Y instanceof w.default||X instanceof w.default?!1:!0}},{key:'_updateText',value:function(J,G){var Q=this.domConverter.findCorrespondingDomText(J),Y=this.domConverter.viewToDom(J,Q.ownerDocument),X=Q.data,Z=Y.data,ee=G.inlineFillerPosition;ee&&ee.parent==J.parent&&ee.offset==J.index&&(Z=O.INLINE_FILLER+Z),X!=Z&&(Q.data=Z)}},{key:'_updateAttrs',value:function(J){var G=this.domConverter.mapViewToDom(J),Q=Array.from(G.attributes).map(function(de){return de.name}),Y=J.getAttributeKeys(),X=!0,Z=!1,ee;try{for(var te=Y[Symbol.iterator](),re,ae;!(X=(re=te.next()).done);X=!0)ae=re.value,G.setAttribute(ae,J.getAttribute(ae))}catch(de){Z=!0,ee=de}finally{try{!X&&te.return&&te.return()}finally{if(Z)throw ee}}var oe=!0,ne=!1,le;try{for(var ue=Q[Symbol.iterator](),ie,se;!(oe=(ie=ue.next()).done);oe=!0)se=ie.value,J.hasAttribute(se)||G.removeAttribute(se)}catch(de){ne=!0,le=de}finally{try{!oe&&ue.return&&ue.return()}finally{if(ne)throw le}}}},{key:'_updateChildren',value:function(J,G){function Q(he,ve){return he===ve||(Y.isText(he)&&Y.isText(ve)?he.data===ve.data:(0,O.isBlockFiller)(he,Y.blockFiller)&&(0,O.isBlockFiller)(ve,Y.blockFiller))}var Y=this.domConverter,X=Y.mapViewToDom(J);if(X){var Z=X.ownerDocument,ee=G.inlineFillerPosition,te=X.childNodes,re=Array.from(Y.viewChildrenToDom(J,Z,{bind:!0}));ee&&ee.parent==J&&this._addInlineFiller(Z,re,ee.offset);var ae=(0,I.default)(te,re,Q),oe=0,ne=new Set,le=!0,ue=!1,ie;try{for(var se=ae[Symbol.iterator](),de,fe;!(le=(de=se.next()).done);le=!0)fe=de.value,'insert'===fe?((0,V.default)(X,oe,re[oe]),oe++):'delete'===fe?(ne.add(te[oe]),(0,F.default)(te[oe])):oe++}catch(he){ue=!0,ie=he}finally{try{!le&&se.return&&se.return()}finally{if(ue)throw ie}}var ce=!0,pe=!1,me;try{for(var ge=ne[Symbol.iterator](),ye,be;!(ce=(ye=ge.next()).done);ce=!0)be=ye.value,be.parentNode||this.domConverter.unbindDomElement(be)}catch(he){pe=!0,me=he}finally{try{!ce&&ge.return&&ge.return()}finally{if(pe)throw me}}}}},{key:'_updateSelection',value:function(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();var J=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&J&&(this.selection.isFake?this._updateFakeSelection(J):(this._removeFakeSelection(),this._updateDomSelection(J)))}},{key:'_updateFakeSelection',value:function(J){var G=J.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=G.createElement('div'),this._fakeSelectionContainer.style.position='fixed',this._fakeSelectionContainer.style.top=0,this._fakeSelectionContainer.style.left='-9999px',this._fakeSelectionContainer.appendChild(G.createTextNode('\xA0'))),this._fakeSelectionContainer.parentElement||J.appendChild(this._fakeSelectionContainer);var Q=this.selection.fakeSelectionLabel||'\xA0';this._fakeSelectionContainer.firstChild.data=Q;var Y=G.getSelection();Y.removeAllRanges();var X=G.createRange();X.selectNodeContents(this._fakeSelectionContainer),Y.addRange(X),this.domConverter.bindFakeSelection(this._fakeSelectionContainer,this.selection)}},{key:'_updateDomSelection',value:function(J){var G=J.ownerDocument.defaultView.getSelection();if(this._domSelectionNeedsUpdate(G)){var Q=this.domConverter.viewPositionToDom(this.selection.anchor),Y=this.domConverter.viewPositionToDom(this.selection.focus);G.collapse(Q.parent,Q.offset),G.extend(Y.parent,Y.offset)}}},{key:'_domSelectionNeedsUpdate',value:function(J){if(!this.domConverter.isDomSelectionCorrect(J))return!0;var G=J&&this.domConverter.domSelectionToView(J);if(G&&this.selection.isEqual(G))return!1;if(!this.selection.isCollapsed&&this.selection.isSimilar(G)){var Q={oldSelection:G,currentSelection:this.selection};return L.default.warn('renderer-skipped-selection-rendering: The selection was not rendered due to its similarity to the current one.',Q),!1}return!0}},{key:'_removeDomSelection',value:function(){var J=!0,G=!1,Q;try{for(var Y=this.domDocuments[Symbol.iterator](),X;!(J=(X=Y.next()).done);J=!0){var Z=X.value,ee=Z.getSelection();if(ee.rangeCount){var te=Z.activeElement,re=this.domConverter.mapDomToView(te);te&&re&&Z.getSelection().removeAllRanges()}}}catch(ae){G=!0,Q=ae}finally{try{!J&&Y.return&&Y.return()}finally{if(G)throw Q}}}},{key:'_removeFakeSelection',value:function(){var J=this._fakeSelectionContainer;J&&J.remove()}},{key:'_updateFocus',value:function(){if(this.isFocused){var J=this.selection.editableElement;J&&this.domConverter.focus(J)}}}]),K}();u.default=U,(0,S.default)(U,z.default)},function(r,u,s){'use strict';function f(C,O){if(!(C instanceof O))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function C(O,T){for(var S=0,E;S<T.length;S++)E=T[S],E.enumerable=E.enumerable||!1,E.configurable=!0,'value'in E&&(E.writable=!0),Object.defineProperty(O,E.key,E)}return function(O,T,S){return T&&C(O.prototype,T),S&&C(O,S),O}}(),P=s(0),w=function(C){return C&&C.__esModule?C:{default:C}}(P),M=function(){function C(O,T,S){if(f(this,C),this.textNode=O,0>T||T>O.data.length)throw new w.default('view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>S||T+S>O.data.length)throw new w.default('view-textproxy-wrong-length: Given length value is incorrect.');this.data=O.data.substring(T,T+S),this.offsetInText=T}return h(C,[{key:'is',value:function(T){return'textProxy'==T}},{key:'getAncestors',value:function(){for(var T=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},S=[],E=T.includeSelf?this.textNode:this.parent;null!==E;)S[T.parentFirst?'push':'unshift'](E),E=E.parent;return S}},{key:'isPartial',get:function(){return this.data.length!==this.textNode.data.length}},{key:'parent',get:function(){return this.textNode.parent}},{key:'root',get:function(){return this.textNode.root}},{key:'document',get:function(){return this.textNode.document}}]),C}();u.default=M},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}function f(R,V){if(!(R instanceof V))throw new TypeError('Cannot call a class as a function')}function h(R,V){if(!R)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:R}function P(R,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);R.prototype=Object.create(V&&V.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(R,V):R.__proto__=V)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function R(V,N){for(var F=0,D;F<N.length;F++)D=N[F],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(V,D.key,D)}return function(V,N,F){return N&&R(V.prototype,N),F&&R(V,F),V}}(),M=s(2),C=d(M),O=s(334),T=d(O),S=s(335),E=d(S),I=function(R){function V(){return f(this,V),h(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return P(V,R),w(V,[{key:'init',value:function(){var F=this.editor,D=F.editing.view;D.addObserver(E.default),F.commands.add('enter',new T.default(F)),this.listenTo(D,'enter',function(L,q){F.execute('enter'),q.preventDefault()},{priority:'low'})}}],[{key:'pluginName',get:function(){return'Enter'}}]),V}(C.default);u.default=I},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}function f(R,V){if(!(R instanceof V))throw new TypeError('Cannot call a class as a function')}function h(R,V){if(!R)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:R}function P(R,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);R.prototype=Object.create(V&&V.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(R,V):R.__proto__=V)}function w(R,V,N,F){var D=N.isCollapsed,L=N.getFirstRange(),q=L.start.parent,z=L.end.parent;if(F.limits.has(q.name)||F.limits.has(z.name))return void(D||q!=z||R.deleteContent(N,V));if(D)M(V,N,L.start);else{var W=!(L.start.isAtStart&&L.end.isAtEnd);R.deleteContent(N,V,{leaveUnmerged:W}),W&&(q==z?M(V,N,N.focus):N.collapse(z))}}function M(R,V,N){if(N.isAtEnd){var F=N.parent,D=new F.constructor(F.name,F.getAttributes());R.insert(E.default.createAfter(N.parent),D)}else R.split(N);V.collapse(N.parent.nextSibling)}Object.defineProperty(u,'__esModule',{value:!0});var C=function(){function R(V,N){for(var F=0,D;F<N.length;F++)D=N[F],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(V,D.key,D)}return function(V,N,F){return N&&R(V.prototype,N),F&&R(V,F),V}}(),O=s(11),T=d(O),S=s(1),E=d(S),I=function(R){function V(){return f(this,V),h(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return P(V,R),C(V,[{key:'execute',value:function(){var F=this,D=this.editor.document,L=D.batch();D.enqueueChanges(function(){w(F.editor.data,L,D.selection,D.schema),F.fire('afterExecute',{batch:L})})}}]),V}(T.default);u.default=I},function(r,u,s){'use strict';function d(I){return I&&I.__esModule?I:{default:I}}function f(I,R){if(!(I instanceof R))throw new TypeError('Cannot call a class as a function')}function h(I,R){if(!I)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return R&&('object'==typeof R||'function'==typeof R)?R:I}function P(I,R){if('function'!=typeof R&&null!==R)throw new TypeError('Super expression must either be null or a function, not '+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function I(R,V){for(var N=0,F;N<V.length;N++)F=V[N],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(R,F.key,F)}return function(R,V,N){return V&&I(R.prototype,V),N&&I(R,N),R}}(),M=s(54),C=d(M),O=s(121),T=d(O),S=s(24),E=function(I){function R(V){f(this,R);var N=h(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,V));return V.on('keydown',function(F,D){N.isEnabled&&D.keyCode==S.keyCodes.enter&&V.fire('enter',new T.default(V,D.domEvent))}),N}return P(R,I),w(R,[{key:'observe',value:function(){}}]),R}(C.default);u.default=E},function(r,u,s){'use strict';function d(U){return U&&U.__esModule?U:{default:U}}function f(U){if(Array.isArray(U)){for(var K=0,$=Array(U.length);K<U.length;K++)$[K]=U[K];return $}return Array.from(U)}function h(U,K){if(!(U instanceof K))throw new TypeError('Cannot call a class as a function')}function P(U,K){if(!U)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return K&&('object'==typeof K||'function'==typeof K)?K:U}function w(U,K){if('function'!=typeof K&&null!==K)throw new TypeError('Super expression must either be null or a function, not '+typeof K);U.prototype=Object.create(K&&K.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(U,K):U.__proto__=K)}function M(U,K){var $;return($=Array.prototype).concat.apply($,f(U.map(function(J){return[J,K]})))}Object.defineProperty(u,'__esModule',{value:!0});var C=function(){function U(K,$){for(var J=0,G;J<$.length;J++)G=$[J],G.enumerable=G.enumerable||!1,G.configurable=!0,'value'in G&&(G.writable=!0),Object.defineProperty(K,G.key,G)}return function(K,$,J){return $&&U(K.prototype,$),J&&U(K,J),K}}(),O=s(86),T=d(O),S=s(338),E=d(S),I=s(2),R=d(I),V=s(385),N=d(V),F=s(376),D=d(F),L=s(87),q=d(L),z=s(5),W=d(z);s(536);var H=function(U){function K(){return h(this,K),P(this,(K.__proto__||Object.getPrototypeOf(K)).apply(this,arguments))}return w(K,U),C(K,[{key:'init',value:function(){var Q=this,Y=this.editor,X=new q.default,Z=this._getLocalizedOptions(),ee=[],te=Y.t,re=te('Choose heading'),ae=te('Heading'),oe=!0,ne=!1,J,G,le;try{for(var ue=Z[Symbol.iterator](),ie;!(oe=(ie=ue.next()).done);oe=!0){var se=ie.value,de=Y.commands.get(se.modelElement),fe=new N.default({commandName:se.modelElement,label:se.title,class:se.class});fe.bind('isActive').to(de,'value'),X.add(fe),ee.push(de)}}catch(pe){ne=!0,le=pe}finally{try{!oe&&ue.return&&ue.return()}finally{if(ne)throw le}}var ce=new N.default({withText:!0,items:X,tooltip:ae});(J=ce.bind('isEnabled')).to.apply(J,f(M(ee,'isEnabled')).concat([function(){for(var pe=arguments.length,me=Array(pe),ge=0;ge<pe;ge++)me[ge]=arguments[ge];return me.some(function(ye){return ye})}])),(G=ce.bind('label')).to.apply(G,f(M(ee,'value')).concat([function(){for(var pe=arguments.length,me=Array(pe),ge=0;ge<pe;ge++)me[ge]=arguments[ge];var ye=me.findIndex(function(be){return be});return Z[ye]?Z[ye].title:re}])),Y.ui.componentFactory.add('headings',function(pe){var me=(0,D.default)(ce,pe);return W.default.extend(me.template,{attributes:{class:['ck-heading-dropdown']}}),Q.listenTo(me,'execute',function(ge){Y.execute(ge.source.commandName),Y.editing.view.focus()}),me})}},{key:'_getLocalizedOptions',value:function(){var J=this.editor,G=J.t,Q={Paragraph:G('Paragraph'),"Heading 1":G('Heading 1'),"Heading 2":G('Heading 2'),"Heading 3":G('Heading 3')};return J.config.get('heading.options').map(function(Y){var X=Q[Y.title];return X&&X!=Y.title&&(Y=Object.assign({},Y,{title:X})),Y})}}],[{key:'requires',get:function(){return[T.default,E.default]}},{key:'pluginName',get:function(){return'Heading'}}]),K}(R.default);u.default=H},function(r,u,s){'use strict';function d(V){return V&&V.__esModule?V:{default:V}}function f(V,N){if(!(V instanceof N))throw new TypeError('Cannot call a class as a function')}function h(V,N){if(!V)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:V}function P(V,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);V.prototype=Object.create(N&&N.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(V,N):V.__proto__=N)}function w(V,N,F){return F.check({name:N,inside:S.default.createBefore(V)})}Object.defineProperty(u,'__esModule',{value:!0});var M=function(){function V(N,F){for(var D=0,L;D<F.length;D++)L=F[D],L.enumerable=L.enumerable||!1,L.configurable=!0,'value'in L&&(L.writable=!0),Object.defineProperty(N,L.key,L)}return function(N,F,D){return F&&V(N.prototype,F),D&&V(N,D),N}}(),C=s(11),O=d(C),T=s(1),S=d(T),E=s(66),I=d(E),R=function(V){function N(F,D){f(this,N);var L=h(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,F));return L.modelElement=D,L}return P(N,V),M(N,[{key:'refresh',value:function(){var D=(0,I.default)(this.editor.document.selection.getSelectedBlocks());this.value=!!D&&D.is(this.modelElement),this.isEnabled=!!D&&w(D,this.modelElement,this.editor.document.schema)}},{key:'execute',value:function(){var D=this,L=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},q=this.editor,z=q.document;z.enqueueChanges(function(){var W=L.batch||z.batch(),H=Array.from(z.selection.getSelectedBlocks()).filter(function(Y){return w(Y,D.modelElement,z.schema)}),U=!0,K=!1,$;try{for(var J=H[Symbol.iterator](),G,Q;!(U=(G=J.next()).done);U=!0)Q=G.value,Q.is(D.modelElement)||W.rename(Q,D.modelElement)}catch(Y){K=!0,$=Y}finally{try{!U&&J.return&&J.return()}finally{if(K)throw $}}})}}]),N}(O.default);u.default=R},function(r,u,s){'use strict';function d(L){return L&&L.__esModule?L:{default:L}}function f(L,q){if(!(L instanceof q))throw new TypeError('Cannot call a class as a function')}function h(L,q){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return q&&('object'==typeof q||'function'==typeof q)?q:L}function P(L,q){if('function'!=typeof q&&null!==q)throw new TypeError('Super expression must either be null or a function, not '+typeof q);L.prototype=Object.create(q&&q.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(L,q):L.__proto__=q)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function L(q,z){for(var W=0,H;W<z.length;W++)H=z[W],H.enumerable=H.enumerable||!1,H.configurable=!0,'value'in H&&(H.writable=!0),Object.defineProperty(q,H.key,H)}return function(q,z,W){return z&&L(q.prototype,z),W&&L(q,W),q}}(),M=s(2),C=d(M),O=s(43),T=d(O),S=s(34),E=d(S),I=s(86),R=d(I),V=s(337),N=d(V),F='paragraph',D=function(L){function q(z){f(this,q);var W=h(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,z));return z.config.define('heading',{options:[{modelElement:'paragraph',title:'Paragraph',class:'ck-heading_paragraph'},{modelElement:'heading1',viewElement:'h2',title:'Heading 1',class:'ck-heading_heading1'},{modelElement:'heading2',viewElement:'h3',title:'Heading 2',class:'ck-heading_heading2'},{modelElement:'heading3',viewElement:'h4',title:'Heading 3',class:'ck-heading_heading3'}]}),W}return P(q,L),w(q,[{key:'init',value:function(){var W=this.editor,H=W.data,U=W.editing,K=W.config.get('heading.options'),$=!0,J=!1,G;try{for(var Q=K[Symbol.iterator](),Y,X;!($=(Y=Q.next()).done);$=!0)X=Y.value,X.modelElement!==F&&(W.document.schema.registerItem(X.modelElement,'$block'),(0,T.default)().for(H.modelToView,U.modelToView).fromElement(X.modelElement).toElement(X.viewElement),(0,E.default)().for(H.viewToModel).fromElement(X.viewElement).toElement(X.modelElement),W.commands.add(X.modelElement,new N.default(W,X.modelElement)))}catch(Z){J=!0,G=Z}finally{try{!$&&Q.return&&Q.return()}finally{if(J)throw G}}}},{key:'afterInit',value:function(){var W=this.editor,H=W.commands.get('enter'),U=W.config.get('heading.options');H&&this.listenTo(H,'afterExecute',function(K,$){var J=W.document.selection.getFirstPosition().parent,G=$.batch,Q=U.some(function(Y){return J.is(Y.modelElement)});Q&&!J.is(F)&&0===J.childCount&&G.rename(J,F)})}}],[{key:'requires',get:function(){return[R.default]}}]),q}(C.default);u.default=D},function(r,u,s){'use strict';function d(F){return F&&F.__esModule?F:{default:F}}function f(F,D){if(!(F instanceof D))throw new TypeError('Cannot call a class as a function')}function h(F,D){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return D&&('object'==typeof D||'function'==typeof D)?D:F}function P(F,D){if('function'!=typeof D&&null!==D)throw new TypeError('Super expression must either be null or a function, not '+typeof D);F.prototype=Object.create(D&&D.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(F,D):F.__proto__=D)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function F(D,L){for(var q=0,z;q<L.length;q++)z=L[q],z.enumerable=z.enumerable||!1,z.configurable=!0,'value'in z&&(z.writable=!0),Object.defineProperty(D,z.key,z)}return function(D,L,q){return L&&F(D.prototype,L),q&&F(D,q),D}}(),M=s(2),C=d(M),O=s(170),T=d(O),S=s(511),E=d(S),I=s(348),R=d(I),V=s(39);s(539);var N=function(F){function D(){return f(this,D),h(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return P(D,F),w(D,[{key:'init',value:function(){var q=this.editor,z=q.plugins.get('ContextualToolbar');z&&this.listenTo(z,'show',function(W){var H=q.editing.view.selection.getSelectedElement();H&&(0,V.isImageWidget)(H)&&W.stop()},{priority:'high'})}}],[{key:'requires',get:function(){return[T.default,E.default,R.default]}},{key:'pluginName',get:function(){return'Image'}}]),D}(C.default);u.default=N},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}function P(N){return function(F,D,L,q){var z=F.name.split(':'),W=z[0]+':'+z[1];if(L.consume(D.item,W)){var H=q.mapper.toViewElement(D.item),U=H.getChild(0),K=z[0];'removeAttribute'==K?U.removeAttribute(D.attributeKey):U.setAttribute(D.attributeKey,D.attributeNewValue),N&&N(U,K)}}}function M(N,F,D){F=F.slice();for(var L={name:N.name,attributes:N.attributes,inside:F};F.length&&!D.check(L);){var q=F.pop(),z='string'==typeof q?q:q.name;if(D.limits.has(z))return null}return F.length?F:null}Object.defineProperty(u,'__esModule',{value:!0}),u.viewFigureToModel=function(){return function(N,F,D,L){if(D.test(F.input,{name:!0,class:'image'})&&L.schema.check({name:'image',inside:F.context,attributes:'src'})){var q=Array.from(F.input.getChildren()).find(function(H){return H.is('img')});if(q&&q.hasAttribute('src')&&D.test(q,{name:!0})){var z=L.convertItem(q,D,F);F.context.push(z);var W=L.convertChildren(F.input,D,F);F.context.pop(),R.default.insert(T.default.createAt(z),W),F.output=z}}}},u.createImageAttributeConverter=function(N,F,D){var L=!0,q=!1,z;try{for(var W=N[Symbol.iterator](),H,U;!(L=(H=W.next()).done);L=!0)U=H.value,U.on('addAttribute:'+F+':image',P(D)),U.on('changeAttribute:'+F+':image',P(D)),U.on('removeAttribute:'+F+':image',P(D))}catch(K){q=!0,z=K}finally{try{!L&&W.return&&W.return()}finally{if(q)throw z}}},u.convertHoistableImage=function(N,F,D,L){var q=F.input;if(D.test(q,{name:!0,attribute:['src']})){var z=M({name:'image',attributes:['src']},F.context,L.schema);if(z){var W=Object.assign({},F);W.context=z,F.output=L.convertItem(q,D,W),V.add(F.output)}}},u.hoistImageThroughElement=function(N,F){if(F.output&&F.output.is('element')){for(var D=[],L=F.output.childCount-1,q;0<=L;L--)if(q=F.output.getChild(L),V.has(q)){var z=F.output.childCount-L-1,W=null;0<z&&(W=F.output.clone(!1),W.appendChildren(F.output.removeChildren(L+1,z))),q.remove(),D.shift(),W&&D.unshift(W),D.unshift(q),0<F.output.childCount&&D.unshift(F.output)}D.length&&(F.output=new E.default(D))}};var O=s(1),T=d(O),S=s(35),E=d(S),I=s(21),R=d(I),V=new WeakSet},function(r,u,s){'use strict';function d(E){return E&&E.__esModule?E:{default:E}}function f(E,I){if(!(E instanceof I))throw new TypeError('Cannot call a class as a function')}function h(E,I){if(!E)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return I&&('object'==typeof I||'function'==typeof I)?I:E}function P(E,I){if('function'!=typeof I&&null!==I)throw new TypeError('Super expression must either be null or a function, not '+typeof I);E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(E,I):E.__proto__=I)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function E(I,R){for(var V=0,N;V<R.length;V++)N=R[V],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}return function(I,R,V){return R&&E(I.prototype,R),V&&E(I,V),I}}(),M=s(2),C=d(M),O=s(342),T=d(O);s(537);var S=function(E){function I(){return f(this,I),h(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return P(I,E),w(I,null,[{key:'requires',get:function(){return[T.default]}},{key:'pluginName',get:function(){return'ImageCaption'}}]),I}(C.default);u.default=S},function(r,u,s){'use strict';function d(Z){return Z&&Z.__esModule?Z:{default:Z}}function f(Z,ee){if(!(Z instanceof ee))throw new TypeError('Cannot call a class as a function')}function h(Z,ee){if(!Z)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return ee&&('object'==typeof ee||'function'==typeof ee)?ee:Z}function P(Z,ee){if('function'!=typeof ee&&null!==ee)throw new TypeError('Super expression must either be null or a function, not '+typeof ee);Z.prototype=Object.create(ee&&ee.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,ee):Z.__proto__=ee)}function w(Z,ee,te,re){if('insert'===ee){var ae=new R.default({boundaries:te.range,ignoreElementEnd:!0}),oe=function(ce){var pe=ce.item;'elementStart'==ce.type&&(0,Q.isImage)(pe)&&!(0,Y.getCaptionFromImage)(pe)&&re.document.enqueueChanges(function(){(0,Y.getCaptionFromImage)(pe)||re.insert(U.default.createAt(pe,'end'),new N.default('caption'))})},ne=!0,le=!1,ue;try{for(var ie=ae[Symbol.iterator](),se,de;!(ne=(se=ie.next()).done);ne=!0)de=se.value,oe(de)}catch(fe){le=!0,ue=fe}finally{try{!ne&&ie.return&&ie.return()}finally{if(le)throw ue}}}}function M(Z){var ee=1<arguments.length&&arguments[1]!==void 0?arguments[1]:!0;return function(te,re,ae,oe){var ne=re.item;if((ne.childCount||ee)&&(0,Q.isImage)(ne.parent)){if(!ae.consume(re.item,'insert'))return;var le=oe.mapper.toViewElement(re.range.start.parent),ue=Z instanceof q.default?Z.clone(!0):Z();ne.childCount||ue.addClass('ck-hidden'),C(ue,re.item,le,oe.mapper)}}}function C(Z,ee,te,re){var ae=$.default.createAt(te,'end');W.default.insert(ae,Z),re.bindElements(ee,Z)}function O(Z){var ee=Z.getAncestors({includeSelf:!0}),te=ee.find(function(re){return'caption'==re.name});return te&&te.parent&&'image'==te.parent.name?te:null}Object.defineProperty(u,'__esModule',{value:!0});var T=function(){function Z(ee,te){for(var re=0,ae;re<te.length;re++)ae=te[re],ae.enumerable=ae.enumerable||!1,ae.configurable=!0,'value'in ae&&(ae.writable=!0),Object.defineProperty(ee,ae.key,ae)}return function(ee,te,re){return te&&Z(ee.prototype,te),re&&Z(ee,re),ee}}(),S=s(2),E=d(S),I=s(53),R=d(I),V=s(6),N=d(V),F=s(45),D=d(F),L=s(28),q=d(L),z=s(85),W=d(z),H=s(1),U=d(H),K=s(22),$=d(K),J=s(34),G=d(J),Q=s(39),Y=s(343),X=function(Z){function ee(){return f(this,ee),h(this,(ee.__proto__||Object.getPrototypeOf(ee)).apply(this,arguments))}return P(ee,Z),T(ee,[{key:'init',value:function(){var re=this,ae=this.editor,oe=ae.document,ne=ae.editing.view,le=oe.schema,ue=ae.data,ie=ae.editing,se=ae.t;this._createCaption=(0,Y.captionElementCreator)(ne,se('Enter image caption')),le.registerItem('caption','$block'),le.allow({name:'$inline',inside:'caption'}),le.allow({name:'caption',inside:'image'}),le.limits.add('caption'),oe.on('change',w),(0,G.default)().for(ue.viewToModel).from(Y.matchImageCaption).toElement('caption'),ue.modelToView.on('insert:caption',M(new D.default('figcaption'),!1)),ie.modelToView.on('insert:caption',M(this._createCaption)),ie.modelToView.on('insert',function(de,fe){return re._fixCaptionVisibility(fe.item)},{priority:'high'}),ie.modelToView.on('remove',function(de,fe){return re._fixCaptionVisibility(fe.sourcePosition.parent)},{priority:'high'}),this.listenTo(ne,'render',function(){return re._updateCaptionVisibility()},{priority:'high'})}},{key:'_updateCaptionVisibility',value:function(){var re=this.editor.editing.mapper,ae=this.editor.editing.view.selection,oe=ae.getSelectedElement(),ne;if(this._lastSelectedCaption&&!this._lastSelectedCaption.childCount&&this._lastSelectedCaption.addClass('ck-hidden'),oe&&(0,Q.isImageWidget)(oe)){var le=re.toModelElement(oe),ue=(0,Y.getCaptionFromImage)(le);ne=re.toViewElement(ue)}(0,Y.isCaption)(ae.editableElement)&&(ne=ae.editableElement),ne&&(ne.removeClass('ck-hidden'),this._lastSelectedCaption=ne)}},{key:'_fixCaptionVisibility',value:function(re){var ae=O(re),oe=this.editor.editing.mapper;if(ae){var ne=oe.toViewElement(ae);ne&&(ae.childCount?ne.removeClass('ck-hidden'):ne.addClass('ck-hidden'))}}}]),ee}(E.default);u.default=X},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}Object.defineProperty(u,'__esModule',{value:!0}),u.captionElementCreator=function(R,V){return function(){var N=new T.default('figcaption');return N.document=R,N.setCustomProperty(I,!0),(0,S.attachPlaceholder)(N,V),(0,E.toWidgetEditable)(N)}},u.isCaption=function(R){return!!R.getCustomProperty(I)},u.getCaptionFromImage=function(R){var V=!0,N=!1,F;try{for(var D=R.getChildren()[Symbol.iterator](),L,q;!(V=(L=D.next()).done);V=!0)if(q=L.value,q instanceof C.default&&'caption'==q.name)return q}catch(z){N=!0,F=z}finally{try{!V&&D.return&&D.return()}finally{if(N)throw F}}return null},u.matchImageCaption=function(R){var V=R.parent;return'figcaption'==R.name&&V&&'figure'==V.name&&V.hasClass('image')?{name:!0}:null};var M=s(6),C=d(M),O=s(82),T=d(O),S=s(330),E=s(156),I=Symbol('imageCaption')},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}function f(R,V){if(!(R instanceof V))throw new TypeError('Cannot call a class as a function')}function h(R,V){if(!R)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:R}function P(R,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);R.prototype=Object.create(V&&V.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(R,V):R.__proto__=V)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function R(V,N){for(var F=0,D;F<N.length;F++)D=N[F],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(V,D.key,D)}return function(V,N,F){return N&&R(V.prototype,N),F&&R(V,F),V}}(),M=s(2),C=d(M),O=s(347),T=d(O),S=s(23),E=d(S),I=function(R){function V(){return f(this,V),h(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return P(V,R),w(V,[{key:'init',value:function(){var F=this.editor.config.get('image.styles'),D=!0,L=!1,q;try{for(var z=F[Symbol.iterator](),W,H;!(D=(W=z.next()).done);D=!0)H=W.value,this._createButton(H)}catch(U){L=!0,q=U}finally{try{!D&&z.return&&z.return()}finally{if(L)throw q}}}},{key:'_createButton',value:function(F){var D=this,L=this.editor,q=L.commands.get(F.name);L.ui.componentFactory.add(F.name,function(z){var W=new E.default(z);return W.set({label:F.title,icon:F.icon,tooltip:!0}),W.bind('isEnabled').to(q,'isEnabled'),W.bind('isOn').to(q,'value'),D.listenTo(W,'execute',function(){return L.execute(F.name)}),W})}}],[{key:'requires',get:function(){return[T.default]}},{key:'pluginName',get:function(){return'ImageStyle'}}]),V}(C.default);u.default=I},function(r,u,s){'use strict';function d(T){if(Array.isArray(T)){for(var S=0,E=Array(T.length);S<T.length;S++)E[S]=T[S];return E}return Array.from(T)}function P(T,S,E,I){var R=S.input,V=S.output;if(E.test(R,{class:T.className})&&(0,O.isImage)(V)){var N=[].concat(d(V.getAttributeKeys()),['imageStyle']);I.schema.check({name:'image',inside:S.context,attributes:N})&&(E.consume(R,{class:T.className}),V.setAttribute('imageStyle',T.value))}}function w(T,S){var E=!0,I=!1,R;try{for(var V=S[Symbol.iterator](),N,F;!(E=(N=V.next()).done);E=!0)if(F=N.value,F.value===T)return F}catch(D){I=!0,R=D}finally{try{!E&&V.return&&V.return()}finally{if(I)throw R}}}function M(T,S,E){return S&&('changeAttribute'==T||'removeAttribute'==T)&&(E.removeClass(S.className),!0)}function C(T,S,E){return S&&('addAttribute'==T||'changeAttribute'==T)&&(E.addClass(S.className),!0)}Object.defineProperty(u,'__esModule',{value:!0}),u.modelToViewStyleAttribute=function(T){return function(S,E,I,R){var V=S.name.split(':')[0],N=V+':imageStyle';if(I.test(E.item,N)){var F=w(E.attributeNewValue,T),D=w(E.attributeOldValue,T),L=R.mapper.toViewElement(E.item);(M(V,D,L)||C(V,F,L))&&I.consume(E.item,N)}}},u.viewToModelStyleAttribute=function(T){var S=T.filter(function(E){return null!==E.value});return function(E,I,R,V){var N=!0,F=!1,D;try{for(var L=S[Symbol.iterator](),q,z;!(N=(q=L.next()).done);N=!0)z=q.value,P(z,I,R,V)}catch(W){F=!0,D=W}finally{try{!N&&L.return&&L.return()}finally{if(F)throw D}}}};var O=s(39)},function(r,u,s){'use strict';function f(S,E){if(!(S instanceof E))throw new TypeError('Cannot call a class as a function')}function h(S,E){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:S}function P(S,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function S(E,I){for(var R=0,V;R<I.length;R++)V=I[R],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(E,V.key,V)}return function(E,I,R){return I&&S(E.prototype,I),R&&S(E,R),E}}(),M=s(11),C=function(S){return S&&S.__esModule?S:{default:S}}(M),O=s(39),T=function(S){function E(I,R){f(this,E);var V=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I));return V.style=R,V}return P(E,S),w(E,[{key:'refresh',value:function(){var R=this.editor.document.selection.getSelectedElement();this.isEnabled=(0,O.isImage)(R),this.value=!!R&&(null===this.style.value?!R.hasAttribute('imageStyle'):R.getAttribute('imageStyle')==this.style.value)}},{key:'execute',value:function(){var R=this,V=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!this.value){var N=this.editor.document,F=N.selection.getSelectedElement();N.enqueueChanges(function(){var D=V.batch||N.batch();D.setAttribute(F,'imageStyle',R.style.value)})}}}]),E}(C.default);u.default=T},function(r,u,s){'use strict';function d(L){return L&&L.__esModule?L:{default:L}}function f(L,q){if(!(L instanceof q))throw new TypeError('Cannot call a class as a function')}function h(L,q){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return q&&('object'==typeof q||'function'==typeof q)?q:L}function P(L,q){if('function'!=typeof q&&null!==q)throw new TypeError('Super expression must either be null or a function, not '+typeof q);L.prototype=Object.create(q&&q.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(L,q):L.__proto__=q)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function L(q,z){for(var W=0,H;W<z.length;W++)H=z[W],H.enumerable=H.enumerable||!1,H.configurable=!0,'value'in H&&(H.writable=!0),Object.defineProperty(q,H.key,H)}return function(q,z,W){return z&&L(q.prototype,z),W&&L(q,W),q}}(),M=s(2),C=d(M),O=s(346),T=d(O),S=s(170),E=d(S),I=s(345),R=s(524),V=d(R),N=s(525),F=d(N),D=function(L){function q(){return f(this,q),h(this,(q.__proto__||Object.getPrototypeOf(q)).apply(this,arguments))}return P(q,L),w(q,[{key:'init',value:function(){var W=this.editor,H=W.t,U=W.document,K=U.schema,$=W.data,J=W.editing;W.config.define('image.styles',[{name:'imageStyleFull',title:H('Full size image'),icon:V.default,value:null},{name:'imageStyleSide',title:H('Side image'),icon:F.default,value:'side',className:'image-style-side'}]);var G=W.config.get('image.styles');K.allow({name:'image',attributes:'imageStyle',inside:'$root'});var Q=(0,I.modelToViewStyleAttribute)(G);J.modelToView.on('addAttribute:imageStyle:image',Q),$.modelToView.on('addAttribute:imageStyle:image',Q),J.modelToView.on('changeAttribute:imageStyle:image',Q),$.modelToView.on('changeAttribute:imageStyle:image',Q),J.modelToView.on('removeAttribute:imageStyle:image',Q),$.modelToView.on('removeAttribute:imageStyle:image',Q),$.viewToModel.on('element:figure',(0,I.viewToModelStyleAttribute)(G),{priority:'low'});var Y=!0,X=!1,Z;try{for(var ee=G[Symbol.iterator](),te,re;!(Y=(te=ee.next()).done);Y=!0)re=te.value,W.commands.add(re.name,new T.default(W,re))}catch(ae){X=!0,Z=ae}finally{try{!Y&&ee.return&&ee.return()}finally{if(X)throw Z}}}}],[{key:'requires',get:function(){return[E.default]}}]),q}(C.default);u.default=D},function(r,u,s){'use strict';function d(H){return H&&H.__esModule?H:{default:H}}function f(H,U){if(!(H instanceof U))throw new TypeError('Cannot call a class as a function')}function h(H,U){if(!H)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return U&&('object'==typeof U||'function'==typeof U)?U:H}function P(H,U){if('function'!=typeof U&&null!==U)throw new TypeError('Super expression must either be null or a function, not '+typeof U);H.prototype=Object.create(U&&U.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(H,U):H.__proto__=U)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function H(U,K){for(var $=0,J;$<K.length;$++)J=K[$],J.enumerable=J.enumerable||!1,J.configurable=!0,'value'in J&&(J.writable=!0),Object.defineProperty(U,J.key,J)}return function(U,K,$){return K&&H(U.prototype,K),$&&H(U,$),U}}(),M=s(2),C=d(M),O=s(23),T=d(O),S=s(350),E=d(S),I=s(175),R=d(I),V=s(351),N=d(V),F=s(124),D=d(F),L=s(523),q=d(L),z=s(171);s(538);var W=function(H){function U(){return f(this,U),h(this,(U.__proto__||Object.getPrototypeOf(U)).apply(this,arguments))}return P(U,H),w(U,[{key:'init',value:function(){this._createButton(),this._createForm()}},{key:'_createButton',value:function(){var $=this,J=this.editor,G=J.commands.get('imageTextAlternative'),Q=J.t;J.ui.componentFactory.add('imageTextAlternative',function(Y){var X=new T.default(Y);return X.set({label:Q('Change image text alternative'),icon:q.default,tooltip:!0}),X.bind('isEnabled').to(G,'isEnabled'),$.listenTo(X,'execute',function(){return $._showForm()}),X})}},{key:'_createForm',value:function(){var $=this,J=this.editor,G=J.editing.view;this._balloon=this.editor.plugins.get('ContextualBalloon'),this._form=new N.default(J.locale),this.listenTo(this._form,'submit',function(){J.execute('imageTextAlternative',{newValue:$._form.labeledInput.inputView.element.value}),$._hideForm(!0)}),this.listenTo(this._form,'cancel',function(){$._hideForm(!0)}),this._form.keystrokes.set('Esc',function(Q,Y){$._hideForm(!0),Y()}),this.listenTo(G,'render',function(){$._isVisible&&(0,z.repositionContextualBalloon)(J)},{priority:'low'}),this.listenTo(J.ui.focusTracker,'change:isFocused',function(Q,Y,X){X||$._hideForm()},{priority:'low'}),(0,R.default)({emitter:this._form,activator:function(){return $._isVisible},contextElements:[this._form.element],callback:function(){return $._hideForm()}})}},{key:'_showForm',value:function(){if(!this._isVisible){var $=this.editor,J=$.commands.get('imageTextAlternative'),G=this._form.labeledInput;this._balloon.hasView(this._form)||this._balloon.add({view:this._form,position:(0,z.getBalloonPositionData)($)}),G.value=G.inputView.element.value=J.value||'',this._form.labeledInput.select()}}},{key:'_hideForm',value:function($){this._isVisible&&(this._balloon.remove(this._form),$&&this.editor.editing.view.focus())}},{key:'_isVisible',get:function(){return this._balloon.visibleView==this._form}}],[{key:'requires',get:function(){return[E.default,D.default]}},{key:'pluginName',get:function(){return'ImageTextAlternative'}}]),U}(C.default);u.default=W},function(r,u,s){'use strict';function f(S,E){if(!(S instanceof E))throw new TypeError('Cannot call a class as a function')}function h(S,E){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:S}function P(S,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function S(E,I){for(var R=0,V;R<I.length;R++)V=I[R],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(E,V.key,V)}return function(E,I,R){return I&&S(E.prototype,I),R&&S(E,R),E}}(),M=s(11),C=function(S){return S&&S.__esModule?S:{default:S}}(M),O=s(39),T=function(S){function E(){return f(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return P(E,S),w(E,[{key:'refresh',value:function(){var R=this.editor.document.selection.getSelectedElement();this.isEnabled=(0,O.isImage)(R),this.value=(0,O.isImage)(R)&&R.hasAttribute('alt')&&R.getAttribute('alt')}},{key:'execute',value:function(R){var V=this.editor.document,N=V.selection.getSelectedElement();V.enqueueChanges(function(){var F=R.batch||V.batch();F.setAttribute(N,'alt',R.newValue)})}}]),E}(C.default);u.default=T},function(r,u,s){'use strict';function d(E){return E&&E.__esModule?E:{default:E}}function f(E,I){if(!(E instanceof I))throw new TypeError('Cannot call a class as a function')}function h(E,I){if(!E)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return I&&('object'==typeof I||'function'==typeof I)?I:E}function P(E,I){if('function'!=typeof I&&null!==I)throw new TypeError('Super expression must either be null or a function, not '+typeof I);E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(E,I):E.__proto__=I)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function E(I,R){for(var V=0,N;V<R.length;V++)N=R[V],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}return function(I,R,V){return R&&E(I.prototype,R),V&&E(I,V),I}}(),M=s(349),C=d(M),O=s(2),T=d(O),S=function(E){function I(){return f(this,I),h(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return P(I,E),w(I,[{key:'init',value:function(){this.editor.commands.add('imageTextAlternative',new C.default(this.editor))}}]),I}(T.default);u.default=S},function(r,u,s){'use strict';function d(H){return H&&H.__esModule?H:{default:H}}function f(H,U){if(!(H instanceof U))throw new TypeError('Cannot call a class as a function')}function h(H,U){if(!H)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return U&&('object'==typeof U||'function'==typeof U)?U:H}function P(H,U){if('function'!=typeof U&&null!==U)throw new TypeError('Super expression must either be null or a function, not '+typeof U);H.prototype=Object.create(U&&U.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(H,U):H.__proto__=U)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function H(U,K){for(var $=0,J;$<K.length;$++)J=K[$],J.enumerable=J.enumerable||!1,J.configurable=!0,'value'in J&&(J.writable=!0),Object.defineProperty(U,J.key,J)}return function(U,K,$){return K&&H(U.prototype,K),$&&H(U,$),U}}(),M=function H(U,K,$){null===U&&(U=Function.prototype);var J=Object.getOwnPropertyDescriptor(U,K);if(J===void 0){var G=Object.getPrototypeOf(U);return null===G?void 0:H(G,K,$)}if('value'in J)return J.value;var Q=J.get;return void 0===Q?void 0:Q.call($)},C=s(7),O=d(C),T=s(23),S=d(T),E=s(5),I=d(E),R=s(179),V=d(R),N=s(178),F=d(N),D=s(177),L=d(D),q=s(48),z=d(q),W=function(H){function U(K){f(this,U);var $=h(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,K)),J=$.locale.t;return $.keystrokes=new z.default,$.labeledInput=$._createLabeledInputView(),$.saveButtonView=$._createButton(J('Save')),$.saveButtonView.type='submit',$.cancelButtonView=$._createButton(J('Cancel'),'cancel'),I.default.extend($.saveButtonView.template,{attributes:{class:['ck-button-action']}}),$.template=new I.default({tag:'form',attributes:{class:['cke-text-alternative-form']},children:[$.labeledInput,{tag:'div',attributes:{class:['cke-text-alternative-form__actions']},children:[$.saveButtonView,$.cancelButtonView]}]}),(0,L.default)({view:$}),$}return P(U,H),w(U,[{key:'init',value:function(){M(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),'init',this).call(this),this.keystrokes.listenTo(this.element)}},{key:'_createButton',value:function($,J){var G=new S.default(this.locale);return G.label=$,G.withText=!0,J&&G.delegate('execute').to(this,J),G}},{key:'_createLabeledInputView',value:function(){var $=this.locale.t,J=new V.default(this.locale,F.default);return J.label=$('Text alternative'),J}}]),U}(O.default);u.default=W},function(r,u,s){'use strict';function d(L){return L&&L.__esModule?L:{default:L}}function f(L,q){if(!(L instanceof q))throw new TypeError('Cannot call a class as a function')}function h(L,q){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return q&&('object'==typeof q||'function'==typeof q)?q:L}function P(L,q){if('function'!=typeof q&&null!==q)throw new TypeError('Super expression must either be null or a function, not '+typeof q);L.prototype=Object.create(q&&q.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(L,q):L.__proto__=q)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function L(q,z){for(var W=0,H;W<z.length;W++)H=z[W],H.enumerable=H.enumerable||!1,H.configurable=!0,'value'in H&&(H.writable=!0),Object.defineProperty(q,H.key,H)}return function(q,z,W){return z&&L(q.prototype,z),W&&L(q,W),q}}(),M=s(5),C=d(M),O=s(2),T=d(O),S=s(181),E=d(S),I=s(124),R=d(I),V=s(39),N=s(171),D=function(L){function q(){return f(this,q),h(this,(q.__proto__||Object.getPrototypeOf(q)).apply(this,arguments))}return P(q,L),w(q,[{key:'afterInit',value:function(){var W=this,H=this.editor,U=H.config.get('image.toolbar');U&&U.length&&(this._balloon=this.editor.plugins.get('ContextualBalloon'),this._toolbar=new E.default,C.default.extend(this._toolbar.template,{attributes:{class:'ck-editor-toolbar'}}),this._toolbar.fillFromConfig(U,H.ui.componentFactory),this.listenTo(H.editing.view,'render',function(){W._checkIsVisible()},{priority:'low'}),this.listenTo(H.ui.focusTracker,'change:isFocused',function(){W._checkIsVisible()},{priority:'low'}))}},{key:'_checkIsVisible',value:function(){var W=this.editor;if(!W.ui.focusTracker.isFocused)this._hideToolbar();else{var H=W.editing.view,U=H.selection.getSelectedElement();U&&(0,V.isImageWidget)(U)?this._showToolbar():this._hideToolbar()}}},{key:'_showToolbar',value:function(){var W=this.editor;this._isVisible?(0,N.repositionContextualBalloon)(W):!this._balloon.hasView(this._toolbar)&&this._balloon.add({view:this._toolbar,position:(0,N.getBalloonPositionData)(W),balloonClassName:'ck-toolbar-container ck-editor-toolbar-container'})}},{key:'_hideToolbar',value:function(){this._isVisible&&this._balloon.remove(this._toolbar)}},{key:'_isVisible',get:function(){return this._balloon.visibleView==this._toolbar}}],[{key:'requires',get:function(){return[R.default]}},{key:'pluginName',get:function(){return'ImageToolbar'}}]),q}(T.default);u.default=D},function(r,u,s){'use strict';function d(Z){return Z&&Z.__esModule?Z:{default:Z}}function f(Z,ee){if(!(Z instanceof ee))throw new TypeError('Cannot call a class as a function')}function h(Z,ee){if(!Z)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return ee&&('object'==typeof ee||'function'==typeof ee)?ee:Z}function P(Z,ee){if('function'!=typeof ee&&null!==ee)throw new TypeError('Super expression must either be null or a function, not '+typeof ee);Z.prototype=Object.create(ee&&ee.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,ee):Z.__proto__=ee)}function w(Z){return Z.getAncestors().find(function(ee){return ee instanceof F.default})}Object.defineProperty(u,'__esModule',{value:!0});var M=function(){function Z(ee,te){for(var re=0,ae;re<te.length;re++)ae=te[re],ae.enumerable=ae.enumerable||!1,ae.configurable=!0,'value'in ae&&(ae.writable=!0),Object.defineProperty(ee,ae.key,ae)}return function(ee,te,re){return te&&Z(ee.prototype,te),re&&Z(ee,re),ee}}(),C=s(2),O=d(C),T=s(324),S=d(T),E=s(38),I=d(E),R=s(355),V=d(R),N=s(173),F=d(N),D=s(124),L=d(D),q=s(175),z=d(q),W=s(23),H=d(W),U=s(356),K=d(U),$=s(527),J=d($),G=s(528),Q=d(G);s(540);var Y='Ctrl+K',X=function(Z){function ee(){return f(this,ee),h(this,(ee.__proto__||Object.getPrototypeOf(ee)).apply(this,arguments))}return P(ee,Z),M(ee,[{key:'init',value:function(){this.editor.editing.view.addObserver(S.default),this.formView=this._createForm(),this._balloon=this.editor.plugins.get(L.default),this._createToolbarLinkButton(),this._createToolbarUnlinkButton(),this._attachActions()}},{key:'_createForm',value:function(){var re=this,ae=this.editor,oe=new K.default(ae.locale),ne=ae.commands.get('link'),le=ae.commands.get('unlink');return oe.urlInputView.bind('value').to(ne,'value'),oe.urlInputView.bind('isReadOnly').to(ne,'isEnabled',function(ue){return!ue}),oe.saveButtonView.bind('isEnabled').to(ne),oe.unlinkButtonView.bind('isEnabled').to(le),this.listenTo(oe,'submit',function(){ae.execute('link',oe.urlInputView.inputView.element.value),re._hidePanel(!0)}),this.listenTo(oe,'unlink',function(){ae.execute('unlink'),re._hidePanel(!0)}),this.listenTo(oe,'cancel',function(){return re._hidePanel(!0)}),oe.keystrokes.set('Esc',function(ue,ie){re._hidePanel(!0),ie()}),oe}},{key:'_createToolbarLinkButton',value:function(){var re=this,ae=this.editor,oe=ae.commands.get('link'),ne=ae.t;ae.keystrokes.set(Y,function(){oe.isEnabled&&re._showPanel(!0)}),ae.ui.componentFactory.add('link',function(le){var ue=new H.default(le);return ue.isEnabled=!0,ue.label=ne('Link'),ue.icon=J.default,ue.keystroke=Y,ue.tooltip=!0,ue.bind('isEnabled').to(oe,'isEnabled'),re.listenTo(ue,'execute',function(){return re._showPanel(!0)}),ue})}},{key:'_createToolbarUnlinkButton',value:function(){var re=this,ae=this.editor,oe=ae.t,ne=ae.commands.get('unlink');ae.ui.componentFactory.add('unlink',function(le){var ue=new H.default(le);return ue.isEnabled=!1,ue.label=oe('Unlink'),ue.icon=Q.default,ue.tooltip=!0,ue.bind('isEnabled').to(ne,'isEnabled'),re.listenTo(ue,'execute',function(){return ae.execute('unlink')}),ue})}},{key:'_attachActions',value:function(){var re=this,ae=this.editor.editing.view;this.listenTo(ae,'click',function(){var oe=re._getSelectedLinkElement();oe&&re._showPanel()}),this.editor.keystrokes.set('Tab',function(oe,ne){re._balloon.visibleView!==re.formView||re.formView.focusTracker.isFocused||(re.formView.focus(),ne())}),this.editor.keystrokes.set('Esc',function(oe,ne){re._balloon.visibleView===re.formView&&(re._hidePanel(),ne())}),(0,z.default)({emitter:this.formView,activator:function(){return re._balloon.hasView(re.formView)},contextElements:[this._balloon.view.element],callback:function(){return re._hidePanel()}})}},{key:'_showPanel',value:function(re){var ae=this,oe=this.editor,ne=oe.commands.get('link'),le=oe.commands.get('unlink'),ue=oe.editing,ie=ue.view,se=ie.selection.isCollapsed,de=this._getSelectedLinkElement();this.formView.unlinkButtonView.isVisible=le.isEnabled,this.formView.urlInputView.inputView.element.value=ne.value||'',this.listenTo(ie,'render',function(){var fe=ae._getSelectedLinkElement(),ce=ie.selection.isCollapsed;se&&!ce||de!==fe?ae._hidePanel(!0):fe?ae._balloon.updatePosition():ae._balloon.updatePosition(ae._getBalloonPositionData())}),this._balloon.hasView(this.formView)?re&&this._balloon.visibleView===this.formView&&this.formView.urlInputView.select():(this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),re&&this.formView.urlInputView.select())}},{key:'_hidePanel',value:function(re){this.stopListening(this.editor.editing.view,'render'),this._balloon.hasView(this.formView)&&(re&&this.editor.editing.view.focus(),this.stopListening(this.editor.editing.view,'render'),this._balloon.remove(this.formView))}},{key:'_getBalloonPositionData',value:function(){var re=this.editor.editing.view,ae=this._getSelectedLinkElement(),oe=ae?re.domConverter.mapViewToDom(ae):re.domConverter.viewRangeToDom(re.selection.getFirstRange());return{target:oe,limiter:re.domConverter.mapViewToDom(re.selection.editableElement)}}},{key:'_getSelectedLinkElement',value:function(){var re=this.editor.editing.view.selection;if(re.isCollapsed)return w(re.getFirstPosition());var ae=re.getFirstRange().getTrimmed(),oe=w(ae.start),ne=w(ae.end);return oe&&oe==ne?I.default.createIn(oe).getTrimmed().isEqual(ae)?oe:null:null}}],[{key:'requires',get:function(){return[V.default,L.default]}},{key:'pluginName',get:function(){return'Link'}}]),ee}(O.default);u.default=X},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}function f(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function h(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function P(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function N(F,D){for(var L=0,q;L<D.length;L++)q=D[L],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(F,q.key,q)}return function(F,D,L){return D&&N(F.prototype,D),L&&N(F,L),F}}(),M=s(11),C=d(M),O=s(27),T=d(O),S=s(3),E=d(S),I=s(172),R=d(I),V=function(N){function F(){return f(this,F),h(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return P(F,N),w(F,[{key:'refresh',value:function(){var L=this.editor.document;this.value=L.selection.getAttribute('linkHref'),this.isEnabled=L.schema.checkAttributeInSelection(L.selection,'linkHref')}},{key:'execute',value:function(L){var q=this.editor.document,z=q.selection;q.enqueueChanges(function(){var W=q.batch();if(z.isCollapsed){var H=z.getFirstPosition();if(z.hasAttribute('linkHref')){var U=(0,R.default)(z.getFirstPosition(),z.getAttribute('linkHref'));W.setAttribute(U,'linkHref',L),z.setRanges([U])}else{var K=new T.default(L,{linkHref:L});W.insert(H,K),z.setRanges([E.default.createOn(K)])}}else{var $=q.schema.getValidRanges(z.getRanges(),'linkHref'),J=!0,G=!1,Q;try{for(var Y=$[Symbol.iterator](),X,Z;!(J=(X=Y.next()).done);J=!0)Z=X.value,W.setAttribute(Z,'linkHref',L)}catch(ee){G=!0,Q=ee}finally{try{!J&&Y.return&&Y.return()}finally{if(G)throw Q}}}})}}]),F}(C.default);u.default=V},function(r,u,s){'use strict';function d(q){return q&&q.__esModule?q:{default:q}}function f(q,z){if(!(q instanceof z))throw new TypeError('Cannot call a class as a function')}function h(q,z){if(!q)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return z&&('object'==typeof z||'function'==typeof z)?z:q}function P(q,z){if('function'!=typeof z&&null!==z)throw new TypeError('Super expression must either be null or a function, not '+typeof z);q.prototype=Object.create(z&&z.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(q,z):q.__proto__=z)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function q(z,W){for(var H=0,U;H<W.length;H++)U=W[H],U.enumerable=U.enumerable||!1,U.configurable=!0,'value'in U&&(U.writable=!0),Object.defineProperty(z,U.key,U)}return function(z,W,H){return W&&q(z.prototype,W),H&&q(z,H),z}}(),M=s(2),C=d(M),O=s(43),T=d(O),S=s(34),E=d(S),I=s(173),R=d(I),V=s(354),N=d(V),F=s(357),D=d(F),L=function(q){function z(){return f(this,z),h(this,(z.__proto__||Object.getPrototypeOf(z)).apply(this,arguments))}return P(z,q),w(z,[{key:'init',value:function(){var H=this.editor,U=H.data,K=H.editing;H.document.schema.allow({name:'$inline',attributes:'linkHref',inside:'$block'}),H.document.schema.allow({name:'$inline',attributes:'linkHref',inside:'$clipboardHolder'}),(0,T.default)().for(U.modelToView,K.modelToView).fromAttribute('linkHref').toElement(function($){var J=new R.default('a',{href:$});return J.priority=5,J}),(0,E.default)().for(U.viewToModel).from({name:'a',attribute:{href:/.?/}}).toAttribute(function($){return{key:'linkHref',value:$.getAttribute('href')}}),H.commands.add('link',new N.default(H)),H.commands.add('unlink',new D.default(H))}}]),z}(C.default);u.default=L},function(r,u,s){'use strict';function d(Q){return Q&&Q.__esModule?Q:{default:Q}}function f(Q,Y){if(!(Q instanceof Y))throw new TypeError('Cannot call a class as a function')}function h(Q,Y){if(!Q)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return Y&&('object'==typeof Y||'function'==typeof Y)?Y:Q}function P(Q,Y){if('function'!=typeof Y&&null!==Y)throw new TypeError('Super expression must either be null or a function, not '+typeof Y);Q.prototype=Object.create(Y&&Y.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,Y):Q.__proto__=Y)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function Q(Y,X){for(var Z=0,ee;Z<X.length;Z++)ee=X[Z],ee.enumerable=ee.enumerable||!1,ee.configurable=!0,'value'in ee&&(ee.writable=!0),Object.defineProperty(Y,ee.key,ee)}return function(Y,X,Z){return X&&Q(Y.prototype,X),Z&&Q(Y,Z),Y}}(),M=function Q(Y,X,Z){null===Y&&(Y=Function.prototype);var ee=Object.getOwnPropertyDescriptor(Y,X);if(ee===void 0){var te=Object.getPrototypeOf(Y);return null===te?void 0:Q(te,X,Z)}if('value'in ee)return ee.value;var re=ee.get;return void 0===re?void 0:re.call(Z)},C=s(7),O=d(C),T=s(5),S=d(T),E=s(125),I=d(E),R=s(23),V=d(R),N=s(179),F=d(N),D=s(178),L=d(D),q=s(177),z=d(q),W=s(67),H=d(W),U=s(123),K=d(U),$=s(48),J=d($),G=function(Q){function Y(X){f(this,Y);var Z=h(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,X)),ee=X.t;Z.focusTracker=new H.default,Z.keystrokes=new J.default,Z.urlInputView=Z._createUrlInput(),Z.saveButtonView=Z._createButton(ee('Save')),Z.saveButtonView.type='submit',Z.cancelButtonView=Z._createButton(ee('Cancel'),'cancel'),Z.unlinkButtonView=Z._createButton(ee('Unlink'),'unlink'),Z._focusables=new I.default,Z._focusCycler=new K.default({focusables:Z._focusables,focusTracker:Z.focusTracker,keystrokeHandler:Z.keystrokes,actions:{focusPrevious:'shift + tab',focusNext:'tab'}}),S.default.extend(Z.saveButtonView.template,{attributes:{class:['ck-button-action']}}),Z.template=new S.default({tag:'form',attributes:{class:['ck-link-form'],tabindex:'-1'},children:[Z.urlInputView,{tag:'div',attributes:{class:['ck-link-form__actions']},children:[Z.saveButtonView,Z.cancelButtonView,Z.unlinkButtonView]}]}),(0,z.default)({view:Z});var te=[Z.urlInputView,Z.saveButtonView,Z.cancelButtonView,Z.unlinkButtonView];return te.forEach(function(re){Z._focusables.add(re),Z.focusTracker.add(re.element)}),Z}return P(Y,Q),w(Y,[{key:'init',value:function(){return this.keystrokes.listenTo(this.element),M(Y.prototype.__proto__||Object.getPrototypeOf(Y.prototype),'init',this).call(this)}},{key:'focus',value:function(){this._focusCycler.focusFirst()}},{key:'_createUrlInput',value:function(){var Z=this.locale.t,ee=new F.default(this.locale,L.default);return ee.label=Z('Link URL'),ee.inputView.placeholder='https://example.com',ee}},{key:'_createButton',value:function(Z,ee){var te=new V.default(this.locale);return te.label=Z,te.withText=!0,ee&&te.delegate('execute').to(this,ee),te}}]),Y}(O.default);u.default=G},function(r,u,s){'use strict';function d(E){return E&&E.__esModule?E:{default:E}}function f(E,I){if(!(E instanceof I))throw new TypeError('Cannot call a class as a function')}function h(E,I){if(!E)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return I&&('object'==typeof I||'function'==typeof I)?I:E}function P(E,I){if('function'!=typeof I&&null!==I)throw new TypeError('Super expression must either be null or a function, not '+typeof I);E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(E,I):E.__proto__=I)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function E(I,R){for(var V=0,N;V<R.length;V++)N=R[V],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}return function(I,R,V){return R&&E(I.prototype,R),V&&E(I,V),I}}(),M=s(11),C=d(M),O=s(172),T=d(O),S=function(E){function I(){return f(this,I),h(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return P(I,E),w(I,[{key:'refresh',value:function(){this.isEnabled=this.editor.document.selection.hasAttribute('linkHref')}},{key:'execute',value:function(){var V=this.editor.document,N=V.selection;V.enqueueChanges(function(){var F=N.isCollapsed?[(0,T.default)(N.getFirstPosition(),N.getAttribute('linkHref'))]:N.getRanges(),D=V.batch(),L=!0,q=!1,z;try{for(var W=F[Symbol.iterator](),H,U;!(L=(H=W.next()).done);L=!0)U=H.value,D.removeAttribute(U,'linkHref')}catch(K){q=!0,z=K}finally{try{!L&&W.return&&W.return()}finally{if(q)throw z}}})}}]),I}(C.default);u.default=S},function(r,u,s){'use strict';function d(me){return me&&me.__esModule?me:{default:me}}function f(me){if(Array.isArray(me)){for(var ge=0,ye=Array(me.length);ge<me.length;ge++)ye[ge]=me[ge];return ye}return Array.from(me)}function N(me,ge,ye){var be=me.nodeAfter;be&&'listItem'==be.name&&ge.enqueueChanges(function(){for(var he=be.previousSibling,ve=he&&he.is('listItem')?he.getAttribute('indent')+1:0,ke=be.getAttribute('indent')-ve,Pe=[];be&&'listItem'==be.name&&be.getAttribute('indent')>ve;){ke>be.getAttribute('indent')&&(ke=be.getAttribute('indent'));var we=be.getAttribute('indent')-ke;Pe.push({item:be,indent:we}),be=be.nextSibling}if(0<Pe.length){var xe=!0,Me=!1,Ce;try{for(var Oe=Pe.reverse()[Symbol.iterator](),Ae,Te;!(xe=(Ae=Oe.next()).done);xe=!0)Te=Ae.value,ye.setAttribute(Te.item,'indent',Te.indent)}catch(Se){Me=!0,Ce=Se}finally{try{!xe&&Oe.return&&Oe.return()}finally{if(Me)throw Ce}}}})}function F(me,ge,ye,be){var he=me[ge?'nodeBefore':'nodeAfter'];he&&he.is('listItem')&&0!==he.getAttribute('indent')&&ye.enqueueChanges(function(){var ve=U(he,!ge);if(ve&&ve!=he)for(var ke=ve.getAttribute('indent'),Pe=ve.getAttribute('type');he&&he.is('listItem')&&he.getAttribute('indent')>=ke;)he.getAttribute('type')!=Pe&&he.getAttribute('indent')==ke&&be.setAttribute(he,'type',Pe),he=he[ge?'previousSibling':'nextSibling']})}function L(me,ge){var ye='numbered'==me.getAttribute('type')?'ol':'ul',be=new G.default,he=new ne.default(ye,null);return he.appendChildren(be),ge.bindElements(me,be),be}function q(me,ge){for(var ye=ge.getNext?'nextSibling':'previousSibling',be=ge.getNext?'nodeAfter':'nodeBefore',he=!!ge.checkAllSiblings,ve=!!ge.sameIndent,ke=!!ge.biggerIndent,Pe=!!ge.smallerIndent,we=!!ge.isMapped,xe=me instanceof Z.default?me.getAttribute('indent'):ge.indent,Me=me instanceof Z.default?me[ye]:me[be],Ce;Me&&'listItem'==Me.name;){if(Ce=Me.getAttribute('indent'),ve&&xe==Ce||ke&&xe<Ce||Pe&&xe>Ce){if(!we||ge.mapper.toViewElement(Me))return Me;Me=Me[ye];continue}if(!he)return null;Me=Me[ye]}return null}function z(me,ge){return me&&ge&&('ul'==me.name||'ol'==me.name)&&me.name==ge.name?pe.default.mergeContainers(ue.default.createAfter(me)):null}function W(me,ge,ye,be){var he=ge.parent,ve,ke=q(me,{sameIndent:!0,smallerIndent:!0,checkAllSiblings:!0});if(ke&&ke.getAttribute('indent')==me.getAttribute('indent')){var Pe=ye.toViewElement(ke);ve=pe.default.breakContainer(ue.default.createAfter(Pe))}else ke=me.previousSibling,ve=ke&&'listItem'==ke.name?ke.getAttribute('indent')<me.getAttribute('indent')?ye.toViewPosition(te.default.createAt(ke,'end')):be.parent.is('ul')||be.parent.is('ol')?pe.default.breakContainer(be):be:ye.toViewPosition(te.default.createBefore(me));ve=K(ve),pe.default.insert(ve,he);var we=q(me,{biggerIndent:!0,getNext:!0,isMapped:!0,mapper:ye});if(we){var xe=ye.toViewElement(we);pe.default.breakContainer(ue.default.createBefore(xe));var Me=ue.default.createBefore(xe.parent),Ce=U(we,!1),Oe=ye.toViewElement(Ce),Ae=pe.default.breakContainer(ue.default.createAfter(Oe)),Te=new se.default(Me,Ae),Se=ue.default.createAt(ge,'end');pe.default.move(Te,Se)}z(he,he.nextSibling),z(he.previousSibling,he)}function H(me,ge,ye,be,he){var ve=q(ge,{sameIndent:!0,smallerIndent:!0,checkAllSiblings:!0,indent:me}),ke=ve?ve.getAttribute('indent'):null,Pe;if(!ve)Pe=ye;else if(ke==me){var we=he.toViewElement(ve).parent;Pe=ue.default.createAfter(we)}else{var xe=te.default.createAt(ve,'end');Pe=he.toViewPosition(xe)}Pe=K(Pe);for(var Me=[].concat(f(be.getChildren())),Ce=0,Oe;Ce<Me.length;Ce++)Oe=Me[Ce],(Oe.is('ul')||Oe.is('ol'))&&(Pe=pe.default.move(se.default.createOn(Oe),Pe).end,z(Oe,Oe.nextSibling),z(Oe.previousSibling,Oe))}function U(me,ge){for(var ye=me.getAttribute('indent'),be=ge?'previousSibling':'nextSibling',he=me;me[be]&&me[be].is('listItem')&&me[be].getAttribute('indent')>=ye;)me=me[be],me.getAttribute('indent')==ye&&(he=me);return he}function K(me){return me.getLastMatchingPosition(function(ge){return ge.item.is('uiElement')})}Object.defineProperty(u,'__esModule',{value:!0});var $=function(){function me(ge,ye){var be=[],he=!0,ve=!1,ke;try{for(var Pe=ge[Symbol.iterator](),we;!(he=(we=Pe.next()).done)&&(be.push(we.value),!(ye&&be.length===ye));he=!0);}catch(xe){ve=!0,ke=xe}finally{try{!he&&Pe['return']&&Pe['return']()}finally{if(ve)throw ke}}return be}return function(ge,ye){if(Array.isArray(ge))return ge;if(Symbol.iterator in Object(ge))return me(ge,ye);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();u.modelViewInsertion=function(me,ge,ye,be){if(ye.test(ge.item,'insert')&&ye.test(ge.item,'addAttribute:type')&&ye.test(ge.item,'addAttribute:indent')){ye.consume(ge.item,'insert'),ye.consume(ge.item,'addAttribute:type'),ye.consume(ge.item,'addAttribute:indent');var he=ge.item,ve=L(he,be.mapper),ke=be.mapper.toViewPosition(te.default.createBefore(he));W(he,ve,be.mapper,ke)}},u.modelViewChangeType=function(me,ge,ye,be){if(ye.consume(ge.item,'changeAttribute:type')){var he=be.mapper.toViewElement(ge.item);pe.default.breakContainer(ue.default.createBefore(he)),pe.default.breakContainer(ue.default.createAfter(he));var ve=he.parent,ke='numbered'==ge.attributeNewValue?'ol':'ul';ve=pe.default.rename(ve,ke),z(ve,ve.nextSibling),z(ve.previousSibling,ve)}},u.modelViewRemove=function(me,ge,ye,be){if(ye.consume(ge.item,'remove')){var he=be.mapper.toViewPosition(ge.sourcePosition),ve=he.nodeAfter.is('li')?he.nodeAfter:he.nodeAfter.getChild(0);pe.default.breakContainer(ue.default.createBefore(ve)),pe.default.breakContainer(ue.default.createAfter(ve));var ke=ve.parent,Pe=ke.previousSibling,we=se.default.createOn(ke);pe.default.remove(we),Pe&&Pe.nextSibling&&z(Pe,Pe.nextSibling),H(ge.item.getAttribute('indent')+1,ge.sourcePosition,we.start,ve,be.mapper),'$graveyard'==ge.item.root.rootName&&be.mapper.unbindModelElement(ge.item)}},u.modelViewChangeIndent=function(me,ge,ye,be){if(ye.consume(ge.item,'changeAttribute:indent')){var he=be.mapper.toViewElement(ge.item);pe.default.breakContainer(ue.default.createBefore(he)),pe.default.breakContainer(ue.default.createAfter(he));var ve=he.parent,ke=ve.previousSibling,Pe=se.default.createOn(ve);pe.default.remove(Pe);var we;ke&&ke.nextSibling&&(we=z(ke,ke.nextSibling)),we||(we=Pe.start),H(ge.attributeOldValue+1,ge.range.start,Pe.start,he,be.mapper),W(ge.item,he,be.mapper,we)}},u.modelViewSplitOnInsert=function(me,ge,ye,be){if('listItem'!=ge.item.name){for(var he=be.mapper.toViewPosition(ge.range.start),ve=[];('ul'==he.parent.name||'ol'==he.parent.name)&&(he=pe.default.breakContainer(he),'li'==he.parent.name);){var ke=he,Pe=ue.default.createAt(he.parent,'end');if(!ke.isEqual(Pe)){var we=pe.default.remove(new se.default(ke,Pe));ve.push(we)}he=ue.default.createAfter(he.parent)}if(0<ve.length){for(var xe=0;xe<ve.length;xe++){var Me=he.nodeBefore,Ce=pe.default.insert(he,ve[xe]);if(he=Ce.end,0<xe){var Oe=z(Me,Me.nextSibling);Oe&&Oe.parent==Me&&he.offset--}}z(he.nodeBefore,he.nodeAfter)}}},u.modelViewMergeAfter=function(me,ge,ye,be){if(!ge.item.is('listItem')){var he=be.mapper.toViewPosition(ge.sourcePosition),ve=he.nodeBefore,ke=he.nodeAfter;z(ve,ke)}},u.viewModelConverter=function(me,ge,ye,be){if(ye.consume(ge.input,{name:!0})){var he=new Z.default('listItem');ge.indent=ge.indent?ge.indent:0;var ve='ul'==ge.input.parent.name?'bulleted':'numbered';he.setAttribute('type',ve),he.setAttribute('indent',ge.indent),ge.context.push(he),ge.indent++;var ke=new Y.default;ke.appendChildren(he);var Pe=!0,we=!1,xe;try{for(var Me=ge.input.getChildren()[Symbol.iterator](),Ce;!(Pe=(Ce=Me.next()).done);Pe=!0){var Oe=Ce.value,Ae=be.convertItem(Oe,ye,ge);'ul'==Oe.name||'ol'==Oe.name?ke.appendChildren(Array.from(Ae.getChildren())):ae.default.insert(te.default.createAt(he,'end'),Ae)}}catch(Te){we=!0,xe=Te}finally{try{!Pe&&Me.return&&Me.return()}finally{if(we)throw xe}}ge.indent--,ge.context.pop(),ge.output=ke}},u.cleanList=function(me,ge,ye){if(ye.test(ge.input,{name:!0})){var be=Array.from(ge.input.getChildren()),he=!0,ve=!1,ke;try{for(var Pe=be[Symbol.iterator](),we,xe;!(he=(we=Pe.next()).done);he=!0)xe=we.value,xe.is('li')||xe.remove()}catch(Me){ve=!0,ke=Me}finally{try{!he&&Pe.return&&Pe.return()}finally{if(ve)throw ke}}}},u.cleanListItem=function(me,ge,ye){if(ye.test(ge.input,{name:!0})){if(0===ge.input.childCount)return;var be=[].concat(f(ge.input.getChildren())),he=!1,ve=!0,ke=!0,Pe=!1,we;try{for(var xe=be[Symbol.iterator](),Me,Ce;!(ke=(Me=xe.next()).done);ke=!0)Ce=Me.value,!he||Ce.is('ul')||Ce.is('ol')||Ce.remove(),Ce.is('text')?(ve&&(Ce.data=Ce.data.replace(/^\s+/,'')),(!Ce.nextSibling||Ce.nextSibling.is('ul')||Ce.nextSibling.is('ol'))&&(Ce.data=Ce.data.replace(/\s+$/,''))):(Ce.is('ul')||Ce.is('ol'))&&(he=!0),ve=!1}catch(Oe){Pe=!0,we=Oe}finally{try{!ke&&xe.return&&xe.return()}finally{if(Pe)throw we}}}},u.modelToViewPosition=function(me,ge){var ye=ge.modelPosition.nodeBefore;if(ye&&ye.is('listItem')){var be=ge.mapper.toViewElement(ye),he=be.getAncestors().find(function(Oe){return Oe.is('ul')||Oe.is('ol')}),ve=new fe.default({startPosition:ue.default.createAt(be,0)}),ke=!0,Pe=!1,we;try{for(var xe=ve[Symbol.iterator](),Me,Ce;!(ke=(Me=xe.next()).done);ke=!0)if(Ce=Me.value,'elementStart'==Ce.type&&Ce.item.is('li')){ge.viewPosition=Ce.previousPosition;break}else if('elementEnd'==Ce.type&&Ce.item==he){ge.viewPosition=Ce.nextPosition;break}}catch(Oe){Pe=!0,we=Oe}finally{try{!ke&&xe.return&&xe.return()}finally{if(Pe)throw we}}}},u.viewToModelPosition=function(me,ge){var ye=ge.viewPosition,be=ye.parent,he=ge.mapper;if('ul'==be.name||'ol'==be.name){if(!ye.isAtEnd){var ve=he.toModelElement(ye.nodeAfter);ge.modelPosition=te.default.createBefore(ve)}else{var ke=he.toModelElement(ye.nodeBefore),Pe=he.getModelLength(ye.nodeBefore);ge.modelPosition=te.default.createBefore(ke).getShiftedBy(Pe)}me.stop()}else if('li'==be.name&&ye.nodeBefore&&('ul'==ye.nodeBefore.name||'ol'==ye.nodeBefore.name)){for(var we=he.toModelElement(be),xe=1,Me=ye.nodeBefore;Me&&(Me.is('ul')||Me.is('ol'));)xe+=he.getModelLength(Me),Me=Me.previousSibling;ge.modelPosition=te.default.createBefore(we).getShiftedBy(xe),me.stop()}},u.modelChangePostFixer=function(me){return function(ge,ye,be,he){if('transparent'!=he.type)if('remove'==ye)N(be.sourcePosition,me,he),F(be.sourcePosition,!1,me,he);else if('move'==ye)N(be.sourcePosition,me,he),F(be.sourcePosition,!1,me,he),N(be.range.start,me,he),F(be.range.start,!1,me,he),N(be.range.end,me,he),F(be.range.end,!0,me,he);else if('rename'==ye&&'listItem'==be.oldName&&'listItem'!=be.newName){var ve=be.element;me.enqueueChanges(function(){he.removeAttribute(ve,'indent').removeAttribute(ve,'type')});var ke=te.default.createAfter(be.element);N(ke,me,he)}else'insert'==ye&&(N(be.range.start,me,he),F(be.range.start,!1,me,he),N(be.range.end,me,he),F(be.range.end,!0,me,he))}},u.modelIndentPasteFixer=function(me,ge){var ye=$(ge,2),be=ye[0],he=ye[1],ve=be.is('documentFragment')?be.getChild(0):be;if(ve.is('listItem')){var ke=he.getFirstPosition(),Pe=null;if(ke.parent.is('listItem')?Pe=ke.parent:ke.nodeBefore&&ke.nodeBefore.is('listItem')&&(Pe=ke.nodeBefore),Pe){var we=Pe.getAttribute('indent');if(0<we)for(;ve&&ve.is('listItem');)ve.setAttribute('indent',ve.getAttribute('indent')+we),ve=ve.nextSibling}}};var J=s(363),G=d(J),Q=s(35),Y=d(Q),X=s(6),Z=d(X),ee=s(1),te=d(ee),re=s(21),ae=d(re),oe=s(45),ne=d(oe),le=s(22),ue=d(le),ie=s(38),se=d(ie),de=s(55),fe=d(de),ce=s(85),pe=d(ce)},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}function f(R,V){if(!(R instanceof V))throw new TypeError('Cannot call a class as a function')}function h(R,V){if(!R)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:R}function P(R,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);R.prototype=Object.create(V&&V.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(R,V):R.__proto__=V)}function w(R,V){var N=M(R,!1);if(N)return void V.setAttribute(R,'type',N.getAttribute('type'));var F=M(R,!0);F&&V.setAttribute(R,'type',F.getAttribute('type'))}function M(R,V){for(var N=R[V?'nextSibling':'previousSibling'];N&&N.is('listItem')&&N.getAttribute('indent')>=R.getAttribute('indent');){if(N.getAttribute('indent')==R.getAttribute('indent'))return N;N=N[V?'nextSibling':'previousSibling']}return null}Object.defineProperty(u,'__esModule',{value:!0});var C=function(){function R(V,N){for(var F=0,D;F<N.length;F++)D=N[F],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(V,D.key,D)}return function(V,N,F){return N&&R(V.prototype,N),F&&R(V,F),V}}(),O=s(11),T=d(O),S=s(66),E=d(S),I=function(R){function V(N,F){f(this,V);var D=h(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,N));return D._indentBy='forward'==F?1:-1,D}return P(V,R),C(V,[{key:'refresh',value:function(){this.isEnabled=this._checkEnabled()}},{key:'execute',value:function(){var F=this,D=this.editor.document,L=D.batch(),q=Array.from(D.selection.getSelectedBlocks());D.enqueueChanges(function(){for(var z=q[q.length-1],W=z.nextSibling;W&&'listItem'==W.name&&W.getAttribute('indent')>z.getAttribute('indent');)q.push(W),W=W.nextSibling;0>F._indentBy&&(q=q.reverse());var H=!0,U=!1,K;try{for(var $=q[Symbol.iterator](),J;!(H=(J=$.next()).done);H=!0){var G=J.value,Q=G.getAttribute('indent')+F._indentBy;0>Q?L.rename(G,'paragraph'):L.setAttribute(G,'indent',Q)}}catch(ae){U=!0,K=ae}finally{try{!H&&$.return&&$.return()}finally{if(U)throw K}}0>F._indentBy&&(q=q.reverse());var Y=!0,X=!1,Z;try{for(var ee=q[Symbol.iterator](),te,re;!(Y=(te=ee.next()).done);Y=!0)re=te.value,w(re,L)}catch(ae){X=!0,Z=ae}finally{try{!Y&&ee.return&&ee.return()}finally{if(X)throw Z}}})}},{key:'_checkEnabled',value:function(){var F=(0,E.default)(this.editor.document.selection.getSelectedBlocks());if(!F||!F.is('listItem'))return!1;if(0<this._indentBy){for(var D=F.getAttribute('indent'),L=F.getAttribute('type'),q=F.previousSibling;q&&q.is('listItem')&&q.getAttribute('indent')>=D;){if(q.getAttribute('indent')==D)return q.getAttribute('type')==L;q=q.previousSibling}return!1}return!0}}]),V}(T.default);u.default=I},function(r,u,s){'use strict';function d(L){return L&&L.__esModule?L:{default:L}}function f(L,q){if(!(L instanceof q))throw new TypeError('Cannot call a class as a function')}function h(L,q){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return q&&('object'==typeof q||'function'==typeof q)?q:L}function P(L,q){if('function'!=typeof q&&null!==q)throw new TypeError('Super expression must either be null or a function, not '+typeof q);L.prototype=Object.create(q&&q.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(L,q):L.__proto__=q)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function L(q,z){for(var W=0,H;W<z.length;W++)H=z[W],H.enumerable=H.enumerable||!1,H.configurable=!0,'value'in H&&(H.writable=!0),Object.defineProperty(q,H.key,H)}return function(q,z,W){return z&&L(q.prototype,z),W&&L(q,W),q}}(),M=s(362),C=d(M),O=s(530),T=d(O),S=s(529),E=d(S),I=s(2),R=d(I),V=s(24),N=s(23),F=d(N),D=function(L){function q(){return f(this,q),h(this,(q.__proto__||Object.getPrototypeOf(q)).apply(this,arguments))}return P(q,L),w(q,[{key:'init',value:function(){var W=this,H=this.editor.t;this._addButton('numberedList',H('Numbered List'),T.default),this._addButton('bulletedList',H('Bulleted List'),E.default),this.listenTo(this.editor.editing.view,'enter',function(U,K){var $=W.editor.document,J=$.selection.getLastPosition().parent;$.selection.isCollapsed&&'listItem'==J.name&&J.isEmpty&&(W.editor.execute('outdentList'),K.preventDefault(),U.stop())}),this.listenTo(this.editor.editing.view,'keydown',function(U,K){var $;if(K.keystroke==(0,V.parseKeystroke)('Tab')?$='indentList':K.keystroke==(0,V.parseKeystroke)('Shift+Tab')&&($='outdentList'),$){var J=W.editor.commands.get($);J.isEnabled&&(W.editor.execute($),K.preventDefault(),U.stop())}})}},{key:'_addButton',value:function(W,H,U){var K=this,$=this.editor,J=$.commands.get(W);$.ui.componentFactory.add(W,function(G){var Q=new F.default(G);return Q.set({label:H,icon:U,tooltip:!0}),Q.bind('isOn','isEnabled').to(J,'value','isEnabled'),K.listenTo(Q,'execute',function(){return $.execute(W)}),Q})}}],[{key:'requires',get:function(){return[C.default]}},{key:'pluginName',get:function(){return'List'}}]),q}(R.default);u.default=D},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}function f(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function h(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function P(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}function w(N,F,D){var L=F?N[0]:N[N.length-1];if(L.is('listItem'))for(var q=L[F?'previousSibling':'nextSibling'],z=L.getAttribute('indent');q&&q.is('listItem')&&q.getAttribute('indent')>=D;)z>q.getAttribute('indent')&&(z=q.getAttribute('indent')),q.getAttribute('indent')==z&&N[F?'unshift':'push'](q),q=q[F?'previousSibling':'nextSibling']}function M(N,F){return F.check({name:'listItem',attributes:['type','indent'],inside:E.default.createBefore(N)})}Object.defineProperty(u,'__esModule',{value:!0});var C=function(){function N(F,D){for(var L=0,q;L<D.length;L++)q=D[L],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(F,q.key,q)}return function(F,D,L){return D&&N(F.prototype,D),L&&N(F,L),F}}(),O=s(11),T=d(O),S=s(1),E=d(S),I=s(66),R=d(I),V=function(N){function F(D,L){f(this,F);var q=h(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,D));return q.type='bulleted'==L?'bulleted':'numbered',q}return P(F,N),C(F,[{key:'refresh',value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:'execute',value:function(){var L=this,q=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},z=this.editor.document,W=Array.from(z.selection.getSelectedBlocks()).filter(function(U){return M(U,z.schema)}),H=!0===this.value;z.enqueueChanges(function(){var U=q.batch||z.batch();if(H){for(var K=W[W.length-1].nextSibling,$=_NumberPOSITIVE_INFINITY,J=[],G;K&&'listItem'==K.name&&0!==K.getAttribute('indent');){G=K.getAttribute('indent'),G<$&&($=G);var Q=G-$;J.push({element:K,indent:Q}),K=K.nextSibling}J=J.reverse();var Y=!0,X=!1,Z;try{for(var ee=J[Symbol.iterator](),te,re;!(Y=(te=ee.next()).done);Y=!0)re=te.value,U.setAttribute(re.element,'indent',re.indent)}catch(ye){X=!0,Z=ye}finally{try{!Y&&ee.return&&ee.return()}finally{if(X)throw Z}}}if(!H){var ae=_NumberPOSITIVE_INFINITY,oe=!0,ne=!1,le;try{for(var ue=W[Symbol.iterator](),ie,se;!(oe=(ie=ue.next()).done);oe=!0)se=ie.value,se.is('listItem')&&se.getAttribute('indent')<ae&&(ae=se.getAttribute('indent'))}catch(ye){ne=!0,le=ye}finally{try{!oe&&ue.return&&ue.return()}finally{if(ne)throw le}}ae=0===ae?1:ae,w(W,!0,ae),w(W,!1,ae)}var de=!0,fe=!1,ce;try{for(var pe=W.reverse()[Symbol.iterator](),me,ge;!(de=(me=pe.next()).done);de=!0)ge=me.value,H&&'listItem'==ge.name?U.rename(ge,'paragraph'):H||'listItem'==ge.name?!H&&'listItem'==ge.name&&ge.getAttribute('type')!=L.type&&U.setAttribute(ge,'type',L.type):U.setAttribute(ge,'type',L.type).setAttribute(ge,'indent',0).rename(ge,'listItem')}catch(ye){fe=!0,ce=ye}finally{try{!de&&pe.return&&pe.return()}finally{if(fe)throw ce}}})}},{key:'_getValue',value:function(){var L=(0,R.default)(this.editor.document.selection.getSelectedBlocks());return!!L&&L.is('listItem')&&L.getAttribute('type')==this.type}},{key:'_checkEnabled',value:function(){if(this.value)return!0;var L=this.editor.document.selection,q=this.editor.document.schema,z=(0,R.default)(L.getSelectedBlocks());return!!z&&M(z,q)}}]),F}(T.default);u.default=V},function(r,u,s){'use strict';function d(D){return D&&D.__esModule?D:{default:D}}function f(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}function h(D,L){if(!D)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:D}function P(D,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);D.prototype=Object.create(L&&L.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(D,L):D.__proto__=L)}function w(D){var L=1,q=!0,z=!1,W;try{for(var H=D.getChildren()[Symbol.iterator](),U,K;!(q=(U=H.next()).done);q=!0)if(K=U.value,'ul'==K.name||'ol'==K.name){var $=!0,J=!1,G=void 0;try{for(var Q=K.getChildren()[Symbol.iterator](),Y,X;!($=(Y=Q.next()).done);$=!0)X=Y.value,L+=w(X)}catch(Z){J=!0,G=Z}finally{try{!$&&Q.return&&Q.return()}finally{if(J)throw G}}}}catch(Z){z=!0,W=Z}finally{try{!q&&H.return&&H.return()}finally{if(z)throw W}}return L}Object.defineProperty(u,'__esModule',{value:!0});var M=function(){function D(L,q){for(var z=0,W;z<q.length;z++)W=q[z],W.enumerable=W.enumerable||!1,W.configurable=!0,'value'in W&&(W.writable=!0),Object.defineProperty(L,W.key,W)}return function(L,q,z){return q&&D(L.prototype,q),z&&D(L,z),L}}(),C=s(361),O=d(C),T=s(359),S=d(T),E=s(2),I=d(E),R=s(86),V=d(R),N=s(358),F=function(D){function L(){return f(this,L),h(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return P(L,D),M(L,[{key:'init',value:function(){var z=this.editor,W=z.document.schema;W.registerItem('listItem','$block'),W.allow({name:'listItem',inside:'$root',attributes:['type','indent']}),W.requireAttributes('listItem',['type','indent']);var H=z.data,U=z.editing;this.editor.document.on('change',(0,N.modelChangePostFixer)(this.editor.document),{priority:'high'}),this.editor.document.on('change',function(K,$,J){if('move'==$){var G=!0,Q=!1,Y;try{for(var X=J.range.getItems()[Symbol.iterator](),Z,ee;!(G=(Z=X.next()).done);G=!0)ee=Z.value,ee.is('listItem')&&U.mapper.unbindModelElement(ee)}catch(te){Q=!0,Y=te}finally{try{!G&&X.return&&X.return()}finally{if(Q)throw Y}}}},{priority:'high'}),U.mapper.registerViewToModelLength('li',w),H.mapper.registerViewToModelLength('li',w),U.mapper.on('modelToViewPosition',N.modelToViewPosition),U.mapper.on('viewToModelPosition',N.viewToModelPosition),H.mapper.on('modelToViewPosition',N.modelToViewPosition),U.modelToView.on('insert',N.modelViewSplitOnInsert,{priority:'high'}),U.modelToView.on('insert:listItem',N.modelViewInsertion),H.modelToView.on('insert',N.modelViewSplitOnInsert,{priority:'high'}),H.modelToView.on('insert:listItem',N.modelViewInsertion),U.modelToView.on('changeAttribute:type:listItem',N.modelViewChangeType),H.modelToView.on('changeAttribute:type:listItem',N.modelViewChangeType),U.modelToView.on('remove:listItem',N.modelViewRemove),U.modelToView.on('remove',N.modelViewMergeAfter,{priority:'low'}),H.modelToView.on('remove:listItem',N.modelViewRemove),H.modelToView.on('remove',N.modelViewMergeAfter,{priority:'low'}),U.modelToView.on('changeAttribute:indent:listItem',N.modelViewChangeIndent),H.modelToView.on('changeAttribute:indent:listItem',N.modelViewChangeIndent),H.viewToModel.on('element:ul',N.cleanList,{priority:'high'}),H.viewToModel.on('element:ol',N.cleanList,{priority:'high'}),H.viewToModel.on('element:li',N.cleanListItem,{priority:'high'}),H.viewToModel.on('element:li',N.viewModelConverter),H.on('insertContent',N.modelIndentPasteFixer,{priority:'high'}),z.commands.add('numberedList',new O.default(z,'numbered')),z.commands.add('bulletedList',new O.default(z,'bulleted')),z.commands.add('indentList',new S.default(z,'forward')),z.commands.add('outdentList',new S.default(z,'backward'))}}],[{key:'requires',get:function(){return[V.default]}}]),L}(I.default);u.default=F},function(r,u,s){'use strict';function f(T,S){if(!(T instanceof S))throw new TypeError('Cannot call a class as a function')}function h(T,S){if(!T)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return S&&('object'==typeof S||'function'==typeof S)?S:T}function P(T,S){if('function'!=typeof S&&null!==S)throw new TypeError('Super expression must either be null or a function, not '+typeof S);T.prototype=Object.create(S&&S.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(T,S):T.__proto__=S)}function w(){var T=!this.isEmpty&&('ul'==this.getChild(0).name||'ol'==this.getChild(0).name);return this.isEmpty||T?0:null}Object.defineProperty(u,'__esModule',{value:!0});var M=s(45),C=function(T){return T&&T.__esModule?T:{default:T}}(M),O=function(T){function S(E,I){f(this,S);var R=h(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,'li',E,I));return R.getFillerOffset=w,R}return P(S,T),S}(C.default);u.default=O},function(r,u,s){'use strict';function d(V){return V&&V.__esModule?V:{default:V}}function f(V,N){if(!(V instanceof N))throw new TypeError('Cannot call a class as a function')}function h(V,N){if(!V)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:V}function P(V,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);V.prototype=Object.create(N&&N.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(V,N):V.__proto__=N)}function w(V,N){return N.check({name:'paragraph',inside:S.default.createBefore(V)})}Object.defineProperty(u,'__esModule',{value:!0});var M=function(){function V(N,F){for(var D=0,L;D<F.length;D++)L=F[D],L.enumerable=L.enumerable||!1,L.configurable=!0,'value'in L&&(L.writable=!0),Object.defineProperty(N,L.key,L)}return function(N,F,D){return F&&V(N.prototype,F),D&&V(N,D),N}}(),C=s(11),O=d(C),T=s(1),S=d(T),E=s(66),I=d(E),R=function(V){function N(){return f(this,N),h(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return P(N,V),M(N,[{key:'refresh',value:function(){var D=this.editor.document,L=(0,I.default)(D.selection.getSelectedBlocks());this.value=!!L&&L.is('paragraph'),this.isEnabled=!!L&&w(L,D.schema)}},{key:'execute',value:function(){var D=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},L=this.editor.document;L.enqueueChanges(function(){var q=D.batch||L.batch(),z=(D.selection||L.selection).getSelectedBlocks(),W=!0,H=!1,U;try{for(var K=z[Symbol.iterator](),$,J;!(W=($=K.next()).done);W=!0)J=$.value,!J.is('paragraph')&&w(J,L.schema)&&q.rename(J,'paragraph')}catch(G){H=!0,U=G}finally{try{!W&&K.return&&K.return()}finally{if(H)throw U}}})}}]),N}(O.default);u.default=R},function(r,u,s){'use strict';function d(D){return D&&D.__esModule?D:{default:D}}function f(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}function h(D,L){if(!D)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:D}function P(D,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);D.prototype=Object.create(L&&L.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(D,L):D.__proto__=L)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function D(L,q){for(var z=0,W;z<q.length;z++)W=q[z],W.enumerable=W.enumerable||!1,W.configurable=!0,'value'in W&&(W.writable=!0),Object.defineProperty(L,W.key,W)}return function(L,q,z){return q&&D(L.prototype,q),z&&D(L,z),L}}(),M=s(2),C=d(M),O=s(286),T=d(O),S=s(333),E=d(S),I=s(371),R=d(I),V=s(392),N=d(V),F=function(D){function L(){return f(this,L),h(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return P(L,D),w(L,null,[{key:'requires',get:function(){return[T.default,E.default,R.default,N.default]}}]),L}(C.default);u.default=F},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}function f(R,V){if(!(R instanceof V))throw new TypeError('Cannot call a class as a function')}function h(R,V){if(!R)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:R}function P(R,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);R.prototype=Object.create(V&&V.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(R,V):R.__proto__=V)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function R(V,N){for(var F=0,D;F<N.length;F++)D=N[F],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(V,D.key,D)}return function(V,N,F){return N&&R(V.prototype,N),F&&R(V,F),V}}(),M=s(2),C=d(M),O=s(367),T=d(O),S=s(368),E=d(S),I=function(R){function V(){return f(this,V),h(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return P(V,R),w(V,[{key:'init',value:function(){var F=this.editor,D=F.editing.view;D.addObserver(E.default),F.commands.add('forwardDelete',new T.default(F,'forward')),F.commands.add('delete',new T.default(F,'backward')),this.listenTo(D,'delete',function(L,q){F.execute('forward'==q.direction?'forwardDelete':'delete',{unit:q.unit}),q.preventDefault()})}}],[{key:'pluginName',get:function(){return'Delete'}}]),V}(C.default);u.default=I},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}function f(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function h(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function P(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function N(F,D){for(var L=0,q;L<D.length;L++)q=D[L],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(F,q.key,q)}return function(F,D,L){return D&&N(F.prototype,D),L&&N(F,L),F}}(),M=s(11),C=d(M),O=s(81),T=d(O),S=s(174),E=d(S),I=s(126),R=d(I),V=function(N){function F(D,L){f(this,F);var q=h(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,D));return q.direction=L,q._buffer=new E.default(D.document,D.config.get('typing.undoStep')),q}return P(F,N),w(F,[{key:'execute',value:function(){var L=this,q=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},z=this.editor.document,W=this.editor.data;z.enqueueChanges(function(){L._buffer.lock();var H=T.default.createFromSelection(z.selection),U=H.isCollapsed;if(H.isCollapsed&&W.modifySelection(H,{direction:L.direction,unit:q.unit}),!H.isCollapsed){var K=0;H.getFirstRange().getMinimalFlatRanges().forEach(function($){K+=(0,R.default)($.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),W.deleteContent(H,L._buffer.batch,{doNotResetEntireContent:U}),L._buffer.input(K),z.selection.setRanges(H.getRanges(),H.isBackward),L._buffer.unlock()}})}}]),F}(C.default);u.default=V},function(r,u,s){'use strict';function d(I){return I&&I.__esModule?I:{default:I}}function f(I,R){if(!(I instanceof R))throw new TypeError('Cannot call a class as a function')}function h(I,R){if(!I)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return R&&('object'==typeof R||'function'==typeof R)?R:I}function P(I,R){if('function'!=typeof R&&null!==R)throw new TypeError('Super expression must either be null or a function, not '+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function I(R,V){for(var N=0,F;N<V.length;N++)F=V[N],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(R,F.key,F)}return function(R,V,N){return V&&I(R.prototype,V),N&&I(R,N),R}}(),M=s(54),C=d(M),O=s(121),T=d(O),S=s(24),E=function(I){function R(V){f(this,R);var N=h(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,V));return V.on('keydown',function(F,D){var L={};if(D.keyCode==S.keyCodes.delete)L.direction='forward',L.unit='character';else if(D.keyCode==S.keyCodes.backspace)L.direction='backward',L.unit='codePoint';else return;L.unit=D.altKey?'word':L.unit,V.fire('delete',new T.default(V,D.domEvent,L))}),N}return P(R,I),w(R,[{key:'observe',value:function(){}}]),R}(C.default);u.default=E},function(r,u,s){'use strict';function d(re){return re&&re.__esModule?re:{default:re}}function f(re,ae){if(!(re instanceof ae))throw new TypeError('Cannot call a class as a function')}function h(re,ae){if(!re)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return ae&&('object'==typeof ae||'function'==typeof ae)?ae:re}function P(re,ae){if('function'!=typeof ae&&null!==ae)throw new TypeError('Super expression must either be null or a function, not '+typeof ae);re.prototype=Object.create(ae&&ae.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}),ae&&(Object.setPrototypeOf?Object.setPrototypeOf(re,ae):re.__proto__=ae)}function w(re){return!!re.ctrlKey||ee.includes(re.keyCode)}function M(re,ae){return re instanceof z.default&&ae instanceof z.default?re.data===ae.data:re===ae}function C(re){if(1==re.newChildren.length-re.oldChildren.length){var ae=(0,H.default)(re.oldChildren,re.newChildren,M),oe=(0,K.default)(ae,re.newChildren);if(!(1<oe.length)){var ne=oe[0];return ne.values[0]instanceof z.default?ne:void 0}}}function O(re){var ae=re.map(function(oe){return oe.node}).reduce(function(oe,ne){return oe.getCommonAncestor(ne,{includeSelf:!0})});return ae?ae.getAncestors({includeSelf:!0,parentFirst:!0}).find(function(oe){return oe.is('containerElement')||oe.is('rootElement')}):void 0}function T(re){if(0==re.length)return!1;var ae=!0,oe=!1,ne;try{for(var le=re[Symbol.iterator](),ue,ie;!(ae=(ue=le.next()).done);ae=!0)if(ie=ue.value,'children'!==ie.type||C(ie))return!1}catch(se){oe=!0,ne=se}finally{try{!ae&&le.return&&le.return()}finally{if(oe)throw ne}}return!0}function S(re){return re.every(function(ae){return ae.is('text')})}function E(re){for(var ae=null,oe=null,ne=0,le;ne<re.length;ne++)le=re[ne],'equal'!=le&&(ae=null==ae?ne:ae,oe=ne);for(var ue=0,ie=0,se=ae;se<=oe;se++)'insert'!=re[se]&&ue++,'delete'!=re[se]&&ie++;return{insertions:ie,deletions:ue,firstChangeAt:ae}}Object.defineProperty(u,'__esModule',{value:!0});var I=function(){function re(ae,oe){for(var ne=0,le;ne<oe.length;ne++)le=oe[ne],le.enumerable=le.enumerable||!1,le.configurable=!0,'value'in le&&(le.writable=!0),Object.defineProperty(ae,le.key,le)}return function(ae,oe,ne){return oe&&re(ae.prototype,oe),ne&&re(ae,ne),ae}}(),R=s(2),V=d(R),N=s(3),F=d(N),D=s(22),L=d(D),q=s(31),z=d(q),W=s(183),H=d(W),U=s(396),K=d(U),$=s(24),J=s(120),G=d(J),Q=s(370),Y=d(Q),X=function(re){function ae(){return f(this,ae),h(this,(ae.__proto__||Object.getPrototypeOf(ae)).apply(this,arguments))}return P(ae,re),I(ae,[{key:'init',value:function(){var ne=this,le=this.editor,ue=le.editing.view,ie=new Y.default(le,le.config.get('typing.undoStep')||20);le.commands.add('input',ie),this.listenTo(ue,'keydown',function(se,de){ne._handleKeydown(de,ie)},{priority:'lowest'}),this.listenTo(ue,'mutations',function(se,de,fe){ne._handleMutations(de,fe)})}},{key:'_handleKeydown',value:function(ne,le){var ue=this,ie=this.editor.document,se=le.buffer;!le.isEnabled||w(ne)||ie.selection.isCollapsed||(se.lock(),ie.enqueueChanges(function(){ue.editor.data.deleteContent(ie.selection,se.batch)}),se.unlock())}},{key:'_handleMutations',value:function(ne,le){new Z(this.editor).handle(ne,le)}}],[{key:'pluginName',get:function(){return'Input'}}]),ae}(V.default);u.default=X;for(var Z=function(){function re(ae){f(this,re),this.editor=ae,this.editing=this.editor.editing}return I(re,[{key:'handle',value:function(oe,ne){if(T(oe))this._handleContainerChildrenMutations(oe,ne);else{var le=!0,ue=!1,ie;try{for(var se=oe[Symbol.iterator](),de,fe;!(le=(de=se.next()).done);le=!0)fe=de.value,this._handleTextMutation(fe,ne),this._handleTextNodeInsertion(fe)}catch(ce){ue=!0,ie=ce}finally{try{!le&&se.return&&se.return()}finally{if(ue)throw ie}}}}},{key:'_handleContainerChildrenMutations',value:function(oe,ne){var le=O(oe);if(le){var ue=this.editor.editing.view.domConverter,ie=ue.mapViewToDom(le);if(ie){var se=new G.default,de=this.editor.data.toModel(se.domToView(ie)).getChild(0),fe=this.editor.editing.mapper.toModelElement(le),ce=Array.from(de.getChildren()),pe=Array.from(fe.getChildren());if(S(ce)&&S(pe)){var me=ce.map(function(Me){return Me.data}).join('').replace(/\u00A0/g,' '),ge=pe.map(function(Me){return Me.data}).join('');if(ge!==me){var ye=(0,H.default)(ge,me),be=E(ye),he=be.firstChangeAt,ve=be.insertions,ke=be.deletions,Pe=null;ne&&(Pe=this.editing.mapper.toModelRange(ne.getFirstRange()));var we=me.substr(he,ve),xe=F.default.createFromParentsAndOffsets(fe,he,fe,he+ke);this.editor.execute('input',{text:we,range:xe,resultRange:Pe})}}}}}},{key:'_handleTextMutation',value:function(oe,ne){if('text'==oe.type){var le=oe.newText.replace(/\u00A0/g,' '),ue=oe.oldText.replace(/\u00A0/g,' '),ie=(0,H.default)(ue,le),se=E(ie),de=se.firstChangeAt,fe=se.insertions,ce=se.deletions,pe=null;ne&&(pe=this.editing.mapper.toModelRange(ne.getFirstRange()));var me=new L.default(oe.node,de),ge=this.editing.mapper.toModelPosition(me),ye=F.default.createFromPositionAndShift(ge,ce),be=le.substr(de,fe);this.editor.execute('input',{text:be,range:ye,resultRange:pe})}}},{key:'_handleTextNodeInsertion',value:function(oe){if('children'==oe.type){var ne=C(oe),le=new L.default(oe.node,ne.index),ue=this.editing.mapper.toModelPosition(le),ie=ne.values[0].data;this.editor.execute('input',{text:ie.replace(/\u00A0/g,' '),range:new F.default(ue)})}}}]),re}(),ee=[(0,$.getCode)('arrowUp'),(0,$.getCode)('arrowRight'),(0,$.getCode)('arrowDown'),(0,$.getCode)('arrowLeft'),9,16,17,18,20,27,33,34,35,36,229],te=112;135>=te;te++)ee.push(te)},function(r,u,s){'use strict';function d(I){return I&&I.__esModule?I:{default:I}}function f(I,R){if(!(I instanceof R))throw new TypeError('Cannot call a class as a function')}function h(I,R){if(!I)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return R&&('object'==typeof R||'function'==typeof R)?R:I}function P(I,R){if('function'!=typeof R&&null!==R)throw new TypeError('Super expression must either be null or a function, not '+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function I(R,V){for(var N=0,F;N<V.length;N++)F=V[N],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(R,F.key,F)}return function(R,V,N){return V&&I(R.prototype,V),N&&I(R,N),R}}(),M=function I(R,V,N){null===R&&(R=Function.prototype);var F=Object.getOwnPropertyDescriptor(R,V);if(F===void 0){var D=Object.getPrototypeOf(R);return null===D?void 0:I(D,V,N)}if('value'in F)return F.value;var L=F.get;return void 0===L?void 0:L.call(N)},C=s(11),O=d(C),T=s(174),S=d(T),E=function(I){function R(V,N){f(this,R);var F=h(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,V));return F._buffer=new S.default(V.document,N),F}return P(R,I),w(R,[{key:'destroy',value:function(){M(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),'destroy',this).call(this),this._buffer.destroy()}},{key:'execute',value:function(){var N=this,F=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},D=this.editor.document,L=F.text||'',q=L.length,z=F.range||D.selection.getFirstRange(),W=F.resultRange;D.enqueueChanges(function(){var H=z.isCollapsed;N._buffer.lock(),H||N._buffer.batch.remove(z),N._buffer.batch.weakInsert(z.start,L),W?N.editor.data.model.selection.setRanges([W]):H&&N.editor.data.model.selection.collapse(z.start.getShiftedBy(q)),N._buffer.unlock(),N._buffer.input(q)})}},{key:'buffer',get:function(){return this._buffer}}]),R}(O.default);u.default=E},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}function f(R,V){if(!(R instanceof V))throw new TypeError('Cannot call a class as a function')}function h(R,V){if(!R)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:R}function P(R,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);R.prototype=Object.create(V&&V.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(R,V):R.__proto__=V)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function R(V,N){for(var F=0,D;F<N.length;F++)D=N[F],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(V,D.key,D)}return function(V,N,F){return N&&R(V.prototype,N),F&&R(V,F),V}}(),M=s(2),C=d(M),O=s(369),T=d(O),S=s(366),E=d(S),I=function(R){function V(){return f(this,V),h(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return P(V,R),w(V,null,[{key:'requires',get:function(){return[T.default,E.default]}},{key:'pluginName',get:function(){return'Typing'}}]),V}(C.default);u.default=I},function(r,u,s){'use strict';function f(C,O){if(!(C instanceof O))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function C(O,T){for(var S=0,E;S<T.length;S++)E=T[S],E.enumerable=E.enumerable||!1,E.configurable=!0,'value'in E&&(E.writable=!0),Object.defineProperty(O,E.key,E)}return function(O,T,S){return T&&C(O.prototype,T),S&&C(O,S),O}}(),P=s(0),w=function(C){return C&&C.__esModule?C:{default:C}}(P),M=function(){function C(O){f(this,C),this.editor=O,this._components=new Map}return h(C,[{key:'names',value:regeneratorRuntime.mark(function O(){return regeneratorRuntime.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.delegateYield(this._components.keys(),'t0',1);case 1:case'end':return S.stop();}},O,this)})},{key:'add',value:function(T,S){if(this._components.get(T))throw new w.default('componentfactory-item-exists: The item already exists in the component factory.',{name:T});this._components.set(T,S)}},{key:'create',value:function(T){var S=this._components.get(T);if(!S)throw new w.default('componentfactory-item-missing: There is no such UI component in the factory.',{name:T});return S(this.editor.locale)}}]),C}();u.default=M},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(T,S){var E=new P.default(S);E.bind('label','isOn','isEnabled','withText','keystroke','tooltip').to(T);var I=new O.default(S);return new M.default(S,E,I)};var h=s(23),P=d(h),w=s(375),M=d(w),C=s(374),O=d(C)},function(r,u,s){'use strict';function d(S){return S&&S.__esModule?S:{default:S}}function f(S,E){if(!(S instanceof E))throw new TypeError('Cannot call a class as a function')}function h(S,E){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:S}function P(S,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}Object.defineProperty(u,'__esModule',{value:!0});var w=s(7),M=d(w),C=s(5),O=d(C),T=function(S){function E(I){f(this,E);var R=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I)),V=R.bindTemplate;return R.set('isVisible',!1),R.children=R.createCollection(),R.template=new O.default({tag:'div',attributes:{class:['ck-reset','ck-dropdown__panel',V.if('isVisible','ck-dropdown__panel-visible')]},children:R.children,on:{selectstart:V.to(function(N){return N.preventDefault()})}}),R}return P(E,S),E}(M.default);u.default=T},function(r,u,s){'use strict';function d(F){return F&&F.__esModule?F:{default:F}}function f(F,D){if(!(F instanceof D))throw new TypeError('Cannot call a class as a function')}function h(F,D){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return D&&('object'==typeof D||'function'==typeof D)?D:F}function P(F,D){if('function'!=typeof D&&null!==D)throw new TypeError('Super expression must either be null or a function, not '+typeof D);F.prototype=Object.create(D&&D.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(F,D):F.__proto__=D)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function F(D,L){for(var q=0,z;q<L.length;q++)z=L[q],z.enumerable=z.enumerable||!1,z.configurable=!0,'value'in z&&(z.writable=!0),Object.defineProperty(D,z.key,z)}return function(D,L,q){return L&&F(D.prototype,L),q&&F(D,q),D}}(),M=function F(D,L,q){null===D&&(D=Function.prototype);var z=Object.getOwnPropertyDescriptor(D,L);if(z===void 0){var W=Object.getPrototypeOf(D);return null===W?void 0:F(W,L,q)}if('value'in z)return z.value;var H=z.get;return void 0===H?void 0:H.call(q)},C=s(7),O=d(C),T=s(5),S=d(T),E=s(67),I=d(E),R=s(48),V=d(R),N=function(F){function D(L,q,z){f(this,D);var W=h(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,L));return S.default.extend(q.template,{attributes:{class:['ck-dropdown__button']}}),W.buttonView=q,W.panelView=z,W.set('isOpen',!1),W.focusTracker=new I.default,W.keystrokes=new V.default,W.template=new S.default({tag:'div',attributes:{class:['ck-dropdown']},children:[q,z]}),W.listenTo(q,'execute',function(){W.isOpen=!W.isOpen}),z.bind('isVisible').to(W,'isOpen'),W}return P(D,F),w(D,[{key:'init',value:function(){var q=this;this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);var z=function(H,U){q.isOpen&&(q.buttonView.focus(),q.isOpen=!1,U())};this.keystrokes.set('arrowdown',function(W,H){q.buttonView.isEnabled&&!q.isOpen&&(q.isOpen=!0,H())}),this.keystrokes.set('arrowright',function(W,H){q.isOpen&&H()}),this.keystrokes.set('arrowleft',z),this.keystrokes.set('esc',z),M(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),'init',this).call(this)}},{key:'focus',value:function(){this.buttonView.focus()}}]),D}(O.default);u.default=N},function(r,u,s){'use strict';function d(E){return E&&E.__esModule?E:{default:E}}function f(E){if(Array.isArray(E)){for(var I=0,R=Array(E.length);I<E.length;I++)R[I]=E[I];return R}return Array.from(E)}function P(E){E.listenTo(document,'click',function(I,R){var V=R.target;E.element==V||E.element.contains(V)||(E.isOpen=!1)})}Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(E,I){var R=(0,S.default)(E,I),V=R.listView=new M.default(I);return V.items.bindTo(E.items).using(function(N){var F=new O.default(I);return F.bind.apply(F,f(Object.keys(N))).to(N),F}),V.items.delegate('execute').to(R),R.panelView.children.add(V),R.on('change:isOpen',function(N,F,D){D?P(R):R.stopListening(document)}),R.on('execute',function(){R.isOpen=!1}),R.keystrokes.set('arrowdown',function(N,F){R.isOpen&&(V.focus(),F())}),R.keystrokes.set('arrowup',function(N,F){R.isOpen&&(V.focusLast(),F())}),R};var w=s(384),M=d(w),C=s(383),O=d(C),T=s(373),S=d(T)},function(r,u,s){'use strict';function d(I){return I&&I.__esModule?I:{default:I}}function f(I,R){if(!(I instanceof R))throw new TypeError('Cannot call a class as a function')}function h(I,R){if(!I)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return R&&('object'==typeof R||'function'==typeof R)?R:I}function P(I,R){if('function'!=typeof R&&null!==R)throw new TypeError('Super expression must either be null or a function, not '+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function I(R,V){for(var N=0,F;N<V.length;N++)F=V[N],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(R,F.key,F)}return function(R,V,N){return V&&I(R.prototype,V),N&&I(R,N),R}}(),M=function I(R,V,N){null===R&&(R=Function.prototype);var F=Object.getOwnPropertyDescriptor(R,V);if(F===void 0){var D=Object.getPrototypeOf(R);return null===D?void 0:I(D,V,N)}if('value'in F)return F.value;var L=F.get;return void 0===L?void 0:L.call(N)},C=s(7),O=d(C),T=s(5),S=d(T),E=function(I){function R(V,N){f(this,R);var F=h(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,V)),D=F.bindTemplate;return N&&(F.element=F.editableElement=N),F.template=new S.default({tag:'div',attributes:{class:[D.to('isFocused',function(L){return L?'ck-focused':'ck-blurred'}),'ck-editor__editable'],contenteditable:D.to('isReadOnly',function(L){return!L})}}),F.set('isReadOnly',!1),F.set('isFocused',!1),F.externalElement=N,F}return P(R,I),w(R,[{key:'init',value:function(){this.externalElement?this.template.apply(this.externalElement):this.editableElement=this.element,M(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),'init',this).call(this)}},{key:'destroy',value:function(){this.externalElement&&this.template.revert(this.externalElement),M(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),'destroy',this).call(this)}}]),R}(O.default);u.default=E},function(r,u,s){'use strict';function d(S){return S&&S.__esModule?S:{default:S}}function f(S,E){if(!(S instanceof E))throw new TypeError('Cannot call a class as a function')}function h(S,E){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:S}function P(S,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}Object.defineProperty(u,'__esModule',{value:!0});var w=s(377),M=d(w),C=s(5),O=d(C),T=function(S){function E(I,R){f(this,E);var V=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I,R)),N=V.bindTemplate,F=V.t;V.set('name',null);return O.default.extend(V.template,{attributes:{role:'textbox',"aria-label":N.to('name',function(q){return F('Rich Text Editor, %0',[q])}),class:'ck-editor__editable_inline'}}),V}return P(E,S),E}(M.default);u.default=T},function(r,u,s){'use strict';function d(I){return I&&I.__esModule?I:{default:I}}function f(I,R){if(!(I instanceof R))throw new TypeError('Cannot call a class as a function')}function h(I,R){if(!I)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return R&&('object'==typeof R||'function'==typeof R)?R:I}function P(I,R){if('function'!=typeof R&&null!==R)throw new TypeError('Super expression must either be null or a function, not '+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}Object.defineProperty(u,'__esModule',{value:!0});var w=s(380),M=d(w),C=s(72),O=d(C),T=s(5),S=d(T),E=function(I){function R(V){f(this,R);var N=h(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,V)),F=N.t,D=(0,O.default)();return N.set('width',null),N.set('height',null),N.top=N.createCollection(),N.main=N.createCollection(),N.template=new S.default({tag:'div',attributes:{class:['ck-reset','ck-editor','ck-rounded-corners'],role:'application',dir:'ltr',lang:V.lang,"aria-labelledby":'cke-editor__aria-label_'+D},children:[{tag:'span',attributes:{id:'cke-editor__aria-label_'+D,class:'cke-voice-label'},children:[F('Rich Text Editor')]},{tag:'div',attributes:{class:'ck-editor__top ck-reset_all',role:'presentation'},children:N.top},{tag:'div',attributes:{class:'ck-editor__main',role:'presentation'},children:N.main}]}),N}return P(R,I),R}(M.default);u.default=E},function(r,u,s){'use strict';function d(I){return I&&I.__esModule?I:{default:I}}function f(I,R){if(!(I instanceof R))throw new TypeError('Cannot call a class as a function')}function h(I,R){if(!I)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return R&&('object'==typeof R||'function'==typeof R)?R:I}function P(I,R){if('function'!=typeof R&&null!==R)throw new TypeError('Super expression must either be null or a function, not '+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function I(R,V){for(var N=0,F;N<V.length;N++)F=V[N],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(R,F.key,F)}return function(R,V,N){return V&&I(R.prototype,V),N&&I(R,N),R}}(),M=function I(R,V,N){null===R&&(R=Function.prototype);var F=Object.getOwnPropertyDescriptor(R,V);if(F===void 0){var D=Object.getPrototypeOf(R);return null===D?void 0:I(D,V,N)}if('value'in F)return F.value;var L=F.get;return void 0===L?void 0:L.call(N)},C=s(7),O=d(C),T=s(5),S=d(T),E=function(I){function R(V){f(this,R);var N=h(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,V));return N.body=N.createCollection(),N}return P(R,I),w(R,[{key:'init',value:function(){this._renderBodyCollection(),M(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),'init',this).call(this)}},{key:'destroy',value:function(){return this._bodyCollectionContainer.remove(),M(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),'destroy',this).call(this)}},{key:'_renderBodyCollection',value:function(){var N=this._bodyCollectionContainer=new S.default({tag:'div',attributes:{class:['ck-body','ck-rounded-corners','ck-reset_all']},children:this.body}).render();document.body.appendChild(N)}}]),R}(O.default);u.default=E},function(r,u,s){'use strict';function d(S){return S&&S.__esModule?S:{default:S}}function f(S,E){if(!(S instanceof E))throw new TypeError('Cannot call a class as a function')}function h(S,E){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:S}function P(S,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}Object.defineProperty(u,'__esModule',{value:!0});var w=s(7),M=d(w),C=s(5),O=d(C),T=function(S){function E(){f(this,E);var I=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this)),R=I.bindTemplate;return I.set('content'),I.set('viewBox','0 0 20 20'),I.template=new O.default({tag:'svg',ns:'http://www.w3.org/2000/svg',attributes:{class:'ck-icon',viewBox:R.to('viewBox')}}),I.on('change:content',function(V,N,F){for(var D=new DOMParser().parseFromString(F.trim(),'image/svg+xml').firstChild;0<D.childNodes.length;)I.element.appendChild(D.childNodes[0])}),I}return P(E,S),E}(M.default);u.default=T},function(r,u,s){'use strict';function d(S){return S&&S.__esModule?S:{default:S}}function f(S,E){if(!(S instanceof E))throw new TypeError('Cannot call a class as a function')}function h(S,E){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:S}function P(S,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}Object.defineProperty(u,'__esModule',{value:!0});var w=s(7),M=d(w),C=s(5),O=d(C),T=function(S){function E(I){f(this,E);var R=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I));R.set('text'),R.set('for');var V=R.bindTemplate;return R.template=new O.default({tag:'label',attributes:{class:['ck-label'],for:V.to('for')},children:[{text:V.to('text')}]}),R}return P(E,S),E}(M.default);u.default=T},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}function f(R,V){if(!(R instanceof V))throw new TypeError('Cannot call a class as a function')}function h(R,V){if(!R)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:R}function P(R,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);R.prototype=Object.create(V&&V.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(R,V):R.__proto__=V)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function R(V,N){for(var F=0,D;F<N.length;F++)D=N[F],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(V,D.key,D)}return function(V,N,F){return N&&R(V.prototype,N),F&&R(V,F),V}}(),M=s(7),C=d(M),O=s(5),T=d(O),S=s(48),E=d(S),I=function(R){function V(){f(this,V);var N=h(this,(V.__proto__||Object.getPrototypeOf(V)).call(this));N.set('tabindex',-1),N.keystrokes=new E.default;var F=N.bindTemplate;return N.template=new T.default({tag:'li',attributes:{class:['ck-list__item',F.to('class'),F.if('isActive','ck-list__item_active')],style:F.to('style'),tabindex:F.to('tabindex')},children:[{text:F.to('label')}],on:{click:F.to('execute')}}),N}return P(V,R),w(V,[{key:'init',value:function(){var F=this,D=function(q,z){F.fire('execute'),z()};this.keystrokes.listenTo(this.element),this.keystrokes.set('Enter',D),this.keystrokes.set('Space',D)}},{key:'focus',value:function(){this.element.focus()}}]),V}(C.default);u.default=I},function(r,u,s){'use strict';function d(L){return L&&L.__esModule?L:{default:L}}function f(L,q){if(!(L instanceof q))throw new TypeError('Cannot call a class as a function')}function h(L,q){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return q&&('object'==typeof q||'function'==typeof q)?q:L}function P(L,q){if('function'!=typeof q&&null!==q)throw new TypeError('Super expression must either be null or a function, not '+typeof q);L.prototype=Object.create(q&&q.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(L,q):L.__proto__=q)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function L(q,z){for(var W=0,H;W<z.length;W++)H=z[W],H.enumerable=H.enumerable||!1,H.configurable=!0,'value'in H&&(H.writable=!0),Object.defineProperty(q,H.key,H)}return function(q,z,W){return z&&L(q.prototype,z),W&&L(q,W),q}}(),M=function L(q,z,W){null===q&&(q=Function.prototype);var H=Object.getOwnPropertyDescriptor(q,z);if(H===void 0){var U=Object.getPrototypeOf(q);return null===U?void 0:L(U,z,W)}if('value'in H)return H.value;var K=H.get;return void 0===K?void 0:K.call(W)},C=s(7),O=d(C),T=s(5),S=d(T),E=s(67),I=d(E),R=s(123),V=d(R),N=s(48),F=d(N),D=function(L){function q(){f(this,q);var z=h(this,(q.__proto__||Object.getPrototypeOf(q)).call(this));return z.items=z.createCollection(),z.focusTracker=new I.default,z.keystrokes=new F.default,z._focusCycler=new V.default({focusables:z.items,focusTracker:z.focusTracker,keystrokeHandler:z.keystrokes,actions:{focusPrevious:'arrowup',focusNext:'arrowdown'}}),z.template=new S.default({tag:'ul',attributes:{class:['ck-reset','ck-list']},children:z.items}),z.items.on('add',function(W,H){z.focusTracker.add(H.element)}),z.items.on('remove',function(W,H){z.focusTracker.remove(H.element)}),z}return P(q,L),w(q,[{key:'init',value:function(){this.keystrokes.listenTo(this.element),M(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),'init',this).call(this)}},{key:'focus',value:function(){this._focusCycler.focusFirst()}},{key:'focusLast',value:function(){this._focusCycler.focusLast()}}]),q}(O.default);u.default=D},function(r,u,s){'use strict';function d(S){return S&&S.__esModule?S:{default:S}}function f(S,E){if(!(S instanceof E))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=s(50),P=d(h),w=s(4),M=d(w),C=s(19),O=d(C),T=function S(E,I){f(this,S),I&&(0,P.default)(this,I),E&&this.set(E)};u.default=T,(0,M.default)(T,O.default)},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){var h=f.origin,P=f.originKeystrokeHandler,w=f.originFocusTracker,M=f.toolbar,C=f.beforeFocus,O=f.afterBlur;w.add(M.element),P.set('Alt+F10',function(T,S){w.isFocused&&!M.focusTracker.isFocused&&(C&&C(),M.focus(),S())}),M.keystrokes.set('Esc',function(T,S){M.focusTracker.isFocused&&(h.focus(),O&&O(),S())})}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){return Array.isArray(f)&&(f={items:f}),f}},function(r,u,s){'use strict';function d(D){return D&&D.__esModule?D:{default:D}}function f(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}function h(D,L){if(!D)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:D}function P(D,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);D.prototype=Object.create(L&&L.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(D,L):D.__proto__=L)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function D(L,q){for(var z=0,W;z<q.length;z++)W=q[z],W.enumerable=W.enumerable||!1,W.configurable=!0,'value'in W&&(W.writable=!0),Object.defineProperty(L,W.key,W)}return function(L,q,z){return q&&D(L.prototype,q),z&&D(L,z),L}}(),M=function D(L,q,z){null===L&&(L=Function.prototype);var W=Object.getOwnPropertyDescriptor(L,q);if(W===void 0){var H=Object.getPrototypeOf(L);return null===H?void 0:D(H,q,z)}if('value'in W)return W.value;var U=W.get;return void 0===U?void 0:U.call(z)},C=s(46),O=d(C),T=s(5),S=d(T),E=s(181),I=d(E),R=s(186),V=d(R),N=(0,V.default)('px'),F=function(D){function L(q){f(this,L);var z=h(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,q)),W=z.bindTemplate;return z.set('isActive',!1),z.set('isSticky',!1),z.set('limiterElement',null),z.set('limiterBottomOffset',50),z.set('viewportTopOffset',0),z.set('_marginLeft',null),z.set('_isStickyToTheLimiter',!1),z.set('_hasViewportTopOffset',!1),S.default.extend(z.template,{attributes:{class:[W.if('isSticky','ck-toolbar_sticky'),W.if('_isStickyToTheLimiter','ck-toolbar_sticky_bottom-limit')],style:{width:W.to('isSticky',function(H){return H?N(z._elementPlaceholder.getBoundingClientRect().width):null}),top:W.to('_hasViewportTopOffset',function(H){return H?N(z.viewportTopOffset):null}),bottom:W.to('_isStickyToTheLimiter',function(H){return H?N(z.limiterBottomOffset):null}),marginLeft:W.to('_marginLeft')}}}),z._elementPlaceholder=new S.default({tag:'div',attributes:{class:['ck-toolbar__placeholder'],style:{display:W.to('isSticky',function(H){return H?'block':'none'}),height:W.to('isSticky',function(H){return H?N(z._toolbarRect.height):null})}}}).render(),z}return P(L,D),w(L,[{key:'init',value:function(){var z=this;M(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),'init',this).call(this),this.element.parentNode.insertBefore(this._elementPlaceholder,this.element),this._checkIfShouldBeSticky(),this.listenTo(O.default.window,'scroll',function(){z._checkIfShouldBeSticky()}),this.listenTo(this,'change:isActive',function(){z._checkIfShouldBeSticky()})}},{key:'destroy',value:function(){M(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),'destroy',this).call(this),this._elementPlaceholder.remove()}},{key:'_checkIfShouldBeSticky',value:function(){var z=this._limiterRect=this.limiterElement.getBoundingClientRect(),W=this._toolbarRect=this.element.getBoundingClientRect();this.isSticky=this.isActive&&z.top<this.viewportTopOffset&&this._toolbarRect.height+this.limiterBottomOffset<z.height,this.isSticky?(this._isStickyToTheLimiter=z.bottom<W.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:N(-O.default.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}]),L}(I.default);u.default=F},function(r,u,s){'use strict';function d(S){return S&&S.__esModule?S:{default:S}}function f(S,E){if(!(S instanceof E))throw new TypeError('Cannot call a class as a function')}function h(S,E){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:S}function P(S,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}Object.defineProperty(u,'__esModule',{value:!0});var w=s(7),M=d(w),C=s(5),O=d(C),T=function(S){function E(I){f(this,E);var R=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I));return R.template=new O.default({tag:'span',attributes:{class:['ck-toolbar__separator']}}),R}return P(E,S),E}(M.default);u.default=T},function(r,u,s){'use strict';function d(S){return S&&S.__esModule?S:{default:S}}function f(S,E){if(!(S instanceof E))throw new TypeError('Cannot call a class as a function')}function h(S,E){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:S}function P(S,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}Object.defineProperty(u,'__esModule',{value:!0});var w=s(7),M=d(w),C=s(5),O=d(C),T=function(S){function E(I){f(this,E);var R=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I));R.set('text',''),R.set('position','s');var V=R.bindTemplate;return R.template=new O.default({tag:'span',attributes:{class:['ck-tooltip',V.to('position',function(N){return'ck-tooltip_'+N}),V.if('text','ck-hidden',function(N){return!N.trim()})]},children:[{tag:'span',attributes:{class:['ck-tooltip__text']},children:[{text:V.to('text')}]}]}),R}return P(E,S),E}(M.default);u.default=T},function(r,u,s){'use strict';function f(T,S){if(!(T instanceof S))throw new TypeError('Cannot call a class as a function')}function h(T,S){if(!T)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return S&&('object'==typeof S||'function'==typeof S)?S:T}function P(T,S){if('function'!=typeof S&&null!==S)throw new TypeError('Super expression must either be null or a function, not '+typeof S);T.prototype=Object.create(S&&S.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(T,S):T.__proto__=S)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function T(S,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}return function(S,E,I){return E&&T(S.prototype,E),I&&T(S,I),S}}(),M=s(182),C=function(T){return T&&T.__esModule?T:{default:T}}(M),O=function(T){function S(){return f(this,S),h(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return P(S,T),w(S,[{key:'execute',value:function(){var I=this,R=this._stack.pop();this.editor.document.enqueueChanges(function(){var V=R.batch.deltas[R.batch.deltas.length-1],N=V.baseVersion+V.operations.length,F=I.editor.document.history.getDeltas(N);I._restoreSelection(R.selection.ranges,R.selection.isBackward,F),I._undo(R.batch)}),this.refresh()}}]),S}(C.default);u.default=O},function(r,u,s){'use strict';function d(D){return D&&D.__esModule?D:{default:D}}function f(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}function h(D,L){if(!D)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:D}function P(D,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);D.prototype=Object.create(L&&L.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(D,L):D.__proto__=L)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function D(L,q){for(var z=0,W;z<q.length;z++)W=q[z],W.enumerable=W.enumerable||!1,W.configurable=!0,'value'in W&&(W.writable=!0),Object.defineProperty(L,W.key,W)}return function(L,q,z){return q&&D(L.prototype,q),z&&D(L,z),L}}(),M=s(2),C=d(M),O=s(394),T=d(O),S=s(23),E=d(S),I=s(532),R=d(I),V=s(531),N=d(V),F=function(D){function L(){return f(this,L),h(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return P(L,D),w(L,[{key:'init',value:function(){var z=this.editor,W=z.t;this._addButton('undo',W('Undo'),'CTRL+Z',R.default),this._addButton('redo',W('Redo'),'CTRL+Y',N.default),z.keystrokes.set('CTRL+Z','undo'),z.keystrokes.set('CTRL+Y','redo'),z.keystrokes.set('CTRL+SHIFT+Z','redo')}},{key:'_addButton',value:function(z,W,H,U){var K=this,$=this.editor,J=$.commands.get(z);$.ui.componentFactory.add(z,function(G){var Q=new E.default(G);return Q.set({label:W,icon:U,keystroke:H,tooltip:!0}),Q.bind('isEnabled').to(J,'isEnabled'),K.listenTo(Q,'execute',function(){return $.execute(z)}),Q})}}],[{key:'requires',get:function(){return[T.default]}},{key:'pluginName',get:function(){return'Undo'}}]),L}(C.default);u.default=F},function(r,u,s){'use strict';function f(T,S){if(!(T instanceof S))throw new TypeError('Cannot call a class as a function')}function h(T,S){if(!T)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return S&&('object'==typeof S||'function'==typeof S)?S:T}function P(T,S){if('function'!=typeof S&&null!==S)throw new TypeError('Super expression must either be null or a function, not '+typeof S);T.prototype=Object.create(S&&S.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(T,S):T.__proto__=S)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function T(S,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}return function(S,E,I){return E&&T(S.prototype,E),I&&T(S,I),S}}(),M=s(182),C=function(T){return T&&T.__esModule?T:{default:T}}(M),O=function(T){function S(){return f(this,S),h(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return P(S,T),w(S,[{key:'execute',value:function(){var I=this,R=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,V=R?this._stack.findIndex(function(F){return F.batch==R}):this._stack.length-1,N=this._stack.splice(V,1)[0];this.editor.document.enqueueChanges(function(){var F=I._undo(N.batch),D=I.editor.document.history.getDeltas(N.batch.baseVersion);I._restoreSelection(N.selection.ranges,N.selection.isBackward,D),I.fire('revert',N.batch,F)}),this.refresh()}}]),S}(C.default);u.default=O},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}function f(R,V){if(!(R instanceof V))throw new TypeError('Cannot call a class as a function')}function h(R,V){if(!R)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:R}function P(R,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);R.prototype=Object.create(V&&V.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(R,V):R.__proto__=V)}Object.defineProperty(u,'__esModule',{value:!0});var w=function(){function R(V,N){for(var F=0,D;F<N.length;F++)D=N[F],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(V,D.key,D)}return function(V,N,F){return N&&R(V.prototype,N),F&&R(V,F),V}}(),M=s(2),C=d(M),O=s(393),T=d(O),S=s(391),E=d(S),I=function(R){function V(N){f(this,V);var F=h(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,N));return F._batchRegistry=new WeakSet,F}return P(V,R),w(V,[{key:'init',value:function(){var F=this;this._undoCommand=new T.default(this.editor),this._redoCommand=new E.default(this.editor),this.editor.commands.add('undo',this._undoCommand),this.editor.commands.add('redo',this._redoCommand),this.listenTo(this.editor.document,'change',function(D,L,q,z){F._batchRegistry.has(z)||'transparent'==z.type||(F._redoCommand._createdBatches.has(z)?F._undoCommand.addBatch(z):!F._undoCommand._createdBatches.has(z)&&(F._undoCommand.addBatch(z),F._redoCommand.clearStack()),F._batchRegistry.add(z))},{priority:'highest'}),this.listenTo(this._undoCommand,'revert',function(D,L,q){F._redoCommand.addBatch(q)})}}]),V}(C.default);u.default=I},function(r,u,s){'use strict';function f(C,O){if(!(C instanceof O))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=function(){function C(O,T){for(var S=0,E;S<T.length;S++)E=T[S],E.enumerable=E.enumerable||!1,E.configurable=!0,'value'in E&&(E.writable=!0),Object.defineProperty(O,E.key,E)}return function(O,T,S){return T&&C(O.prototype,T),S&&C(O,S),O}}(),P=s(106),w=function(C){return C&&C.__esModule?C:{default:C}}(P),M=function(){function C(O,T){f(this,C),this._config={},T&&this.define(T),O&&this._setObjectToTarget(this._config,O)}return h(C,[{key:'set',value:function(T,S){this._setToTarget(this._config,T,S)}},{key:'define',value:function(T,S){this._setToTarget(this._config,T,S,!0)}},{key:'get',value:function(T){return this._getFromSource(this._config,T)}},{key:'_setToTarget',value:function(T,S,E){var I=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if((0,w.default)(S))return void this._setObjectToTarget(T,S,I);var R=S.split('.');S=R.pop();var V=!0,N=!1,F;try{for(var D=R[Symbol.iterator](),L,q;!(V=(L=D.next()).done);V=!0)q=L.value,(0,w.default)(T[q])||(T[q]={}),T=T[q]}catch(z){N=!0,F=z}finally{try{!V&&D.return&&D.return()}finally{if(N)throw F}}return(0,w.default)(E)?((0,w.default)(T[S])||(T[S]={}),T=T[S],void this._setObjectToTarget(T,E,I)):void(I&&'undefined'!=typeof T[S]||(T[S]=E))}},{key:'_getFromSource',value:function(T,S){var E=S.split('.');S=E.pop();var I=!0,R=!1,V;try{for(var N=E[Symbol.iterator](),F,D;!(I=(F=N.next()).done);I=!0){if(D=F.value,!(0,w.default)(T[D])){T=null;break}T=T[D]}}catch(L){R=!0,V=L}finally{try{!I&&N.return&&N.return()}finally{if(R)throw V}}return T?T[S]:void 0}},{key:'_setObjectToTarget',value:function(T,S,E){var I=this;Object.keys(S).forEach(function(R){I._setToTarget(T,R,S[R],E)})}}]),C}();u.default=M},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h){function P(){O&&(M.push(O),O=null)}function w(T){return O&&O.type==T}var M=[],C=0,O;return f.forEach(function(T){'equal'==T?(P(),C++):'insert'==T?(w('insert')?O.values.push(h[C]):(P(),O={type:'insert',index:C,values:[h[C]]}),C++):w('delete')?O.howMany++:(P(),O={type:'delete',index:C,howMany:1})}),P(),M}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(w,M){for(var C=(0,P.default)(w),O=(0,P.default)(M),T=0;C[T]==O[T]&&C[T];)T++;return 0==T?null:C[T-1]};var h=s(184),P=function(w){return w&&w.__esModule?w:{default:w}}(h)},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){return f instanceof HTMLTextAreaElement?f.value:f.innerHTML}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(w){for(;w&&'html'!=w.tagName.toLowerCase();){if('static'!=P.default.window.getComputedStyle(w).position)return w;w=w.parentElement}return null};var h=s(46),P=function(w){return w&&w.__esModule?w:{default:w}}(h)},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){for(var h=0;f.previousSibling;)f=f.previousSibling,h++;return h}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h,P){f.insertBefore(P,f.childNodes[h]||null)}},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}function h(R,V,N){var F=R(V,N),D=F.left,L=F.top,q=F.name;return[q,N.clone().moveTo(D,L)]}function P(R,V,N,F,D){var L=0,q=0,H=N.getArea(),z,W;return R.some(function(U){function K(){q=X,L=Y,z=Q,W=G}var $=h(U,V,N),J=M($,2),G=J[0],Q=J[1],Y,X;if(F)if(D){var Z=F.getIntersection(D);Y=Z?Z.getIntersectionArea(Q):0}else Y=F.getIntersectionArea(Q);return D&&(X=D.getIntersectionArea(Q)),D&&!F?X>q&&K():!D&&F?Y>L&&K():X>q&&Y>=L?K():X>=q&&Y>L&&K(),Y===H}),z?[W,z]:null}function w(R){var V=R.left,N=R.top,F=O.default.window,D=F.scrollX,L=F.scrollY;return{left:V+D,top:N+L}}Object.defineProperty(u,'__esModule',{value:!0});var M=function(){function R(V,N){var F=[],D=!0,L=!1,q;try{for(var z=V[Symbol.iterator](),W;!(D=(W=z.next()).done)&&(F.push(W.value),!(N&&F.length===N));D=!0);}catch(H){L=!0,q=H}finally{try{!D&&z['return']&&z['return']()}finally{if(L)throw q}}return F}return function(V,N){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return R(V,N);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();u.getOptimalPosition=function(R){var V=R.element,N=R.target,F=R.positions,D=R.limiter,L=R.fitInViewport;'function'==typeof N&&(N=N());var q=(0,I.default)(V.parentElement),z=new S.default(V),W=new S.default(N),H,U;if(!D&&!L){var K=h(F[0],W,z),$=M(K,2);U=$[0],H=$[1]}else{var J=D&&new S.default(D).getVisible(),G=L&&S.default.getViewportRect(),Q=P(F,W,z,J,G)||h(F[0],W,z),Y=M(Q,2);U=Y[0],H=Y[1]}var X=w(H),Z=X.left,ee=X.top;if(q){var te=w(new S.default(q)),re=O.default.window.getComputedStyle(q);Z-=te.left,ee-=te.top,Z+=q.scrollLeft,ee+=q.scrollTop,Z-=parseInt(re.borderLeftWidth,10),ee-=parseInt(re.borderTopWidth,10)}return{left:Z,top:ee,name:U}};var C=s(46),O=d(C),T=s(403),S=d(T),E=s(399),I=d(E)},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}function f(R,V){if(!(R instanceof V))throw new TypeError('Cannot call a class as a function')}function h(R,V){var N=!0,F=!1,D;try{for(var L=I[Symbol.iterator](),q,z;!(N=(q=L.next()).done);N=!0)z=q.value,R[z]=V[z]}catch(W){F=!0,D=W}finally{try{!N&&L.return&&L.return()}finally{if(F)throw D}}}Object.defineProperty(u,'__esModule',{value:!0});var P=function(){function R(V,N){for(var F=0,D;F<N.length;F++)D=N[F],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(V,D.key,D)}return function(V,N,F){return N&&R(V.prototype,N),F&&R(V,F),V}}(),w=s(46),M=d(w),C=s(185),O=d(C),T=s(231),S=d(T),E=function(){function R(V){f(this,R),Object.defineProperty(this,'_source',{value:V._source||V,writable:!1,enumerable:!1}),(0,S.default)(V)?h(this,V.getBoundingClientRect()):(0,O.default)(V)?h(this,R.getDomRangeRects(V)[0]):h(this,V)}return P(R,[{key:'clone',value:function(){return new R(this)}},{key:'moveTo',value:function(N,F){return this.top=F,this.right=N+this.width,this.bottom=F+this.height,this.left=N,this}},{key:'moveBy',value:function(N,F){return this.top+=F,this.right+=N,this.left+=N,this.bottom+=F,this}},{key:'getIntersection',value:function(N){var F={top:_Mathmax(this.top,N.top),right:_Mathmin(this.right,N.right),bottom:_Mathmin(this.bottom,N.bottom),left:_Mathmax(this.left,N.left)};return F.width=F.right-F.left,F.height=F.bottom-F.top,0>F.width||0>F.height?null:new R(F)}},{key:'getIntersectionArea',value:function(N){var F=this.getIntersection(N);return F?F.getArea():0}},{key:'getArea',value:function(){return this.width*this.height}},{key:'getVisible',value:function(){var N=this._source,F=this.clone();if(N!=M.default.document.body)for(var D=N.parentNode||N.commonAncestorContainer;D&&D!=M.default.document.body;){var L=new R(D),q=F.getIntersection(L);if(q)q.getArea()<F.getArea()&&(F=q);else return null;D=D.parentNode}return F}}],[{key:'getViewportRect',value:function(){var N=M.default.window,F=N.innerWidth,D=N.innerHeight;return new R({top:0,right:F,bottom:D,left:0,width:F,height:D})}},{key:'getDomRangeRects',value:function(N){var F=[],D=Array.from(N.getClientRects());if(D.length){var L=!0,q=!1,z;try{for(var W=D[Symbol.iterator](),H,U;!(L=(H=W.next()).done);L=!0)U=H.value,F.push(new R(U))}catch($){q=!0,z=$}finally{try{!L&&W.return&&W.return()}finally{if(q)throw z}}}else{var K=new R(N.startContainer.getBoundingClientRect());K.right=K.left,K.width=0,F.push(K)}return F}}]),R}();u.default=E;var I=['top','right','bottom','left','width','height']},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){var h=f.parentNode;h&&h.removeChild(f)}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h){f instanceof HTMLTextAreaElement&&(f.value=h),f.innerHTML=h}},function(r,u){'use strict';function d(P,w){if(!(P instanceof w))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var f=function(){function P(w,M){for(var C=0,O;C<M.length;C++)O=M[C],O.enumerable=O.enumerable||!1,O.configurable=!0,'value'in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}return function(w,M,C){return M&&P(w.prototype,M),C&&P(w,C),w}}(),h=function(){function P(){d(this,P),this._replacedElements=[]}return f(P,[{key:'replace',value:function(M,C){this._replacedElements.push({element:M,newElement:C}),M.style.display='none',C&&M.parentNode.insertBefore(C,M.nextSibling)}},{key:'restore',value:function(){this._replacedElements.forEach(function(M){var C=M.element,O=M.newElement;C.style.display='',O&&O.remove()}),this._replacedElements=[]}}]),P}();u.default=h},function(r,u){'use strict';function d(P){return-1<P.indexOf('macintosh')}Object.defineProperty(u,'__esModule',{value:!0}),u.isMac=d;var f=navigator.userAgent.toLowerCase(),h={mac:d(f)};u.default=h},function(r,u,s){'use strict';function f(M,C){if(!(M instanceof C))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var h=s(509),P=function(M){return M&&M.__esModule?M:{default:M}}(h);u.default=function M(C,O){f(this,M),this.source=C,this.name=O,this.path=[],this.stop=(0,P.default)(),this.off=(0,P.default)()}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(57),h=d(f),P=s(32),w=d(P),M=(0,h.default)(w.default,'DataView');u.default=M},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}function f(R){var V=-1,N=R?R.length:0;for(this.clear();++V<N;){var F=R[V];this.set(F[0],F[1])}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(456),P=d(h),w=s(457),M=d(w),C=s(458),O=d(C),T=s(459),S=d(T),E=s(460),I=d(E);f.prototype.clear=P.default,f.prototype['delete']=M.default,f.prototype.get=O.default,f.prototype.has=S.default,f.prototype.set=I.default,u.default=f},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(57),h=d(f),P=s(32),w=d(P),M=(0,h.default)(w.default,'Promise');u.default=M},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var f=s(32),h=function(w){return w&&w.__esModule?w:{default:w}}(f),P=h.default.Reflect;u.default=P},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(57),h=d(f),P=s(32),w=d(P),M=(0,h.default)(w.default,'WeakMap');u.default=M},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h){return f.set(h[0],h[1]),f}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h){return f.add(h),f}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h){for(var P=-1,w=f.length;++P<w&&!(!1===h(f[P],P,f)););return f}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h){for(var P=-1,w=f.length;++P<w;)if(h(f[P],P,f))return!0;return!1}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(143),P=d(h),w=s(71),M=d(w);u.default=function(C,O){return C&&(0,P.default)(O,(0,M.default)(O),C)}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(224),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M){for(var C=-1,T=M.length,S=Array(T);++C<T;)S[C]=null==w?void 0:(0,P.default)(w,M[C]);return S}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h,P){return f===f&&(void 0!==P&&(f=f<=P?f:P),void 0!==h&&(f=f>=h?f:h)),f}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(17),P=function(M){return M&&M.__esModule?M:{default:M}}(h),w=Object.create;u.default=function(M){return(0,P.default)(M)?w(M):{}}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(14),P=d(h),w=s(503),M=d(w);u.default=function(C,O,T,S){var E=C.length;for(T=(0,P.default)(T),0>T&&(T=-T>E?0:E+T),S=void 0===S||S>E?E:(0,P.default)(S),0>S&&(S+=E),S=T>S?0:(0,M.default)(S);T<S;)C[T++]=O;return C}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(92),P=d(h),w=s(12),M=d(w);u.default=function(C,O,T){var S=O(C);return(0,M.default)(C)?S:(0,P.default)(S,T(C))}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h){return h in Object(f)}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h,P,w){for(var M=P-1,C=f.length;++M<C;)if(w(f[M],h))return M;return-1}},function(r,u,s){'use strict';function d($){return $&&$.__esModule?$:{default:$}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(128),P=d(h),w=s(200),M=d(w),C=s(450),O=d(C),T=s(451),S=d(T),E=s(145),I=d(E),R=s(12),V=d(R),N=s(99),F=d(N),D=s(496),L=d(D),z='[object Arguments]',W='[object Array]',H='[object Object]',U=Object.prototype,K=U.hasOwnProperty;u.default=function($,J,G,Q,Y,X){var Z=(0,V.default)($),ee=(0,V.default)(J),te=W,re=W;Z||(te=(0,I.default)($),te=te==z?H:te),ee||(re=(0,I.default)(J),re=re==z?H:re);var ae=te==H&&!(0,F.default)($),oe=re==H&&!(0,F.default)(J),ne=te==re;if(ne&&!ae)return X||(X=new P.default),Z||(0,L.default)($)?(0,M.default)($,J,G,Q,Y,X):(0,O.default)($,J,te,G,Q,Y,X);if(!(Y&2)){var le=ae&&K.call($,'__wrapped__'),ue=oe&&K.call(J,'__wrapped__');if(le||ue){var ie=le?$.value():$,se=ue?J.value():J;return X||(X=new P.default),G(ie,se,Q,Y,X)}}return!!ne&&(X||(X=new P.default),(0,S.default)($,J,G,Q,Y,X))}},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(128),P=d(h),w=s(94),M=d(w);u.default=function(T,S,E,I){var R=E.length,V=R,N=!I;if(null==T)return!V;for(T=Object(T);R--;){var F=E[R];if(N&&F[2]?F[1]!==T[F[0]]:!(F[0]in T))return!1}for(;++R<V;){F=E[R];var D=F[0],L=T[D],q=F[1];if(!(N&&F[2])){var z=new P.default;if(I)var W=I(L,q,D,T,S,z);if(void 0===W?!(0,M.default)(q,L,I,1|2,z):!W)return!1}else if(void 0===L&&!(D in T))return!1}return!0}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var f=Object.keys;u.default=function(h){return f(Object(h))}},function(r,u,s){'use strict';function d(S){return S&&S.__esModule?S:{default:S}}function f(S){S=null==S?S:Object(S);var E=[];for(var I in S)E.push(I);return E}Object.defineProperty(u,'__esModule',{value:!0});var h=s(412),P=d(h),w=s(466),M=d(w),C=Object.prototype,O=P.default?P.default.enumerate:void 0,T=C.propertyIsEnumerable;O&&!T.call({valueOf:1},'valueOf')&&(f=function(E){return(0,M.default)(O(E))}),u.default=f},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(427),P=d(h),w=s(454),M=d(w),C=s(205),O=d(C);u.default=function(T){var S=(0,M.default)(T);return 1==S.length&&S[0][2]?(0,O.default)(S[0][0],S[0][1]):function(E){return E===T||(0,P.default)(E,T,S)}}},function(r,u,s){'use strict';function d(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(94),P=d(h),w=s(224),M=d(w),C=s(492),O=d(C),T=s(58),S=d(T),E=s(204),I=d(E),R=s(205),V=d(R),N=s(59),F=d(N);u.default=function(q,z){return(0,S.default)(q)&&(0,I.default)(z)?(0,V.default)((0,F.default)(q),z):function(W){var H=(0,M.default)(W,q);return H===void 0&&H===z?(0,O.default)(W,q):(0,P.default)(z,H,void 0,1|2)}}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(41),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M){var C=w.length;if(C)return M+=0>M?C:0,(0,P.default)(M,C)?w[M]:void 0}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(132),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w){return function(M){return(0,P.default)(M,w)}}},function(r,u,s){'use strict';function d(N){return N&&N.__esModule?N:{default:N}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(68),P=d(h),w=s(97),M=d(w),C=s(41),O=d(C),T=s(58),S=d(T),E=s(17),I=d(E),R=s(59),V=d(R);u.default=function(N,F,D,L){F=(0,S.default)(F,N)?[F]:(0,M.default)(F);for(var q=-1,z=F.length,H=N,U;null!=H&&++q<z;){if(U=(0,V.default)(F[q]),(0,I.default)(H)){var K=D;if(q!=z-1){var $=H[U];K=L?L($,U,H):void 0,void 0===K&&(K=null==$?(0,O.default)(F[q+1])?[]:{}:$)}(0,P.default)(H,U,K)}H=H[U]}return N}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(29),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M){return(0,P.default)(M,function(C){return[C,w[C]]})}},function(r,u,s){'use strict';function d(S){return S&&S.__esModule?S:{default:S}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(129),P=d(h),w=s(52),M=d(w),O=P.default?P.default.prototype:void 0,T=O?O.toString:void 0;u.default=function(S){if('string'==typeof S)return S;if((0,M.default)(S))return T?T.call(S):'';var E=S+'';return'0'==E&&1/S==-(1/0)?'-0':E}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){return f&&f.Object===Object?f:null}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h){if(h)return f.slice();var P=new f.constructor(f.length);return f.copy(P),P}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(142),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M){var C=M?(0,P.default)(w.buffer):w.buffer;return new w.constructor(C,w.byteOffset,w.byteLength)}},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(414),P=d(h),w=s(191),M=d(w),C=s(146),O=d(C);u.default=function(T,S,E){var I=S?E((0,O.default)(T),!0):(0,O.default)(T);return(0,M.default)(I,P.default,new T.constructor)}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var f=/\w*$/;u.default=function(h){var P=new h.constructor(h.source,f.exec(h));return P.lastIndex=h.lastIndex,P}},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(415),P=d(h),w=s(191),M=d(w),C=s(103),O=d(C);u.default=function(T,S,E){var I=S?E((0,O.default)(T),!0):(0,O.default)(T);return(0,M.default)(I,P.default,new T.constructor)}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(129),P=function(C){return C&&C.__esModule?C:{default:C}}(h),w=P.default?P.default.prototype:void 0,M=w?w.valueOf:void 0;u.default=function(C){return M?Object(M.call(C)):{}}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(142),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M){var C=M?(0,P.default)(w.buffer):w.buffer;return new w.constructor(C,w.byteOffset,w.length)}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(52),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M){if(w!==M){var C=w!==void 0,O=null===w,T=w===w,S=(0,P.default)(w),E=M!==void 0,I=null===M,R=M===M,V=(0,P.default)(M);if(!I&&!V&&!S&&w>M||S&&E&&R&&!I&&!V||O&&E&&R||!C&&R||!T)return 1;if(!O&&!S&&!V&&w<M||V&&C&&T&&!O&&!S||I&&C&&T||!E&&T||!R)return-1}return 0}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(143),P=d(h),w=s(201),M=d(w);u.default=function(C,O){return(0,P.default)(C,(0,M.default)(C),O)}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(100),P=d(h),w=s(8),M=d(w);u.default=function(C){return(0,M.default)(function(O,T){var S=-1,E=T.length,I=1<E?T[E-1]:void 0,R=2<E?T[2]:void 0;for(I=3<C.length&&'function'==typeof I?(E--,I):void 0,R&&(0,P.default)(T[0],T[1],R)&&(I=3>E?void 0:I,E=1),O=Object(O);++S<E;){var V=T[S];V&&C(O,V,S,I)}return O})}},function(r,u,s){'use strict';function d(S){return S&&S.__esModule?S:{default:S}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(188),h=d(f),P=s(499),w=d(P),M=s(103),C=d(M),T=h.default&&1/(0,C.default)(new h.default([,-0]))[1]==1/0?function(S){return new h.default(S)}:w.default;u.default=T},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(435),P=d(h),w=s(145),M=d(w),C=s(146),O=d(C),T=s(480),S=d(T);u.default=function(R){return function(V){var N=(0,M.default)(V);return N=='[object Map]'?(0,O.default)(V):N=='[object Set]'?(0,S.default)(V):(0,P.default)(V,R(V))}}},function(r,u,s){'use strict';function d(Q){return Q&&Q.__esModule?Q:{default:Q}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(129),P=d(h),w=s(189),M=d(w),C=s(200),O=d(C),T=s(146),S=d(T),E=s(103),I=d(E),J=P.default?P.default.prototype:void 0,G=J?J.valueOf:void 0;u.default=function(Q,Y,X,Z,ee,te,re){switch(X){case'[object DataView]':if(Q.byteLength!=Y.byteLength||Q.byteOffset!=Y.byteOffset)return!1;Q=Q.buffer,Y=Y.buffer;case'[object ArrayBuffer]':return Q.byteLength==Y.byteLength&&Z(new M.default(Q),new M.default(Y));case'[object Boolean]':case'[object Date]':return+Q==+Y;case'[object Error]':return Q.name==Y.name&&Q.message==Y.message;case'[object Number]':return Q==+Q?Q==+Y:Y!=+Y;case'[object RegExp]':case'[object String]':return Q==Y+'';case'[object Map]':var ae=S.default;case'[object Set]':var oe=te&2;if(ae||(ae=I.default),Q.size!=Y.size&&!oe)return!1;var ne=re.get(Q);return ne?ne==Y:(te|=1,re.set(Q,Y),(0,O.default)(ae(Q),ae(Y),Z,ee,te,re));case'[object Symbol]':if(G)return G.call(Q)==G.call(Y);}return!1}},function(r,u,s){'use strict';function d(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(194),P=d(h),w=s(71),M=d(w);u.default=function(O,T,S,E,I,R){var V=I&2,N=(0,M.default)(O),F=N.length,D=(0,M.default)(T),L=D.length;if(F!=L&&!V)return!1;for(var q=F,z;q--;)if(z=N[q],V?!(z in T):!(0,P.default)(T,z))return!1;var W=R.get(O);if(W)return W==T;var H=!0;R.set(O,T);for(var U=V;++q<F;){z=N[q];var K=O[z],$=T[z];if(E)var J=V?E($,K,z,T,O,R):E(K,$,z,O,T,R);if(void 0===J?!(K===$||S(K,$,E,I,R)):!J){H=!1;break}U||(U='constructor'==z)}if(H&&!U){var G=O.constructor,Q=T.constructor;G!=Q&&'constructor'in O&&'constructor'in T&&!('function'==typeof G&&G instanceof G&&'function'==typeof Q&&Q instanceof Q)&&(H=!1)}return R['delete'](O),H}},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(423),P=d(h),w=s(201),M=d(w),C=s(71),O=d(C);u.default=function(T){return(0,P.default)(T,O.default,M.default)}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var f=s(135),h=function(w){return w&&w.__esModule?w:{default:w}}(f),P=(0,h.default)('length');u.default=P},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(204),P=d(h),w=s(504),M=d(w);u.default=function(C){for(var O=(0,M.default)(C),T=O.length;T--;)O[T][2]=(0,P.default)(O[T][1]);return O}},function(r,u,s){'use strict';function d(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(97),P=d(h),w=s(150),M=d(w),C=s(12),O=d(C),T=s(41),S=d(T),E=s(58),I=d(E),R=s(105),V=d(R),N=s(152),F=d(N),D=s(59),L=d(D);u.default=function(q,z,W){z=(0,I.default)(z,q)?[z]:(0,P.default)(z);for(var U=-1,K=z.length,H,$;++U<K&&($=(0,L.default)(z[U]),!!(H=null!=q&&W(q,$)));)q=q[$];if(H)return H;var K=q?q.length:0;return!!K&&(0,V.default)(K)&&(0,S.default)($,K)&&((0,O.default)(q)||(0,F.default)(q)||(0,M.default)(q))}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(102),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(){this.__data__=P.default?(0,P.default)(null):{}}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){return this.has(f)&&delete this.__data__[f]}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(102),P=function(O){return O&&O.__esModule?O:{default:O}}(h),M=Object.prototype,C=M.hasOwnProperty;u.default=function(O){var T=this.__data__;if(P.default){var S=T[O];return S==='__lodash_hash_undefined__'?void 0:S}return C.call(T,O)?T[O]:void 0}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(102),P=function(C){return C&&C.__esModule?C:{default:C}}(h),w=Object.prototype,M=w.hasOwnProperty;u.default=function(C){var O=this.__data__;return P.default?O[C]!==void 0:M.call(O,C)}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(102),P=function(M){return M&&M.__esModule?M:{default:M}}(h);u.default=function(M,C){var O=this.__data__;return O[M]=P.default&&void 0===C?'__lodash_hash_undefined__':C,this}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var f=Object.prototype,h=f.hasOwnProperty;u.default=function(P){var w=P.length,M=P.constructor(w);return w&&'string'==typeof P[0]&&h.call(P,'index')&&(M.index=P.index,M.input=P.input),M}},function(r,u,s){'use strict';function d(oe){return oe&&oe.__esModule?oe:{default:oe}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(142),P=d(h),w=s(439),M=d(w),C=s(440),O=d(C),T=s(441),S=d(T),E=s(442),I=d(E),R=s(443),V=d(R),N=s(444),F=d(N);u.default=function(oe,ne,le,ue){var ie=oe.constructor;return ne==='[object ArrayBuffer]'?(0,P.default)(oe):ne==='[object Boolean]'||ne==='[object Date]'?new ie(+oe):ne==='[object DataView]'?(0,M.default)(oe,ue):ne==='[object Float32Array]'||ne==='[object Float64Array]'||ne==='[object Int8Array]'||ne==='[object Int16Array]'||ne==='[object Int32Array]'||ne==='[object Uint8Array]'||ne==='[object Uint8ClampedArray]'||ne==='[object Uint16Array]'||ne==='[object Uint32Array]'?(0,F.default)(oe,ue):ne==='[object Map]'?(0,O.default)(oe,ue,le):ne==='[object Number]'||ne==='[object String]'?new ie(oe):ne==='[object RegExp]'?(0,S.default)(oe):ne==='[object Set]'?(0,I.default)(oe,ue,le):ne==='[object Symbol]'?(0,V.default)(oe):void 0}},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(421),P=d(h),w=s(144),M=d(w),C=s(101),O=d(C);u.default=function(T){return'function'!=typeof T.constructor||(0,O.default)(T)?{}:(0,P.default)((0,M.default)(T))}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(150),P=d(h),w=s(12),M=d(w);u.default=function(C){return(0,M.default)(C)||(0,P.default)(C)}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var f='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&'function'==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?'symbol':typeof h};u.default=function(h){var P='undefined'==typeof h?'undefined':f(h);return'string'==P||'number'==P||'symbol'==P||'boolean'==P?'__proto__'!==h:null===h}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){for(var P=[],h;!(h=f.next()).done;)P.push(h.value);return P}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(){this.__data__=[]}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(93),P=function(C){return C&&C.__esModule?C:{default:C}}(h),w=Array.prototype,M=w.splice;u.default=function(C){var O=this.__data__,T=(0,P.default)(O,C);if(0>T)return!1;var S=O.length-1;return T==S?O.pop():M.call(O,T,1),!0}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(93),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w){var M=this.__data__,C=(0,P.default)(M,w);return 0>C?void 0:M[C][1]}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(93),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w){return-1<(0,P.default)(this.__data__,w)}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(93),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M){var C=this.__data__,O=(0,P.default)(C,w);return 0>O?C.push([w,M]):C[O][1]=M,this}},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(410),P=d(h),w=s(89),M=d(w),C=s(187),O=d(C);u.default=function(){this.__data__={hash:new P.default,map:new(O.default||M.default),string:new P.default}}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(98),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w){return(0,P.default)(this,w)['delete'](w)}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(98),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w){return(0,P.default)(this,w).get(w)}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(98),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w){return(0,P.default)(this,w).has(w)}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(98),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M){return(0,P.default)(this,w).set(w,M),this}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(132),P=d(h),w=s(40),M=d(w);u.default=function(C,O){return 1==O.length?C:(0,P.default)(C,(0,M.default)(O,0,-1))}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0});u.default=function(h){return this.__data__.set(h,'__lodash_hash_undefined__'),this}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){return this.__data__.has(f)}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){var h=-1,P=Array(f.size);return f.forEach(function(w){P[++h]=[w,w]}),P}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(89),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(){this.__data__=new P.default}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){return this.__data__['delete'](f)}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){return this.__data__.get(f)}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){return this.__data__.has(f)}},function(r,u,s){'use strict';function d(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(89),P=d(h),w=s(127),M=d(w);u.default=function(O,T){var S=this.__data__;return S instanceof P.default&&S.__data__.length==200&&(S=this.__data__=new M.default(S.__data__)),S.set(O,T),this}},function(r,u,s){'use strict';function d(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(498),h=d(f),P=s(505),w=d(P),M=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,C=/\\(\\)?/g,O=(0,h.default)(function(T){var S=[];return(0,w.default)(T).replace(M,function(E,I,R,V){S.push(R?V.replace(C,'$1'):I||E)}),S});u.default=O},function(r,u,s){'use strict';function d(Gt){return Gt&&Gt.__esModule?Gt:{default:Gt}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(207),h=d(f),P=s(208),w=d(P),M=s(209),C=d(M),O=s(211),T=d(O),S=s(212),E=d(S),I=s(213),R=d(I),V=s(147),N=d(V),F=s(148),D=d(F),L=s(214),q=d(L),z=s(215),W=d(z),H=s(216),U=d(H),K=s(217),$=d(K),J=s(218),G=d(J),Q=s(219),Y=d(Q),X=s(220),Z=d(X),ee=s(221),te=d(ee),re=s(222),ae=d(re),oe=s(223),ne=d(oe),le=s(149),ue=d(le),ie=s(226),se=d(ie),de=s(227),fe=d(de),ce=s(228),pe=d(ce),me=s(229),ge=d(me),ye=s(230),be=d(ye),he=s(233),ve=d(he),ke=s(18),Pe=d(ke),we=s(234),xe=d(we),Me=s(235),Ce=d(Me),Oe=s(236),Ae=d(Oe),Te=s(153),Se=d(Te),Ee=s(237),Ie=d(Ee),Re=s(238),Ve=d(Re),Ne=s(239),Fe=d(Ne),Be=s(240),De=d(Be),je=s(241),Le=d(je),qe=s(242),ze=d(qe),We=s(243),He=d(We),Ue=s(244),Ke=d(Ue),$e=s(245),Je=d($e),Ge=s(246),Qe=d(Ge),Ye=s(247),Xe=d(Ye),Ze=s(248),et=d(Ze),tt=s(249),rt=d(tt),at=s(250),nt=d(at),lt=s(251),ut=d(lt),it=s(252),st=d(it),dt=s(253),ft=d(dt),ct=s(254),pt=d(ct),mt=s(255),gt=d(mt),yt=s(257),bt=d(yt),ht=s(258),vt=d(ht),kt=s(259),Pt=d(kt),wt=s(260),xt=d(wt),Mt=s(261),Ct=d(Mt),Ot=s(262),At=d(Ot),Tt=s(107),St=d(Tt),Et=s(154),It=d(Et),Rt=s(263),Vt=d(Rt),Nt=s(264),Ft=d(Nt),Bt=s(265),Dt=d(Bt),jt=s(266),Lt=d(jt),qt=s(267),zt=d(qt),Wt=s(268),Ht=d(Wt),Ut=s(269),Kt=d(Ut),$t=s(270),Jt=d($t);u.default={chunk:h.default,compact:w.default,concat:C.default,difference:T.default,differenceBy:E.default,differenceWith:R.default,drop:N.default,dropRight:D.default,dropRightWhile:q.default,dropWhile:W.default,fill:U.default,findIndex:$.default,findLastIndex:G.default,first:Y.default,flatten:Z.default,flattenDeep:te.default,flattenDepth:ae.default,fromPairs:ne.default,head:ue.default,indexOf:se.default,initial:fe.default,intersection:pe.default,intersectionBy:ge.default,intersectionWith:be.default,join:ve.default,last:Pe.default,lastIndexOf:xe.default,nth:Ce.default,pull:Ae.default,pullAll:Se.default,pullAllBy:Ie.default,pullAllWith:Ve.default,pullAt:Fe.default,remove:De.default,reverse:Le.default,slice:ze.default,sortedIndex:He.default,sortedIndexBy:Ke.default,sortedIndexOf:Je.default,sortedLastIndex:Qe.default,sortedLastIndexBy:Xe.default,sortedLastIndexOf:et.default,sortedUniq:rt.default,sortedUniqBy:nt.default,tail:ut.default,take:st.default,takeRight:ft.default,takeRightWhile:pt.default,takeWhile:gt.default,union:bt.default,unionBy:vt.default,unionWith:Pt.default,uniq:xt.default,uniqBy:Ct.default,uniqWith:At.default,unzip:St.default,unzipWith:It.default,without:Vt.default,xor:Ft.default,xorBy:Dt.default,xorWith:Lt.default,zip:zt.default,zipObject:Ht.default,zipObjectDeep:Kt.default,zipWith:Jt.default}},function(r,u,s){'use strict';function d(Be){return Be&&Be.__esModule?Be:{default:Be}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(207);Object.defineProperty(u,'chunk',{enumerable:!0,get:function(){return d(f).default}});var h=s(208);Object.defineProperty(u,'compact',{enumerable:!0,get:function(){return d(h).default}});var P=s(209);Object.defineProperty(u,'concat',{enumerable:!0,get:function(){return d(P).default}});var w=s(211);Object.defineProperty(u,'difference',{enumerable:!0,get:function(){return d(w).default}});var M=s(212);Object.defineProperty(u,'differenceBy',{enumerable:!0,get:function(){return d(M).default}});var C=s(213);Object.defineProperty(u,'differenceWith',{enumerable:!0,get:function(){return d(C).default}});var O=s(147);Object.defineProperty(u,'drop',{enumerable:!0,get:function(){return d(O).default}});var T=s(148);Object.defineProperty(u,'dropRight',{enumerable:!0,get:function(){return d(T).default}});var S=s(214);Object.defineProperty(u,'dropRightWhile',{enumerable:!0,get:function(){return d(S).default}});var E=s(215);Object.defineProperty(u,'dropWhile',{enumerable:!0,get:function(){return d(E).default}});var I=s(216);Object.defineProperty(u,'fill',{enumerable:!0,get:function(){return d(I).default}});var R=s(217);Object.defineProperty(u,'findIndex',{enumerable:!0,get:function(){return d(R).default}});var V=s(218);Object.defineProperty(u,'findLastIndex',{enumerable:!0,get:function(){return d(V).default}});var N=s(219);Object.defineProperty(u,'first',{enumerable:!0,get:function(){return d(N).default}});var F=s(220);Object.defineProperty(u,'flatten',{enumerable:!0,get:function(){return d(F).default}});var D=s(221);Object.defineProperty(u,'flattenDeep',{enumerable:!0,get:function(){return d(D).default}});var L=s(222);Object.defineProperty(u,'flattenDepth',{enumerable:!0,get:function(){return d(L).default}});var q=s(223);Object.defineProperty(u,'fromPairs',{enumerable:!0,get:function(){return d(q).default}});var z=s(149);Object.defineProperty(u,'head',{enumerable:!0,get:function(){return d(z).default}});var W=s(226);Object.defineProperty(u,'indexOf',{enumerable:!0,get:function(){return d(W).default}});var H=s(227);Object.defineProperty(u,'initial',{enumerable:!0,get:function(){return d(H).default}});var U=s(228);Object.defineProperty(u,'intersection',{enumerable:!0,get:function(){return d(U).default}});var K=s(229);Object.defineProperty(u,'intersectionBy',{enumerable:!0,get:function(){return d(K).default}});var $=s(230);Object.defineProperty(u,'intersectionWith',{enumerable:!0,get:function(){return d($).default}});var J=s(233);Object.defineProperty(u,'join',{enumerable:!0,get:function(){return d(J).default}});var G=s(18);Object.defineProperty(u,'last',{enumerable:!0,get:function(){return d(G).default}});var Q=s(234);Object.defineProperty(u,'lastIndexOf',{enumerable:!0,get:function(){return d(Q).default}});var Y=s(235);Object.defineProperty(u,'nth',{enumerable:!0,get:function(){return d(Y).default}});var X=s(236);Object.defineProperty(u,'pull',{enumerable:!0,get:function(){return d(X).default}});var Z=s(153);Object.defineProperty(u,'pullAll',{enumerable:!0,get:function(){return d(Z).default}});var ee=s(237);Object.defineProperty(u,'pullAllBy',{enumerable:!0,get:function(){return d(ee).default}});var te=s(238);Object.defineProperty(u,'pullAllWith',{enumerable:!0,get:function(){return d(te).default}});var re=s(239);Object.defineProperty(u,'pullAt',{enumerable:!0,get:function(){return d(re).default}});var ae=s(240);Object.defineProperty(u,'remove',{enumerable:!0,get:function(){return d(ae).default}});var oe=s(241);Object.defineProperty(u,'reverse',{enumerable:!0,get:function(){return d(oe).default}});var ne=s(242);Object.defineProperty(u,'slice',{enumerable:!0,get:function(){return d(ne).default}});var le=s(243);Object.defineProperty(u,'sortedIndex',{enumerable:!0,get:function(){return d(le).default}});var ue=s(244);Object.defineProperty(u,'sortedIndexBy',{enumerable:!0,get:function(){return d(ue).default}});var ie=s(245);Object.defineProperty(u,'sortedIndexOf',{enumerable:!0,get:function(){return d(ie).default}});var se=s(246);Object.defineProperty(u,'sortedLastIndex',{enumerable:!0,get:function(){return d(se).default}});var de=s(247);Object.defineProperty(u,'sortedLastIndexBy',{enumerable:!0,get:function(){return d(de).default}});var fe=s(248);Object.defineProperty(u,'sortedLastIndexOf',{enumerable:!0,get:function(){return d(fe).default}});var ce=s(249);Object.defineProperty(u,'sortedUniq',{enumerable:!0,get:function(){return d(ce).default}});var pe=s(250);Object.defineProperty(u,'sortedUniqBy',{enumerable:!0,get:function(){return d(pe).default}});var me=s(251);Object.defineProperty(u,'tail',{enumerable:!0,get:function(){return d(me).default}});var ge=s(252);Object.defineProperty(u,'take',{enumerable:!0,get:function(){return d(ge).default}});var ye=s(253);Object.defineProperty(u,'takeRight',{enumerable:!0,get:function(){return d(ye).default}});var be=s(254);Object.defineProperty(u,'takeRightWhile',{enumerable:!0,get:function(){return d(be).default}});var he=s(255);Object.defineProperty(u,'takeWhile',{enumerable:!0,get:function(){return d(he).default}});var ve=s(257);Object.defineProperty(u,'union',{enumerable:!0,get:function(){return d(ve).default}});var ke=s(258);Object.defineProperty(u,'unionBy',{enumerable:!0,get:function(){return d(ke).default}});var Pe=s(259);Object.defineProperty(u,'unionWith',{enumerable:!0,get:function(){return d(Pe).default}});var we=s(260);Object.defineProperty(u,'uniq',{enumerable:!0,get:function(){return d(we).default}});var xe=s(261);Object.defineProperty(u,'uniqBy',{enumerable:!0,get:function(){return d(xe).default}});var Me=s(262);Object.defineProperty(u,'uniqWith',{enumerable:!0,get:function(){return d(Me).default}});var Ce=s(107);Object.defineProperty(u,'unzip',{enumerable:!0,get:function(){return d(Ce).default}});var Oe=s(154);Object.defineProperty(u,'unzipWith',{enumerable:!0,get:function(){return d(Oe).default}});var Ae=s(263);Object.defineProperty(u,'without',{enumerable:!0,get:function(){return d(Ae).default}});var Te=s(264);Object.defineProperty(u,'xor',{enumerable:!0,get:function(){return d(Te).default}});var Se=s(265);Object.defineProperty(u,'xorBy',{enumerable:!0,get:function(){return d(Se).default}});var Ee=s(266);Object.defineProperty(u,'xorWith',{enumerable:!0,get:function(){return d(Ee).default}});var Ie=s(267);Object.defineProperty(u,'zip',{enumerable:!0,get:function(){return d(Ie).default}});var Re=s(268);Object.defineProperty(u,'zipObject',{enumerable:!0,get:function(){return d(Re).default}});var Ve=s(269);Object.defineProperty(u,'zipObjectDeep',{enumerable:!0,get:function(){return d(Ve).default}});var Ne=s(270);Object.defineProperty(u,'zipWith',{enumerable:!0,get:function(){return d(Ne).default}});var Fe=s(487);Object.defineProperty(u,'default',{enumerable:!0,get:function(){return d(Fe).default}})},function(r,u,s){'use strict';function d(L){return L&&L.__esModule?L:{default:L}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(68),h=d(f),P=s(143),w=d(P),M=s(447),C=d(M),O=s(104),T=d(O),S=s(101),E=d(S),I=s(497),R=d(I),V=Object.prototype,N=V.propertyIsEnumerable,F=!N.call({valueOf:1},'valueOf'),D=(0,C.default)(function(L,q){if(F||(0,E.default)(q)||(0,T.default)(q))return void(0,w.default)(q,(0,R.default)(q),L);for(var z in q)(0,h.default)(L,z,q[z])});u.default=D},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(192),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M){return(0,P.default)(w,!0,!0,M)}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f){return function(){return f}}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(424),P=d(h),w=s(455),M=d(w);u.default=function(C,O){return null!=C&&(0,M.default)(C,O,P.default)}},function(r,u,s){'use strict';(function(d){function f(V){return V&&V.__esModule?V:{default:V}}Object.defineProperty(u,'__esModule',{value:!0});var h='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&'function'==typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?'symbol':typeof V},P=s(491),w=f(P),M=s(32),C=f(M),O={function:!0,object:!0},T=O[h(u)]&&u&&!u.nodeType?u:void 0,S=O[h(d)]&&d&&!d.nodeType?d:void 0,E=S&&S.exports===T?T:void 0,I=E?C.default.Buffer:void 0,R=I?function(V){return V instanceof I}:(0,w.default)(!1);u.default=R}).call(u,s(108)(r))},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(94),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M){return(0,P.default)(w,M)}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(94),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w,M,C){C='function'==typeof C?C:void 0;var O=C?C(w,M):void 0;return O===void 0?(0,P.default)(w,M,C):!!O}},function(r,u,s){'use strict';function d(re){return re&&re.__esModule?re:{default:re}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(105),P=d(h),w=s(51),M=d(w),Z={};Z['[object Float32Array]']=Z['[object Float64Array]']=Z['[object Int8Array]']=Z['[object Int16Array]']=Z['[object Int32Array]']=Z['[object Uint8Array]']=Z['[object Uint8ClampedArray]']=Z['[object Uint16Array]']=Z['[object Uint32Array]']=!0,Z['[object Arguments]']=Z['[object Array]']=Z['[object ArrayBuffer]']=Z['[object Boolean]']=Z['[object DataView]']=Z['[object Date]']=Z['[object Error]']=Z['[object Function]']=Z['[object Map]']=Z['[object Number]']=Z['[object Object]']=Z['[object RegExp]']=Z['[object Set]']=Z['[object String]']=Z['[object WeakMap]']=!1;var ee=Object.prototype,te=ee.toString;u.default=function(re){return(0,M.default)(re)&&(0,P.default)(re.length)&&!!Z[te.call(re)]}},function(r,u,s){'use strict';function d(R){return R&&R.__esModule?R:{default:R}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(429),P=d(h),w=s(202),M=d(w),C=s(41),O=d(C),T=s(101),S=d(T),E=Object.prototype,I=E.hasOwnProperty;u.default=function(R){for(var V=-1,N=(0,S.default)(R),F=(0,P.default)(R),D=F.length,L=(0,M.default)(R),z=L||[],W=z.length,H;++V<D;)H=F[V],!!L&&('length'==H||(0,O.default)(H,W))||'constructor'==H&&(N||!I.call(R,H))||z.push(H);return z}},function(r,u,s){'use strict';function f(M,C){if('function'!=typeof M||C&&'function'!=typeof C)throw new TypeError(w);var O=function T(){var S=arguments,E=C?C.apply(this,S):S[0],I=T.cache;if(I.has(E))return I.get(E);var R=M.apply(this,S);return T.cache=I.set(E,R),R};return O.cache=new(f.Cache||P.default),O}Object.defineProperty(u,'__esModule',{value:!0});var h=s(127),P=function(M){return M&&M.__esModule?M:{default:M}}(h),w='Expected a function';f.Cache=P.default,u.default=f},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(){}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var d=Date.now;u.default=d},function(r,u,s){'use strict';function d(E){return E&&E.__esModule?E:{default:E}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(135),P=d(h),w=s(433),M=d(w),C=s(58),O=d(C),T=s(59),S=d(T);u.default=function(E){return(0,O.default)(E)?(0,P.default)((0,S.default)(E)):(0,M.default)(E)}},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(256),P=function(C){return C&&C.__esModule?C:{default:C}}(h),w=1/0;u.default=function(C){if(!C)return 0===C?C:0;if(C=(0,P.default)(C),C===w||C===-w){var O=0>C?-1:1;return O*1.7976931348623157e308}return C===C?C:0}},function(r,u,s){'use strict';function d(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(u,'__esModule',{value:!0});var h=s(420),P=d(h),w=s(14),M=d(w);u.default=function(O){return O?(0,P.default)((0,M.default)(O),0,4294967295):0}},function(r,u,s){'use strict';function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(u,'__esModule',{value:!0});var f=s(449),h=d(f),P=s(71),w=d(P),M=(0,h.default)(w.default);u.default=M},function(r,u,s){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=s(436),P=function(w){return w&&w.__esModule?w:{default:w}}(h);u.default=function(w){return null==w?'':(0,P.default)(w)}},function(r,u,s){'use strict';function d(w,M){if(!(w instanceof M))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(u,'__esModule',{value:!0});var f=function(){function w(M,C){for(var O=0,T;O<C.length;O++)T=C[O],T.enumerable=T.enumerable||!1,T.configurable=!0,'value'in T&&(T.writable=!0),Object.defineProperty(M,T.key,T)}return function(M,C,O){return C&&w(M.prototype,C),O&&w(M,O),M}}(),h=s(510),P=function(){function w(M){var C=this;d(this,w),this.lang=M||'en',this.t=function(){return C._t.apply(C,arguments)}}return f(w,[{key:'_t',value:function(C,O){var T=(0,h.translate)(this.lang,C);return O&&(T=T.replace(/%(\d+)/g,function(S,E){return E<O.length?O[E]:S})),T}}]),w}();u.default=P},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(f,h){if(f.size!=h.size)return!1;var P=!0,w=!1,M;try{for(var C=f.entries()[Symbol.iterator](),O;!(P=(O=C.next()).done);P=!0){var T=O.value,S=JSON.stringify(T[1]),E=JSON.stringify(h.get(T[0]));if(S!==E)return!1}}catch(I){w=!0,M=I}finally{try{!P&&C.return&&C.return()}finally{if(w)throw M}}return!0}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0});u.default={get:function(h){return'number'==typeof h?h:this[h]||this.normal},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5}},function(r,u){'use strict';Object.defineProperty(u,'__esModule',{value:!0}),u.default=function(){return function f(){f.called=!0}}},function(r,u){'use strict';function h(M,C){return M in w&&C in w[M]}Object.defineProperty(u,'__esModule',{value:!0}),u.add=function(M,C){w[M]=w[M]||{},Object.assign(w[M],C)},u.translate=function(M,C){return h(M,C)?w[M][C]:C.replace(/ \[context: [^\]]+\]$/,'')},u._clear=function(){w={}};var w={}},function(r,u,s){'use strict';function d(J){return J&&J.__esModule?J:{default:J}}function f(J,G){if(!(J instanceof G))throw new TypeError('Cannot call a class as a function')}function h(J,G){if(!J)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return G&&('object'==typeof G||'function'==typeof G)?G:J}function P(J,G){if('function'!=typeof G&&null!==G)throw new TypeError('Super expression must either be null or a function, not '+typeof G);J.prototype=Object.create(G&&G.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(J,G):J.__proto__=G)}function w(J){return J==K.keyCodes.arrowright||J==K.keyCodes.arrowleft||J==K.keyCodes.arrowup||J==K.keyCodes.arrowdown}function M(J){return J==K.keyCodes.delete||J==K.keyCodes.backspace}function C(J){for(;J;){if(J instanceof z.default&&!(J instanceof H.default))return!0;J=J.parent}return!1}Object.defineProperty(u,'__esModule',{value:!0});var O=function(){function J(G,Q){for(var Y=0,X;Y<Q.length;Y++)X=Q[Y],X.enumerable=X.enumerable||!1,X.configurable=!0,'value'in X&&(X.writable=!0),Object.defineProperty(G,X.key,X)}return function(G,Q,Y){return Q&&J(G.prototype,Q),Y&&J(G,Y),G}}(),T=s(2),S=d(T),E=s(328),I=d(E),R=s(3),V=d(R),N=s(81),F=d(N),D=s(6),L=d(D),q=s(82),z=d(q),W=s(169),H=d(W),U=s(156),K=s(24);s(541);var $=function(J){function G(){return f(this,G),h(this,(G.__proto__||Object.getPrototypeOf(G)).apply(this,arguments))}return P(G,J),O(G,[{key:'init',value:function(){var Y=this,X=this.editor.editing.view,Z;this.editor.editing.modelToView.on('selection',function(ee,te,re,ae){Z&&Z.hasClass(U.WIDGET_SELECTED_CLASS_NAME)&&Z.removeClass(U.WIDGET_SELECTED_CLASS_NAME);var oe=ae.viewSelection,ne=oe.getSelectedElement();ne&&(0,U.isWidget)(ne)&&(oe.setFake(!0,{label:(0,U.getLabel)(ne)}),ne.addClass(U.WIDGET_SELECTED_CLASS_NAME),Z=ne)},{priority:'low'}),X.addObserver(I.default),this.listenTo(X,'mousedown',function(){return Y._onMousedown.apply(Y,arguments)}),this.listenTo(X,'keydown',function(){return Y._onKeydown.apply(Y,arguments)},{priority:'high'})}},{key:'_onMousedown',value:function(Y,X){var Z=this,ee=this.editor,te=ee.editing.view,re=X.target;if(!C(re)&&((0,U.isWidget)(re)||(re=re.findAncestor(U.isWidget),!!re))){X.preventDefault(),te.isFocused||te.focus();var ae=ee.editing.mapper.toModelElement(re);ee.document.enqueueChanges(function(){Z._setSelectionOverElement(ae)})}}},{key:'_onKeydown',value:function(Y,X){var Z=X.keyCode,ee=Z==K.keyCodes.delete||Z==K.keyCodes.arrowdown||Z==K.keyCodes.arrowright;(M(Z)&&this._handleDelete(ee)||w(Z)&&this._handleArrowKeys(ee))&&(X.preventDefault(),Y.stop())}},{key:'_handleDelete',value:function(Y){var X=this,Z=this.editor.document,ee=Z.selection;if(ee.isCollapsed){var te=this._getObjectElementNextToSelection(Y);if(te)return Z.enqueueChanges(function(){var re=ee.anchor.parent;if(re.isEmpty){var ae=Z.batch();ae.remove(re)}X._setSelectionOverElement(te)}),!0}}},{key:'_handleArrowKeys',value:function(Y){var X=this,Z=this.editor.document,ee=Z.schema,te=Z.selection,re=te.getSelectedElement();if(re&&ee.objects.has(re.name)){var ae=Y?te.getLastPosition():te.getFirstPosition(),oe=Z.getNearestSelectionRange(ae,Y?'forward':'backward');return oe&&Z.enqueueChanges(function(){te.setRanges([oe])}),!0}if(te.isCollapsed){var ne=this._getObjectElementNextToSelection(Y);if(ne instanceof L.default&&Z.schema.objects.has(ne.name))return Z.enqueueChanges(function(){X._setSelectionOverElement(ne)}),!0}}},{key:'_setSelectionOverElement',value:function(Y){this.editor.document.selection.setRanges([V.default.createOn(Y)])}},{key:'_getObjectElementNextToSelection',value:function(Y){var X=this.editor.document,Z=X.schema,ee=X.selection,te=this.editor.data,re=F.default.createFromSelection(ee);te.modifySelection(re,{direction:Y?'forward':'backward'});var ae=Y?re.focus.nodeBefore:re.focus.nodeAfter;return ae instanceof L.default&&Z.objects.has(ae.name)?ae:null}}],[{key:'pluginName',get:function(){return'Widget'}}]),G}(S.default);u.default=$},function(r,u,s){u=r.exports=s(30)(void 0),u.push([r.i,'blockquote{border-left:5px solid #ccc;padding-left:20px;margin-left:0;font-style:italic}',''])},function(r,u,s){u=r.exports=s(30)(void 0),u.push([r.i,'.ck-hidden{display:none!important}.ck-reset,.ck-reset_all,.ck-reset_all *,.ck-reset_all a,.ck-reset_all textarea{box-sizing:border-box;width:auto;height:auto;position:static}svg.ck-icon{min-width:20px;min-height:20px;font-size:1em;vertical-align:middle}svg.ck-icon,svg.ck-icon *{color:inherit;cursor:inherit}svg.ck-icon *{fill:currentColor}.ck-tooltip,.ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:999}.ck-tooltip__text{display:inline-block}.ck-tooltip__text:after{content:"";width:0;height:0}.ck-button,a.ck-button{display:inline-block;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.ck-button .ck-tooltip,a.ck-button .ck-tooltip{display:block}.ck-button:hover .ck-tooltip,a.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck-button .ck-button__label,.ck-button:focus:not(:hover) .ck-tooltip,a.ck-button .ck-button__label,a.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck-toolbar__separator{display:inline-block}.ck-toolbar__newline{display:block;clear:left}.ck-dropdown{display:inline-block;position:relative}.ck-dropdown:after{content:"";width:0;height:0;pointer-events:none;z-index:1;position:absolute;top:50%;transform:translateY(-50%)}.ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:999;position:absolute;left:0;transform:translateY(100%)}.ck-dropdown__panel-visible{display:inline-block}.ck-label,.ck-list__item{display:block}.cke-voice-label{display:none}.ck-balloon-panel{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;display:none;position:absolute;z-index:999}.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:1}.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:2}.ck-balloon-panel.ck-balloon-panel_arrow_n:before,.ck-balloon-panel.ck-balloon-panel_arrow_ne:before,.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{z-index:1}.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck-balloon-panel.ck-balloon-panel_arrow_nw:after{z-index:2}.ck-balloon-panel.ck-balloon-panel_arrow_s:before,.ck-balloon-panel.ck-balloon-panel_arrow_se:before,.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{z-index:1}.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck-balloon-panel.ck-balloon-panel_arrow_sw:after{z-index:2}.ck-balloon-panel_visible{display:block}.ck-editor .ck-toolbar.ck-toolbar_sticky{position:fixed;top:0}.ck-editor .ck-toolbar.ck-toolbar_sticky.ck-toolbar_sticky_bottom-limit{top:auto;position:absolute}.ck-reset,.ck-reset_all,.ck-reset_all *,.ck-reset_all a,.ck-reset_all textarea{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck-reset_all,.ck-reset_all *,.ck-reset_all a,.ck-reset_all textarea{border-collapse:collapse;font:normal normal normal 12px Helvetica,Arial,Tahoma,Verdana,Sans-Serif;color:#333;text-align:left;white-space:nowrap;cursor:auto;float:none}.ck-reset_all .ck-rtl *{text-align:right}.ck-reset_all iframe{vertical-align:inherit}.ck-reset_all textarea{white-space:pre-wrap}.ck-reset_all input[type=password],.ck-reset_all input[type=text],.ck-reset_all textarea{cursor:text}.ck-reset_all input[type=password][disabled],.ck-reset_all input[type=text][disabled],.ck-reset_all textarea[disabled]{cursor:default}.ck-reset_all fieldset{padding:10px;border:2px groove #e0dfe3}.ck-reset_all button::-moz-focus-inner{padding:0;border:0}svg.ck-icon{width:1.66667em;height:1.66667em}.ck-tooltip{left:50%}.ck-tooltip__text{color:#fff;font-size:.7rem;padding:.4em .64em;background:#333;position:relative;left:-50%;line-height:1.5}.ck-rounded-corners .ck-tooltip__text,.ck-tooltip__text.ck-rounded-corners{border-radius:2px}.ck-tooltip__text:after{border-style:solid;left:50%}.ck-tooltip.ck-tooltip_s{bottom:-5px;transform:translateY(100%)}.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:-5px;transform:translateX(-50%);border-color:transparent transparent #333;border-width:0 5px 5px}.ck-tooltip.ck-tooltip_n{top:-5px;transform:translateY(-100%)}.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:-5px;transform:translateX(-50%);border-color:#333 transparent transparent;border-width:5px 5px 0}.ck-tooltip,.ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s}.ck-button,a.ck-button{background:#fff;border:1px solid #bfbfbf;white-space:nowrap;cursor:default;vertical-align:middle;padding:.4em;line-height:1.66667}.ck-button:not(.ck-disabled):focus,.ck-button:not(.ck-disabled):hover,a.ck-button:not(.ck-disabled):focus,a.ck-button:not(.ck-disabled):hover{background:#e6e6e6;border-color:#a6a6a6}.ck-button:not(.ck-disabled):active,a.ck-button:not(.ck-disabled):active{background:#d9d9d9;border-color:#999;box-shadow:inset 0 2px 2px #bfbfbf}.ck-button.ck-disabled,a.ck-button.ck-disabled{background:#fff;border-color:#d9d9d9}.ck-button.ck-rounded-corners,.ck-rounded-corners .ck-button,.ck-rounded-corners a.ck-button,a.ck-button.ck-rounded-corners{border-radius:2px}.ck-button:focus,a.ck-button:focus{outline:none;border:1px solid #6ab5f9;box-shadow:0 0 3px 2px #9bcdfb}.ck-button .ck-icon,a.ck-button .ck-icon{float:left}.ck-button.ck-disabled .ck-button__label,.ck-button.ck-disabled .ck-icon,a.ck-button.ck-disabled .ck-button__label,a.ck-button.ck-disabled .ck-icon{opacity:.5}.ck-button.ck-button_with-text,a.ck-button.ck-button_with-text{padding:.4em .8em}.ck-button.ck-button_with-text .ck-icon,a.ck-button.ck-button_with-text .ck-icon{margin-left:-.4em;margin-right:.4em}.ck-button.ck-button_with-text .ck-button__label,a.ck-button.ck-button_with-text .ck-button__label{display:block}.ck-button.ck-on,a.ck-button.ck-on{background:#f7f7f7;border-color:#b9b9b9}.ck-button.ck-on:not(.ck-disabled):focus,.ck-button.ck-on:not(.ck-disabled):hover,a.ck-button.ck-on:not(.ck-disabled):focus,a.ck-button.ck-on:not(.ck-disabled):hover{background:#dedede;border-color:#a1a1a1}.ck-button.ck-on:not(.ck-disabled):active,a.ck-button.ck-on:not(.ck-disabled):active{background:#d2d2d2;border-color:#949494;box-shadow:inset 0 2px 2px #b9b9b9}.ck-button.ck-on.ck-disabled,a.ck-button.ck-on.ck-disabled{background:#f8f8f8;border-color:#d2d2d2}.ck-button-action,a.ck-button-action{background:#61b145;border-color:#498534;text-shadow:0 -1px #4e8e37;color:#fff}.ck-button-action:not(.ck-disabled):focus,.ck-button-action:not(.ck-disabled):hover,a.ck-button-action:not(.ck-disabled):focus,a.ck-button-action:not(.ck-disabled):hover{background:#579f3e;border-color:#3f732d}.ck-button-action:not(.ck-disabled):active,a.ck-button-action:not(.ck-disabled):active{background:#52963b;border-color:#3a6a29;box-shadow:inset 0 2px 2px #498534}.ck-button-action.ck-disabled,a.ck-button-action.ck-disabled{background:#6fbc54;border-color:#52963b}.ck-button-action:active,.ck-button-action:focus,.ck-button-action:hover,a.ck-button-action:active,a.ck-button-action:focus,a.ck-button-action:hover{text-shadow:0 -1px #3a6a29}.ck-button-bold,a.ck-button-bold{font-weight:700}.ck-button .ck-icon use,.ck-button .ck-icon use *,a.ck-button .ck-icon use,a.ck-button .ck-icon use *{color:inherit}.ck-button .ck-button__label,a.ck-button .ck-button__label{float:left;line-height:inherit;font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit}.ck-toolbar{line-height:1;padding:.4em;border:1px solid #bfbfbf;white-space:normal;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.ck-toolbar_floating{white-space:nowrap}.ck-rounded-corners .ck-toolbar,.ck-toolbar.ck-rounded-corners{border-radius:2px}.ck-toolbar__separator{width:1px;height:2.28em;vertical-align:middle;background:#bfbfbf}.ck-toolbar__newline{height:.4em}.ck-toolbar>*{margin-right:.4em}.ck-toolbar>:last-child{margin-right:0}.ck-toolbar-container .ck-toolbar{border:0}.ck-dropdown:after{border-style:solid;border-width:.4em .4em 0;border-color:#707070 transparent;right:.8em}.ck-dropdown .ck-button.ck-dropdown__button{padding-right:1.6em}.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:.5}.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck-dropdown__panel{border:1px solid #b9b9b9;bottom:1px;background:#fff;box-shadow:0 1px 2px 0 rgba(0,0,0,.2)}.ck-dropdown__panel.ck-rounded-corners,.ck-rounded-corners .ck-dropdown__panel{border-radius:2px}.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;list-style-type:none;background:#fff}.ck-list.ck-rounded-corners,.ck-rounded-corners .ck-list{border-radius:2px}.ck-list__item{padding:.64em;cursor:default;min-width:12em}.ck-list__item:focus,.ck-list__item:hover{background:#f7f7f7}.ck-list__item:focus{box-shadow:0 0 3px 2px #9bcdfb;position:relative;z-index:1;outline:none}.ck-list__item:last-of-type{border:none}.ck-list__item_active{background:#1a8bf1;color:#fff}.ck-list__item_active:focus,.ck-list__item_active:hover{background:#0e7ee2}.ck-label{font-weight:700}.ck-input-text{box-shadow:inset 2px 2px 3px #e6e6e6;border:1px solid #b9b9b9;padding:.64em;min-width:250px}.ck-input-text.ck-rounded-corners,.ck-rounded-corners .ck-input-text{border-radius:2px}.ck-input-text:focus{outline:none;border:1px solid #6ab5f9;box-shadow:0 0 3px 2px #9bcdfb,inset 2px 2px 3px #e6e6e6}.ck-input-text[readonly]{border:1px solid #d2d2d2;background:#f7f7f7;color:#5c5c5c}.ck-balloon-panel{box-shadow:0 1px 2px 0 rgba(0,0,0,.2);min-height:15px;background:#fff;border:1px solid #b9b9b9}.ck-balloon-panel.ck-rounded-corners,.ck-rounded-corners .ck-balloon-panel{border-radius:2px}.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck-balloon-panel.ck-balloon-panel_arrow_n:before,.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck-balloon-panel.ck-balloon-panel_arrow_ne:before,.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{border-width:0 10px 15px}.ck-balloon-panel.ck-balloon-panel_arrow_n:before,.ck-balloon-panel.ck-balloon-panel_arrow_ne:before,.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{border-color:transparent transparent #b9b9b9}.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck-balloon-panel.ck-balloon-panel_arrow_nw:after{border-color:transparent transparent #fff;margin-top:2px}.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck-balloon-panel.ck-balloon-panel_arrow_s:before,.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck-balloon-panel.ck-balloon-panel_arrow_se:before,.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{border-width:15px 10px 0}.ck-balloon-panel.ck-balloon-panel_arrow_s:before,.ck-balloon-panel.ck-balloon-panel_arrow_se:before,.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{border-color:#b9b9b9 transparent transparent}.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck-balloon-panel.ck-balloon-panel_arrow_sw:after{border-color:#fff transparent transparent;margin-bottom:2px}.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:-10px;top:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:20px;top:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:20px;top:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:-10px;bottom:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:20px;bottom:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:20px;bottom:-15px}.ck-editor-toolbar{border-radius:0}.ck-editor-toolbar .ck-button{border-width:0}.ck-editor-toolbar .ck-button.ck-disabled,.ck-editor-toolbar .ck-button:not(:hover):not(:focus):not(.ck-on){background:#f7f7f7}.ck-editor-toolbar .ck-button.ck-on{background:#dedede;border-color:#a1a1a1}.ck-editor-toolbar .ck-button.ck-on:not(.ck-disabled):focus,.ck-editor-toolbar .ck-button.ck-on:not(.ck-disabled):hover{background:#c6c6c6;border-color:#888}.ck-editor-toolbar .ck-button.ck-on:not(.ck-disabled):active{background:#b9b9b9;border-color:#7c7c7c;box-shadow:inset 0 2px 2px #a1a1a1}.ck-editor-toolbar .ck-button.ck-on.ck-disabled{background:#f7f7f7;border-color:#b9b9b9}.ck-editor-toolbar .ck-dropdown__button{border-width:1px}.ck-editor-toolbar .ck-dropdown__button:not(:hover):not(:focus):not(.ck-on){background:#fff}.ck-toolbar-container .ck-editor-toolbar{background:#f7f7f7}.ck-editor-toolbar-container.ck-balloon-panel_arrow_n:after,.ck-editor-toolbar-container.ck-balloon-panel_arrow_ne:after,.ck-editor-toolbar-container.ck-balloon-panel_arrow_nw:after{border-bottom-color:#f7f7f7}.ck-editor-toolbar-container.ck-balloon-panel_arrow_s:after,.ck-editor-toolbar-container.ck-balloon-panel_arrow_se:after,.ck-editor-toolbar-container.ck-balloon-panel_arrow_sw:after{border-top-color:#f7f7f7}.ck-editor .ck-toolbar.ck-toolbar_sticky{box-shadow:0 1px 2px 0 rgba(0,0,0,.2);border:1px solid #bfbfbf;border-width:0 0 1px;background:#f7f7f7}.ck-editor{position:relative}.ck-editor.ck-rounded-corners,.ck-rounded-corners .ck-editor{border-radius:2px}.ck-editor .ck-editor__top .ck-toolbar{border-top:0;border-left:0;border-right:0;z-index:999}.ck-editor .ck-editor__main{background:#fff}.ck-editor .ck-editor__bottom{border-bottom:0;border-left:0;border-right:0;padding:.8em}.ck-editor .ck-editor__editable.ck-focused{outline:1px solid #6ab5f9;box-shadow:inset 2px 2px 3px #e6e6e6}.ck-editor .ck-editor__editable_inline{overflow:auto;padding:0 .8em}.ck-editor,.ck-editor-bottom{background:#f7f7f7;border:1px solid #b9b9b9}',''])},function(r,u,s){u=r.exports=s(30)(void 0),u.push([r.i,'.ck-placeholder:before{content:attr(data-placeholder);cursor:text;color:#c2c2c2;pointer-events:none}',''])},function(r,u,s){u=r.exports=s(30)(void 0),u.push([r.i,'.ck-heading_heading1{font-size:1.5em}.ck-heading_heading2{font-size:1.3em}.ck-heading_heading3{font-size:1.1em}[class*=ck-heading_]{line-height:21.6px;padding:9.6px}[class*=ck-heading_heading]{font-weight:700}.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}',''])},function(r,u,s){u=r.exports=s(30)(void 0),u.push([r.i,'.ck-editor__editable .image>figcaption{background-color:#f7f7f7;padding:.8em;font-size:.75rem;color:#858585;outline-offset:-1px}',''])},function(r,u,s){u=r.exports=s(30)(void 0),u.push([r.i,'.cke-text-alternative-form{padding:1.2em;overflow:hidden}.cke-text-alternative-form .ck-label{margin-bottom:.4em}.cke-text-alternative-form__actions{clear:both;padding-top:1.2em}.cke-text-alternative-form__actions .ck-button{float:right}.cke-text-alternative-form__actions .ck-button+.ck-button{margin-right:.64em}.cke-text-alternative-form__actions .ck-button+.ck-button+.ck-button{float:left}',''])},function(r,u,s){u=r.exports=s(30)(void 0),u.push([r.i,'.ck-editor__editable .image{text-align:center;clear:both}.ck-editor__editable .image.image-style-side{float:right;margin-left:.8em;max-width:50%}.ck-editor__editable .image>img{display:block;margin:0 auto;max-width:100%}',''])},function(r,u,s){u=r.exports=s(30)(void 0),u.push([r.i,'.ck-link-form{padding:1.2em;overflow:hidden}.ck-link-form:focus{outline:none}.ck-link-form .ck-label{margin-bottom:.4em}.ck-link-form__actions{clear:both;padding-top:1.2em}.ck-link-form__actions .ck-button{float:right}.ck-link-form__actions .ck-button+.ck-button{margin-right:.64em}.ck-link-form__actions .ck-button+.ck-button+.ck-button{float:left}',''])},function(r,u,s){u=r.exports=s(30)(void 0),u.push([r.i,'.ck-widget{margin:.8em 0;padding:0}.ck-widget.ck-widget_selected,.ck-widget.ck-widget_selected:hover{outline:3px solid #6ab5f9}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected{outline:3px solid #ddd}.ck-widget:hover{outline:3px solid #ffd25c}.ck-widget .ck-editable.ck-editable_focused,.ck-widget .ck-editable:focus{outline:1px solid #6ab5f9;box-shadow:inset 2px 2px 3px #e6e6e6;background-color:#fff}',''])},function(r){r.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.135 10.409c.361.248.654.56.88.934.225.375.338.816.338 1.324 0 .609-.128 1.123-.385 1.543-.256.42-.624.751-1.103.994a5.908 5.908 0 0 1-1.755.55c-.663.107-1.442.16-2.338.16H4.539v-.66a22.5 22.5 0 0 0 .66-.076c.265-.033.45-.073.558-.118.208-.085.35-.196.427-.334.076-.138.114-.317.114-.537V5.732c0-.203-.031-.372-.093-.507s-.211-.254-.448-.355a3.326 3.326 0 0 0-.61-.182 14.136 14.136 0 0 0-.608-.114v-.66h6.52c1.64 0 2.825.226 3.552.677.727.45 1.09 1.116 1.09 1.995 0 .406-.08.763-.244 1.07a2.388 2.388 0 0 1-.702.8 4.214 4.214 0 0 1-.99.54c-.383.153-.795.28-1.234.381v.16c.44.046.896.143 1.37.292.473.15.885.343 1.234.58zm-2.723-3.611c0-.665-.187-1.184-.562-1.556-.375-.372-.937-.558-1.687-.558-.107 0-.247.004-.419.012l-.444.021v4.449h.44c.913 0 1.587-.213 2.021-.639.434-.425.651-1.002.651-1.73zm.592 5.759c0-.835-.248-1.475-.744-1.92-.496-.445-1.21-.668-2.14-.668a22.977 22.977 0 0 0-.82.034v4.389c.05.208.209.385.474.528.265.144.586.216.964.216.67 0 1.216-.225 1.636-.676.42-.452.63-1.086.63-1.903z" fill="#454545" fill-rule="evenodd"/></svg>'},function(r){r.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M13.825 3.914l-.126.558a5.701 5.701 0 0 0-.685.076c-.282.045-.49.088-.626.127-.237.073-.406.186-.508.338a1.586 1.586 0 0 0-.22.5l-2.03 8.769a1.24 1.24 0 0 0-.034.27c.001.13.03.24.086.33.056.09.157.17.304.237.085.04.27.086.558.14.288.053.502.086.643.097l-.127.558H5.656l.127-.558.677-.05c.293-.023.501-.057.625-.102a1.11 1.11 0 0 0 .5-.326c.112-.138.188-.306.228-.503l2.02-8.778a1.428 1.428 0 0 0 .035-.305.59.59 0 0 0-.072-.295c-.048-.085-.148-.161-.3-.229a3.457 3.457 0 0 0-.622-.19 5.001 5.001 0 0 0-.58-.106l.128-.558h5.403z" fill="#454545" fill-rule="evenodd"/></svg>'},function(r){r.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M5.414 6.749L2.903 4.237a.49.49 0 1 1 .694-.694L6.394 6.34a10.662 10.662 0 0 1 2.127-.53c.366-.051.734-.081 1.103-.095a10.628 10.628 0 0 1 1.524.07c1.109.134 2.204.449 3.243.936a9.65 9.65 0 0 1 2.12 1.331c.276.231.542.484.784.766.18.211.349.439.488.692.169.307.301.664.301 1.039 0 .375-.132.732-.301 1.039a4.143 4.143 0 0 1-.488.691 6.668 6.668 0 0 1-.784.767 9.628 9.628 0 0 1-2.092 1.318l2.196 2.197a.49.49 0 1 1-.694.694l-2.485-2.484-.008.003-.931-.931.009-.003-6.215-6.215a9.887 9.887 0 0 0-.945.444l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.483 8.596a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2 1.497 1.497 0 0 0-.108.241.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226 2.613 2.613 0 0 0 .234.379l3.463 3.594a10.565 10.565 0 0 1-2.125-1 9.096 9.096 0 0 1-1.015-.721 6.672 6.672 0 0 1-.798-.764 4.325 4.325 0 0 1-.502-.69c-.184-.319-.329-.693-.329-1.089 0-.375.131-.732.301-1.039.139-.253.307-.481.488-.692.225-.263.471-.5.728-.719a9.538 9.538 0 0 1 2.096-1.341l.019-.009zm6.674.401a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112 6.86 6.86 0 0 0 .727-.613c.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286a1.966 1.966 0 0 0 .148-.292.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891 10.119 10.119 0 0 0-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.449 2.449 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>'},function(r){r.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h16v1H2v-1zm15-2H3V6h14v8zm-1-7H4v6h12V7zM2 3h16v1H2V3z"/></svg>'},function(r){r.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 16H2v-1h16v1zM6.978 13H2v-1h4.978v1zM18 6v7H9V6h9zm-1 6V7h-7v5h7zM6.978 10H2V9h4.978v1zm0-3H2V6h4.978v1zM18 4H2V3h16v1z"/></svg>'},function(r){r.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.061 15.51v-.882c1.395-.847 2.345-1.633 2.85-2.358.37-.533.554-1.162.554-1.887 0-.437-.082-.759-.246-.964-.15-.205-.328-.307-.533-.307-.137 0-.328.048-.574.143-.37.123-.67.185-.902.185-.547 0-1.033-.205-1.456-.615-.424-.41-.636-.923-.636-1.538 0-.698.212-1.238.636-1.62a3.002 3.002 0 0 1 2.05-.78c.93 0 1.757.39 2.482 1.17.724.778 1.087 1.742 1.087 2.89 0 1.614-.602 3.084-1.805 4.41-.807.875-1.976 1.593-3.507 2.153zm-8.386 0v-.882c1.394-.847 2.345-1.633 2.85-2.358.37-.533.554-1.162.554-1.887 0-.437-.082-.759-.246-.964-.15-.205-.328-.307-.533-.307-.137 0-.328.048-.574.143-.37.123-.67.185-.903.185-.547 0-1.032-.205-1.456-.615-.424-.41-.636-.923-.636-1.538 0-.698.212-1.238.636-1.62a3.002 3.002 0 0 1 2.051-.78c.93 0 1.757.39 2.481 1.17.725.778 1.087 1.742 1.087 2.89 0 1.614-.601 3.084-1.804 4.41-.807.875-1.976 1.593-3.507 2.153z" fill="#454545" fill-rule="evenodd"/></svg>'},function(r){r.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="#222" fill-rule="evenodd"><path d="M14.2 10.956l1.227-1.227a3.995 3.995 0 0 0-.002-5.654 4 4 0 0 0-5.654-.002L7.698 6.145a3.995 3.995 0 0 0 .003 5.654c.39.39.84.682 1.32.878l-.305-.307.638-.638a2.99 2.99 0 0 1-.946-.64 2.995 2.995 0 0 1-.003-4.24l2.073-2.072a3 3 0 0 1 4.242 4.242l-1.226 1.227.707.707z"/><path d="M10.166 7.405c.41.192.795.457 1.133.796a3.995 3.995 0 0 1 .003 5.654l-2.073 2.072a4 4 0 0 1-5.654-.002 3.995 3.995 0 0 1-.002-5.654l1.362-1.363.707.707-1.362 1.363a3 3 0 0 0 4.243 4.243l2.072-2.073a2.995 2.995 0 0 0-.003-4.24 2.987 2.987 0 0 0-1.196-.733l.77-.77z"/></g></svg>'},function(r){r.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="#222" fill-rule="evenodd"><path d="M14.2 10.956l1.227-1.227a3.995 3.995 0 0 0-.002-5.654 4 4 0 0 0-5.654-.002L7.698 6.145a3.995 3.995 0 0 0 .003 5.654c.39.39.84.682 1.32.878l-.305-.307.638-.638a2.99 2.99 0 0 1-.946-.64 2.995 2.995 0 0 1-.003-4.24l2.073-2.072a3 3 0 0 1 4.242 4.242l-1.226 1.227.707.707z"/><path d="M14.906 16.092l2.557-2.557-.722-.721-2.556 2.556-2.345-2.345-.722.721 2.345 2.346-2.556 2.556.721.722 2.557-2.557 2.768 2.768.721-.722-2.768-2.767zm-2.513-3.999A4.067 4.067 0 0 0 10.148 7.5l-.794.794c.448.142.869.39 1.223.745a3.054 3.054 0 0 1 .758 3.055h1.058zm-2.204 3.104l-1.049 1.05c-1.609 1.608-4.208 1.62-5.8.028-1.595-1.595-1.584-4.188.028-5.8l1.406-1.406.721.722-1.405 1.405c-1.21 1.21-1.216 3.154-.02 4.35 1.192 1.192 3.142 1.186 4.349-.021l1.77-1.771v1.443z"/></g></svg>'},function(r){r.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6 16v1h10v-1H6zM6 4v1h12V4H6zm0 6v1h11v-1H6zM1 4.5C1 3.672 1.666 3 2.5 3 3.328 3 4 3.666 4 4.5 4 5.328 3.334 6 2.5 6 1.672 6 1 5.334 1 4.5zm0 6C1 9.672 1.666 9 2.5 9c.828 0 1.5.666 1.5 1.5 0 .828-.666 1.5-1.5 1.5-.828 0-1.5-.666-1.5-1.5zm0 6c0-.828.666-1.5 1.5-1.5.828 0 1.5.666 1.5 1.5 0 .828-.666 1.5-1.5 1.5-.828 0-1.5-.666-1.5-1.5z" fill="#454545" fill-rule="evenodd"/></svg>'},function(r){r.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 17h10v-1H7v1zM6 4v1h13V4H6zm1 6v1h11v-1H7zM2 2.5c0 .277.223.5.5.5H3v3.5a.499.499 0 1 0 1 0v-4c0-.277-.223-.5-.5-.5h-1c-.277 0-.5.223-.5.5zM2.5 8a.499.499 0 1 0 0 1H4v1H2.5c-.277 0-.5.223-.5.5v2c0 .277.223.5.5.5h2a.499.499 0 1 0 0-1H3v-1h1.5a.46.46 0 0 0 .188-.031.45.45 0 0 0 .28-.281A.461.461 0 0 0 5 10.5v-2a.46.46 0 0 0-.031-.187.45.45 0 0 0-.282-.282.463.463 0 0 0-.125-.03H2.5V8zm2.352 10.853a.493.493 0 0 0 .148-.35v-4.005A.493.493 0 0 0 4.505 14h-2.01a.494.494 0 0 0-.495.5c0 .268.222.5.495.5H4v1H2.495a.494.494 0 0 0-.495.5c0 .268.222.5.495.5H4v1H2.495a.494.494 0 0 0-.495.5c0 .268.222.5.495.5h2.01a.49.49 0 0 0 .351-.146z" fill="#454545" fill-rule="evenodd"/></svg>'},function(r){r.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 16l1-3.982c-3.417 0-8.616.869-10 3.982 0-5.983 6.601-7.96 10-7.96 0-.85-1-3.32-1-4.04l8 6-8 6z" fill="#454545" fill-rule="evenodd"/></svg>'},function(r){r.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 10l8 6-1-3.982c3.417 0 8.616.869 10 3.982 0-5.983-6.601-7.96-10-7.96 0-.85 1-3.32 1-4.04l-8 6z" fill="#454545" fill-rule="evenodd"/></svg>'},function(r,u,s){var d=s(512);'string'==typeof d&&(d=[[r.i,d,'']]);s(33)(d,{});d.locals&&(r.exports=d.locals),!1},function(r,u,s){var d=s(513);'string'==typeof d&&(d=[[r.i,d,'']]);s(33)(d,{});d.locals&&(r.exports=d.locals),!1},function(r,u,s){var d=s(514);'string'==typeof d&&(d=[[r.i,d,'']]);s(33)(d,{});d.locals&&(r.exports=d.locals),!1},function(r,u,s){var d=s(515);'string'==typeof d&&(d=[[r.i,d,'']]);s(33)(d,{});d.locals&&(r.exports=d.locals),!1},function(r,u,s){var d=s(516);'string'==typeof d&&(d=[[r.i,d,'']]);s(33)(d,{});d.locals&&(r.exports=d.locals),!1},function(r,u,s){var d=s(517);'string'==typeof d&&(d=[[r.i,d,'']]);s(33)(d,{});d.locals&&(r.exports=d.locals),!1},function(r,u,s){var d=s(518);'string'==typeof d&&(d=[[r.i,d,'']]);s(33)(d,{});d.locals&&(r.exports=d.locals),!1},function(r,u,s){var d=s(519);'string'==typeof d&&(d=[[r.i,d,'']]);s(33)(d,{});d.locals&&(r.exports=d.locals),!1},function(r,u,s){var d=s(520);'string'==typeof d&&(d=[[r.i,d,'']]);s(33)(d,{});d.locals&&(r.exports=d.locals),!1},function(r,u,s){s(273),r.exports=s(274)}])});
//# sourceMappingURL=ckeditor.compat.js.map