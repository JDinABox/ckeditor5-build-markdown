var _NumberPOSITIVE_INFINITY=Number.POSITIVE_INFINITY,_Mathfloor=Math.floor,_Mathmax=Math.max,_Mathmin=Math.min;(function(o,u){if('object'==typeof exports&&'object'==typeof module)module.exports=u();else if('function'==typeof define&&define.amd)define([],u);else{var s=u();for(var d in s)('object'==typeof exports?exports:o)[d]=s[d]}})(this,function(){return function(r){function o(s){if(u[s])return u[s].exports;var d=u[s]={i:s,l:!1,exports:{}};return r[s].call(d.exports,d,d.exports,o),d.l=!0,d.exports}var u={};return o.m=r,o.c=u,o.i=function(s){return s},o.d=function(s,d,f){o.o(s,d)||Object.defineProperty(s,d,{configurable:!1,enumerable:!0,get:f})},o.n=function(s){var d=s&&s.__esModule?function(){return s['default']}:function(){return s};return o.d(d,'a',d),d},o.o=function(s,d){return Object.prototype.hasOwnProperty.call(s,d)},o.p='',o(o.s=529)}([function(r,o){'use strict';function s(w,M){if(!(w instanceof M))throw new TypeError('Cannot call a class as a function')}function d(w,M){if(!w)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return M&&('object'==typeof M||'function'==typeof M)?M:w}function f(w,M){if('function'!=typeof M&&null!==M)throw new TypeError('Super expression must either be null or a function, not '+typeof M);w.prototype=Object.create(M&&M.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(w,M):w.__proto__=M)}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */Object.defineProperty(o,'__esModule',{value:!0});var h=function(){function w(M,C){for(var O=0,S;O<C.length;O++)S=C[O],S.enumerable=S.enumerable||!1,S.configurable=!0,'value'in S&&(S.writable=!0),Object.defineProperty(M,S.key,S)}return function(M,C,O){return C&&w(M.prototype,C),O&&w(M,O),M}}(),P=function(w){function M(C,O){s(this,M),O&&(C+=' '+JSON.stringify(O));var S=d(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,C));return S.name='CKEditorError',S.data=O,S}return f(M,w),h(M,null,[{key:'isCKEditorError',value:function(O){return O instanceof M}}]),M}(Error);o.default=P},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}function d(F,N){if(!(F instanceof N))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function F(N,V){for(var L=0,D;L<V.length;L++)D=V[L],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}return function(N,V,L){return V&&F(N.prototype,V),L&&F(N,L),N}}(),h=u(34),P=s(h),w=u(19),M=s(w),C=u(51),O=s(C),S=u(0),T=s(S),E=u(24),I=s(E),R=function(){function F(N,V){if(d(this,F),!N.is('element')&&!N.is('documentFragment'))throw new T.default('model-position-root-invalid: Position root invalid.');if(!(V instanceof Array)||0===V.length)throw new T.default('model-position-path-incorrect: Position path must be an Array with at least one item.',{path:V});V=N.getPath().concat(V),N=N.root,this.root=N,this.path=V}return f(F,[{key:'compareWith',value:function(V){if(this.root!=V.root)return'different';var L=(0,O.default)(this.path,V.path);return'same'===L?'same':'prefix'===L?'before':'extension'===L?'after':this.path[L]<V.path[L]?'before':'after'}},{key:'getLastMatchingPosition',value:function(V){var L=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};L.startPosition=this;var D=new P.default(L);return D.skip(V),D.position}},{key:'getParentPath',value:function(){return this.path.slice(0,-1)}},{key:'getAncestors',value:function(){return this.parent.is('documentFragment')?[this.parent]:this.parent.getAncestors({includeNode:!0})}},{key:'getCommonPath',value:function(V){if(this.root!=V.root)return[];var L=(0,O.default)(this.path,V.path),D='string'==typeof L?_Mathmin(this.path.length,V.path.length):L;return this.path.slice(0,D)}},{key:'getShiftedBy',value:function(V){var L=F.createFromPosition(this),D=L.offset+V;return L.offset=0>D?0:D,L}},{key:'isAfter',value:function(V){return'after'==this.compareWith(V)}},{key:'isBefore',value:function(V){return'before'==this.compareWith(V)}},{key:'isEqual',value:function(V){return'same'==this.compareWith(V)}},{key:'isTouching',value:function(V){var L=null,D=null,q=this.compareWith(V);switch(q){case'same':return!0;case'before':L=F.createFromPosition(this),D=F.createFromPosition(V);break;case'after':L=F.createFromPosition(V),D=F.createFromPosition(this);break;default:return!1;}for(var z=L.parent;L.path.length+D.path.length;){if(L.isEqual(D))return!0;if(L.path.length>D.path.length){if(L.offset!==z.maxOffset)return!1;L.path=L.path.slice(0,-1),z=z.parent,L.offset++}else{if(0!==D.offset)return!1;D.path=D.path.slice(0,-1)}}}},{key:'_getTransformedByDeletion',value:function(V,L){var D=F.createFromPosition(this);if(this.root!=V.root)return D;if('same'==(0,O.default)(V.getParentPath(),this.getParentPath())){if(V.offset<this.offset){if(V.offset+L>this.offset)return null;D.offset-=L}}else if('prefix'==(0,O.default)(V.getParentPath(),this.getParentPath())){var q=V.path.length-1;if(V.offset<=this.path[q]){if(V.offset+L>this.path[q])return null;D.path[q]-=L}}return D}},{key:'_getTransformedByInsertion',value:function(V,L,D){var q=F.createFromPosition(this);if(this.root!=V.root)return q;if('same'==(0,O.default)(V.getParentPath(),this.getParentPath()))(V.offset<this.offset||V.offset==this.offset&&D)&&(q.offset+=L);else if('prefix'==(0,O.default)(V.getParentPath(),this.getParentPath())){var z=V.path.length-1;V.offset<=this.path[z]&&(q.path[z]+=L)}return q}},{key:'_getTransformedByMove',value:function(V,L,D,q,z){var $=this._getTransformedByDeletion(V,D);return L=L._getTransformedByDeletion(V,D),$=null===$||z&&$.isEqual(V)?this._getCombined(V,L):$._getTransformedByInsertion(L,D,q),$}},{key:'_getCombined',value:function(V,L){var D=V.path.length-1,q=F.createFromPosition(L);return q.offset=q.offset+this.path[D]-V.offset,q.path=q.path.concat(this.path.slice(D+1)),q}},{key:'offset',get:function(){return(0,M.default)(this.path)},set:function(V){this.path[this.path.length-1]=V}},{key:'parent',get:function(){for(var V=this.root,L=0;L<this.path.length-1;L++)V=V.getChild(V.offsetToIndex(this.path[L]));return V}},{key:'index',get:function(){return this.parent.offsetToIndex(this.offset)}},{key:'textNode',get:function(){var V=this.parent.getChild(this.index);return V instanceof I.default&&V.startOffset<this.offset?V:null}},{key:'nodeAfter',get:function(){return null===this.textNode?this.parent.getChild(this.index):null}},{key:'nodeBefore',get:function(){return null===this.textNode?this.parent.getChild(this.index-1):null}},{key:'isAtStart',get:function(){return 0===this.offset}},{key:'isAtEnd',get:function(){return this.offset==this.parent.maxOffset}}],[{key:'createAt',value:function(V,L){if(V instanceof F)return this.createFromPosition(V);var D=V;if('end'==L)L=D.maxOffset;else{if('before'==L)return this.createBefore(D);if('after'==L)return this.createAfter(D);L||(L=0)}return this.createFromParentAndOffset(D,L)}},{key:'createAfter',value:function(V){if(!V.parent)throw new T.default('model-position-after-root: You can not make position after root.',{root:V});return this.createFromParentAndOffset(V.parent,V.endOffset)}},{key:'createBefore',value:function(V){if(!V.parent)throw new T.default('model-position-before-root: You can not make position before root.',{root:V});return this.createFromParentAndOffset(V.parent,V.startOffset)}},{key:'createFromParentAndOffset',value:function(V,L){if(!V.is('element')&&!V.is('documentFragment'))throw new T.default('model-position-parent-incorrect: Position parent have to be a element or document fragment.');var D=V.getPath();return D.push(L),new this(V.root,D)}},{key:'createFromPosition',value:function(V){return new this(V.root,V.path.slice())}},{key:'fromJSON',value:function(V,L){if('$graveyard'===V.root)return new F(L.graveyard,V.path);if(!L.hasRoot(V.root))throw new T.default('model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.',{rootName:V.root});return new F(L.getRoot(V.root),V.path)}}]),F}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=R},function(r,o,u){'use strict';function s(E){return E&&E.__esModule?E:{default:E}}function d(E){if(Array.isArray(E)){for(var I=0,R=Array(E.length);I<E.length;I++)R[I]=E[I];return R}return Array.from(E)}function f(E,I){if(!(E instanceof I))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var h=function(){function E(I,R){for(var F=0,N;F<R.length;F++)N=R[F],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}return function(I,R,F){return R&&E(I.prototype,R),F&&E(I,F),I}}(),P=u(1),w=s(P),M=u(34),C=s(M),O=u(0),S=s(O),T=function(){function E(I){var R=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;f(this,E),this.start=w.default.createFromPosition(I),this.end=R?w.default.createFromPosition(R):w.default.createFromPosition(I)}return h(E,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function I(){return regeneratorRuntime.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.delegateYield(new C.default({boundaries:this,ignoreElementEnd:!0}),'t0',1);case 1:case'end':return F.stop();}},I,this)})},{key:'containsPosition',value:function(R){return R.isAfter(this.start)&&R.isBefore(this.end)}},{key:'containsRange',value:function(R){return this.containsPosition(R.start)&&this.containsPosition(R.end)}},{key:'isEqual',value:function(R){return this.start.isEqual(R.start)&&this.end.isEqual(R.end)}},{key:'isIntersecting',value:function(R){return this.start.isBefore(R.end)&&this.end.isAfter(R.start)}},{key:'getDifference',value:function(R){var F=[];return this.isIntersecting(R)?(this.containsPosition(R.start)&&F.push(new E(this.start,R.start)),this.containsPosition(R.end)&&F.push(new E(R.end,this.end))):F.push(E.createFromRange(this)),F}},{key:'getIntersection',value:function(R){if(this.isIntersecting(R)){var F=this.start,N=this.end;return this.containsPosition(R.start)&&(F=R.start),this.containsPosition(R.end)&&(N=R.end),new E(F,N)}return null}},{key:'getMinimalFlatRanges',value:function(){for(var R=[],F=this.start.getCommonPath(this.end).length,N=w.default.createFromPosition(this.start),V=N.parent,L;N.path.length>F+1;)L=V.maxOffset-N.offset,0!=L&&R.push(new E(N,N.getShiftedBy(L))),N.path=N.path.slice(0,-1),N.offset++,V=V.parent;for(;N.path.length<=this.end.path.length;){var D=this.end.path[N.path.length-1],q=D-N.offset;0!=q&&R.push(new E(N,N.getShiftedBy(q))),N.offset=D,N.path.push(0)}return R}},{key:'getWalker',value:function(){var R=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return R.boundaries=this,new C.default(R)}},{key:'getItems',value:regeneratorRuntime.mark(function I(){var R=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},F,N,V,L,D,q,z;return regeneratorRuntime.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:R.boundaries=this,R.ignoreElementEnd=!0,F=new C.default(R),N=!0,V=!1,L=void 0,W.prev=6,D=F[Symbol.iterator]();case 8:if(N=(q=D.next()).done){W.next=15;break}return z=q.value,W.next=12,z.item;case 12:N=!0,W.next=8;break;case 15:W.next=21;break;case 17:W.prev=17,W.t0=W['catch'](6),V=!0,L=W.t0;case 21:W.prev=21,W.prev=22,!N&&D.return&&D.return();case 24:if(W.prev=24,!V){W.next=27;break}throw L;case 27:return W.finish(24);case 28:return W.finish(21);case 29:case'end':return W.stop();}},I,this,[[6,17,21,29],[22,,24,28]])})},{key:'getPositions',value:regeneratorRuntime.mark(function I(){var R=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},F,N,V,L,D,q,z;return regeneratorRuntime.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return R.boundaries=this,F=new C.default(R),W.next=4,F.position;case 4:N=!0,V=!1,L=void 0,W.prev=7,D=F[Symbol.iterator]();case 9:if(N=(q=D.next()).done){W.next=16;break}return z=q.value,W.next=13,z.nextPosition;case 13:N=!0,W.next=9;break;case 16:W.next=22;break;case 18:W.prev=18,W.t0=W['catch'](7),V=!0,L=W.t0;case 22:W.prev=22,W.prev=23,!N&&D.return&&D.return();case 25:if(W.prev=25,!V){W.next=28;break}throw L;case 28:return W.finish(25);case 29:return W.finish(22);case 30:case'end':return W.stop();}},I,this,[[7,18,22,30],[23,,25,29]])})},{key:'getTransformedByDelta',value:function(R){var F=[E.createFromRange(this)],N=new Set(['insert','move','remove','reinsert']),V=!0,L=!1,D;try{for(var q=R.operations[Symbol.iterator](),z,$;!(V=(z=q.next()).done);V=!0)if($=z.value,N.has($.type))for(var W=0,K;W<F.length;W++)K=F[W]._getTransformedByDocumentChange($.type,R.type,$.targetPosition||$.position,$.howMany||$.nodes.maxOffset,$.sourcePosition),F.splice.apply(F,[W,1].concat(d(K))),W+=K.length-1}catch(H){L=!0,D=H}finally{try{!V&&q.return&&q.return()}finally{if(L)throw D}}return F}},{key:'getTransformedByDeltas',value:function(R){var F=[E.createFromRange(this)],N=!0,V=!1,L;try{for(var D=R[Symbol.iterator](),q,z;!(N=(q=D.next()).done);N=!0){z=q.value;for(var $=0,W;$<F.length;$++)W=F[$].getTransformedByDelta(z),F.splice.apply(F,[$,1].concat(d(W))),$+=W.length-1}}catch(J){V=!0,L=J}finally{try{!N&&D.return&&D.return()}finally{if(V)throw L}}for(var K=0,H;K<F.length;K++){H=F[K];for(var U=K+1,G;U<F.length;U++)G=F[U],(H.containsRange(G)||G.containsRange(H)||H.isEqual(G))&&F.splice(U,1)}return F}},{key:'_getTransformedByDocumentChange',value:function(R,F,N,V,L){if('insert'==R)return this._getTransformedByInsertion(N,V,!1,!1);var D=E.createFromPositionAndShift(L,V);if('merge'==F&&this.isCollapsed&&(this.start.isEqual(D.start)||this.start.isEqual(D.end)))return[new E(N.getShiftedBy(this.start.offset))];if('move'==R){if(D.containsPosition(this.start)&&this.containsPosition(D.end)&&this.end.isAfter(N)){var q=this.start._getCombined(L,N._getTransformedByDeletion(L,V)),z=this.end._getTransformedByMove(L,N,V,!1,!1);return[new E(q,z)]}if(D.containsPosition(this.end)&&this.containsPosition(D.start)&&this.start.isBefore(N)){var $=this.start._getTransformedByMove(L,N,V,!0,!1),W=this.end._getCombined(L,N._getTransformedByDeletion(L,V));return[new E($,W)]}}return this._getTransformedByMove(L,N,V)}},{key:'_getTransformedByInsertion',value:function(R,F){var N=2<arguments.length&&void 0!==arguments[2]&&arguments[2],V=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(N&&this.containsPosition(R))return[new E(this.start,R),new E(R._getTransformedByInsertion(R,F,!0),this.end._getTransformedByInsertion(R,F,this.isCollapsed))];var L=E.createFromRange(this),D=!!L.isCollapsed||!V,q=!!L.isCollapsed||V;return L.start=L.start._getTransformedByInsertion(R,F,D),L.end=L.end._getTransformedByInsertion(R,F,q),[L]}},{key:'_getTransformedByMove',value:function(R,F,N){if(this.isCollapsed){var V=this.start._getTransformedByMove(R,F,N,!0,!1);return[new E(V)]}var D=new E(R,R.getShiftedBy(N)),q=this.getDifference(D),z=null,$=this.getIntersection(D),L;1==q.length?z=new E(q[0].start._getTransformedByDeletion(R,N),q[0].end._getTransformedByDeletion(R,N)):2==q.length&&(z=new E(this.start,this.end._getTransformedByDeletion(R,N)));var W=F._getTransformedByDeletion(R,N);return L=z?z._getTransformedByInsertion(W,N,null!==$):[],$&&L.push(new E($.start._getCombined(D.start,W),$.end._getCombined(D.start,W))),L}},{key:'isCollapsed',get:function(){return this.start.isEqual(this.end)}},{key:'isFlat',get:function(){return this.start.parent===this.end.parent}},{key:'root',get:function(){return this.start.root}}],[{key:'createFromPositionAndShift',value:function(R,F){var N=R,V=R.getShiftedBy(F);return 0<F?new this(N,V):new this(V,N)}},{key:'createFromParentsAndOffsets',value:function(R,F,N,V){return new this(w.default.createFromParentAndOffset(R,F),w.default.createFromParentAndOffset(N,V))}},{key:'createFromRange',value:function(R){return new this(R.start,R.end)}},{key:'createIn',value:function(R){return this.createFromParentsAndOffsets(R,0,R,R.maxOffset)}},{key:'createOn',value:function(R){return this.createFromPositionAndShift(w.default.createBefore(R),R.offsetSize)}},{key:'createFromRanges',value:function(R){if(0===R.length)throw new S.default('range-create-from-ranges-empty-array: At least one range has to be passed.');else if(1==R.length)return this.createFromRange(R[0]);var F=R[0];R.sort(function(q,z){return q.start.isAfter(z.start)});for(var N=R.indexOf(F),V=new this(F.start,F.end),L=N-1;0<=L&&R[L].end.isEqual(V.start);L++)V.start=w.default.createFromPosition(R[L].start);for(var D=N+1;D<R.length&&R[D].start.isEqual(V.end);D++)V.end=w.default.createFromPosition(R[D].end);return V}},{key:'fromJSON',value:function(R,F){return new this(w.default.fromJSON(R.start,F),w.default.fromJSON(R.end,F))}}]),E}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=T},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}function d(O,S){if(!(O instanceof S))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function O(S,T){for(var E=0,I;E<T.length;E++)I=T[E],I.enumerable=I.enumerable||!1,I.configurable=!0,'value'in I&&(I.writable=!0),Object.defineProperty(S,I.key,I)}return function(S,T,E){return T&&O(S.prototype,T),E&&O(S,E),S}}(),h=u(32),P=s(h),w=u(4),M=s(w),C=function(){function O(S){d(this,O),this.editor=S}return f(O,[{key:'init',value:function(){}},{key:'afterInit',value:function(){}},{key:'destroy',value:function(){}}]),O}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=C,(0,M.default)(C,P.default)},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(d){for(var f=arguments.length,h=Array(1<f?f-1:0),P=1;P<f;P++)h[P-1]=arguments[P];h.forEach(function(w){Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w)).forEach(function(M){if(!(M in d.prototype)){var C=Object.getOwnPropertyDescriptor(w,M);C.enumerable=!1,Object.defineProperty(d.prototype,M,C)}})})}},function(r,o,u){'use strict';function s(V){return V&&V.__esModule?V:{default:V}}function d(V,L){if(!(V instanceof L))throw new TypeError('Cannot call a class as a function')}function f(V,L){if(!V)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:V}function h(V,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);V.prototype=Object.create(L&&L.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(V,L):V.__proto__=L)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(V){return'string'==typeof V?[new I.default(V)]:((0,F.default)(V)||(V=[V]),Array.from(V).map(function(L){return'string'==typeof L?new I.default(L):L}))}Object.defineProperty(o,'__esModule',{value:!0});var w=function(){function V(L,D){for(var q=0,z;q<D.length;q++)z=D[q],z.enumerable=z.enumerable||!1,z.configurable=!0,'value'in z&&(z.writable=!0),Object.defineProperty(L,z.key,z)}return function(L,D,q){return D&&V(L.prototype,D),q&&V(L,q),L}}(),M=function V(L,D,q){null===L&&(L=Function.prototype);var z=Object.getOwnPropertyDescriptor(L,D);if(z===void 0){var $=Object.getPrototypeOf(L);return null===$?void 0:V($,D,q)}if('value'in z)return z.value;var W=z.get;return void 0===W?void 0:W.call(q)},C=u(59),O=s(C),S=u(71),T=s(S),E=u(24),I=s(E),R=u(41),F=s(R),N=function(V){function L(D,q,z){d(this,L);var $=f(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,q));return $.name=D,$._children=new T.default,z&&$.insertChildren(0,z),$}return h(L,V),w(L,[{key:'is',value:function(q){var z=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return z?'element'==q&&z==this.name:'element'==q||q==this.name}},{key:'getChild',value:function(q){return this._children.getNode(q)}},{key:'getChildren',value:function(){return this._children[Symbol.iterator]()}},{key:'getChildIndex',value:function(q){return this._children.getNodeIndex(q)}},{key:'getChildStartOffset',value:function(q){return this._children.getNodeStartOffset(q)}},{key:'clone',value:function(){var q=0<arguments.length&&void 0!==arguments[0]&&arguments[0],z=q?Array.from(this._children).map(function($){return $.clone()}):Array.from(this._children);return new L(this.name,this.getAttributes(),z)}},{key:'offsetToIndex',value:function(q){return this._children.offsetToIndex(q)}},{key:'appendChildren',value:function(q){this.insertChildren(this.childCount,q)}},{key:'insertChildren',value:function(q,z){z=P(z);var $=!0,W=!1,K;try{for(var H=z[Symbol.iterator](),U,G;!($=(U=H.next()).done);$=!0)G=U.value,G.parent=this}catch(J){W=!0,K=J}finally{try{!$&&H.return&&H.return()}finally{if(W)throw K}}this._children.insertNodes(q,z)}},{key:'removeChildren',value:function(q){var z=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,$=this._children.removeNodes(q,z),W=!0,K=!1,H;try{for(var U=$[Symbol.iterator](),G,J;!(W=(G=U.next()).done);W=!0)J=G.value,J.parent=null}catch(Z){K=!0,H=Z}finally{try{!W&&U.return&&U.return()}finally{if(K)throw H}}return $}},{key:'getNodeByPath',value:function(q){var z=this,$=!0,W=!1,K;try{for(var H=q[Symbol.iterator](),U,G;!($=(U=H.next()).done);$=!0)G=U.value,z=z.getChild(G)}catch(J){W=!0,K=J}finally{try{!$&&H.return&&H.return()}finally{if(W)throw K}}return z}},{key:'toJSON',value:function(){var q=M(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),'toJSON',this).call(this);if(q.name=this.name,0<this._children.length){q.children=[];var z=!0,$=!1,W;try{for(var K=this._children[Symbol.iterator](),H,U;!(z=(H=K.next()).done);z=!0)U=H.value,q.children.push(U.toJSON())}catch(G){$=!0,W=G}finally{try{!z&&K.return&&K.return()}finally{if($)throw W}}}return q}},{key:'childCount',get:function(){return this._children.length}},{key:'maxOffset',get:function(){return this._children.maxOffset}},{key:'isEmpty',get:function(){return 0===this.childCount}}],[{key:'fromJSON',value:function(q){var z=null;if(q.children){z=[];var $=!0,W=!1,K;try{for(var H=q.children[Symbol.iterator](),U,G;!($=(U=H.next()).done);$=!0)G=U.value,G.name?z.push(L.fromJSON(G)):z.push(I.default.fromJSON(G))}catch(J){W=!0,K=J}finally{try{!$&&H.return&&H.return()}finally{if(W)throw K}}}return new L(q.name,q.attributes,z)}}]),L}(O.default);o.default=N},function(r,o,u){'use strict';function s(xe){return xe&&xe.__esModule?xe:{default:xe}}function d(xe){if(Array.isArray(xe)){for(var Me=0,Ce=Array(xe.length);Me<xe.length;Me++)Ce[Me]=xe[Me];return Ce}return Array.from(xe)}function f(xe,Me){if(!xe)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return Me&&('object'==typeof Me||'function'==typeof Me)?Me:xe}function h(xe,Me){if('function'!=typeof Me&&null!==Me)throw new TypeError('Super expression must either be null or a function, not '+typeof Me);xe.prototype=Object.create(Me&&Me.prototype,{constructor:{value:xe,enumerable:!1,writable:!0,configurable:!0}}),Me&&(Object.setPrototypeOf?Object.setPrototypeOf(xe,Me):xe.__proto__=Me)}function P(xe,Me){if(!(xe instanceof Me))throw new TypeError('Cannot call a class as a function')}function w(xe){return!!xe&&((xe.value&&(xe=xe.value),Array.isArray(xe))?xe.some(w):!!(xe instanceof ke))}function M(xe,Me){return xe.map(function(Ce){return Ce instanceof ke?Ce.getValue(Me):Ce})}function C(xe,Me,Ce){var Oe=Ce.node,Se=M(xe,Oe);Se=1==xe.length&&xe[0]instanceof we?Se[0]:Se.reduce(D,''),$(Se)?Me.remove():Me.set(Se)}function O(xe){return{set:function(Ce){xe.textContent=Ce},remove:function(){xe.textContent=''}}}function S(xe,Me,Ce){return{set:function(Se){xe.setAttributeNS(Ce,Me,Se)},remove:function(){xe.removeAttributeNS(Ce,Me)}}}function T(xe,Me){return{set:function(Oe){xe.style[Me]=Oe},remove:function(){xe.style[Me]=null}}}function E(xe){var Me=(0,pe.default)(xe,function(Ce){if(Ce&&(Ce instanceof ke||K(Ce)||W(Ce)||H(Ce)))return Ce});return Me}function I(xe){if('string'==typeof xe?xe=N(xe):xe.text&&V(xe),xe.on&&(xe.eventListeners=F(xe.on),delete xe.on),!xe.text){xe.attributes&&R(xe.attributes);var Me=new le.default;if(xe.children)if(H(xe.children))Me.add(xe.children);else{var Ce=!0,Oe=!1,Se;try{for(var Te=xe.children[Symbol.iterator](),Ae,Ee;!(Ce=(Ae=Te.next()).done);Ce=!0)Ee=Ae.value,K(Ee)||W(Ee)?Me.add(Ee):Me.add(new ve(Ee))}catch(Ie){Oe=!0,Se=Ie}finally{try{!Ce&&Te.return&&Te.return()}finally{if(Oe)throw Se}}}xe.children=Me}return xe}function R(xe){for(var Me in xe)xe[Me].value&&(xe[Me].value=[].concat(xe[Me].value)),L(xe,Me)}function F(xe){for(var Me in xe)L(xe,Me);return xe}function N(xe){return{text:[xe]}}function V(xe){Array.isArray(xe.text)||(xe.text=[xe.text])}function L(xe,Me){Array.isArray(xe[Me])||(xe[Me]=[xe[Me]])}function D(xe,Me){return $(Me)?xe:$(xe)?Me:xe+' '+Me}function q(xe,Me){for(var Ce in Me)if(xe[Ce]){var Oe;(Oe=xe[Ce]).push.apply(Oe,d(Me[Ce]))}else xe[Ce]=Me[Ce]}function z(xe,Me){if(Me.attributes&&(!xe.attributes&&(xe.attributes={}),q(xe.attributes,Me.attributes)),Me.eventListeners&&(!xe.eventListeners&&(xe.eventListeners={}),q(xe.eventListeners,Me.eventListeners)),Me.text){var Ce;(Ce=xe.text).push.apply(Ce,d(Me.text))}if(Me.children&&Me.children.length){if(xe.children.length!=Me.children.length)throw new X.default('ui-template-extend-children-mismatch: The number of children in extended definition does not match.');var Oe=0,Se=!0,Te=!1,Ae;try{for(var Ee=Me.children[Symbol.iterator](),Ie,Re;!(Se=(Ie=Ee.next()).done);Se=!0)Re=Ie.value,z(xe.children.get(Oe++),Re)}catch(Fe){Te=!0,Ae=Fe}finally{try{!Se&&Ee.return&&Ee.return()}finally{if(Te)throw Ae}}}}function $(xe){return!xe&&0!==xe}function W(xe){return xe instanceof ie.default}function K(xe){return xe instanceof ve}function H(xe){return xe instanceof fe.default}function U(){return{children:[],bindings:[],attributes:{}}}function G(xe){return'class'==xe||'style'==xe}Object.defineProperty(o,'__esModule',{value:!0}),o.TemplateIfBinding=o.TemplateToBinding=o.TemplateBinding=void 0;var J=function xe(Me,Ce,Oe){null===Me&&(Me=Function.prototype);var Se=Object.getOwnPropertyDescriptor(Me,Ce);if(Se===void 0){var Te=Object.getPrototypeOf(Me);return null===Te?void 0:xe(Te,Ce,Oe)}if('value'in Se)return Se.value;var Ae=Se.get;return void 0===Ae?void 0:Ae.call(Oe)},Z=function(){function xe(Me,Ce){var Oe=[],Se=!0,Te=!1,Ae;try{for(var Ee=Me[Symbol.iterator](),Ie;!(Se=(Ie=Ee.next()).done)&&(Oe.push(Ie.value),!(Ce&&Oe.length===Ce));Se=!0);}catch(Re){Te=!0,Ae=Re}finally{try{!Se&&Ee['return']&&Ee['return']()}finally{if(Te)throw Ae}}return Oe}return function(Me,Ce){if(Array.isArray(Me))return Me;if(Symbol.iterator in Object(Me))return xe(Me,Ce);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),Y=function(){function xe(Me,Ce){for(var Oe=0,Se;Oe<Ce.length;Oe++)Se=Ce[Oe],Se.enumerable=Se.enumerable||!1,Se.configurable=!0,'value'in Se&&(Se.writable=!0),Object.defineProperty(Me,Se.key,Se)}return function(Me,Ce,Oe){return Ce&&xe(Me.prototype,Ce),Oe&&xe(Me,Oe),Me}}(),Q=u(0),X=s(Q),ee=u(4),te=s(ee),re=u(7),ae=s(re),oe=u(79),le=s(oe),ue=u(9),ie=s(ue),de=u(121),fe=s(de),ce=u(484),pe=s(ce),ge=u(14),me=s(ge),ye=u(57),be=s(ye),ve=function(){function xe(Me){P(this,xe),Object.assign(this,I(E(Me))),this._isRendered=!1,this._revertData=null}return Y(xe,[{key:'render',value:function(){var Ce=this._renderNode({intoFragment:!0});return this._isRendered=!0,Ce}},{key:'apply',value:function(Ce){return this._revertData=U(),this._renderNode({node:Ce,isApplying:!0,revertData:this._revertData}),Ce}},{key:'revert',value:function(Ce){if(!this._revertData)throw new X.default('ui-template-revert-not-applied: Attempting reverting a template which has not been applied yet.');this._revertTemplateFromNode(Ce,this._revertData)}},{key:'_renderNode',value:function(Ce){var Oe;if(Oe=Ce.node?this.tag&&this.text:this.tag?this.text:!this.text,Oe)throw new X.default('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering new Node.');return this.text?this._renderText(Ce):this._renderElement(Ce)}},{key:'_renderElement',value:function(Ce){var Oe=Ce.node;return Oe||(Oe=Ce.node=document.createElementNS(this.ns||'http://www.w3.org/1999/xhtml',this.tag)),this._renderAttributes(Ce),this._renderElementChildren(Ce),this._setUpListeners(Ce),Oe}},{key:'_renderText',value:function(Ce){var Oe=Ce.node;return Oe?Ce.revertData.text=Oe.textContent:Oe=Ce.node=document.createTextNode(''),w(this.text)?this._bindToObservable({schema:this.text,updater:O(Oe),data:Ce}):Oe.textContent=this.text.join(''),Oe}},{key:'_renderAttributes',value:function(Ce){var Oe=void 0,Se,Te,Ae;if(this.attributes){var Ee=Ce.node,Ie=Ce.revertData;for(Oe in this.attributes)if(Te=Ee.getAttribute(Oe),Se=this.attributes[Oe],Ie&&(Ie.attributes[Oe]=Te),Ae=(0,me.default)(Se[0])&&Se[0].ns?Se[0].ns:null,w(Se)){var Re=Ae?Se[0].value:Se;Ie&&G(Oe)&&Re.unshift(Te),this._bindToObservable({schema:Re,updater:S(Ee,Oe,Ae),data:Ce})}else'style'==Oe&&'string'!=typeof Se[0]?this._renderStyleAttribute(Se[0],Ce):(Ie&&Te&&G(Oe)&&Se.unshift(Te),Se=Se.map(function(Fe){return Fe?Fe.value||Fe:Fe}).reduce(function(Fe,Ne){return Fe.concat(Ne)},[]).reduce(D,''),$(Se)||Ee.setAttributeNS(Ae,Oe,Se))}}},{key:'_renderStyleAttribute',value:function(Ce,Oe){var Se=Oe.node;for(var Te in Ce){var Ae=Ce[Te];w(Ae)?this._bindToObservable({schema:[Ae],updater:T(Se,Te),data:Oe}):Se.style[Te]=Ae}}},{key:'_renderElementChildren',value:function(Ce){var Oe=Ce.node,Se=Ce.intoFragment?document.createDocumentFragment():Oe,Te=Ce.isApplying,Ae=0,Ee=!0,Ie=!1,Re;try{for(var Fe=this.children[Symbol.iterator](),Ne,Ve;!(Ee=(Ne=Fe.next()).done);Ee=!0)if(Ve=Ne.value,H(Ve)){if(!Te){Ve.setParent(Oe);var Le=!0,Be=!1,De=void 0;try{for(var je=Ve[Symbol.iterator](),qe,ze;!(Le=(qe=je.next()).done);Le=!0)ze=qe.value,Se.appendChild(ze.element)}catch(Ke){Be=!0,De=Ke}finally{try{!Le&&je.return&&je.return()}finally{if(Be)throw De}}}}else if(W(Ve))Te||Se.appendChild(Ve.element);else if(Te){var $e=Ce.revertData,We=U();$e.children.push(We),Ve._renderNode({node:Se.childNodes[Ae++],isApplying:!0,revertData:We})}else Se.appendChild(Ve.render())}catch(Ke){Ie=!0,Re=Ke}finally{try{!Ee&&Fe.return&&Fe.return()}finally{if(Ie)throw Re}}Ce.intoFragment&&Oe.appendChild(Se)}},{key:'_setUpListeners',value:function(Ce){var Oe=this;if(this.eventListeners){var Se=function(Ee){var Ie=Oe.eventListeners[Ee].map(function(Re){var Fe=Ee.split('@'),Ne=Z(Fe,2),Ve=Ne[0],Le=Ne[1];return Re.activateDomEventListener(Ve,Le,Ce)});Ce.revertData&&Ce.revertData.bindings.push(Ie)};for(var Te in this.eventListeners)Se(Te)}}},{key:'_bindToObservable',value:function(Ce){var Oe=Ce.schema,Se=Ce.updater,Te=Ce.data,Ae=Te.revertData;C(Oe,Se,Te);var Ee=Oe.filter(function(Ie){return!$(Ie)}).filter(function(Ie){return Ie.observable}).map(function(Ie){return Ie.activateAttributeListener(Oe,Se,Te)});Ae&&Ae.bindings.push(Ee)}},{key:'_revertTemplateFromNode',value:function(Ce,Oe){var Se=!0,Te=!1,Ae;try{for(var Ee=Oe.bindings[Symbol.iterator](),Ie;!(Se=(Ie=Ee.next()).done);Se=!0){var Re=Ie.value,Fe=!0,Ne=!1,Ve=void 0;try{for(var Le=Re[Symbol.iterator](),Be,De;!(Fe=(Be=Le.next()).done);Fe=!0)De=Be.value,De()}catch($e){Ne=!0,Ve=$e}finally{try{!Fe&&Le.return&&Le.return()}finally{if(Ne)throw Ve}}}}catch($e){Te=!0,Ae=$e}finally{try{!Se&&Ee.return&&Ee.return()}finally{if(Te)throw Ae}}if(Oe.text)return void(Ce.textContent=Oe.text);for(var je in Oe.attributes){var qe=Oe.attributes[je];null===qe?Ce.removeAttribute(je):Ce.setAttribute(je,qe)}for(var ze=0;ze<Oe.children.length;++ze)this._revertTemplateFromNode(Ce.childNodes[ze],Oe.children[ze])}}],[{key:'bind',value:function(Ce,Oe){return{to:function(Te,Ae){return new Pe({eventNameOrFunction:Te,attribute:Te,observable:Ce,emitter:Oe,callback:Ae})},if:function(Te,Ae,Ee){return new we({observable:Ce,emitter:Oe,attribute:Te,valueIfTrue:Ae,callback:Ee})}}}},{key:'extend',value:function(Ce,Oe){Ce._isRendered&&be.default.warn('template-extend-render: Attempting to extend a template which has already been rendered.'),z(Ce,I(E(Oe)))}}]),xe}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=ve,(0,te.default)(ve,ae.default);var ke=o.TemplateBinding=function(){function xe(Me){P(this,xe),Object.assign(this,Me)}return Y(xe,[{key:'getValue',value:function(Ce){var Oe=this.observable[this.attribute];return this.callback?this.callback(Oe,Ce):Oe}},{key:'activateAttributeListener',value:function(Ce,Oe,Se){var Te=this,Ae=function(){return C(Ce,Oe,Se)};return this.emitter.listenTo(this.observable,'change:'+this.attribute,Ae),function(){Te.emitter.stopListening(Te.observable,'change:'+Te.attribute,Ae)}}}]),xe}(),Pe=o.TemplateToBinding=function(xe){function Me(){return P(this,Me),f(this,(Me.__proto__||Object.getPrototypeOf(Me)).apply(this,arguments))}return h(Me,xe),Y(Me,[{key:'activateDomEventListener',value:function(Oe,Se,Te){var Ae=this,Ee=function(Re,Fe){(!Se||Fe.target.matches(Se))&&('function'==typeof Ae.eventNameOrFunction?Ae.eventNameOrFunction(Fe):Ae.observable.fire(Ae.eventNameOrFunction,Fe))};return this.emitter.listenTo(Te.node,Oe,Ee),function(){Ae.emitter.stopListening(Te.node,Oe,Ee)}}}]),Me}(ke),we=o.TemplateIfBinding=function(xe){function Me(){return P(this,Me),f(this,(Me.__proto__||Object.getPrototypeOf(Me)).apply(this,arguments))}return h(Me,xe),Y(Me,[{key:'getValue',value:function(Oe){var Se=J(Me.prototype.__proto__||Object.getPrototypeOf(Me.prototype),'getValue',this).call(this,Oe);return!$(Se)&&(this.valueIfTrue||!0)}}]),Me}(ke)},function(r,o,u){'use strict';function s($){return $&&$.__esModule?$:{default:$}}function d($){if(Array.isArray($)){for(var W=0,K=Array($.length);W<$.length;W++)K[W]=$[W];return K}return Array.from($)}/**
                                                                                                                                                                                                     * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                     * For licensing, see LICENSE.md.
                                                                                                                                                                                                     */function h($,W){$[q]||($[q]=W||(0,N.default)())}function P($){return $[q]}function w($){return $._events||Object.defineProperty($,'_events',{value:{}}),$._events}function M(){return{callbacks:[],childEvents:[]}}function C($,W){var K=w($);if(!K[W]){for(var H=W,U=null,G=[];''!==H&&!K[H];)K[H]=M(),G.push(K[H]),U&&K[H].childEvents.push(U),U=H,H=H.substr(0,H.lastIndexOf(':'));if(''!==H){var J=!0,Z=!1,Y;try{for(var Q=G[Symbol.iterator](),X,ee;!(J=(X=Q.next()).done);J=!0)ee=X.value,ee.callbacks=K[H].callbacks.slice()}catch(te){Z=!0,Y=te}finally{try{!J&&Q.return&&Q.return()}finally{if(Z)throw Y}}K[H].childEvents.push(U)}}}function O($,W){var K=w($)[W];if(!K)return[];for(var H=[K.callbacks],U=0,G;U<K.childEvents.length;U++)G=O($,K.childEvents[U]),H=H.concat(G);return H}function S($,W){var K;return $._events&&(K=$._events[W])&&K.callbacks.length?K.callbacks:-1<W.indexOf(':')?S($,W.substr(0,W.lastIndexOf(':'))):null}function T($,W,K){var H=!0,U=!1,G;try{for(var J=$[Symbol.iterator](),Z;!(H=(Z=J.next()).done);H=!0){var Y=Z.value,Q=E(Y,2),X=Q[0],ee=Q[1];ee?'function'==typeof ee&&(ee=ee(W.name)):ee=W.name;var te=new R.default(W.source,ee);te.path=[].concat(d(W.path)),X.fire.apply(X,[te].concat(d(K)))}}catch(re){U=!0,G=re}finally{try{!H&&J.return&&J.return()}finally{if(U)throw G}}}Object.defineProperty(o,'__esModule',{value:!0});var E=function(){function $(W,K){var H=[],U=!0,G=!1,J;try{for(var Z=W[Symbol.iterator](),Y;!(U=(Y=Z.next()).done)&&(H.push(Y.value),!(K&&H.length===K));U=!0);}catch(Q){G=!0,J=Q}finally{try{!U&&Z['return']&&Z['return']()}finally{if(G)throw J}}return H}return function(W,K){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return $(W,K);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();o._getEmitterListenedTo=function($,W){return $[D]&&$[D][W]?$[D][W].emitter:null},o._setEmitterId=h,o._getEmitterId=P;var I=u(402),R=s(I),F=u(70),N=s(F),V=u(503),L=s(V),D=Symbol('listeningTo'),q=Symbol('emitterId');o.default={on:function(W,K){var H=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};C(this,W);var U=O(this,W),G=L.default.get(H.priority);K={callback:K,context:H.context||this,priority:G};var J=!0,Z=!1,Y;try{for(var Q=U[Symbol.iterator](),X;!(J=(X=Q.next()).done);J=!0){for(var ee=X.value,te=!1,re=0;re<ee.length;re++)if(ee[re].priority<G){ee.splice(re,0,K),te=!0;break}te||ee.push(K)}}catch(ae){Z=!0,Y=ae}finally{try{!J&&Q.return&&Q.return()}finally{if(Z)throw Y}}},once:function(W,K,H){this.on(W,function(J){J.off(),K.apply(this,arguments)},H)},off:function(W,K,H){var U=O(this,W),G=!0,J=!1,Z;try{for(var Y=U[Symbol.iterator](),Q,X;!(G=(Q=Y.next()).done);G=!0){X=Q.value;for(var ee=0;ee<X.length;ee++)X[ee].callback==K&&(H&&H!=X[ee].context||(X.splice(ee,1),ee--))}}catch(te){J=!0,Z=te}finally{try{!G&&Y.return&&Y.return()}finally{if(J)throw Z}}},listenTo:function(W,K,H,U){var G,J,Z,Y;this[D]||(this[D]={}),G=this[D],P(W)||h(W),J=P(W),(Z=G[J])||(Z=G[J]={emitter:W,callbacks:{}}),(Y=Z.callbacks[K])||(Y=Z.callbacks[K]=[]),Y.push(H),W.on(K,H,U)},stopListening:function(W,K,H){var U=this[D],G=W&&P(W),J=U&&G&&U[G],Z=J&&K&&J.callbacks[K];if(U&&(!W||J)&&(!K||Z))if(H)W.off(K,H);else if(Z){for(;H=Z.pop();)W.off(K,H);delete J.callbacks[K]}else if(J){for(K in J.callbacks)this.stopListening(W,K);delete U[G]}else{for(G in U)this.stopListening(U[G].emitter);delete this[D]}},fire:function(W){var K=W instanceof R.default?W:new R.default(this,W),H=K.name,U=S(this,H);K.path.push(this);for(var G=arguments.length,J=Array(1<G?G-1:0),Z=1;Z<G;Z++)J[Z-1]=arguments[Z];if(U){var Y=[K].concat(d(J));U=Array.from(U);for(var Q=0;Q<U.length&&(U[Q].callback.apply(U[Q].context,Y),K.off.called&&(delete K.off.called,this.off(H,U[Q].callback,U[Q].context)),!K.stop.called);Q++);}if(this._delegations){var X=this._delegations.get(H),ee=this._delegations.get('*');X&&T(X,K,J),ee&&T(ee,K,J)}},delegate:function(){for(var W=this,K=arguments.length,H=Array(K),U=0;U<K;U++)H[U]=arguments[U];return{to:function(J,Z){W._delegations||(W._delegations=new Map);var Y=!0,Q=!1,X;try{for(var ee=H[Symbol.iterator](),te;!(Y=(te=ee.next()).done);Y=!0){var re=te.value,ae=W._delegations.get(re);ae?ae.set(J,Z):W._delegations.set(re,new Map([[J,Z]]))}}catch(oe){Q=!0,X=oe}finally{try{!Y&&ee.return&&ee.return()}finally{if(Q)throw X}}}}},stopDelegating:function(W,K){if(this._delegations)if(!W)this._delegations.clear();else if(!K)this._delegations.delete(W);else{var H=this._delegations.get(W);H&&H.delete(K)}}}},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(196),h=s(f),P=u(15),w=s(P),C=_Mathmax;o.default=function(O,S){if('function'!=typeof O)throw new TypeError('Expected a function');return S=C(void 0===S?O.length-1:(0,w.default)(S),0),function(){for(var T=arguments,E=-1,I=C(T.length-S,0),R=Array(I);++E<I;)R[E]=T[S+E];switch(S){case 0:return O.call(this,R);case 1:return O.call(this,T[0],R);case 2:return O.call(this,T[0],T[1],R);}var F=Array(S+1);for(E=-1;++E<S;)F[E]=T[E];return F[S]=R,(0,h.default)(O,this,F)}}},function(r,o,u){'use strict';function s(z){return z&&z.__esModule?z:{default:z}}function d(z,$){if(!(z instanceof $))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function z($,W){for(var K=0,H;K<W.length;K++)H=W[K],H.enumerable=H.enumerable||!1,H.configurable=!0,'value'in H&&(H.writable=!0),Object.defineProperty($,H.key,H)}return function($,W,K){return W&&z($.prototype,W),K&&z($,K),$}}(),h=u(0),P=s(h),w=u(121),M=s(w),C=u(6),O=s(C),S=u(80),T=s(S),E=u(32),I=s(E),R=u(79),F=s(R),N=u(4),V=s(N),L=u(41),D=s(L),q=function(){function z($){d(this,z),this.locale=$,this.t=$&&$.t,this.set('ready',!1),this._viewCollections=new F.default,this._unboundChildren=this.createCollection(),this._viewCollections.on('add',function(W,K){K.locale=$})}return f(z,[{key:'createCollection',value:function(){var W=new M.default;return this._viewCollections.add(W),W}},{key:'addChildren',value:function(W){(0,D.default)(W)||(W=[W]);var K=!0,H=!1,U;try{for(var G=W[Symbol.iterator](),J,Z;!(K=(J=G.next()).done);K=!0)Z=J.value,this._unboundChildren.add(Z)}catch(Y){H=!0,U=Y}finally{try{!K&&G.return&&G.return()}finally{if(H)throw U}}}},{key:'init',value:function(){var W=this;if(this.ready)throw new P.default('ui-view-init-reinit: This View has already been initialized.');return Promise.resolve().then(function(){return Promise.all(W._viewCollections.map(function(K){return K.init()}))}).then(function(){W.ready=!0})}},{key:'destroy',value:function(){this.stopListening();var W=this._viewCollections.map(function(K){return K.destroy()});return this._unboundChildren.clear(),this._viewCollections.clear(),this.element=this.template=this.locale=this.t=this._viewCollections=this._unboundChildren=null,Promise.all(W)}},{key:'_addTemplateChildren',value:function(){var W=this;(function H(U){if(U.children){var G=!0,J=!1,Z;try{for(var Y=U.children[Symbol.iterator](),Q,X;!(G=(Q=Y.next()).done);G=!0)X=Q.value,X instanceof z?W.addChildren(X):H(X)}catch(ee){J=!0,Z=ee}finally{try{!G&&Y.return&&Y.return()}finally{if(J)throw Z}}}})(this.template)}},{key:'element',get:function(){return this._element?this._element:this.template?(this._addTemplateChildren(),this._element=this.template.render()):null},set:function(W){this._element=W}},{key:'bindTemplate',get:function(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=O.default.bind(this,this)}}]),z}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=q,(0,V.default)(q,T.default),(0,V.default)(q,I.default)},function(r,o,u){'use strict';function s(R){return R&&R.__esModule?R:{default:R}}Object.defineProperty(o,'__esModule',{value:!0});var f='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&'function'==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?'symbol':typeof R},h=u(424),P=s(h),w=u(425),M=s(w),C=u(230),O=s(C),S=u(11),T=s(S),E=u(495),I=s(E);o.default=function(R){return'function'==typeof R?R:null==R?O.default:'object'==('undefined'==typeof R?'undefined':f(R))?(0,T.default)(R)?(0,M.default)(R[0],R[1]):(0,P.default)(R):(0,I.default)(R)}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var s=Array.isArray;o.default=s},function(r,o,u){'use strict';function s(S){return S&&S.__esModule?S:{default:S}}function d(S,T){if(!(S instanceof T))throw new TypeError('Cannot call a class as a function')}function f(S,T){T.isEnabled=!1}Object.defineProperty(o,'__esModule',{value:!0});var h=function(){function S(T,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}return function(T,E,I){return E&&S(T.prototype,E),I&&S(T,I),T}}(),P=u(32),w=s(P),M=u(4),C=s(M),O=function(){function S(T){var E=this;d(this,S),this.editor=T,this.set('isEnabled',!0),this._checkEnabled&&this.on('refreshState',function(I,R){R.isEnabled=E._checkEnabled()})}return h(S,[{key:'destroy',value:function(){this.stopListening()}},{key:'refreshState',value:function(){var E={isEnabled:!0};this.fire('refreshState',E),this.isEnabled=E.isEnabled}},{key:'_execute',value:function(E){this.isEnabled&&this._doExecute(E)}},{key:'_disable',value:function(){this.on('refreshState',f),this.refreshState()}},{key:'_enable',value:function(){this.off('refreshState',f),this.refreshState()}},{key:'_doExecute',value:function(){}}]),S}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=O,(0,C.default)(O,w.default)},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(96),h=s(f),P=u(43),w=s(P);o.default=function(M){return(0,w.default)(M)&&(0,h.default)(M)}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var d='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&'function'==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?'symbol':typeof f};o.default=function(f){var h='undefined'==typeof f?'undefined':d(f);return!!f&&('object'==h||'function'==h)}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(497),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P){var w=(0,h.default)(P),M=w%1;return w===w?M?w-M:w:0}},function(r,o,u){'use strict';function d(C,O){if(!(C instanceof O))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var h=function(){function C(O,S){for(var T=0,E;T<S.length;T++)E=S[T],E.enumerable=E.enumerable||!1,E.configurable=!0,'value'in E&&(E.writable=!0),Object.defineProperty(O,E.key,E)}return function(O,S,T){return S&&C(O.prototype,S),T&&C(O,T),O}}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.register=function(C,O){if(M.prototype[C])throw new w.default('model-batch-register-taken: This batch method name is already taken.',{name:C});M.prototype[C]=O};var P=u(0),w=function(C){return C&&C.__esModule?C:{default:C}}(P),M=function(){function C(O){var S=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'default';d(this,C),this.document=O,this.deltas=[],this.type=S}return h(C,[{key:'addDelta',value:function(S){return S.batch=this,this.deltas.push(S),S}},{key:'getOperations',value:regeneratorRuntime.mark(function O(){var S,T,E,I,R,F;return regeneratorRuntime.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:S=!0,T=!1,E=void 0,V.prev=3,I=this.deltas[Symbol.iterator]();case 5:if(S=(R=I.next()).done){V.next=11;break}return F=R.value,V.delegateYield(F.operations,'t0',8);case 8:S=!0,V.next=5;break;case 11:V.next=17;break;case 13:V.prev=13,V.t1=V['catch'](3),T=!0,E=V.t1;case 17:V.prev=17,V.prev=18,!S&&I.return&&I.return();case 20:if(V.prev=20,!T){V.next=23;break}throw E;case 23:return V.finish(20);case 24:return V.finish(17);case 25:case'end':return V.stop();}},O,this,[[3,13,17,25],[18,,20,24]])})},{key:'baseVersion',get:function(){return 0<this.deltas.length?this.deltas[0].baseVersion:null}}]),C}();o.default=M},function(r,o,u){'use strict';function s(S){return S&&S.__esModule?S:{default:S}}function d(S,T){if(!(S instanceof T))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function S(T,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}return function(T,E,I){return E&&S(T.prototype,E),I&&S(T,I),T}}(),h=u(0),P=s(h),w=u(317),M=s(w),C=new Map,O=function(){function S(){d(this,S)}return f(S,null,[{key:'fromJSON',value:function(E,I){if(!C.has(E.__className))throw new P.default('delta-fromjson-no-deserializer: This delta has no defined deserializer',{name:E.__className});var R=C.get(E.__className),F=new R,N=!0,V=!1,L;try{for(var D=E.operations[Symbol.iterator](),q,z;!(N=(q=D.next()).done);N=!0)z=q.value,F.addOperation(M.default.fromJSON(z,I))}catch($){V=!0,L=$}finally{try{!N&&D.return&&D.return()}finally{if(V)throw L}}return F}},{key:'register',value:function(E){C.set(E.className,E)}}]),S}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=O},function(r,o,u){'use strict';function s(U){return U&&U.__esModule?U:{default:U}}function d(U,G){G=M(G);var J=G.reduce(function(Q,X){return Q+X.offsetSize},0),Z=U.parent;O(U);var Y=U.index;return Z.insertChildren(Y,G),C(Z,Y+G.length),C(Z,Y),new L.default(U,U.getShiftedBy(J))}function f(U){if(!U.isFlat)throw new K.default('model-writer-remove-range-not-flat: Trying to remove a range that starts and ends in different element.');var G=U.start.parent;O(U.start),O(U.end);var J=G.removeChildren(U.start.index,U.end.index-U.start.index);return C(G,U.start.index),J}function h(U,G){if(!U.isFlat)throw new K.default('model-writer-move-range-not-flat: Trying to move a range that starts and ends in different element.');var J=this.remove(U);return G=G._getTransformedByDeletion(U.start,U.end.offset-U.start.offset),this.insert(G,J)}function P(U,G,J){O(U.start),O(U.end);var Z=!0,Y=!1,Q;try{for(var X=U.getItems()[Symbol.iterator](),ee;!(Z=(ee=X.next()).done);Z=!0){var te=ee.value,re=te.is('textProxy')?te.textNode:te;null===J?re.removeAttribute(G):re.setAttribute(G,J),C(re.parent,re.index)}}catch(ae){Y=!0,Q=ae}finally{try{!Z&&X.return&&X.return()}finally{if(Y)throw Q}}C(U.end.parent,U.end.index)}function w(U,G){this.setAttribute(U,G,null)}function M(U){var G=[];U instanceof Array||(U=[U]);for(var J=0;J<U.length;J++)if('string'==typeof U[J])G.push(new R.default(U[J]));else if(U[J]instanceof N.default)G.push(new R.default(U[J].data,U[J].getAttributes()));else if(U[J]instanceof q.default||U[J]instanceof $.default){var Z=!0,Y=!1,Q=void 0;try{for(var X=U[J][Symbol.iterator](),ee,te;!(Z=(ee=X.next()).done);Z=!0)te=ee.value,G.push(te)}catch(le){Y=!0,Q=le}finally{try{!Z&&X.return&&X.return()}finally{if(Y)throw Q}}}else U[J]instanceof E.default&&G.push(U[J]);for(var re=1;re<G.length;re++){var ae=G[re],oe=G[re-1];ae instanceof R.default&&oe instanceof R.default&&S(ae,oe)&&(G.splice(re-1,2,new R.default(oe.data+ae.data,oe.getAttributes())),re--)}return G}function C(U,G){var J=U.getChild(G-1),Z=U.getChild(G);if(J&&Z&&J.is('text')&&Z.is('text')&&S(J,Z)){var Y=new R.default(J.data+Z.data,J.getAttributes());U.removeChildren(G-1,2),U.insertChildren(G-1,Y)}}function O(U){var G=U.textNode,J=U.parent;if(G){var Z=U.offset-G.startOffset,Y=G.index;J.removeChildren(Y,1);var Q=new R.default(G.data.substr(0,Z),G.getAttributes()),X=new R.default(G.data.substr(Z),G.getAttributes());J.insertChildren(Y,[Q,X])}}function S(U,G){var J=U.getAttributes(),Z=G.getAttributes(),Y=!0,Q=!1,X;try{for(var ee=J[Symbol.iterator](),te,re;!(Y=(te=ee.next()).done);Y=!0){if(re=te.value,re[1]!==G.getAttribute(re[0]))return!1;Z.next()}}catch(ae){Q=!0,X=ae}finally{try{!Y&&ee.return&&ee.return()}finally{if(Q)throw X}}return Z.next().done}Object.defineProperty(o,'__esModule',{value:!0}),o.insert=d,o.remove=f,o.move=h,o.setAttribute=P,o.removeAttribute=w,o.normalizeNodes=M;var T=u(59),E=s(T),I=u(24),R=s(I),F=u(61),N=s(F),V=u(2),L=s(V),D=u(48),q=s(D),z=u(71),$=s(z),W=u(0),K=s(W);/**
    * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
    * For licensing, see LICENSE.md.
    */o.default={insert:d,remove:f,move:h,setAttribute:P,removeAttribute:w,normalizeNodes:M}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d){var f=d?d.length:0;return f?d[f-1]:void 0}},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}function d(O,S){if(!(O instanceof S))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function O(S,T){for(var E=0,I;E<T.length;E++)I=T[E],I.enumerable=I.enumerable||!1,I.configurable=!0,'value'in I&&(I.writable=!0),Object.defineProperty(S,I.key,I)}return function(S,T,E){return T&&O(S.prototype,T),E&&O(S,E),S}}(),h=u(95),P=s(h),w=u(17),M=s(w),C=function(){function O(){d(this,O),this.batch=null,this.operations=[]}return f(O,[{key:'addOperation',value:function(T){return T.delta=this,this.operations.push(T),T}},{key:'clone',value:function(){var T=new this.constructor,E=!0,I=!1,R;try{for(var F=this.operations[Symbol.iterator](),N,V;!(E=(N=F.next()).done);E=!0)V=N.value,T.addOperation(V.clone())}catch(L){I=!0,R=L}finally{try{!E&&F.return&&F.return()}finally{if(I)throw R}}return T}},{key:'getReversed',value:function(){var T=new this._reverseDeltaClass,E=!0,I=!1,R;try{for(var F=this.operations[Symbol.iterator](),N,V;!(E=(N=F.next()).done);E=!0)V=N.value,T.addOperation(V.getReversed())}catch(D){I=!0,R=D}finally{try{!E&&F.return&&F.return()}finally{if(I)throw R}}T.operations.reverse();for(var L=0;L<T.operations.length;L++)T.operations[L].baseVersion=this.operations[this.operations.length-1].baseVersion+L+1;return T}},{key:'toJSON',value:function(){var T=(0,P.default)(this);return T.__className=this.constructor.className,delete T.batch,T}},{key:'baseVersion',get:function(){return 0<this.operations.length?this.operations[0].baseVersion:null},set:function(T){var E=!0,I=!1,R;try{for(var F=this.operations[Symbol.iterator](),N,V;!(E=(N=F.next()).done);E=!0)V=N.value,V.baseVersion=T++}catch(L){I=!0,R=L}finally{try{!E&&F.return&&F.return()}finally{if(I)throw R}}}},{key:'_reverseDeltaClass',get:function(){return O}}],[{key:'className',get:function(){return'engine.model.delta.Delta'}},{key:'_priority',get:function(){return 0}}]),O}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=C,M.default.register(C)},function(r,o,u){'use strict';function s(K){return K&&K.__esModule?K:{default:K}}function d(K){if(Array.isArray(K)){for(var H=0,U=Array(K.length);H<K.length;H++)U[H]=K[H];return U}return Array.from(K)}function f(K,H){if(!(K instanceof H))throw new TypeError('Cannot call a class as a function')}function h(K,H){if(!K)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return H&&('object'==typeof H||'function'==typeof H)?H:K}function P(K,H){if('function'!=typeof H&&null!==H)throw new TypeError('Super expression must either be null or a function, not '+typeof H);K.prototype=Object.create(H&&H.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(K,H):K.__proto__=H)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function w(K,H){var U=/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,G;for(K.clear();null!==(G=U.exec(H));)K.set(G[1],G[2].trim())}function M(K,H){var U=H.split(/\s+/);K.clear(),U.forEach(function(G){return K.add(G)})}function C(K){return'string'==typeof K?[new R.default(K)]:((0,L.default)(K)||(K=[K]),Array.from(K).map(function(H){return'string'==typeof H?new R.default(H):H}))}Object.defineProperty(o,'__esModule',{value:!0});var O=function(){function K(H,U){var G=[],J=!0,Z=!1,Y;try{for(var Q=H[Symbol.iterator](),X;!(J=(X=Q.next()).done)&&(G.push(X.value),!(U&&G.length===U));J=!0);}catch(ee){Z=!0,Y=ee}finally{try{!J&&Q['return']&&Q['return']()}finally{if(Z)throw Y}}return G}return function(H,U){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return K(H,U);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),S=function(){function K(H,U){for(var G=0,J;G<U.length;G++)J=U[G],J.enumerable=J.enumerable||!1,J.configurable=!0,'value'in J&&(J.writable=!0),Object.defineProperty(H,J.key,J)}return function(H,U,G){return U&&K(H.prototype,U),G&&K(H,G),H}}(),T=u(75),E=s(T),I=u(30),R=s(I),F=u(275),N=s(F),V=u(41),L=s(V),D=u(98),q=s(D),z=u(168),$=s(z),W=function(K){function H(U,G,J){f(this,H);var Z=h(this,(H.__proto__||Object.getPrototypeOf(H)).call(this));if(Z.name=U,Z._attrs=(0,q.default)(G)?(0,N.default)(G):new Map(G),Z._children=[],J&&Z.insertChildren(0,J),Z._classes=new Set,Z._attrs.has('class')){var Y=Z._attrs.get('class');M(Z._classes,Y),Z._attrs.delete('class')}return Z._styles=new Map,Z._attrs.has('style')&&(w(Z._styles,Z._attrs.get('style')),Z._attrs.delete('style')),Z._customProperties=new Map,Z}return P(H,K),S(H,[{key:'is',value:function(G){var J=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return J?'element'==G&&J==this.name:'element'==G||G==this.name}},{key:'clone',value:function(G){var J=[];if(G){var Z=!0,Y=!1,Q;try{for(var X=this.getChildren()[Symbol.iterator](),ee,te;!(Z=(ee=X.next()).done);Z=!0)te=ee.value,J.push(te.clone(G))}catch(ae){Y=!0,Q=ae}finally{try{!Z&&X.return&&X.return()}finally{if(Y)throw Q}}}var re=new this.constructor(this.name,this._attrs,J);return re._classes=new Set(this._classes),re._styles=new Map(this._styles),re._customProperties=new Map(this._customProperties),re.getFillerOffset=this.getFillerOffset,re}},{key:'appendChildren',value:function(G){return this.insertChildren(this.childCount,G)}},{key:'getChild',value:function(G){return this._children[G]}},{key:'getChildIndex',value:function(G){return this._children.indexOf(G)}},{key:'getChildren',value:function(){return this._children[Symbol.iterator]()}},{key:'getAttributeKeys',value:regeneratorRuntime.mark(function U(){var G,J,Z,Y,Q,X;return regeneratorRuntime.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(!(0<this._classes.size)){te.next=3;break}return te.next=3,'class';case 3:if(!(0<this._styles.size)){te.next=6;break}return te.next=6,'style';case 6:G=!0,J=!1,Z=void 0,te.prev=9,Y=this._attrs.keys()[Symbol.iterator]();case 11:if(G=(Q=Y.next()).done){te.next=18;break}return X=Q.value,te.next=15,X;case 15:G=!0,te.next=11;break;case 18:te.next=24;break;case 20:te.prev=20,te.t0=te['catch'](9),J=!0,Z=te.t0;case 24:te.prev=24,te.prev=25,!G&&Y.return&&Y.return();case 27:if(te.prev=27,!J){te.next=30;break}throw Z;case 30:return te.finish(27);case 31:return te.finish(24);case 32:case'end':return te.stop();}},U,this,[[9,20,24,32],[25,,27,31]])})},{key:'getAttributes',value:regeneratorRuntime.mark(function U(){return regeneratorRuntime.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.delegateYield(this._attrs.entries(),'t0',1);case 1:if(!(0<this._classes.size)){J.next=4;break}return J.next=4,['class',this.getAttribute('class')];case 4:if(!(0<this._styles.size)){J.next=7;break}return J.next=7,['style',this.getAttribute('style')];case 7:case'end':return J.stop();}},U,this)})},{key:'getAttribute',value:function(G){if('class'==G)return 0<this._classes.size?[].concat(d(this._classes)).join(' '):void 0;if('style'==G){if(0<this._styles.size){var J='',Z=!0,Y=!1,Q;try{for(var X=this._styles[Symbol.iterator](),ee;!(Z=(ee=X.next()).done);Z=!0){var te=ee.value,re=O(te,2),ae=re[0],oe=re[1];J+=ae+':'+oe+';'}}catch(le){Y=!0,Q=le}finally{try{!Z&&X.return&&X.return()}finally{if(Y)throw Q}}return J}return}return this._attrs.get(G)}},{key:'hasAttribute',value:function(G){return'class'==G?0<this._classes.size:'style'==G?0<this._styles.size:this._attrs.has(G)}},{key:'setAttribute',value:function(G,J){this._fireChange('attributes',this),'class'==G?M(this._classes,J):'style'==G?w(this._styles,J):this._attrs.set(G,J)}},{key:'insertChildren',value:function(G,J){this._fireChange('children',this);var Z=0;J=C(J);var Y=!0,Q=!1,X;try{for(var ee=J[Symbol.iterator](),te,re;!(Y=(te=ee.next()).done);Y=!0)re=te.value,re.parent=this,this._children.splice(G,0,re),G++,Z++}catch(ae){Q=!0,X=ae}finally{try{!Y&&ee.return&&ee.return()}finally{if(Q)throw X}}return Z}},{key:'removeAttribute',value:function(G){return this._fireChange('attributes',this),'class'==G?!!(0<this._classes.size)&&(this._classes.clear(),!0):'style'==G?!!(0<this._styles.size)&&(this._styles.clear(),!0):this._attrs.delete(G)}},{key:'removeChildren',value:function(G){var J=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this._fireChange('children',this);for(var Z=G;Z<G+J;Z++)this._children[Z].parent=null;return this._children.splice(G,J)}},{key:'isSimilar',value:function(G){if(!(G instanceof H))return!1;if(this===G)return!0;if(this.name!=G.name)return!1;if(this._attrs.size!==G._attrs.size||this._classes.size!==G._classes.size||this._styles.size!==G._styles.size)return!1;var J=!0,Z=!1,Y;try{for(var Q=this._attrs[Symbol.iterator](),X;!(J=(X=Q.next()).done);J=!0){var ee=X.value,te=O(ee,2),re=te[0],ae=te[1];if(!G._attrs.has(re)||G._attrs.get(re)!==ae)return!1}}catch(Pe){Z=!0,Y=Pe}finally{try{!J&&Q.return&&Q.return()}finally{if(Z)throw Y}}var oe=!0,le=!1,ue;try{for(var ie=this._classes[Symbol.iterator](),de,fe;!(oe=(de=ie.next()).done);oe=!0)if(fe=de.value,!G._classes.has(fe))return!1}catch(Pe){le=!0,ue=Pe}finally{try{!oe&&ie.return&&ie.return()}finally{if(le)throw ue}}var ce=!0,pe=!1,ge;try{for(var me=this._styles[Symbol.iterator](),ye;!(ce=(ye=me.next()).done);ce=!0){var be=ye.value,he=O(be,2),ve=he[0],ke=he[1];if(!G._styles.has(ve)||G._styles.get(ve)!==ke)return!1}}catch(Pe){pe=!0,ge=Pe}finally{try{!ce&&me.return&&me.return()}finally{if(pe)throw ge}}return!0}},{key:'addClass',value:function(){var G=this;this._fireChange('attributes',this);for(var J=arguments.length,Z=Array(J),Y=0;Y<J;Y++)Z[Y]=arguments[Y];Z.forEach(function(Q){return G._classes.add(Q)})}},{key:'removeClass',value:function(){var G=this;this._fireChange('attributes',this);for(var J=arguments.length,Z=Array(J),Y=0;Y<J;Y++)Z[Y]=arguments[Y];Z.forEach(function(Q){return G._classes.delete(Q)})}},{key:'hasClass',value:function(){for(var G=arguments.length,J=Array(G),Z=0;Z<G;Z++)J[Z]=arguments[Z];var Y=!0,Q=!1,X;try{for(var ee=J[Symbol.iterator](),te,re;!(Y=(te=ee.next()).done);Y=!0)if(re=te.value,!this._classes.has(re))return!1}catch(ae){Q=!0,X=ae}finally{try{!Y&&ee.return&&ee.return()}finally{if(Q)throw X}}return!0}},{key:'getClassNames',value:function(){return this._classes.keys()}},{key:'setStyle',value:function(G,J){if(this._fireChange('attributes',this),(0,q.default)(G)){var Z=Object.keys(G),Y=!0,Q=!1,X;try{for(var ee=Z[Symbol.iterator](),te,re;!(Y=(te=ee.next()).done);Y=!0)re=te.value,this._styles.set(re,G[re])}catch(ae){Q=!0,X=ae}finally{try{!Y&&ee.return&&ee.return()}finally{if(Q)throw X}}}else this._styles.set(G,J)}},{key:'getStyle',value:function(G){return this._styles.get(G)}},{key:'getStyleNames',value:function(){return this._styles.keys()}},{key:'hasStyle',value:function(){for(var G=arguments.length,J=Array(G),Z=0;Z<G;Z++)J[Z]=arguments[Z];var Y=!0,Q=!1,X;try{for(var ee=J[Symbol.iterator](),te,re;!(Y=(te=ee.next()).done);Y=!0)if(re=te.value,!this._styles.has(re))return!1}catch(ae){Q=!0,X=ae}finally{try{!Y&&ee.return&&ee.return()}finally{if(Q)throw X}}return!0}},{key:'removeStyle',value:function(){var G=this;this._fireChange('attributes',this);for(var J=arguments.length,Z=Array(J),Y=0;Y<J;Y++)Z[Y]=arguments[Y];Z.forEach(function(Q){return G._styles.delete(Q)})}},{key:'findAncestor',value:function(){for(var G=arguments.length,J=Array(G),Z=0;Z<G;Z++)J[Z]=arguments[Z];for(var Y=new(Function.prototype.bind.apply($.default,[null].concat(J))),Q=this.parent;Q;){if(Y.match(Q))return Q;Q=Q.parent}return null}},{key:'setCustomProperty',value:function(G,J){this._customProperties.set(G,J)}},{key:'getCustomProperty',value:function(G){return this._customProperties.get(G)}},{key:'removeCustomProperty',value:function(G){return this._customProperties.delete(G)}},{key:'getCustomProperties',value:regeneratorRuntime.mark(function U(){return regeneratorRuntime.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.delegateYield(this._customProperties.entries(),'t0',1);case 1:case'end':return J.stop();}},U,this)})},{key:'childCount',get:function(){return this._children.length}},{key:'isEmpty',get:function(){return 0===this._children.length}}]),H}(E.default);o.default=W},function(r,o,u){'use strict';function s(E){return E&&E.__esModule?E:{default:E}}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function d(E){var I;if('string'!=typeof E)I=E.keyCode+(E.altKey?T.alt:0)+(E.ctrlKey?T.ctrl:0)+(E.shiftKey?T.shift:0);else if(I=T[E.toLowerCase()],!I)throw new C.default('keyboard-unknown-key: Unknown key name.',{key:E});return I}function w(E){return E.split(/\s*\+\s*/)}Object.defineProperty(o,'__esModule',{value:!0}),o.keyCodes=void 0,o.getCode=d,o.parseKeystroke=function(E){return'string'==typeof E&&(E=w(E)),E.map(function(I){return'string'==typeof I?d(I):I}).reduce(function(I,R){return R+I},0)},o.getEnvKeystrokeText=function(E){var I=w(E);return S.default.mac&&'ctrl'==I[0].toLowerCase()?'\u2318'+(I[1]||''):E};var M=u(0),C=s(M),O=u(401),S=s(O),T=o.keyCodes=function(){for(var E={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448},I=65,R;90>=I;I++)R=String.fromCharCode(I),E[R.toLowerCase()]=I;for(var F=48;57>=F;F++)E[F-48]=F;for(var N=112;123>=N;N++)E['f'+(N-111)]=N;return E}()},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}function d(M,C,O,S,T){var E=-1,I=M.length;for(O||(O=w.default),T||(T=[]);++E<I;){var R=M[E];0<C&&O(R)?1<C?d(R,C-1,O,S,T):(0,h.default)(T,R):!S&&(T[T.length]=R)}return T}Object.defineProperty(o,'__esModule',{value:!0});var f=u(84),h=s(f),P=u(458),w=s(P);o.default=d},function(r,o,u){'use strict';function d(S,T){if(!(S instanceof T))throw new TypeError('Cannot call a class as a function')}function f(S,T){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return T&&('object'==typeof T||'function'==typeof T)?T:S}function h(S,T){if('function'!=typeof T&&null!==T)throw new TypeError('Super expression must either be null or a function, not '+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function S(T,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}return function(T,E,I){return E&&S(T.prototype,E),I&&S(T,I),T}}(),w=function S(T,E,I){null===T&&(T=Function.prototype);var R=Object.getOwnPropertyDescriptor(T,E);if(R===void 0){var F=Object.getPrototypeOf(T);return null===F?void 0:S(F,E,I)}if('value'in R)return R.value;var N=R.get;return void 0===N?void 0:N.call(I)},M=u(59),C=function(S){return S&&S.__esModule?S:{default:S}}(M),O=function(S){function T(E,I){d(this,T);var R=f(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,I));return R.data=E||'',R}return h(T,S),P(T,[{key:'is',value:function(I){return'text'==I}},{key:'clone',value:function(){return new T(this.data,this.getAttributes())}},{key:'toJSON',value:function(){var I=w(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),'toJSON',this).call(this);return I.data=this.data,I}},{key:'offsetSize',get:function(){return this.data.length}}],[{key:'fromJSON',value:function(I){return new T(I.data,I.attributes)}}]),T}(C.default);o.default=O},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}function d(I,R){if(!(I instanceof R))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function I(R,F){for(var N=0,V;N<F.length;N++)V=F[N],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}return function(R,F,N){return F&&I(R.prototype,F),N&&I(R,N),R}}(),h=u(50),P=s(h),w=u(51),M=s(w),C=u(0),O=s(C),S=u(74),T=s(S),E=function(){function I(R,F){d(this,I),this.parent=R,this.offset=F}return f(I,[{key:'getShiftedBy',value:function(F){var N=I.createFromPosition(this),V=N.offset+F;return N.offset=0>V?0:V,N}},{key:'getLastMatchingPosition',value:function(F){var N=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};N.startPosition=this;var V=new P.default(N);return V.skip(F),V.position}},{key:'getAncestors',value:function(){return this.parent.is('documentFragment')?[this.parent]:this.parent.getAncestors({includeNode:!0})}},{key:'isEqual',value:function(F){return this.parent==F.parent&&this.offset==F.offset}},{key:'isBefore',value:function(F){return'before'==this.compareWith(F)}},{key:'isAfter',value:function(F){return'after'==this.compareWith(F)}},{key:'compareWith',value:function(F){if(this.isEqual(F))return'same';if(this.parent===F.parent)return 0>this.offset-F.offset?'before':'after';var N=this.getAncestors(),V=F.getAncestors(),L=(0,M.default)(N,V),D;switch(L){case 0:return'different';case'prefix':D=N.length-1;break;case'extension':D=V.length-1;break;default:D=L-1;}var q=N[D],z=N[D+1],$=V[D+1];if(q===this.parent){var W=this.offset-$.index;return 0>=W?'before':'after'}if(q===F.parent){var K=z.index-F.offset;return 0>K?'before':'after'}var H=z.index-$.index;return 0>H?'before':'after'}},{key:'nodeAfter',get:function(){return this.parent.is('text')?null:this.parent.getChild(this.offset)||null}},{key:'nodeBefore',get:function(){return this.parent.is('text')?null:this.parent.getChild(this.offset-1)||null}},{key:'isAtStart',get:function(){return 0===this.offset}},{key:'isAtEnd',get:function(){var F=this.parent.is('text')?this.parent.data.length:this.parent.childCount;return this.offset===F}},{key:'root',get:function(){return this.parent.root}},{key:'editableElement',get:function(){for(var F=this.parent;!(F instanceof T.default);)if(F.parent)F=F.parent;else return null;return F}}],[{key:'createAt',value:function(F,N){if(F instanceof I)return this.createFromPosition(F);var V=F;if('end'==N)N=V.is('text')?V.data.length:V.childCount;else{if('before'==N)return this.createBefore(V);if('after'==N)return this.createAfter(V);N||(N=0)}return new I(V,N)}},{key:'createAfter',value:function(F){if(F.is('textProxy'))return new I(F.textNode,F.offsetInText+F.data.length);if(!F.parent)throw new O.default('view-position-after-root: You can not make position after root.',{root:F});return new I(F.parent,F.index+1)}},{key:'createBefore',value:function(F){if(F.is('textProxy'))return new I(F.textNode,F.offsetInText);if(!F.parent)throw new O.default('view-position-before-root: You can not make position before root.',{root:F});return new I(F.parent,F.index)}},{key:'createFromPosition',value:function(F){return new this(F.parent,F.offset)}}]),I}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=E},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}function d(F,N){if(!(F instanceof N))throw new TypeError('Cannot call a class as a function')}function f(F,N){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:F}function h(F,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function F(N,V){for(var L=0,D;L<V.length;L++)D=V[L],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}return function(N,V,L){return V&&F(N.prototype,V),L&&F(N,L),N}}(),w=function F(N,V,L){null===N&&(N=Function.prototype);var D=Object.getOwnPropertyDescriptor(N,V);if(D===void 0){var q=Object.getPrototypeOf(N);return null===q?void 0:F(q,V,L)}if('value'in D)return D.value;var z=D.get;return void 0===z?void 0:z.call(L)},M=u(9),C=s(M),O=u(6),S=s(O),T=u(376),E=s(T),I=u(22),R=function(F){function N(V){d(this,N);var L=f(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,V));L.set('label'),L.set('keystroke'),L.set('tooltip'),L.set('type','button'),L.set('isOn',!1),L.set('isEnabled',!0),L.set('withText',!1),L.set('icon'),L.set('tabindex',-1),L.bind('_tooltipString').to(L,'tooltip',L,'label',L,'keystroke',L._getTooltipString.bind(L));var D=L.bindTemplate;return L.template=new S.default({tag:'button',attributes:{class:['ck-button',D.if('_tooltipString','ck-tooltip_s'),D.to('isEnabled',function(q){return q?'ck-enabled':'ck-disabled'}),D.to('isOn',function(q){return q?'ck-on':'ck-off'}),D.if('withText','ck-button_with-text')],type:D.to('type',function(q){return q?q:'button'}),'data-ck-tooltip':[D.to('_tooltipString')],tabindex:D.to('tabindex')},children:[{tag:'span',attributes:{class:['ck-button__label']},children:[{text:D.to('label')}]}],on:{mousedown:D.to(function(q){q.preventDefault()}),click:D.to(function(q){L.isEnabled?L.fire('execute'):q.preventDefault()})}}),L}return h(N,F),P(N,[{key:'init',value:function(){var L=this,D=Promise.resolve();if(this.icon&&!this.iconView){var q=this.iconView=new E.default;q.bind('content').to(this,'icon'),this.element.insertBefore(q.element,this.element.firstChild),D=D.then(function(){return L.addChildren(q)})}return D.then(function(){return w(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),'init',L).call(L)})}},{key:'focus',value:function(){this.element.focus()}},{key:'_getTooltipString',value:function(L,D,q){if(L){if('string'==typeof L)return L;if(q&&(q=(0,I.getEnvKeystrokeText)(q)),L instanceof Function)return L(D,q);if(!0===L)return''+D+(q?' ('+q+')':'')}return!1}}]),N}(C.default);o.default=R},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d,f){for(var h=-1,P=d.length,w=Array(P);++h<P;)w[h]=f(d[h],h,d);return w}},function(r,o,u){'use strict';function s(D){return D&&D.__esModule?D:{default:D}}function d(D,q){if(!(D instanceof q))throw new TypeError('Cannot call a class as a function')}function f(D,q){if(!D)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return q&&('object'==typeof q||'function'==typeof q)?q:D}function h(D,q){if('function'!=typeof q&&null!==q)throw new TypeError('Super expression must either be null or a function, not '+typeof q);D.prototype=Object.create(q&&q.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(D,q):D.__proto__=q)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function D(q,z){for(var $=0,W;$<z.length;$++)W=z[$],W.enumerable=W.enumerable||!1,W.configurable=!0,'value'in W&&(W.writable=!0),Object.defineProperty(q,W.key,W)}return function(q,z,$){return z&&D(q.prototype,z),$&&D(q,$),q}}(),w=u(33),M=s(w),C=u(1),O=s(C),S=u(2),T=s(S),E=u(0),I=s(E),R=u(51),F=s(R),N=u(18),V=s(N),L=function(D){function q(z,$,W,K){d(this,q);var H=f(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,K));return H.sourcePosition=O.default.createFromPosition(z),H.howMany=$,H.targetPosition=O.default.createFromPosition(W),H.isSticky=!1,H}return h(q,D),P(q,[{key:'clone',value:function(){var $=new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion);return $.isSticky=this.isSticky,$}},{key:'getMovedRangeStart',value:function(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}},{key:'getReversed',value:function(){var $=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany),W=new this.constructor(this.getMovedRangeStart(),this.howMany,$,this.baseVersion+1);return W.isSticky=this.isSticky,W}},{key:'_execute',value:function(){var $=this.sourcePosition.parent,W=this.targetPosition.parent,K=this.sourcePosition.offset,H=this.targetPosition.offset;if(!$||!W)throw new I.default('move-operation-position-invalid: Source position or target position is invalid.');else if(K+this.howMany>$.maxOffset)throw new I.default('move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.');else if($===W&&K<H&&H<K+this.howMany)throw new I.default('move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.');else if(this.sourcePosition.root==this.targetPosition.root&&'prefix'==(0,F.default)(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){var U=this.sourcePosition.path.length-1;if(this.targetPosition.path[U]>=K&&this.targetPosition.path[U]<K+this.howMany)throw new I.default('move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.')}var G=V.default.move(T.default.createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition);return{sourcePosition:this.sourcePosition,range:G}}},{key:'type',get:function(){return'move'}}],[{key:'fromJSON',value:function($,W){var K=O.default.fromJSON($.sourcePosition,W),H=O.default.fromJSON($.targetPosition,W),U=new this(K,$.howMany,H,$.baseVersion);return $.isSticky&&(U.isSticky=!0),U}},{key:'className',get:function(){return'engine.model.operation.MoveOperation'}}]),q}(M.default);o.default=L},function(r,o,u){'use strict';function s(S){return S&&S.__esModule?S:{default:S}}function d(S,T){if(!(S instanceof T))throw new TypeError('Cannot call a class as a function')}function f(S){return S.item.is('attributeElement')||S.item.is('uiElement')}Object.defineProperty(o,'__esModule',{value:!0});var h=function(){function S(T,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}return function(T,E,I){return E&&S(T.prototype,E),I&&S(T,I),T}}(),P=u(25),w=s(P),M=u(50),C=s(M),O=function(){function S(T){var E=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;d(this,S),this.start=w.default.createFromPosition(T),this.end=E?w.default.createFromPosition(E):w.default.createFromPosition(T)}return h(S,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function T(){return regeneratorRuntime.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.delegateYield(new C.default({boundaries:this,ignoreElementEnd:!0}),'t0',1);case 1:case'end':return I.stop();}},T,this)})},{key:'getEnlarged',value:function(){var E=this.start.getLastMatchingPosition(f,{direction:'backward'}),I=this.end.getLastMatchingPosition(f);return E.parent.is('text')&&E.isAtStart&&(E=w.default.createBefore(E.parent)),I.parent.is('text')&&I.isAtEnd&&(I=w.default.createAfter(I.parent)),new S(E,I)}},{key:'getTrimmed',value:function(){var E=this.start.getLastMatchingPosition(f),I=this.end.getLastMatchingPosition(f,{direction:'backward'}),R=E.nodeAfter,F=I.nodeBefore;return R&&R.is('text')&&(E=new w.default(R,0)),F&&F.is('text')&&(I=new w.default(F,F.data.length)),new S(E,I)}},{key:'isEqual',value:function(E){return this==E||this.start.isEqual(E.start)&&this.end.isEqual(E.end)}},{key:'containsPosition',value:function(E){return E.isAfter(this.start)&&E.isBefore(this.end)}},{key:'containsRange',value:function(E){return this.containsPosition(E.start)&&this.containsPosition(E.end)}},{key:'getDifference',value:function(E){var I=[];return this.isIntersecting(E)?(this.containsPosition(E.start)&&I.push(new S(this.start,E.start)),this.containsPosition(E.end)&&I.push(new S(E.end,this.end))):I.push(S.createFromRange(this)),I}},{key:'getIntersection',value:function(E){if(this.isIntersecting(E)){var I=this.start,R=this.end;return this.containsPosition(E.start)&&(I=E.start),this.containsPosition(E.end)&&(R=E.end),new S(I,R)}return null}},{key:'getWalker',value:function(){var E=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return E.boundaries=this,new C.default(E)}},{key:'getItems',value:regeneratorRuntime.mark(function T(){var E=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},I,R,F,N,V,L,D;return regeneratorRuntime.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:E.boundaries=this,E.ignoreElementEnd=!0,I=new C.default(E),R=!0,F=!1,N=void 0,z.prev=6,V=I[Symbol.iterator]();case 8:if(R=(L=V.next()).done){z.next=15;break}return D=L.value,z.next=12,D.item;case 12:R=!0,z.next=8;break;case 15:z.next=21;break;case 17:z.prev=17,z.t0=z['catch'](6),F=!0,N=z.t0;case 21:z.prev=21,z.prev=22,!R&&V.return&&V.return();case 24:if(z.prev=24,!F){z.next=27;break}throw N;case 27:return z.finish(24);case 28:return z.finish(21);case 29:case'end':return z.stop();}},T,this,[[6,17,21,29],[22,,24,28]])})},{key:'getPositions',value:regeneratorRuntime.mark(function T(){var E=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},I,R,F,N,V,L,D;return regeneratorRuntime.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return E.boundaries=this,I=new C.default(E),z.next=4,I.position;case 4:R=!0,F=!1,N=void 0,z.prev=7,V=I[Symbol.iterator]();case 9:if(R=(L=V.next()).done){z.next=16;break}return D=L.value,z.next=13,D.nextPosition;case 13:R=!0,z.next=9;break;case 16:z.next=22;break;case 18:z.prev=18,z.t0=z['catch'](7),F=!0,N=z.t0;case 22:z.prev=22,z.prev=23,!R&&V.return&&V.return();case 25:if(z.prev=25,!F){z.next=28;break}throw N;case 28:return z.finish(25);case 29:return z.finish(22);case 30:case'end':return z.stop();}},T,this,[[7,18,22,30],[23,,25,29]])})},{key:'isIntersecting',value:function(E){return this.start.isBefore(E.end)&&this.end.isAfter(E.start)}},{key:'isCollapsed',get:function(){return this.start.isEqual(this.end)}},{key:'isFlat',get:function(){return this.start.parent===this.end.parent}},{key:'root',get:function(){return this.start.root}}],[{key:'createFromParentsAndOffsets',value:function(E,I,R,F){return new this(new w.default(E,I),new w.default(R,F))}},{key:'createFromRange',value:function(E){return new this(E.start,E.end)}},{key:'createFromPositionAndShift',value:function(E,I){var R=E,F=E.getShiftedBy(I);return 0<I?new this(R,F):new this(F,R)}},{key:'createIn',value:function(E){return this.createFromParentsAndOffsets(E,0,E,E.childCount)}},{key:'createOn',value:function(E){return this.createFromPositionAndShift(w.default.createBefore(E),1)}}]),S}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=O},function(r,o,u){'use strict';function d(O,S){if(!(O instanceof S))throw new TypeError('Cannot call a class as a function')}function f(O,S){if(!O)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return S&&('object'==typeof S||'function'==typeof S)?S:O}function h(O,S){if('function'!=typeof S&&null!==S)throw new TypeError('Super expression must either be null or a function, not '+typeof S);O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(O,S):O.__proto__=S)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function O(S,T){for(var E=0,I;E<T.length;E++)I=T[E],I.enumerable=I.enumerable||!1,I.configurable=!0,'value'in I&&(I.writable=!0),Object.defineProperty(S,I.key,I)}return function(S,T,E){return T&&O(S.prototype,T),E&&O(S,E),S}}(),w=u(75),M=function(O){return O&&O.__esModule?O:{default:O}}(w),C=function(O){function S(T){d(this,S);var E=f(this,(S.__proto__||Object.getPrototypeOf(S)).call(this));return E._data=T,E}return h(S,O),P(S,[{key:'clone',value:function(){return new S(this.data)}},{key:'is',value:function(E){return'text'==E}},{key:'isSimilar',value:function(E){return!!(E instanceof S)&&(this===E||this.data===E.data)}},{key:'data',get:function(){return this._data},set:function(E){this._fireChange('text',this),this._data=E}}]),S}(M.default);o.default=C},function(r,o,u){'use strict';(function(s,d){Object.defineProperty(o,'__esModule',{value:!0});var h='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&'function'==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?'symbol':typeof F},P=u(431),w=function(F){return F&&F.__esModule?F:{default:F}}(P),M={'function':!0,object:!0},C=M[h(o)]&&o&&!o.nodeType?o:void 0,O=M[h(s)]&&s&&!s.nodeType?s:void 0,S=(0,w.default)(C&&O&&'object'==('undefined'==typeof d?'undefined':h(d))&&d),T=(0,w.default)(M['undefined'==typeof self?'undefined':h(self)]&&self),E=(0,w.default)(M['undefined'==typeof window?'undefined':h(window)]&&window),I=(0,w.default)(M[h(void 0)]&&void 0),R=S||E!==(I&&I.window)&&E||T||I||Function('return this')();o.default=R}).call(o,u(100)(r),u(153))},function(r,o,u){'use strict';function s(W){return W&&W.__esModule?W:{default:W}}function d(W){D in W||(Object.defineProperty(W,D,{value:new Map}),Object.defineProperty(W,q,{value:new Map}),Object.defineProperty(W,z,{value:new Map}))}function f(){var W=this,K=P.apply(void 0,arguments),H=Array.from(this._bindings.keys()),U=H.length;if(!K.callback&&1<K.to.length)throw new R.default('observable-bind-to-no-callback: Binding multiple observables only possible with callback.');if(1<U&&K.callback)throw new R.default('observable-bind-to-extra-callback: Cannot bind multiple attributes and use a callback in one binding.');K.to.forEach(function(G){if(G.attrs.length&&G.attrs.length!==U)throw new R.default('observable-bind-to-attrs-length: The number of attributes must match.');G.attrs.length||(G.attrs=W._bindAttrs)}),this._to=K.to,K.callback&&(this._bindings.get(H[0]).callback=K.callback),O(this._observable,this._to),M(this),this._bindAttrs.forEach(function(G){C(W._observable,G)})}function h(W){return W.every(function(K){return'string'==typeof K})}function P(){for(var W=arguments.length,K=Array(W),H=0;H<W;H++)K[H]=arguments[H];if(!K.length)throw new R.default('observable-bind-to-parse-error: Invalid argument syntax in `to()`.');var U={to:[]},G;return'function'==typeof K[K.length-1]&&(U.callback=K.pop()),K.forEach(function(J){if('string'==typeof J)G.attrs.push(J);else if('object'==('undefined'==typeof J?'undefined':S(J)))G={observable:J,attrs:[]},U.to.push(G);else throw new R.default('observable-bind-to-parse-error: Invalid argument syntax in `to()`.')}),U}function w(W,K,H,U){var G=W[q],J=G.get(H),Z=J||{};Z[U]||(Z[U]=new Set),Z[U].add(K),J||G.set(H,Z)}function M(W){var K;W._bindings.forEach(function(H,U){W._to.forEach(function(G){K=G.attrs[H.callback?0:W._bindAttrs.indexOf(U)],H.to.push([G.observable,K]),w(W._observable,H,G.observable,K)})})}function C(W,K){var H=W[z],U=H.get(K),G;U.callback?G=U.callback.apply(W,U.to.map(function(J){return J[0][J[1]]})):(G=U.to[0],G=G[0][G[1]]),W.hasOwnProperty(K)?W[K]=G:W.set(K,G)}function O(W,K){K.forEach(function(H){var U=W[q],G;U.get(H.observable)||W.listenTo(H.observable,'change',function(J,Z){G=U.get(H.observable)[Z],G&&G.forEach(function(Y){C(W,Y.attr)})})})}Object.defineProperty(o,'__esModule',{value:!0});var S='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(W){return typeof W}:function(W){return W&&'function'==typeof Symbol&&W.constructor===Symbol&&W!==Symbol.prototype?'symbol':typeof W},T=u(7),E=s(T),I=u(0),R=s(I),F=u(56),N=s(F),V=u(14),L=s(V),D=Symbol('attributes'),q=Symbol('boundObservables'),z=Symbol('boundAttributes'),$={set:function(K,H){var U=this;if((0,L.default)(K))return void Object.keys(K).forEach(function(J){U.set(J,K[J])},this);d(this);var G=this[D];if(K in this&&!G.has(K))throw new R.default('observable-set-cannot-override: Cannot override an existing property.');Object.defineProperty(this,K,{enumerable:!0,configurable:!0,get:function(){return G.get(K)},set:function(Z){var Y=G.get(K);Y===Z&&G.has(K)||(G.set(K,Z),this.fire('change:'+K,K,Z,Y))}}),this[K]=H},bind:function(){for(var K=arguments.length,H=Array(K),U=0;U<K;U++)H[U]=arguments[U];if(!H.length||!h(H))throw new R.default('observable-bind-wrong-attrs: All attributes must be strings.');if(new Set(H).size!==H.length)throw new R.default('observable-bind-duplicate-attrs: Attributes must be unique.');d(this);var G=this[z];H.forEach(function(Z){if(G.has(Z))throw new R.default('observable-bind-rebind: Cannot bind the same attribute more that once.')});var J=new Map;return H.forEach(function(Z){var Y={attr:Z,to:[]};G.set(Z,Y),J.set(Z,Y)}),{to:f,_observable:this,_bindAttrs:H,_to:[],_bindings:J}},unbind:function(){var K=this;if(D in this){for(var H=this[z],U=this[q],G=arguments.length,J=Array(G),Z=0;Z<G;Z++)J[Z]=arguments[Z];if(J.length){if(!h(J))throw new R.default('observable-unbind-wrong-attrs: Attributes must be strings.');J.forEach(function(Y){var Q=H.get(Y),X,ee,te,re;Q.to.forEach(function(ae){X=ae[0],ee=ae[1],te=U.get(X),re=te[ee],re.delete(Q),re.size||delete te[ee],Object.keys(te).length||(U.delete(X),K.stopListening(X,'change'))}),H.delete(Y)})}else U.forEach(function(Y,Q){K.stopListening(Q,'change')}),U.clear(),H.clear()}}};/**
                                                                                                                                                                                                                                                                               * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                               * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                               */o.default=$,(0,N.default)($,E.default)},function(r,o,u){'use strict';function d(M,C){if(!(M instanceof C))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function M(C,O){for(var S=0,T;S<O.length;S++)T=O[S],T.enumerable=T.enumerable||!1,T.configurable=!0,'value'in T&&(T.writable=!0),Object.defineProperty(C,T.key,T)}return function(C,O,S){return O&&M(C.prototype,O),S&&M(C,S),C}}(),h=u(95),P=function(M){return M&&M.__esModule?M:{default:M}}(h),w=function(){function M(C){d(this,M),this.baseVersion=C}return f(M,[{key:'toJSON',value:function(){var O=(0,P.default)(this,!0);return O.__className=this.constructor.className,delete O.delta,O}}],[{key:'fromJSON',value:function(O){return new this(O.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.Operation'}}]),M}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=w},function(r,o,u){'use strict';function s(N){return N&&N.__esModule?N:{default:N}}function d(N,V){if(!(N instanceof V))throw new TypeError('Cannot call a class as a function')}function f(N,V,L,D,q){return{done:!1,value:{type:N,item:V,previousPosition:L,nextPosition:D,length:q}}}Object.defineProperty(o,'__esModule',{value:!0});var h=function(){function N(V,L){for(var D=0,q;D<L.length;D++)q=L[D],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(V,q.key,q)}return function(V,L,D){return L&&N(V.prototype,L),D&&N(V,D),V}}(),P=u(24),w=s(P),M=u(61),C=s(M),O=u(5),S=s(O),T=u(1),E=s(T),I=u(0),R=s(I),F=function(){function N(){var V=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(d(this,N),!V.boundaries&&!V.startPosition)throw new R.default('model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');var L=V.direction||'forward';if('forward'!=L&&'backward'!=L)throw new R.default('model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:L});this.direction=L,this.boundaries=V.boundaries||null,this.position=V.startPosition?E.default.createFromPosition(V.startPosition):E.default.createFromPosition(this.boundaries['backward'==this.direction?'end':'start']),this.singleCharacters=!!V.singleCharacters,this.shallow=!!V.shallow,this.ignoreElementEnd=!!V.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}return h(N,[{key:Symbol.iterator,value:function(){return this}},{key:'skip',value:function(L){var D,q,z,$;do{z=this.position,$=this._visitedParent;var W=this.next();D=W.done,q=W.value}while(!D&&L(q));D||(this.position=z,this._visitedParent=$)}},{key:'next',value:function(){return'forward'==this.direction?this._next():this._previous()}},{key:'_next',value:function(){var L=this.position,D=E.default.createFromPosition(this.position),q=this._visitedParent;if(null===q.parent&&D.offset===q.maxOffset)return{done:!0};if(q===this._boundaryEndParent&&D.offset==this.boundaries.end.offset)return{done:!0};var z=D.textNode?D.textNode:D.nodeAfter;if(z instanceof S.default)return this.shallow?D.offset++:(D.path.push(0),this._visitedParent=z),this.position=D,f('elementStart',z,L,D,1);if(z instanceof w.default){var $,W;if(this.singleCharacters)$=1;else{var K=z.endOffset;this._boundaryEndParent==q&&this.boundaries.end.offset<K&&(K=this.boundaries.end.offset),$=K-D.offset}W=D.offset-z.startOffset;var H=new C.default(z,W,$);return D.offset+=$,this.position=D,f('text',H,L,D,$)}return D.path.pop(),D.offset++,this.position=D,this._visitedParent=q.parent,this.ignoreElementEnd?this._next():f('elementEnd',q,L,D)}},{key:'_previous',value:function(){var L=this.position,D=E.default.createFromPosition(this.position),q=this._visitedParent;if(null===q.parent&&0===D.offset)return{done:!0};if(q==this._boundaryStartParent&&D.offset==this.boundaries.start.offset)return{done:!0};var z=D.textNode?D.textNode:D.nodeBefore;if(z instanceof S.default)return D.offset--,this.shallow?(this.position=D,f('elementStart',z,L,D,1)):(D.path.push(z.maxOffset),this.position=D,this._visitedParent=z,this.ignoreElementEnd?this._previous():f('elementEnd',z,L,D));if(z instanceof w.default){var $,W;if(this.singleCharacters)$=1;else{var K=z.startOffset;this._boundaryStartParent==q&&this.boundaries.start.offset>K&&(K=this.boundaries.start.offset),$=D.offset-K}W=D.offset-z.startOffset;var H=new C.default(z,W-$,$);return D.offset-=$,this.position=D,f('text',H,L,D,$)}return D.path.pop(),this.position=D,this._visitedParent=q.parent,f('elementStart',q,L,D,1)}}]),N}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=F},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d,f,h){var P=-1,w=d.length;0>f&&(f=-f>w?0:w+f),h=h>w?w:h,0>h&&(h+=w),w=f>h?0:h-f>>>0,f>>>=0;for(var M=Array(w);++P<w;)M[P]=d[P+f];return M}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=/^(?:0|[1-9]\d*)$/;o.default=function(h,P){return P=null==P?9007199254740991:P,!!P&&('number'==typeof h||f.test(h))&&-1<h&&0==h%1&&h<P}},function(r,o,u){'use strict';function s($){return $&&$.__esModule?$:{default:$}}function d($){if(Array.isArray($)){for(var W=0,K=Array($.length);W<$.length;W++)K[W]=$[W];return K}return Array.from($)}function f($,W){if(!($ instanceof W))throw new TypeError('Cannot call a class as a function')}function h($,W){if(!$)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return W&&('object'==typeof W||'function'==typeof W)?W:$}function P($,W){if('function'!=typeof W&&null!==W)throw new TypeError('Super expression must either be null or a function, not '+typeof W);$.prototype=Object.create(W&&W.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf($,W):$.__proto__=W)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var w=function(){function $(W,K){for(var H=0,U;H<K.length;H++)U=K[H],U.enumerable=U.enumerable||!1,U.configurable=!0,'value'in U&&(U.writable=!0),Object.defineProperty(W,U.key,U)}return function(W,K,H){return K&&$(W.prototype,K),H&&$(W,H),W}}(),M=u(33),C=s(M),O=u(1),S=s(O),T=u(71),E=s(T),I=u(38),R=s(I),F=u(18),N=s(F),V=u(24),L=s(V),D=u(5),q=s(D),z=function($){function W(K,H,U){f(this,W);var G=h(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,U));return G.position=S.default.createFromPosition(K),G.nodes=new E.default((0,F.normalizeNodes)(H)),G}return P(W,$),w(W,[{key:'clone',value:function(){var H=new E.default([].concat(d(this.nodes)).map(function(U){return U.clone(!0)}));return new W(this.position,H,this.baseVersion)}},{key:'getReversed',value:function(){return new R.default(this.position,this.nodes.maxOffset,this.baseVersion+1)}},{key:'_execute',value:function(){var H=this.nodes;this.nodes=new E.default([].concat(d(H)).map(function(G){return G.clone(!0)}));var U=N.default.insert(this.position,H);return{range:U}}},{key:'type',get:function(){return'insert'}}],[{key:'fromJSON',value:function(H,U){var G=[],J=!0,Z=!1,Y;try{for(var Q=H.nodes[Symbol.iterator](),X,ee;!(J=(X=Q.next()).done);J=!0)ee=X.value,ee.name?G.push(q.default.fromJSON(ee)):G.push(L.default.fromJSON(ee))}catch(te){Z=!0,Y=te}finally{try{!J&&Q.return&&Q.return()}finally{if(Z)throw Y}}return new W(S.default.fromJSON(H.position,U),G,H.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.InsertOperation'}}]),W}(C.default);o.default=z},function(r,o,u){'use strict';function s(N){return N&&N.__esModule?N:{default:N}}function d(N,V){if(!(N instanceof V))throw new TypeError('Cannot call a class as a function')}function f(N,V){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:N}function h(N,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);N.prototype=Object.create(V&&V.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(N,V):N.__proto__=V)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function N(V,L){for(var D=0,q;D<L.length;D++)q=L[D],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(V,q.key,q)}return function(V,L,D){return L&&N(V.prototype,L),D&&N(V,D),V}}(),w=function N(V,L,D){null===V&&(V=Function.prototype);var q=Object.getOwnPropertyDescriptor(V,L);if(q===void 0){var z=Object.getPrototypeOf(V);return null===z?void 0:N(z,L,D)}if('value'in q)return q.value;var $=q.get;return void 0===$?void 0:$.call(D)},M=u(28),C=s(M),O=u(1),S=s(O),T=u(5),E=s(T),I=u(113),R=s(I),F=function(N){function V(L,D,q){d(this,V);var z=L.root.document.graveyard,$=new S.default(z,[z.maxOffset,0]);return f(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,L,D,$,q))}return h(V,N),P(V,[{key:'getReversed',value:function(){return new R.default(this.targetPosition,this.howMany,this.sourcePosition,this.baseVersion+1)}},{key:'clone',value:function(){var D=new V(this.sourcePosition,this.howMany,this.baseVersion);return D.targetPosition=S.default.createFromPosition(this.targetPosition),D}},{key:'_execute',value:function(){if(this._needsHolderElement){var D=this.targetPosition.root,q=new E.default('$graveyardHolder');D.insertChildren(this._holderElementOffset,q),this.sourcePosition.root==D&&this.sourcePosition.path[0]>=this._holderElementOffset&&this.sourcePosition.path[0]++}return w(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),'_execute',this).call(this)}},{key:'type',get:function(){return'remove'}},{key:'_holderElementOffset',get:function(){return this.targetPosition.path[0]},set:function(D){this.targetPosition.path[0]=D}},{key:'_needsHolderElement',get:function(){if(this.delta){var D=!0,q=!1,z;try{for(var $=this.delta.operations[Symbol.iterator](),W,K;!(D=(W=$.next()).done);D=!0)if(K=W.value,K instanceof V){if(K==this)return!0;if(K._holderElementOffset==this._holderElementOffset)return!1}}catch(H){q=!0,z=H}finally{try{!D&&$.return&&$.return()}finally{if(q)throw z}}}return!0}}],[{key:'fromJSON',value:function(D,q){var z=S.default.fromJSON(D.sourcePosition,q),$=new V(z,D.howMany,D.baseVersion);return $.targetPosition=S.default.fromJSON(D.targetPosition,q),$}},{key:'className',get:function(){return'engine.model.operation.RemoveOperation'}}]),V}(C.default);o.default=F},function(r,o,u){'use strict';function d(T,E){if(!(T instanceof E))throw new TypeError('Cannot call a class as a function')}function f(T,E){if(!T)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:T}function h(T,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(){return 0===this.childCount?0:null}Object.defineProperty(o,'__esModule',{value:!0});var w=function(){function T(E,I){for(var R=0,F;R<I.length;R++)F=I[R],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(E,F.key,F)}return function(E,I,R){return I&&T(E.prototype,I),R&&T(E,R),E}}(),M=function T(E,I,R){null===E&&(E=Function.prototype);var F=Object.getOwnPropertyDescriptor(E,I);if(F===void 0){var N=Object.getPrototypeOf(E);return null===N?void 0:T(N,I,R)}if('value'in F)return F.value;var V=F.get;return void 0===V?void 0:V.call(R)},C=u(21),O=function(T){return T&&T.__esModule?T:{default:T}}(C),S=function(T){function E(I,R,F){d(this,E);var N=f(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I,R,F));return N.getFillerOffset=P,N}return h(E,T),w(E,[{key:'is',value:function(R){var F=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return F?'containerElement'==R&&F==this.name||M(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),'is',this).call(this,R,F):'containerElement'==R||M(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),'is',this).call(this,R)}}]),E}(O.default);o.default=S},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.toImageWidget=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(O,S){return O.setCustomProperty(C,!0),(0,P.widgetize)(O,{label:function(){var E=O.getChild(0),I=E.getAttribute('alt');return I?I+' '+S:S}})},o.isImageWidget=function(O){return!!O.getCustomProperty(C)&&(0,P.isWidget)(O)},o.isImage=function(O){return O instanceof M.default&&'image'==O.name};var P=u(119),w=u(5),M=function(O){return O&&O.__esModule?O:{default:O}}(w),C=Symbol('isImage')},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(d){return!!(d&&d[Symbol.iterator])}},function(r,o,u){'use strict';function s(N){return N&&N.__esModule?N:{default:N}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(82),h=s(f),P=u(125),w=s(P),M=u(126),C=s(M),O=u(136),S=s(O),T=u(442),E=s(T),I=u(94),R=s(I);o.default=function(N,V,L){var D=-1,q=w.default,z=N.length,$=!0,W=[],K=W;if(L)$=!1,q=C.default;else if(z>=200){var H=V?null:(0,E.default)(N);if(H)return(0,R.default)(H);$=!1,q=S.default,K=new h.default}else K=V?[]:W;outer:for(;++D<z;){var U=N[D],G=V?V(U):U;if(U=L||0!==U?U:0,$&&G===G){for(var J=K.length;J--;)if(K[J]===G)continue outer;V&&K.push(G),W.push(U)}else q(K,G,L)||(K!==W&&K.push(G),W.push(U))}return W}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var d='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&'function'==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?'symbol':typeof f};o.default=function(f){return!!f&&'object'==('undefined'==typeof f?'undefined':d(f))}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&'function'==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?'symbol':typeof O},h=u(43),P=function(O){return O&&O.__esModule?O:{default:O}}(h),M=Object.prototype,C=M.toString;o.default=function(O){return'symbol'==('undefined'==typeof O?'undefined':f(O))||(0,P.default)(O)&&C.call(O)=='[object Symbol]'}},function(r){'use strict';r.exports=function(){var s=[];return s.toString=function(){for(var f=[],h=0,P;h<this.length;h++)P=this[h],P[2]?f.push('@media '+P[2]+'{'+P[1]+'}'):f.push(P[1]);return f.join('')},s.i=function(d,f){'string'==typeof d&&(d=[[null,d,'']]);for(var h={},P=0,w;P<this.length;P++)w=this[P][0],'number'==typeof w&&(h[w]=!0);for(P=0;P<d.length;P++){var M=d[P];'number'==typeof M[0]&&h[M[0]]||(f&&!M[2]?M[2]=f:f&&(M[2]='('+M[2]+') and ('+f+')'),s.push(M))}},s}},function(r,o,u){'use strict';function s(N){return N&&N.__esModule?N:{default:N}}function d(N,V){if(!(N instanceof V))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var h=function(){function N(V,L){for(var D=0,q;D<L.length;D++)q=L[D],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(V,q.key,q)}return function(V,L,D){return L&&N(V.prototype,L),D&&N(V,D),V}}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=function(){return new F};var P=u(102),w=u(159),M=u(116),C=s(M),O=u(39),S=s(O),T=u(171),E=s(T),I=u(0),R=s(I),F=function(){function N(){d(this,N),this._dispatchers=[],this._from=null}return h(N,[{key:'for',value:function(){for(var L=arguments.length,D=Array(L),q=0;q<L;q++)D[q]=arguments[q];return this._dispatchers=D,this}},{key:'fromElement',value:function(L){return this._from={type:'element',name:L,priority:null},this}},{key:'fromAttribute',value:function(L){return this._from={type:'attribute',key:L,priority:null},this}},{key:'fromMarker',value:function(L){return this._from={type:'marker',name:L,priority:null},this}},{key:'withPriority',value:function(L){return this._from.priority=L,this}},{key:'toElement',value:function(L){var D=null===this._from.priority?'normal':this._from.priority,q=!0,z=!1,$;try{for(var W=this._dispatchers[Symbol.iterator](),K,H;!(q=(K=W.next()).done);q=!0)H=K.value,'element'==this._from.type?(L='string'==typeof L?new S.default(L):L,H.on('insert:'+this._from.name,(0,P.insertElement)(L),{priority:D})):'attribute'==this._from.type?(L='string'==typeof L?new C.default(L):L,H.on('addAttribute:'+this._from.key,(0,P.wrapItem)(L),{priority:D}),H.on('changeAttribute:'+this._from.key,(0,P.wrapItem)(L),{priority:D}),H.on('removeAttribute:'+this._from.key,(0,P.unwrapItem)(L),{priority:D}),H.on('selectionAttribute:'+this._from.key,(0,w.convertSelectionAttribute)(L),{priority:D})):(L='string'==typeof L?new C.default(L):L,H.on('addMarker:'+this._from.name,(0,P.wrapRange)(L),{priority:D}),H.on('removeMarker:'+this._from.name,(0,P.unwrapRange)(L),{priority:D}),H.on('selectionMarker:'+this._from.name,(0,w.convertSelectionMarker)(L),{priority:D}))}catch(U){z=!0,$=U}finally{try{!q&&W.return&&W.return()}finally{if(z)throw $}}}},{key:'toStamp',value:function(L){var D=!0,q=!1,z;try{for(var $=this._dispatchers[Symbol.iterator](),W,K;!(D=(W=$.next()).done);D=!0){if(K=W.value,'marker'!=this._from.type)throw new R.default('build-model-converter-non-marker-to-stamp: To-stamp conversion is supported only from model markers.');var H=null===this._from.priority?'normal':this._from.priority;L='string'==typeof L?new E.default(L):L,K.on('addMarker:'+this._from.name,(0,P.insertUIElement)(L),{priority:H}),K.on('removeMarker:'+this._from.name,(0,P.removeUIElement)(L),{priority:H})}}catch(U){q=!0,z=U}finally{try{!D&&$.return&&$.return()}finally{if(q)throw z}}}},{key:'toAttribute',value:function(L,D){if('attribute'!=this._from.type)throw new R.default('build-model-converter-non-attribute-to-attribute: To-attribute conversion is supported only from model attributes.');var q=L?'string'==typeof L?D?function(){return{key:L,value:D}}:function(Z){return{key:L,value:Z}}:L:void 0;var z=!0,$=!1,W;try{for(var K=this._dispatchers[Symbol.iterator](),H;!(z=(H=K.next()).done);z=!0){var U=H.value,G={priority:this._from.priority||'normal'};U.on('addAttribute:'+this._from.key,(0,P.setAttribute)(q),G),U.on('changeAttribute:'+this._from.key,(0,P.setAttribute)(q),G),U.on('removeAttribute:'+this._from.key,(0,P.removeAttribute)(q),G)}}catch(J){$=!0,W=J}finally{try{!z&&K.return&&K.return()}finally{if($)throw W}}}}]),N}()},function(r,o,u){'use strict';function s(D){return D&&D.__esModule?D:{default:D}}function d(D,q){if(!(D instanceof q))throw new TypeError('Cannot call a class as a function')}function f(D,q,z,$){if((0,V.default)(D)){var W=!0,K=!1,H;try{for(var U=D[Symbol.iterator](),G,J;!(W=(G=U.next()).done);W=!0)J=G.value,f(J,q,z,$)}catch(Q){K=!0,H=Q}finally{try{!W&&U.return&&U.return()}finally{if(K)throw H}}return}var Z=Array.from(D.getAttributeKeys());Z.push(q.key);var Y={name:D.name||'$text',attributes:Z,inside:z.context};$.schema.check(Y)&&D.setAttribute(q.key,q.value)}Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function D(q,z){for(var $=0,W;$<z.length;$++)W=z[$],W.enumerable=W.enumerable||!1,W.configurable=!0,'value'in W&&(W.writable=!0),Object.defineProperty(q,W.key,W)}return function(q,z,$){return z&&D(q.prototype,z),$&&D(q,$),q}}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=function(){return new L};var w=u(168),M=s(w),C=u(5),O=s(C),S=u(1),T=s(S),E=u(18),I=s(E),R=u(0),F=s(R),N=u(41),V=s(N),L=function(){function D(){d(this,D),this._dispatchers=[],this._from=[]}return P(D,[{key:'for',value:function(){for(var z=arguments.length,$=Array(z),W=0;W<z;W++)$[W]=arguments[W];return this._dispatchers=$,this}},{key:'fromElement',value:function(z){return this.from({name:z})}},{key:'fromAttribute',value:function(z){var $=1<arguments.length&&void 0!==arguments[1]?arguments[1]:/.*/,W={};return W[z]=$,this.from(W)}},{key:'from',value:function(z){return z instanceof M.default||(z=new M.default(z)),this._from.push({matcher:z,consume:!1,priority:null}),this}},{key:'consuming',value:function(z){var $=this._from[this._from.length-1];return $.consume=z,this}},{key:'withPriority',value:function(z){var $=this._from[this._from.length-1];return $.priority=z,this}},{key:'toElement',value:function(z){this._setCallback(function(W){return function(K,H,U,G){var J=W.matcher.matchAll(H.input);if(J){var Z=!0,Y=!1,Q;try{for(var X=J[Symbol.iterator](),ee;!(Z=(ee=X.next()).done);Z=!0){var te=ee.value,re=z instanceof Function?z(H.input):new O.default(z),ae=Array.from(re.getAttributeKeys());if(G.schema.check({name:re.name,attributes:ae,inside:H.context})&&U.consume(H.input,W.consume||te.match)){H.context.push(re);var oe=G.convertChildren(H.input,U,H),le=T.default.createAt(re,'end');I.default.insert(le,oe),H.context.pop(),H.output=re;break}}}catch(ue){Y=!0,Q=ue}finally{try{!Z&&X.return&&X.return()}finally{if(Y)throw Q}}}}},'normal')}},{key:'toAttribute',value:function(z,$){this._setCallback(function(K){return function(H,U,G,J){var Z=K.matcher.matchAll(U.input);if(Z){var Y=!0,Q=!1,X;try{for(var ee=Z[Symbol.iterator](),te,re;!(Y=(te=ee.next()).done);Y=!0)if(re=te.value,!!G.consume(U.input,K.consume||re.match)){U.output||(U.output=J.convertChildren(U.input,G,U));var ae=z instanceof Function?z(U.input):{key:z,value:$};f(U.output,ae,U,J);break}}catch(oe){Q=!0,X=oe}finally{try{!Y&&ee.return&&ee.return()}finally{if(Q)throw X}}}}},'low')}},{key:'toMarker',value:function(z){this._setCallback(function(W){return function(K,H,U){var G=W.matcher.matchAll(H.input);if(G){var J;if(J=z instanceof Function?z(H.input):new O.default('$marker',{'data-name':H.input.getAttribute('data-name')}),'$marker'!=J.name||'string'!=typeof J.getAttribute('data-name'))throw new F.default('build-view-converter-invalid-marker: Invalid model element to mark marker range.');var Z=!0,Y=!1,Q;try{for(var X=G[Symbol.iterator](),ee,te;!(Z=(ee=X.next()).done);Z=!0)if(te=ee.value,!!U.consume(H.input,W.consume||te.match)){H.output=J;break}}catch(re){Y=!0,Q=re}finally{try{!Z&&X.return&&X.return()}finally{if(Y)throw Q}}}}},'normal')}},{key:'_setCallback',value:function(z,$){var W=!0,K=!1,H;try{for(var U=this._from[Symbol.iterator](),G;!(W=(G=U.next()).done);W=!0){var J=G.value,Z=J.matcher.getElementName(),Y=Z?'element:'+Z:'element',Q=z(J),X=null===J.priority?$:J.priority,ee=!0,te=!1,re=void 0;try{for(var ae=this._dispatchers[Symbol.iterator](),oe,le;!(ee=(oe=ae.next()).done);ee=!0)le=oe.value,le.on(Y,Q,{priority:X})}catch(ue){te=!0,re=ue}finally{try{!ee&&ae.return&&ae.return()}finally{if(te)throw re}}}}catch(ue){K=!0,H=ue}finally{try{!W&&U.return&&U.return()}finally{if(K)throw H}}}}]),D}()},function(r,o,u){'use strict';function s(R){return R&&R.__esModule?R:{default:R}}function d(R,F){if(!(R instanceof F))throw new TypeError('Cannot call a class as a function')}function f(R){return'string'==typeof R?[new S.default(R)]:((0,E.default)(R)||(R=[R]),Array.from(R).map(function(F){return'string'==typeof F?new S.default(F):F}))}Object.defineProperty(o,'__esModule',{value:!0});var h=function(){function R(F,N){for(var V=0,L;V<N.length;V++)L=N[V],L.enumerable=L.enumerable||!1,L.configurable=!0,'value'in L&&(L.writable=!0),Object.defineProperty(F,L.key,L)}return function(F,N,V){return N&&R(F.prototype,N),V&&R(F,V),F}}(),P=u(71),w=s(P),M=u(5),C=s(M),O=u(24),S=s(O),T=u(41),E=s(T),I=function(){function R(F){d(this,R),this.markers=new Map,this._children=new w.default,F&&this.insertChildren(0,F)}return h(R,[{key:Symbol.iterator,value:function(){return this.getChildren()}},{key:'is',value:function(N){return'documentFragment'==N}},{key:'getChild',value:function(N){return this._children.getNode(N)}},{key:'getChildren',value:function(){return this._children[Symbol.iterator]()}},{key:'getChildIndex',value:function(N){return this._children.getNodeIndex(N)}},{key:'getChildStartOffset',value:function(N){return this._children.getNodeStartOffset(N)}},{key:'getPath',value:function(){return[]}},{key:'offsetToIndex',value:function(N){return this._children.offsetToIndex(N)}},{key:'appendChildren',value:function(N){this.insertChildren(this.childCount,N)}},{key:'insertChildren',value:function(N,V){V=f(V);var L=!0,D=!1,q;try{for(var z=V[Symbol.iterator](),$,W;!(L=($=z.next()).done);L=!0)W=$.value,W.parent=this}catch(K){D=!0,q=K}finally{try{!L&&z.return&&z.return()}finally{if(D)throw q}}this._children.insertNodes(N,V)}},{key:'removeChildren',value:function(N){var V=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,L=this._children.removeNodes(N,V),D=!0,q=!1,z;try{for(var $=L[Symbol.iterator](),W,K;!(D=(W=$.next()).done);D=!0)K=W.value,K.parent=null}catch(H){q=!0,z=H}finally{try{!D&&$.return&&$.return()}finally{if(q)throw z}}return L}},{key:'toJSON',value:function(){var N=[],V=!0,L=!1,D;try{for(var q=this._children[Symbol.iterator](),z,$;!(V=(z=q.next()).done);V=!0)$=z.value,N.push($.toJSON())}catch(W){L=!0,D=W}finally{try{!V&&q.return&&q.return()}finally{if(L)throw D}}return N}},{key:'childCount',get:function(){return this._children.length}},{key:'maxOffset',get:function(){return this._children.maxOffset}},{key:'isEmpty',get:function(){return 0===this.childCount}},{key:'root',get:function(){return this}},{key:'parent',get:function(){return null}}],[{key:'fromJSON',value:function(N){var V=[],L=!0,D=!1,q;try{for(var z=N[Symbol.iterator](),$,W;!(L=($=z.next()).done);L=!0)W=$.value,W.name?V.push(C.default.fromJSON(W)):V.push(S.default.fromJSON(W))}catch(K){D=!0,q=K}finally{try{!L&&z.return&&z.return()}finally{if(D)throw q}}return new R(V)}}]),R}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=I},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}function d(O,S){if(!(O instanceof S))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function O(S,T){for(var E=0,I;E<T.length;E++)I=T[E],I.enumerable=I.enumerable||!1,I.configurable=!0,'value'in I&&(I.writable=!0),Object.defineProperty(S,I.key,I)}return function(S,T,E){return T&&O(S.prototype,T),E&&O(S,E),S}}(),h=u(80),P=s(h),w=u(4),M=s(w),C=function(){function O(S){d(this,O),this.document=S,this.isEnabled=!1}return f(O,[{key:'enable',value:function(){this.isEnabled=!0}},{key:'disable',value:function(){this.isEnabled=!1}},{key:'destroy',value:function(){this.disable(),this.stopListening()}}]),O}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=C,(0,M.default)(C,P.default)},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}function d(F,N){if(!(F instanceof N))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function F(N,V){for(var L=0,D;L<V.length;L++)D=V[L],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}return function(N,V,L){return V&&F(N.prototype,V),L&&F(N,L),N}}(),h=u(21),P=s(h),w=u(30),M=s(w),C=u(329),O=s(C),S=u(25),T=s(S),E=u(0),I=s(E),R=function(){function F(){var N=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(d(this,F),!N.boundaries&&!N.startPosition)throw new I.default('view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');if(N.direction&&'forward'!=N.direction&&'backward'!=N.direction)throw new I.default('view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:N.direction});this.boundaries=N.boundaries||null,this.position=N.startPosition?T.default.createFromPosition(N.startPosition):T.default.createFromPosition(N.boundaries['backward'==N.direction?'end':'start']),this.direction=N.direction||'forward',this.singleCharacters=!!N.singleCharacters,this.shallow=!!N.shallow,this.ignoreElementEnd=!!N.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}return f(F,[{key:Symbol.iterator,value:function(){return this}},{key:'skip',value:function(V){var L,D,q;do{q=this.position;var z=this.next();L=z.done,D=z.value}while(!L&&V(D));L||(this.position=q)}},{key:'next',value:function(){return'forward'==this.direction?this._next():this._previous()}},{key:'_next',value:function(){var V=T.default.createFromPosition(this.position),L=this.position,D=V.parent;if(null===D.parent&&V.offset===D.childCount)return{done:!0};if(D===this._boundaryEndParent&&V.offset==this.boundaries.end.offset)return{done:!0};var q;if(D instanceof M.default){if(V.isAtEnd)return this.position=T.default.createAfter(D),this._next();q=D.data[V.offset]}else q=D.getChild(V.offset);if(q instanceof P.default)return this.shallow?V.offset++:V=new T.default(q,0),this.position=V,this._formatReturnValue('elementStart',q,L,V,1);if(q instanceof M.default){if(this.singleCharacters)return V=new T.default(q,0),this.position=V,this._next();var z=q.data.length,$=q;return q==this._boundaryEndParent?(z=this.boundaries.end.offset,$=new O.default(q,0,z),V=T.default.createAfter($)):V.offset++,this.position=V,this._formatReturnValue('text',$,L,V,z)}if('string'==typeof q){var W;if(this.singleCharacters)W=1;else{var K=D===this._boundaryEndParent?this.boundaries.end.offset:D.data.length;W=K-V.offset}var H=new O.default(D,V.offset,W);return V.offset+=W,this.position=V,this._formatReturnValue('text',H,L,V,W)}return V=T.default.createAfter(D),this.position=V,this.ignoreElementEnd?this._next():this._formatReturnValue('elementEnd',D,L,V)}},{key:'_previous',value:function(){var V=T.default.createFromPosition(this.position),L=this.position,D=V.parent;if(null===D.parent&&0===V.offset)return{done:!0};if(D==this._boundaryStartParent&&V.offset==this.boundaries.start.offset)return{done:!0};var q;if(D instanceof M.default){if(V.isAtStart)return this.position=T.default.createBefore(D),this._previous();q=D.data[V.offset-1]}else q=D.getChild(V.offset-1);if(q instanceof P.default)return this.shallow?(V.offset--,this.position=V,this._formatReturnValue('elementStart',q,L,V,1)):(V=new T.default(q,q.childCount),this.position=V,this.ignoreElementEnd?this._previous():this._formatReturnValue('elementEnd',q,L,V));if(q instanceof M.default){if(this.singleCharacters)return V=new T.default(q,q.data.length),this.position=V,this._previous();var z=q.data.length,$=q;if(q==this._boundaryStartParent){var W=this.boundaries.start.offset;$=new O.default(q,W,q.data.length-W),z=$.data.length,V=T.default.createBefore($)}else V.offset--;return this.position=V,this._formatReturnValue('text',$,L,V,z)}if('string'==typeof q){var K;if(!this.singleCharacters){var H=D===this._boundaryStartParent?this.boundaries.start.offset:0;K=V.offset-H}else K=1;V.offset-=K;var U=new O.default(D,V.offset,K);return this.position=V,this._formatReturnValue('text',U,L,V,K)}return V=T.default.createBefore(D),this.position=V,this._formatReturnValue('elementStart',D,L,V,1)}},{key:'_formatReturnValue',value:function(V,L,D,q,z){return L instanceof O.default&&(L.offsetInText+L.data.length==L.textNode.data.length&&('forward'!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?D=T.default.createAfter(L.textNode):(q=T.default.createAfter(L.textNode),this.position=q)),0===L.offsetInText&&('backward'!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?D=T.default.createBefore(L.textNode):(q=T.default.createBefore(L.textNode),this.position=q))),{done:!1,value:{type:V,item:L,previousPosition:D,nextPosition:q,length:z}}}}]),F}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=R},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(d,f){for(var h=_Mathmin(d.length,f.length),P=0;P<h;P++)if(d[P]!=f[P])return P;return d.length==f.length?'same':d.length<f.length?'prefix':'extension'}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(236),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w){var M=P[w];return(0,h.default)(M)?M:void 0}},function(r,o,u){'use strict';function s(S){return S&&S.__esModule?S:{default:S}}Object.defineProperty(o,'__esModule',{value:!0});var f='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&'function'==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?'symbol':typeof S},h=u(11),P=s(h),w=u(44),M=s(w),C=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/;o.default=function(S,T){if((0,P.default)(S))return!1;var E='undefined'==typeof S?'undefined':f(S);return'number'==E||'symbol'==E||'boolean'==E||null==S||(0,M.default)(S)||O.test(S)||!C.test(S)||null!=T&&S in Object(T)}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(44),h=function(w){return w&&w.__esModule?w:{default:w}}(f);o.default=function(w){if('string'==typeof w||(0,h.default)(w))return w;var M=w+'';return'0'==M&&1/w==-(1/0)?'-0':M}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d,f){return d===f||d!==d&&f!==f}},function(r,o,u){'use strict';function s(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(483);Object.defineProperty(o,'default',{enumerable:!0,get:function(){return s(d).default}})},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0});/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */o.default={error:function(f,h){console.error(f,h)},warn:function(f,h){console.warn(f,h)}}},function(r){function u(L,D){for(var q=0;q<L.length;q++){var z=L[q],$=S[z.id];if($){$.refs++;for(var W=0;W<$.parts.length;W++)$.parts[W](z.parts[W]);for(;W<z.parts.length;W++)$.parts.push(w(z.parts[W],D))}else{for(var K=[],W=0;W<z.parts.length;W++)K.push(w(z.parts[W],D));S[z.id]={id:z.id,refs:1,parts:K}}}}function s(L){for(var D=[],q={},z=0;z<L.length;z++){var $=L[z],W=$[0],K=$[1],H=$[2],U=$[3],G={css:K,media:H,sourceMap:U};q[W]?q[W].parts.push(G):D.push(q[W]={id:W,parts:[G]})}return D}function d(L,D){var q=I(),z=N[N.length-1];if('top'===L.insertAt)z?z.nextSibling?q.insertBefore(D,z.nextSibling):q.appendChild(D):q.insertBefore(D,q.firstChild),N.push(D);else if('bottom'===L.insertAt)q.appendChild(D);else throw new Error('Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.')}function f(L){L.parentNode.removeChild(L);var D=N.indexOf(L);0<=D&&N.splice(D,1)}function h(L){var D=document.createElement('style');return D.type='text/css',d(L,D),D}function P(L){var D=document.createElement('link');return D.rel='stylesheet',d(L,D),D}function w(L,D){var q,z,$;if(D.singleton){var W=F++;q=R||(R=h(D)),z=M.bind(null,q,W,!1),$=M.bind(null,q,W,!0)}else L.sourceMap&&'function'==typeof URL&&'function'==typeof URL.createObjectURL&&'function'==typeof URL.revokeObjectURL&&'function'==typeof Blob&&'function'==typeof btoa?(q=P(D),z=O.bind(null,q),$=function(){f(q),q.href&&URL.revokeObjectURL(q.href)}):(q=h(D),z=C.bind(null,q),$=function(){f(q)});return z(L),function(H){if(H){if(H.css===L.css&&H.media===L.media&&H.sourceMap===L.sourceMap)return;z(L=H)}else $()}}function M(L,D,q,z){var $=q?'':z.css;if(L.styleSheet)L.styleSheet.cssText=V(D,$);else{var W=document.createTextNode($),K=L.childNodes;K[D]&&L.removeChild(K[D]),K.length?L.insertBefore(W,K[D]):L.appendChild(W)}}function C(L,D){var q=D.css,z=D.media;if(z&&L.setAttribute('media',z),L.styleSheet)L.styleSheet.cssText=q;else{for(;L.firstChild;)L.removeChild(L.firstChild);L.appendChild(document.createTextNode(q))}}function O(L,D){var q=D.css,z=D.sourceMap;z&&(q+='\n/*# sourceMappingURL=data:application/json;base64,'+btoa(unescape(encodeURIComponent(JSON.stringify(z))))+' */');var $=new Blob([q],{type:'text/css'}),W=L.href;L.href=URL.createObjectURL($),W&&URL.revokeObjectURL(W)}var S={},T=function(L){var D;return function(){return'undefined'==typeof D&&(D=L.apply(this,arguments)),D}},E=T(function(){return /msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),I=T(function(){return document.head||document.getElementsByTagName('head')[0]}),R=null,F=0,N=[];r.exports=function(L,D){if('undefined'!=typeof DEBUG&&DEBUG&&'object'!=typeof document)throw new Error('The style-loader cannot be used in a non-browser environment');D=D||{},'undefined'==typeof D.singleton&&(D.singleton=E()),'undefined'==typeof D.insertAt&&(D.insertAt='bottom');var q=s(L);return u(q,D),function($){for(var W=[],K=0;K<q.length;K++){var H=q[K],U=S[H.id];U.refs--,W.push(U)}if($){var G=s($);u(G,D)}for(var K=0,U;K<W.length;K++)if(U=W[K],0===U.refs){for(var J=0;J<U.parts.length;J++)U.parts[J]();delete S[U.id]}}};var V=function(){var L=[];return function(D,q){return L[D]=q,L.filter(Boolean).join('\n')}}()},function(r,o,u){'use strict';function s(S){return S&&S.__esModule?S:{default:S}}function d(S){if(Array.isArray(S)){for(var T=0,E=Array(S.length);T<S.length;T++)E[T]=S[T];return E}return Array.from(S)}function f(S,T){if(!(S instanceof T))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var h=function(){function S(T,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}return function(T,E,I){return E&&S(T.prototype,E),I&&S(T,I),T}}(),P=u(152),w=s(P),M=u(0),C=s(M),O=function(){function S(T){f(this,S),this.parent=null,this._attrs=(0,w.default)(T)}return h(S,[{key:'clone',value:function(){return new S(this._attrs)}},{key:'getPath',value:function(){for(var E=[],I=this;I.parent;)E.unshift(I.startOffset),I=I.parent;return E}},{key:'getAncestors',value:function(){for(var E=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeNode:!1,parentFirst:!1},I=[],R=E.includeNode?this:this.parent;R;)I[E.parentFirst?'push':'unshift'](R),R=R.parent;return I}},{key:'remove',value:function(){this.parent.removeChildren(this.index)}},{key:'hasAttribute',value:function(E){return this._attrs.has(E)}},{key:'getAttribute',value:function(E){return this._attrs.get(E)}},{key:'getAttributes',value:function(){return this._attrs.entries()}},{key:'getAttributeKeys',value:function(){return this._attrs.keys()}},{key:'setAttribute',value:function(E,I){this._attrs.set(E,I)}},{key:'setAttributesTo',value:function(E){this._attrs=(0,w.default)(E)}},{key:'removeAttribute',value:function(E){return this._attrs.delete(E)}},{key:'clearAttributes',value:function(){this._attrs.clear()}},{key:'toJSON',value:function(){var E={};return this._attrs.size&&(E.attributes=[].concat(d(this._attrs))),E}},{key:'index',get:function(){var E;if(!this.parent)return null;if(null===(E=this.parent.getChildIndex(this)))throw new C.default('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return E}},{key:'startOffset',get:function(){var E;if(!this.parent)return null;if(null===(E=this.parent.getChildStartOffset(this)))throw new C.default('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return E}},{key:'offsetSize',get:function(){return 1}},{key:'endOffset',get:function(){return this.parent?this.startOffset+this.offsetSize:null}},{key:'nextSibling',get:function(){var E=this.index;return null!==E&&this.parent.getChild(E+1)||null}},{key:'previousSibling',get:function(){var E=this.index;return null!==E&&this.parent.getChild(E-1)||null}},{key:'root',get:function(){for(var E=this;E.parent;)E=E.parent;return E}},{key:'document',get:function(){return this.root==this?null:this.root.document||null}}]),S}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=O},function(r,o,u){'use strict';function s(K){return K&&K.__esModule?K:{default:K}}function d(K,H){if(!(K instanceof H))throw new TypeError('Cannot call a class as a function')}function f(K,H){return!H.has(K)&&(H.add(K),K.document.schema.itemExtends(K.name,'$block')&&K.parent)}function h(K,H){var U=K.parent.getAncestors({parentFirst:!0,includeNode:!0}),G=U.find(function(J){return f(J,H)});return U.forEach(function(J){return H.add(J)}),G}Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function K(H,U){var G=[],J=!0,Z=!1,Y;try{for(var Q=H[Symbol.iterator](),X;!(J=(X=Q.next()).done)&&(G.push(X.value),!(U&&G.length===U));J=!0);}catch(ee){Z=!0,Y=ee}finally{try{!J&&Q['return']&&Q['return']()}finally{if(Z)throw Y}}return G}return function(H,U){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return K(H,U);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),w=function(){function K(H,U){for(var G=0,J;G<U.length;G++)J=U[G],J.enumerable=J.enumerable||!1,J.configurable=!0,'value'in J&&(J.writable=!0),Object.defineProperty(H,J.key,J)}return function(H,U,G){return U&&K(H.prototype,U),G&&K(H,G),H}}(),M=u(1),C=s(M),O=u(5),S=s(O),T=u(2),E=s(T),I=u(7),R=s(I),F=u(0),N=s(F),V=u(4),L=s(V),D=u(152),q=s(D),z=u(502),$=s(z),W=function(){function K(){d(this,K),this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map}return w(K,[{key:'isEqual',value:function(U){if(this.rangeCount!=U.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(U.anchor)||!this.focus.isEqual(U.focus))return!1;var G=!0,J=!1,Z;try{for(var Y=this._ranges[Symbol.iterator](),Q;!(G=(Q=Y.next()).done);G=!0){var X=Q.value,ee=!1,te=!0,re=!1,ae=void 0;try{for(var oe=U._ranges[Symbol.iterator](),le,ue;!(te=(le=oe.next()).done);te=!0)if(ue=le.value,X.isEqual(ue)){ee=!0;break}}catch(ie){re=!0,ae=ie}finally{try{!te&&oe.return&&oe.return()}finally{if(re)throw ae}}if(!ee)return!1}}catch(ie){J=!0,Z=ie}finally{try{!G&&Y.return&&Y.return()}finally{if(J)throw Z}}return!0}},{key:'getRanges',value:regeneratorRuntime.mark(function H(){var U,G,J,Z,Y,Q;return regeneratorRuntime.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:U=!0,G=!1,J=void 0,ee.prev=3,Z=this._ranges[Symbol.iterator]();case 5:if(U=(Y=Z.next()).done){ee.next=12;break}return Q=Y.value,ee.next=9,E.default.createFromRange(Q);case 9:U=!0,ee.next=5;break;case 12:ee.next=18;break;case 14:ee.prev=14,ee.t0=ee['catch'](3),G=!0,J=ee.t0;case 18:ee.prev=18,ee.prev=19,!U&&Z.return&&Z.return();case 21:if(ee.prev=21,!G){ee.next=24;break}throw J;case 24:return ee.finish(21);case 25:return ee.finish(18);case 26:case'end':return ee.stop();}},H,this,[[3,14,18,26],[19,,21,25]])})},{key:'getFirstRange',value:function(){var U=null,G=!0,J=!1,Z;try{for(var Y=this._ranges[Symbol.iterator](),Q,X;!(G=(Q=Y.next()).done);G=!0)X=Q.value,(!U||X.start.isBefore(U.start))&&(U=X)}catch(ee){J=!0,Z=ee}finally{try{!G&&Y.return&&Y.return()}finally{if(J)throw Z}}return U?E.default.createFromRange(U):null}},{key:'getLastRange',value:function(){var U=null,G=!0,J=!1,Z;try{for(var Y=this._ranges[Symbol.iterator](),Q,X;!(G=(Q=Y.next()).done);G=!0)X=Q.value,(!U||X.end.isAfter(U.end))&&(U=X)}catch(ee){J=!0,Z=ee}finally{try{!G&&Y.return&&Y.return()}finally{if(J)throw Z}}return U?E.default.createFromRange(U):null}},{key:'getFirstPosition',value:function(){var U=this.getFirstRange();return U?C.default.createFromPosition(U.start):null}},{key:'getLastPosition',value:function(){var U=this.getLastRange();return U?C.default.createFromPosition(U.end):null}},{key:'addRange',value:function(U){var G=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this._pushRange(U),this._lastRangeBackward=!!G,this.fire('change:range',{directChange:!0})}},{key:'removeAllRanges',value:function(){0<this._ranges.length&&(this._removeAllRanges(),this.fire('change:range',{directChange:!0}))}},{key:'setRanges',value:function(U){var G=this,J=1<arguments.length&&void 0!==arguments[1]&&arguments[1];U=Array.from(U);var Z=U.some(function(ae){if(!(ae instanceof E.default))throw new N.default('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');return G._ranges.every(function(oe){return!oe.isEqual(ae)})});if(U.length!==this._ranges.length||Z){this._removeAllRanges();var Y=!0,Q=!1,X;try{for(var ee=U[Symbol.iterator](),te,re;!(Y=(te=ee.next()).done);Y=!0)re=te.value,this._pushRange(re)}catch(ae){Q=!0,X=ae}finally{try{!Y&&ee.return&&ee.return()}finally{if(Q)throw X}}this._lastRangeBackward=!!J,this.fire('change:range',{directChange:!0})}}},{key:'setTo',value:function(U){this.setRanges(U.getRanges(),U.isBackward)}},{key:'collapse',value:function(U,G){var J=C.default.createAt(U,G),Z=new E.default(J,J);this.setRanges([Z])}},{key:'collapseToStart',value:function(){var U=this.getFirstPosition();null!==U&&this.setRanges([new E.default(U,U)])}},{key:'collapseToEnd',value:function(){var U=this.getLastPosition();null!==U&&this.setRanges([new E.default(U,U)])}},{key:'setFocus',value:function(U,G){if(null===this.anchor)throw new N.default('model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.');var J=C.default.createAt(U,G);if('same'!=J.compareWith(this.focus)){var Z=this.anchor;this._ranges.length&&this._popRange(),'before'==J.compareWith(Z)?this.addRange(new E.default(J,Z),!0):this.addRange(new E.default(Z,J))}}},{key:'getAttribute',value:function(U){return this._attrs.get(U)}},{key:'getAttributes',value:function(){return this._attrs.entries()}},{key:'getAttributeKeys',value:function(){return this._attrs.keys()}},{key:'hasAttribute',value:function(U){return this._attrs.has(U)}},{key:'clearAttributes',value:function(){if(0<this._attrs.size){var U=Array.from(this._attrs.keys());this._attrs.clear(),this.fire('change:attribute',{attributeKeys:U,directChange:!0})}}},{key:'removeAttribute',value:function(U){this.hasAttribute(U)&&(this._attrs.delete(U),this.fire('change:attribute',{attributeKeys:[U],directChange:!0}))}},{key:'setAttribute',value:function(U,G){this.getAttribute(U)!==G&&(this._attrs.set(U,G),this.fire('change:attribute',{attributeKeys:[U],directChange:!0}))}},{key:'setAttributesTo',value:function(U){if(U=(0,q.default)(U),!(0,$.default)(U,this._attrs)){var G=new Set(Array.from(U.keys()).concat(Array.from(this._attrs.keys()))),J=!0,Z=!1,Y;try{for(var Q=U[Symbol.iterator](),X;!(J=(X=Q.next()).done);J=!0){var ee=X.value,te=P(ee,2),re=te[0],ae=te[1];this._attrs.get(re)===ae&&G.delete(re)}}catch(oe){Z=!0,Y=oe}finally{try{!J&&Q.return&&Q.return()}finally{if(Z)throw Y}}this._attrs=U,this.fire('change:attribute',{attributeKeys:Array.from(G),directChange:!0})}}},{key:'getSelectedElement',value:function(){if(1!==this.rangeCount)return null;var U=this.getFirstRange(),G=U.start.nodeAfter,J=U.end.nodeBefore;return G instanceof S.default&&G==J?G:null}},{key:'getSelectedBlocks',value:regeneratorRuntime.mark(function H(){var U,G,J,Z,Y,Q,X,ee,te,re,ae,oe,le,ue,ie;return regeneratorRuntime.wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:U=new WeakSet,G=!0,J=!1,Z=void 0,fe.prev=4,Y=this.getRanges()[Symbol.iterator]();case 6:if(G=(Q=Y.next()).done){fe.next=46;break}if(X=Q.value,ee=h(X.start,U),!ee){fe.next=12;break}return fe.next=12,ee;case 12:te=!0,re=!1,ae=void 0,fe.prev=15,oe=X.getWalker()[Symbol.iterator]();case 17:if(te=(le=oe.next()).done){fe.next=25;break}if(ue=le.value,!('elementEnd'==ue.type&&f(ue.item,U))){fe.next=22;break}return fe.next=22,ue.item;case 22:te=!0,fe.next=17;break;case 25:fe.next=31;break;case 27:fe.prev=27,fe.t0=fe['catch'](15),re=!0,ae=fe.t0;case 31:fe.prev=31,fe.prev=32,!te&&oe.return&&oe.return();case 34:if(fe.prev=34,!re){fe.next=37;break}throw ae;case 37:return fe.finish(34);case 38:return fe.finish(31);case 39:if(ie=h(X.end,U),!ie){fe.next=43;break}return fe.next=43,ie;case 43:G=!0,fe.next=6;break;case 46:fe.next=52;break;case 48:fe.prev=48,fe.t1=fe['catch'](4),J=!0,Z=fe.t1;case 52:fe.prev=52,fe.prev=53,!G&&Y.return&&Y.return();case 55:if(fe.prev=55,!J){fe.next=58;break}throw Z;case 58:return fe.finish(55);case 59:return fe.finish(52);case 60:case'end':return fe.stop();}},H,this,[[4,48,52,60],[15,27,31,39],[32,,34,38],[53,,55,59]])})},{key:'_pushRange',value:function(U){if(!(U instanceof E.default))throw new N.default('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');this._checkRange(U),this._ranges.push(E.default.createFromRange(U))}},{key:'_checkRange',value:function(U){for(var G=0;G<this._ranges.length;G++)if(U.isIntersecting(this._ranges[G]))throw new N.default('model-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:U,intersectingRange:this._ranges[G]})}},{key:'_popRange',value:function(){this._ranges.pop()}},{key:'_removeAllRanges',value:function(){for(;0<this._ranges.length;)this._popRange()}},{key:'anchor',get:function(){if(0<this._ranges.length){var U=this._ranges[this._ranges.length-1];return this._lastRangeBackward?U.end:U.start}return null}},{key:'focus',get:function(){if(0<this._ranges.length){var U=this._ranges[this._ranges.length-1];return this._lastRangeBackward?U.start:U.end}return null}},{key:'isCollapsed',get:function(){var U=this._ranges.length;return 1===U&&this._ranges[0].isCollapsed}},{key:'rangeCount',get:function(){return this._ranges.length}},{key:'isBackward',get:function(){return!this.isCollapsed&&this._lastRangeBackward}}],[{key:'createFromSelection',value:function(U){var G=new this;return G.setTo(U),G}}]),K}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=W,(0,L.default)(W,R.default)},function(r,o,u){'use strict';function d(M,C){if(!(M instanceof C))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function M(C,O){for(var S=0,T;S<O.length;S++)T=O[S],T.enumerable=T.enumerable||!1,T.configurable=!0,'value'in T&&(T.writable=!0),Object.defineProperty(C,T.key,T)}return function(C,O,S){return O&&M(C.prototype,O),S&&M(C,S),C}}(),h=u(0),P=function(M){return M&&M.__esModule?M:{default:M}}(h),w=function(){function M(C,O,S){if(d(this,M),this.textNode=C,0>O||O>C.offsetSize)throw new P.default('model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>S||O+S>C.offsetSize)throw new P.default('model-textproxy-wrong-length: Given length value is incorrect.');this.data=C.data.substring(O,O+S),this.offsetInText=O}return f(M,[{key:'is',value:function(O){return'textProxy'==O}},{key:'getPath',value:function(){var O=this.textNode.getPath();return 0<O.length&&(O[O.length-1]+=this.offsetInText),O}},{key:'getAncestors',value:function(){for(var O=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeNode:!1,parentFirst:!1},S=[],T=O.includeNode?this:this.parent;T;)S[O.parentFirst?'push':'unshift'](T),T=T.parent;return S}},{key:'hasAttribute',value:function(O){return this.textNode.hasAttribute(O)}},{key:'getAttribute',value:function(O){return this.textNode.getAttribute(O)}},{key:'getAttributes',value:function(){return this.textNode.getAttributes()}},{key:'getAttributeKeys',value:function(){return this.textNode.getAttributeKeys()}},{key:'startOffset',get:function(){return null===this.textNode.startOffset?null:this.textNode.startOffset+this.offsetInText}},{key:'offsetSize',get:function(){return this.data.length}},{key:'endOffset',get:function(){return null===this.startOffset?null:this.startOffset+this.offsetSize}},{key:'isPartial',get:function(){return this.offsetSize!==this.textNode.offsetSize}},{key:'parent',get:function(){return this.textNode.parent}},{key:'root',get:function(){return this.textNode.root}},{key:'document',get:function(){return this.textNode.document}}]),M}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=w},function(r,o,u){'use strict';function s(R){return R instanceof Text&&R.data.substr(0,S)===T}function w(R,F){if(F.keyCode==M.keyCodes.arrowleft){var N=F.domTarget.ownerDocument.defaultView.getSelection();if(1==N.rangeCount&&N.getRangeAt(0).collapsed){var V=N.getRangeAt(0).startContainer,L=N.getRangeAt(0).startOffset;if(s(V)&&L<=S){var D=new Range;D.setStart(V,0),D.collapse(!0),N.removeAllRanges(),N.addRange(D)}}}}Object.defineProperty(o,'__esModule',{value:!0}),o.INLINE_FILLER=o.INLINE_FILLER_LENGTH=o.NBSP_FILLER=o.BR_FILLER=void 0,o.startsWithFiller=s,o.isInlineFiller=function(R){return R.data.length==S&&s(R)},o.getDataWithoutFiller=function(R){return s(R)?R.data.slice(S):R.data},o.isBlockFiller=function(R,F){var N=I.get(F);return N||(N=F(window.document),I.set(F,N)),R.isEqualNode(N)},o.injectQuirksHandling=function(R){R.on('keydown',w)};/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */for(var M=u(22),C=o.BR_FILLER=function(F){var N=F.createElement('br');return N.dataset.ckeFiller=!0,N},O=o.NBSP_FILLER=function(F){return F.createTextNode('\xA0')},S=o.INLINE_FILLER_LENGTH=7,T=o.INLINE_FILLER='',E=0;E<S;E++)o.INLINE_FILLER=T+='\u200B';var I=new WeakMap},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}function d(T,E){if(!(T instanceof E))throw new TypeError('Cannot call a class as a function')}function f(T,E){if(!T)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:T}function h(T,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function T(E,I){for(var R=0,F;R<I.length;R++)F=I[R],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(E,F.key,F)}return function(E,I,R){return I&&T(E.prototype,I),R&&T(E,R),E}}(),w=u(49),M=s(w),C=u(118),O=s(C),S=function(T){function E(I){d(this,E);var R=f(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I));return R.useCapture=!1,R}return h(E,T),P(E,[{key:'observe',value:function(R){var F=this,N='string'==typeof this.domEventType?[this.domEventType]:this.domEventType;N.forEach(function(V){F.listenTo(R,V,function(L,D){F.isEnabled&&F.onDomEvent(D)},{useCapture:F.useCapture})})}},{key:'fire',value:function(R,F,N){this.isEnabled&&this.document.fire(R,new O.default(this.document,F,N))}}]),E}(M.default);o.default=S},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default={window:window,document:document}},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}function d(I,R){if(!(I instanceof R))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function I(R,F){for(var N=0,V;N<F.length;N++)V=F[N],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}return function(R,F,N){return F&&I(R.prototype,F),N&&I(R,N),R}}(),h=u(80),P=s(h),w=u(32),M=s(w),C=u(0),O=s(C),S=u(4),T=s(S),E=function(){function I(){d(this,I),this.set('isFocused',!1),this.focusedElement=null,this._elements=new Set,this._nextEventLoopTimeout=null}return f(I,[{key:'add',value:function(F){var N=this;if(this._elements.has(F))throw new O.default('focusTracker-add-element-already-exist');this.listenTo(F,'focus',function(){return N._focus(F)},{useCapture:!0}),this.listenTo(F,'blur',function(){return N._blur()},{useCapture:!0}),this._elements.add(F)}},{key:'remove',value:function(F){F===this.focusedElement&&this._blur(F),this._elements.has(F)&&(this.stopListening(F),this._elements.delete(F))}},{key:'_focus',value:function(F){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=F,this.isFocused=!0}},{key:'_blur',value:function(){var F=this;this._nextEventLoopTimeout=setTimeout(function(){F.focusedElement=null,F.isFocused=!1},0)}}]),I}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=E,(0,T.default)(E,P.default),(0,T.default)(E,M.default)},function(r,o,u){'use strict';function d(C,O){if(!(C instanceof O))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function C(O,S){for(var T=0,E;T<S.length;T++)E=S[T],E.enumerable=E.enumerable||!1,E.configurable=!0,'value'in E&&(E.writable=!0),Object.defineProperty(O,E.key,E)}return function(O,S,T){return S&&C(O.prototype,S),T&&C(O,T),O}}(),h=u(80),P=function(C){return C&&C.__esModule?C:{default:C}}(h),w=u(22),M=function(){function C(){d(this,C),this._listener=Object.create(P.default),this._keystrokes=new Map}return f(C,[{key:'listenTo',value:function(S){var T=this;this._listener.listenTo(S,'keydown',function(E,I){T.press(I)})}},{key:'set',value:function(S,T){var E=(0,w.parseKeystroke)(S),I=this._keystrokes.get(E);I?I.push(T):this._keystrokes.set(E,[T])}},{key:'press',value:function(S){var T=(0,w.getCode)(S),E=this._keystrokes.get(T);if(!E)return!1;var I=!0,R=!1,F;try{for(var N=E[Symbol.iterator](),V,L;!(I=(V=N.next()).done);I=!0)L=V.value,L(S,function(){S.preventDefault(),S.stopPropagation()})}catch(D){R=!0,F=D}finally{try{!I&&N.return&&N.return()}finally{if(R)throw F}}return!0}},{key:'destroy',value:function(){this._keystrokes=new Map,this._listener.stopListening()}}]),C}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=M},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(55),h=function(M){return M&&M.__esModule?M:{default:M}}(f),P=Object.prototype,w=P.hasOwnProperty;o.default=function(M,C,O){var S=M[C];w.call(M,C)&&(0,h.default)(S,O)&&(O!==void 0||C in M)||(M[C]=O)}},function(r,o,u){'use strict';function s(N){return N&&N.__esModule?N:{default:N}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(82),h=s(f),P=u(125),w=s(P),M=u(126),C=s(M),O=u(27),S=s(O),T=u(134),E=s(T),I=u(136),R=s(I);o.default=function(N,V,L,D){var q=-1,z=w.default,$=!0,W=N.length,K=[],H=V.length;if(!W)return K;L&&(V=(0,S.default)(V,(0,E.default)(L))),D?(z=C.default,$=!1):V.length>=200&&(z=R.default,$=!1,V=new h.default(V));outer:for(;++q<W;){var U=N[q],G=L?L(U):U;if(U=D||0!==U?U:0,$&&G===G){for(var J=H;J--;)if(V[J]===G)continue outer;K.push(U)}else z(V,G,D)||K.push(U)}return K}},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(200),h=s(f),P=u(422),w=s(P),M=u(208),C=s(M),O=u(96),S=s(O),T=u(36),E=s(T),I=u(92),R=s(I);o.default=function(F){var N=(0,R.default)(F);if(!(N||(0,S.default)(F)))return(0,w.default)(F);var V=(0,C.default)(F),D=V||[],q=D.length;for(var z in F)!(0,h.default)(F,z)||!!V&&('length'==z||(0,E.default)(z,q))||N&&'constructor'==z||D.push(z);return D}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(){for(var d='e',f=0;8>f;f++)d+=_Mathfloor(65536*(1+Math.random())).toString(16).substring(1);return d}},function(r,o,u){'use strict';function s(S){return S&&S.__esModule?S:{default:S}}function d(S){if(Array.isArray(S)){for(var T=0,E=Array(S.length);T<S.length;T++)E[T]=S[T];return E}return Array.from(S)}function f(S,T){if(!(S instanceof T))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var h=function(){function S(T,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}return function(T,E,I){return E&&S(T.prototype,E),I&&S(T,I),T}}(),P=u(59),w=s(P),M=u(0),C=s(M),O=function(){function S(T){f(this,S),this._nodes=[],T&&this.insertNodes(0,T)}return h(S,[{key:Symbol.iterator,value:function(){return this._nodes[Symbol.iterator]()}},{key:'getNode',value:function(E){return this._nodes[E]||null}},{key:'getNodeIndex',value:function(E){var I=this._nodes.indexOf(E);return-1==I?null:I}},{key:'getNodeStartOffset',value:function(E){var I=this.getNodeIndex(E);return null===I?null:this._nodes.slice(0,I).reduce(function(R,F){return R+F.offsetSize},0)}},{key:'indexToOffset',value:function(E){if(E==this._nodes.length)return this.maxOffset;var I=this._nodes[E];if(!I)throw new C.default('model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.');return this.getNodeStartOffset(I)}},{key:'offsetToIndex',value:function(E){var I=0,R=!0,F=!1,N;try{for(var V=this._nodes[Symbol.iterator](),L,D;!(R=(L=V.next()).done);R=!0){if(D=L.value,E>=I&&E<I+D.offsetSize)return this.getNodeIndex(D);I+=D.offsetSize}}catch(q){F=!0,N=q}finally{try{!R&&V.return&&V.return()}finally{if(F)throw N}}if(I!=E)throw new C.default('model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.');return this.length}},{key:'insertNodes',value:function(E,I){var F=!0,N=!1,R,V;try{for(var L=I[Symbol.iterator](),D,q;!(F=(D=L.next()).done);F=!0)if(q=D.value,!(q instanceof w.default))throw new C.default('model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.')}catch(z){N=!0,V=z}finally{try{!F&&L.return&&L.return()}finally{if(N)throw V}}(R=this._nodes).splice.apply(R,[E,0].concat(d(I)))}},{key:'removeNodes',value:function(E){var I=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return this._nodes.splice(E,I)}},{key:'toJSON',value:function(){return this._nodes.map(function(E){return E.toJSON()})}},{key:'length',get:function(){return this._nodes.length}},{key:'maxOffset',get:function(){return this._nodes.reduce(function(E,I){return E+I.offsetSize},0)}}]),S}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=O},function(r,o,u){'use strict';function s(V){return V&&V.__esModule?V:{default:V}}function d(V,L){if(!(V instanceof L))throw new TypeError('Cannot call a class as a function')}function f(V,L){if(!V)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:V}function h(V,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);V.prototype=Object.create(L&&L.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(V,L):V.__proto__=L)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function V(L,D){for(var q=0,z;q<D.length;q++)z=D[q],z.enumerable=z.enumerable||!1,z.configurable=!0,'value'in z&&(z.writable=!0),Object.defineProperty(L,z.key,z)}return function(L,D,q){return D&&V(L.prototype,D),q&&V(L,q),L}}(),w=u(33),M=s(w),C=u(2),O=s(C),S=u(0),T=s(S),E=u(18),I=s(E),R=u(489),F=s(R),N=function(V){function L(D,q,z,$,W){d(this,L);var K=f(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,W));return K.range=O.default.createFromRange(D),K.key=q,K.oldValue=void 0===z?null:z,K.newValue=void 0===$?null:$,K}return h(L,V),P(L,[{key:'clone',value:function(){return new L(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:'getReversed',value:function(){return new L(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:'_execute',value:function(){var q=!0,z=!1,$;try{for(var W=this.range.getItems()[Symbol.iterator](),K,H;!(q=(K=W.next()).done);q=!0){if(H=K.value,null!==this.oldValue&&!(0,F.default)(H.getAttribute(this.key),this.oldValue))throw new T.default('attribute-operation-wrong-old-value: Changed node has different attribute value than operation\'s old attribute value.',{item:H,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&H.hasAttribute(this.key))throw new T.default('attribute-operation-attribute-exists: The attribute with given key already exists.',{node:H,key:this.key});if((0,F.default)(this.oldValue,this.newValue))return}}catch(U){z=!0,$=U}finally{try{!q&&W.return&&W.return()}finally{if(z)throw $}}return I.default.setAttribute(this.range,this.key,this.newValue),{range:this.range,key:this.key,oldValue:this.oldValue,newValue:this.newValue}}},{key:'type',get:function(){return null===this.oldValue?'addAttribute':null===this.newValue?'removeAttribute':'changeAttribute'}}],[{key:'fromJSON',value:function(q,z){return new L(O.default.fromJSON(q.range,z),q.key,q.oldValue,q.newValue,q.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.AttributeOperation'}}]),L}(M.default);o.default=N},function(r,o,u){'use strict';function d(O,S){if(!(O instanceof S))throw new TypeError('Cannot call a class as a function')}function f(O,S){if(!O)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return S&&('object'==typeof S||'function'==typeof S)?S:O}function h(O,S){if('function'!=typeof S&&null!==S)throw new TypeError('Super expression must either be null or a function, not '+typeof S);O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(O,S):O.__proto__=S)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function O(S,T){for(var E=0,I;E<T.length;E++)I=T[E],I.enumerable=I.enumerable||!1,I.configurable=!0,'value'in I&&(I.writable=!0),Object.defineProperty(S,I.key,I)}return function(S,T,E){return T&&O(S.prototype,T),E&&O(S,E),S}}(),w=u(33),M=function(O){return O&&O.__esModule?O:{default:O}}(w),C=function(O){function S(){return d(this,S),f(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return h(S,O),P(S,[{key:'clone',value:function(){return new S(this.baseVersion)}},{key:'getReversed',value:function(){return new S(this.baseVersion+1)}},{key:'_execute',value:function(){}}],[{key:'className',get:function(){return'engine.model.operation.NoOperation'}}]),S}(M.default);o.default=C},function(r,o,u){'use strict';function s(N){return N&&N.__esModule?N:{default:N}}function d(N,V){if(!(N instanceof V))throw new TypeError('Cannot call a class as a function')}function f(N,V){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:N}function h(N,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);N.prototype=Object.create(V&&V.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(N,V):N.__proto__=V)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function N(V,L){for(var D=0,q;D<L.length;D++)q=L[D],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(V,q.key,q)}return function(V,L,D){return L&&N(V.prototype,L),D&&N(V,D),V}}(),w=u(39),M=s(w),C=u(0),O=s(C),S=u(4),T=s(S),E=u(32),I=s(E),R=Symbol('document'),F=function(N){function V(L,D,q){d(this,V);var z=f(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,L,D,q));return z.set('isReadOnly',!1),z.set('isFocused',!1),z}return h(V,N),P(V,[{key:'document',get:function(){return this.getCustomProperty(R)},set:function(D){var q=this;if(this.getCustomProperty(R))throw new O.default('view-editableelement-document-already-set: View document is already set.');this.setCustomProperty(R,D),this.bind('isFocused').to(D,'isFocused',function(z){return z&&D.selection.editableElement==q}),this.listenTo(D,'render',function(){q.isFocused=D.isFocused&&D.selection.editableElement==q},{priority:'high'})}}]),V}(M.default);o.default=F,(0,T.default)(F,I.default)},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}function d(T,E){if(!(T instanceof E))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function T(E,I){for(var R=0,F;R<I.length;R++)F=I[R],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(E,F.key,F)}return function(E,I,R){return I&&T(E.prototype,I),R&&T(E,R),E}}(),h=u(0),P=s(h),w=u(7),M=s(w),C=u(4),O=s(C),S=function(){function T(){d(this,T),this.parent=null}return f(T,[{key:'getAncestors',value:function(){for(var I=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeNode:!1,parentFirst:!1},R=[],F=I.includeNode?this:this.parent;F;)R[I.parentFirst?'push':'unshift'](F),F=F.parent;return R}},{key:'remove',value:function(){this.parent.removeChildren(this.index)}},{key:'_fireChange',value:function(I,R){this.fire('change:'+I,R),this.parent&&this.parent._fireChange(I,R)}},{key:'index',get:function(){var I;if(!this.parent)return null;if(-1==(I=this.parent.getChildIndex(this)))throw new P.default('view-node-not-found-in-parent: The node\'s parent does not contain this node.');return I}},{key:'nextSibling',get:function(){var I=this.index;return null!==I&&this.parent.getChild(I+1)||null}},{key:'previousSibling',get:function(){var I=this.index;return null!==I&&this.parent.getChild(I-1)||null}},{key:'root',get:function(){for(var I=this;I.parent;)I=I.parent;return I}},{key:'document',get:function(){return this.parent instanceof T?this.parent.document:null}}]),T}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=S,(0,O.default)(S,M.default)},function(r,o,u){'use strict';function s(V){return V&&V.__esModule?V:{default:V}}function d(V,L){if(!(V instanceof L))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function V(L,D){for(var q=0,z;q<D.length;q++)z=D[q],z.enumerable=z.enumerable||!1,z.configurable=!0,'value'in z&&(z.writable=!0),Object.defineProperty(L,z.key,z)}return function(L,D,q){return D&&V(L.prototype,D),q&&V(L,q),L}}(),h=u(0),P=s(h),w=u(29),M=s(w),C=u(25),O=s(C),S=u(4),T=s(S),E=u(7),I=s(E),R=u(21),F=s(R),N=function(){function V(){d(this,V),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel=''}return f(V,[{key:'setFake',value:function(){var D=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0,q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._isFake=D,this._fakeSelectionLabel=D?q.label||'':'',this.fire('change')}},{key:'addRange',value:function(D,q){if(!(D instanceof M.default))throw new P.default('view-selection-invalid-range: Invalid Range.');this._pushRange(D),this._lastRangeBackward=!!q,this.fire('change')}},{key:'getRanges',value:regeneratorRuntime.mark(function L(){var D,q,z,$,W,K;return regeneratorRuntime.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:D=!0,q=!1,z=void 0,U.prev=3,$=this._ranges[Symbol.iterator]();case 5:if(D=(W=$.next()).done){U.next=12;break}return K=W.value,U.next=9,M.default.createFromRange(K);case 9:D=!0,U.next=5;break;case 12:U.next=18;break;case 14:U.prev=14,U.t0=U['catch'](3),q=!0,z=U.t0;case 18:U.prev=18,U.prev=19,!D&&$.return&&$.return();case 21:if(U.prev=21,!q){U.next=24;break}throw z;case 24:return U.finish(21);case 25:return U.finish(18);case 26:case'end':return U.stop();}},L,this,[[3,14,18,26],[19,,21,25]])})},{key:'getFirstRange',value:function(){var D=null,q=!0,z=!1,$;try{for(var W=this._ranges[Symbol.iterator](),K,H;!(q=(K=W.next()).done);q=!0)H=K.value,(!D||H.start.isBefore(D.start))&&(D=H)}catch(U){z=!0,$=U}finally{try{!q&&W.return&&W.return()}finally{if(z)throw $}}return D?M.default.createFromRange(D):null}},{key:'getLastRange',value:function(){var D=null,q=!0,z=!1,$;try{for(var W=this._ranges[Symbol.iterator](),K,H;!(q=(K=W.next()).done);q=!0)H=K.value,(!D||H.end.isAfter(D.end))&&(D=H)}catch(U){z=!0,$=U}finally{try{!q&&W.return&&W.return()}finally{if(z)throw $}}return D?M.default.createFromRange(D):null}},{key:'getFirstPosition',value:function(){var D=this.getFirstRange();return D?O.default.createFromPosition(D.start):null}},{key:'getLastPosition',value:function(){var D=this.getLastRange();return D?O.default.createFromPosition(D.end):null}},{key:'isEqual',value:function(D){if(this.isFake!=D.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=D.fakeSelectionLabel)return!1;if(this.rangeCount!=D.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(D.anchor)||!this.focus.isEqual(D.focus))return!1;var q=!0,z=!1,$;try{for(var W=this._ranges[Symbol.iterator](),K;!(q=(K=W.next()).done);q=!0){var H=K.value,U=!1,G=!0,J=!1,Z=void 0;try{for(var Y=D._ranges[Symbol.iterator](),Q,X;!(G=(Q=Y.next()).done);G=!0)if(X=Q.value,H.isEqual(X)){U=!0;break}}catch(ee){J=!0,Z=ee}finally{try{!G&&Y.return&&Y.return()}finally{if(J)throw Z}}if(!U)return!1}}catch(ee){z=!0,$=ee}finally{try{!q&&W.return&&W.return()}finally{if(z)throw $}}return!0}},{key:'removeAllRanges',value:function(){this._ranges.length&&(this._ranges=[],this.fire('change'))}},{key:'setRanges',value:function(D,q){this._ranges=[];var z=!0,$=!1,W;try{for(var K=D[Symbol.iterator](),H,U;!(z=(H=K.next()).done);z=!0){if(U=H.value,!(U instanceof M.default))throw new P.default('view-selection-invalid-range: Invalid Range.');this._pushRange(U)}}catch(G){$=!0,W=G}finally{try{!z&&K.return&&K.return()}finally{if($)throw W}}this._lastRangeBackward=!!q,this.fire('change')}},{key:'setTo',value:function(D){this._isFake=D._isFake,this._fakeSelectionLabel=D._fakeSelectionLabel,this.setRanges(D.getRanges(),D.isBackward)}},{key:'collapse',value:function(D,q){var z=O.default.createAt(D,q),$=new M.default(z,z);this.setRanges([$])}},{key:'collapseToStart',value:function(){var D=this.getFirstPosition();null!==D&&this.setRanges([new M.default(D,D)])}},{key:'collapseToEnd',value:function(){var D=this.getLastPosition();null!==D&&this.setRanges([new M.default(D,D)])}},{key:'setFocus',value:function(D,q){if(null===this.anchor)throw new P.default('view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.');var z=O.default.createAt(D,q);if('same'!=z.compareWith(this.focus)){var $=this.anchor;this._ranges.pop(),'before'==z.compareWith($)?this.addRange(new M.default(z,$),!0):this.addRange(new M.default($,z))}}},{key:'getSelectedElement',value:function(){if(1!==this.rangeCount)return null;var D=this.getFirstRange(),q=D.start.nodeAfter,z=D.end.nodeBefore;return q instanceof F.default&&q==z?q:null}},{key:'_pushRange',value:function(D){var q=!0,z=!1,$;try{for(var W=this._ranges[Symbol.iterator](),K,H;!(q=(K=W.next()).done);q=!0)if(H=K.value,D.isIntersecting(H))throw new P.default('view-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:D,intersectingRange:H})}catch(U){z=!0,$=U}finally{try{!q&&W.return&&W.return()}finally{if(z)throw $}}this._ranges.push(M.default.createFromRange(D))}},{key:'isFake',get:function(){return this._isFake}},{key:'fakeSelectionLabel',get:function(){return this._fakeSelectionLabel}},{key:'anchor',get:function(){if(!this._ranges.length)return null;var D=this._ranges[this._ranges.length-1],q=this._lastRangeBackward?D.end:D.start;return O.default.createFromPosition(q)}},{key:'focus',get:function(){if(!this._ranges.length)return null;var D=this._ranges[this._ranges.length-1],q=this._lastRangeBackward?D.start:D.end;return O.default.createFromPosition(q)}},{key:'isCollapsed',get:function(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}},{key:'rangeCount',get:function(){return this._ranges.length}},{key:'isBackward',get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:'editableElement',get:function(){return this.anchor?this.anchor.editableElement:null}}],[{key:'createFromSelection',value:function(D){var q=new V;return q.setTo(D),q}}]),V}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=N,(0,T.default)(N,I.default)},function(r,o,u){'use strict';function s(xe){return xe&&xe.__esModule?xe:{default:xe}}function d(xe){if(Array.isArray(xe)){for(var Me=0,Ce=Array(xe.length);Me<xe.length;Me++)Ce[Me]=xe[Me];return Ce}return Array.from(xe)}/**
                                                                                                                                                                                                     * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                     * For licensing, see LICENSE.md.
                                                                                                                                                                                                     */function f(xe){return xe instanceof Q.default?L(xe):V(xe)}function h(xe){var Me=xe.parent;if(!Me.is('containerElement'))throw new ye.default('view-writer-break-non-container-element: Trying to break an element which is not a container element.');if(!Me.parent)throw new ye.default('view-writer-break-root: Trying to break root element.');if(xe.isAtStart)return Q.default.createBefore(Me);if(!xe.isAtEnd){var Ce=Me.clone(!1);C(Q.default.createAfter(Me),Ce);var Oe=new ce.default(xe,Q.default.createAt(Me,'end')),Se=new Q.default(Ce,0);T(Oe,Se)}return Q.default.createAfter(Me)}function P(xe){var Me=xe.offset,Ce=xe.parent;if(Ce.is('text'))return xe;if(Ce.is('attributeElement')&&0===Ce.childCount){var Oe=Ce.parent,Se=Ce.index;return Ce.remove(),P(new Q.default(Oe,Se))}var Te=Ce.getChild(Me-1),Ae=Ce.getChild(Me);if(!Te||!Ae)return xe;if(Te.is('text')&&Ae.is('text'))return W(Te,Ae);if(Te.is('attributeElement')&&Ae.is('attributeElement')&&Te.isSimilar(Ae)){var Ee=Te.childCount;return Te.appendChildren(Ae.getChildren()),Ae.remove(),P(new Q.default(Te,Ee))}return xe}function w(xe){var Me=xe.nodeBefore,Ce=xe.nodeAfter;if(!Me||!Ce||!Me.is('containerElement')||!Ce.is('containerElement'))throw new ye.default('view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.');var Oe=Me.getChild(Me.childCount-1),Se=Oe instanceof de.default?Q.default.createAt(Oe,'end'):Q.default.createAt(Me,'end');return T(ce.default.createIn(Ce),Q.default.createAt(Me,'end')),O(ce.default.createOn(Ce)),Se}function M(xe){var Me=[],Ce=new ge.default({boundaries:xe}),Oe=xe.start,Se=!0,Te=!1,Ae;try{for(var Ee=Ce[Symbol.iterator](),Ie,Re;!(Se=(Ie=Ee.next()).done);Se=!0)Re=Ie.value,Re.item.is('containerElement')&&(!Oe.isEqual(Re.previousPosition)&&Me.push(new ce.default(Oe,Re.previousPosition)),Oe=Re.nextPosition)}catch(Fe){Te=!0,Ae=Fe}finally{try{!Se&&Ee.return&&Ee.return()}finally{if(Te)throw Ae}}return Me.push(new ce.default(Oe,xe.end)),Me}function C(xe,Me){Me=(0,ke.default)(Me)?[].concat(d(Me)):[Me],G(Me);var Ce=N(xe);if(!Ce)throw new ye.default('view-writer-invalid-position-container');var Oe=L(xe,!0),Se=Ce.insertChildren(Oe.offset,Me),Te=Oe.getShiftedBy(Se),Ae=P(Oe);if(0===Se)return new ce.default(Ae,Ae);Ae.isEqual(Oe)||Te.offset--;var Ee=P(Te);return new ce.default(Ae,Ee)}function O(xe){if(Z(xe),xe.isCollapsed)return new he.default;var Me=V(xe,!0),Ce=Me.start,Oe=Me.end,Se=Ce.parent,Te=Oe.offset-Ce.offset,Ae=Se.removeChildren(Ce.offset,Te),Ee=P(Ce);return xe.start=Ee,xe.end=Q.default.createFromPosition(Ee),new he.default(Ae)}function S(xe,Me){Z(xe);var Ce=xe.getWalker({direction:'backward',ignoreElementEnd:!0}),Oe=!0,Se=!1,Te;try{for(var Ae=Ce[Symbol.iterator](),Ee;!(Oe=(Ee=Ae.next()).done);Oe=!0){var Ie=Ee.value,Re=Ie.item,Fe=void 0;if(Re.is('element')&&Me.isSimilar(Re))Fe=ce.default.createOn(Re);else if(!Ie.nextPosition.isAfter(xe.start)&&(Re.is('text')||Re.is('textProxy'))){var Ne=Re.getAncestors().find(function(Ve){return Ve.is('element')&&Me.isSimilar(Ve)});Ne&&(Fe=ce.default.createIn(Ne))}Fe&&(Fe.end.isAfter(xe.end)&&(Fe.end=xe.end),Fe.start.isBefore(xe.start)&&(Fe.start=xe.start),O(Fe))}}catch(Ve){Se=!0,Te=Ve}finally{try{!Oe&&Ae.return&&Ae.return()}finally{if(Se)throw Te}}}function T(xe,Me){var Ce;if(Me.isAfter(xe.end)){Me=L(Me,!0);var Oe=Me.parent,Se=Oe.childCount;xe=V(xe,!0),Ce=O(xe),Me.offset+=Oe.childCount-Se}else Ce=O(xe);return C(Me,Ce)}function E(xe,Me){if(!(Me instanceof re.default))throw new ye.default('view-writer-wrap-invalid-attribute');if(Z(xe),xe.isCollapsed)return xe;if(xe.end.isEqual(xe.start.getShiftedBy(1))){var Ce=xe.start.nodeAfter;if(Ce instanceof re.default&&K(Me,Ce))return xe}if(U(xe)&&K(Me,xe.start.parent)){var Oe=xe.start.parent.parent,Se=xe.start.parent.index;return ce.default.createFromParentsAndOffsets(Oe,Se,Oe,Se+1)}var Te=V(xe,!0),Ae=Te.start,Ee=Te.end,Ie=Ae.parent,Re=D(Ie,Ae.offset,Ee.offset,Me),Fe=q(Ie,Re.start.offset,Re.end.offset,Me),Ne=P(Fe.start);Ne.isEqual(Fe.start)||Fe.end.offset--;var Ve=P(Fe.end);return new ce.default(Ne,Ve)}function I(xe,Me){if(!(Me instanceof re.default))throw new ye.default('view-writer-wrap-invalid-attribute');if(Me.isSimilar(xe.parent))return z(Q.default.createFromPosition(xe));xe.parent.is('text')&&(xe=$(xe));var Ce=new re.default;Ce.priority=_NumberPOSITIVE_INFINITY,Ce.isSimilar=function(){return!1},xe.parent.insertChildren(xe.offset,Ce);var Oe=new ce.default(xe,xe.getShiftedBy(1));E(Oe,Me);var Se=new Q.default(Ce.parent,Ce.index);Ce.remove();var Te=Se.nodeBefore,Ae=Se.nodeAfter;return Te instanceof de.default&&Ae instanceof de.default?W(Te,Ae):z(Se)}function R(xe,Me){if(!(Me instanceof re.default))throw new ye.default('view-writer-unwrap-invalid-attribute');if(Z(xe),xe.isCollapsed)return xe;if(xe.end.isEqual(xe.start.getShiftedBy(1))){var Ce=xe.start.nodeAfter;if(!Me.isSimilar(Ce)&&Ce instanceof re.default&&H(Me,Ce))return xe}var Oe=V(xe,!0),Se=Oe.start,Te=Oe.end,Ae=Se.parent,Ee=D(Ae,Se.offset,Te.offset,Me),Ie=P(Ee.start);Ie.isEqual(Ee.start)||Ee.end.offset--;var Re=P(Ee.end);return new ce.default(Ie,Re)}function F(xe,Me){var Ce=new ee.default(Me,xe.getAttributes());return C(Q.default.createAfter(xe),Ce),T(ce.default.createIn(xe),Q.default.createAt(Ce)),O(ce.default.createOn(xe)),Ce}function N(xe){for(var Me=xe.parent;!J(Me);){if(!Me)return;Me=Me.parent}return Me}function V(xe){var Me=1<arguments.length&&void 0!==arguments[1]&&arguments[1],Ce=xe.start,Oe=xe.end;if(Z(xe),xe.isCollapsed){var Se=L(xe.start,Me);return new ce.default(Se,Se)}var Te=L(Oe,Me),Ae=Te.parent.childCount,Ee=L(Ce,Me);return Te.offset+=Te.parent.childCount-Ae,new ce.default(Ee,Te)}function L(xe){var Me=1<arguments.length&&arguments[1]!==void 0&&arguments[1],Ce=xe.offset,Oe=xe.parent;if(xe.parent.is('emptyElement'))throw new ye.default('view-writer-cannot-break-empty-element');if(xe.parent.is('uiElement'))throw new ye.default('view-writer-cannot-break-ui-element');if(!Me&&Oe.is('text')&&J(Oe.parent))return Q.default.createFromPosition(xe);if(J(Oe))return Q.default.createFromPosition(xe);if(Oe.is('text'))return L($(xe),Me);var Se=Oe.childCount;if(Ce==Se){var Te=new Q.default(Oe.parent,Oe.index+1);return L(Te,Me)}if(0===Ce){var Ae=new Q.default(Oe.parent,Oe.index);return L(Ae,Me)}var Ee=Oe.index+1,Ie=Oe.clone();Oe.parent.insertChildren(Ee,Ie);var Re=Oe.childCount-Ce,Fe=Oe.removeChildren(Ce,Re);Ie.appendChildren(Fe);var Ne=new Q.default(Oe.parent,Ee);return L(Ne,Me)}function D(xe,Me,Ce,Oe){for(var Se=Me,Te=[],Ae;Se<Ce;)if(Ae=xe.getChild(Se),Ae.isSimilar(Oe)){var Ee=Ae.getChildren(),Ie=Ae.childCount;Ae.remove(),xe.insertChildren(Se,Ee),Te.push(new Q.default(xe,Se),new Q.default(xe,Se+Ie)),Se+=Ie,Ce+=Ie-1}else Ae.is('attributeElement')&&D(Ae,0,Ae.childCount,Oe),Se++;var Re=0,Fe=!0,Ne=!1,Ve;try{for(var Le=Te[Symbol.iterator](),Be,De;!(Fe=(Be=Le.next()).done);Fe=!0)if(De=Be.value,De.offset-=Re,De.offset!=Me&&De.offset!=Ce){var je=P(De);je.isEqual(De)||(Re++,Ce--)}}catch(qe){Ne=!0,Ve=qe}finally{try{!Fe&&Le.return&&Le.return()}finally{if(Ne)throw Ve}}return ce.default.createFromParentsAndOffsets(xe,Me,xe,Ce)}function q(xe,Me,Ce,Oe){for(var Se=Me,Te=[];Se<Ce;){var Ae=xe.getChild(Se),Ee=Ae.is('text'),Ie=Ae.is('attributeElement'),Re=Ae.is('emptyElement'),Fe=Ae.is('uiElement');if(Ee||Re||Fe||Ie&&Oe.priority<=Ae.priority){var Ne=Oe.clone();Ae.remove(),Ne.appendChildren(Ae),xe.insertChildren(Se,Ne),Te.push(new Q.default(xe,Se))}else Ie&&q(Ae,0,Ae.childCount,Oe);Se++}var Ve=0,Le=!0,Be=!1,De;try{for(var je=Te[Symbol.iterator](),qe,ze;!(Le=(qe=je.next()).done);Le=!0)if(ze=qe.value,ze.offset-=Ve,ze.offset!=Me){var $e=P(ze);$e.isEqual(ze)||(Ve++,Ce--)}}catch(We){Be=!0,De=We}finally{try{!Le&&je.return&&je.return()}finally{if(Be)throw De}}return ce.default.createFromParentsAndOffsets(xe,Me,xe,Ce)}function z(xe){var Me=xe.nodeBefore;if(Me&&Me.is('text'))return new Q.default(Me,Me.data.length);var Ce=xe.nodeAfter;return Ce&&Ce.is('text')?new Q.default(Ce,0):xe}function $(xe){if(xe.offset==xe.parent.data.length)return new Q.default(xe.parent.parent,xe.parent.index+1);if(0===xe.offset)return new Q.default(xe.parent.parent,xe.parent.index);var Me=xe.parent.data.slice(xe.offset);return xe.parent.data=xe.parent.data.slice(0,xe.offset),xe.parent.parent.insertChildren(xe.parent.index+1,new de.default(Me)),new Q.default(xe.parent.parent,xe.parent.index+1)}function W(xe,Me){var Ce=xe.data.length;return xe.data+=Me.data,Me.remove(),new Q.default(xe,Ce)}function K(xe,Me){if(xe.name!==Me.name||xe.priority!==Me.priority)return!1;var Ce=!0,Oe=!1,Se;try{for(var Te=xe.getAttributeKeys()[Symbol.iterator](),Ae,Ee;!(Ce=(Ae=Te.next()).done);Ce=!0)if((Ee=Ae.value,'class'!==Ee&&'style'!==Ee)&&Me.hasAttribute(Ee)&&Me.getAttribute(Ee)!==xe.getAttribute(Ee))return!1}catch(rt){Oe=!0,Se=rt}finally{try{!Ce&&Te.return&&Te.return()}finally{if(Oe)throw Se}}var Ie=!0,Re=!1,Fe;try{for(var Ne=xe.getStyleNames()[Symbol.iterator](),Ve,Le;!(Ie=(Ve=Ne.next()).done);Ie=!0)if(Le=Ve.value,Me.hasStyle(Le)&&Me.getStyle(Le)!==xe.getStyle(Le))return!1}catch(rt){Re=!0,Fe=rt}finally{try{!Ie&&Ne.return&&Ne.return()}finally{if(Re)throw Fe}}var Be=!0,De=!1,je;try{for(var qe=xe.getAttributeKeys()[Symbol.iterator](),ze,$e;!(Be=(ze=qe.next()).done);Be=!0)($e=ze.value,'class'!==$e&&'style'!==$e)&&(Me.hasAttribute($e)||Me.setAttribute($e,xe.getAttribute($e)))}catch(rt){De=!0,je=rt}finally{try{!Be&&qe.return&&qe.return()}finally{if(De)throw je}}var We=!0,Ke=!1,He;try{for(var Ue=xe.getStyleNames()[Symbol.iterator](),Ge,Je;!(We=(Ge=Ue.next()).done);We=!0)Je=Ge.value,Me.hasStyle(Je)||Me.setStyle(Je,xe.getStyle(Je))}catch(rt){Ke=!0,He=rt}finally{try{!We&&Ue.return&&Ue.return()}finally{if(Ke)throw He}}var Ze=!0,Ye=!1,Qe;try{for(var Xe=xe.getClassNames()[Symbol.iterator](),et,tt;!(Ze=(et=Xe.next()).done);Ze=!0)tt=et.value,Me.hasClass(tt)||Me.addClass(tt)}catch(rt){Ye=!0,Qe=rt}finally{try{!Ze&&Xe.return&&Xe.return()}finally{if(Ye)throw Qe}}return!0}function H(xe,Me){if(xe.name!==Me.name||xe.priority!==Me.priority)return!1;var Ce=!0,Oe=!1,Se;try{for(var Te=xe.getAttributeKeys()[Symbol.iterator](),Ae,Ee;!(Ce=(Ae=Te.next()).done);Ce=!0)if((Ee=Ae.value,'class'!==Ee&&'style'!==Ee)&&(!Me.hasAttribute(Ee)||Me.getAttribute(Ee)!==xe.getAttribute(Ee)))return!1}catch(We){Oe=!0,Se=We}finally{try{!Ce&&Te.return&&Te.return()}finally{if(Oe)throw Se}}if(!Me.hasClass.apply(Me,d(xe.getClassNames())))return!1;var Ie=!0,Re=!1,Fe;try{for(var Ne=xe.getStyleNames()[Symbol.iterator](),Ve,Le;!(Ie=(Ve=Ne.next()).done);Ie=!0)if(Le=Ve.value,!Me.hasStyle(Le)||Me.getStyle(Le)!==xe.getStyle(Le))return!1}catch(We){Re=!0,Fe=We}finally{try{!Ie&&Ne.return&&Ne.return()}finally{if(Re)throw Fe}}var Be=!0,De=!1,je;try{for(var qe=xe.getAttributeKeys()[Symbol.iterator](),ze,$e;!(Be=(ze=qe.next()).done);Be=!0)($e=ze.value,'class'!==$e&&'style'!==$e)&&Me.removeAttribute($e)}catch(We){De=!0,je=We}finally{try{!Be&&qe.return&&qe.return()}finally{if(De)throw je}}return Me.removeClass.apply(Me,d(xe.getClassNames())),Me.removeStyle.apply(Me,d(xe.getStyleNames())),!0}function U(xe){return xe.start.parent==xe.end.parent&&xe.start.parent.is('attributeElement')&&0===xe.start.offset&&xe.end.offset===xe.start.parent.childCount}function G(xe){var Me=function(Re){if(!we.some(function(Fe){return Re instanceof Fe}))throw new ye.default('view-writer-insert-invalid-node');Re.is('text')||G(Re.getChildren())},Ce=!0,Oe=!1,Se;try{for(var Te=xe[Symbol.iterator](),Ae,Ee;!(Ce=(Ae=Te.next()).done);Ce=!0)Ee=Ae.value,Me(Ee)}catch(Ie){Oe=!0,Se=Ie}finally{try{!Ce&&Te.return&&Te.return()}finally{if(Oe)throw Se}}}function J(xe){return xe&&(xe.is('containerElement')||xe.is('documentFragment'))}function Z(xe){var Me=N(xe.start),Ce=N(xe.end);if(!Me||!Ce||Me!==Ce)throw new ye.default('view-writer-invalid-range-container')}Object.defineProperty(o,'__esModule',{value:!0}),o.breakAttributes=f,o.breakContainer=h,o.mergeAttributes=P,o.mergeContainers=w,o.breakViewRangePerContainer=M,o.insert=C,o.remove=O,o.clear=S,o.move=T,o.wrap=E,o.wrapPosition=I,o.unwrap=R,o.rename=F;var Y=u(25),Q=s(Y),X=u(39),ee=s(X),te=u(116),re=s(te),ae=u(167),oe=s(ae),le=u(171),ue=s(le),ie=u(30),de=s(ie),fe=u(29),ce=s(fe),pe=u(50),ge=s(pe),me=u(0),ye=s(me),be=u(117),he=s(be),ve=u(41),ke=s(ve);o.default={breakAttributes:f,breakContainer:h,mergeAttributes:P,mergeContainers:w,insert:C,remove:O,clear:S,move:T,wrap:E,wrapPosition:I,unwrap:R,rename:F,breakViewRangePerContainer:M};var we=[de.default,re.default,ee.default,oe.default,ue.default]},function(r,o,u){'use strict';function s(te){return te&&te.__esModule?te:{default:te}}function d(te,re){if(!(te instanceof re))throw new TypeError('Cannot call a class as a function')}function f(te,re){if(!te)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return re&&('object'==typeof re||'function'==typeof re)?re:te}function h(te,re){if('function'!=typeof re&&null!==re)throw new TypeError('Super expression must either be null or a function, not '+typeof re);te.prototype=Object.create(re&&re.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),re&&(Object.setPrototypeOf?Object.setPrototypeOf(te,re):te.__proto__=re)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(te,re,ae,oe,le){if(oe.test(ae.input)&&te.schema.check({name:'paragraph',inside:ae.context})){var ue=new F.default('paragraph');ee.add(ue),ae.context.push(ue);var ie=le.convertItem(ae.input,oe,ae);ie&&(ae.output=ue,ue.appendChildren(ie)),ae.context.pop()}}function w(te,re,ae,oe,le){if(X.paragraphLikeElements.has(ae.input.name)&&oe.test(ae.input,{name:!0})&&!C(ae.input)&&te.schema.check({name:'paragraph',inside:ae.context})){oe.consume(ae.input,{name:!0});var ue=new F.default('paragraph');ae.context.push(ue);var ie=le.convertChildren(ae.input,oe,ae);ue.appendChildren(H.default.normalizeNodes(ie)),ae.context.pop(),ae.output=ue}}function M(te,re){if(re.output){var ae;for(ae=(0,Q.default)(re.output)?re.output[0]:re.output.getChild(0);ae&&ae.nextSibling;){var oe=ae.nextSibling;ee.has(ae)&&ee.has(oe)?(H.default.insert(V.default.createAt(ae,'end'),Array.from(oe.getChildren())),H.default.remove(D.default.createOn(oe))):ae=ae.nextSibling}}}function C(te){var re=W.default.createIn(te),ae=!0,oe=!1,le;try{for(var ue=re[Symbol.iterator](),ie,de;!(ae=(ie=ue.next()).done);ae=!0)if(de=ie.value,de.item instanceof z.default&&X.paragraphLikeElements.has(de.item.name))return!0}catch(fe){oe=!0,le=fe}finally{try{!ae&&ue.return&&ue.return()}finally{if(oe)throw le}}return!1}Object.defineProperty(o,'__esModule',{value:!0});var O=function(){function te(re,ae){for(var oe=0,le;oe<ae.length;oe++)le=ae[oe],le.enumerable=le.enumerable||!1,le.configurable=!0,'value'in le&&(le.writable=!0),Object.defineProperty(re,le.key,le)}return function(re,ae,oe){return ae&&te(re.prototype,ae),oe&&te(re,oe),re}}(),S=u(359),T=s(S),E=u(3),I=s(E),R=u(5),F=s(R),N=u(1),V=s(N),L=u(2),D=s(L),q=u(21),z=s(q),$=u(29),W=s($),K=u(18),H=s(K),U=u(46),G=s(U),J=u(47),Z=s(J),Y=u(11),Q=s(Y),X=function(te){function re(){return d(this,re),f(this,(re.__proto__||Object.getPrototypeOf(re)).apply(this,arguments))}return h(re,te),O(re,[{key:'init',value:function(){var oe=this.editor,le=oe.document,ue=oe.data,ie=oe.editing;le.schema.registerItem('paragraph','$block'),(0,G.default)().for(ue.modelToView,ie.modelToView).fromElement('paragraph').toElement('p'),(0,Z.default)().for(ue.viewToModel).fromElement('p').toElement('paragraph'),ue.viewToModel.on('text',function(de,fe,ce,pe){P(le,de,fe,ce,pe)},{priority:'lowest'}),ue.viewToModel.on('element',M,{priority:'lowest'}),ue.viewToModel.on('documentFragment',M,{priority:'lowest'}),ue.viewToModel.on('element',function(de,fe,ce,pe){w(le,de,fe,ce,pe)},{priority:'low'}),oe.commands.set('paragraph',new T.default(oe))}}]),re}(I.default);o.default=X,X.paragraphLikeElements=new Set(['blockquote','dd','div','dt','h1','h2','h3','h4','h5','h6','li','p','td']);var ee=new WeakSet},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}function d(I,R){if(!(I instanceof R))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function I(R,F){for(var N=0,V;N<F.length;N++)V=F[N],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}return function(R,F,N){return F&&I(R.prototype,F),N&&I(R,N),R}}(),h=u(7),P=s(h),w=u(0),M=s(w),C=u(70),O=s(C),S=u(4),T=s(S),E=function(){function I(R){d(this,I),this._items=[],this._itemMap=new Map,this._idProperty=R&&R.idProperty||'id',this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap}return f(I,[{key:'add',value:function(F,N){var L=this._idProperty,V;if(L in F){if(V=F[L],'string'!=typeof V)throw new M.default('collection-add-invalid-id');if(this.get(V))throw new M.default('collection-add-item-already-exists')}else F[L]=V=(0,O.default)();if(void 0===N)N=this._items.length;else if(N>this._items.length||0>N)throw new M.default('collection-add-item-invalid-index');return this._items.splice(N,0,F),this._itemMap.set(V,F),this.fire('add',F,N),this}},{key:'get',value:function(F){var N;if('string'==typeof F)N=this._itemMap.get(F);else if('number'==typeof F)N=this._items[F];else throw new M.default('collection-get-invalid-arg: Index or id must be given.');return N||null}},{key:'getIndex',value:function(F){var N;return N='string'==typeof F?this._itemMap.get(F):F,this._items.indexOf(N)}},{key:'remove',value:function(F){var D=!1,q=this._idProperty,N,V,L;if('string'==typeof F?(V=F,L=this._itemMap.get(V),D=!L,L&&(N=this._items.indexOf(L))):'number'==typeof F?(N=F,L=this._items[N],D=!L,L&&(V=L[q])):(L=F,V=L[q],N=this._items.indexOf(L),D=-1==N||!this._itemMap.get(V)),D)throw new M.default('collection-remove-404: Item not found.');this._items.splice(N,1),this._itemMap.delete(V);var z=this._bindToInternalToExternalMap.get(L);return this._bindToInternalToExternalMap.delete(L),this._bindToExternalToInternalMap.delete(z),this.fire('remove',L),L}},{key:'map',value:function(F,N){return this._items.map(F,N)}},{key:'find',value:function(F,N){return this._items.find(F,N)}},{key:'filter',value:function(F,N){return this._items.filter(F,N)}},{key:'clear',value:function(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}},{key:'bindTo',value:function(F){var N=this;if(this._bindToCollection)throw new M.default('collection-bind-to-rebind: The collection cannot be bound more than once.');return this._bindToCollection=F,{as:function(L){N._setUpBindToBinding(function(D){return new L(D)})},using:function(L){'function'==typeof L?N._setUpBindToBinding(function(D){return L(D)}):N._setUpBindToBinding(function(D){return D[L]})}}}},{key:'_setUpBindToBinding',value:function(F){var N=this,V=this._bindToCollection,L=function(U,G,J){var Z=V._bindToCollection==N,Y=V._bindToInternalToExternalMap.get(G);if(Z&&Y)N._bindToExternalToInternalMap.set(G,Y),N._bindToInternalToExternalMap.set(Y,G);else{var Q=F(G);N._bindToExternalToInternalMap.set(G,Q),N._bindToInternalToExternalMap.set(Q,G),N.add(Q,J)}},D=!0,q=!1,z;try{for(var $=V[Symbol.iterator](),W,K;!(D=(W=$.next()).done);D=!0)K=W.value,L(null,K)}catch(H){q=!0,z=H}finally{try{!D&&$.return&&$.return()}finally{if(q)throw z}}this.listenTo(V,'add',L),this.listenTo(V,'remove',function(H,U){var G=N._bindToExternalToInternalMap.get(U);G&&N.remove(G)})}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:'length',get:function(){return this._items.length}}]),I}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=E,(0,T.default)(E,P.default)},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}function d(F,N){if(!(F instanceof N))throw new TypeError('Cannot call a class as a function')}/**
                                                                                                                                                           * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                           * For licensing, see LICENSE.md.
                                                                                                                                                           */function f(F){return F['data-ck-expando']||(F['data-ck-expando']=(0,C.default)())}function h(F){return F&&(0,E.default)(F.addEventListener)}Object.defineProperty(o,'__esModule',{value:!0});var P=u(7),w=s(P),M=u(70),C=s(M),O=u(56),S=s(O),T=u(236),E=s(T),I=(0,S.default)({},w.default,{listenTo:function(){for(var N=arguments.length,V=Array(N),L=0;L<N;L++)V[L]=arguments[L];var D=V[0];h(D)&&(V[0]=this._getProxyEmitter(D)||new R(D)),w.default.listenTo.apply(this,V)},stopListening:function(){for(var N=arguments.length,V=Array(N),L=0;L<N;L++)V[L]=arguments[L];var D=V[0];if(h(D)){var q=this._getProxyEmitter(D);if(!q)return;V[0]=q}w.default.stopListening.apply(this,V)},_getProxyEmitter:function(N){return(0,P._getEmitterListenedTo)(this,f(N))}});o.default=I;var R=function F(N){d(this,F),(0,P._setEmitterId)(this,f(N)),this._domNode=N};(0,S.default)(R.prototype,w.default,{on:function(N){var L=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(w.default.on.apply(this,arguments),!(this._domListeners&&this._domListeners[N])){var D=this._createDomListener(N);this._domNode.addEventListener(N,D,!!L.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[N]=D}},off:function(N){w.default.off.apply(this,arguments);var V;!this._domListeners[N]||(V=this._events[N])&&V.callbacks.length||this._domListeners[N].removeListener()},_createDomListener:function(N){var V=this,L=function(q){V.fire(N,q)};return L.removeListener=function(){V._domNode.removeEventListener(N,L),delete V._domListeners[N]},L}})},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}function d(I){var R=-1,F=I?I.length:0;for(this.clear();++R<F;){var N=I[R];this.set(N[0],N[1])}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(461),h=s(f),P=u(462),w=s(P),M=u(463),C=s(M),O=u(464),S=s(O),T=u(465),E=s(T);d.prototype.clear=h.default,d.prototype['delete']=w.default,d.prototype.get=C.default,d.prototype.has=S.default,d.prototype.set=E.default,o.default=d},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}function d(O){var S=-1,T=O?O.length:0;for(this.__data__=new h.default;++S<T;)this.add(O[S])}Object.defineProperty(o,'__esModule',{value:!0});var f=u(122),h=s(f),P=u(472),w=s(P),M=u(473),C=s(M);d.prototype.add=d.prototype.push=w.default,d.prototype.has=C.default,o.default=d},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d,f){for(var h=-1,P=d.length,w=0,M=[],C;++h<P;)C=d[h],f(C,h,d)&&(M[w++]=C);return M}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d,f){for(var h=-1,P=f.length,w=d.length;++h<P;)d[w+h]=f[h];return d}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(55),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w){for(var M=P.length;M--;)if((0,h.default)(P[M][0],w))return M;return-1}},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(133),h=s(f),P=u(230),w=s(P),M=u(44),C=s(M);o.default=function(T,E,I){var R=0,F=T?T.length:R;if('number'==typeof E&&E===E&&F<=4294967295>>>1){for(;R<F;){var N=R+F>>>1,V=T[N];null!==V&&!(0,C.default)(V)&&(I?V<=E:V<E)?R=N+1:F=N}return F}return(0,h.default)(T,E,w.default,I)}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(35),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w,M,C){for(var O=P.length,S=C?O:-1;(C?S--:++S<O)&&w(P[S],S,P););return M?(0,h.default)(P,C?0:S,C?S+1:O):(0,h.default)(P,C?S+1:0,C?O:S)}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(11),h=s(f),P=u(480),w=s(P);o.default=function(M){return(0,h.default)(M)?M:(0,w.default)(M)}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(459),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w){var M=P.__data__;return(0,h.default)(w)?M['string'==typeof w?'string':'hash']:M.map}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d){var f=!1;if(null!=d&&'function'!=typeof d.toString)try{f=!!(d+'')}catch(h){}return f}},function(r,o,u){'use strict';function s(E){return E&&E.__esModule?E:{default:E}}Object.defineProperty(o,'__esModule',{value:!0});var f='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&'function'==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?'symbol':typeof E},h=u(55),P=s(h),w=u(96),M=s(w),C=u(36),O=s(C),S=u(14),T=s(S);o.default=function(E,I,R){if(!(0,T.default)(R))return!1;var F='undefined'==typeof I?'undefined':f(I);return!('number'==F?!((0,M.default)(R)&&(0,O.default)(I,R.length)):!('string'==F&&I in R))&&(0,P.default)(R[I],E)}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var d=Object.prototype;o.default=function(f){var h=f&&f.constructor,P='function'==typeof h&&h.prototype||d;return f===P}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var d=u(52),f=function(P){return P&&P.__esModule?P:{default:P}}(d),h=(0,f.default)(Object,'create');o.default=h},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d){var f=-1,h=Array(d.size);return d.forEach(function(P){h[++f]=P}),h}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(198),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P){return(0,h.default)(P,!1,!0)}},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(447),h=s(f),P=u(148),w=s(P),M=u(97),C=s(M);o.default=function(O){return null!=O&&(0,C.default)((0,h.default)(O))&&!(0,w.default)(O)}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0});o.default=function(f){return'number'==typeof f&&-1<f&&0==f%1&&f<=9007199254740991}},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(140),h=s(f),P=u(90),w=s(P),M=u(43),C=s(M),S=Object.prototype,T=Function.prototype.toString,E=S.hasOwnProperty,I=T.call(Object),R=S.toString;o.default=function(F){if(!(0,C.default)(F)||R.call(F)!='[object Object]'||(0,w.default)(F))return!1;var N=(0,h.default)(F);if(null===N)return!0;var V=E.call(N,'constructor')&&N.constructor;return'function'==typeof V&&V instanceof V&&T.call(V)==I}},function(r,o,u){'use strict';function s(R){return R&&R.__esModule?R:{default:R}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(83),h=s(f),P=u(27),w=s(P),M=u(131),C=s(M),O=u(203),S=s(O),T=u(13),E=s(T);o.default=function(R){if(!(R&&R.length))return[];var F=0;return R=(0,h.default)(R,function(N){if((0,E.default)(N))return F=_Mathmax(N.length,F),!0}),(0,S.default)(F,function(N){return(0,w.default)(R,(0,C.default)(N))})}},function(r){'use strict';r.exports=function(s){return s.webpackPolyfill||(s.deprecate=function(){},s.paths=[],!s.children&&(s.children=[]),Object.defineProperty(s,'loaded',{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,'id',{enumerable:!0,get:function(){return s.i}}),s.webpackPolyfill=1),s}},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}/**
   * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
   * For licensing, see LICENSE.md.
   */Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(O,S,T){var E=[],I=!0,R=!1,F;try{for(var N=S[Symbol.iterator](),V;!(I=(V=N.next()).done);I=!0){for(var L=V.value,D=new h.default({boundaries:L,mergeCharacters:!0}),q=D.next(),z=L.start,$=L.start,W=L.end;!q.done;){var K=q.value.item.name||'$text',H=C.default.createBefore(q.value.item);T.check({name:K,inside:H,attributes:O})||(!$.isEqual(z)&&E.push(new w.default($,z)),$=D.position),z=D.position,q=D.next()}$&&!$.isEqual(W)&&E.push(new w.default($,W))}}catch(U){R=!0,F=U}finally{try{!I&&N.return&&N.return()}finally{if(R)throw F}}return E};var f=u(34),h=s(f),P=u(2),w=s(P),M=u(1),C=s(M)},function(r,o,u){'use strict';function s(H){return H&&H.__esModule?H:{default:H}}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function E(H,U){var G=new $.default({startPosition:H,singleCharacters:!0}),J=0,Z=!0,Y=!1,Q;try{for(var X=G[Symbol.iterator](),ee,te;!(Z=(ee=X.next()).done);Z=!0)if(te=ee.value,'text'==te.type&&(J++,J==U))return G.position}catch(re){Y=!0,Q=re}finally{try{!Z&&X.return&&X.return()}finally{if(Y)throw Q}}}function R(H){var U=H.split(':');return U[0]+':'+U[1]}Object.defineProperty(o,'__esModule',{value:!0}),o.insertElement=function(H){return function(U,G,J,Z){var Y=H instanceof N.default?H.clone(!0):H(G,J,Z);if(Y&&J.consume(G.item,'insert')){var Q=Z.mapper.toViewPosition(G.range.start);Z.mapper.bindElements(G.item,Y),K.default.insert(Q,Y)}}},o.insertText=function(){return function(H,U,G,J){if(G.consume(U.item,'insert')){var Z=J.mapper.toViewPosition(U.range.start),Y=new L.default(U.item.data);K.default.insert(Z,Y)}}},o.insertUIElement=function(H){return function(U,G,J,Z){var Y,Q;if((H instanceof N.default?(Y=H.clone(!0),Q=H.clone(!0)):(G.isOpening=!0,Y=H(G,J,Z),G.isOpening=!1,Q=H(G,J,Z)),Y&&Q)&&J.consume(G.range,'addMarker')){var X=Z.mapper;K.default.insert(X.toViewPosition(G.range.start),Y),G.range.isCollapsed||K.default.insert(X.toViewPosition(G.range.end),Q)}}},o.setAttribute=function(H){return H=H||function(U,G){return{value:U,key:G}},function(U,G,J,Z){if(J.consume(G.item,R(U.name))){var Y=H(G.attributeNewValue,G.attributeKey,G,J,Z),Q=Y.key,X=Y.value;Z.mapper.toViewElement(G.item).setAttribute(Q,X)}}},o.removeAttribute=function(H){return H=H||function(U,G){return{key:G}},function(U,G,J,Z){if(J.consume(G.item,R(U.name))){var Y=H(G.attributeOldValue,G.attributeKey,G,J,Z),Q=Y.key;Z.mapper.toViewElement(G.item).removeAttribute(Q)}}},o.wrapItem=function(H){return function(U,G,J,Z){var Y=H instanceof N.default?H.clone(!0):H(G.attributeNewValue,G,J,Z);if(Y&&J.consume(G.item,R(U.name))){var Q=Z.mapper.toViewRange(G.range);if(null!==G.attributeOldValue&&!(H instanceof N.default)){var X=H(G.attributeOldValue,G,J,Z);Q=K.default.unwrap(Q,X)}K.default.wrap(Q,Y)}}},o.unwrapItem=function(H){return function(U,G,J,Z){var Y=H instanceof N.default?H.clone(!0):H(G.attributeOldValue,G,J,Z);if(Y&&J.consume(G.item,R(U.name))){var Q=Z.mapper.toViewRange(G.range);K.default.unwrap(Q,Y)}}},o.wrapRange=function(H){return function(U,G,J,Z){var Y=H instanceof N.default?H.clone(!0):H(G,J,Z);if(Y&&J.consume(G.range,'addMarker')){var Q=Z.mapper.toViewRange(G.range),X=K.default.breakViewRangePerContainer(Q),ee=!0,te=!1,re;try{for(var ae=X[Symbol.iterator](),oe,le;!(ee=(oe=ae.next()).done);ee=!0)le=oe.value,K.default.wrap(le,Y)}catch(ue){te=!0,re=ue}finally{try{!ee&&ae.return&&ae.return()}finally{if(te)throw re}}}}},o.unwrapRange=function(H){return function(U,G,J,Z){var Y=H instanceof N.default?H.clone(!0):H(G,J,Z);if(Y&&J.consume(G.range,'removeMarker')){var Q=Z.mapper.toViewRange(G.range),X=K.default.breakViewRangePerContainer(Q),ee=!0,te=!1,re;try{for(var ae=X[Symbol.iterator](),oe,le;!(ee=(oe=ae.next()).done);ee=!0)le=oe.value,K.default.unwrap(le,Y)}catch(ue){te=!0,re=ue}finally{try{!ee&&ae.return&&ae.return()}finally{if(te)throw re}}}}},o.remove=function(){return function(H,U,G,J){if(G.consume(U.item,'remove')){var Z=J.mapper.toViewPosition(U.sourcePosition),Y;if(U.item.is('element'))Y=q.default.createOn(Z.nodeAfter);else{var Q=E(Z,U.item.offsetSize);Y=new q.default(Z,Q)}K.default.remove(Y.getTrimmed()),'$graveyard'==U.item.root.rootName&&J.mapper.unbindModelElement(U.item)}}},o.removeUIElement=function(H){return function(U,G,J,Z){var Y,Q;if((H instanceof N.default?(Y=H.clone(!0),Q=H.clone(!0)):(G.isOpening=!0,Y=H(G,J,Z),G.isOpening=!1,Q=H(G,J,Z)),Y&&Q)&&J.consume(G.range,'removeMarker')){var X=Z.mapper.toViewRange(G.range);K.default.clear(X.getEnlarged(),Q),Y.isSimilar(Q)||K.default.clear(X.getEnlarged(),Y)}}},o.eventNameToConsumableType=R;var F=u(21),N=s(F),V=u(30),L=s(V),D=u(29),q=s(D),z=u(50),$=s(z),W=u(77),K=s(W)},function(r,o,u){'use strict';function s(K){return K&&K.__esModule?K:{default:K}}function d(K,H){if(!(K instanceof H))throw new TypeError('Cannot call a class as a function')}function f(K,H){if(!K)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return H&&('object'==typeof H||'function'==typeof H)?H:K}function h(K,H){if('function'!=typeof H&&null!==H)throw new TypeError('Super expression must either be null or a function, not '+typeof H);K.prototype=Object.create(H&&H.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(K,H):K.__proto__=H)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function K(H,U){var G=[],J=!0,Z=!1,Y;try{for(var Q=H[Symbol.iterator](),X;!(J=(X=Q.next()).done)&&(G.push(X.value),!(U&&G.length===U));J=!0);}catch(ee){Z=!0,Y=ee}finally{try{!J&&Q['return']&&Q['return']()}finally{if(Z)throw Y}}return G}return function(H,U){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return K(H,U);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),w=function(){function K(H,U){for(var G=0,J;G<U.length;G++)J=U[G],J.enumerable=J.enumerable||!1,J.configurable=!0,'value'in J&&(J.writable=!0),Object.defineProperty(H,J.key,J)}return function(H,U,G){return U&&K(H.prototype,U),G&&K(H,G),H}}(),M=u(20),C=s(M),O=u(106),S=s(O),T=u(17),E=s(T),I=u(37),R=s(I),F=u(16),N=u(18),V=u(48),L=s(V),D=u(2),q=s(D),z=u(1),$=s(z),W=function(K){function H(){return d(this,H),f(this,(H.__proto__||Object.getPrototypeOf(H)).apply(this,arguments))}return h(H,K),w(H,[{key:'type',get:function(){return'insert'}},{key:'position',get:function(){return this._insertOperation?this._insertOperation.position:null}},{key:'nodes',get:function(){return this._insertOperation?this._insertOperation.nodes:null}},{key:'_insertOperation',get:function(){return this.operations[0]||null}},{key:'_reverseDeltaClass',get:function(){return S.default}}],[{key:'className',get:function(){return'engine.model.delta.InsertDelta'}},{key:'_priority',get:function(){return 20}}]),H}(C.default);o.default=W,(0,F.register)('insert',function(K,H){var U=(0,N.normalizeNodes)(H);if(0===U.length)return this;var G=new W,J=new R.default(K,U,this.document.version);if(this.addDelta(G),G.addOperation(J),this.document.applyOperation(J),H instanceof L.default){var Z=!0,Y=!1,Q;try{for(var X=H.markers[Symbol.iterator](),ee;!(Z=(ee=X.next()).done);Z=!0){var te=ee.value,re=P(te,2),ae=re[0],oe=re[1],le=$.default.createAt(oe.root),ue=new q.default(oe.start._getCombined(le,K),oe.end._getCombined(le,K));this.setMarker(ae,ue)}}catch(ie){Y=!0,Q=ie}finally{try{!Z&&X.return&&X.return()}finally{if(Y)throw Q}}}return this}),E.default.register(W)},function(r,o,u){'use strict';function s(H){return H&&H.__esModule?H:{default:H}}function d(H,U){if(!(H instanceof U))throw new TypeError('Cannot call a class as a function')}function f(H,U){if(!H)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return U&&('object'==typeof U||'function'==typeof U)?U:H}function h(H,U){if('function'!=typeof U&&null!==U)throw new TypeError('Super expression must either be null or a function, not '+typeof U);H.prototype=Object.create(U&&U.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(H,U):H.__proto__=U)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function H(U,G){for(var J=0,Z;J<G.length;J++)Z=G[J],Z.enumerable=Z.enumerable||!1,Z.configurable=!0,'value'in Z&&(Z.writable=!0),Object.defineProperty(U,Z.key,Z)}return function(U,G,J){return G&&H(U.prototype,G),J&&H(U,J),U}}(),w=function H(U,G,J){null===U&&(U=Function.prototype);var Z=Object.getOwnPropertyDescriptor(U,G);if(Z===void 0){var Y=Object.getPrototypeOf(U);return null===Y?void 0:H(Y,G,J)}if('value'in Z)return Z.value;var Q=Z.get;return void 0===Q?void 0:Q.call(J)},M=u(20),C=s(M),O=u(17),S=s(O),T=u(107),E=s(T),I=u(16),R=u(1),F=s(R),N=u(5),V=s(N),L=u(38),D=s(L),q=u(28),z=s(q),$=u(0),W=s($),K=function(H){function U(){return d(this,U),f(this,(U.__proto__||Object.getPrototypeOf(U)).apply(this,arguments))}return h(U,H),P(U,[{key:'getReversed',value:function(){var J=w(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),'getReversed',this).call(this);return 0<J.operations.length&&(J.operations[1].isSticky=!1),J}},{key:'type',get:function(){return'merge'}},{key:'position',get:function(){return this._removeOperation?this._removeOperation.sourcePosition:null}},{key:'_removeOperation',get:function(){return this.operations[1]||null}},{key:'_reverseDeltaClass',get:function(){return E.default}}],[{key:'className',get:function(){return'engine.model.delta.MergeDelta'}}]),U}(C.default);o.default=K,(0,I.register)('merge',function(H){var U=new K;this.addDelta(U);var G=H.nodeBefore,J=H.nodeAfter;if(!(G instanceof V.default))throw new W.default('batch-merge-no-element-before: Node before merge position must be an element.');if(!(J instanceof V.default))throw new W.default('batch-merge-no-element-after: Node after merge position must be an element.');var Z=F.default.createFromParentAndOffset(J,0),Y=F.default.createFromParentAndOffset(G,G.maxOffset),Q=new z.default(Z,J.maxOffset,Y,this.document.version);Q.isSticky=!0,U.addOperation(Q),this.document.applyOperation(Q);var X=new D.default(H,1,this.document.version);return U.addOperation(X),this.document.applyOperation(X),this}),S.default.register(K)},function(r,o,u){'use strict';function s(z){return z&&z.__esModule?z:{default:z}}function d(z,$){if(!(z instanceof $))throw new TypeError('Cannot call a class as a function')}function f(z,$){if(!z)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return $&&('object'==typeof $||'function'==typeof $)?$:z}function h(z,$){if('function'!=typeof $&&null!==$)throw new TypeError('Super expression must either be null or a function, not '+typeof $);z.prototype=Object.create($&&$.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(z,$):z.__proto__=$)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(z,$,W,K,H){var U=new I.default(W,K,H,z.document.version);$.addOperation(U),z.document.applyOperation(U)}Object.defineProperty(o,'__esModule',{value:!0});var w=function(){function z($,W){for(var K=0,H;K<W.length;K++)H=W[K],H.enumerable=H.enumerable||!1,H.configurable=!0,'value'in H&&(H.writable=!0),Object.defineProperty($,H.key,H)}return function($,W,K){return W&&z($.prototype,W),K&&z($,K),$}}(),M=u(20),C=s(M),O=u(17),S=s(O),T=u(16),E=u(28),I=s(E),R=u(1),F=s(R),N=u(2),V=s(N),L=u(0),D=s(L),q=function(z){function $(){return d(this,$),f(this,($.__proto__||Object.getPrototypeOf($)).apply(this,arguments))}return h($,z),w($,[{key:'type',get:function(){return'move'}},{key:'howMany',get:function(){return this._moveOperation?this._moveOperation.howMany:null}},{key:'sourcePosition',get:function(){return this._moveOperation?this._moveOperation.sourcePosition:null}},{key:'targetPosition',get:function(){return this._moveOperation?this._moveOperation.targetPosition:null}},{key:'_moveOperation',get:function(){return this.operations[0]||null}},{key:'_reverseDeltaClass',get:function(){return $}}],[{key:'className',get:function(){return'engine.model.delta.MoveDelta'}},{key:'_priority',get:function(){return 20}}]),$}(C.default);o.default=q,(0,T.register)('move',function(z,$){var W=new q;if(this.addDelta(W),z instanceof V.default){if(!z.isFlat)throw new D.default('batch-move-range-not-flat: Range to move is not flat.');P(this,W,z.start,z.end.offset-z.start.offset,$)}else P(this,W,F.default.createBefore(z),1,$);return this}),S.default.register(q)},function(r,o,u){'use strict';function s(D){return D&&D.__esModule?D:{default:D}}function d(D,q){if(!(D instanceof q))throw new TypeError('Cannot call a class as a function')}function f(D,q){if(!D)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return q&&('object'==typeof q||'function'==typeof q)?q:D}function h(D,q){if('function'!=typeof q&&null!==q)throw new TypeError('Super expression must either be null or a function, not '+typeof q);D.prototype=Object.create(q&&q.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(D,q):D.__proto__=q)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(D,q,z,$){var W=new I.default(z,$,D.document.version);q.addOperation(W),D.document.applyOperation(W)}Object.defineProperty(o,'__esModule',{value:!0});var w=function(){function D(q,z){for(var $=0,W;$<z.length;$++)W=z[$],W.enumerable=W.enumerable||!1,W.configurable=!0,'value'in W&&(W.writable=!0),Object.defineProperty(q,W.key,W)}return function(q,z,$){return z&&D(q.prototype,z),$&&D(q,$),q}}(),M=u(105),C=s(M),O=u(16),S=u(17),T=s(S),E=u(38),I=s(E),R=u(1),F=s(R),N=u(2),V=s(N),L=function(D){function q(){return d(this,q),f(this,(q.__proto__||Object.getPrototypeOf(q)).apply(this,arguments))}return h(q,D),w(q,null,[{key:'className',get:function(){return'engine.model.delta.RemoveDelta'}}]),q}(C.default);o.default=L,(0,O.register)('remove',function(D){var q=new L;if(this.addDelta(q),D instanceof V.default){var z=D.getMinimalFlatRanges().reverse(),$=!0,W=!1,K;try{for(var H=z[Symbol.iterator](),U,G;!($=(U=H.next()).done);$=!0)G=U.value,P(this,q,G.start,G.end.offset-G.start.offset)}catch(J){W=!0,K=J}finally{try{!$&&H.return&&H.return()}finally{if(W)throw K}}}else P(this,q,F.default.createBefore(D),1);return this}),T.default.register(L)},function(r,o,u){'use strict';function s(H){return H&&H.__esModule?H:{default:H}}function d(H,U){if(!(H instanceof U))throw new TypeError('Cannot call a class as a function')}function f(H,U){if(!H)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return U&&('object'==typeof U||'function'==typeof U)?U:H}function h(H,U){if('function'!=typeof U&&null!==U)throw new TypeError('Super expression must either be null or a function, not '+typeof U);H.prototype=Object.create(U&&U.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(H,U):H.__proto__=U)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function H(U,G){for(var J=0,Z;J<G.length;J++)Z=G[J],Z.enumerable=Z.enumerable||!1,Z.configurable=!0,'value'in Z&&(Z.writable=!0),Object.defineProperty(U,Z.key,Z)}return function(U,G,J){return G&&H(U.prototype,G),J&&H(U,J),U}}(),w=function H(U,G,J){null===U&&(U=Function.prototype);var Z=Object.getOwnPropertyDescriptor(U,G);if(Z===void 0){var Y=Object.getPrototypeOf(U);return null===Y?void 0:H(Y,G,J)}if('value'in Z)return Z.value;var Q=Z.get;return void 0===Q?void 0:Q.call(J)},M=u(20),C=s(M),O=u(17),S=s(O),T=u(16),E=u(1),I=s(E),R=u(5),F=s(R),N=u(37),V=s(N),L=u(28),D=s(L),q=u(0),z=s(q),$=u(104),W=s($),K=function(H){function U(){return d(this,U),f(this,(U.__proto__||Object.getPrototypeOf(U)).apply(this,arguments))}return h(U,H),P(U,[{key:'getReversed',value:function(){var J=w(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),'getReversed',this).call(this);return 0<J.operations.length&&(J.operations[0].isSticky=!0),J}},{key:'type',get:function(){return'split'}},{key:'position',get:function(){return this._moveOperation?this._moveOperation.sourcePosition:null}},{key:'_cloneOperation',get:function(){return this.operations[0]||null}},{key:'_moveOperation',get:function(){return this.operations[1]||null}},{key:'_reverseDeltaClass',get:function(){return W.default}}],[{key:'className',get:function(){return'engine.model.delta.SplitDelta'}},{key:'_priority',get:function(){return 5}}]),U}(C.default);o.default=K,(0,T.register)('split',function(H){var U=new K;this.addDelta(U);var G=H.parent;if(!G.parent)throw new z.default('batch-split-root: Root element can not be split.');var J=new F.default(G.name,G.getAttributes()),Z=new V.default(I.default.createAfter(G),J,this.document.version);U.addOperation(Z),this.document.applyOperation(Z);var Y=new D.default(H,G.maxOffset-H.offset,I.default.createFromParentAndOffset(J,0),this.document.version);return Y.isSticky=!0,U.addOperation(Y),this.document.applyOperation(Y),this}),S.default.register(K)},function(r,o,u){'use strict';function s(z){return z&&z.__esModule?z:{default:z}}function d(z){if(Array.isArray(z)){for(var $=0,W=Array(z.length);$<z.length;$++)W[$]=z[$];return W}return Array.from(z)}/**
                                                                                                                                                                                                     * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                     * For licensing, see LICENSE.md.
                                                                                                                                                                                                     */function f(z,$,W){var K=M(z,$)||P,H=K(z,$,W),U=D.default.last($.operations).baseVersion;return h(U,H)}function h(z,$){var W=!0,K=!1,H;try{for(var U=$[Symbol.iterator](),G;!(W=(G=U.next()).done);W=!0){var J=G.value,Z=!0,Y=!1,Q=void 0;try{for(var X=J.operations[Symbol.iterator](),ee,te;!(Z=(ee=X.next()).done);Z=!0)te=ee.value,te.baseVersion=++z}catch(re){Y=!0,Q=re}finally{try{!Z&&X.return&&X.return()}finally{if(Y)throw Q}}}}catch(re){K=!0,H=re}finally{try{!W&&U.return&&U.return()}finally{if(K)throw H}}return $}function P(z,$,W){W=C(z.constructor,$.constructor,W);var K=new z.constructor,H=$.operations,U=[],G=!0,J=!1,Z;try{for(var Y=z.operations[Symbol.iterator](),Q;!(G=(Q=Y.next()).done);G=!0){var X=Q.value,ee=[X],te=!0,re=!1,ae=void 0;try{for(var oe=H[Symbol.iterator](),le,ue;!(te=(le=oe.next()).done);te=!0){ue=le.value;for(var ie=0,de;ie<ee.length;ie++){de=ee[ie],Array.prototype.push.apply(U,(0,F.default)(ue,de,!W));var fe=(0,F.default)(de,ue,W);Array.prototype.splice.apply(ee,[ie,1].concat(fe)),ie+=fe.length-1}}}catch(he){re=!0,ae=he}finally{try{!te&&oe.return&&oe.return()}finally{if(re)throw ae}}H=U,U=[];var ce=!0,pe=!1,ge=void 0;try{for(var me=ee[Symbol.iterator](),ye,be;!(ce=(ye=me.next()).done);ce=!0)be=ye.value,K.addOperation(be)}catch(he){pe=!0,ge=he}finally{try{!ce&&me.return&&me.return()}finally{if(pe)throw ge}}}}catch(he){J=!0,Z=he}finally{try{!G&&Y.return&&Y.return()}finally{if(J)throw Z}}return[K]}function M(z,$){var W=q.get(z.constructor);if(!W||!W.get($.constructor)){var K=q.keys(),H=!0,U=!1,G;try{for(var J=K[Symbol.iterator](),Z,Y;!(H=(Z=J.next()).done);H=!0)if(Y=Z.value,z instanceof Y&&q.get(Y).get($.constructor)){W=q.get(Y);break}}catch(Q){U=!0,G=Q}finally{try{!H&&J.return&&J.return()}finally{if(U)throw G}}}return W?W.get($.constructor):void 0}function C(z,$,W){return!!(z._priority>$._priority)||!(z._priority<$._priority)&&W}function S(z){return z.reduce(function($,W){return $+W.operations.length},0)}function T(z,$){for(var W=z[z.length-1],K=W.operations.length+W.baseVersion,H=new I.default,U=0;U<$;U++)H.addOperation(new V.default(K++));z.push(H)}Object.defineProperty(o,'__esModule',{value:!0}),o.default=f,o.defaultTransform=P,o.addTransformationCase=function(z,$,W){var K=q.get(z);K||(K=new Map,q.set(z,K)),K.set($,W)},o.getTransformationCase=M,o.transformDeltaSets=function(z,$,W){for(var K=Array.from(z),H=Array.from($),U=0,G;U<K.length;U++){G=[K[U]];for(var J=0,Z;J<H.length;J++){Z=[H[J]];for(var Y=0;Y<G.length;Y++)for(var Q=0;Q<Z.length;Q++){var X=f(G[Y],Z[Q],W),ee=f(Z[Q],G[Y],!W);G.splice.apply(G,[Y,1].concat(d(X))),Y+=X.length-1,Z.splice.apply(Z,[Q,1].concat(d(ee))),Q+=ee.length-1}H.splice.apply(H,[J,1].concat(Z)),J+=Z.length-1}K.splice.apply(K,[U,1].concat(G)),U+=G.length-1}var te=S(K)-S(z),re=S(H)-S($);return re<te?T(H,te-re):te<re&&T(K,re-te),{deltasA:K,deltasB:H}};var E=u(20),I=s(E),R=u(318),F=s(R),N=u(73),V=s(N),L=u(482),D=s(L),q=new Map},function(r,o,u){'use strict';function s($){return $&&$.__esModule?$:{default:$}}function d($,W){if(!($ instanceof W))throw new TypeError('Cannot call a class as a function')}function f($,W){if(!$)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return W&&('object'==typeof W||'function'==typeof W)?W:$}function h($,W){if('function'!=typeof W&&null!==W)throw new TypeError('Super expression must either be null or a function, not '+typeof W);$.prototype=Object.create(W&&W.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf($,W):$.__proto__=W)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function $(W,K){for(var H=0,U;H<K.length;H++)U=K[H],U.enumerable=U.enumerable||!1,U.configurable=!0,'value'in U&&(U.writable=!0),Object.defineProperty(W,U.key,U)}return function(W,K,H){return K&&$(W.prototype,K),H&&$(W,H),W}}(),w=u(20),M=s(w),C=u(17),O=s(C),S=u(110),T=s(S),E=u(16),I=u(1),R=s(I),F=u(38),N=s(F),V=u(28),L=s(V),D=u(0),q=s(D),z=function($){function W(){return d(this,W),f(this,(W.__proto__||Object.getPrototypeOf(W)).apply(this,arguments))}return h(W,$),P(W,[{key:'type',get:function(){return'unwrap'}},{key:'position',get:function(){return this._moveOperation?this._moveOperation.targetPosition:null}},{key:'_moveOperation',get:function(){return this.operations[0]||null}},{key:'_reverseDeltaClass',get:function(){return T.default}}],[{key:'className',get:function(){return'engine.model.delta.UnwrapDelta'}},{key:'_priority',get:function(){return 10}}]),W}(M.default);o.default=z,(0,E.register)('unwrap',function($){if(null===$.parent)throw new q.default('batch-unwrap-element-no-parent: Trying to unwrap an element which has no parent.');var W=new z;this.addDelta(W);var K=R.default.createFromParentAndOffset($,0),H=new L.default(K,$.maxOffset,R.default.createBefore($),this.document.version);H.isSticky=!0,W.addOperation(H),this.document.applyOperation(H);var U=new N.default(R.default.createBefore($),1,this.document.version);return W.addOperation(U),this.document.applyOperation(U),this}),O.default.register(z)},function(r,o,u){'use strict';function s(U){return U&&U.__esModule?U:{default:U}}function d(U,G){if(!(U instanceof G))throw new TypeError('Cannot call a class as a function')}function f(U,G){if(!U)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return G&&('object'==typeof G||'function'==typeof G)?G:U}function h(U,G){if('function'!=typeof G&&null!==G)throw new TypeError('Super expression must either be null or a function, not '+typeof G);U.prototype=Object.create(G&&G.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(U,G):U.__proto__=G)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function U(G,J){for(var Z=0,Y;Z<J.length;Z++)Y=J[Z],Y.enumerable=Y.enumerable||!1,Y.configurable=!0,'value'in Y&&(Y.writable=!0),Object.defineProperty(G,Y.key,Y)}return function(G,J,Z){return J&&U(G.prototype,J),Z&&U(G,Z),G}}(),w=u(20),M=s(w),C=u(17),O=s(C),S=u(109),T=s(S),E=u(16),I=u(1),R=s(I),F=u(2),N=s(F),V=u(5),L=s(V),D=u(37),q=s(D),z=u(28),$=s(z),W=u(0),K=s(W),H=function(U){function G(){return d(this,G),f(this,(G.__proto__||Object.getPrototypeOf(G)).apply(this,arguments))}return h(G,U),P(G,[{key:'type',get:function(){return'wrap'}},{key:'range',get:function(){var Z=this._moveOperation;return Z?N.default.createFromPositionAndShift(Z.sourcePosition,Z.howMany):null}},{key:'howMany',get:function(){var Z=this.range;return Z?Z.end.offset-Z.start.offset:0}},{key:'_insertOperation',get:function(){return this.operations[0]||null}},{key:'_moveOperation',get:function(){return this.operations[1]||null}},{key:'_reverseDeltaClass',get:function(){return T.default}}],[{key:'className',get:function(){return'engine.model.delta.WrapDelta'}},{key:'_priority',get:function(){return 10}}]),G}(M.default);o.default=H,(0,E.register)('wrap',function(U,G){if(!U.isFlat)throw new K.default('batch-wrap-range-not-flat: Range to wrap is not flat.');var J=G instanceof L.default?G:new L.default(G);if(0<J.childCount)throw new K.default('batch-wrap-element-not-empty: Element to wrap with is not empty.');if(null!==J.parent)throw new K.default('batch-wrap-element-attached: Element to wrap with is already attached to tree model.');var Z=new H;this.addDelta(Z);var Y=new q.default(U.end,J,this.document.version);Z.addOperation(Y),this.document.applyOperation(Y);var Q=R.default.createFromParentAndOffset(J,0),X=new $.default(U.start,U.end.offset-U.start.offset,Q,this.document.version);return Z.addOperation(X),this.document.applyOperation(X),this}),O.default.register(H)},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}function d(F,N){if(!(F instanceof N))throw new TypeError('Cannot call a class as a function')}function f(F,N){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:F}function h(F,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(){var F=this,N=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document,'change',function(V,L,D,q,z){N.has(L)&&w.call(F,L,z,D.range,D.sourcePosition)},{priority:'high'})}function w(F,N,V,L){var D=V.end.offset-V.start.offset,q=V.start;'move'==F&&(q=q._getTransformedByInsertion(L,D));var z=this._getTransformedByDocumentChange(F,N,q,D,L);'move'==F&&3==z.length&&(z[2]=V);var $=O.default.createFromRanges(z);if(!$.isEqual(this)){var W=O.default.createFromRange(this);this.start=$.start,this.end=$.end,this.fire('change',W)}}Object.defineProperty(o,'__esModule',{value:!0});var M=function(){function F(N,V){for(var L=0,D;L<V.length;L++)D=V[L],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}return function(N,V,L){return V&&F(N.prototype,V),L&&F(N,L),N}}(),C=u(2),O=s(C),S=u(7),T=s(S),E=u(4),I=s(E),R=function(F){function N(V,L){d(this,N);var D=f(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,V,L));return P.call(D),D}return h(N,F),M(N,[{key:'detach',value:function(){this.stopListening()}}]),N}(O.default);o.default=R,(0,I.default)(R,T.default)},function(r,o,u){'use strict';function s(E){return E&&E.__esModule?E:{default:E}}function d(E,I){if(!(E instanceof I))throw new TypeError('Cannot call a class as a function')}function f(E,I){if(!E)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return I&&('object'==typeof I||'function'==typeof I)?I:E}function h(E,I){if('function'!=typeof I&&null!==I)throw new TypeError('Super expression must either be null or a function, not '+typeof I);E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(E,I):E.__proto__=I)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function E(I,R){for(var F=0,N;F<R.length;F++)N=R[F],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}return function(I,R,F){return R&&E(I.prototype,R),F&&E(I,F),I}}(),w=function E(I,R,F){null===I&&(I=Function.prototype);var N=Object.getOwnPropertyDescriptor(I,R);if(N===void 0){var V=Object.getPrototypeOf(I);return null===V?void 0:E(V,R,F)}if('value'in N)return N.value;var L=N.get;return void 0===L?void 0:L.call(F)},M=u(33),C=s(M),O=u(2),S=s(O),T=function(E){function I(R,F,N,V,L){d(this,I);var D=f(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,L));return D.name=R,D.oldRange=F?S.default.createFromRange(F):null,D.newRange=N?S.default.createFromRange(N):null,D._markers=V,D}return h(I,E),P(I,[{key:'clone',value:function(){return new I(this.name,this.oldRange,this.newRange,this._markers,this.baseVersion)}},{key:'getReversed',value:function(){return new I(this.name,this.newRange,this.oldRange,this._markers,this.baseVersion+1)}},{key:'_execute',value:function(){var F=this.newRange?'set':'remove';return this._markers[F](this.name,this.newRange),{name:this.name,type:F}}},{key:'toJSON',value:function(){var F=w(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),'toJSON',this).call(this);return delete F._markers,F}},{key:'type',get:function(){return'marker'}}],[{key:'fromJSON',value:function(F,N){return new I(F.name,F.oldRange?S.default.fromJSON(F.oldRange,N):null,F.newRange?S.default.fromJSON(F.newRange,N):null,N.markers,F.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.MarkerOperation'}}]),I}(C.default);o.default=T},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}function d(T,E){if(!(T instanceof E))throw new TypeError('Cannot call a class as a function')}function f(T,E){if(!T)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:T}function h(T,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function T(E,I){for(var R=0,F;R<I.length;R++)F=I[R],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(E,F.key,F)}return function(E,I,R){return I&&T(E.prototype,I),R&&T(E,R),E}}(),w=u(28),M=s(w),C=u(38),O=s(C),S=function(T){function E(){return d(this,E),f(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return h(E,T),P(E,[{key:'getReversed',value:function(){return new O.default(this.targetPosition,this.howMany,this.baseVersion+1)}},{key:'position',get:function(){return this.targetPosition},set:function(R){this.targetPosition=R}},{key:'type',get:function(){return'reinsert'}}],[{key:'className',get:function(){return'engine.model.operation.ReinsertOperation'}}]),E}(M.default);o.default=S},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}function d(F,N){if(!(F instanceof N))throw new TypeError('Cannot call a class as a function')}function f(F,N){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:F}function h(F,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function F(N,V){for(var L=0,D;L<V.length;L++)D=V[L],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}return function(N,V,L){return V&&F(N.prototype,V),L&&F(N,L),N}}(),w=u(33),M=s(w),C=u(5),O=s(C),S=u(0),T=s(S),E=u(1),I=s(E),R=function(F){function N(V,L,D,q){d(this,N);var z=f(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,q));return z.position=V,z.oldName=L,z.newName=D,z}return h(N,F),P(N,[{key:'clone',value:function(){return new N(I.default.createFromPosition(this.position),this.oldName,this.newName,this.baseVersion)}},{key:'getReversed',value:function(){return new N(I.default.createFromPosition(this.position),this.newName,this.oldName,this.baseVersion+1)}},{key:'_execute',value:function(){var L=this.position.nodeAfter;if(!(L instanceof O.default))throw new T.default('rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.');else if(L.name!==this.oldName)throw new T.default('rename-operation-wrong-name: Element to change has different name than operation\'s old name.');return this.oldName==this.newName?void 0:(L.name=this.newName,{element:L,oldName:this.oldName})}},{key:'type',get:function(){return'rename'}}],[{key:'fromJSON',value:function(L,D){return new N(I.default.fromJSON(L.position,D),L.oldName,L.newName,L.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.RenameOperation'}}]),N}(M.default);o.default=R},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}function d(T,E){if(!(T instanceof E))throw new TypeError('Cannot call a class as a function')}function f(T,E){if(!T)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:T}function h(T,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function T(E,I){for(var R=0,F;R<I.length;R++)F=I[R],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(E,F.key,F)}return function(E,I,R){return I&&T(E.prototype,I),R&&T(E,R),E}}(),w=u(33),M=s(w),C=u(0),O=s(C),S=function(T){function E(I,R,F,N,V){d(this,E);var L=f(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,V));return L.root=I,L.key=R,L.oldValue=F,L.newValue=N,L}return h(E,T),P(E,[{key:'clone',value:function(){return new E(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:'getReversed',value:function(){return new E(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:'_execute',value:function(){if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new O.default('rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation\'s old attribute value.',{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new O.default('rootattribute-operation-attribute-exists: The attribute with given key already exists.',{root:this.root,key:this.key});return null===this.newValue?this.root.removeAttribute(this.key):this.root.setAttribute(this.key,this.newValue),{root:this.root,key:this.key,oldValue:this.oldValue,newValue:this.newValue}}},{key:'type',get:function(){return null===this.oldValue?'addRootAttribute':null===this.newValue?'removeRootAttribute':'changeRootAttribute'}}],[{key:'fromJSON',value:function(R,F){if(!F.hasRoot(R.root))throw new O.default('rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.',{rootName:R});return new E(F.getRoot(R.root),R.key,R.oldValue,R.newValue,R.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.RootAttributeOperation'}}]),E}(M.default);o.default=S},function(r,o,u){'use strict';function d(E,I){if(!(E instanceof I))throw new TypeError('Cannot call a class as a function')}function f(E,I){if(!E)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return I&&('object'==typeof I||'function'==typeof I)?I:E}function h(E,I){if('function'!=typeof I&&null!==I)throw new TypeError('Super expression must either be null or a function, not '+typeof I);E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(E,I):E.__proto__=I)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(){if(this.childCount)return null;for(var E=this.parent;E&&E.is('attributeElement');){if(1<E.childCount)return null;E=E.parent}return!E||1<E.childCount?null:0}Object.defineProperty(o,'__esModule',{value:!0});var w=function(){function E(I,R){for(var F=0,N;F<R.length;F++)N=R[F],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}return function(I,R,F){return R&&E(I.prototype,R),F&&E(I,F),I}}(),M=function E(I,R,F){null===I&&(I=Function.prototype);var N=Object.getOwnPropertyDescriptor(I,R);if(N===void 0){var V=Object.getPrototypeOf(I);return null===V?void 0:E(V,R,F)}if('value'in N)return N.value;var L=N.get;return void 0===L?void 0:L.call(F)},C=u(21),O=function(E){return E&&E.__esModule?E:{default:E}}(C),S=10,T=function(E){function I(R,F,N){d(this,I);var V=f(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,R,F,N));return V.priority=S,V.getFillerOffset=P,V}return h(I,E),w(I,[{key:'is',value:function(F){var N=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return N?'attributeElement'==F&&N==this.name||M(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),'is',this).call(this,F,N):'attributeElement'==F||M(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),'is',this).call(this,F)}},{key:'clone',value:function(F){var N=M(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),'clone',this).call(this,F);return N.priority=this.priority,N}},{key:'isSimilar',value:function(F){return M(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),'isSimilar',this).call(this,F)&&this.priority==F.priority}}]),I}(O.default);o.default=T,T.DEFAULT_PRIORITY=S},function(r,o,u){'use strict';function s(R){return R&&R.__esModule?R:{default:R}}function d(R,F){if(!(R instanceof F))throw new TypeError('Cannot call a class as a function')}function f(R){return'string'==typeof R?[new w.default(R)]:((0,S.default)(R)||(R=[R]),Array.from(R).map(function(F){return'string'==typeof F?new w.default(F):F}))}Object.defineProperty(o,'__esModule',{value:!0});var h=function(){function R(F,N){for(var V=0,L;V<N.length;V++)L=N[V],L.enumerable=L.enumerable||!1,L.configurable=!0,'value'in L&&(L.writable=!0),Object.defineProperty(F,L.key,L)}return function(F,N,V){return N&&R(F.prototype,N),V&&R(F,V),F}}(),P=u(30),w=s(P),M=u(4),C=s(M),O=u(41),S=s(O),T=u(7),E=s(T),I=function(){function R(F){d(this,R),this._children=[],F&&this.insertChildren(0,F)}return h(R,[{key:Symbol.iterator,value:function(){return this._children[Symbol.iterator]()}},{key:'is',value:function(N){return'documentFragment'==N}},{key:'appendChildren',value:function(N){return this.insertChildren(this.childCount,N)}},{key:'getChild',value:function(N){return this._children[N]}},{key:'getChildIndex',value:function(N){return this._children.indexOf(N)}},{key:'getChildren',value:function(){return this._children[Symbol.iterator]()}},{key:'insertChildren',value:function(N,V){this._fireChange('children',this);var L=0;V=f(V);var D=!0,q=!1,z;try{for(var $=V[Symbol.iterator](),W,K;!(D=(W=$.next()).done);D=!0)K=W.value,K.parent=this,this._children.splice(N,0,K),N++,L++}catch(H){q=!0,z=H}finally{try{!D&&$.return&&$.return()}finally{if(q)throw z}}return L}},{key:'removeChildren',value:function(N){var V=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this._fireChange('children',this);for(var L=N;L<N+V;L++)this._children[L].parent=null;return this._children.splice(N,V)}},{key:'_fireChange',value:function(N,V){this.fire('change:'+N,V)}},{key:'childCount',get:function(){return this._children.length}},{key:'isEmpty',get:function(){return 0===this.childCount}},{key:'root',get:function(){return this}},{key:'parent',get:function(){return null}}]),R}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=I,(0,C.default)(I,E.default)},function(r,o,u){'use strict';function d(M,C){if(!(M instanceof C))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function M(C,O){for(var S=0,T;S<O.length;S++)T=O[S],T.enumerable=T.enumerable||!1,T.configurable=!0,'value'in T&&(T.writable=!0),Object.defineProperty(C,T.key,T)}return function(C,O,S){return O&&M(C.prototype,O),S&&M(C,S),C}}(),h=u(56),P=function(M){return M&&M.__esModule?M:{default:M}}(h),w=function(){function M(C,O,S){d(this,M),this.document=C,this.domEvent=O,this.domTarget=O.target,(0,P.default)(this,S)}return f(M,[{key:'preventDefault',value:function(){this.domEvent.preventDefault()}},{key:'stopPropagation',value:function(){this.domEvent.stopPropagation()}},{key:'target',get:function(){return this.document.domConverter.getCorrespondingViewElement(this.domTarget)}}]),M}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=w},function(r,o){'use strict';function f(S,T){S.setCustomProperty(M,T)}function P(){return null}Object.defineProperty(o,'__esModule',{value:!0}),o.isWidget=function(S){return!!S.getCustomProperty(w)},o.widgetize=function(S,T){return T=T||{},S.setAttribute('contenteditable',!1),S.getFillerOffset=P,S.addClass(C),S.setCustomProperty(w,!0),T.label&&f(S,T.label),S},o.setLabel=f,o.getLabel=function(S){var T=S.getCustomProperty(M);return T?'function'==typeof T?T():T:''};/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */var w=Symbol('isWidget'),M=Symbol('label'),C=o.WIDGET_CLASS_NAME='ck-widget',O=o.WIDGET_SELECTED_CLASS_NAME='ck-widget_selected'},function(r,o){'use strict';function s(P,w){if(!(P instanceof w))throw new TypeError('Cannot call a class as a function')}/**
 * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function d(P){return P.focus}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function P(w,M){for(var C=0,O;C<M.length;C++)O=M[C],O.enumerable=O.enumerable||!1,O.configurable=!0,'value'in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}return function(w,M,C){return M&&P(w.prototype,M),C&&P(w,C),w}}(),h=function(){function P(w){var M=this;if(s(this,P),Object.assign(this,w),w.actions&&w.keystrokeHandler){var C=function(T){var E=w.actions[T];'string'==typeof E&&(E=[E]);var I=!0,R=!1,F;try{for(var N=E[Symbol.iterator](),V,L;!(I=(V=N.next()).done);I=!0)L=V.value,w.keystrokeHandler.set(L,function(D,q){M[T](),q()})}catch(D){R=!0,F=D}finally{try{!I&&N.return&&N.return()}finally{if(R)throw F}}};for(var O in w.actions)C(O)}}return f(P,[{key:'focusFirst',value:function(){this._focus(this.first)}},{key:'focusLast',value:function(){this._focus(this.last)}},{key:'focusNext',value:function(){this._focus(this.next)}},{key:'focusPrevious',value:function(){this._focus(this.previous)}},{key:'_focus',value:function(M){M&&M.focus()}},{key:'_getFocusableItem',value:function(M){var C=this.current,O=this.focusables.length;if(!O||null===C)return null;var S=(C+O+M)%O;do{var T=this.focusables.get(S);if(d(T))return T;S=(S+O+M)%O}while(S!==C);return null}},{key:'first',get:function(){return this.focusables.find(d)||null}},{key:'last',get:function(){return this.focusables.filter(d).slice(-1)[0]||null}},{key:'next',get:function(){return this._getFocusableItem(1)}},{key:'previous',get:function(){return this._getFocusableItem(-1)}},{key:'current',get:function(){var M=this,C=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find(function(O,S){var T=O.element===M.focusTracker.focusedElement;return T&&(C=S),T}),C)}}]),P}();o.default=h},function(r,o,u){'use strict';function s(V){return V&&V.__esModule?V:{default:V}}function d(V,L){if(!(V instanceof L))throw new TypeError('Cannot call a class as a function')}function f(V,L){if(!V)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:V}function h(V,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);V.prototype=Object.create(L&&L.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(V,L):V.__proto__=L)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(V){return V.every(function(L){return'string'==typeof L})}Object.defineProperty(o,'__esModule',{value:!0});var w=function(){function V(L,D){for(var q=0,z;q<D.length;q++)z=D[q],z.enumerable=z.enumerable||!1,z.configurable=!0,'value'in z&&(z.writable=!0),Object.defineProperty(L,z.key,z)}return function(L,D,q){return D&&V(L.prototype,D),q&&V(L,q),L}}(),M=function V(L,D,q){null===L&&(L=Function.prototype);var z=Object.getOwnPropertyDescriptor(L,D);if(z===void 0){var $=Object.getPrototypeOf(L);return null===$?void 0:V($,D,q)}if('value'in z)return z.value;var W=z.get;return void 0===W?void 0:W.call(q)},C=u(0),O=s(C),S=u(32),T=s(S),E=u(79),I=s(E),R=u(4),F=s(R),N=function(V){function L(D){d(this,L);var q=f(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,{idProperty:'viewUid'}));return q.on('add',function(z,$,W){$.element&&q._parentElement&&q._parentElement.insertBefore($.element,q._parentElement.children[W])}),q.on('remove',function(z,$){$.element&&q._parentElement&&$.element.remove()}),q.locale=D,q.set('ready',!1),q._parentElement=null,q}return h(L,V),w(L,[{key:'init',value:function(){var q=this;if(this.ready)throw new O.default('ui-viewcollection-init-reinit: This ViewCollection has already been initialized.');return Promise.all(this.map(function(z){return z.init()})).then(function(){q.ready=!0})}},{key:'destroy',value:function(){var q=[],z=!0,$=!1,W;try{for(var K=this[Symbol.iterator](),H,U;!(z=(H=K.next()).done);z=!0)U=H.value,q.push(U.destroy())}catch(G){$=!0,W=G}finally{try{!z&&K.return&&K.return()}finally{if($)throw W}}return Promise.all(q)}},{key:'add',value:function(q,z){M(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),'add',this).call(this,q,z);var $=Promise.resolve();return this.ready&&!q.ready&&($=$.then(function(){return q.init()})),$}},{key:'setParent',value:function(q){this._parentElement=q}},{key:'delegate',value:function(){for(var q=this,z=arguments.length,$=Array(z),W=0;W<z;W++)$[W]=arguments[W];if(!$.length||!P($))throw new O.default('ui-viewcollection-delegate-wrong-events: All event names must be strings.');return{to:function(H){var U=!0,G=!1,J;try{for(var Z=q[Symbol.iterator](),Y;!(U=(Y=Z.next()).done);U=!0){var Q=Y.value,X=!0,ee=!1,te=void 0;try{for(var re=$[Symbol.iterator](),ae,oe;!(X=(ae=re.next()).done);X=!0)oe=ae.value,Q.delegate(oe).to(H)}catch(le){ee=!0,te=le}finally{try{!X&&re.return&&re.return()}finally{if(ee)throw te}}}}catch(le){G=!0,J=le}finally{try{!U&&Z.return&&Z.return()}finally{if(G)throw J}}q.on('add',function(le,ue){var ie=!0,de=!1,fe;try{for(var ce=$[Symbol.iterator](),pe,ge;!(ie=(pe=ce.next()).done);ie=!0)ge=pe.value,ue.delegate(ge).to(H)}catch(me){de=!0,fe=me}finally{try{!ie&&ce.return&&ce.return()}finally{if(de)throw fe}}}),q.on('remove',function(le,ue){var ie=!0,de=!1,fe;try{for(var ce=$[Symbol.iterator](),pe,ge;!(ie=(pe=ce.next()).done);ie=!0)ge=pe.value,ue.stopDelegating(ge,H)}catch(me){de=!0,fe=me}finally{try{!ie&&ce.return&&ce.return()}finally{if(de)throw fe}}})}}}}]),L}(I.default);o.default=N,(0,F.default)(I.default,T.default)},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}function d(I){var R=-1,F=I?I.length:0;for(this.clear();++R<F;){var N=I[R];this.set(N[0],N[1])}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(466),h=s(f),P=u(467),w=s(P),M=u(468),C=s(M),O=u(469),S=s(O),T=u(470),E=s(T);d.prototype.clear=h.default,d.prototype['delete']=w.default,d.prototype.get=C.default,d.prototype.has=S.default,d.prototype.set=E.default,o.default=d},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}function d(F){this.__data__=new h.default(F)}Object.defineProperty(o,'__esModule',{value:!0});var f=u(81),h=s(f),P=u(475),w=s(P),M=u(476),C=s(M),O=u(477),S=s(O),T=u(478),E=s(T),I=u(479),R=s(I);d.prototype.clear=w.default,d.prototype['delete']=C.default,d.prototype.get=S.default,d.prototype.has=E.default,d.prototype.set=R.default,o.default=d},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var d=u(31),f=function(P){return P&&P.__esModule?P:{default:P}}(d),h=f.default.Symbol;o.default=h},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(128),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w){return!!P.length&&-1<(0,h.default)(P,w,0)}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d,f,h){for(var P=-1,w=d.length;++P<w;)if(h(f,d[P]))return!0;return!1}},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(88),h=s(f),P=u(53),w=s(P),M=u(54),C=s(M);o.default=function(O,S){S=(0,w.default)(S,O)?[S]:(0,h.default)(S);for(var T=0,E=S.length;null!=O&&T<E;)O=O[(0,C.default)(S[T++])];return T&&T==E?O:void 0}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(209),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w,M){if(w!==w)return(0,h.default)(P,M);for(var C=M-1,O=P.length;++C<O;)if(P[C]===w)return C;return-1}},function(r,o,u){'use strict';function s(N){return N&&N.__esModule?N:{default:N}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(82),h=s(f),P=u(125),w=s(P),M=u(126),C=s(M),O=u(27),S=s(O),T=u(134),E=s(T),I=u(136),R=s(I);o.default=function(N,V,L){for(var D=L?C.default:w.default,q=N[0].length,z=N.length,$=z,W=Array(z),K=Infinity,H=[],U;$--;)U=N[$],$&&V&&(U=(0,S.default)(U,(0,E.default)(V))),K=_Mathmin(U.length,K),W[$]=!L&&(V||120<=q&&120<=U.length)?new h.default($&&U):void 0;U=N[0];var G=-1,J=W[0];outer:for(;++G<q&&H.length<K;){var Z=U[G],Y=V?V(Z):Z;if(Z=L||0!==Z?Z:0,J?!(0,R.default)(J,Y):!D(H,Y,L)){for($=z;--$;){var Q=W[$];if(Q?!(0,R.default)(Q,Y):!D(N[$],Y,L))continue outer}J&&J.push(Y),H.push(Z)}}return H}},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}function d(O,S,T,E,I){return!(O!==S)||(null!=O&&null!=S&&((0,w.default)(O)||(0,C.default)(S))?(0,h.default)(O,S,d,T,E,I):O!==O&&S!==S)}Object.defineProperty(o,'__esModule',{value:!0});var f=u(420),h=s(f),P=u(14),w=s(P),M=u(43),C=s(M);o.default=d},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d){return function(f){return null==f?void 0:f[d]}}},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(27),h=s(f),P=u(128),w=s(P),M=u(419),C=s(M),O=u(134),S=s(O),T=Array.prototype,E=T.splice;o.default=function(I,R,F,N){var V=N?C.default:w.default,L=-1,D=R.length,q=I;for(F&&(q=(0,h.default)(I,(0,S.default)(F)));++L<D;)for(var z=0,$=R[L],W=F?F($):$;-1<(z=V(q,W,z,N));)q!==I&&E.call(q,z,1),E.call(I,z,1);return I}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(44),h=function(O){return O&&O.__esModule?O:{default:O}}(f);o.default=function(O,S,T,E){S=T(S);for(var I=0,R=O?O.length:0,F=S!==S,N=null===S,V=(0,h.default)(S),L=void 0===S;I<R;){var D=_Mathfloor((I+R)/2),q=T(O[D]),z=q!==void 0,$=null===q,W=q===q,K=(0,h.default)(q);if(F)var H=E||W;else H=L?W&&(E||z):N?W&&z&&(E||!$):V?W&&z&&!$&&(E||!K):$||K?!1:E?q<=S:q<S;H?I=D+1:R=D}return _Mathmin(R,4294967295-1)}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d){return function(f){return d(f)}}},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(84),h=s(f),P=u(68),w=s(P),M=u(42),C=s(M);o.default=function(O,S,T){for(var E=-1,I=O.length,R;++E<I;)R=R?(0,h.default)((0,w.default)(R,O[E],S,T),(0,w.default)(O[E],R,S,T)):O[E];return R&&R.length?(0,C.default)(R,S,T):[]}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d,f){return d.has(f)}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(13),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P){return(0,h.default)(P)?P:[]}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(195),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P){var w=new P.constructor(P.byteLength);return new h.default(w).set(new h.default(P)),w}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(67),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w,M,C){M||(M={});for(var O=-1,S=w.length;++O<S;){var T=w[O],E=C?C(M[T],P[T],T,M,P):P[T];(0,h.default)(M,T,E)}return M}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var d=Object.getPrototypeOf;o.default=function(f){return d(Object(f))}},function(r,o,u){'use strict';function s(J){return J&&J.__esModule?J:{default:J}}function d(J){return $.call(J)}Object.defineProperty(o,'__esModule',{value:!0});var f=u(403),h=s(f),P=u(193),w=s(P),M=u(405),C=s(M),O=u(194),S=s(O),T=u(407),E=s(T),I=u(212),R=s(I),F='[object Map]',V='[object Promise]',L='[object Set]',D='[object WeakMap]',q='[object DataView]',z=Object.prototype,$=z.toString,W=(0,R.default)(h.default),K=(0,R.default)(w.default),H=(0,R.default)(C.default),U=(0,R.default)(S.default),G=(0,R.default)(E.default);(h.default&&d(new h.default(new ArrayBuffer(1)))!=q||w.default&&d(new w.default)!=F||C.default&&d(C.default.resolve())!=V||S.default&&d(new S.default)!=L||E.default&&d(new E.default)!=D)&&(d=function(Z){var Y=$.call(Z),Q=Y=='[object Object]'?Z.constructor:void 0,X=Q?(0,R.default)(Q):void 0;if(X)switch(X){case W:return q;case K:return F;case H:return V;case U:return L;case G:return D;}return Y}),o.default=d},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d){var f=-1,h=Array(d.size);return d.forEach(function(P,w){h[++f]=[w,P]}),h}},function(r,o,u){'use strict';function s(E){return E&&E.__esModule?E:{default:E}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(14),h=s(f),P=u(494),w=s(P),M=u(260),C=s(M);o.default=function(E,I,R){function F(te){var re=K,ae=H;return K=H=void 0,Y=te,G=E.apply(ae,re),G}function N(te){return Y=te,J=setTimeout(D,I),Q?F(te):G}function V(te){var re=te-Z,ae=te-Y,oe=I-re;return X?_Mathmin(oe,U-ae):oe}function L(te){var re=te-Z,ae=te-Y;return!Z||re>=I||0>re||X&&ae>=U}function D(){var te=(0,w.default)();return L(te)?q(te):void(J=setTimeout(D,V(te)))}function q(te){return(clearTimeout(J),J=void 0,ee&&K)?F(te):(K=H=void 0,G)}function W(){var te=(0,w.default)(),re=L(te);if(K=arguments,H=this,Z=te,re){if(void 0===J)return N(Z);if(X)return clearTimeout(J),J=setTimeout(D,I),F(Z)}return void 0===J&&(J=setTimeout(D,I)),G}var Z=0,Y=0,Q=!1,X=!1,ee=!0,K,H,U,G,J;if('function'!=typeof E)throw new TypeError('Expected a function');return I=(0,C.default)(I)||0,(0,h.default)(R)&&(Q=!!R.leading,X='maxWait'in R,U=X?_Mathmax((0,C.default)(R.maxWait)||0,I):U,ee='trailing'in R?!!R.trailing:ee),W.cancel=function(){void 0!==J&&clearTimeout(J),Z=Y=0,K=H=J=void 0},W.flush=function(){return void 0===J?G:q((0,w.default)())},W}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(35),h=s(f),P=u(15),w=s(P);o.default=function(M,C,O){var S=M?M.length:0;return S?(C=O||void 0===C?1:(0,w.default)(C),(0,h.default)(M,0>C?0:C,S)):[]}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(35),h=s(f),P=u(15),w=s(P);o.default=function(M,C,O){var S=M?M.length:0;return S?(C=O||void 0===C?1:(0,w.default)(C),C=S-C,(0,h.default)(M,0,0>C?0:C)):[]}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d){return d&&d.length?d[0]:void 0}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(13),h=function(S){return S&&S.__esModule?S:{default:S}}(f),w=Object.prototype,M=w.hasOwnProperty,C=w.toString,O=w.propertyIsEnumerable;o.default=function(S){return(0,h.default)(S)&&M.call(S,'callee')&&(!O.call(S,'callee')||C.call(S)=='[object Arguments]')}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(14),h=function(O){return O&&O.__esModule?O:{default:O}}(f),M=Object.prototype,C=M.toString;o.default=function(O){var S=(0,h.default)(O)?C.call(O):'';return S=='[object Function]'||S=='[object GeneratorFunction]'}},function(r,o,u){'use strict';function s(S){return S&&S.__esModule?S:{default:S}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(11),h=s(f),P=u(43),w=s(P),C=Object.prototype,O=C.toString;o.default=function(S){return'string'==typeof S||!(0,h.default)(S)&&(0,w.default)(S)&&O.call(S)=='[object String]'}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(132),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w){return P&&P.length&&w&&w.length?(0,h.default)(P,w):P}},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(196),h=s(f),P=u(27),w=s(P),M=u(99),C=s(M);o.default=function(O,S){if(!(O&&O.length))return[];var T=(0,C.default)(O);return null==S?T:(0,w.default)(T,function(E){return(0,h.default)(S,void 0,E)})}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(M){return(0,h.default)(M)?(0,w.default)(M):new Map(M)};var f=u(98),h=s(f),P=u(275),w=s(P)},function(r){'use strict';var s='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&'function'==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?'symbol':typeof f},d;d=function(){return this}();try{d=d||Function('return this')()||(1,eval)('this')}catch(f){'object'===('undefined'==typeof window?'undefined':s(window))&&(d=window)}r.exports=d},function(r,o,u){'use strict';function s(N){return N&&N.__esModule?N:{default:N}}function d(N,V){if(!(N instanceof V))throw new TypeError('Cannot call a class as a function')}function f(N,V){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:N}function h(N,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);N.prototype=Object.create(V&&V.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(N,V):N.__proto__=V)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function N(V,L){for(var D=0,q;D<L.length;D++)q=L[D],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(V,q.key,q)}return function(V,L,D){return L&&N(V.prototype,L),D&&N(V,D),V}}(),w=u(3),M=s(w),C=u(46),O=s(C),S=u(47),T=s(S),E=u(157),I=s(E),R='bold',F=function(N){function V(){return d(this,V),f(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return h(V,N),P(V,[{key:'init',value:function(){var D=this.editor,q=D.data,z=D.editing;D.document.schema.allow({name:'$inline',attributes:[R]}),(0,O.default)().for(q.modelToView,z.modelToView).fromAttribute(R).toElement('strong'),(0,T.default)().for(q.viewToModel).fromElement('strong').fromElement('b').fromAttribute('style',{'font-weight':'bold'}).toAttribute(R,!0),D.commands.set(R,new I.default(D,R))}}]),V}(M.default);o.default=F},function(r,o,u){'use strict';function s(N){return N&&N.__esModule?N:{default:N}}function d(N,V){if(!(N instanceof V))throw new TypeError('Cannot call a class as a function')}function f(N,V){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:N}function h(N,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);N.prototype=Object.create(V&&V.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(N,V):N.__proto__=V)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function N(V,L){for(var D=0,q;D<L.length;D++)q=L[D],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(V,q.key,q)}return function(V,L,D){return L&&N(V.prototype,L),D&&N(V,D),V}}(),w=u(3),M=s(w),C=u(46),O=s(C),S=u(47),T=s(S),E=u(157),I=s(E),R='italic',F=function(N){function V(){return d(this,V),f(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return h(V,N),P(V,[{key:'init',value:function(){var D=this.editor,q=D.data,z=D.editing;D.document.schema.allow({name:'$inline',attributes:[R]}),(0,O.default)().for(q.modelToView,z.modelToView).fromAttribute(R).toElement('em'),(0,T.default)().for(q.viewToModel).fromElement('em').fromElement('i').fromAttribute('style',{'font-style':'italic'}).toAttribute(R,!0),D.commands.set(R,new I.default(D,R))}}]),V}(M.default);o.default=F},function(r,o,u){'use strict';/**
   * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
   * For licensing, see LICENSE.md.
   */Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(P,w,M){if(w.isCollapsed)return M.check({name:'$text',inside:w.getFirstPosition(),attributes:P});var C=w.getRanges(),O=!0,S=!1,T;try{for(var E=C[Symbol.iterator](),I;!(O=(I=E.next()).done);O=!0)for(var R=I.value,F=new h.default({boundaries:R,mergeCharacters:!0}),N=F.position,V=F.next(),L;!V.done;){if(L=V.value.item.name||'$text',M.check({name:L,inside:N,attributes:P}))return!0;N=F.position,V=F.next()}}catch(D){S=!0,T=D}finally{try{!O&&E.return&&E.return()}finally{if(S)throw T}}return!1};var f=u(34),h=function(P){return P&&P.__esModule?P:{default:P}}(f)},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}function d(I,R){if(!(I instanceof R))throw new TypeError('Cannot call a class as a function')}function f(I,R){if(!I)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return R&&('object'==typeof R||'function'==typeof R)?R:I}function h(I,R){if('function'!=typeof R&&null!==R)throw new TypeError('Super expression must either be null or a function, not '+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function I(R,F){for(var N=0,V;N<F.length;N++)V=F[N],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}return function(R,F,N){return F&&I(R.prototype,F),N&&I(R,N),R}}(),w=u(12),M=s(w),C=u(101),O=s(C),S=u(156),T=s(S),E=function(I){function R(F,N){d(this,R);var V=f(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,F));return V.attributeKey=N,V.set('value',!1),V.listenTo(V.editor.document.selection,'change:attribute',function(){V.value=V.editor.document.selection.hasAttribute(V.attributeKey)}),V}return h(R,I),P(R,[{key:'_checkEnabled',value:function(){var N=this.editor.document;return(0,T.default)(this.attributeKey,N.selection,N.schema)}},{key:'_doExecute',value:function(){var N=this,V=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},L=this.editor.document,D=L.selection,q=void 0===V.forceValue?!this.value:V.forceValue;L.enqueueChanges(function(){if(D.isCollapsed)q?D.setAttribute(N.attributeKey,!0):D.removeAttribute(N.attributeKey);else{var z=(0,O.default)(N.attributeKey,D.getRanges(),L.schema),$=V.batch||L.batch(),W=!0,K=!1,H;try{for(var U=z[Symbol.iterator](),G,J;!(W=(G=U.next()).done);W=!0)J=G.value,q?$.setAttribute(J,N.attributeKey,q):$.removeAttribute(J,N.attributeKey)}catch(Z){K=!0,H=Z}finally{try{!W&&U.return&&U.return()}finally{if(K)throw H}}}})}}]),R}(M.default);o.default=E},function(r,o,u){'use strict';function s(D){return D&&D.__esModule?D:{default:D}}function d(D,q){if(!(D instanceof q))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function D(q,z){for(var $=0,W;$<z.length;$++)W=z[$],W.enumerable=W.enumerable||!1,W.configurable=!0,'value'in W&&(W.writable=!0),Object.defineProperty(q,W.key,W)}return function(q,z,$){return z&&D(q.prototype,z),$&&D(q,$),q}}(),h=u(1),P=s(h),w=u(2),M=s(w),C=u(25),O=s(C),S=u(29),T=s(S),E=u(30),I=s(E),R=u(7),F=s(R),N=u(4),V=s(N),L=function(){function D(){var q=this;d(this,D),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this.on('modelToViewPosition',function(z,$){if(!$.viewPosition){var W=q._modelToViewMapping.get($.modelPosition.parent);$.viewPosition=q._findPositionIn(W,$.modelPosition.offset)}},{priority:'low'}),this.on('viewToModelPosition',function(z,$){if(!$.modelPosition){for(var W=$.viewPosition.parent,K=q._viewToModelMapping.get(W);!K;)W=W.parent,K=q._viewToModelMapping.get(W);var H=q._toModelOffset($.viewPosition.parent,$.viewPosition.offset,W);$.modelPosition=P.default.createFromParentAndOffset(K,H)}},{priority:'low'})}return f(D,[{key:'bindElements',value:function(z,$){this._modelToViewMapping.set(z,$),this._viewToModelMapping.set($,z)}},{key:'unbindViewElement',value:function(z){var $=this.toModelElement(z);this._unbindElements($,z)}},{key:'unbindModelElement',value:function(z){var $=this.toViewElement(z);this._unbindElements(z,$)}},{key:'clearBindings',value:function(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap}},{key:'toModelElement',value:function(z){return this._viewToModelMapping.get(z)}},{key:'toViewElement',value:function(z){return this._modelToViewMapping.get(z)}},{key:'toModelRange',value:function(z){return new M.default(this.toModelPosition(z.start),this.toModelPosition(z.end))}},{key:'toViewRange',value:function(z){return new T.default(this.toViewPosition(z.start),this.toViewPosition(z.end))}},{key:'toModelPosition',value:function(z){var $={viewPosition:z,mapper:this};return this.fire('viewToModelPosition',$),$.modelPosition}},{key:'toViewPosition',value:function(z){var $={modelPosition:z,mapper:this};return this.fire('modelToViewPosition',$),$.viewPosition}},{key:'registerViewToModelLength',value:function(z,$){this._viewToModelLengthCallbacks.set(z,$)}},{key:'_toModelOffset',value:function(z,$,W){if(W!=z){var K=this._toModelOffset(z.parent,z.index,W),H=this._toModelOffset(z,$,z);return K+H}if(z.is('text'))return $;for(var U=0,G=0;G<$;G++)U+=this.getModelLength(z.getChild(G));return U}},{key:'_unbindElements',value:function(z,$){this._viewToModelMapping.delete($),this._modelToViewMapping.delete(z)}},{key:'getModelLength',value:function(z){if(this._viewToModelLengthCallbacks.get(z.name)){var $=this._viewToModelLengthCallbacks.get(z.name);return $(z)}if(this._viewToModelMapping.has(z))return 1;if(z.is('text'))return z.data.length;if(z.is('uiElement'))return 0;var W=0,K=!0,H=!1,U;try{for(var G=z.getChildren()[Symbol.iterator](),J,Z;!(K=(J=G.next()).done);K=!0)Z=J.value,W+=this.getModelLength(Z)}catch(Y){H=!0,U=Y}finally{try{!K&&G.return&&G.return()}finally{if(H)throw U}}return W}},{key:'_findPositionIn',value:function(z,$){var K=0,H=0,U=0,W;if(z.is('text'))return new O.default(z,$);for(;H<$;)W=z.getChild(U),K=this.getModelLength(W),H+=K,U++;return H==$?this._moveViewPositionToTextNode(new O.default(z,U)):this._findPositionIn(W,$-(H-K))}},{key:'_moveViewPositionToTextNode',value:function(z){var $=z.nodeBefore,W=z.nodeAfter;return $ instanceof I.default?new O.default($,$.data.length):W instanceof I.default?new O.default(W,0):z}}]),D}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=L,(0,V.default)(L,F.default)},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function w(F,N,V,L,D){if(F.isCollapsed&&L.consume(F,D)){var q=N.getFirstPosition();q=R.default.wrapPosition(q,V),N.removeAllRanges(),N.addRange(new E.default(q,q))}}Object.defineProperty(o,'__esModule',{value:!0}),o.convertRangeSelection=function(){return function(F,N,V,L){var D=N.selection;if(!D.isCollapsed&&V.consume(D,'selection')){L.viewSelection.removeAllRanges();var q=!0,z=!1,$;try{for(var W=D.getRanges()[Symbol.iterator](),K;!(q=(K=W.next()).done);q=!0){var H=K.value,U=L.mapper.toViewRange(H);L.viewSelection.addRange(U,D.isBackward)}}catch(G){z=!0,$=G}finally{try{!q&&W.return&&W.return()}finally{if(z)throw $}}}}},o.convertCollapsedSelection=function(){return function(F,N,V,L){var D=N.selection;if(D.isCollapsed&&V.consume(D,'selection')){var q=D.getFirstPosition(),z=L.mapper.toViewPosition(q),$=R.default.breakAttributes(z);L.viewSelection.removeAllRanges(),L.viewSelection.addRange(new E.default($,$))}}},o.convertSelectionAttribute=function(F){return function(N,V,L,D){var q=F instanceof S.default?F.clone(!0):F(V.value,V,V.selection,L,D);if(q){var z='selectionAttribute:'+V.key;w(V.selection,D.viewSelection,q,L,z)}}},o.convertSelectionMarker=function(F){return function(N,V,L,D){var q=F instanceof S.default?F.clone(!0):F(V,L,D);if(q){var z='selectionMarker:'+V.name;w(V.selection,D.viewSelection,q,L,z)}}},o.clearAttributes=function(){return function(F,N,V,L){var D=!0,q=!1,z;try{for(var $=L.viewSelection.getRanges()[Symbol.iterator](),W,K;!(D=(W=$.next()).done);D=!0)K=W.value,K.isCollapsed&&K.end.parent.document&&R.default.mergeAttributes(K.start)}catch(H){q=!0,z=H}finally{try{!D&&$.return&&$.return()}finally{if(q)throw z}}L.viewSelection.removeAllRanges()}},o.clearFakeSelection=function(){return function(F,N,V,L){return L.viewSelection.setFake(!1)}};var O=u(21),S=s(O),T=u(29),E=s(T),I=u(77),R=s(I)},function(r,o,u){'use strict';function s(D){return D&&D.__esModule?D:{default:D}}function d(D,q){if(!(D instanceof q))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function D(q,z){for(var $=0,W;$<z.length;$++)W=z[$],W.enumerable=W.enumerable||!1,W.configurable=!0,'value'in W&&(W.writable=!0),Object.defineProperty(q,W.key,W)}return function(q,z,$){return z&&D(q.prototype,z),$&&D(q,$),q}}(),h=u(304),P=s(h),w=u(2),M=s(w),C=u(1),O=s(C),S=u(48),T=s(S),E=u(7),I=s(E),R=u(4),F=s(R),N=u(56),V=s(N),L=function(){function D(q){var z=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};d(this,D),this._modelDocument=q,this.conversionApi=(0,V.default)({dispatcher:this},z)}return f(D,[{key:'convertChange',value:function(z,$){'remove'!==z&&$.range&&'$graveyard'==$.range.root.rootName||'remove'==z&&'$graveyard'==$.sourcePosition.root.rootName||'rename'==z&&'$graveyard'==$.element.root.rootName||('insert'==z||'reinsert'==z?this.convertInsertion($.range):'move'==z?this.convertMove($.sourcePosition,$.range):'remove'==z?this.convertRemove($.sourcePosition,$.range):'addAttribute'==z||'removeAttribute'==z||'changeAttribute'==z?this.convertAttribute(z,$.range,$.key,$.oldValue,$.newValue):'rename'==z&&this.convertRename($.element,$.oldName))}},{key:'convertInsertion',value:function(z){var $=this._createInsertConsumable(z),W=!0,K=!1,H;try{for(var U=z[Symbol.iterator](),G;!(W=(G=U.next()).done);W=!0){var J=G.value,Z=J.item,Y=M.default.createFromPositionAndShift(J.previousPosition,J.length),Q={item:Z,range:Y};this._testAndFire('insert',Q,$);var X=!0,ee=!1,te=void 0;try{for(var re=Z.getAttributeKeys()[Symbol.iterator](),ae,oe;!(X=(ae=re.next()).done);X=!0)oe=ae.value,Q.attributeKey=oe,Q.attributeOldValue=null,Q.attributeNewValue=Z.getAttribute(oe),this._testAndFire('addAttribute:'+oe,Q,$)}catch(ge){ee=!0,te=ge}finally{try{!X&&re.return&&re.return()}finally{if(ee)throw te}}}}catch(ge){K=!0,H=ge}finally{try{!W&&U.return&&U.return()}finally{if(K)throw H}}var le=!0,ue=!1,ie;try{for(var de=this._modelDocument.markers[Symbol.iterator](),fe;!(le=(fe=de.next()).done);le=!0){var ce=fe.value,pe=ce.getRange();pe.containsPosition(z.start)&&this.convertMarker('addMarker',ce.name,pe.getIntersection(z)),(z.containsRange(pe)||z.isEqual(pe))&&this.convertMarker('addMarker',ce.name,pe)}}catch(ge){ue=!0,ie=ge}finally{try{!le&&de.return&&de.return()}finally{if(ue)throw ie}}}},{key:'convertMove',value:function(z,$){if($.start.isBefore(z)){this.convertInsertion($);var W=z._getTransformedByInsertion($.start,$.end.offset-$.start.offset);this.convertRemove(W,$)}else this.convertRemove(z,$),this.convertInsertion($)}},{key:'convertRemove',value:function(z,$){var W=this._createConsumableForRange($,'remove'),K=!0,H=!1,U;try{for(var G=$.getItems({shallow:!0})[Symbol.iterator](),J;!(K=(J=G.next()).done);K=!0){var Z=J.value;this._testAndFire('remove',{sourcePosition:z,item:Z},W)}}catch(Q){H=!0,U=Q}finally{try{!K&&G.return&&G.return()}finally{if(H)throw U}}}},{key:'convertAttribute',value:function(z,$,W,K,H){var U=this._createConsumableForRange($,z+':'+W),G=!0,J=!1,Z;try{for(var Y=$[Symbol.iterator](),Q;!(G=(Q=Y.next()).done);G=!0){var X=Q.value,ee=X.item,te=M.default.createFromPositionAndShift(X.previousPosition,X.length);this._testAndFire(z+':'+W,{item:ee,range:te,attributeKey:W,attributeOldValue:K,attributeNewValue:H},U)}}catch(ae){J=!0,Z=ae}finally{try{!G&&Y.return&&Y.return()}finally{if(J)throw Z}}}},{key:'convertRename',value:function(z,$){var W=z.clone(!0);W.name=$,this.conversionApi.mapper.bindElements(W,this.conversionApi.mapper.toViewElement(z));var K=new T.default;K.appendChildren(W),this.convertRemove(O.default.createBefore(z),M.default.createOn(W)),this.convertInsertion(M.default.createOn(z))}},{key:'convertSelection',value:function(z){var $=Array.from(this._modelDocument.markers.getMarkersAtPosition(z.getFirstPosition())),W=this._createSelectionConsumable(z,$);this.fire('selection',{selection:z},W,this.conversionApi);var K=!0,H=!1,U;try{for(var G=$[Symbol.iterator](),J;!(K=(J=G.next()).done);K=!0){var Z=J.value,Y={selection:z,name:Z.name};W.test(z,'selectionMarker:'+Z.name)&&this.fire('selectionMarker:'+Z.name,Y,W,this.conversionApi)}}catch(oe){H=!0,U=oe}finally{try{!K&&G.return&&G.return()}finally{if(H)throw U}}var Q=!0,X=!1,ee;try{for(var te=z.getAttributeKeys()[Symbol.iterator](),re;!(Q=(re=te.next()).done);Q=!0){var ae=re.value,Y={selection:z,key:ae,value:z.getAttribute(ae)};W.test(z,'selectionAttribute:'+Y.key)&&this.fire('selectionAttribute:'+Y.key,Y,W,this.conversionApi)}}catch(oe){X=!0,ee=oe}finally{try{!Q&&te.return&&te.return()}finally{if(X)throw ee}}}},{key:'convertMarker',value:function(z,$,W){if(W.root.document&&'$graveyard'!=W.root.rootName){var K=this._createMarkerConsumable(z,W);this.fire(z+':'+$,{name:$,range:W},K,this.conversionApi)}}},{key:'_createInsertConsumable',value:function(z){var $=new P.default,W=!0,K=!1,H;try{for(var U=z[Symbol.iterator](),G;!(W=(G=U.next()).done);W=!0){var J=G.value,Z=J.item;$.add(Z,'insert');var Y=!0,Q=!1,X=void 0;try{for(var ee=Z.getAttributeKeys()[Symbol.iterator](),te,re;!(Y=(te=ee.next()).done);Y=!0)re=te.value,$.add(Z,'addAttribute:'+re)}catch(ae){Q=!0,X=ae}finally{try{!Y&&ee.return&&ee.return()}finally{if(Q)throw X}}}}catch(ae){K=!0,H=ae}finally{try{!W&&U.return&&U.return()}finally{if(K)throw H}}return $}},{key:'_createConsumableForRange',value:function(z,$){var W=new P.default,K=!0,H=!1,U;try{for(var G=z.getItems()[Symbol.iterator](),J,Z;!(K=(J=G.next()).done);K=!0)Z=J.value,W.add(Z,$)}catch(Y){H=!0,U=Y}finally{try{!K&&G.return&&G.return()}finally{if(H)throw U}}return W}},{key:'_createSelectionConsumable',value:function(z,$){var W=new P.default;W.add(z,'selection');var K=!0,H=!1,U;try{for(var G=$[Symbol.iterator](),J,Z;!(K=(J=G.next()).done);K=!0)Z=J.value,W.add(z,'selectionMarker:'+Z.name)}catch(ae){H=!0,U=ae}finally{try{!K&&G.return&&G.return()}finally{if(H)throw U}}var Y=!0,Q=!1,X;try{for(var ee=z.getAttributeKeys()[Symbol.iterator](),te,re;!(Y=(te=ee.next()).done);Y=!0)re=te.value,W.add(z,'selectionAttribute:'+re)}catch(ae){Q=!0,X=ae}finally{try{!Y&&ee.return&&ee.return()}finally{if(Q)throw X}}return W}},{key:'_createMarkerConsumable',value:function(z,$){var W=new P.default;return W.add($,z),W}},{key:'_testAndFire',value:function(z,$,W){if(W.test($.item,z)){var K=$.item.name||'$text';this.fire(z+':'+K,$,W,this.conversionApi)}}}]),D}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=L,(0,F.default)(L,I.default)},function(r,o,u){'use strict';function s(S){return S&&S.__esModule?S:{default:S}}function d(S,T){if(!(S instanceof T))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function S(T,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}return function(T,E,I){return E&&S(T.prototype,E),I&&S(T,I),T}}(),h=u(309),P=s(h),w=u(166),M=s(w),C=u(62),O=function(){function S(){d(this,S),this._domParser=new DOMParser,this._domConverter=new M.default({blockFiller:C.NBSP_FILLER}),this._htmlWriter=new P.default}return f(S,[{key:'toData',value:function(E){var I=this._domConverter.viewToDom(E,document);return this._htmlWriter.getHtml(I)}},{key:'toView',value:function(E){var I=this._toDom(E);return this._domConverter.domToView(I)}},{key:'_toDom',value:function(E){for(var I=this._domParser.parseFromString(E,'text/html'),R=I.createDocumentFragment(),F=I.body.childNodes;0<F.length;)R.appendChild(F[0]);return R}}]),S}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=O},function(r,o,u){'use strict';function s(K){return K&&K.__esModule?K:{default:K}}function d(K,H){if(!(K instanceof H))throw new TypeError('Cannot call a class as a function')}function f(K,H){if(!K)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return H&&('object'==typeof H||'function'==typeof H)?H:K}function h(K,H){if('function'!=typeof H&&null!==H)throw new TypeError('Super expression must either be null or a function, not '+typeof H);K.prototype=Object.create(H&&H.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(K,H):K.__proto__=H)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(K,H,U,G){G instanceof z.default?M(K,K.document,H,U,G):w(K,K.document,H,U,G)}function w(K,H,U,G,J){var Z=J.getAttribute(U),Y,Q,X=J.is('rootElement')?new W:new $;Z!=G&&(K.addDelta(X),J.is('rootElement')?Q=new V.default(J,U,Z,G,H.version):(Y=J.is('element')?new z.default(D.default.createBefore(J),D.default.createFromParentAndOffset(J,0)):new z.default(D.default.createBefore(J),D.default.createAfter(J)),Q=new F.default(Y,U,Z,G,H.version)),X.addOperation(Q),H.applyOperation(Q))}function M(K,H,U,G,J){function Z(){0===Y.operations.length&&K.addDelta(Y);var de=new z.default(Q,X),fe=new F.default(de,U,ee,G,H.version);Y.addOperation(fe),H.applyOperation(fe)}var Y=new $,Q=J.start,X,ee,te,re=!0,ae=!1,oe;try{for(var le=J[Symbol.iterator](),ue,ie;!(re=(ue=le.next()).done);re=!0)ie=ue.value,te=ie.item.getAttribute(U),X&&ee!=te&&(ee!=G&&Z(),Q=X),X=ie.nextPosition,ee=te}catch(de){ae=!0,oe=de}finally{try{!re&&le.return&&le.return()}finally{if(ae)throw oe}}X instanceof D.default&&X!=Q&&ee!=G&&Z()}Object.defineProperty(o,'__esModule',{value:!0}),o.RootAttributeDelta=void 0;var C=function(){function K(H,U){for(var G=0,J;G<U.length;G++)J=U[G],J.enumerable=J.enumerable||!1,J.configurable=!0,'value'in J&&(J.writable=!0),Object.defineProperty(H,J.key,J)}return function(H,U,G){return U&&K(H.prototype,U),G&&K(H,G),H}}(),O=u(20),S=s(O),T=u(17),E=s(T),I=u(16),R=u(72),F=s(R),N=u(115),V=s(N),L=u(1),D=s(L),q=u(2),z=s(q),$=function(K){function H(){return d(this,H),f(this,(H.__proto__||Object.getPrototypeOf(H)).apply(this,arguments))}return h(H,K),C(H,[{key:'type',get:function(){return'attribute'}},{key:'key',get:function(){return this.operations[0]?this.operations[0].key:null}},{key:'value',get:function(){return this.operations[0]?this.operations[0].newValue:null}},{key:'range',get:function(){if(this._range)return this._range;var G=null,J=null,Z=!0,Y=!1,Q;try{for(var X=this.operations[Symbol.iterator](),ee,te;!(Z=(ee=X.next()).done);Z=!0)te=ee.value,(null==G||G.isAfter(te.range.start))&&(G=te.range.start),(null==J||J.isBefore(te.range.end))&&(J=te.range.end)}catch(re){Y=!0,Q=re}finally{try{!Z&&X.return&&X.return()}finally{if(Y)throw Q}}return G&&J?(this._range=new z.default(G,J),this._range):null}},{key:'_reverseDeltaClass',get:function(){return H}}],[{key:'className',get:function(){return'engine.model.delta.AttributeDelta'}},{key:'_priority',get:function(){return 20}}]),H}(S.default);o.default=$;var W=o.RootAttributeDelta=function(K){function H(){return d(this,H),f(this,(H.__proto__||Object.getPrototypeOf(H)).apply(this,arguments))}return h(H,K),C(H,null,[{key:'className',get:function(){return'engine.model.delta.RootAttributeDelta'}}]),H}(S.default);(0,I.register)('setAttribute',function(K,H,U){return P(this,H,U,K),this}),(0,I.register)('removeAttribute',function(K,H){return P(this,H,null,K),this}),E.default.register($),E.default.register(W)},function(r,o,u){'use strict';function s(z){return z&&z.__esModule?z:{default:z}}function d(z,$){if(!(z instanceof $))throw new TypeError('Cannot call a class as a function')}function f(z,$){if(!z)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return $&&('object'==typeof $||'function'==typeof $)?$:z}function h(z,$){if('function'!=typeof $&&null!==$)throw new TypeError('Super expression must either be null or a function, not '+typeof $);z.prototype=Object.create($&&$.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(z,$):z.__proto__=$)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(z,$,W){$.addOperation(W),z.document.applyOperation(W)}Object.defineProperty(o,'__esModule',{value:!0});var w=function(){function z($,W){for(var K=0,H;K<W.length;K++)H=W[K],H.enumerable=H.enumerable||!1,H.configurable=!0,'value'in H&&(H.writable=!0),Object.defineProperty($,H.key,H)}return function($,W,K){return W&&z($.prototype,W),K&&z($,K),$}}(),M=u(20),C=s(M),O=u(17),S=s(O),T=u(16),E=u(114),I=s(E),R=u(5),F=s(R),N=u(1),V=s(N),L=u(0),D=s(L),q=function(z){function $(){return d(this,$),f(this,($.__proto__||Object.getPrototypeOf($)).apply(this,arguments))}return h($,z),w($,[{key:'type',get:function(){return'rename'}},{key:'_reverseDeltaClass',get:function(){return $}}],[{key:'className',get:function(){return'engine.model.delta.RenameDelta'}}]),$}(C.default);o.default=q,(0,T.register)('rename',function(z,$){if(!(z instanceof F.default))throw new D.default('batch-rename-not-element-instance: Trying to rename an object which is not an instance of Element.');var W=new q;return this.addDelta(W),P(this,W,new I.default(V.default.createBefore(z),z.name,$,this.document.version)),this}),S.default.register(q)},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}function d(F,N){if(!(F instanceof N))throw new TypeError('Cannot call a class as a function')}function f(F,N){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:F}function h(F,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function F(N,V){for(var L=0,D;L<V.length;L++)D=V[L],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}return function(N,V,L){return V&&F(N.prototype,V),L&&F(N,L),N}}(),w=u(103),M=s(w),C=u(16),O=u(17),S=s(O),T=u(37),E=s(T),I=u(18),R=function(F){function N(){return d(this,N),f(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return h(N,F),P(N,null,[{key:'className',get:function(){return'engine.model.delta.WeakInsertDelta'}}]),N}(M.default);o.default=R,(0,C.register)('weakInsert',function(F,N){var V=new R;this.addDelta(V),N=(0,I.normalizeNodes)(N);var L=!0,D=!1,q;try{for(var z=N[Symbol.iterator](),$,W;!(L=($=z.next()).done);L=!0)W=$.value,W.setAttributesTo(this.document.selection.getAttributes())}catch(H){D=!0,q=H}finally{try{!L&&z.return&&z.return()}finally{if(D)throw q}}var K=new E.default(F,N,this.document.version);return V.addOperation(K),this.document.applyOperation(K),this}),S.default.register(R)},function(r,o,u){'use strict';function s(D){return D&&D.__esModule?D:{default:D}}function d(D,q){if(!(D instanceof q))throw new TypeError('Cannot call a class as a function')}function f(D,q){if(!D)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return q&&('object'==typeof q||'function'==typeof q)?q:D}function h(D,q){if('function'!=typeof q&&null!==q)throw new TypeError('Super expression must either be null or a function, not '+typeof q);D.prototype=Object.create(q&&q.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(D,q):D.__proto__=q)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(){var D=this,q=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document,'change',function(z,$,W){q.has($)&&w.call(D,$,W.range,W.sourcePosition)},{priority:'high'})}function w(D,q,z){var $=q.end.offset-q.start.offset,W;switch(D){case'insert':var K='sticksToNext'==this.stickiness;W=this._getTransformedByInsertion(q.start,$,K);break;case'move':case'remove':case'reinsert':var H=T.default.createFromPositionAndShift(z,$),U=H.containsPosition(this)||H.start.isEqual(this)&&'sticksToNext'==this.stickiness||H.end.isEqual(this)&&'sticksToPrevious'==this.stickiness;if(U)W=this._getCombined(z,q.start);else{var G='sticksToNext'==this.stickiness;W=this._getTransformedByMove(z,q.start,$,G)}}if(!this.isEqual(W)){var J=O.default.createFromPosition(this);this.path=W.path,this.root=W.root,this.fire('change',J)}}Object.defineProperty(o,'__esModule',{value:!0});var M=function(){function D(q,z){for(var $=0,W;$<z.length;$++)W=z[$],W.enumerable=W.enumerable||!1,W.configurable=!0,'value'in W&&(W.writable=!0),Object.defineProperty(q,W.key,W)}return function(q,z,$){return z&&D(q.prototype,z),$&&D(q,$),q}}(),C=u(1),O=s(C),S=u(2),T=s(S),E=u(7),I=s(E),R=u(4),F=s(R),N=u(0),V=s(N),L=function(D){function q(z,$,W){d(this,q);var K=f(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,z,$));if(!K.root.is('rootElement'))throw new V.default('model-liveposition-root-not-rootelement: LivePosition root has to be an instance of RootElement.');return K.stickiness=W||'sticksToNext',P.call(K),K}return h(q,D),M(q,[{key:'detach',value:function(){this.stopListening()}}]),q}(O.default);o.default=L,(0,F.default)(L,I.default)},function(r,o,u){'use strict';function s(G){return G&&G.__esModule?G:{default:G}}function d(G,J){if(!(G instanceof J))throw new TypeError('Cannot call a class as a function')}function f(G,J,Z){var Y=(0,W.default)(G);return Z&&(Y=Y.slice(Y.indexOf(Z)+1)),Y.some(function(Q){return Q.tagName&&J.includes(Q.tagName.toLowerCase())})}Object.defineProperty(o,'__esModule',{value:!0});var h=function(){function G(J,Z){for(var Y=0,Q;Y<Z.length;Y++)Q=Z[Y],Q.enumerable=Q.enumerable||!1,Q.configurable=!0,'value'in Q&&(Q.writable=!0),Object.defineProperty(J,Q.key,Q)}return function(J,Z,Y){return Z&&G(J.prototype,Z),Y&&G(J,Y),J}}(),P=u(30),w=s(P),M=u(21),C=s(M),O=u(25),S=s(O),T=u(29),E=s(T),I=u(76),R=s(I),F=u(117),N=s(F),V=u(50),L=s(V),D=u(62),q=u(393),z=s(q),$=u(190),W=s($),K=u(390),H=s(K),U=function(){function G(){var J=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d(this,G),this.blockFiller=J.blockFiller||D.BR_FILLER,this.preElements=['pre'],this.blockElements=['p','div','h1','h2','h3','h4','h5','h6'],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}return h(G,[{key:'bindFakeSelection',value:function(Z,Y){this._fakeSelectionMapping.set(Z,R.default.createFromSelection(Y))}},{key:'fakeSelectionToView',value:function(Z){return this._fakeSelectionMapping.get(Z)}},{key:'bindElements',value:function(Z,Y){this._domToViewMapping.set(Z,Y),this._viewToDomMapping.set(Y,Z)}},{key:'unbindDomElement',value:function(Z){var Y=this._domToViewMapping.get(Z);this._domToViewMapping.delete(Z),this._viewToDomMapping.delete(Y)}},{key:'bindDocumentFragments',value:function(Z,Y){this._domToViewMapping.set(Z,Y),this._viewToDomMapping.set(Y,Z)}},{key:'viewToDom',value:function(Z,Y){var Q=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(Z.is('text')){var X=this._processDataFromViewText(Z);return Y.createTextNode(X)}if(this.getCorrespondingDom(Z))return this.getCorrespondingDom(Z);var ee;if(Z.is('documentFragment'))ee=Y.createDocumentFragment(),Q.bind&&this.bindDocumentFragments(ee,Z);else{ee=Y.createElement(Z.name),Q.bind&&this.bindElements(ee,Z);var te=!0,re=!1,ae;try{for(var oe=Z.getAttributeKeys()[Symbol.iterator](),le,ue;!(te=(le=oe.next()).done);te=!0)ue=le.value,ee.setAttribute(ue,Z.getAttribute(ue))}catch(me){re=!0,ae=me}finally{try{!te&&oe.return&&oe.return()}finally{if(re)throw ae}}}if(Q.withChildren||void 0===Q.withChildren){var ie=!0,de=!1,fe;try{for(var ce=this.viewChildrenToDom(Z,Y,Q)[Symbol.iterator](),pe,ge;!(ie=(pe=ce.next()).done);ie=!0)ge=pe.value,ee.appendChild(ge)}catch(me){de=!0,fe=me}finally{try{!ie&&ce.return&&ce.return()}finally{if(de)throw fe}}}return ee}},{key:'viewChildrenToDom',value:regeneratorRuntime.mark(function J(Z,Y){var Q=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},X,ee,te,re,ae,oe,le,ue;return regeneratorRuntime.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:X=Z.getFillerOffset&&Z.getFillerOffset(),ee=0,te=!0,re=!1,ae=void 0,de.prev=5,oe=Z.getChildren()[Symbol.iterator]();case 7:if(te=(le=oe.next()).done){de.next=18;break}if(ue=le.value,X!==ee){de.next=12;break}return de.next=12,this.blockFiller(Y);case 12:return de.next=14,this.viewToDom(ue,Y,Q);case 14:ee++;case 15:te=!0,de.next=7;break;case 18:de.next=24;break;case 20:de.prev=20,de.t0=de['catch'](5),re=!0,ae=de.t0;case 24:de.prev=24,de.prev=25,!te&&oe.return&&oe.return();case 27:if(de.prev=27,!re){de.next=30;break}throw ae;case 30:return de.finish(27);case 31:return de.finish(24);case 32:if(X!==ee){de.next=35;break}return de.next=35,this.blockFiller(Y);case 35:case'end':return de.stop();}},J,this,[[5,20,24,32],[25,,27,31]])})},{key:'viewRangeToDom',value:function(Z){var Y=this.viewPositionToDom(Z.start),Q=this.viewPositionToDom(Z.end),X=new Range;return X.setStart(Y.parent,Y.offset),X.setEnd(Q.parent,Q.offset),X}},{key:'viewPositionToDom',value:function(Z){var Y=Z.parent;if(Y.is('text')){var Q=this.getCorrespondingDomText(Y);if(!Q)return null;var X=Z.offset;return(0,D.startsWithFiller)(Q)&&(X+=D.INLINE_FILLER_LENGTH),{parent:Q,offset:X}}var ee,te,re;if(0===Z.offset){if(ee=this.getCorrespondingDom(Z.parent),!ee)return null;re=ee.childNodes[0]}else{if(te=this.getCorrespondingDom(Z.nodeBefore),!te)return null;ee=te.parentNode,re=te.nextSibling}if(this.isText(re)&&(0,D.startsWithFiller)(re))return{parent:re,offset:D.INLINE_FILLER_LENGTH};var ae=te?(0,z.default)(te)+1:0;return{parent:ee,offset:ae}}},{key:'domToView',value:function(Z){var Y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if((0,D.isBlockFiller)(Z,this.blockFiller))return null;if(this.isText(Z)){if((0,D.isInlineFiller)(Z))return null;var Q=this._processDataFromDomText(Z);return''===Q?null:new w.default(Q)}if(this.getCorrespondingView(Z))return this.getCorrespondingView(Z);var X;if(this.isDocumentFragment(Z))X=new N.default,Y.bind&&this.bindDocumentFragments(Z,X);else{var ee=Y.keepOriginalCase?Z.tagName:Z.tagName.toLowerCase();X=new C.default(ee),Y.bind&&this.bindElements(Z,X);for(var te=Z.attributes,re=te.length-1;0<=re;re--)X.setAttribute(te[re].name,te[re].value)}if(Y.withChildren||void 0===Y.withChildren){var ae=!0,oe=!1,le;try{for(var ue=this.domChildrenToView(Z,Y)[Symbol.iterator](),ie,de;!(ae=(ie=ue.next()).done);ae=!0)de=ie.value,X.appendChildren(de)}catch(fe){oe=!0,le=fe}finally{try{!ae&&ue.return&&ue.return()}finally{if(oe)throw le}}}return X}},{key:'domChildrenToView',value:regeneratorRuntime.mark(function J(Z){var Y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Q,X,ee;return regeneratorRuntime.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:Q=0;case 1:if(!(Q<Z.childNodes.length)){re.next=10;break}if(X=Z.childNodes[Q],ee=this.domToView(X,Y),null===ee){re.next=7;break}return re.next=7,ee;case 7:Q++,re.next=1;break;case 10:case'end':return re.stop();}},J,this)})},{key:'domSelectionToView',value:function(Z){if(1===Z.rangeCount){var Y=Z.getRangeAt(0).startContainer;this.isText(Y)&&(Y=Y.parentNode);var Q=this.fakeSelectionToView(Y);if(Q)return Q}for(var X=new R.default,ee=this.isDomSelectionBackward(Z),te=0;te<Z.rangeCount;te++){var re=Z.getRangeAt(te),ae=this.domRangeToView(re);ae&&X.addRange(ae,ee)}return X}},{key:'domRangeToView',value:function(Z){var Y=this.domPositionToView(Z.startContainer,Z.startOffset),Q=this.domPositionToView(Z.endContainer,Z.endOffset);return Y&&Q?new E.default(Y,Q):null}},{key:'domPositionToView',value:function(Z,Y){if((0,D.isBlockFiller)(Z,this.blockFiller))return this.domPositionToView(Z.parentNode,(0,z.default)(Z));if(this.isText(Z)){if((0,D.isInlineFiller)(Z))return this.domPositionToView(Z.parentNode,(0,z.default)(Z));var Q=this.getCorrespondingViewText(Z),X=Y;return Q?((0,D.startsWithFiller)(Z)&&(X-=D.INLINE_FILLER_LENGTH,X=0>X?0:X),new S.default(Q,X)):null}if(0===Y){var ee=this.getCorrespondingView(Z);if(ee)return new S.default(ee,0)}else{var te=this.getCorrespondingView(Z.childNodes[Y-1]);if(te&&te.parent)return new S.default(te.parent,te.index+1)}return null}},{key:'getCorrespondingView',value:function(Z){return this.isElement(Z)?this.getCorrespondingViewElement(Z):this.isDocumentFragment(Z)?this.getCorrespondingViewDocumentFragment(Z):this.isText(Z)?this.getCorrespondingViewText(Z):null}},{key:'getCorrespondingViewElement',value:function(Z){return this._domToViewMapping.get(Z)}},{key:'getCorrespondingViewDocumentFragment',value:function(Z){return this._domToViewMapping.get(Z)}},{key:'getCorrespondingViewText',value:function(Z){if((0,D.isInlineFiller)(Z))return null;var Y=Z.previousSibling;if(Y){if(!this.isElement(Y))return null;var Q=this.getCorrespondingViewElement(Y);if(Q){var X=Q.nextSibling;return X instanceof w.default?Q.nextSibling:null}}else{var ee=this.getCorrespondingViewElement(Z.parentNode);if(ee){var te=ee.getChild(0);return te instanceof w.default?te:null}}return null}},{key:'getCorrespondingDom',value:function(Z){return Z instanceof C.default?this.getCorrespondingDomElement(Z):Z instanceof N.default?this.getCorrespondingDomDocumentFragment(Z):Z instanceof w.default?this.getCorrespondingDomText(Z):null}},{key:'getCorrespondingDomElement',value:function(Z){return this._viewToDomMapping.get(Z)}},{key:'getCorrespondingDomDocumentFragment',value:function(Z){return this._viewToDomMapping.get(Z)}},{key:'getCorrespondingDomText',value:function(Z){var Y=Z.previousSibling;return Y&&this.getCorrespondingDom(Y)?this.getCorrespondingDom(Y).nextSibling:!Y&&Z.parent&&this.getCorrespondingDom(Z.parent)?this.getCorrespondingDom(Z.parent).childNodes[0]:null}},{key:'focus',value:function(Z){var Y=this.getCorrespondingDomElement(Z);Y&&Y.ownerDocument.activeElement!==Y&&Y.focus()}},{key:'isText',value:function(Z){return Z&&Z.nodeType==Node.TEXT_NODE}},{key:'isElement',value:function(Z){return Z&&Z.nodeType==Node.ELEMENT_NODE}},{key:'isDocumentFragment',value:function(Z){return Z&&Z.nodeType==Node.DOCUMENT_FRAGMENT_NODE}},{key:'isDomSelectionBackward',value:function(Z){if(Z.isCollapsed)return!1;var Y=new Range;Y.setStart(Z.anchorNode,Z.anchorOffset),Y.setEnd(Z.focusNode,Z.focusOffset);var Q=Y.collapsed;return Y.detach(),Q}},{key:'_processDataFromViewText',value:function(Z){var Y=this,Q=Z.data;if(Z.getAncestors().some(function(oe){return Y.preElements.includes(oe.name)}))return Q;var X=this._getTouchingViewTextNode(Z,!1),ee=this._getTouchingViewTextNode(Z,!0),te=Q.match(/ *$/)[0],re=Q.substr(0,Q.length-te.length);if(X&&' '!=X.data.charAt(X.data.length-1)||(re=re.replace(/^ /,'\xA0')),re=re.replace(/  /g,' \xA0'),0<te.length){var ae=!1;ee?(' '==ee.data.charAt(0)||'\xA0'==ee.data.charAt(0))&&0==te.length%2&&(ae=!0):te.length%2&&(ae=!0),ae&&(te='\xA0'+te.substr(0,te.length-1)),te=te.replace(/  /g,' \xA0')}return re+te}},{key:'_getTouchingViewTextNode',value:function(Z,Y){if(!Z.parent)return null;var Q=new L.default({startPosition:Y?S.default.createAfter(Z):S.default.createBefore(Z),direction:Y?'forward':'backward'}),X=!0,ee=!1,te;try{for(var re=Q[Symbol.iterator](),ae,oe;!(X=(ae=re.next()).done);X=!0){if(oe=ae.value,oe.item.is('containerElement'))return null;if(oe.item.is('text'))return oe.item}}catch(le){ee=!0,te=le}finally{try{!X&&re.return&&re.return()}finally{if(ee)throw te}}return null}},{key:'_processDataFromDomText',value:function(Z){var Y=(0,D.getDataWithoutFiller)(Z);if(f(Z,this.preElements))return Y;Y=Y.replace(/[^\S\u00A0]{2,}/g,' ');var Q=this._getTouchingDomTextNode(Z,!1),X=this._getTouchingDomTextNode(Z,!0);return(!Q||/[^\S\u00A0]/.test(Q.data.charAt(Q.data.length-1)))&&(Y=Y.replace(/^ /,'')),X||(Y=Y.replace(/ $/,'')),Y=Y.replace(/ \u00A0/g,'  '),(!Q||/[^\S\u00A0]/.test(Q.data.charAt(Q.data.length-1)))&&(Y=Y.replace(/^\u00A0/,' ')),X&&'\xA0'!=X.data.charAt(0)||(Y=Y.replace(/\u00A0( *)$/,' $1')),Y}},{key:'_getTouchingDomTextNode',value:function(Z,Y){if(!Z.parentNode)return null;var Q=Y?'nextNode':'previousNode',X=Z.ownerDocument,ee=X.createTreeWalker(X.childNodes[0],NodeFilter.SHOW_TEXT);ee.currentNode=Z;var te=ee[Q]();if(null!==te){var re=(0,H.default)(Z,te);if(re&&!f(Z,this.blockElements,re)&&!f(te,this.blockElements,re))return te}return null}}]),G}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=U},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}function d(F,N){if(!(F instanceof N))throw new TypeError('Cannot call a class as a function')}function f(F,N){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:F}function h(F,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(){return null}Object.defineProperty(o,'__esModule',{value:!0});var w=function(){function F(N,V){for(var L=0,D;L<V.length;L++)D=V[L],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}return function(N,V,L){return V&&F(N.prototype,V),L&&F(N,L),N}}(),M=function F(N,V,L){null===N&&(N=Function.prototype);var D=Object.getOwnPropertyDescriptor(N,V);if(D===void 0){var q=Object.getPrototypeOf(N);return null===q?void 0:F(q,V,L)}if('value'in D)return D.value;var z=D.get;return void 0===z?void 0:z.call(L)},C=u(21),O=s(C),S=u(0),T=s(S),E=u(75),I=s(E),R=function(F){function N(V,L,D){d(this,N);var q=f(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,V,L,D));return q.getFillerOffset=P,q}return h(N,F),w(N,[{key:'is',value:function(L){var D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return D?'emptyElement'==L&&D==this.name||M(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),'is',this).call(this,L,D):'emptyElement'==L||M(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),'is',this).call(this,L)}},{key:'insertChildren',value:function(L,D){if(D&&(D instanceof I.default||0<Array.from(D).length))throw new T.default('view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.')}}]),N}(O.default);o.default=R},function(r,o){'use strict';function s(O,S){if(!(O instanceof S))throw new TypeError('Cannot call a class as a function')}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function d(O,S){if('function'==typeof S)return S(O);var T={};return S.name&&(T.name=f(S.name,O.name),!T.name)?null:S.attribute&&(T.attribute=h(S.attribute,O),!T.attribute)?null:S.class&&(T.class=P(S.class,O),!T.class)?!1:S.style&&(T.style=w(S.style,O),!T.style)?!1:T}function f(O,S){return O instanceof RegExp?O.test(S):O===S}function h(O,S){var T=[];for(var E in O){var I=O[E];if(S.hasAttribute(E)){var R=S.getAttribute(E);if(I instanceof RegExp){if(I.test(R))T.push(E);else return null;}else if(R===I)T.push(E);else return null}else return null}return T}function P(O,S){var T=[],E=!0,I=!1,R;try{for(var F=O[Symbol.iterator](),N,V;!(E=(N=F.next()).done);E=!0)if(V=N.value,V instanceof RegExp){var L=S.getClassNames(),D=!0,q=!1,z=void 0;try{for(var $=L[Symbol.iterator](),W,K;!(D=(W=$.next()).done);D=!0)K=W.value,V.test(K)&&T.push(K)}catch(H){q=!0,z=H}finally{try{!D&&$.return&&$.return()}finally{if(q)throw z}}if(0===T.length)return null}else if(S.hasClass(V))T.push(V);else return null}catch(H){I=!0,R=H}finally{try{!E&&F.return&&F.return()}finally{if(I)throw R}}return T}function w(O,S){var T=[];for(var E in O){var I=O[E];if(S.hasStyle(E)){var R=S.getStyle(E);if(I instanceof RegExp){if(I.test(R))T.push(E);else return null;}else if(R===I)T.push(E);else return null}else return null}return T}Object.defineProperty(o,'__esModule',{value:!0});var M=function(){function O(S,T){for(var E=0,I;E<T.length;E++)I=T[E],I.enumerable=I.enumerable||!1,I.configurable=!0,'value'in I&&(I.writable=!0),Object.defineProperty(S,I.key,I)}return function(S,T,E){return T&&O(S.prototype,T),E&&O(S,E),S}}(),C=function(){function O(){s(this,O),this._patterns=[],this.add.apply(this,arguments)}return M(O,[{key:'add',value:function(){for(var T=arguments.length,E=Array(T),I=0;I<T;I++)E[I]=arguments[I];var R=!0,F=!1,N;try{for(var V=E[Symbol.iterator](),L,D;!(R=(L=V.next()).done);R=!0)D=L.value,('string'==typeof D||D instanceof RegExp)&&(D={name:D}),D.class&&('string'==typeof D.class||D.class instanceof RegExp)&&(D.class=[D.class]),this._patterns.push(D)}catch(q){F=!0,N=q}finally{try{!R&&V.return&&V.return()}finally{if(F)throw N}}}},{key:'match',value:function(){for(var T=arguments.length,E=Array(T),I=0;I<T;I++)E[I]=arguments[I];var R=!0,F=!1,N;try{for(var V=E[Symbol.iterator](),L;!(R=(L=V.next()).done);R=!0){var D=L.value,q=!0,z=!1,$=void 0;try{for(var W=this._patterns[Symbol.iterator](),K;!(q=(K=W.next()).done);q=!0){var H=K.value,S=d(D,H);if(S)return{element:D,pattern:H,match:S}}}catch(U){z=!0,$=U}finally{try{!q&&W.return&&W.return()}finally{if(z)throw $}}}}catch(U){F=!0,N=U}finally{try{!R&&V.return&&V.return()}finally{if(F)throw N}}return null}},{key:'matchAll',value:function(){for(var T=[],E=arguments.length,I=Array(E),R=0;R<E;R++)I[R]=arguments[R];var F=!0,N=!1,V;try{for(var L=I[Symbol.iterator](),D;!(F=(D=L.next()).done);F=!0){var q=D.value,z=!0,$=!1,W=void 0;try{for(var K=this._patterns[Symbol.iterator](),H;!(z=(H=K.next()).done);z=!0){var U=H.value,G=d(q,U);G&&T.push({element:q,pattern:U,match:G})}}catch(J){$=!0,W=J}finally{try{!z&&K.return&&K.return()}finally{if($)throw W}}}}catch(J){N=!0,V=J}finally{try{!F&&L.return&&L.return()}finally{if(N)throw V}}return 0<T.length?T:null}},{key:'getElementName',value:function(){if(1!==this._patterns.length)return null;var T=this._patterns[0],E=T.name;return'function'!=typeof T&&E&&!(E instanceof RegExp)?E:null}}]),O}();o.default=C},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}function d(I,R){if(!(I instanceof R))throw new TypeError('Cannot call a class as a function')}function f(I,R){if(!I)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return R&&('object'==typeof R||'function'==typeof R)?R:I}function h(I,R){if('function'!=typeof R&&null!==R)throw new TypeError('Super expression must either be null or a function, not '+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function I(R,F){for(var N=0,V;N<F.length;N++)V=F[N],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}return function(R,F,N){return F&&I(R.prototype,F),N&&I(R,N),R}}(),w=function I(R,F,N){null===R&&(R=Function.prototype);var V=Object.getOwnPropertyDescriptor(R,F);if(V===void 0){var L=Object.getPrototypeOf(R);return null===L?void 0:I(L,F,N)}if('value'in V)return V.value;var D=V.get;return void 0===D?void 0:D.call(N)},M=u(49),C=s(M),O=u(76),S=s(O),T=u(62),E=function(I){function R(F){d(this,R);var N=f(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,F));return N._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},N.domConverter=F.domConverter,N.renderer=F.renderer,N._domElements=[],N._mutationObserver=new window.MutationObserver(N._onMutations.bind(N)),N}return h(R,I),P(R,[{key:'flush',value:function(){this._onMutations(this._mutationObserver.takeRecords())}},{key:'observe',value:function(N){this._domElements.push(N),this.isEnabled&&this._mutationObserver.observe(N,this._config)}},{key:'enable',value:function(){w(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),'enable',this).call(this);var N=!0,V=!1,L;try{for(var D=this._domElements[Symbol.iterator](),q,z;!(N=(q=D.next()).done);N=!0)z=q.value,this._mutationObserver.observe(z,this._config)}catch($){V=!0,L=$}finally{try{!N&&D.return&&D.return()}finally{if(V)throw L}}}},{key:'disable',value:function(){w(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),'disable',this).call(this),this._mutationObserver.disconnect()}},{key:'destroy',value:function(){w(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),'destroy',this).call(this),this._mutationObserver.disconnect()}},{key:'_onMutations',value:function(N){if(0!==N.length){var V=this.domConverter,L=new Map,D=new Set,q=!0,z=!1,$;try{for(var W=N[Symbol.iterator](),K,H;!(q=(K=W.next()).done);q=!0)if(H=K.value,'childList'===H.type){var U=V.getCorrespondingViewElement(H.target);U&&!this._isBogusBrMutation(H)&&D.add(U)}}catch(xe){z=!0,$=xe}finally{try{!q&&W.return&&W.return()}finally{if(z)throw $}}var G=!0,J=!1,Z;try{for(var Y=N[Symbol.iterator](),Q,X;!(G=(Q=Y.next()).done);G=!0)if(X=Q.value,'characterData'===X.type){var ee=V.getCorrespondingViewText(X.target);ee&&!D.has(ee.parent)?L.set(ee,{type:'text',oldText:ee.data,newText:(0,T.getDataWithoutFiller)(X.target),node:ee}):!ee&&(0,T.startsWithFiller)(X.target)&&D.add(V.getCorrespondingViewElement(X.target.parentNode))}}catch(xe){J=!0,Z=xe}finally{try{!G&&Y.return&&Y.return()}finally{if(J)throw Z}}var te=[],re=!0,ae=!1,oe;try{for(var le=L.values()[Symbol.iterator](),ue,ie;!(re=(ue=le.next()).done);re=!0)ie=ue.value,this.renderer.markToSync('text',ie.node),te.push(ie)}catch(xe){ae=!0,oe=xe}finally{try{!re&&le.return&&le.return()}finally{if(ae)throw oe}}var de=!0,fe=!1,ce;try{for(var pe=D[Symbol.iterator](),ge;!(de=(ge=pe.next()).done);de=!0){var me=ge.value,ye=V.getCorrespondingDomElement(me),be=me.getChildren(),he=V.domChildrenToView(ye);this.renderer.markToSync('children',me),te.push({type:'children',oldChildren:Array.from(be),newChildren:Array.from(he),node:me})}}catch(xe){fe=!0,ce=xe}finally{try{!de&&pe.return&&pe.return()}finally{if(fe)throw ce}}var ve=N[0].target.ownerDocument.getSelection(),ke=null;if(ve&&ve.anchorNode){var Pe=V.domPositionToView(ve.anchorNode,ve.anchorOffset),we=V.domPositionToView(ve.focusNode,ve.focusOffset);Pe&&we&&(ke=new S.default,ke.collapse(Pe),ke.setFocus(we))}this.document.fire('mutations',te,ke),this.document.render()}}},{key:'_isBogusBrMutation',value:function(N){var V=null;return null===N.nextSibling&&0===N.removedNodes.length&&1==N.addedNodes.length&&(V=this.domConverter.domToView(N.addedNodes[0],{withChildren:!1})),V&&V.is('element','br')}}]),R}(C.default);o.default=E},function(r,o,u){'use strict';function d(T,E){if(!(T instanceof E))throw new TypeError('Cannot call a class as a function')}function f(T,E){if(!T)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:T}function h(T,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function T(E,I){for(var R=0,F;R<I.length;R++)F=I[R],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(E,F.key,F)}return function(E,I,R){return I&&T(E.prototype,I),R&&T(E,R),E}}(),w=function T(E,I,R){null===E&&(E=Function.prototype);var F=Object.getOwnPropertyDescriptor(E,I);if(F===void 0){var N=Object.getPrototypeOf(E);return null===N?void 0:T(N,I,R)}if('value'in F)return F.value;var V=F.get;return void 0===V?void 0:V.call(R)},M=u(74),C=function(T){return T&&T.__esModule?T:{default:T}}(M),O=Symbol('rootName'),S=function(T){function E(I){d(this,E);var R=f(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I));return R.rootName='main',R}return h(E,T),P(E,[{key:'is',value:function(R){var F=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return F?'rootElement'==R&&F==this.name||w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),'is',this).call(this,R,F):'rootElement'==R||w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),'is',this).call(this,R)}},{key:'rootName',get:function(){return this.getCustomProperty(O)},set:function(R){this.setCustomProperty(O,R)}}]),E}(C.default);o.default=S},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}function d(F,N){if(!(F instanceof N))throw new TypeError('Cannot call a class as a function')}function f(F,N){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:F}function h(F,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(){return null}Object.defineProperty(o,'__esModule',{value:!0});var w=function(){function F(N,V){for(var L=0,D;L<V.length;L++)D=V[L],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}return function(N,V,L){return V&&F(N.prototype,V),L&&F(N,L),N}}(),M=function F(N,V,L){null===N&&(N=Function.prototype);var D=Object.getOwnPropertyDescriptor(N,V);if(D===void 0){var q=Object.getPrototypeOf(N);return null===q?void 0:F(q,V,L)}if('value'in D)return D.value;var z=D.get;return void 0===z?void 0:z.call(L)},C=u(21),O=s(C),S=u(0),T=s(S),E=u(75),I=s(E),R=function(F){function N(V,L,D){d(this,N);var q=f(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,V,L,D));return q.getFillerOffset=P,q}return h(N,F),w(N,[{key:'is',value:function(L){var D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return D?'uiElement'==L&&D==this.name||M(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),'is',this).call(this,L,D):'uiElement'==L||M(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),'is',this).call(this,L)}},{key:'insertChildren',value:function(L,D){if(D&&(D instanceof I.default||0<Array.from(D).length))throw new T.default('view-uielement-cannot-add: Cannot add child nodes to UIElement instance.')}}]),N}(O.default);o.default=R},function(r,o,u){'use strict';function s(L){return L&&L.__esModule?L:{default:L}}function d(L,D){if(!(L instanceof D))throw new TypeError('Cannot call a class as a function')}function f(L,D){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return D&&('object'==typeof D||'function'==typeof D)?D:L}function h(L,D){if('function'!=typeof D&&null!==D)throw new TypeError('Super expression must either be null or a function, not '+typeof D);L.prototype=Object.create(D&&D.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(L,D):L.__proto__=D)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function L(D,q){for(var z=0,$;z<q.length;z++)$=q[z],$.enumerable=$.enumerable||!1,$.configurable=!0,'value'in $&&($.writable=!0),Object.defineProperty(D,$.key,$)}return function(D,q,z){return q&&L(D.prototype,q),z&&L(D,z),D}}(),w=u(3),M=s(w),C=u(46),O=s(C),S=u(47),T=s(S),E=u(78),I=s(E),R=u(334),F=s(R),N='paragraph',V=function(L){function D(q){d(this,D);var z=f(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,q));return q.config.define('heading',{options:[{modelElement:'paragraph',title:'Paragraph',class:'ck-heading_paragraph'},{modelElement:'heading1',viewElement:'h2',title:'Heading 1',class:'ck-heading_heading1'},{modelElement:'heading2',viewElement:'h3',title:'Heading 2',class:'ck-heading_heading2'},{modelElement:'heading3',viewElement:'h4',title:'Heading 3',class:'ck-heading_heading3'}]}),z}return h(D,L),P(D,[{key:'init',value:function(){var z=this.editor,$=z.data,W=z.editing,K=z.config.get('heading.options'),H=!0,U=!1,G;try{for(var J=K[Symbol.iterator](),Z,Y;!(H=(Z=J.next()).done);H=!0)Y=Z.value,Y.modelElement!==N&&(z.document.schema.registerItem(Y.modelElement,'$block'),(0,O.default)().for($.modelToView,W.modelToView).fromElement(Y.modelElement).toElement(Y.viewElement),(0,T.default)().for($.viewToModel).fromElement(Y.viewElement).toElement(Y.modelElement),z.commands.set(Y.modelElement,new F.default(z,Y)))}catch(Q){U=!0,G=Q}finally{try{!H&&J.return&&J.return()}finally{if(U)throw G}}}},{key:'afterInit',value:function(){var z=this.editor,$=z.commands.get('enter'),W=z.config.get('heading.options');$&&this.listenTo($,'afterExecute',function(K,H){var U=z.document.selection.getFirstPosition().parent,G=H.batch,J=W.some(function(Z){return U.is(Z.modelElement)});J&&!U.is(N)&&0===U.childCount&&G.rename(U,N)})}}],[{key:'requires',get:function(){return[I.default]}}]),D}(M.default);o.default=V},function(r,o,u){'use strict';function s(q){return q&&q.__esModule?q:{default:q}}function d(q,z){if(!(q instanceof z))throw new TypeError('Cannot call a class as a function')}function f(q,z){if(!q)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return z&&('object'==typeof z||'function'==typeof z)?z:q}function h(q,z){if('function'!=typeof z&&null!==z)throw new TypeError('Super expression must either be null or a function, not '+typeof z);q.prototype=Object.create(z&&z.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(q,z):q.__proto__=z)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(){return new N.default('figure',{class:'image'},new L.default('img'))}Object.defineProperty(o,'__esModule',{value:!0});var w=function(){function q(z,$){for(var W=0,K;W<$.length;W++)K=$[W],K.enumerable=K.enumerable||!1,K.configurable=!0,'value'in K&&(K.writable=!0),Object.defineProperty(z,K.key,K)}return function(z,$,W){return $&&q(z.prototype,$),W&&q(z,W),z}}();o.createImageViewElement=P;var M=u(3),C=s(M),O=u(46),S=s(O),T=u(176),E=s(T),I=u(336),R=u(40),F=u(39),N=s(F),V=u(167),L=s(V),D=function(q){function z(){return d(this,z),f(this,(z.__proto__||Object.getPrototypeOf(z)).apply(this,arguments))}return h(z,q),w(z,[{key:'init',value:function(){var W=this.editor,K=W.document,H=K.schema,U=W.data,G=W.editing,J=W.t;H.registerItem('image'),H.requireAttributes('image',['src']),H.allow({name:'image',attributes:['alt','src'],inside:'$root'}),H.objects.add('image'),(0,S.default)().for(U.modelToView).fromElement('image').toElement(function(){return P()}),(0,S.default)().for(G.modelToView).fromElement('image').toElement(function(){return(0,R.toImageWidget)(P(),J('image widget'))}),(0,I.createImageAttributeConverter)([G.modelToView,U.modelToView],'src'),(0,I.createImageAttributeConverter)([G.modelToView,U.modelToView],'alt'),U.viewToModel.on('element:figure',(0,I.viewToModelImage)())}}],[{key:'requires',get:function(){return[E.default]}}]),z}(C.default);o.default=D},function(r,o,u){'use strict';function s(V){return V&&V.__esModule?V:{default:V}}function d(V,L){if(!(V instanceof L))throw new TypeError('Cannot call a class as a function')}function f(V,L){if(!V)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:V}function h(V,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);V.prototype=Object.create(L&&L.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(V,L):V.__proto__=L)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function V(L,D){for(var q=0,z;q<D.length;q++)z=D[q],z.enumerable=z.enumerable||!1,z.configurable=!0,'value'in z&&(z.writable=!0),Object.defineProperty(L,z.key,z)}return function(L,D,q){return D&&V(L.prototype,D),q&&V(L,q),L}}(),w=function V(L,D,q){null===L&&(L=Function.prototype);var z=Object.getOwnPropertyDescriptor(L,D);if(z===void 0){var $=Object.getPrototypeOf(L);return null===$?void 0:V($,D,q)}if('value'in z)return z.value;var W=z.get;return void 0===W?void 0:W.call(q)},M=u(496),C=s(M),O=u(64),S=s(O),T=u(185),E=s(T),I=u(40),R=E.default.arrowVerticalOffset,F={south:function(L,D){return{top:L.bottom+R,left:L.left+L.width/2-D.width/2,name:'s'}},north:function(L,D){return{top:L.top-D.height-R,left:L.left+L.width/2-D.width/2,name:'n'}}},N=function(V){function L(D){d(this,L);var q=f(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,D.locale));q.editor=D;var z=D.editing.view;return q.listenTo(D.ui.focusTracker,'change:isFocused',function($,W,K,H){H&&!K&&q.detach()}),D.listenTo(z,'render',function(){var $=z.selection.getSelectedElement();$&&(0,I.isImageWidget)($)||q.detach()},{priority:'low'}),q._throttledAttach=(0,C.default)(function(){q._attach()},100),q}return h(L,V),P(L,[{key:'init',value:function(){return this.editor.ui.focusTracker.add(this.element),w(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),'init',this).call(this)}},{key:'attach',value:function(){this._attach(),this.editor.ui.view.listenTo(S.default.window,'scroll',this._throttledAttach),this.editor.ui.view.listenTo(S.default.window,'resize',this._throttledAttach)}},{key:'detach',value:function(){this.hide(),this.editor.ui.view.stopListening(S.default.window,'scroll',this._throttledAttach),this.editor.ui.view.stopListening(S.default.window,'resize',this._throttledAttach)}},{key:'_attach',value:function(){var q=this.editor.editing.view;this.attachTo({target:q.domConverter.viewRangeToDom(q.selection.getFirstRange()),positions:[F.north,F.south]})}}]),L}(E.default);o.default=N},function(r,o,u){'use strict';function s(N){return N&&N.__esModule?N:{default:N}}function d(N,V){if(!(N instanceof V))throw new TypeError('Cannot call a class as a function')}function f(N,V){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:N}function h(N,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);N.prototype=Object.create(V&&V.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(N,V):N.__proto__=V)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function N(V,L){for(var D=0,q;D<L.length;D++)q=L[D],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(V,q.key,q)}return function(V,L,D){return L&&N(V.prototype,L),D&&N(V,D),V}}(),w=u(6),M=s(w),C=u(3),O=s(C),S=u(186),T=s(S),E=u(40),I=u(174),R=s(I),F=function(N){function V(L){d(this,V);var D=f(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,L));return L.config.set('image.defaultToolbar',[]),D.isEnabled=!0,D}return h(V,N),P(V,[{key:'afterInit',value:function(){var D=this,q=this.editor,z=q.config.get('image.toolbar')||q.config.get('image.defaultToolbar');if(z.length){var $=this._panel=new R.default(q),W=[],K=new T.default;return M.default.extend($.template,{attributes:{class:['ck-toolbar__container']}}),W.push($.content.add(K)),W.push(K.fillFromConfig(z,q.ui.componentFactory)),W.push(q.ui.view.body.add($)),this.listenTo(this.editor.editing.view,'render',function(){D.isEnabled&&D.show()},{priority:'low'}),this.listenTo(q.ui.focusTracker,'change:isFocused',function(H,U,G,J){!J&&G&&D.isEnabled&&D.show()}),Promise.all(W)}}},{key:'show',value:function(){var D=this.editor.editing.view.selection.getSelectedElement();D&&(0,E.isImageWidget)(D)&&this._panel.attach()}},{key:'hide',value:function(){this._panel.detach()}}]),V}(O.default);o.default=F},function(r,o,u){'use strict';function d(S,T){if(!(S instanceof T))throw new TypeError('Cannot call a class as a function')}function f(S,T){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return T&&('object'==typeof T||'function'==typeof T)?T:S}function h(S,T){if('function'!=typeof T&&null!==T)throw new TypeError('Super expression must either be null or a function, not '+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function S(T,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}return function(T,E,I){return E&&S(T.prototype,E),I&&S(T,I),T}}(),w=u(3),M=function(S){return S&&S.__esModule?S:{default:S}}(w),C=u(119),O=function(S){function T(){return d(this,T),f(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return h(T,S),P(T,[{key:'init',value:function(){var I;this.editor.editing.modelToView.on('selection',function(R,F,N,V){I&&I.hasClass(C.WIDGET_SELECTED_CLASS_NAME)&&I.removeClass(C.WIDGET_SELECTED_CLASS_NAME);var L=V.viewSelection,D=L.getSelectedElement();D&&(0,C.isWidget)(D)&&(L.setFake(!0,{label:(0,C.getLabel)(D)}),D.addClass(C.WIDGET_SELECTED_CLASS_NAME),I=D)},{priority:'low'})}}]),T}(M.default);o.default=O},function(r,o,u){'use strict';function s(C){return C&&C.__esModule?C:{default:C}}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function f(C,O,S){for(var T=C.textNode||(S?C.nodeBefore:C.nodeAfter),E=null;T&&T.getAttribute('linkHref')==O;)E=T,T=S?T.previousSibling:T.nextSibling;return E?M.default.createAt(E,S?'before':'after'):C}Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(C,O){return new P.default(f(C,O,!0),f(C,O,!1))};var h=u(2),P=s(h),w=u(1),M=s(w)},function(r,o,u){'use strict';function d(C,O){if(!(C instanceof O))throw new TypeError('Cannot call a class as a function')}function f(C,O){if(!C)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return O&&('object'==typeof O||'function'==typeof O)?O:C}function h(C,O){if('function'!=typeof O&&null!==O)throw new TypeError('Super expression must either be null or a function, not '+typeof O);C.prototype=Object.create(O&&O.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(C,O):C.__proto__=O)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=u(116),w=function(C){return C&&C.__esModule?C:{default:C}}(P),M=function(C){function O(){return d(this,O),f(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return h(O,C),O}(w.default);o.default=M},function(r,o,u){'use strict';function s(V){return V&&V.__esModule?V:{default:V}}function d(V,L){if(!(V instanceof L))throw new TypeError('Cannot call a class as a function')}function f(V,L){if(!V)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:V}function h(V,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);V.prototype=Object.create(L&&L.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(V,L):V.__proto__=L)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(V){var L=1,D=!0,q=!1,z;try{for(var $=V.getChildren()[Symbol.iterator](),W,K;!(D=(W=$.next()).done);D=!0)if(K=W.value,'ul'==K.name||'ol'==K.name){var H=!0,U=!1,G=void 0;try{for(var J=K.getChildren()[Symbol.iterator](),Z,Y;!(H=(Z=J.next()).done);H=!0)Y=Z.value,L+=P(Y)}catch(Q){U=!0,G=Q}finally{try{!H&&J.return&&J.return()}finally{if(U)throw G}}}}catch(Q){q=!0,z=Q}finally{try{!D&&$.return&&$.return()}finally{if(q)throw z}}return L}Object.defineProperty(o,'__esModule',{value:!0});var w=function(){function V(L,D){for(var q=0,z;q<D.length;q++)z=D[q],z.enumerable=z.enumerable||!1,z.configurable=!0,'value'in z&&(z.writable=!0),Object.defineProperty(L,z.key,z)}return function(L,D,q){return D&&V(L.prototype,D),q&&V(L,q),L}}(),M=u(357),C=s(M),O=u(355),S=s(O),T=u(3),E=s(T),I=u(78),R=s(I),F=u(354),N=function(V){function L(){return d(this,L),f(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return h(L,V),w(L,[{key:'init',value:function(){var q=this.editor,z=q.document.schema;z.registerItem('listItem','$block'),z.allow({name:'listItem',inside:'$root',attributes:['type','indent']}),z.requireAttributes('listItem',['type','indent']);var $=q.data,W=q.editing;this.editor.document.on('change',(0,F.modelChangePostFixer)(this.editor.document),{priority:'high'}),this.editor.document.on('change',function(K,H,U){if('move'==H){var G=!0,J=!1,Z;try{for(var Y=U.range.getItems()[Symbol.iterator](),Q,X;!(G=(Q=Y.next()).done);G=!0)X=Q.value,X.is('listItem')&&W.mapper.unbindModelElement(X)}catch(ee){J=!0,Z=ee}finally{try{!G&&Y.return&&Y.return()}finally{if(J)throw Z}}}},{priority:'high'}),W.mapper.registerViewToModelLength('li',P),$.mapper.registerViewToModelLength('li',P),W.mapper.on('modelToViewPosition',F.modelToViewPosition),W.mapper.on('viewToModelPosition',F.viewToModelPosition),$.mapper.on('modelToViewPosition',F.modelToViewPosition),W.modelToView.on('insert',F.modelViewSplitOnInsert,{priority:'high'}),W.modelToView.on('insert:listItem',F.modelViewInsertion),$.modelToView.on('insert',F.modelViewSplitOnInsert,{priority:'high'}),$.modelToView.on('insert:listItem',F.modelViewInsertion),W.modelToView.on('changeAttribute:type:listItem',F.modelViewChangeType),$.modelToView.on('changeAttribute:type:listItem',F.modelViewChangeType),W.modelToView.on('remove:listItem',F.modelViewRemove),W.modelToView.on('remove',F.modelViewMergeAfter,{priority:'low'}),$.modelToView.on('remove:listItem',F.modelViewRemove),$.modelToView.on('remove',F.modelViewMergeAfter,{priority:'low'}),W.modelToView.on('changeAttribute:indent:listItem',F.modelViewChangeIndent),$.modelToView.on('changeAttribute:indent:listItem',F.modelViewChangeIndent),$.viewToModel.on('element:ul',F.cleanList,{priority:'high'}),$.viewToModel.on('element:ol',F.cleanList,{priority:'high'}),$.viewToModel.on('element:li',F.cleanListItem,{priority:'high'}),$.viewToModel.on('element:li',F.viewModelConverter),q.commands.set('numberedList',new C.default(q,'numbered')),q.commands.set('bulletedList',new C.default(q,'bulleted')),q.commands.set('indentList',new S.default(q,'forward')),q.commands.set('outdentList',new S.default(q,'backward'))}}],[{key:'requires',get:function(){return[R.default]}}]),L}(E.default);o.default=N},function(r,o,u){'use strict';function d(M,C){if(!(M instanceof C))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function M(C,O){for(var S=0,T;S<O.length;S++)T=O[S],T.enumerable=T.enumerable||!1,T.configurable=!0,'value'in T&&(T.writable=!0),Object.defineProperty(C,T.key,T)}return function(C,O,S){return O&&M(C.prototype,O),S&&M(C,S),C}}(),h=u(188),P=function(M){return M&&M.__esModule?M:{default:M}}(h),w=function(){function M(C){var O=this,S=1<arguments.length&&void 0!==arguments[1]?arguments[1]:20;d(this,M),this.document=C,this.size=0,this.limit=S,this.isLocked=!1,this._changeCallback=function(T,E,I,R){O._onBatch(R)},this._selectionChangeCallback=function(){O._reset()},C.on('change',this._changeCallback),C.selection.on('change:range',this._selectionChangeCallback),C.selection.on('change:attribute',this._selectionChangeCallback)}return f(M,[{key:'input',value:function(O){this.size+=O,this.size>=this.limit&&this._reset(!0)}},{key:'lock',value:function(){this.isLocked=!0}},{key:'unlock',value:function(){this.isLocked=!1}},{key:'destroy',value:function(){this.document.off('change',this._changeCallback),this.document.selection.off('change:range',this._selectionChangeCallback),this.document.selection.off('change:attribute',this._selectionChangeCallback)}},{key:'_onBatch',value:function(O){'transparent'!=O.type&&O!==this._batch&&1>=(0,P.default)(O.getOperations())&&this._reset(!0)}},{key:'_reset',value:function(O){(!this.isLocked||O)&&(this._batch=null,this.size=0)}},{key:'batch',get:function(){return this._batch||(this._batch=this.document.batch()),this._batch}}]),M}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=w},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(d){var f=d.emitter,h=d.activator,P=d.callback,w=d.contextElement;f.listenTo(document,'mouseup',function(M,C){var O=C.target;h()&&!w.contains(O)&&P()})}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(d){var f=d.view;f.listenTo(f.element,'submit',function(h,P){P.preventDefault(),f.fire('submit')},{useCapture:!0})}},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}function d(T,E){if(!(T instanceof E))throw new TypeError('Cannot call a class as a function')}function f(T,E){if(!T)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:T}function h(T,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function T(E,I){for(var R=0,F;R<I.length;R++)F=I[R],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(E,F.key,F)}return function(E,I,R){return I&&T(E.prototype,I),R&&T(E,R),E}}(),w=u(9),M=s(w),C=u(6),O=s(C),S=function(T){function E(I){d(this,E);var R=f(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I));R.set('value'),R.set('id');var F=R.bindTemplate;return R.template=new O.default({tag:'input',attributes:{type:'text',class:['ck-input','ck-input-text'],id:F.to('id')}}),R.on('change:value',function(N,V,L){return R.element.value=L||''}),R}return h(E,T),P(E,[{key:'select',value:function(){this.element.select()}},{key:'focus',value:function(){this.element.focus()}}]),E}(M.default);o.default=S},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}function d(F,N){if(!(F instanceof N))throw new TypeError('Cannot call a class as a function')}function f(F,N){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:F}function h(F,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function F(N,V){for(var L=0,D;L<V.length;L++)D=V[L],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}return function(N,V,L){return V&&F(N.prototype,V),L&&F(N,L),N}}(),w=u(9),M=s(w),C=u(6),O=s(C),S=u(70),T=s(S),E=u(377),I=s(E),R=function(F){function N(V,L){d(this,N);var D=f(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,V)),q='ck-input-'+(0,T.default)();return D.set('label'),D.set('value'),D.labelView=D._createLabelView(q),D.inputView=D._createInputView(L,q),D.template=new O.default({tag:'div',children:[D.labelView,D.inputView]}),D}return h(N,F),P(N,[{key:'_createLabelView',value:function(L){var D=new I.default(this.locale);return D.for=L,D.bind('text').to(this,'label'),D}},{key:'_createInputView',value:function(L,D){var q=new L(this.locale);return q.id=D,q.bind('value').to(this),q}},{key:'select',value:function(){this.inputView.select()}},{key:'focus',value:function(){this.inputView.focus()}}]),N}(M.default);o.default=R},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}function d(F,N){if(!(F instanceof N))throw new TypeError('Cannot call a class as a function')}function f(F,N){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:F}function h(F,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function F(N,V){for(var L=0,D;L<V.length;L++)D=V[L],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}return function(N,V,L){return V&&F(N.prototype,V),L&&F(N,L),N}}(),w=u(9),M=s(w),C=u(6),O=s(C),S=u(396),T=u(191),E=s(T),I=(0,E.default)('px'),R=function(F){function N(V){d(this,N);var L=f(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,V)),D=L.bindTemplate;return L.set('top',0),L.set('left',0),L.set('position','se'),L.set('isVisible',!1),L.content=L.createCollection(),L.template=new O.default({tag:'div',attributes:{class:['ck-balloon-panel',D.to('position',function(q){return'ck-balloon-panel_arrow_'+q}),D.if('isVisible','ck-balloon-panel_visible')],style:{top:D.to('top',I),left:D.to('left',I),maxWidth:D.to('maxWidth',I)},tabindex:-1},children:L.content}),L}return h(N,F),P(N,[{key:'show',value:function(){this.isVisible=!0}},{key:'hide',value:function(){this.isVisible=!1}},{key:'attachTo',value:function(L){this.show();var D=N.defaultPositions,q=Object.assign({},{element:this.element,positions:[D.se,D.sw,D.ne,D.nw],limiter:document.body,fitInViewport:!0},L),z=(0,S.getOptimalPosition)(q),$=z.top,W=z.left,K=z.name;Object.assign(this,{top:$,left:W,position:K})}}]),N}(M.default);o.default=R,R.arrowHorizontalOffset=30,R.arrowVerticalOffset=15,R.defaultPositions={se:function(N){return{top:N.bottom+R.arrowVerticalOffset,left:N.left+N.width/2-R.arrowHorizontalOffset,name:'se'}},sw:function(N,V){return{top:N.bottom+R.arrowVerticalOffset,left:N.left+N.width/2-V.width+R.arrowHorizontalOffset,name:'sw'}},ne:function(N,V){return{top:N.top-V.height-R.arrowVerticalOffset,left:N.left+N.width/2-R.arrowHorizontalOffset,name:'ne'}},nw:function(N,V){return{top:N.top-V.height-R.arrowVerticalOffset,left:N.left+N.width/2-V.width+R.arrowHorizontalOffset,name:'nw'}}}},function(r,o,u){'use strict';function s(q){return q&&q.__esModule?q:{default:q}}function d(q,z){if(!(q instanceof z))throw new TypeError('Cannot call a class as a function')}function f(q,z){if(!q)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return z&&('object'==typeof z||'function'==typeof z)?z:q}function h(q,z){if('function'!=typeof z&&null!==z)throw new TypeError('Super expression must either be null or a function, not '+typeof z);q.prototype=Object.create(z&&z.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(q,z):q.__proto__=z)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function q(z,$){for(var W=0,K;W<$.length;W++)K=$[W],K.enumerable=K.enumerable||!1,K.configurable=!0,'value'in K&&(K.writable=!0),Object.defineProperty(z,K.key,K)}return function(z,$,W){return $&&q(z.prototype,$),W&&q(z,W),z}}(),w=function q(z,$,W){null===z&&(z=Function.prototype);var K=Object.getOwnPropertyDescriptor(z,$);if(K===void 0){var H=Object.getPrototypeOf(z);return null===H?void 0:q(H,$,W)}if('value'in K)return K.value;var U=K.get;return void 0===U?void 0:U.call(W)},M=u(9),C=s(M),O=u(6),S=s(O),T=u(65),E=s(T),I=u(120),R=s(I),F=u(66),N=s(F),V=u(383),L=s(V),D=function(q){function z($){d(this,z);var W=f(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,$));return W.items=W.createCollection(),W.focusTracker=new E.default,W.keystrokes=new N.default,W._focusCycler=new R.default({focusables:W.items,focusTracker:W.focusTracker,keystrokeHandler:W.keystrokes,actions:{focusPrevious:['arrowleft','arrowup'],focusNext:['arrowright','arrowdown']}}),W.template=new S.default({tag:'div',attributes:{class:['ck-toolbar']},children:W.items}),W.items.on('add',function(K,H){W.focusTracker.add(H.element)}),W.items.on('remove',function(K,H){W.focusTracker.remove(H.element)}),W}return h(z,q),P(z,[{key:'init',value:function(){return this.keystrokes.listenTo(this.element),w(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),'init',this).call(this)}},{key:'focus',value:function(){this._focusCycler.focusFirst()}},{key:'fillFromConfig',value:function(W,K){var H=this;return W?Promise.all(W.map(function(U){var G='|'==U?new L.default:K.create(U);return H.items.add(G)})):Promise.resolve()}}]),z}(C.default);o.default=D},function(r,o,u){'use strict';function d(E){if(Array.isArray(E)){for(var I=0,R=Array(E.length);I<E.length;I++)R[I]=E[I];return R}return Array.from(E)}function f(E,I){if(!(E instanceof I))throw new TypeError('Cannot call a class as a function')}function h(E,I){if(!E)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return I&&('object'==typeof I||'function'==typeof I)?I:E}function P(E,I){if('function'!=typeof I&&null!==I)throw new TypeError('Super expression must either be null or a function, not '+typeof I);E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(E,I):E.__proto__=I)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function w(E,I){var R=M([E],I);R.sort(function(L,D){return L.start.isBefore(D.start)?-1:1});for(var F=1;F<R.length;F++){var N=R[F-1],V=R[F];N.end.isTouching(V.start)&&(N.end=V.end,R.splice(F,1),F--)}return R}function M(E,I){var R=!0,F=!1,N;try{for(var V=I[Symbol.iterator](),L;!(R=(L=V.next()).done);R=!0){var D=L.value,q=!0,z=!1,$=void 0;try{for(var W=D.operations[Symbol.iterator](),K,H;!(q=(K=W.next()).done);q=!0){H=K.value;for(var U=0,G;U<E.length;U++){switch(G=void 0,H.type){case'insert':G=E[U]._getTransformedByInsertion(H.position,H.nodes.maxOffset,!0);break;case'move':case'remove':case'reinsert':G=E[U]._getTransformedByMove(H.sourcePosition,H.targetPosition,H.howMany,!0);}G&&(E.splice.apply(E,[U,1].concat(d(G))),U=U+G.length-1)}}}catch(J){z=!0,$=J}finally{try{!q&&W.return&&W.return()}finally{if(z)throw $}}}}catch(J){F=!0,N=J}finally{try{!R&&V.return&&V.return()}finally{if(F)throw N}}return E}Object.defineProperty(o,'__esModule',{value:!0});var C=function(){function E(I,R){for(var F=0,N;F<R.length;F++)N=R[F],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}return function(I,R,F){return R&&E(I.prototype,R),F&&E(I,F),I}}();o.transformRangesByDeltas=M;var O=u(12),S=function(E){return E&&E.__esModule?E:{default:E}}(O),T=function(E){function I(R){f(this,I);var F=h(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,R));return F._stack=[],F._createdBatches=new WeakSet,F.refreshState(),F}return P(I,E),C(I,[{key:'addBatch',value:function(F){var N={ranges:Array.from(this.editor.document.selection.getRanges()),isBackward:this.editor.document.selection.isBackward};this._stack.push({batch:F,selection:N}),this.refreshState()}},{key:'clearStack',value:function(){this._stack=[],this.refreshState()}},{key:'_checkEnabled',value:function(){return 0<this._stack.length}},{key:'_restoreSelection',value:function(F,N,V){var L=this.editor.document,D=[],q=!0,z=!1,$;try{for(var W=F[Symbol.iterator](),K;!(q=(K=W.next()).done);q=!0){var H=K.value,U=w(H,V),G=U.find(function(J){return J.start.root!=L.graveyard});G&&D.push(G)}}catch(J){z=!0,$=J}finally{try{!q&&W.return&&W.return()}finally{if(z)throw $}}D.length&&L.selection.setRanges(D,N)}}]),I}(S.default);o.default=T},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(d){var f=0,h=!0,P=!1,w;try{for(var M=d[Symbol.iterator](),C,O;!(h=(C=M.next()).done);h=!0)O=C.value,f++}catch(S){P=!0,w=S}finally{try{!h&&M.return&&M.return()}finally{if(P)throw w}}return f}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(d,f,h){function P(N){var V=(I[N-1]===void 0?-1:I[N-1])+1,L=I[N+1]===void 0?-1:I[N+1],D=V>L?-1:1;E[N+D]&&(E[N]=E[N+D].slice(0)),E[N]||(E[N]=[]),E[N].push(V>L?w:M);for(var q=_Mathmax(V,L),z=q-N;z<O&&q<S&&h(d[z],f[q]);)z++,q++,E[N].push('equal');return q}h=h||function(N,V){return N===V};var w,M;if(f.length<d.length){var C=d;d=f,f=C,w='delete',M='insert'}else w='insert',M='delete';var O=d.length,S=f.length,T=S-O,E={},I={},R=0,F=void 0;do{for(F=-R;F<T;F++)I[F]=P(F);for(F=T+R;F>T;F--)I[F]=P(F);I[T]=P(T),R++}while(I[T]!==S);return E[T].slice(1)}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(d){for(var f=[];d&&d.nodeType!=Node.DOCUMENT_NODE;)f.unshift(d),d=d.parentNode;return f}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(d){return function(f){return f+d}}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(d){var f=d.next();return f.done?null:f.value}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(52),f=s(d),h=u(31),P=s(h),w=(0,f.default)(P.default,'Map');o.default=w},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(52),f=s(d),h=u(31),P=s(h),w=(0,f.default)(P.default,'Set');o.default=w},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var d=u(31),f=function(P){return P&&P.__esModule?P:{default:P}}(d),h=f.default.Uint8Array;o.default=h},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d,f,h){var P=h.length;return 0===P?d.call(f):1===P?d.call(f,h[0]):2===P?d.call(f,h[0],h[1]):3===P?d.call(f,h[0],h[1],h[2]):d.apply(f,h)}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d,f,h,P){var w=-1,M=d.length;for(P&&M&&(h=d[++w]);++w<M;)h=f(h,d[w],w,d);return h}},function(r,o,u){'use strict';function s(Fe){return Fe&&Fe.__esModule?Fe:{default:Fe}}function d(Fe,Ne,Ve,Le,Be,De,je){var qe;if(Le&&(qe=De?Le(Fe,Be,De,je):Le(Fe)),void 0!==qe)return qe;if(!(0,te.default)(Fe))return Fe;var ze=(0,J.default)(Fe);if(!ze){var $e=(0,q.default)(Fe),We=$e==fe||$e==ce;if((0,Y.default)(Fe))return(0,E.default)(Fe,Ne);if($e==me||$e==oe||We&&!De){if((0,X.default)(Fe))return De?Fe:{};if(qe=(0,U.default)(We?{}:Fe),!Ne)return(0,N.default)(Fe,(0,S.default)(qe,Fe))}else{if(!Re[$e])return De?Fe:{};qe=(0,K.default)(Fe,$e,d,Ne)}}else if(qe=(0,$.default)(Fe),!Ne)return(0,R.default)(Fe,qe);je||(je=new h.default);var Ke=je.get(Fe);if(Ke)return Ke;if(je.set(Fe,qe),!ze)var He=Ve?(0,L.default)(Fe):(0,ae.default)(Fe);return(0,w.default)(He||Fe,function(Ue,Ge){He&&(Ge=Ue,Ue=Fe[Ge]),(0,C.default)(qe,Ge,d(Ue,Ne,Ve,Le,Ge,Fe,je))}),qe}Object.defineProperty(o,'__esModule',{value:!0});var f=u(123),h=s(f),P=u(410),w=s(P),M=u(67),C=s(M),O=u(412),S=s(O),T=u(432),E=s(T),I=u(205),R=s(I),F=u(440),N=s(F),V=u(446),L=s(V),D=u(141),q=s(D),z=u(455),$=s(z),W=u(456),K=s(W),H=u(457),U=s(H),G=u(11),J=s(G),Z=u(487),Y=s(Z),Q=u(90),X=s(Q),ee=u(14),te=s(ee),re=u(69),ae=s(re),oe='[object Arguments]',fe='[object Function]',ce='[object GeneratorFunction]',me='[object Object]',Re={};Re[oe]=Re['[object Array]']=Re['[object ArrayBuffer]']=Re['[object DataView]']=Re['[object Boolean]']=Re['[object Date]']=Re['[object Float32Array]']=Re['[object Float64Array]']=Re['[object Int8Array]']=Re['[object Int16Array]']=Re['[object Int32Array]']=Re['[object Map]']=Re['[object Number]']=Re[me]=Re['[object RegExp]']=Re['[object Set]']=Re['[object String]']=Re['[object Symbol]']=Re['[object Uint8Array]']=Re['[object Uint8ClampedArray]']=Re['[object Uint16Array]']=Re['[object Uint32Array]']=!0,Re['[object Error]']=Re[fe]=Re['[object WeakMap]']=!1,o.default=d},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d,f,h){for(var P=d.length,w=h?P:-1;h?w--:++w<P;)if(f(d[w],w,d))return w;return-1}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&'function'==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?'symbol':typeof C},h=u(140),P=function(C){return C&&C.__esModule?C:{default:C}}(h),w=Object.prototype,M=w.hasOwnProperty;o.default=function(C,O){return M.call(C,O)||'object'==('undefined'==typeof C?'undefined':f(C))&&O in C&&null===(0,P.default)(C)}},function(r,o,u){'use strict';function s(V){return V&&V.__esModule?V:{default:V}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(88),h=s(f),P=u(36),w=s(P),M=u(53),C=s(M),O=u(19),S=s(O),T=u(471),E=s(T),I=u(54),R=s(I),F=Array.prototype,N=F.splice;o.default=function(V,L){for(var D=V?L.length:0,q=D-1,z;D--;)if(z=L[D],D==q||z!==$){var $=z;if((0,w.default)(z))N.call(V,z,1);else if(!(0,C.default)(z,V)){var W=(0,h.default)(z),K=(0,E.default)(V,W);null!=K&&delete K[(0,R.default)((0,S.default)(W))]}else delete V[(0,R.default)(z)]}return V}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(55),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w){for(var M=-1,C=P.length,O=0,S=[];++M<C;){var T=P[M],E=w?w(T):T;if(!M||!(0,h.default)(E,I)){var I=E;S[O++]=0===T?0:T}}return S}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d,f){for(var h=-1,P=Array(d);++h<d;)P[h]=f(h);return P}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d,f,h){for(var P=-1,w=d.length,M=f.length,C={},O;++P<w;)O=P<M?f[P]:void 0,h(C,d[P],O);return C}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d,f){var h=-1,P=d.length;for(f||(f=Array(P));++h<P;)f[h]=d[h];return f}},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(82),h=s(f),P=u(411),w=s(P);o.default=function(O,S,T,E,I,R){var F=I&2,N=O.length,V=S.length;if(N!=V&&!(F&&V>N))return!1;var L=R.get(O);if(L)return L==S;var D=-1,q=!0,z=I&1?new h.default:void 0;for(R.set(O,S);++D<N;){var $=O[D],W=S[D];if(E)var K=F?E(W,$,D,S,O,R):E($,W,D,O,S,R);if(void 0!==K){if(K)continue;q=!1;break}if(z){if(!(0,w.default)(S,function(H,U){if(!z.has(U)&&($===H||T($,H,E,I,R)))return z.add(U)})){q=!1;break}}else if(!($===W||T($,W,E,I,R))){q=!1;break}}return R['delete'](O),q}},function(r,o){'use strict';function s(f){return d(Object(f))}Object.defineProperty(o,'__esModule',{value:!0});var d=Object.getOwnPropertySymbols;d||(s=function(){return[]}),o.default=s},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(203),h=s(f),P=u(147),w=s(P),M=u(11),C=s(M),O=u(97),S=s(O),T=u(149),E=s(T);o.default=function(I){var R=I?I.length:void 0;return(0,S.default)(R)&&((0,C.default)(I)||(0,E.default)(I)||(0,w.default)(I))?(0,h.default)(R,String):null}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d,f,h){for(var P=d.length,w=f+(h?0:-1),M;h?w--:++w<P;)if(M=d[w],M!==M)return w;return-1}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(14),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P){return P===P&&!(0,h.default)(P)}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d,f){return function(h){return null!=h&&h[d]===f&&(f!==void 0||d in Object(h))}}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var d=Function.prototype.toString;o.default=function(f){if(null!=f){try{return d.call(f)}catch(h){}try{return f+''}catch(h){}}return''}},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(35),h=s(f),P=u(91),w=s(P),M=u(15),C=s(M),O=Math.ceil;o.default=function(T,E,I){E=(I?(0,w.default)(T,E,I):void 0===E)?1:_Mathmax((0,C.default)(E),0);var R=T?T.length:0;if(!R||1>E)return[];for(var F=0,N=0,V=Array(O(R/E));F<R;)V[N++]=(0,h.default)(T,F,F+=E);return V}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d){for(var f=-1,h=d?d.length:0,P=0,w=[],M;++f<h;)M=d[f],M&&(w[P++]=M);return w}},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(84),h=s(f),P=u(23),w=s(P),M=u(205),C=s(M),O=u(11),S=s(O);o.default=function(){for(var T=arguments.length,E=Array(T?T-1:0),I=arguments[0],R=T;R--;)E[R-1]=arguments[R];return T?(0,h.default)((0,S.default)(I)?(0,C.default)(I):[I],(0,w.default)(E,1)):[]}},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(68),f=s(d),h=u(23),P=s(h),w=u(13),M=s(w),C=u(8),O=s(C),S=(0,O.default)(function(T,E){return(0,M.default)(T)?(0,f.default)(T,(0,P.default)(E,1,M.default,!0)):[]});o.default=S},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(68),f=s(d),h=u(23),P=s(h),w=u(10),M=s(w),C=u(13),O=s(C),S=u(19),T=s(S),E=u(8),I=s(E),R=(0,I.default)(function(F,N){var V=(0,T.default)(N);return(0,O.default)(V)&&(V=void 0),(0,O.default)(F)?(0,f.default)(F,(0,P.default)(N,1,O.default,!0),(0,M.default)(V)):[]});o.default=R},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(68),f=s(d),h=u(23),P=s(h),w=u(13),M=s(w),C=u(19),O=s(C),S=u(8),T=s(S),E=(0,T.default)(function(I,R){var F=(0,O.default)(R);return(0,M.default)(F)&&(F=void 0),(0,M.default)(I)?(0,f.default)(I,(0,P.default)(R,1,M.default,!0),void 0,F):[]});o.default=E},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(10),h=s(f),P=u(87),w=s(P);o.default=function(M,C){return M&&M.length?(0,w.default)(M,(0,h.default)(C,3),!0,!0):[]}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(10),h=s(f),P=u(87),w=s(P);o.default=function(M,C){return M&&M.length?(0,w.default)(M,(0,h.default)(C,3),!0):[]}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(416),h=s(f),P=u(91),w=s(P);o.default=function(M,C,O,S){var T=M?M.length:0;return T?(O&&'number'!=typeof O&&(0,w.default)(M,C,O)&&(O=0,S=T),(0,h.default)(M,C,O,S)):[]}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(199),h=s(f),P=u(10),w=s(P);o.default=function(M,C){return M&&M.length?(0,h.default)(M,(0,w.default)(C,3)):-1}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(199),h=s(f),P=u(10),w=s(P);o.default=function(M,C){return M&&M.length?(0,h.default)(M,(0,w.default)(C,3),!0):-1}},function(r,o,u){'use strict';function s(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(146);Object.defineProperty(o,'default',{enumerable:!0,get:function(){return s(d).default}})},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(23),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P){var w=P?P.length:0;return w?(0,h.default)(P,1):[]}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(23),h=function(w){return w&&w.__esModule?w:{default:w}}(f);o.default=function(w){var M=w?w.length:0;return M?(0,h.default)(w,1/0):[]}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(23),h=s(f),P=u(15),w=s(P);o.default=function(M,C){var O=M?M.length:0;return O?(C=void 0===C?1:(0,w.default)(C),(0,h.default)(M,C)):[]}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d){for(var f=-1,h=d?d.length:0,P={},w;++f<h;)w=d[f],P[w[0]]=w[1];return P}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(127),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w,M){var C=null==P?void 0:(0,h.default)(P,w);return C===void 0?M:C}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d){return d}},function(r,o,u){'use strict';function s(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(128),h=s(f),P=u(15),w=s(P);o.default=function(C,O,S){var T=C?C.length:0;return T?(S=(0,w.default)(S),0>S&&(S=_Mathmax(T+S,0)),(0,h.default)(C,O,S)):-1}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(145),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P){return(0,h.default)(P,1)}},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(27),f=s(d),h=u(129),P=s(h),w=u(137),M=s(w),C=u(8),O=s(C),S=(0,O.default)(function(T){var E=(0,f.default)(T,M.default);return E.length&&E[0]===T[0]?(0,P.default)(E):[]});o.default=S},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(27),f=s(d),h=u(129),P=s(h),w=u(10),M=s(w),C=u(137),O=s(C),S=u(19),T=s(S),E=u(8),I=s(E),R=(0,I.default)(function(F){var N=(0,T.default)(F),V=(0,f.default)(F,O.default);return N===(0,T.default)(V)?N=void 0:V.pop(),V.length&&V[0]===F[0]?(0,P.default)(V,(0,M.default)(N)):[]});o.default=R},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(27),f=s(d),h=u(129),P=s(h),w=u(137),M=s(w),C=u(19),O=s(C),S=u(8),T=s(S),E=(0,T.default)(function(I){var R=(0,O.default)(I),F=(0,f.default)(I,M.default);return R===(0,O.default)(F)?R=void 0:F.pop(),F.length&&F[0]===I[0]?(0,P.default)(F,void 0,R):[]});o.default=E},function(r,o,u){'use strict';function s(V){return V&&V.__esModule?V:{default:V}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(148),h=s(f),P=u(90),w=s(P),M=u(14),C=s(M),O=u(212),S=s(O),T=/[\\^$.*+?()[\]{}|]/g,E=/^\[object .+?Constructor\]$/,I=Object.prototype,R=Function.prototype.toString,F=I.hasOwnProperty,N=RegExp('^'+R.call(F).replace(T,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$');o.default=function(V){if(!(0,C.default)(V))return!1;var L=(0,h.default)(V)||(0,w.default)(V)?N:E;return L.test((0,S.default)(V))}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var d=Array.prototype,f=d.join;o.default=function(h,P){return h?f.call(h,P):''}},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(209),h=s(f),P=u(15),w=s(P);o.default=function(O,S,T){var E=O?O.length:0;if(!E)return-1;var I=E;if(void 0!==T&&(I=(0,w.default)(T),I=(0>I?_Mathmax(E+I,0):_Mathmin(I,E-1))+1),S!==S)return(0,h.default)(O,I,!0);for(;I--;)if(O[I]===S)return I;return-1}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(426),h=s(f),P=u(15),w=s(P);o.default=function(M,C){return M&&M.length?(0,h.default)(M,(0,w.default)(C)):void 0}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(150),f=s(d),h=u(8),P=s(h),w=(0,P.default)(f.default);o.default=w},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(10),h=s(f),P=u(132),w=s(P);o.default=function(M,C,O){return M&&M.length&&C&&C.length?(0,w.default)(M,C,(0,h.default)(O)):M}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(132),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w,M){return P&&P.length&&w&&w.length?(0,h.default)(P,w,void 0,M):P}},function(r,o,u){'use strict';function s(V){return V&&V.__esModule?V:{default:V}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(27),f=s(d),h=u(413),P=s(h),w=u(23),M=s(w),C=u(201),O=s(C),S=u(439),T=s(S),E=u(36),I=s(E),R=u(8),F=s(R),N=(0,F.default)(function(V,L){L=(0,M.default)(L,1);var D=V?V.length:0,q=(0,P.default)(V,L);return(0,O.default)(V,(0,f.default)(L,function(z){return(0,I.default)(z,D)?+z:z}).sort(T.default)),q});o.default=N},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(10),h=s(f),P=u(201),w=s(P);o.default=function(M,C){var O=[];if(!(M&&M.length))return O;var S=-1,T=[],E=M.length;for(C=(0,h.default)(C,3);++S<E;){var I=M[S];C(I,S,M)&&(O.push(I),T.push(S))}return(0,w.default)(M,T),O}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var d=Array.prototype,f=d.reverse;o.default=function(h){return h?f.call(h):h}},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(35),h=s(f),P=u(91),w=s(P),M=u(15),C=s(M);o.default=function(O,S,T){var E=O?O.length:0;return E?(T&&'number'!=typeof T&&(0,w.default)(O,S,T)?(S=0,T=E):(S=null==S?0:(0,C.default)(S),T=void 0===T?E:(0,C.default)(T)),(0,h.default)(O,S,T)):[]}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(86),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w){return(0,h.default)(P,w)}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(10),h=s(f),P=u(133),w=s(P);o.default=function(M,C,O){return(0,w.default)(M,C,(0,h.default)(O))}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(86),h=s(f),P=u(55),w=s(P);o.default=function(M,C){var O=M?M.length:0;if(O){var S=(0,h.default)(M,C);if(S<O&&(0,w.default)(M[S],C))return S}return-1}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(86),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w){return(0,h.default)(P,w,!0)}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(10),h=s(f),P=u(133),w=s(P);o.default=function(M,C,O){return(0,w.default)(M,C,(0,h.default)(O),!0)}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(86),h=s(f),P=u(55),w=s(P);o.default=function(M,C){var O=M?M.length:0;if(O){var S=(0,h.default)(M,C,!0)-1;if((0,w.default)(M[S],C))return S}return-1}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(202),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P){return P&&P.length?(0,h.default)(P):[]}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(10),h=s(f),P=u(202),w=s(P);o.default=function(M,C){return M&&M.length?(0,w.default)(M,(0,h.default)(C)):[]}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(144),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P){return(0,h.default)(P,1)}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(35),h=s(f),P=u(15),w=s(P);o.default=function(M,C,O){return M&&M.length?(C=O||void 0===C?1:(0,w.default)(C),(0,h.default)(M,0,0>C?0:C)):[]}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(35),h=s(f),P=u(15),w=s(P);o.default=function(M,C,O){var S=M?M.length:0;return S?(C=O||void 0===C?1:(0,w.default)(C),C=S-C,(0,h.default)(M,0>C?0:C,S)):[]}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(10),h=s(f),P=u(87),w=s(P);o.default=function(M,C){return M&&M.length?(0,w.default)(M,(0,h.default)(C,3),!1,!0):[]}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(10),h=s(f),P=u(87),w=s(P);o.default=function(M,C){return M&&M.length?(0,w.default)(M,(0,h.default)(C,3)):[]}},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(148),h=s(f),P=u(14),w=s(P),M=u(44),C=s(M),O=0/0,S=/^\s+|\s+$/g,T=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,I=/^0o[0-7]+$/i,R=parseInt;o.default=function(F){if('number'==typeof F)return F;if((0,C.default)(F))return O;if((0,w.default)(F)){var N=(0,h.default)(F.valueOf)?F.valueOf():F;F=(0,w.default)(N)?N+'':N}if('string'!=typeof F)return 0===F?F:+F;F=F.replace(S,'');var V=E.test(F);return V||I.test(F)?R(F.slice(2),V?2:8):T.test(F)?O:+F}},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(23),f=s(d),h=u(42),P=s(h),w=u(13),M=s(w),C=u(8),O=s(C),S=(0,O.default)(function(T){return(0,P.default)((0,f.default)(T,1,M.default,!0))});o.default=S},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(23),f=s(d),h=u(10),P=s(h),w=u(42),M=s(w),C=u(13),O=s(C),S=u(19),T=s(S),E=u(8),I=s(E),R=(0,I.default)(function(F){var N=(0,T.default)(F);return(0,O.default)(N)&&(N=void 0),(0,M.default)((0,f.default)(F,1,O.default,!0),(0,P.default)(N))});o.default=R},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(23),f=s(d),h=u(42),P=s(h),w=u(13),M=s(w),C=u(19),O=s(C),S=u(8),T=s(S),E=(0,T.default)(function(I){var R=(0,O.default)(I);return(0,M.default)(R)&&(R=void 0),(0,P.default)((0,f.default)(I,1,M.default,!0),void 0,R)});o.default=E},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(42),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P){return P&&P.length?(0,h.default)(P):[]}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(10),h=s(f),P=u(42),w=s(P);o.default=function(M,C){return M&&M.length?(0,w.default)(M,(0,h.default)(C)):[]}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(42),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w){return P&&P.length?(0,h.default)(P,void 0,w):[]}},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(68),f=s(d),h=u(13),P=s(h),w=u(8),M=s(w),C=(0,M.default)(function(O,S){return(0,P.default)(O)?(0,f.default)(O,S):[]});o.default=C},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(83),f=s(d),h=u(135),P=s(h),w=u(13),M=s(w),C=u(8),O=s(C),S=(0,O.default)(function(T){return(0,P.default)((0,f.default)(T,M.default))});o.default=S},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(83),f=s(d),h=u(10),P=s(h),w=u(135),M=s(w),C=u(13),O=s(C),S=u(19),T=s(S),E=u(8),I=s(E),R=(0,I.default)(function(F){var N=(0,T.default)(F);return(0,O.default)(N)&&(N=void 0),(0,M.default)((0,f.default)(F,O.default),(0,P.default)(N))});o.default=R},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(83),f=s(d),h=u(135),P=s(h),w=u(13),M=s(w),C=u(19),O=s(C),S=u(8),T=s(S),E=(0,T.default)(function(I){var R=(0,O.default)(I);return(0,M.default)(R)&&(R=void 0),(0,P.default)((0,f.default)(I,M.default),void 0,R)});o.default=E},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(8),f=s(d),h=u(99),P=s(h),w=(0,f.default)(P.default);o.default=w},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(67),h=s(f),P=u(204),w=s(P);o.default=function(M,C){return(0,w.default)(M||[],C||[],h.default)}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(428),h=s(f),P=u(204),w=s(P);o.default=function(M,C){return(0,w.default)(M||[],C||[],h.default)}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(8),f=s(d),h=u(151),P=s(h),w=(0,f.default)(function(M){var C=M.length,O=1<C?M[C-1]:void 0;return O='function'==typeof O?(M.pop(),O):void 0,(0,P.default)(M,O)});o.default=w},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(d){var f=new Map;for(var h in d)f.set(h,d[h]);return f}},function(r,o){'use strict';/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function s(w){return!!w&&1==w.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(w)}function d(w){return!!w&&1==w.length&&/[\ud800-\udbff]/.test(w)}function f(w){return!!w&&1==w.length&&/[\udc00-\udfff]/.test(w)}Object.defineProperty(o,'__esModule',{value:!0}),o.isCombiningMark=s,o.isHighSurrogateHalf=d,o.isLowSurrogateHalf=f,o.isInsideSurrogatePair=function(w,M){return d(w.charAt(M-1))&&f(w.charAt(M))},o.isInsideCombinedSymbol=function(w,M){return s(w.charAt(M))}},function(r,o,u){'use strict';(function(s,d,f){var h='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&'function'==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?'symbol':typeof P};!function(P){'use strict';function w(oe,le,ue,ie){var de=le&&le.prototype instanceof C?le:C,fe=Object.create(de.prototype),ce=new V(ie||[]);return fe._invoke=I(oe,ue,ce),fe}function M(oe,le,ue){try{return{type:'normal',arg:oe.call(le,ue)}}catch(ie){return{type:'throw',arg:ie}}}function C(){}function O(){}function S(){}function T(oe){['next','throw','return'].forEach(function(le){oe[le]=function(ue){return this._invoke(le,ue)}})}function E(oe){function le(de,fe,ce,pe){var ge=M(oe[de],oe,fe);if('throw'===ge.type)pe(ge.arg);else{var me=ge.arg,ye=me.value;return ye&&'object'===('undefined'==typeof ye?'undefined':h(ye))&&z.call(ye,'__await')?Promise.resolve(ye.__await).then(function(be){le('next',be,ce,pe)},function(be){le('throw',be,ce,pe)}):Promise.resolve(ye).then(function(be){me.value=be,ce(me)},pe)}}'object'===('undefined'==typeof f?'undefined':h(f))&&f.domain&&(le=f.domain.bind(le));var ie;this._invoke=function(de,fe){function ce(){return new Promise(function(pe,ge){le(de,fe,pe,ge)})}return ie=ie?ie.then(ce,ce):ce()}}function I(oe,le,ue){var ie=J;return function(fe,ce){if(ie==Y)throw new Error('Generator is already running');if(ie==Q){if('throw'===fe)throw ce;return D()}for(ue.method=fe,ue.arg=ce;;){var pe=ue.delegate;if(pe){var ge=R(pe,ue);if(ge){if(ge===X)continue;return ge}}if('next'===ue.method)ue.sent=ue._sent=ue.arg;else if('throw'===ue.method){if(ie==J)throw ie=Q,ue.arg;ue.dispatchException(ue.arg)}else'return'===ue.method&&ue.abrupt('return',ue.arg);ie=Y;var me=M(oe,le,ue);if('normal'===me.type){if(ie=ue.done?Q:Z,me.arg===X)continue;return{value:me.arg,done:ue.done}}'throw'===me.type&&(ie=Q,ue.method='throw',ue.arg=me.arg)}}}function R(oe,le){var ue=oe.iterator[le.method];if(ue===$){if(le.delegate=null,'throw'===le.method){if(oe.iterator.return&&(le.method='return',le.arg=$,R(oe,le),'throw'===le.method))return X;le.method='throw',le.arg=new TypeError('The iterator does not provide a \'throw\' method')}return X}var ie=M(ue,oe.iterator,le.arg);if('throw'===ie.type)return le.method='throw',le.arg=ie.arg,le.delegate=null,X;var de=ie.arg;if(!de)return le.method='throw',le.arg=new TypeError('iterator result is not an object'),le.delegate=null,X;if(de.done)le[oe.resultName]=de.value,le.next=oe.nextLoc,'return'!==le.method&&(le.method='next',le.arg=$);else return de;return le.delegate=null,X}function F(oe){var le={tryLoc:oe[0]};1 in oe&&(le.catchLoc=oe[1]),2 in oe&&(le.finallyLoc=oe[2],le.afterLoc=oe[3]),this.tryEntries.push(le)}function N(oe){var le=oe.completion||{};le.type='normal',delete le.arg,oe.completion=le}function V(oe){this.tryEntries=[{tryLoc:'root'}],oe.forEach(F,this),this.reset(!0)}function L(oe){if(oe){var le=oe[K];if(le)return le.call(oe);if('function'==typeof oe.next)return oe;if(!isNaN(oe.length)){var ue=-1,ie=function de(){for(;++ue<oe.length;)if(z.call(oe,ue))return de.value=oe[ue],de.done=!1,de;return de.value=$,de.done=!0,de};return ie.next=ie}}return{next:D}}function D(){return{value:$,done:!0}}var q=Object.prototype,z=q.hasOwnProperty,$,W='function'==typeof Symbol?Symbol:{},K=W.iterator||'@@iterator',H=W.toStringTag||'@@toStringTag',U='object'===h(d),G=P.regeneratorRuntime;if(G)return void(U&&(d.exports=G));G=P.regeneratorRuntime=U?d.exports:{},G.wrap=w;var J='suspendedStart',Z='suspendedYield',Y='executing',Q='completed',X={},ee={};ee[K]=function(){return this};var te=Object.getPrototypeOf,re=te&&te(te(L([])));re&&re!==q&&z.call(re,K)&&(ee=re);var ae=S.prototype=C.prototype=Object.create(ee);O.prototype=ae.constructor=S,S.constructor=O,S[H]=O.displayName='GeneratorFunction',G.isGeneratorFunction=function(oe){var le='function'==typeof oe&&oe.constructor;return!!le&&(le===O||'GeneratorFunction'===(le.displayName||le.name))},G.mark=function(oe){return Object.setPrototypeOf?Object.setPrototypeOf(oe,S):(oe.__proto__=S,!(H in oe)&&(oe[H]='GeneratorFunction')),oe.prototype=Object.create(ae),oe},G.awrap=function(oe){return{__await:oe}},T(E.prototype),G.AsyncIterator=E,G.async=function(oe,le,ue,ie){var de=new E(w(oe,le,ue,ie));return G.isGeneratorFunction(le)?de:de.next().then(function(fe){return fe.done?fe.value:de.next()})},T(ae),ae[H]='Generator',ae.toString=function(){return'[object Generator]'},G.keys=function(oe){var le=[];for(var ue in oe)le.push(ue);return le.reverse(),function ie(){for(;le.length;){var de=le.pop();if(de in oe)return ie.value=de,ie.done=!1,ie}return ie.done=!0,ie}},G.values=L,V.prototype={constructor:V,reset:function(le){if(this.prev=0,this.next=0,this.sent=this._sent=$,this.done=!1,this.delegate=null,this.method='next',this.arg=$,this.tryEntries.forEach(N),!le)for(var ue in this)'t'===ue.charAt(0)&&z.call(this,ue)&&!isNaN(+ue.slice(1))&&(this[ue]=$)},stop:function(){this.done=!0;var le=this.tryEntries[0],ue=le.completion;if('throw'===ue.type)throw ue.arg;return this.rval},dispatchException:function(le){function ue(me,ye){return ce.type='throw',ce.arg=le,ie.next=me,ye&&(ie.method='next',ie.arg=$),!!ye}if(this.done)throw le;for(var ie=this,de=this.tryEntries.length-1;0<=de;--de){var fe=this.tryEntries[de],ce=fe.completion;if('root'===fe.tryLoc)return ue('end');if(fe.tryLoc<=this.prev){var pe=z.call(fe,'catchLoc'),ge=z.call(fe,'finallyLoc');if(pe&&ge){if(this.prev<fe.catchLoc)return ue(fe.catchLoc,!0);if(this.prev<fe.finallyLoc)return ue(fe.finallyLoc)}else if(pe){if(this.prev<fe.catchLoc)return ue(fe.catchLoc,!0);}else if(!ge)throw new Error('try statement without catch or finally');else if(this.prev<fe.finallyLoc)return ue(fe.finallyLoc)}}},abrupt:function(le,ue){for(var ie=this.tryEntries.length-1,de;0<=ie;--ie)if(de=this.tryEntries[ie],de.tryLoc<=this.prev&&z.call(de,'finallyLoc')&&this.prev<de.finallyLoc){var fe=de;break}fe&&('break'===le||'continue'===le)&&fe.tryLoc<=ue&&ue<=fe.finallyLoc&&(fe=null);var ce=fe?fe.completion:{};return ce.type=le,ce.arg=ue,fe?(this.method='next',this.next=fe.finallyLoc,X):this.complete(ce)},complete:function(le,ue){if('throw'===le.type)throw le.arg;return'break'===le.type||'continue'===le.type?this.next=le.arg:'return'===le.type?(this.rval=this.arg=le.arg,this.method='return',this.next='end'):'normal'===le.type&&ue&&(this.next=ue),X},finish:function(le){for(var ue=this.tryEntries.length-1,ie;0<=ue;--ue)if(ie=this.tryEntries[ue],ie.finallyLoc===le)return this.complete(ie.completion,ie.afterLoc),N(ie),X},'catch':function(le){for(var ue=this.tryEntries.length-1,ie;0<=ue;--ue)if(ie=this.tryEntries[ue],ie.tryLoc===le){var de=ie.completion;if('throw'===de.type){var fe=de.arg;N(ie)}return fe}throw new Error('illegal catch attempt')},delegateYield:function(le,ue,ie){return this.delegate={iterator:L(le),resultName:ue,nextLoc:ie},'next'===this.method&&(this.arg=$),X}}}('object'===('undefined'==typeof s?'undefined':h(s))?s:'object'===('undefined'==typeof window?'undefined':h(window))?window:'object'===('undefined'==typeof self?'undefined':h(self))?self:void 0)}).call(o,u(153),u(100)(r),u(279))},function(r,o,u){'use strict';function s(le){return le&&le.__esModule?le:{default:le}}function d(le,ue){if(!(le instanceof ue))throw new TypeError('Cannot call a class as a function')}function f(le,ue){if(!le)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return ue&&('object'==typeof ue||'function'==typeof ue)?ue:le}function h(le,ue){if('function'!=typeof ue&&null!==ue)throw new TypeError('Super expression must either be null or a function, not '+typeof ue);le.prototype=Object.create(ue&&ue.prototype,{constructor:{value:le,enumerable:!1,writable:!0,configurable:!0}}),ue&&(Object.setPrototypeOf?Object.setPrototypeOf(le,ue):le.__proto__=ue)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0}),o.ClassicEditor=void 0;var P=u(295),w=s(P),M=u(280),C=s(M),O=u(286),S=s(O),T=u(283),E=s(T),I=u(284),R=s(I),F=u(330),N=s(F),V=u(333),L=s(V),D=u(335),q=s(D),z=u(337),$=s(z),W=u(340),K=s(W),H=u(175),U=s(H),G=u(349),J=s(G),Z=u(356),Y=s(Z),Q=u(78),X=s(Q),ee=u(365),te=s(ee),re=u(385),ae=s(re),oe=o.ClassicEditor=function(le){function ue(){return d(this,ue),f(this,(ue.__proto__||Object.getPrototypeOf(ue)).apply(this,arguments))}return h(ue,le),ue}(w.default);oe.build={plugins:[C.default,S.default,E.default,R.default,N.default,L.default,q.default,$.default,K.default,U.default,J.default,Y.default,X.default,te.default,ae.default],config:u(285)}},function(r){'use strict';function s(){throw new Error('setTimeout has not been defined')}function d(){throw new Error('clearTimeout has not been defined')}function f(N){if(S===setTimeout)return setTimeout(N,0);if((S===s||!S)&&setTimeout)return S=setTimeout,setTimeout(N,0);try{return S(N,0)}catch(V){try{return S.call(null,N,0)}catch(L){return S.call(this,N,0)}}}function h(N){if(T===clearTimeout)return clearTimeout(N);if((T===d||!T)&&clearTimeout)return T=clearTimeout,clearTimeout(N);try{return T(N)}catch(V){try{return T.call(null,N)}catch(L){return T.call(this,N)}}}function P(){I&&R&&(I=!1,R.length?E=R.concat(E):F=-1,E.length&&w())}function w(){if(!I){var N=f(P);I=!0;for(var V=E.length;V;){for(R=E,E=[];++F<V;)R&&R[F].run();F=-1,V=E.length}R=null,I=!1,h(N)}}function M(N,V){this.fun=N,this.array=V}function C(){}var O=r.exports={},S,T;(function(){try{S='function'==typeof setTimeout?setTimeout:s}catch(N){S=s}try{T='function'==typeof clearTimeout?clearTimeout:d}catch(N){T=d}})();var E=[],I=!1,R,F=-1;O.nextTick=function(N){var V=Array(arguments.length-1);if(1<arguments.length)for(var L=1;L<arguments.length;L++)V[L-1]=arguments[L];E.push(new M(N,V)),1!==E.length||I||f(w)},M.prototype.run=function(){this.fun.apply(null,this.array)},O.title='browser',O.browser=!0,O.env={},O.argv=[],O.version='',O.versions={},O.on=C,O.addListener=C,O.once=C,O.off=C,O.removeListener=C,O.removeAllListeners=C,O.emit=C,O.binding=function(){throw new Error('process.binding is not supported')},O.cwd=function(){return'/'},O.chdir=function(){throw new Error('process.chdir is not supported')},O.umask=function(){return 0}},function(r,o,u){'use strict';function s(z){return z&&z.__esModule?z:{default:z}}function d(z,$){if(!(z instanceof $))throw new TypeError('Cannot call a class as a function')}function f(z,$){if(!z)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return $&&('object'==typeof $||'function'==typeof $)?$:z}function h(z,$){if('function'!=typeof $&&null!==$)throw new TypeError('Super expression must either be null or a function, not '+typeof $);z.prototype=Object.create($&&$.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(z,$):z.__proto__=$)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function z($,W){for(var K=0,H;K<W.length;K++)H=W[K],H.enumerable=H.enumerable||!1,H.configurable=!0,'value'in H&&(H.writable=!0),Object.defineProperty($,H.key,H)}return function($,W,K){return W&&z($.prototype,W),K&&z($,K),$}}(),w=u(281),M=s(w),C=u(282),O=s(C),S=u(3),T=s(S),E=u(172),I=s(E),R=u(179),F=s(R),N=u(154),V=s(N),L=u(155),D=s(L),q=function(z){function $(){return d(this,$),f(this,($.__proto__||Object.getPrototypeOf($)).apply(this,arguments))}return h($,z),P($,[{key:'init',value:function(){this._addListAutoformats(),this._addHeadingAutoformats(),this._addInlineAutoformats()}},{key:'_addListAutoformats',value:function(){new M.default(this.editor,/^[\*\-]\s$/,'bulletedList'),new M.default(this.editor,/^\d+[\.|)]?\s$/,'numberedList')}},{key:'_addHeadingAutoformats',value:function(){var K=this;new M.default(this.editor,/^(#{1,3})\s$/,function(H){var U=H.batch,G=H.match,J=G[1].length;K.editor.execute('heading'+J,{batch:U})})}},{key:'_addInlineAutoformats',value:function(){new O.default(this.editor,/(\*\*)([^\*]+)(\*\*)$/g,'bold'),new O.default(this.editor,/(__)([^_]+)(__)$/g,'bold'),new O.default(this.editor,/(?:^|[^\*])(\*)([^\*_]+)(\*)$/g,'italic'),new O.default(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,'italic')}}],[{key:'requires',get:function(){return[I.default,F.default,V.default,D.default]}}]),$}(T.default);o.default=q},function(r,o,u){'use strict';function s(C){return C&&C.__esModule?C:{default:C}}function d(C,O){if(!(C instanceof O))throw new TypeError('Cannot call a class as a function')}/**
                                                                                                                                                           * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                           * For licensing, see LICENSE.md.
                                                                                                                                                           */Object.defineProperty(o,'__esModule',{value:!0});var f=u(2),h=s(f),P=u(61),w=s(P);o.default=function C(O,S,T){d(this,C);var E;if('function'==typeof T)E=T;else{E=function(F){var N=F.batch;O.execute(T,{batch:N})}}O.document.on('change',function(R,F,N){if('insert'==F){var V=N.range.getItems().next().value;if(V instanceof w.default){var L=V.textNode,D=L.data;if('paragraph'===L.parent.name&&D){var q=S.exec(D);q&&O.document.enqueueChanges(function(){var z=O.document.batch(),$=h.default.createFromParentsAndOffsets(L.parent,0,L.parent,q[0].length);z.remove($),E({batch:z,match:q})})}}}})}},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}function d(O,S){if(!(O instanceof S))throw new TypeError('Cannot call a class as a function')}/**
                                                                                                                                                           * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                           * For licensing, see LICENSE.md.
                                                                                                                                                           */function f(O){return Array.from(O.getChildren()).reduce(function(S,T){return S+T.data},'')}Object.defineProperty(o,'__esModule',{value:!0});var h=u(111),P=s(h),w=u(101),M=s(w);o.default=function O(S,T,E){var I=this;d(this,O),this.editor=S;var R,F,N,V;T instanceof RegExp?R=T:N=T,'string'==typeof E?F=E:V=E,N=N||function(L){for(var q=[],z=[],D;null!==(D=R.exec(L))&&!(D&&4>D.length);){var $=D,W=$.index,K=$[1],H=$[2],U=$[3];W+=D[0].length-(K+H+U).length;var J=[W,W+K.length],Z=[W+K.length+H.length,W+K.length+H.length+U.length];q.push(J),q.push(Z),z.push([W+K.length,W+K.length+H.length])}return{remove:q,format:z}},V=V||function(L,D){var q=!0,z=!1,$;try{for(var W=D[Symbol.iterator](),K,H;!(q=(K=W.next()).done);q=!0)H=K.value,L.setAttribute(H,F,!0)}catch(U){z=!0,$=U}finally{try{!q&&W.return&&W.return()}finally{if(z)throw $}}},S.document.on('change',function(L,D){if('insert'===D){var q=I.editor.document.selection;if(q.isCollapsed&&q.focus&&q.focus.parent){var z=q.focus.parent,$=f(z).slice(0,q.focus.offset),W=N($),K=[];W.format.forEach(function(G){void 0===G[0]||void 0===G[1]||K.push(P.default.createFromParentsAndOffsets(z,G[0],z,G[1]))});var H=[];if(W.remove.slice().reverse().forEach(function(G){void 0===G[0]||void 0===G[1]||H.push(P.default.createFromParentsAndOffsets(z,G[0],z,G[1]))}),!!(K.length&&H.length)){var U=S.document.batch();S.document.enqueueChanges(function(){var G=(0,M.default)(F,K,S.document.schema);V(U,G);var J=!0,Z=!1,Y;try{for(var Q=H[Symbol.iterator](),X,ee;!(J=(X=Q.next()).done);J=!0)ee=X.value,U.remove(ee)}catch(te){Z=!0,Y=te}finally{try{!J&&Q.return&&Q.return()}finally{if(Z)throw Y}}})}}}})}},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}function d(F,N){if(!(F instanceof N))throw new TypeError('Cannot call a class as a function')}function f(F,N){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:F}function h(F,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function F(N,V){for(var L=0,D;L<V.length;L++)D=V[L],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}return function(N,V,L){return V&&F(N.prototype,V),L&&F(N,L),N}}(),w=u(3),M=s(w),C=u(154),O=s(C),S=u(26),T=s(S),E=u(512),I=s(E),R=function(F){function N(){return d(this,N),f(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return h(N,F),P(N,[{key:'init',value:function(){var L=this,D=this.editor,q=D.t,z=D.commands.get('bold'),$='CTRL+B';D.ui.componentFactory.add('bold',function(W){var K=new T.default(W);return K.set({label:q('Bold'),icon:I.default,keystroke:$,tooltip:!0}),K.bind('isOn','isEnabled').to(z,'value','isEnabled'),L.listenTo(K,'execute',function(){return D.execute('bold')}),K}),D.keystrokes.set($,'bold')}}],[{key:'requires',get:function(){return[O.default]}}]),N}(M.default);o.default=R},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}function d(F,N){if(!(F instanceof N))throw new TypeError('Cannot call a class as a function')}function f(F,N){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:F}function h(F,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function F(N,V){for(var L=0,D;L<V.length;L++)D=V[L],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}return function(N,V,L){return V&&F(N.prototype,V),L&&F(N,L),N}}(),w=u(3),M=s(w),C=u(155),O=s(C),S=u(26),T=s(S),E=u(513),I=s(E),R=function(F){function N(){return d(this,N),f(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return h(N,F),P(N,[{key:'init',value:function(){var L=this,D=this.editor,q=D.t,z=D.commands.get('italic'),$='CTRL+I';D.ui.componentFactory.add('italic',function(W){var K=new T.default(W);return K.set({label:q('Italic'),icon:I.default,keystroke:$,tooltip:!0}),K.bind('isOn','isEnabled').to(z,'value','isEnabled'),L.listenTo(K,'execute',function(){return D.execute('italic')}),K}),D.keystrokes.set($,'italic')}}],[{key:'requires',get:function(){return[O.default]}}]),N}(M.default);o.default=R},function(r){'use strict';/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.exports={toolbar:['headings','bold','italic','link','unlink','bulletedList','numberedList','undo','redo']}},function(r,o,u){'use strict';function s(V){return V&&V.__esModule?V:{default:V}}function d(V,L){if(!(V instanceof L))throw new TypeError('Cannot call a class as a function')}function f(V,L){if(!V)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:V}function h(V,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);V.prototype=Object.create(L&&L.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(V,L):V.__proto__=L)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function V(L,D){for(var q=0,z;q<D.length;q++)z=D[q],z.enumerable=z.enumerable||!1,z.configurable=!0,'value'in z&&(z.writable=!0),Object.defineProperty(L,z.key,z)}return function(L,D,q){return D&&V(L.prototype,D),q&&V(L,q),L}}(),w=u(3),M=s(w),C=u(287),O=s(C),S=u(290),T=s(S),E=u(289),I=s(E),R=u(161),F=s(R),N=function(V){function L(){return d(this,L),f(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return h(L,V),P(L,[{key:'init',value:function(){var q=this,z=this.editor,$=z.document,W=z.editing.view;this._htmlDataProcessor=new F.default,W.addObserver(O.default),this.listenTo(W,'paste',function(H,U){var G=U.dataTransfer,J='';G.getData('text/html')?J=(0,I.default)(G.getData('text/html')):G.getData('text/plain')&&(J=(0,T.default)(G.getData('text/plain'))),J=q._htmlDataProcessor.toView(J),U.preventDefault(),W.fire('clipboardInput',{dataTransfer:G,content:J})},{priority:'low'}),this.listenTo(W,'clipboardInput',function(H,U){if(!U.content.isEmpty){var G=q.editor.data,J=G.toModel(U.content,'$clipboardHolder');$.enqueueChanges(function(){G.insertContent(J,$.selection)})}},{priority:'low'});var K=function(U,G){var J=G.dataTransfer,Z=z.data.toView(z.data.getSelectedContent($.selection));G.preventDefault(),W.fire('clipboardOutput',{dataTransfer:J,content:Z,method:U.name})};this.listenTo(W,'copy',K,{priority:'low'}),this.listenTo(W,'cut',K,{priority:'low'}),this.listenTo(W,'clipboardOutput',function(H,U){U.content.isEmpty||U.dataTransfer.setData('text/html',q._htmlDataProcessor.toData(U.content)),'cut'==U.method&&$.enqueueChanges(function(){z.data.deleteContent($.selection,$.batch(),{merge:!0})})},{priority:'low'})}}]),L}(M.default);o.default=N},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}function d(T,E){if(!(T instanceof E))throw new TypeError('Cannot call a class as a function')}function f(T,E){if(!T)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:T}function h(T,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function T(E,I){for(var R=0,F;R<I.length;R++)F=I[R],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(E,F.key,F)}return function(E,I,R){return I&&T(E.prototype,I),R&&T(E,R),E}}(),w=u(63),M=s(w),C=u(288),O=s(C),S=function(T){function E(I){d(this,E);var R=f(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I));return R.domEventType=['paste','copy','cut'],R}return h(E,T),P(E,[{key:'onDomEvent',value:function(R){this.fire(R.type,R,{dataTransfer:new O.default(R.clipboardData)})}}]),E}(M.default);o.default=S},function(r,o){'use strict';function s(h,P){if(!(h instanceof P))throw new TypeError('Cannot call a class as a function')}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */Object.defineProperty(o,'__esModule',{value:!0});var d=function(){function h(P,w){for(var M=0,C;M<w.length;M++)C=w[M],C.enumerable=C.enumerable||!1,C.configurable=!0,'value'in C&&(C.writable=!0),Object.defineProperty(P,C.key,C)}return function(P,w,M){return w&&h(P.prototype,w),M&&h(P,M),P}}(),f=function(){function h(P){s(this,h),this._native=P}return d(h,[{key:'getData',value:function(w){return this._native.getData(w)}},{key:'setData',value:function(w,M){this._native.setData(w,M)}}]),h}();o.default=f},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(d){return d.replace(/<span class="Apple-converted-space">(\s+)<\/span>/g,function(f,h){return 1==h.length?' ':h})}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(d){return d=d.replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n\n/g,'</p><p>').replace(/\n/g,' ').replace(/^\s/,'&nbsp;').replace(/\s$/,'&nbsp;').replace(/\s\s/g,' &nbsp;'),-1<d.indexOf('</p><p>')&&(d='<p>'+d+'</p>'),d}},function(r,o,u){'use strict';function d(S,T){if(!(S instanceof T))throw new TypeError('Cannot call a class as a function')}function f(S,T){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return T&&('object'==typeof T||'function'==typeof T)?T:S}function h(S,T){if('function'!=typeof T&&null!==T)throw new TypeError('Super expression must either be null or a function, not '+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function S(T,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}return function(T,E,I){return E&&S(T.prototype,E),I&&S(T,I),T}}(),w=function S(T,E,I){null===T&&(T=Function.prototype);var R=Object.getOwnPropertyDescriptor(T,E);if(R===void 0){var F=Object.getPrototypeOf(T);return null===F?void 0:S(F,E,I)}if('value'in R)return R.value;var N=R.get;return void 0===N?void 0:N.call(I)},M=u(66),C=function(S){return S&&S.__esModule?S:{default:S}}(M),O=function(S){function T(E){d(this,T);var I=f(this,(T.__proto__||Object.getPrototypeOf(T)).call(this));return I.editor=E,I}return h(T,S),P(T,[{key:'set',value:function(I,R){var F=this;if('string'==typeof R){var N=R;R=function(){F.editor.execute(N)}}w(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),'set',this).call(this,I,R)}},{key:'listenTo',value:function(I){var R=this;this._listener.listenTo(I,'keydown',function(F,N){var V=R.press(N);V&&N.preventDefault()})}}]),T}(C.default);o.default=O},function(r,o,u){'use strict';function s(z){return z&&z.__esModule?z:{default:z}}function d(z,$){if(!(z instanceof $))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function z($,W){for(var K=0,H;K<W.length;K++)H=W[K],H.enumerable=H.enumerable||!1,H.configurable=!0,'value'in H&&(H.writable=!0),Object.defineProperty($,H.key,H)}return function($,W,K){return W&&z($.prototype,W),K&&z($,K),$}}(),h=u(7),P=s(h),w=u(388),M=s(w),C=u(294),O=s(C),S=u(501),T=s(S),E=u(298),I=s(E),R=u(313),F=s(R),N=u(0),V=s(N),L=u(4),D=s(L),q=function(){function z($){d(this,z);var W=this.constructor.build&&this.constructor.build.plugins;this.config=new M.default($,this.constructor.build&&this.constructor.build.config),this.config.define('plugins',W),this.plugins=new O.default(this,W),this.commands=new Map,this.locale=new T.default(this.config.get('lang')),this.t=this.locale.t,this.document=new F.default,this.data=new I.default(this.document)}return f(z,[{key:'initPlugins',value:function(){function $(G,J){return G.reduce(function(Z,Y){return Z.then(Y[J].bind(Y))},Promise.resolve())}var K=this,H=this,U=this.config;return function(){return H.plugins.load(U.get('plugins')||[])}().then(function(G){return $(G,'init').then(function(){return $(G,'afterInit')})}).then(function(){return K.fire('pluginsReady')})}},{key:'destroy',value:function(){var W=this;return this.fire('destroy'),this.stopListening(),Promise.resolve().then(function(){W.document.destroy(),W.data.destroy()})}},{key:'execute',value:function(W,K){var H=this.commands.get(W);if(!H)throw new V.default('editor-command-not-found: Specified command has not been added to the editor.');H._execute(K)}}],[{key:'create',value:function(W){var K=this;return new Promise(function(H){var U=new K(W);H(U.initPlugins().then(function(){U.fire('dataReady'),U.fire('ready')}).then(function(){return U}))})}}]),z}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=q,(0,D.default)(q,P.default)},function(r,o,u){'use strict';function s(L){return L&&L.__esModule?L:{default:L}}function d(L,D){if(!(L instanceof D))throw new TypeError('Cannot call a class as a function')}function f(L,D){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return D&&('object'==typeof D||'function'==typeof D)?D:L}function h(L,D){if('function'!=typeof D&&null!==D)throw new TypeError('Super expression must either be null or a function, not '+typeof D);L.prototype=Object.create(D&&D.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(L,D):L.__proto__=D)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function L(D,q){for(var z=0,$;z<q.length;z++)$=q[z],$.enumerable=$.enumerable||!1,$.configurable=!0,'value'in $&&($.writable=!0),Object.defineProperty(D,$.key,$)}return function(D,q,z){return q&&L(D.prototype,q),z&&L(D,z),D}}(),w=function L(D,q,z){null===D&&(D=Function.prototype);var $=Object.getOwnPropertyDescriptor(D,q);if($===void 0){var W=Object.getPrototypeOf(D);return null===W?void 0:L(W,q,z)}if('value'in $)return $.value;var K=$.get;return void 0===K?void 0:K.call(z)},M=u(292),C=s(M),O=u(291),S=s(O),T=u(300),E=s(T),I=u(391),R=s(I),F=u(399),N=s(F),V=function(L){function D(q,z){d(this,D);var $=f(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,z));return $.element=q,$.editing=new E.default($.document),$.keystrokes=new S.default($),$.keystrokes.listenTo($.editing.view),$}return h(D,L),P(D,[{key:'destroy',value:function(){var z=this;return Promise.resolve().then(function(){return z.keystrokes.destroy()}).then(function(){return z.editing.destroy()}).then(w(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),'destroy',this).call(this))}},{key:'setData',value:function(z){this.data.set(z)}},{key:'getData',value:function(){return this.data.get()}},{key:'updateEditorElement',value:function(){(0,N.default)(this.element,this.getData())}},{key:'loadDataFromEditorElement',value:function(){this.setData((0,R.default)(this.element))}}],[{key:'create',value:function(z,$){var W=this;return new Promise(function(K){var H=new W(z,$);K(H.initPlugins().then(function(){H.fire('dataReady'),H.fire('ready')}).then(function(){return H}))})}}]),D}(C.default);o.default=V},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}function d(T,E){if(!(T instanceof E))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function T(E,I){for(var R=0,F;R<I.length;R++)F=I[R],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(E,F.key,F)}return function(E,I,R){return I&&T(E.prototype,I),R&&T(E,R),E}}(),h=u(3),P=s(h),w=u(0),M=s(w),C=u(57),O=s(C),S=function(){function T(E){var I=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];d(this,T),this._editor=E,this._availablePlugins=new Map,this._plugins=new Map;var R=!0,F=!1,N;try{for(var V=I[Symbol.iterator](),L,D;!(R=(L=V.next()).done);R=!0)D=L.value,this._availablePlugins.set(D,D),D.pluginName&&this._availablePlugins.set(D.pluginName,D)}catch(q){F=!0,N=q}finally{try{!R&&V.return&&V.return()}finally{if(F)throw N}}}return f(T,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function E(){var I,R,F,N,V,L;return regeneratorRuntime.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:I=!0,R=!1,F=void 0,q.prev=3,N=this._plugins[Symbol.iterator]();case 5:if(I=(V=N.next()).done){q.next=13;break}if(L=V.value,'function'!=typeof L[0]){q.next=10;break}return q.next=10,L;case 10:I=!0,q.next=5;break;case 13:q.next=19;break;case 15:q.prev=15,q.t0=q['catch'](3),R=!0,F=q.t0;case 19:q.prev=19,q.prev=20,!I&&N.return&&N.return();case 22:if(q.prev=22,!R){q.next=25;break}throw F;case 25:return q.finish(22);case 26:return q.finish(19);case 27:case'end':return q.stop();}},E,this,[[3,15,19,27],[20,,22,26]])})},{key:'get',value:function(I){return this._plugins.get(I)}},{key:'load',value:function(I){function R(Z){return U.includes(Z)||z.get(Z)||W.has(Z)?void 0:F(Z).catch(function(Y){throw O.default.error('plugincollection-load: It was not possible to load the plugin.',{plugin:Z}),Y})}function F(Z){return new Promise(function(Y){W.add(Z),V(Z),Z.requires&&Z.requires.forEach(function(X){var ee=N(X);if(q.includes(ee))throw new M.default('plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.',{plugin:ee,requiredBy:Z});R(ee)});var Q=new Z($);z._add(Z,Q),K.push(Q),Y()})}function N(Z){return'function'==typeof Z?Z:z._availablePlugins.get(Z)}function V(Z){if(!(Z.prototype instanceof P.default))throw new M.default('plugincollection-instance: The loaded plugin module is not an instance of Plugin.',{plugin:Z})}function D(Z){return Z.map(function(Y){return N(Y)}).filter(function(Y){return!!Y})}var q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],z=this,$=this._editor,W=new Set,K=[],H=D(I),U=D(q),G=function(Z){var Y=[],Q=!0,X=!1,ee;try{for(var te=Z[Symbol.iterator](),re,ae;!(Q=(re=te.next()).done);Q=!0)ae=re.value,N(ae)||Y.push(ae)}catch(oe){X=!0,ee=oe}finally{try{!Q&&te.return&&te.return()}finally{if(X)throw ee}}return Y.length?Y:null}(I);if(G){var J='plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.';return O.default.error(J,{plugins:G}),Promise.reject(new M.default(J,{plugins:G}))}return Promise.all(H.map(R)).then(function(){return K})}},{key:'_add',value:function(I,R){this._plugins.set(I,R),I.pluginName&&this._plugins.set(I.pluginName,R)}}]),T}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=S},function(r,o,u){'use strict';function s(L){return L&&L.__esModule?L:{default:L}}function d(L,D){if(!(L instanceof D))throw new TypeError('Cannot call a class as a function')}function f(L,D){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return D&&('object'==typeof D||'function'==typeof D)?D:L}function h(L,D){if('function'!=typeof D&&null!==D)throw new TypeError('Super expression must either be null or a function, not '+typeof D);L.prototype=Object.create(D&&D.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(L,D):L.__proto__=D)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function L(D,q){for(var z=0,$;z<q.length;z++)$=q[z],$.enumerable=$.enumerable||!1,$.configurable=!0,'value'in $&&($.writable=!0),Object.defineProperty(D,$.key,$)}return function(D,q,z){return q&&L(D.prototype,q),z&&L(D,z),D}}(),w=function L(D,q,z){null===D&&(D=Function.prototype);var $=Object.getOwnPropertyDescriptor(D,q);if($===void 0){var W=Object.getPrototypeOf(D);return null===W?void 0:L(W,q,z)}if('value'in $)return $.value;var K=$.get;return void 0===K?void 0:K.call(z)},M=u(293),C=s(M),O=u(161),S=s(O),T=u(296),E=s(T),I=u(297),R=s(I),F=u(400),N=s(F);u(523);var V=function(L){function D(q,z){d(this,D);var $=f(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,q,z));return $.document.createRoot(),$.data.processor=new S.default,$.ui=new E.default($,new R.default($.locale)),$._elementReplacer=new N.default,$}return h(D,L),P(D,[{key:'destroy',value:function(){var z=this;return this.updateEditorElement(),this._elementReplacer.restore(),this.ui.destroy().then(function(){return w(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),'destroy',z).call(z)})}}],[{key:'create',value:function(z,$){var W=this;return new Promise(function(K){var H=new W(z,$);K(H.initPlugins().then(function(){return H._elementReplacer.replace(z,H.ui.view.element)}).then(function(){return H.ui.init()}).then(function(){return H.fire('uiReady')}).then(function(){return H.editing.view.attachDomRoot(H.ui.view.editableElement)}).then(function(){return H.loadDataFromEditorElement()}).then(function(){H.fire('dataReady'),H.fire('ready')}).then(function(){return H}))})}}]),D}(C.default);o.default=V},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}function d(T,E){if(!(T instanceof E))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function T(E,I){for(var R=0,F;R<I.length;R++)F=I[R],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(E,F.key,F)}return function(E,I,R){return I&&T(E.prototype,I),R&&T(E,R),E}}(),h=u(367),P=s(h),w=u(65),M=s(w),C=u(381),O=s(C),S=function(){function T(E,I){d(this,T),this.editor=E,this.view=I,this.componentFactory=new P.default(E),this.focusTracker=new M.default,I.set('width',E.config.get('ui.width')),I.set('height',E.config.get('ui.height')),I.toolbar.bind('isActive').to(this.focusTracker,'isFocused'),I.toolbar.limiterElement=I.element;var R=E.editing.createRoot('div');I.editable.bind('isReadOnly').to(R),I.editable.bind('isFocused').to(E.editing.view),I.editable.name=R.rootName,this.focusTracker.add(I.editableElement)}return f(T,[{key:'init',value:function(){var I=this,R=this.editor;return this.view.init().then(function(){return I.view.toolbar.fillFromConfig(R.config.get('toolbar'),I.componentFactory)}).then(function(){(0,O.default)({origin:R.editing.view,originFocusTracker:I.focusTracker,originKeystrokeHandler:R.keystrokes,toolbar:I.view.toolbar})})}},{key:'destroy',value:function(){return this.view.destroy()}}]),T}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=S},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}function d(I,R){if(!(I instanceof R))throw new TypeError('Cannot call a class as a function')}function f(I,R){if(!I)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return R&&('object'==typeof R||'function'==typeof R)?R:I}function h(I,R){if('function'!=typeof R&&null!==R)throw new TypeError('Super expression must either be null or a function, not '+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function I(R,F){for(var N=0,V;N<F.length;N++)V=F[N],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}return function(R,F,N){return F&&I(R.prototype,F),N&&I(R,N),R}}(),w=u(374),M=s(w),C=u(373),O=s(C),S=u(382),T=s(S),E=function(I){function R(F){d(this,R);var N=f(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,F));return N.toolbar=new T.default(F),N.editable=new O.default(F),N.top.add(N.toolbar),N.main.add(N.editable),N}return h(R,I),P(R,[{key:'editableElement',get:function(){return this.editable.element}}]),R}(M.default);o.default=E},function(r,o,u){'use strict';function s(Q){return Q&&Q.__esModule?Q:{default:Q}}function d(Q,X){if(!(Q instanceof X))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function Q(X,ee){for(var te=0,re;te<ee.length;te++)re=ee[te],re.enumerable=re.enumerable||!1,re.configurable=!0,'value'in re&&(re.writable=!0),Object.defineProperty(X,re.key,re)}return function(X,ee,te){return ee&&Q(X.prototype,ee),te&&Q(X,te),X}}(),h=u(4),P=s(h),w=u(7),M=s(w),C=u(158),O=s(C),S=u(160),T=s(S),E=u(102),I=u(308),R=s(I),F=u(306),N=u(117),V=s(N),L=u(2),D=s(L),q=u(1),z=s(q),$=u(302),W=s($),K=u(299),H=s(K),U=u(303),G=s(U),J=u(301),Z=s(J),Y=function(){function Q(X,ee){var te=this;d(this,Q),this.model=X,this.processor=ee,this.mapper=new O.default,this.modelToView=new T.default(this.model,{mapper:this.mapper}),this.modelToView.on('insert:$text',(0,E.insertText)(),{priority:'lowest'}),this.viewToModel=new R.default({schema:X.schema}),this.viewToModel.on('text',(0,F.convertText)(),{priority:'lowest'}),this.viewToModel.on('element',(0,F.convertToModelFragment)(),{priority:'lowest'}),this.viewToModel.on('documentFragment',(0,F.convertToModelFragment)(),{priority:'lowest'}),this.on('insertContent',function(re,ae){return(0,W.default)(te,ae.content,ae.selection,ae.batch)}),this.on('deleteContent',function(re,ae){return(0,H.default)(ae.selection,ae.batch,ae.options)}),this.on('modifySelection',function(re,ae){return(0,G.default)(te,ae.selection,ae.options)}),this.on('getSelectedContent',function(re,ae){ae.content=(0,Z.default)(ae.selection)})}return f(Q,[{key:'get',value:function(){var ee=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'main';return this.stringify(this.model.getRoot(ee))}},{key:'stringify',value:function(ee){var te=this.toView(ee);return this.processor.toData(te)}},{key:'toView',value:function(ee){var te=D.default.createIn(ee),re=new V.default;return this.mapper.bindElements(ee,re),this.modelToView.convertInsertion(te),this.mapper.clearBindings(),re}},{key:'set',value:function(ee){var te=this,re=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'main',ae=this.model.getRoot(re);this.model.enqueueChanges(function(){te.model.selection.removeAllRanges(),te.model.selection.clearAttributes(),te.model.batch('transparent').remove(D.default.createIn(ae)).insert(z.default.createAt(ae,0),te.parse(ee))})}},{key:'parse',value:function(ee){var te=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'$root',re=this.processor.toView(ee);return this.toModel(re,te)}},{key:'toModel',value:function(ee){var te=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'$root';return this.viewToModel.convert(ee,{context:[te]})}},{key:'destroy',value:function(){}},{key:'insertContent',value:function(ee,te,re){this.fire('insertContent',{content:ee,selection:te,batch:re})}},{key:'deleteContent',value:function(ee,te,re){this.fire('deleteContent',{batch:te,selection:ee,options:re})}},{key:'modifySelection',value:function(ee,te){this.fire('modifySelection',{selection:ee,options:te})}},{key:'getSelectedContent',value:function(ee){var te={selection:ee};return this.fire('getSelectedContent',te),te.content}}]),Q}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=Y,(0,P.default)(Y,M.default)},function(r,o,u){'use strict';function s(R){return R&&R.__esModule?R:{default:R}}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function f(R,F,N){var V=N.path,L=_Mathmin(F.path.length-1,V.length-1),D=(0,I.default)(F.path,V);if('number'==typeof D)for(;D<L;D++){var q=F.path.slice(0,D);q.push(F.path[D]+1);var z=new O.default(N.root,q),$=z.nodeBefore,W=z.nodeAfter;if(!P($)||!P(W))return;0<W.childCount?R.merge(z):R.remove(W)}}function h(R,F){var N=R.schema.check({name:'$text',inside:F}),V=R.schema.check({name:'paragraph',inside:F});return!N&&V}function P(R){var F=R.document.schema;return!F.objects.has(R.name)&&!F.limits.has(R.name)}Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(R,F){var N=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!R.isCollapsed){var V=R.getFirstRange(),L=V.start,D=M.default.createFromPosition(V.end);if(V.start.isTouching(V.end)||F.remove(V),N.merge&&f(F,L,D),R.collapse(L),h(F.document,L)){var q=new T.default('paragraph');F.insert(L,q),R.collapse(q)}D.detach()}};var w=u(165),M=s(w),C=u(1),O=s(C),S=u(5),T=s(S),E=u(51),I=s(E)},function(r,o,u){'use strict';function s(N){return N&&N.__esModule?N:{default:N}}function d(N,V){if(!(N instanceof V))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function N(V,L){for(var D=0,q;D<L.length;D++)q=L[D],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(V,q.key,q)}return function(V,L,D){return L&&N(V.prototype,L),D&&N(V,D),V}}(),h=u(321),P=s(h),w=u(158),M=s(w),C=u(160),O=s(C),S=u(102),T=u(305),E=u(159),I=u(7),R=s(I),F=function(){function N(V){var L=this;d(this,N),this.model=V,this.view=new P.default,this.mapper=new M.default,this.modelToView=new O.default(this.model,{mapper:this.mapper,viewSelection:this.view.selection}),this._listener=Object.create(R.default),this._listener.listenTo(this.model,'change',function(D,q,z){L.modelToView.convertChange(q,z)},{priority:'low'}),this._listener.listenTo(this.model,'changesDone',function(){var D=L.model.selection;L.modelToView.convertSelection(D),L.view.render()},{priority:'low'}),this._listener.listenTo(this.model.markers,'add',function(D,q){L.modelToView.convertMarker('addMarker',q.name,q.getRange())}),this._listener.listenTo(this.model.markers,'remove',function(D,q){L.modelToView.convertMarker('removeMarker',q.name,q.getRange())}),this._listener.listenTo(this.view,'selectionChange',(0,T.convertSelectionChange)(this.model,this.mapper)),this.modelToView.on('insert:$text',(0,S.insertText)(),{priority:'lowest'}),this.modelToView.on('remove',(0,S.remove)(),{priority:'low'}),this.modelToView.on('selection',(0,E.clearAttributes)(),{priority:'low'}),this.modelToView.on('selection',(0,E.clearFakeSelection)(),{priority:'low'}),this.modelToView.on('selection',(0,E.convertRangeSelection)(),{priority:'low'}),this.modelToView.on('selection',(0,E.convertCollapsedSelection)(),{priority:'low'})}return f(N,[{key:'createRoot',value:function(L){var D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'main',q=this.view.createRoot(L,D),z=this.model.getRoot(D);return this.mapper.bindElements(z,q),q}},{key:'destroy',value:function(){this.view.destroy(),this._listener.stopListening()}}]),N}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=F},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function f(I){var R=[];Array.from(I.getItems({direction:'backward'})).map(function(F){return M.default.createOn(F)}).filter(function(F){var N=(F.start.isAfter(I.start)||F.start.isEqual(I.start))&&(F.end.isBefore(I.end)||F.end.isEqual(I.end));return N}).forEach(function(F){R.push(F.start.parent),(0,E.remove)(F)}),R.forEach(function(F){for(var N=F,V;N.parent&&N.isEmpty;)V=M.default.createOn(N),N=N.parent,(0,E.remove)(V)})}Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(I){var R=new P.default,F=I.getFirstRange();if(!F||F.isCollapsed)return R;var N=F.start.root,V=F.start.getCommonPath(F.end),L=N.getNodeByPath(V),D;D=F.start.parent==F.end.parent?F:M.default.createFromParentsAndOffsets(L,F.start.path[V.length],L,F.end.path[V.length]+1);var q=D.end.offset-D.start.offset,z=!0,$=!1,W;try{for(var K=D.getItems({shallow:!0})[Symbol.iterator](),H,U;!(z=(H=K.next()).done);z=!0)U=H.value,U.is('textProxy')?R.appendChildren(new T.default(U.data,U.getAttributes())):R.appendChildren(U.clone(!0))}catch(Y){$=!0,W=Y}finally{try{!z&&K.return&&K.return()}finally{if($)throw W}}if(D!=F){var G=F._getTransformedByMove(D.start,O.default.createAt(R,0),q)[0],J=new M.default(O.default.createAt(R),G.start),Z=new M.default(G.end,O.default.createAt(R,'end'));f(Z),f(J)}return R};var h=u(48),P=s(h),w=u(2),M=s(w),C=u(1),O=s(C),S=u(24),T=s(S),E=u(18)},function(r,o,u){'use strict';function s(N){return N&&N.__esModule?N:{default:N}}function d(N,V){if(!(N instanceof V))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var h=function(){function N(V,L){for(var D=0,q;D<L.length;D++)q=L[D],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(V,q.key,q)}return function(V,L,D){return L&&N(V.prototype,L),D&&N(V,D),V}}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=function(N,V,L,D){D||(D=N.model.batch()),L.isCollapsed||N.deleteContent(L,D,{merge:!0});var q=new F(N,D,L.anchor),z;z=V.is('documentFragment')?V.getChildren():[V],q.handleNodes(z,{isFirst:!0,isLast:!0});var $=q.getSelectionRange();$?L.setRanges([$]):R.default.warn('insertcontent-no-range: Cannot determine a proper selection range after insertion.')};var P=u(1),w=s(P),M=u(165),C=s(M),O=u(5),S=s(O),T=u(2),E=s(T),I=u(57),R=s(I),F=function(){function N(V,L,D){d(this,N),this.dataController=V,this.batch=L,this.position=D,this.canMergeWith=new Set([this.position.parent]),this.schema=V.model.schema}return h(N,[{key:'handleNodes',value:function(L,D){L=Array.from(L);for(var q=0,z;q<L.length;q++)z=L[q],this._handleNode(z,{isFirst:0===q&&D.isFirst,isLast:q===L.length-1&&D.isLast})}},{key:'getSelectionRange',value:function(){return this.nodeToSelect?E.default.createOn(this.nodeToSelect):this.dataController.model.getNearestSelectionRange(this.position)}},{key:'_handleNode',value:function(L,D){if(this._checkIsObject(L))return void this._handleObject(L,D);var q=this._checkAndSplitToAllowedPosition(L,D);return q?void(this._insert(L),this._mergeSiblingsOf(L,D)):void this._handleDisallowedNode(L,D)}},{key:'_handleObject',value:function(L,D){this._checkAndSplitToAllowedPosition(L)?this._insert(L):this._tryAutoparagraphing(L,D)}},{key:'_handleDisallowedNode',value:function(L,D){L.is('element')?this.handleNodes(L.getChildren(),D):this._tryAutoparagraphing(L,D)}},{key:'_insert',value:function(L){if(!this._checkIsAllowed(L,[this.position.parent]))return void R.default.error('insertcontent-wrong-position: The node cannot be inserted on the given position.',{node:L,position:this.position});var D=C.default.createFromPosition(this.position);this.batch.insert(this.position,L),this.position=w.default.createFromPosition(D),D.detach(),this.nodeToSelect=this._checkIsObject(L)&&!this.schema.check({name:'$text',inside:[this.position.parent]})?L:null}},{key:'_mergeSiblingsOf',value:function(L,D){if(L instanceof S.default){var q=D.isFirst&&L.previousSibling instanceof S.default&&this.canMergeWith.has(L.previousSibling),z=D.isLast&&L.nextSibling instanceof S.default&&this.canMergeWith.has(L.nextSibling),$=C.default.createBefore(L),W=C.default.createAfter(L);if(q){var K=C.default.createFromPosition(this.position);this.batch.merge($),this.position=w.default.createFromPosition(K),K.detach()}if(z){var H;this.position.isEqual(W)||R.default.error('insertcontent-wrong-position-on-merge: The insertion position should equal the merge position'),this.position=w.default.createAt(W.nodeBefore,'end'),H=new C.default(this.position.root,this.position.path,'sticksToPrevious'),this.batch.merge(W),this.position=w.default.createFromPosition(H),H.detach()}$.detach(),W.detach()}}},{key:'_tryAutoparagraphing',value:function(L,D){var q=new S.default('paragraph');this._getAllowedIn(q,this.position.parent)&&this._checkIsAllowed(L,[q])&&(q.appendChildren(L),this._handleNode(q,D))}},{key:'_checkAndSplitToAllowedPosition',value:function(L){var D=this._getAllowedIn(L,this.position.parent);if(!D)return!1;for(;D!=this.position.parent;){if(this.schema.limits.has(this.position.parent.name))return!1;if(this.position.isAtStart){var q=this.position.parent;this.position=w.default.createBefore(q),q.isEmpty&&this.batch.remove(q)}else if(this.position.isAtEnd)this.position=w.default.createAfter(this.position.parent);else{var z=w.default.createAfter(this.position.parent);this.batch.split(this.position),this.position=z,this.canMergeWith.add(this.position.nodeAfter)}}return!0}},{key:'_getAllowedIn',value:function(L,D){return this._checkIsAllowed(L,[D])?D:D.parent?this._getAllowedIn(L,D.parent):null}},{key:'_checkIsAllowed',value:function(L,D){return this.schema.check({name:this._getNodeSchemaName(L),attributes:Array.from(L.getAttributeKeys()),inside:D})}},{key:'_checkIsObject',value:function(L){return this.schema.objects.has(this._getNodeSchemaName(L))}},{key:'_getNodeSchemaName',value:function(L){return L.is('text')?'$text':L.name}}]),N}()},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function f(I,R){if('text'==R.type)return h(I.walker,I.unit);if(R.type==(I.isForward?'elementStart':'elementEnd')){if(I.schema.objects.has(R.item.name))return M.default.createAt(R.item,I.isForward?'after':'before');if(I.schema.check({name:'$text',inside:R.nextPosition}))return R.nextPosition}else{if(I.schema.limits.has(R.item.name))return void I.walker.skip(function(){return!0});if(I.schema.check({name:'$text',inside:R.nextPosition}))return R.nextPosition}}function h(I,R){var F=I.position.textNode;if(F)for(var N=F.data,V=I.position.offset-F.startOffset;(0,E.isInsideSurrogatePair)(N,V)||'character'==R&&(0,E.isInsideCombinedSymbol)(N,V);)I.next(),V=I.position.offset-F.startOffset;return I.position}function P(I,R){var F=I.root,N=M.default.createAt(F,R?'end':0);return R?new T.default(I,N):new T.default(N,I)}Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(I,R){for(var F=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},N=I.model.schema,V='backward'!=F.direction,L=F.unit?F.unit:'character',D=R.focus,q=new O.default({boundaries:P(D,V),singleCharacters:!0,direction:V?'forward':'backward'}),z={walker:q,schema:N,isForward:V,unit:L},$;$=q.next();){if($.done)return;var W=f(z,$.value);if(W)return void R.setFocus(W)}};var w=u(1),M=s(w),C=u(34),O=s(C),S=u(2),T=s(S),E=u(276)},function(r,o,u){'use strict';function d(M,C){if(!(M instanceof C))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function M(C,O){for(var S=0,T;S<O.length;S++)T=O[S],T.enumerable=T.enumerable||!1,T.configurable=!0,'value'in T&&(T.writable=!0),Object.defineProperty(C,T.key,T)}return function(C,O,S){return O&&M(C.prototype,O),S&&M(C,S),C}}(),h=u(61),P=function(M){return M&&M.__esModule?M:{default:M}}(h),w=function(){function M(){d(this,M),this._consumable=new Map,this._textProxyRegistry=new Map}return f(M,[{key:'add',value:function(O,S){O instanceof P.default&&(O=this._getSymbolForTextProxy(O)),this._consumable.has(O)||this._consumable.set(O,new Map),this._consumable.get(O).set(S,!0)}},{key:'consume',value:function(O,S){return O instanceof P.default&&(O=this._getSymbolForTextProxy(O)),!!this.test(O,S)&&(this._consumable.get(O).set(S,!1),!0)}},{key:'test',value:function(O,S){O instanceof P.default&&(O=this._getSymbolForTextProxy(O));var T=this._consumable.get(O);if(void 0===T)return null;var E=T.get(S);return void 0===E?null:E}},{key:'revert',value:function(O,S){O instanceof P.default&&(O=this._getSymbolForTextProxy(O));var T=this.test(O,S);return!1===T?(this._consumable.get(O).set(S,!0),!0):!0!==T&&null}},{key:'_getSymbolForTextProxy',value:function(O){var S=null,T=this._textProxyRegistry.get(O.startOffset);if(T){var E=T.get(O.endOffset);E&&(S=E.get(O.parent))}return S||(S=this._addSymbolForTextProxy(O.startOffset,O.endOffset,O.parent)),S}},{key:'_addSymbolForTextProxy',value:function(O,S,T){var E=Symbol(),I,R;return I=this._textProxyRegistry.get(O),I||(I=new Map,this._textProxyRegistry.set(O,I)),R=I.get(S),R||(R=new Map,I.set(S,R)),R.set(T,E),E}}]),M}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=w},function(r,o,u){'use strict';/**
   * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
   * For licensing, see LICENSE.md.
   */Object.defineProperty(o,'__esModule',{value:!0}),o.convertSelectionChange=function(P,w){return function(M,C){var O=C.newSelection,S=new h.default,T=[],E=!0,I=!1,R;try{for(var F=O.getRanges()[Symbol.iterator](),N,V;!(E=(N=F.next()).done);E=!0)V=N.value,T.push(w.toModelRange(V))}catch(L){I=!0,R=L}finally{try{!E&&F.return&&F.return()}finally{if(I)throw R}}S.setRanges(T,O.isBackward),S.isEqual(P.selection)||P.enqueueChanges(function(){P.selection.setTo(S)})}};var f=u(60),h=function(P){return P&&P.__esModule?P:{default:P}}(f)},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */Object.defineProperty(o,'__esModule',{value:!0}),o.convertToModelFragment=function(){return function(O,S,T,E){if(!S.output&&T.consume(S.input,{name:!0})){var I=E.convertChildren(S.input,T,S);S.output=new P.default((0,C.normalizeNodes)(I))}}},o.convertText=function(){return function(O,S,T,E){var I={name:'$text',inside:S.context};E.schema.check(I)&&T.consume(S.input)&&(S.output=new M.default(S.input.data))}};var h=u(48),P=s(h),w=u(24),M=s(w),C=u(18)},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}function d(T){if(Array.isArray(T)){for(var E=0,I=Array(T.length);E<T.length;E++)I[E]=T[E];return I}return Array.from(T)}function f(T,E){if(!(T instanceof E))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var h=function(){function T(E,I){for(var R=0,F;R<I.length;R++)F=I[R],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(E,F.key,F)}return function(E,I,R){return I&&T(E.prototype,I),R&&T(E,R),E}}(),P=u(11),w=s(P),M=u(0),C=s(M),O=function(){function T(){f(this,T),this._consumables=new Map}return h(T,[{key:'add',value:function(I,R){var F;return I.is('text')||I.is('documentFragment')?void this._consumables.set(I,!0):void(this._consumables.has(I)?F=this._consumables.get(I):(F=new S,this._consumables.set(I,F)),F.add(R))}},{key:'test',value:function(I,R){var F=this._consumables.get(I);return void 0===F?null:I.is('text')||I.is('documentFragment')?F:F.test(R)}},{key:'consume',value:function(I,R){return!!this.test(I,R)&&(I.is('text')||I.is('documentFragment')?this._consumables.set(I,!1):this._consumables.get(I).consume(R),!0)}},{key:'revert',value:function(I,R){var F=this._consumables.get(I);void 0!==F&&(I.is('text')||I.is('documentFragment')?this._consumables.set(I,!0):F.revert(R))}}],[{key:'consumablesFromElement',value:function(I){var R={name:!0,attribute:[],class:[],style:[]},F=I.getAttributeKeys(),N=!0,V=!1,L;try{for(var D=F[Symbol.iterator](),q,z;!(N=(q=D.next()).done);N=!0)(z=q.value,'style'!=z&&'class'!=z)&&R.attribute.push(z)}catch(ae){V=!0,L=ae}finally{try{!N&&D.return&&D.return()}finally{if(V)throw L}}var $=I.getClassNames(),W=!0,K=!1,H;try{for(var U=$[Symbol.iterator](),G,J;!(W=(G=U.next()).done);W=!0)J=G.value,R.class.push(J)}catch(ae){K=!0,H=ae}finally{try{!W&&U.return&&U.return()}finally{if(K)throw H}}var Z=I.getStyleNames(),Y=!0,Q=!1,X;try{for(var ee=Z[Symbol.iterator](),te,re;!(Y=(te=ee.next()).done);Y=!0)re=te.value,R.style.push(re)}catch(ae){Q=!0,X=ae}finally{try{!Y&&ee.return&&ee.return()}finally{if(Q)throw X}}return R}},{key:'createFrom',value:function(I,R){if(R||(R=new T),I.is('text'))return R.add(I),R;I.is('element')&&R.add(I,T.consumablesFromElement(I)),I.is('documentFragment')&&R.add(I);var F=!0,N=!1,V;try{for(var L=I.getChildren()[Symbol.iterator](),D,q;!(F=(D=L.next()).done);F=!0)q=D.value,R=T.createFrom(q,R)}catch(z){N=!0,V=z}finally{try{!F&&L.return&&L.return()}finally{if(N)throw V}}return R}}]),T}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=O;var S=function(){function T(){f(this,T),this._canConsumeName=null,this._consumables={attribute:new Map,style:new Map,class:new Map}}return h(T,[{key:'add',value:function(I){for(var R in I.name&&(this._canConsumeName=!0),this._consumables)R in I&&this._add(R,I[R])}},{key:'test',value:function(I){if(I.name&&!this._canConsumeName)return this._canConsumeName;for(var R in this._consumables)if(R in I){var F=this._test(R,I[R]);if(!0!==F)return F}return!0}},{key:'consume',value:function(I){for(var R in I.name&&(this._canConsumeName=!1),this._consumables)R in I&&this._consume(R,I[R])}},{key:'revert',value:function(I){for(var R in I.name&&(this._canConsumeName=!0),this._consumables)R in I&&this._revert(R,I[R])}},{key:'_add',value:function(I,R){var F=(0,w.default)(R)?R:[R],N=this._consumables[I],V=!0,L=!1,D;try{for(var q=F[Symbol.iterator](),z,$;!(V=(z=q.next()).done);V=!0){if($=z.value,'attribute'===I&&('class'===$||'style'===$))throw new C.default('viewconsumable-invalid-attribute: Classes and styles should be handled separately.');N.set($,!0)}}catch(W){L=!0,D=W}finally{try{!V&&q.return&&q.return()}finally{if(L)throw D}}}},{key:'_test',value:function(I,R){var F=(0,w.default)(R)?R:[R],N=this._consumables[I],V=!0,L=!1,D;try{for(var q=F[Symbol.iterator](),z,$;!(V=(z=q.next()).done);V=!0)if($=z.value,'attribute'===I&&('class'===$||'style'===$)){var W=this._test($,[].concat(d(this._consumables[$].keys())));if(!0!==W)return W}else{var K=N.get($);if(void 0===K)return null;if(!K)return!1}}catch(H){L=!0,D=H}finally{try{!V&&q.return&&q.return()}finally{if(L)throw D}}return!0}},{key:'_consume',value:function(I,R){var F=(0,w.default)(R)?R:[R],N=this._consumables[I],V=!0,L=!1,D;try{for(var q=F[Symbol.iterator](),z,$;!(V=(z=q.next()).done);V=!0)$=z.value,'attribute'===I&&('class'===$||'style'===$)?this._consume($,[].concat(d(this._consumables[$].keys()))):N.set($,!1)}catch(W){L=!0,D=W}finally{try{!V&&q.return&&q.return()}finally{if(L)throw D}}}},{key:'_revert',value:function(I,R){var F=(0,w.default)(R)?R:[R],N=this._consumables[I],V=!0,L=!1,D;try{for(var q=F[Symbol.iterator](),z,$;!(V=(z=q.next()).done);V=!0)if($=z.value,'attribute'===I&&('class'===$||'style'===$))this._revert($,[].concat(d(this._consumables[$].keys())));else{var W=N.get($);!1===W&&N.set($,!0)}}catch(K){L=!0,D=K}finally{try{!V&&q.return&&q.return()}finally{if(L)throw D}}}}]),T}()},function(r,o,u){'use strict';function s(H){return H&&H.__esModule?H:{default:H}}function d(H,U){if(!(H instanceof U))throw new TypeError('Cannot call a class as a function')}function f(H){var U=new Set,G=new Map,J=new L.default({startPosition:N.default.createAt(H,0),ignoreElementEnd:!0}),Z=!0,Y=!1,Q;try{for(var X=J[Symbol.iterator](),ee,te;!(Z=(ee=X.next()).done);Z=!0)te=ee.value,'$marker'==te.item.name&&U.add(te.item)}catch(ce){Y=!0,Q=ce}finally{try{!Z&&X.return&&X.return()}finally{if(Y)throw Q}}var re=!0,ae=!1,oe;try{for(var le=U[Symbol.iterator](),ue;!(re=(ue=le.next()).done);re=!0){var ie=ue.value,de=ie.getAttribute('data-name'),fe=N.default.createBefore(ie);G.has(de)?G.get(de).end=N.default.createFromPosition(fe):G.set(de,new R.default(N.default.createFromPosition(fe))),(0,W.remove)(R.default.createOn(ie))}}catch(ce){ae=!0,oe=ce}finally{try{!re&&le.return&&le.return()}finally{if(ae)throw oe}}return G}Object.defineProperty(o,'__esModule',{value:!0});var h=function(){function H(U,G){for(var J=0,Z;J<G.length;J++)Z=G[J],Z.enumerable=Z.enumerable||!1,Z.configurable=!0,'value'in Z&&(Z.writable=!0),Object.defineProperty(U,Z.key,Z)}return function(U,G,J){return G&&H(U.prototype,G),J&&H(U,J),U}}(),P=u(307),w=s(P),M=u(7),C=s(M),O=u(4),S=s(O),T=u(56),E=s(T),I=u(2),R=s(I),F=u(1),N=s(F),V=u(34),L=s(V),D=u(59),q=s(D),z=u(48),$=s(z),W=u(18),K=function(){function H(){var U=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d(this,H),this.conversionApi=(0,E.default)({},U),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this)}return h(H,[{key:'convert',value:function(G){var J=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.fire('viewCleanup',G);var Z=w.default.createFrom(G),Y=this._convertItem(G,Z,J);if(!(Y instanceof q.default||Y instanceof $.default))return Y;var Q=Y;return Q.is('documentFragment')||(Q=new $.default([Q])),Q.markers=f(Q),Q}},{key:'_convertItem',value:function(G,J){var Z=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},Y=(0,E.default)({},Z,{input:G,output:null});return G.is('element')?this.fire('element:'+G.name,Y,J,this.conversionApi):G.is('text')?this.fire('text',Y,J,this.conversionApi):this.fire('documentFragment',Y,J,this.conversionApi),Y.output}},{key:'_convertChildren',value:function(G,J){var Z=this,Y=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},Q=Array.from(G.getChildren()),X=Q.map(function(ee){return Z._convertItem(ee,J,Y)});return X.reduce(function(ee,te){return te?ee.concat(te):ee},[])}}]),H}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=K,(0,S.default)(K,C.default)},function(r,o){'use strict';function s(h,P){if(!(h instanceof P))throw new TypeError('Cannot call a class as a function')}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */Object.defineProperty(o,'__esModule',{value:!0});var d=function(){function h(P,w){for(var M=0,C;M<w.length;M++)C=w[M],C.enumerable=C.enumerable||!1,C.configurable=!0,'value'in C&&(C.writable=!0),Object.defineProperty(P,C.key,C)}return function(P,w,M){return w&&h(P.prototype,w),M&&h(P,M),P}}(),f=function(){function h(){s(this,h)}return d(h,[{key:'getHtml',value:function(w){var M=document.implementation.createHTMLDocument(''),C=M.createElement('div');return C.appendChild(w),C.innerHTML}}]),h}();o.default=f},function(r,o,u){'use strict';function s($){return $&&$.__esModule?$:{default:$}}var d=u(162),f=s(d),h=u(103),P=s(h),w=u(104),M=s(w),C=u(105),O=s(C),S=u(106),T=s(S),E=u(163),I=s(E),R=u(107),F=s(R),N=u(109),V=s(N),L=u(164),D=s(L),q=u(110),z=s(q)},function(r,o,u){'use strict';function s(pe){return pe&&pe.__esModule?pe:{default:pe}}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function d(pe,ge){var me=pe.clone(),ye=me.operations[0];return ye.oldRange=ye.oldRange.getTransformedByDelta(ge)[0],ye.newRange=ye.newRange.getTransformedByDelta(ge)[0],[me]}function f(pe,ge){function me(){var Me=new M.default(pe.position.getShiftedBy(ve),pe.position.getShiftedBy(ke)),Ce=new I.default(Me,ge.key,he,ge.value,0);ye.addOperation(Ce)}for(var ye=new z.default,be=pe.nodes,he=be.getNode(0).getAttribute(ge.key),ve=0,ke=be.getNode(0).offsetSize,Pe=1;Pe<be.length;Pe++){var we=be.getNode(Pe),xe=we.getAttribute(ge.key);xe!=he&&(he!=ge.value&&me(),he=xe,ve=ke),ke+=we.offsetSize}return me(),ye}function h(){var pe=new D.default;return pe.addOperation(new T.default(0)),pe}var P=u(108),w=u(2),M=s(w),C=u(1),O=s(C),S=u(73),T=s(S),E=u(72),I=s(E),R=u(37),F=s(R),N=u(113),V=s(N),L=u(20),D=s(L),q=u(162),z=s(q),$=u(103),W=s($),K=u(312),H=s(K),U=u(104),G=s(U),J=u(105),Z=s(J),Y=u(107),Q=s(Y),X=u(164),ee=s(X),te=u(110),re=s(te),ae=u(109),oe=s(ae),le=u(163),ue=s(le),ie=u(106),de=s(ie),fe=u(51),ce=s(fe);(0,P.addTransformationCase)(z.default,ee.default,function(pe,ge,me){var ye=(0,P.defaultTransform)(pe,ge,me);return pe.range.containsPosition(ge.position)&&ye.push(f(ge,pe)),ye}),(0,P.addTransformationCase)(z.default,Q.default,function(pe,ge,me){var ye=new O.default(ge.position.root,ge.position.path.slice(0,-1)),be=(0,P.defaultTransform)(pe,ge,me),he=!0,ve=!1,ke;try{for(var Pe=pe.operations[Symbol.iterator](),we,xe;!(he=(we=Pe.next()).done);he=!0)if(xe=we.value,xe.range.containsPosition(ye)||xe.range.start.isEqual(ye)){var Me=new z.default,Ce=ye.getShiftedBy(1),Oe=O.default.createFromPosition(Ce);Oe.path.push(0);var Se=ge._cloneOperation.nodes.getNode(0).getAttribute(xe.key);Me.addOperation(new I.default(new M.default(Ce,Oe),xe.key,void 0===Se?null:Se,xe.newValue,0)),be.push(Me);break}}catch(Te){ve=!0,ke=Te}finally{try{!he&&Pe.return&&Pe.return()}finally{if(ve)throw ke}}return be}),(0,P.addTransformationCase)(W.default,G.default,function(pe,ge,me){return pe.position.isEqual(ge.position)?[ge.getReversed(),pe.clone()]:(0,P.defaultTransform)(pe,ge,me)}),(0,P.addTransformationCase)(H.default,Q.default,d),(0,P.addTransformationCase)(H.default,G.default,d),(0,P.addTransformationCase)(H.default,re.default,d),(0,P.addTransformationCase)(H.default,oe.default,d),(0,P.addTransformationCase)(H.default,Z.default,d),(0,P.addTransformationCase)(H.default,ue.default,d),(0,P.addTransformationCase)(Z.default,G.default,function(pe,ge,me){var ye=pe.sourcePosition.root==ge.position.root&&'same'===(0,ce.default)(pe.sourcePosition.getParentPath(),ge.position.getParentPath()),be=pe.sourcePosition.offset<=ge.position.offset&&pe.sourcePosition.offset+pe.howMany>ge.position.offset;return ye&&be?[ge.getReversed(),pe.clone()]:(0,P.defaultTransform)(pe,ge,me)}),(0,P.addTransformationCase)(G.default,W.default,function(pe,ge,me){return pe.position.isEqual(ge.position)?[h()]:(0,P.defaultTransform)(pe,ge,me)}),(0,P.addTransformationCase)(G.default,Z.default,function(pe,ge,me){var ye=pe.position.root==ge.sourcePosition.root&&'same'===(0,ce.default)(pe.position.getParentPath(),ge.sourcePosition.getParentPath()),be=ge.sourcePosition.offset<=pe.position.offset&&ge.sourcePosition.offset+ge.howMany>pe.position.offset;return ye&&be?[h()]:(0,P.defaultTransform)(pe,ge,me)}),(0,P.addTransformationCase)(Q.default,Q.default,function(pe,ge,me){var ye=pe.position.getParentPath(),be=ge.position.getParentPath();if('same'==(0,ce.default)(ye,be)){if(pe.position.offset==ge.position.offset)return[h()];if(pe.position.offset<ge.position.offset){var he=pe.clone();return he._moveOperation.howMany=ge.position.offset-pe.position.offset,pe._cloneOperation instanceof V.default&&ge._cloneOperation instanceof V.default&&pe._cloneOperation.sourcePosition.offset>ge._cloneOperation.sourcePosition.offset&&he._cloneOperation.sourcePosition.offset--,[he]}var ve=pe.clone();return ve._cloneOperation.position.offset++,ve._moveOperation.sourcePosition.path[ve._moveOperation.sourcePosition.path.length-2]++,ve._moveOperation.targetPosition.path[ve._moveOperation.targetPosition.path.length-2]++,ve._moveOperation.sourcePosition.offset=pe.position.offset-ge.position.offset,pe._cloneOperation instanceof V.default&&ge._cloneOperation instanceof V.default&&pe._cloneOperation.sourcePosition.offset>ge._cloneOperation.sourcePosition.offset&&ve._cloneOperation.sourcePosition.offset--,[ve]}return(0,P.defaultTransform)(pe,ge,me)}),(0,P.addTransformationCase)(Q.default,oe.default,function(pe,ge,me){return'same'===(0,ce.default)(ge.position.path,pe.position.getParentPath())?[h()]:(0,P.defaultTransform)(pe,ge,me)}),(0,P.addTransformationCase)(Q.default,re.default,function(pe,ge,me){var ye='same'===(0,ce.default)(pe.position.getParentPath(),ge.range.start.getParentPath()),be=ge.range.start.offset<pe.position.offset&&ge.range.end.offset>=pe.position.offset;if(ye&&be)return[h()];if('same'===(0,ce.default)(pe.position.getParentPath(),ge.range.end.getShiftedBy(-1).path)){var he=pe.clone(),ve=O.default.createFromPosition(ge.range.start);ve.path.push(ge.howMany-1);var ke=ve.getShiftedBy(1);he._cloneOperation.position=ke;var Pe=O.default.createFromPosition(ve);Pe.path.push(pe.position.offset),he._moveOperation.sourcePosition=Pe;var we=O.default.createFromPosition(ke);return we.path.push(0),he._moveOperation.targetPosition=we,[he]}return(0,P.defaultTransform)(pe,ge,me)}),(0,P.addTransformationCase)(Q.default,z.default,function(pe,ge){pe=pe.clone();var me=new O.default(pe.position.root,pe.position.path.slice(0,-1));if(pe._cloneOperation instanceof F.default){var ye=!0,be=!1,he;try{for(var ve=ge.operations[Symbol.iterator](),ke,Pe;!(ye=(ke=ve.next()).done);ye=!0)if(Pe=ke.value,Pe.range.containsPosition(me)||Pe.range.start.isEqual(me)){null===Pe.newValue?pe._cloneOperation.nodes.getNode(0).removeAttribute(Pe.key):pe._cloneOperation.nodes.getNode(0).setAttribute(Pe.key,Pe.newValue);break}}catch(we){be=!0,he=we}finally{try{!ye&&ve.return&&ve.return()}finally{if(be)throw he}}}return[pe]}),(0,P.addTransformationCase)(oe.default,Q.default,function(pe,ge,me){if('same'===(0,ce.default)(pe.position.path,ge.position.getParentPath())){var ye=[ge.getReversed(),pe.clone()];return ye[1].operations[1].targetPosition.path[0]++,ye}return(0,P.defaultTransform)(pe,ge,me)}),(0,P.addTransformationCase)(ee.default,z.default,function(pe,ge){var me=[pe.clone()];return ge.range.containsPosition(pe.position)&&me.push(f(pe,ge)),me}),(0,P.addTransformationCase)(re.default,Q.default,function(pe,ge,me){var ye='same'===(0,ce.default)(pe.range.start.getParentPath(),ge.position.getParentPath()),be=pe.range.start.offset<ge.position.offset&&pe.range.end.offset>=ge.position.offset;if(ye&&be)return[ge.getReversed(),pe.clone()];if('same'===(0,ce.default)(ge.position.getParentPath(),pe.range.end.getShiftedBy(-1).path)){var he=pe.clone();return he._insertOperation.position.offset++,he._moveOperation.howMany++,he._moveOperation.targetPosition.path[he._moveOperation.targetPosition.path.length-2]++,[he]}return(0,P.defaultTransform)(pe,ge,me)}),(0,P.addTransformationCase)(ue.default,Q.default,function(pe,ge,me){var ye=new O.default(ge.position.root,ge.position.path.slice(0,-1)),be=(0,P.defaultTransform)(pe,ge,me);if(pe.operations[0].position.isEqual(ye)){var he=pe.clone();he.operations[0].position=pe.operations[0].position.getShiftedBy(1),be.push(he)}return be}),(0,P.addTransformationCase)(Q.default,ue.default,function(pe,ge){pe=pe.clone();var me=new O.default(pe.position.root,pe.position.path.slice(0,-1));return pe._cloneOperation instanceof F.default&&ge.operations[0].position.isEqual(me)&&(pe._cloneOperation.nodes.getNode(0).name=ge.operations[0].newName),[pe]}),(0,P.addTransformationCase)(de.default,Q.default,function(pe,ge,me){var ye=(0,P.defaultTransform)(pe,ge,me),be=ge._cloneOperation.position,he=!0,ve=!1,ke;try{for(var Pe=ye[Symbol.iterator](),we;!(he=(we=Pe.next()).done);he=!0){var xe=we.value,Me=!0,Ce=!1,Oe=void 0;try{for(var Se=xe.operations[Symbol.iterator](),Te;!(Me=(Te=Se.next()).done);Me=!0){var Ae=Te.value,Ee=Ae.sourcePosition.getShiftedBy(Ae.howMany);Ee.isEqual(be)&&(Ae.howMany+=1)}}catch(Ie){Ce=!0,Oe=Ie}finally{try{!Me&&Se.return&&Se.return()}finally{if(Ce)throw Oe}}}}catch(Ie){ve=!0,ke=Ie}finally{try{!he&&Pe.return&&Pe.return()}finally{if(ve)throw ke}}return ye}),(0,P.addTransformationCase)(Q.default,de.default,function(pe,ge,me){ge=ge.clone();var ye=pe._cloneOperation.position,be=!0,he=!1,ve;try{for(var ke=ge.operations[Symbol.iterator](),Pe;!(be=(Pe=ke.next()).done);be=!0){var we=Pe.value,xe=we.sourcePosition.getShiftedBy(we.howMany);xe.isEqual(ye)&&(we.howMany+=1)}}catch(Me){he=!0,ve=Me}finally{try{!be&&ke.return&&ke.return()}finally{if(he)throw ve}}return(0,P.defaultTransform)(pe,ge,me)})},function(r,o,u){'use strict';function s(V){return V&&V.__esModule?V:{default:V}}function d(V,L){if(!(V instanceof L))throw new TypeError('Cannot call a class as a function')}function f(V,L){if(!V)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:V}function h(V,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);V.prototype=Object.create(L&&L.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(V,L):V.__proto__=L)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(V,L,D,q){var z=V.document,$=new N,W=new I.default(L,D,q,z.markers,z.version);V.addDelta($),$.addOperation(W),z.applyOperation(W)}Object.defineProperty(o,'__esModule',{value:!0});var w=function(){function V(L,D){for(var q=0,z;q<D.length;q++)z=D[q],z.enumerable=z.enumerable||!1,z.configurable=!0,'value'in z&&(z.writable=!0),Object.defineProperty(L,z.key,z)}return function(L,D,q){return D&&V(L.prototype,D),q&&V(L,q),L}}(),M=u(20),C=s(M),O=u(17),S=s(O),T=u(16),E=u(112),I=s(E),R=u(0),F=s(R),N=function(V){function L(){return d(this,L),f(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return h(L,V),w(L,[{key:'type',get:function(){return'marker'}},{key:'_reverseDeltaClass',get:function(){return L}}],[{key:'className',get:function(){return'engine.model.delta.MarkerDelta'}}]),L}(C.default);o.default=N,(0,T.register)('setMarker',function(V,L){var D='string'==typeof V?V:V.name,q=this.document.markers.get(D);if(!L&&!q)throw new F.default('batch-setMarker-no-range: Range parameter is required when adding a new marker.');var z=q?q.getRange():null;return L?P(this,D,z,L):P(this,D,null,z),this}),(0,T.register)('removeMarker',function(V){var L='string'==typeof V?V:V.name;if(!this.document.markers.has(L))throw new F.default('batch-removeMarker-no-marker: Trying to remove marker that does not exist.');var D=this.document.markers.get(L).getRange();return P(this,L,D,null),this}),S.default.register(N)},function(r,o,u){'use strict';function s(ie){return ie&&ie.__esModule?ie:{default:ie}}function d(ie,de){if(!(ie instanceof de))throw new TypeError('Cannot call a class as a function')}function f(ie){var de=ie.textNode;if(de){var fe=de.data,ce=ie.offset-de.startOffset;return!(0,ae.isInsideSurrogatePair)(fe,ce)&&!(0,ae.isInsideCombinedSymbol)(fe,ce)}return!0}function h(ie,de){var fe,ce,pe;return regeneratorRuntime.wrap(function(me){for(;;)switch(me.prev=me.next){case 0:fe=!1;case 1:if(fe){me.next=17;break}if(fe=!0,!ie){me.next=9;break}if(ce=ie.next(),ce.done){me.next=9;break}return fe=!1,me.next=9,{walker:ie,value:ce.value};case 9:if(!de){me.next=15;break}if(pe=de.next(),pe.done){me.next=15;break}return fe=!1,me.next=15,{walker:de,value:pe.value};case 15:me.next=1;break;case 17:case'end':return me.stop();}},oe[0],this)}Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function ie(de,fe){for(var ce=0,pe;ce<fe.length;ce++)pe=fe[ce],pe.enumerable=pe.enumerable||!1,pe.configurable=!0,'value'in pe&&(pe.writable=!0),Object.defineProperty(de,pe.key,pe)}return function(de,fe,ce){return fe&&ie(de.prototype,fe),ce&&ie(de,ce),de}}(),w=u(310),M=s(w),C=u(311),O=s(C),S=u(2),T=s(S),E=u(1),I=s(E),R=u(319),F=s(R),N=u(16),V=s(N),L=u(314),D=s(L),q=u(315),z=s(q),$=u(320),W=s($),K=u(34),H=s(K),U=u(316),G=s(U),J=u(95),Z=s(J),Y=u(7),Q=s(Y),X=u(0),ee=s(X),te=u(4),re=s(te),ae=u(276),oe=[h].map(regeneratorRuntime.mark),le='$graveyard',ue=function(){function ie(){var de=this;d(this,ie),this.version=0,this.schema=new W.default,this.history=new D.default(this),this.markers=new G.default,this.selection=new z.default(this),this._pendingChanges=[],this.roots=new Map,this.selection.on('change:range',function(){var fe=!0,ce=!1,pe;try{for(var ge=de.selection.getRanges()[Symbol.iterator](),me,ye;!(fe=(me=ge.next()).done);fe=!0)if(ye=me.value,!de._validateSelectionRange(ye))throw new ee.default('document-selection-wrong-position: Range from document selection starts or ends at incorrect position.',{range:ye})}catch(be){ce=!0,pe=be}finally{try{!fe&&ge.return&&ge.return()}finally{if(ce)throw pe}}}),this.createRoot('$root',le)}return P(ie,[{key:'applyOperation',value:function(fe){if(fe.baseVersion!==this.version)throw new ee.default('model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.',{operation:fe});var ce=fe._execute();this.version++,this.history.addDelta(fe.delta),ce&&this.fire('change',fe.type,ce,fe.delta.batch,fe.delta.type)}},{key:'batch',value:function(fe){return new V.default(this,fe)}},{key:'createRoot',value:function(){var fe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'$root',ce=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'main';if(this.roots.has(ce))throw new ee.default('model-document-createRoot-name-exists: Root with specified name already exists.',{name:ce});var pe=new F.default(this,fe,ce);return this.roots.set(ce,pe),pe}},{key:'destroy',value:function(){this.selection.destroy(),this.stopListening()}},{key:'enqueueChanges',value:function(fe){if(this._pendingChanges.push(fe),1==this._pendingChanges.length){for(;this._pendingChanges.length;)this._pendingChanges[0](),this._pendingChanges.shift();this.fire('changesDone')}}},{key:'getRoot',value:function(){var fe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'main';if(!this.roots.has(fe))throw new ee.default('model-document-getRoot-root-not-exist: Root with specified name does not exist.',{name:fe});return this.roots.get(fe)}},{key:'hasRoot',value:function(fe){return this.roots.has(fe)}},{key:'getRootNames',value:function(){return Array.from(this.roots.keys()).filter(function(fe){return fe!=le})}},{key:'getNearestSelectionRange',value:function(fe){var ce=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'both';if(this.schema.check({name:'$text',inside:fe}))return new T.default(fe);var pe,ge;('both'==ce||'backward'==ce)&&(pe=new H.default({startPosition:fe,direction:'backward'})),('both'==ce||'forward'==ce)&&(ge=new H.default({startPosition:fe}));var me=!0,ye=!1,be;try{for(var he=h(pe,ge)[Symbol.iterator](),ve;!(me=(ve=he.next()).done);me=!0){var ke=ve.value,Pe=ke.walker==pe?'elementEnd':'elementStart',we=ke.value;if(we.type==Pe&&this.schema.objects.has(we.item.name))return T.default.createOn(we.item);if(this.schema.check({name:'$text',inside:we.nextPosition}))return new T.default(we.nextPosition)}}catch(xe){ye=!0,be=xe}finally{try{!me&&he.return&&he.return()}finally{if(ye)throw be}}return null}},{key:'toJSON',value:function(){var fe=(0,Z.default)(this);return fe.selection='[engine.model.LiveSelection]',fe}},{key:'_getDefaultRoot',value:function(){var fe=!0,ce=!1,pe;try{for(var ge=this.roots.values()[Symbol.iterator](),me,ye;!(fe=(me=ge.next()).done);fe=!0)if(ye=me.value,ye!==this.graveyard)return ye}catch(be){ce=!0,pe=be}finally{try{!fe&&ge.return&&ge.return()}finally{if(ce)throw pe}}return this.graveyard}},{key:'_getDefaultRange',value:function(){var fe=this._getDefaultRoot(),ce=new I.default(fe,[0]),pe=this.getNearestSelectionRange(ce);return pe||new T.default(ce)}},{key:'_validateSelectionRange',value:function(fe){return f(fe.start)&&f(fe.end)}},{key:'graveyard',get:function(){return this.getRoot(le)}}]),ie}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=ue,(0,re.default)(ue,Q.default)},function(r,o,u){'use strict';function d(C){if(Array.isArray(C)){for(var O=0,S=Array(C.length);O<C.length;O++)S[O]=C[O];return S}return Array.from(C)}function f(C,O){if(!(C instanceof O))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var h=function(){function C(O,S){for(var T=0,E;T<S.length;T++)E=S[T],E.enumerable=E.enumerable||!1,E.configurable=!0,'value'in E&&(E.writable=!0),Object.defineProperty(O,E.key,E)}return function(O,S,T){return S&&C(O.prototype,S),T&&C(O,T),O}}(),P=u(0),w=function(C){return C&&C.__esModule?C:{default:C}}(P),M=function(){function C(){f(this,C),this._deltas=[],this._historyPoints=new Map}return h(C,[{key:'addDelta',value:function(S){if(0<S.operations.length&&!this._historyPoints.has(S.baseVersion)){var T=this._deltas.length;this._deltas[T]=S,this._historyPoints.set(S.baseVersion,T)}}},{key:'getDeltas',value:regeneratorRuntime.mark(function O(){var S=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,T=1<arguments.length&&void 0!==arguments[1]?arguments[1]:_NumberPOSITIVE_INFINITY,E,I;return regeneratorRuntime.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(0!==this._deltas.length){F.next=2;break}return F.abrupt('return');case 2:if(E=this._getIndex(S),-1!=E){F.next=5;break}return F.abrupt('return');case 5:if(!(E<this._deltas.length)){F.next=13;break}if(I=this._deltas[E++],!(I.baseVersion>=T)){F.next=9;break}return F.abrupt('break',13);case 9:return F.next=11,I;case 11:F.next=5;break;case 13:case'end':return F.stop();}},O,this)})},{key:'getDelta',value:function(S){var T=this._historyPoints.get(S);if(void 0===T)return null;var E=[];for(T;T<this._deltas.length;T++){var I=this._deltas[T];if(I.baseVersion!=S)break;E.push(I)}return 0===E.length?null:E}},{key:'removeDelta',value:function(S){this.updateDelta(S,[])}},{key:'updateDelta',value:function(S,T){var I=this.getDelta(S),E;if(null!==I){var R=!0,F=!1,N;try{for(var V=T[Symbol.iterator](),L,D;!(R=(L=V.next()).done);R=!0)D=L.value,D.baseVersion=S}catch(G){F=!0,N=G}finally{try{!R&&V.return&&V.return()}finally{if(F)throw N}}(E=this._deltas).splice.apply(E,[this._getIndex(S),I.length].concat(d(T)));var q=T.length-I.length,z=!0,$=!1,W;try{for(var K=this._historyPoints.keys()[Symbol.iterator](),H,U;!(z=(H=K.next()).done);z=!0)U=H.value,U>S&&this._historyPoints.set(U,this._historyPoints.get(U)+q)}catch(G){$=!0,W=G}finally{try{!z&&K.return&&K.return()}finally{if($)throw W}}}}},{key:'_getIndex',value:function(S){var T=this._historyPoints.get(S);if(void 0===T){var E=this._deltas[this._deltas.length-1],I=E.baseVersion+E.operations.length;if(0>S||S>=I)return-1;throw new w.default('model-history-wrong-version: Given base version points to the middle of a delta.')}return T}}]),C}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=M},function(r,o,u){'use strict';function s(Y){return Y&&Y.__esModule?Y:{default:Y}}function d(Y,Q){if(!(Y instanceof Q))throw new TypeError('Cannot call a class as a function')}function f(Y,Q){if(!Y)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return Q&&('object'==typeof Q||'function'==typeof Q)?Q:Y}function h(Y,Q){if('function'!=typeof Q&&null!==Q)throw new TypeError('Super expression must either be null or a function, not '+typeof Q);Y.prototype=Object.create(Q&&Q.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,Q):Y.__proto__=Q)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(Y){return Y instanceof L.default||Y instanceof N.default?Y.getAttributes():null}Object.defineProperty(o,'__esModule',{value:!0});var w=function(){function Y(Q,X){var ee=[],te=!0,re=!1,ae;try{for(var oe=Q[Symbol.iterator](),le;!(te=(le=oe.next()).done)&&(ee.push(le.value),!(X&&ee.length===X));te=!0);}catch(ue){re=!0,ae=ue}finally{try{!te&&oe['return']&&oe['return']()}finally{if(re)throw ae}}return ee}return function(Q,X){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return Y(Q,X);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),M=function(){function Y(Q,X){for(var ee=0,te;ee<X.length;ee++)te=X[ee],te.enumerable=te.enumerable||!1,te.configurable=!0,'value'in te&&(te.writable=!0),Object.defineProperty(Q,te.key,te)}return function(Q,X,ee){return X&&Y(Q.prototype,X),ee&&Y(Q,ee),Q}}(),C=function Y(Q,X,ee){null===Q&&(Q=Function.prototype);var te=Object.getOwnPropertyDescriptor(Q,X);if(te===void 0){var re=Object.getPrototypeOf(Q);return null===re?void 0:Y(re,X,ee)}if('value'in te)return te.value;var ae=te.get;return void 0===ae?void 0:ae.call(ee)},O=u(1),S=s(O),T=u(2),E=s(T),I=u(111),R=s(I),F=u(24),N=s(F),V=u(61),L=s(V),D=u(152),q=s(D),z=u(0),$=s(z),W=u(57),K=s(W),H=u(60),U=s(H),G='selection:',J=new Set(['addAttribute','removeAttribute','changeAttribute','addRootAttribute','removeRootAttribute','changeRootAttribute']),Z=function(Y){function Q(X){d(this,Q);var ee=f(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this));return ee._document=X,ee._attributePriority=new Map,ee.listenTo(ee._document,'change',function(te,re){J.has(re)&&ee._updateAttributes(!1)}),ee}return h(Q,Y),M(Q,[{key:'destroy',value:function(){for(var ee=0;ee<this._ranges.length;ee++)this._ranges[ee].detach();this.stopListening()}},{key:'getRanges',value:regeneratorRuntime.mark(function X(){return regeneratorRuntime.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(!this._ranges.length){te.next=4;break}return te.delegateYield(C(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),'getRanges',this).call(this),'t0',2);case 2:te.next=6;break;case 4:return te.next=6,this._document._getDefaultRange();case 6:case'end':return te.stop();}},X,this)})},{key:'getFirstRange',value:function(){return C(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),'getFirstRange',this).call(this)||this._document._getDefaultRange()}},{key:'getLastRange',value:function(){return C(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),'getLastRange',this).call(this)||this._document._getDefaultRange()}},{key:'addRange',value:function(ee){var te=1<arguments.length&&void 0!==arguments[1]&&arguments[1];C(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),'addRange',this).call(this,ee,te),this.refreshAttributes()}},{key:'removeAllRanges',value:function(){C(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),'removeAllRanges',this).call(this),this.refreshAttributes()}},{key:'setRanges',value:function(ee){var te=1<arguments.length&&void 0!==arguments[1]&&arguments[1];C(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),'setRanges',this).call(this,ee,te),this.refreshAttributes()}},{key:'setAttribute',value:function(ee,te){if(this.isCollapsed&&0===this.anchor.parent.childCount&&this._storeAttribute(ee,te),this._setAttribute(ee,te)){this.fire('change:attribute',{attributeKeys:[ee],directChange:!0})}}},{key:'removeAttribute',value:function(ee){if(this.isCollapsed&&0===this.anchor.parent.childCount&&this._removeStoredAttribute(ee),this._removeAttribute(ee)){this.fire('change:attribute',{attributeKeys:[ee],directChange:!0})}}},{key:'setAttributesTo',value:function(ee){ee=(0,q.default)(ee),this.isCollapsed&&0===this.anchor.parent.childCount&&this._setStoredAttributesTo(ee);var te=this._setAttributesTo(ee);if(0<te.size){var re=Array.from(te);this.fire('change:attribute',{attributeKeys:re,directChange:!0})}}},{key:'clearAttributes',value:function(){this.setAttributesTo([])}},{key:'refreshAttributes',value:function(){this._updateAttributes(!0)}},{key:'_popRange',value:function(){this._ranges.pop().detach()}},{key:'_pushRange',value:function(ee){var te=this._prepareRange(ee);te&&this._ranges.push(te)}},{key:'_prepareRange',value:function(ee){var te=this;if(!(ee instanceof E.default))throw new $.default('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');if(ee.root==this._document.graveyard)return void K.default.warn('model-selection-range-in-graveyard: Trying to add a Range that is in the graveyard root. Range rejected.');this._checkRange(ee);var re=R.default.createFromRange(ee);return this.listenTo(re,'change',function(ae,oe){re.root==te._document.graveyard&&te._fixGraveyardSelection(re,oe),te.fire('change:range',{directChange:!1})}),re}},{key:'_updateAttributes',value:function(ee){var te=(0,q.default)(this._getSurroundingAttributes()),re=(0,q.default)(this.getAttributes());if(ee)this._attributePriority=new Map,this._attrs=new Map;else{var ae=!0,oe=!1,le;try{for(var ue=this._attributePriority[Symbol.iterator](),ie;!(ae=(ie=ue.next()).done);ae=!0){var de=ie.value,fe=w(de,2),ce=fe[0],pe=fe[1];'low'==pe&&(this._attrs.delete(ce),this._attributePriority.delete(ce))}}catch(Re){oe=!0,le=Re}finally{try{!ae&&ue.return&&ue.return()}finally{if(oe)throw le}}}this._setAttributesTo(te,!1);var ge=[],me=!0,ye=!1,be;try{for(var he=this.getAttributes()[Symbol.iterator](),ve;!(me=(ve=he.next()).done);me=!0){var ke=ve.value,Pe=w(ke,2),we=Pe[0],xe=Pe[1];re.has(we)&&re.get(we)===xe||ge.push(we)}}catch(Re){ye=!0,be=Re}finally{try{!me&&he.return&&he.return()}finally{if(ye)throw be}}var Me=!0,Ce=!1,Oe;try{for(var Se=re[Symbol.iterator](),Te;!(Me=(Te=Se.next()).done);Me=!0){var Ae=Te.value,Ee=w(Ae,1),Ie=Ee[0];this.hasAttribute(Ie)||ge.push(Ie)}}catch(Re){Ce=!0,Oe=Re}finally{try{!Me&&Se.return&&Se.return()}finally{if(Ce)throw Oe}}0<ge.length&&this.fire('change:attribute',{attributeKeys:ge,directChange:!1})}},{key:'_setAttribute',value:function(ee,te){var re=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0,ae=re?'normal':'low';if('low'==ae&&'normal'==this._attributePriority.get(ee))return!1;var oe=C(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),'getAttribute',this).call(this,ee);return oe!==te&&(this._attrs.set(ee,te),this._attributePriority.set(ee,ae),!0)}},{key:'_removeAttribute',value:function(ee){var te=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,re=te?'normal':'low';return'low'==re&&'normal'==this._attributePriority.get(ee)?!1:!!C(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),'hasAttribute',this).call(this,ee)&&(this._attrs.delete(ee),this._attributePriority.set(ee,re),!0)}},{key:'_setAttributesTo',value:function(ee){var te=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,re=new Set,ae=!0,oe=!1,le;try{for(var ue=this.getAttributes()[Symbol.iterator](),ie;!(ae=(ie=ue.next()).done);ae=!0){var de=ie.value,fe=w(de,2),ce=fe[0],pe=fe[1];ee.get(ce)!==pe&&this._removeAttribute(ce,te)&&re.add(ce)}}catch(Me){oe=!0,le=Me}finally{try{!ae&&ue.return&&ue.return()}finally{if(oe)throw le}}var ge=!0,me=!1,ye;try{for(var be=ee[Symbol.iterator](),he;!(ge=(he=be.next()).done);ge=!0){var ve=he.value,ke=w(ve,2),Pe=ke[0],we=ke[1],xe=this._setAttribute(Pe,we,te);xe&&re.add(Pe)}}catch(Me){me=!0,ye=Me}finally{try{!ge&&be.return&&be.return()}finally{if(me)throw ye}}return re}},{key:'_getStoredAttributes',value:regeneratorRuntime.mark(function X(){var ee,te,re,ae,oe,le,ue,ie;return regeneratorRuntime.wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(ee=this.getFirstPosition().parent,!(this.isCollapsed&&0===ee.childCount)){fe.next=30;break}te=!0,re=!1,ae=void 0,fe.prev=5,oe=ee.getAttributeKeys()[Symbol.iterator]();case 7:if(te=(le=oe.next()).done){fe.next=16;break}if(ue=le.value,0!==ue.indexOf(G)){fe.next=13;break}return ie=ue.substr(G.length),fe.next=13,[ie,ee.getAttribute(ue)];case 13:te=!0,fe.next=7;break;case 16:fe.next=22;break;case 18:fe.prev=18,fe.t0=fe['catch'](5),re=!0,ae=fe.t0;case 22:fe.prev=22,fe.prev=23,!te&&oe.return&&oe.return();case 25:if(fe.prev=25,!re){fe.next=28;break}throw ae;case 28:return fe.finish(25);case 29:return fe.finish(22);case 30:case'end':return fe.stop();}},X,this,[[5,18,22,30],[23,,25,29]])})},{key:'_removeStoredAttribute',value:function(ee){var te=Q._getStoreAttributeKey(ee);this._document.batch().removeAttribute(this.anchor.parent,te)}},{key:'_storeAttribute',value:function(ee,te){var re=Q._getStoreAttributeKey(ee);this._document.batch().setAttribute(this.anchor.parent,re,te)}},{key:'_setStoredAttributesTo',value:function(ee){var te=this.anchor.parent,re=this._document.batch(),ae=!0,oe=!1,le;try{for(var ue=this._getStoredAttributes()[Symbol.iterator](),ie;!(ae=(ie=ue.next()).done);ae=!0){var de=ie.value,fe=w(de,1),ce=fe[0],pe=Q._getStoreAttributeKey(ce);re.removeAttribute(te,pe)}}catch(xe){oe=!0,le=xe}finally{try{!ae&&ue.return&&ue.return()}finally{if(oe)throw le}}var ge=!0,me=!1,ye;try{for(var be=ee[Symbol.iterator](),he;!(ge=(he=be.next()).done);ge=!0){var ve=he.value,ke=w(ve,2),Pe=ke[0],we=ke[1],pe=Q._getStoreAttributeKey(Pe);re.setAttribute(te,pe,we)}}catch(xe){me=!0,ye=xe}finally{try{!ge&&be.return&&be.return()}finally{if(me)throw ye}}}},{key:'_getSurroundingAttributes',value:function(){var ee=this.getFirstPosition(),te=null;if(!this.isCollapsed){var re=this.getFirstRange(),ae=!0,oe=!1,le;try{for(var ue=re[Symbol.iterator](),ie,de;!(ae=(ie=ue.next()).done);ae=!0)de=ie.value,'text'==de.type&&null==te&&(te=de.item.getAttributes())}catch(me){oe=!0,le=me}finally{try{!ae&&ue.return&&ue.return()}finally{if(oe)throw le}}}else{var fe=ee.textNode?ee.textNode:ee.nodeBefore,ce=ee.textNode?ee.textNode:ee.nodeAfter;if(te=P(fe),te||(te=P(ce)),!te)for(var pe=fe;pe&&!te;)pe=pe.previousSibling,te=P(pe);if(!te)for(var ge=ce;ge&&!te;)ge=ge.nextSibling,te=P(ge);te||(te=this._getStoredAttributes())}return te}},{key:'_fixGraveyardSelection',value:function(ee,te){var re=ee.start.path,ae=te.start.path.length-(re.length-2),oe=te.start.path.slice(0,ae);oe[oe.length-1]-=re[1];var le=new S.default(te.root,oe),ue=this._document.getNearestSelectionRange(le);ue||(ue=new E.default(new S.default(le.root,[0])));var ie=this._prepareRange(ue),de=this._ranges.indexOf(ee);ee.detach(),this._ranges.splice(de,1,ie)}},{key:'isCollapsed',get:function(){var ee=this._ranges.length;return 0===ee||C(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),'isCollapsed',this)}},{key:'anchor',get:function(){return C(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),'anchor',this)||this._document._getDefaultRange().start}},{key:'focus',get:function(){return C(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),'focus',this)||this._document._getDefaultRange().start}},{key:'rangeCount',get:function(){return this._ranges.length?this._ranges.length:1}}],[{key:'createFromSelection',value:function(ee){var te=new this(ee._document);return te.setTo(ee),te}},{key:'_getStoreAttributeKey',value:function(ee){return G+ee}}]),Q}(U.default);o.default=Z},function(r,o,u){'use strict';function s(L){return L&&L.__esModule?L:{default:L}}function d(L,D){if(!(L instanceof D))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function L(D,q){for(var z=0,$;z<q.length;z++)$=q[z],$.enumerable=$.enumerable||!1,$.configurable=!0,'value'in $&&($.writable=!0),Object.defineProperty(D,$.key,$)}return function(D,q,z){return q&&L(D.prototype,q),z&&L(D,z),D}}(),h=u(111),P=s(h),w=u(1),M=s(w),C=u(2),O=s(C),S=u(7),T=s(S),E=u(0),I=s(E),R=u(4),F=s(R),N=function(){function L(){d(this,L),this._markers=new Map}return f(L,[{key:Symbol.iterator,value:function(){return this._markers.values()}},{key:'has',value:function(q){return this._markers.has(q)}},{key:'get',value:function(q){return this._markers.get(q)||null}},{key:'set',value:function(q,z){var $=q instanceof V?q.name:q,W=this._markers.get($);if(W){var K=W.getRange();if(K.isEqual(z))return W;this.remove($)}var H=P.default.createFromRange(z),U=new V($,H);return this._markers.set($,U),this.fire('add',U),U}},{key:'remove',value:function(q){var z=q instanceof V?q.name:q,$=this._markers.get(z);return!!$&&(this._markers.delete(z),this.fire('remove',$),this._destroyMarker($),!0)}},{key:'getMarkersAtPosition',value:regeneratorRuntime.mark(function D(q){var z,$,W,K,H,U;return regeneratorRuntime.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:z=!0,$=!1,W=void 0,J.prev=3,K=this[Symbol.iterator]();case 5:if(z=(H=K.next()).done){J.next=13;break}if(U=H.value,!U.getRange().containsPosition(q)){J.next=10;break}return J.next=10,U;case 10:z=!0,J.next=5;break;case 13:J.next=19;break;case 15:J.prev=15,J.t0=J['catch'](3),$=!0,W=J.t0;case 19:J.prev=19,J.prev=20,!z&&K.return&&K.return();case 22:if(J.prev=22,!$){J.next=25;break}throw W;case 25:return J.finish(22);case 26:return J.finish(19);case 27:case'end':return J.stop();}},D,this,[[3,15,19,27],[20,,22,26]])})},{key:'destroy',value:function(){var q=!0,z=!1,$;try{for(var W=this._markers.values()[Symbol.iterator](),K,H;!(q=(K=W.next()).done);q=!0)H=K.value,this._destroyMarker(H)}catch(U){z=!0,$=U}finally{try{!q&&W.return&&W.return()}finally{if(z)throw $}}this._markers=null,this.stopListening()}},{key:'getMarkersGroup',value:regeneratorRuntime.mark(function D(q){var z,$,W,K,H,U;return regeneratorRuntime.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:z=!0,$=!1,W=void 0,J.prev=3,K=this._markers.values()[Symbol.iterator]();case 5:if(z=(H=K.next()).done){J.next=13;break}if(U=H.value,!U.name.startsWith(q+':')){J.next=10;break}return J.next=10,U;case 10:z=!0,J.next=5;break;case 13:J.next=19;break;case 15:J.prev=15,J.t0=J['catch'](3),$=!0,W=J.t0;case 19:J.prev=19,J.prev=20,!z&&K.return&&K.return();case 22:if(J.prev=22,!$){J.next=25;break}throw W;case 25:return J.finish(22);case 26:return J.finish(19);case 27:case'end':return J.stop();}},D,this,[[3,15,19,27],[20,,22,26]])})},{key:'_destroyMarker',value:function(q){q.stopListening(),q._liveRange.detach(),q._liveRange=null}}]),L}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=N,(0,F.default)(N,T.default);var V=function(){function L(D,q){d(this,L),this.name=D,this._liveRange=q,this._liveRange.delegate('change').to(this)}return f(L,[{key:'getStart',value:function(){if(!this._liveRange)throw new I.default('marker-destroyed: Operating on destroyed marker instance.');return M.default.createFromPosition(this._liveRange.start)}},{key:'getEnd',value:function(){if(!this._liveRange)throw new I.default('marker-destroyed: Operating on destroyed marker instance.');return M.default.createFromPosition(this._liveRange.end)}},{key:'getRange',value:function(){if(!this._liveRange)throw new I.default('marker-destroyed: Operating on destroyed marker instance.');return O.default.createFromRange(this._liveRange)}}]),L}();(0,F.default)(V,T.default)},function(r,o,u){'use strict';function s(U){return U&&U.__esModule?U:{default:U}}function d(U,G){if(!(U instanceof G))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function U(G,J){for(var Z=0,Y;Z<J.length;Z++)Y=J[Z],Y.enumerable=Y.enumerable||!1,Y.configurable=!0,'value'in Y&&(Y.writable=!0),Object.defineProperty(G,Y.key,Y)}return function(G,J,Z){return J&&U(G.prototype,J),Z&&U(G,Z),G}}(),h=u(72),P=s(h),w=u(37),M=s(w),C=u(112),O=s(C),S=u(28),T=s(S),E=u(73),I=s(E),R=u(33),F=s(R),N=u(113),V=s(N),L=u(38),D=s(L),q=u(114),z=s(q),$=u(115),W=s($),K={};/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */K[P.default.className]=P.default,K[M.default.className]=M.default,K[O.default.className]=O.default,K[T.default.className]=T.default,K[I.default.className]=I.default,K[F.default.className]=F.default,K[V.default.className]=V.default,K[D.default.className]=D.default,K[z.default.className]=z.default,K[W.default.className]=W.default;var H=function(){function U(){d(this,U)}return f(U,null,[{key:'fromJSON',value:function(J,Z){return K[J.__className].fromJSON(J,Z)}}]),U}();o.default=H},function(r,o,u){'use strict';function s(J){return J&&J.__esModule?J:{default:J}}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function f(J){return[J.clone()]}function h(J,Z){for(var Y=0;Y<Z.length;Y++)Z[Y].baseVersion=J+Y+1;return Z}function P(J,Z){return null===J.targetPosition._getTransformedByDeletion(Z.sourcePosition,Z.howMany)}function w(J){return 0===J.length?null:1==J.length?J[0]:(J[0].end=J[J.length-1].end,J[0])}Object.defineProperty(o,'__esModule',{value:!0});var M=u(37),C=s(M),O=u(72),S=s(O),T=u(115),E=s(T),I=u(114),R=s(I),F=u(112),N=s(F),V=u(28),L=s(V),D=u(38),q=s(D),z=u(73),$=s(z),W=u(2),K=s(W),H=u(51),U=s(H);o.default=function(J,Z,Y){var Q,X;J instanceof C.default?Q=G.InsertOperation:J instanceof S.default?Q=G.AttributeOperation:J instanceof E.default?Q=G.RootAttributeOperation:J instanceof R.default?Q=G.RenameOperation:J instanceof N.default?Q=G.MarkerOperation:J instanceof L.default?Q=G.MoveOperation:X=f,Q&&(Z instanceof C.default?X=Q.InsertOperation:Z instanceof S.default?X=Q.AttributeOperation:Z instanceof E.default?X=Q.RootAttributeOperation:Z instanceof R.default?X=Q.RenameOperation:Z instanceof N.default?X=Q.MarkerOperation:Z instanceof L.default?X=Q.MoveOperation:X=f);var ee=X(J,Z,Y);return h(J.baseVersion,ee)};var G={InsertOperation:{InsertOperation:function(Z,Y,Q){var X=Z.clone();return X.position=X.position._getTransformedByInsertion(Y.position,Y.nodes.maxOffset,!Q),[X]},AttributeOperation:f,RootAttributeOperation:f,RenameOperation:f,MarkerOperation:f,MoveOperation:function(Z,Y,Q){var X=Z.clone();return X.position=Z.position._getTransformedByMove(Y.sourcePosition,Y.targetPosition,Y.howMany,!Q,Y.isSticky),[X]}},AttributeOperation:{InsertOperation:function(Z,Y){var Q=Z.range._getTransformedByInsertion(Y.position,Y.nodes.maxOffset,!0,!1);return Q.reverse().map(function(X){return new S.default(X,Z.key,Z.oldValue,Z.newValue,Z.baseVersion)})},AttributeOperation:function(Z,Y,Q){if(Z.key===Y.key){var X=Z.range.getDifference(Y.range).map(function(te){return new S.default(te,Z.key,Z.oldValue,Z.newValue,Z.baseVersion)}),ee=Z.range.getIntersection(Y.range);return ee&&(Q?X.push(new S.default(ee,Y.key,Y.newValue,Z.newValue,Z.baseVersion)):0===X.length&&X.push(new $.default(0))),X}return[Z.clone()]},RootAttributeOperation:f,RenameOperation:f,MarkerOperation:f,MoveOperation:function(Z,Y){var Q=K.default.createFromPositionAndShift(Y.sourcePosition,Y.howMany),X=[];Y instanceof q.default&&Y._needsHolderElement&&Z.range.root==Y.targetPosition.root&&Z.range.start.path[0]>=Y._holderElementOffset&&(Z=Z.clone(),Z.range.start.path[0]++,Z.range.end.path[0]++);var ee=w(Z.range.getDifference(Q)),te=Z.range.getIntersection(Q);return null!==ee&&(ee.start=ee.start._getTransformedByDeletion(Y.sourcePosition,Y.howMany),ee.end=ee.end._getTransformedByDeletion(Y.sourcePosition,Y.howMany),X=ee._getTransformedByInsertion(Y.getMovedRangeStart(),Y.howMany,!0,!1).reverse()),null!==te&&(te.start=te.start._getCombined(Y.sourcePosition,Y.getMovedRangeStart()),te.end=te.end._getCombined(Y.sourcePosition,Y.getMovedRangeStart()),X.push(te)),X.map(function(re){return new S.default(re,Z.key,Z.oldValue,Z.newValue,Z.baseVersion)})}},RootAttributeOperation:{InsertOperation:f,AttributeOperation:f,RootAttributeOperation:function(Z,Y,Q){return Z.root!==Y.root||Z.key!==Y.key||(Z.newValue===Y.newValue||Q)&&Z.newValue!==Y.newValue?[Z.clone()]:[new $.default(Z.baseVersion)]},RenameOperation:f,MarkerOperation:f,MoveOperation:f},RenameOperation:{InsertOperation:function(Z,Y){var Q=Z.clone();return Q.position=Q.position._getTransformedByInsertion(Y.position,Y.nodes.maxOffset,!0),[Q]},AttributeOperation:f,RootAttributeOperation:f,RenameOperation:function(Z,Y,Q){var X=Z.clone();if(Z.position.isEqual(Y.position))if(Q)X.oldName=Y.newName;else return[new $.default(Z.baseVersion)];return[X]},MarkerOperation:f,MoveOperation:function(Z,Y){var Q=Z.clone(),X=Q.position.isEqual(Y.sourcePosition);return Q.position=Q.position._getTransformedByMove(Y.sourcePosition,Y.targetPosition,Y.howMany,!0,X),[Q]}},MarkerOperation:{InsertOperation:function(Z,Y){var Q=Z.clone();return Q.oldRange&&(Q.oldRange=Q.oldRange._getTransformedByInsertion(Y.position,Y.nodes.maxOffset,!1,!1)[0]),Q.newRange&&(Q.newRange=Q.newRange._getTransformedByInsertion(Y.position,Y.nodes.maxOffset,!1,!1)[0]),[Q]},AttributeOperation:f,RootAttributeOperation:f,RenameOperation:f,MarkerOperation:function(Z,Y,Q){var X=Z.clone();if(Z.name==Y.name)if(Q)X.oldRange=Y.newRange;else return[new $.default(Z.baseVersion)];return[X]},MoveOperation:function(Z,Y){var Q=Z.clone();if(Q.oldRange){var X=Q.oldRange._getTransformedByMove(Y.sourcePosition,Y.targetPosition,Y.howMany);Q.oldRange=K.default.createFromRanges(X)}if(Q.newRange){var ee=Q.newRange._getTransformedByMove(Y.sourcePosition,Y.targetPosition,Y.howMany);Q.newRange=K.default.createFromRanges(ee)}return[Q]}},MoveOperation:{InsertOperation:function(Z,Y,Q){var X=K.default.createFromPositionAndShift(Z.sourcePosition,Z.howMany);X=X._getTransformedByInsertion(Y.position,Y.nodes.maxOffset,!1,Z.isSticky)[0];var ee=new Z.constructor(X.start,X.end.offset-X.start.offset,Z instanceof q.default?Z.baseVersion:Z.targetPosition._getTransformedByInsertion(Y.position,Y.nodes.maxOffset,!Q),Z instanceof q.default?void 0:Z.baseVersion);return ee.isSticky=Z.isSticky,ee._holderElementOffset=Z._holderElementOffset,[ee]},AttributeOperation:f,RootAttributeOperation:f,RenameOperation:f,MarkerOperation:f,MoveOperation:function(Z,Y,Q){if(P(Z,Y)&&P(Y,Z))return[Y.getReversed()];if(Z instanceof q.default&&Y instanceof q.default){var X=Z.targetPosition.path[0],ee=Y.targetPosition.path[0];X>=ee&&Q&&(Z=Z.clone(),Z.targetPosition.path[0]++)}Z instanceof q.default&&!(Y instanceof q.default)?Q=!0:!(Z instanceof q.default)&&Y instanceof q.default&&(Q=!1);var te=K.default.createFromPositionAndShift(Z.sourcePosition,Z.howMany),re=K.default.createFromPositionAndShift(Y.sourcePosition,Y.howMany),ae=[],oe=w(te.getDifference(re));oe&&(oe.start=oe.start._getTransformedByMove(Y.sourcePosition,Y.targetPosition,Y.howMany,!Z.isSticky,!1),oe.end=oe.end._getTransformedByMove(Y.sourcePosition,Y.targetPosition,Y.howMany,Z.isSticky,!1),ae.push(oe));var le=te.getIntersection(re),ue=(0,U.default)(Z.sourcePosition.getParentPath(),Y.sourcePosition.getParentPath()),ie=te.containsPosition(Y.targetPosition)||te.start.isEqual(Y.targetPosition)&&Z.isSticky||te.end.isEqual(Y.targetPosition)&&Z.isSticky,de=re.containsRange(te)&&(re.containsPosition(Z.targetPosition)||re.start.isEqual(Z.targetPosition)||re.end.isEqual(Z.targetPosition));if(null!==le&&('extension'===ue||'same'===ue&&Q||de)&&!ie&&(le.start=le.start._getCombined(Y.sourcePosition,Y.getMovedRangeStart()),le.end=le.end._getCombined(Y.sourcePosition,Y.getMovedRangeStart()),oe&&te.start.isBefore(re.start)?ae.push(le):ae.unshift(le)),0===ae.length)return Z instanceof q.default?(Z=Z.clone(),Z.howMany=0,Z.sourcePosition=Y.targetPosition,[Z]):[new $.default(Z.baseVersion)];var fe=Z.targetPosition._getTransformedByMove(Y.sourcePosition,Y.targetPosition,Y.howMany,!Q,Y.isSticky||de);return ae.reverse().map(function(ce){var pe=new Z.constructor(ce.start,ce.end.offset-ce.start.offset,Z instanceof q.default?Z.baseVersion:fe,Z instanceof q.default?void 0:Z.baseVersion);return pe.isSticky=Z.isSticky,pe._holderElementOffset=Z._holderElementOffset,pe})}}}},function(r,o,u){'use strict';function d(S,T){if(!(S instanceof T))throw new TypeError('Cannot call a class as a function')}function f(S,T){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return T&&('object'==typeof T||'function'==typeof T)?T:S}function h(S,T){if('function'!=typeof T&&null!==T)throw new TypeError('Super expression must either be null or a function, not '+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function S(T,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}return function(T,E,I){return E&&S(T.prototype,E),I&&S(T,I),T}}(),w=function S(T,E,I){null===T&&(T=Function.prototype);var R=Object.getOwnPropertyDescriptor(T,E);if(R===void 0){var F=Object.getPrototypeOf(T);return null===F?void 0:S(F,E,I)}if('value'in R)return R.value;var N=R.get;return void 0===N?void 0:N.call(I)},M=u(5),C=function(S){return S&&S.__esModule?S:{default:S}}(M),O=function(S){function T(E,I){var R=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'main';d(this,T);var F=f(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,I));return F._doc=E,F.rootName=R,F}return h(T,S),P(T,[{key:'is',value:function(I,R){return R?'rootElement'==I&&R==this.name||w(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),'is',this).call(this,I,R):'rootElement'==I||w(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),'is',this).call(this,I)}},{key:'toJSON',value:function(){return this.rootName}},{key:'document',get:function(){return this._doc}}]),T}(C.default);o.default=O},function(r,o,u){'use strict';function s(D){return D&&D.__esModule?D:{default:D}}function d(D,q){if(!(D instanceof q))throw new TypeError('Cannot call a class as a function')}function f(D,q,z){for(var $=z.length-1,W=q.length-1,K;0<=$&&0<=W;){if(K=q[W],!D.hasItem(K))return!1;var H=D._extensionChains.get(K);if(H.includes(z[$]))$--,W--;else return!1}return!0}Object.defineProperty(o,'__esModule',{value:!0}),o.SchemaItem=void 0;var h=function(){function D(q,z){for(var $=0,W;$<z.length;$++)W=z[$],W.enumerable=W.enumerable||!1,W.configurable=!0,'value'in W&&(W.writable=!0),Object.defineProperty(q,W.key,W)}return function(q,z,$){return z&&D(q.prototype,z),$&&D(q,$),q}}(),P=u(1),w=s(P),M=u(5),C=s(M),O=u(95),S=s(O),T=u(11),E=s(T),I=u(149),R=s(I),F=u(0),N=s(F),V=function(){function D(){d(this,D),this.objects=new Set,this.limits=new Set,this._items=new Map,this._extensionChains=new Map,this.registerItem('$root'),this.registerItem('$block'),this.registerItem('$inline'),this.registerItem('$text','$inline'),this.allow({name:'$block',inside:'$root'}),this.allow({name:'$inline',inside:'$block'}),this.registerItem('$clipboardHolder','$root'),this.allow({name:'$inline',inside:'$clipboardHolder'})}return h(D,[{key:'allow',value:function(z){this._getItem(z.name).allow(D._normalizeQueryPath(z.inside),z.attributes)}},{key:'disallow',value:function(z){this._getItem(z.name).disallow(D._normalizeQueryPath(z.inside),z.attributes)}},{key:'requireAttributes',value:function(z,$){this._getItem(z).requireAttributes($)}},{key:'check',value:function(z){var $=this;if(!this.hasItem(z.name))return!1;(0,E.default)(z.attributes)?0===z.attributes.length&&z.attributes.push(void 0):z.attributes=[z.attributes];var W=D._normalizeQueryPath(z.inside),K=this._extensionChains.get(z.name).map(function(ve){return $._getItem(ve)});if(!this._getItem(z.name)._checkRequiredAttributes(z.attributes))return!1;var H=!0,U=!1,G;try{for(var J=z.attributes[Symbol.iterator](),Z;!(H=(Z=J.next()).done);H=!0){var Y=Z.value,Q=!0,X=!1,ee=void 0;try{for(var te=K[Symbol.iterator](),re,ae;!(Q=(re=te.next()).done);Q=!0)if(ae=re.value,ae._hasMatchingPath('disallow',W,Y))return!1}catch(ve){X=!0,ee=ve}finally{try{!Q&&te.return&&te.return()}finally{if(X)throw ee}}}}catch(ve){U=!0,G=ve}finally{try{!H&&J.return&&J.return()}finally{if(U)throw G}}var oe=!0,le=!1,ue;try{for(var ie=z.attributes[Symbol.iterator](),de;!(oe=(de=ie.next()).done);oe=!0){var fe=de.value,ce=!1,pe=!0,ge=!1,me=void 0;try{for(var ye=K[Symbol.iterator](),be,he;!(pe=(be=ye.next()).done);pe=!0)if(he=be.value,he._hasMatchingPath('allow',W,fe)){ce=!0;break}}catch(ve){ge=!0,me=ve}finally{try{!pe&&ye.return&&ye.return()}finally{if(ge)throw me}}if(!ce)return!1}}catch(ve){le=!0,ue=ve}finally{try{!oe&&ie.return&&ie.return()}finally{if(le)throw ue}}return!0}},{key:'hasItem',value:function(z){return this._items.has(z)}},{key:'registerItem',value:function(z,$){if(this.hasItem(z))throw new N.default('model-schema-item-exists: Item with specified name already exists in schema.');if(!!$&&!this.hasItem($))throw new N.default('model-schema-no-item: Item with specified name does not exist in schema.');this._items.set(z,new L(this));var W=this.hasItem($)?this._extensionChains.get($).concat(z):[z];this._extensionChains.set(z,W)}},{key:'itemExtends',value:function(z,$){if(!this.hasItem(z)||!this.hasItem($))throw new N.default('model-schema-no-item: Item with specified name does not exist in schema.');var W=this._extensionChains.get(z);return W.some(function(K){return K==$})}},{key:'_getItem',value:function(z){if(!this.hasItem(z))throw new N.default('model-schema-no-item: Item with specified name does not exist in schema.');return this._items.get(z)}}],[{key:'_normalizeQueryPath',value:function(z){var $=[];if((0,E.default)(z)){var W=!0,K=!1,H;try{for(var U=z[Symbol.iterator](),G,J;!(W=(G=U.next()).done);W=!0)J=G.value,J instanceof C.default?$.push(J.name):(0,R.default)(J)&&$.push(J)}catch(Y){K=!0,H=Y}finally{try{!W&&U.return&&U.return()}finally{if(K)throw H}}}else if(z instanceof w.default){for(var Z=z.parent;null!==Z;)$.push(Z.name),Z=Z.parent;$.reverse()}else(0,R.default)(z)&&($=z.split(' '));return $}}]),D}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=V;var L=o.SchemaItem=function(){function D(q){d(this,D),this._schema=q,this._allowed=[],this._disallowed=[],this._requiredAttributes=[]}return h(D,[{key:'allow',value:function(z,$){this._addPath('_allowed',z,$)}},{key:'disallow',value:function(z,$){this._addPath('_disallowed',z,$)}},{key:'requireAttributes',value:function(z){this._requiredAttributes.push(z)}},{key:'_addPath',value:function(z,$,W){$=$.slice(),(0,E.default)(W)||(W=[W]);var K=!0,H=!1,U;try{for(var G=W[Symbol.iterator](),J,Z;!(K=(J=G.next()).done);K=!0)Z=J.value,this[z].push({path:$,attribute:Z})}catch(Y){H=!0,U=Y}finally{try{!K&&G.return&&G.return()}finally{if(H)throw U}}}},{key:'_getPaths',value:function(z,$){var W='allow'===z?this._allowed:this._disallowed,K=[],H=!0,U=!1,G;try{for(var J=W[Symbol.iterator](),Z,Y;!(H=(Z=J.next()).done);H=!0)Y=Z.value,Y.attribute===$&&K.push(Y.path)}catch(Q){U=!0,G=Q}finally{try{!H&&J.return&&J.return()}finally{if(U)throw G}}return K}},{key:'_checkRequiredAttributes',value:function(z){var $=!0,W=!0,K=!1,H;try{for(var U=this._requiredAttributes[Symbol.iterator](),G,J;!(W=(G=U.next()).done);W=!0){J=G.value,$=!0;var Z=!0,Y=!1,Q=void 0;try{for(var X=J[Symbol.iterator](),ee,te;!(Z=(ee=X.next()).done);Z=!0)if(te=ee.value,-1==z.indexOf(te)){$=!1;break}}catch(re){Y=!0,Q=re}finally{try{!Z&&X.return&&X.return()}finally{if(Y)throw Q}}if($)break}}catch(re){K=!0,H=re}finally{try{!W&&U.return&&U.return()}finally{if(K)throw H}}return $}},{key:'_hasMatchingPath',value:function(z,$,W){var K=this._getPaths(z,W),H=!0,U=!1,G;try{for(var J=K[Symbol.iterator](),Z,Y;!(H=(Z=J.next()).done);H=!0)if(Y=Z.value,f(this._schema,$,Y))return!0}catch(Q){U=!0,G=Q}finally{try{!H&&J.return&&J.return()}finally{if(U)throw G}}return!1}},{key:'toJSON',value:function(){var z=(0,S.default)(this);return z._schema='[model.Schema]',z}}]),D}()},function(r,o,u){'use strict';function s(Q){return Q&&Q.__esModule?Q:{default:Q}}function d(Q,X){if(!(Q instanceof X))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function Q(X,ee){var te=[],re=!0,ae=!1,oe;try{for(var le=X[Symbol.iterator](),ue;!(re=(ue=le.next()).done)&&(te.push(ue.value),!(ee&&te.length===ee));re=!0);}catch(ie){ae=!0,oe=ie}finally{try{!re&&le['return']&&le['return']()}finally{if(ae)throw oe}}return te}return function(X,ee){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return Q(X,ee);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),h=function(){function Q(X,ee){for(var te=0,re;te<ee.length;te++)re=ee[te],re.enumerable=re.enumerable||!1,re.configurable=!0,'value'in re&&(re.writable=!0),Object.defineProperty(X,re.key,re)}return function(X,ee,te){return ee&&Q(X.prototype,ee),te&&Q(X,te),X}}(),P=u(76),w=s(P),M=u(328),C=s(M),O=u(166),S=s(O),T=u(170),E=s(T),I=u(62),R=u(57),F=s(R),N=u(169),V=s(N),L=u(327),D=s(L),q=u(324),z=s(q),$=u(325),W=s($),K=u(323),H=s(K),U=u(4),G=s(U),J=u(32),Z=s(J),Y=function(){function Q(){var X=this;d(this,Q),this.domRoots=new Map,this.selection=new w.default,this.domConverter=new S.default,this.roots=new Map,this.set('isFocused',!1),this.renderer=new C.default(this.domConverter,this.selection),this.renderer.bind('isFocused').to(this,'isFocused'),this._observers=new Map,this.addObserver(V.default),this.addObserver(D.default),this.addObserver(z.default),this.addObserver(W.default),this.addObserver(H.default),(0,I.injectQuirksHandling)(this),this.on('render',function(){X.disableObservers(),X.renderer.render(),X.enableObservers()})}return h(Q,[{key:'addObserver',value:function(ee){var te=this._observers.get(ee);if(te)return te;te=new ee(this),this._observers.set(ee,te);var re=!0,ae=!1,oe;try{for(var le=this.domRoots[Symbol.iterator](),ue;!(re=(ue=le.next()).done);re=!0){var ie=ue.value,de=f(ie,2),fe=de[0],ce=de[1];te.observe(ce,fe)}}catch(pe){ae=!0,oe=pe}finally{try{!re&&le.return&&le.return()}finally{if(ae)throw oe}}return te.enable(),te}},{key:'getObserver',value:function(ee){return this._observers.get(ee)}},{key:'createRoot',value:function(ee){var te=this,re=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'main',ae='string'==typeof ee?ee:ee.tagName,oe=new E.default(ae.toLowerCase(),re);return oe.document=this,this.roots.set(re,oe),oe.on('change:children',function(le,ue){return te.renderer.markToSync('children',ue)}),oe.on('change:attributes',function(le,ue){return te.renderer.markToSync('attributes',ue)}),oe.on('change:text',function(le,ue){return te.renderer.markToSync('text',ue)}),this.domConverter.isElement(ee)&&this.attachDomRoot(ee,re),oe}},{key:'attachDomRoot',value:function(ee){var te=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'main',re=this.getRoot(te);this.domRoots.set(te,ee),this.domConverter.bindElements(ee,re),this.renderer.markToSync('children',re),this.renderer.domDocuments.add(ee.ownerDocument);var ae=!0,oe=!1,le;try{for(var ue=this._observers.values()[Symbol.iterator](),ie,de;!(ae=(ie=ue.next()).done);ae=!0)de=ie.value,de.observe(ee,te)}catch(fe){oe=!0,le=fe}finally{try{!ae&&ue.return&&ue.return()}finally{if(oe)throw le}}}},{key:'getRoot',value:function(){var ee=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'main';return this.roots.get(ee)}},{key:'getDomRoot',value:function(){var ee=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'main';return this.domRoots.get(ee)}},{key:'render',value:function(){this.fire('render')}},{key:'focus',value:function(){if(!this.isFocused){var ee=this.selection.editableElement;ee?(this.domConverter.focus(ee),this.render()):F.default.warn('view-focus-no-selection: There is no selection in any editable to focus.')}}},{key:'disableObservers',value:function(){var ee=!0,te=!1,re;try{for(var ae=this._observers.values()[Symbol.iterator](),oe,le;!(ee=(oe=ae.next()).done);ee=!0)le=oe.value,le.disable()}catch(ue){te=!0,re=ue}finally{try{!ee&&ae.return&&ae.return()}finally{if(te)throw re}}}},{key:'enableObservers',value:function(){var ee=!0,te=!1,re;try{for(var ae=this._observers.values()[Symbol.iterator](),oe,le;!(ee=(oe=ae.next()).done);ee=!0)le=oe.value,le.enable()}catch(ue){te=!0,re=ue}finally{try{!ee&&ae.return&&ae.return()}finally{if(te)throw re}}}},{key:'destroy',value:function(){var ee=!0,te=!1,re;try{for(var ae=this._observers.values()[Symbol.iterator](),oe,le;!(ee=(oe=ae.next()).done);ee=!0)le=oe.value,le.destroy()}catch(ue){te=!0,re=ue}finally{try{!ee&&ae.return&&ae.return()}finally{if(te)throw re}}}}]),Q}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=Y,(0,G.default)(Y,Z.default)},function(r,o,u){'use strict';function d(O,S){if(!(O instanceof S))throw new TypeError('Cannot call a class as a function')}function f(O,S){if(!O)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return S&&('object'==typeof S||'function'==typeof S)?S:O}function h(O,S){if('function'!=typeof S&&null!==S)throw new TypeError('Super expression must either be null or a function, not '+typeof S);O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(O,S):O.__proto__=S)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function O(S,T){for(var E=0,I;E<T.length;E++)I=T[E],I.enumerable=I.enumerable||!1,I.configurable=!0,'value'in I&&(I.writable=!0),Object.defineProperty(S,I.key,I)}return function(S,T,E){return T&&O(S.prototype,T),E&&O(S,E),S}}(),w=u(63),M=function(O){return O&&O.__esModule?O:{default:O}}(w),C=function(O){function S(T){d(this,S);var E=f(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,T));return E.domEventType='click',E}return h(S,O),P(S,[{key:'onDomEvent',value:function(E){this.fire(E.type,E)}}]),S}(M.default);o.default=C},function(r,o,u){'use strict';function s(N){return N&&N.__esModule?N:{default:N}}function d(N,V){if(!(N instanceof V))throw new TypeError('Cannot call a class as a function')}function f(N,V){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:N}function h(N,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);N.prototype=Object.create(V&&V.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(N,V):N.__proto__=V)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(N){return N==E.keyCodes.arrowright||N==E.keyCodes.arrowleft||N==E.keyCodes.arrowup||N==E.keyCodes.arrowdown}Object.defineProperty(o,'__esModule',{value:!0});var w=function(){function N(V,L){for(var D=0,q;D<L.length;D++)q=L[D],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(V,q.key,q)}return function(V,L,D){return L&&N(V.prototype,L),D&&N(V,D),V}}(),M=function N(V,L,D){null===V&&(V=Function.prototype);var q=Object.getOwnPropertyDescriptor(V,L);if(q===void 0){var z=Object.getPrototypeOf(V);return null===z?void 0:N(z,L,D)}if('value'in q)return q.value;var $=q.get;return void 0===$?void 0:$.call(D)},C=u(49),O=s(C),S=u(76),T=s(S),E=u(22),I=u(143),R=s(I),F=function(N){function V(L){d(this,V);var D=f(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,L));return D._fireSelectionChangeDoneDebounced=(0,R.default)(function(q){return D.document.fire('selectionChangeDone',q)},200),D}return h(V,N),w(V,[{key:'observe',value:function(){var D=this,q=this.document;q.on('keydown',function(z,$){var W=q.selection;W.isFake&&P($.keyCode)&&D.isEnabled&&($.preventDefault(),D._handleSelectionMove($.keyCode))},{priority:'lowest'})}},{key:'destroy',value:function(){M(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),'destroy',this).call(this),this._fireSelectionChangeDoneDebounced.cancel()}},{key:'_handleSelectionMove',value:function(D){var q=this.document.selection,z=T.default.createFromSelection(q);z.setFake(!1),(D==E.keyCodes.arrowleft||D==E.keyCodes.arrowup)&&z.collapseToStart(),(D==E.keyCodes.arrowright||D==E.keyCodes.arrowdown)&&z.collapseToEnd();var $={oldSelection:q,newSelection:z,domSelection:null};this.document.fire('selectionChange',$),this._fireSelectionChangeDoneDebounced($)}}]),V}(O.default);o.default=F},function(r,o,u){'use strict';function d(S,T){if(!(S instanceof T))throw new TypeError('Cannot call a class as a function')}function f(S,T){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return T&&('object'==typeof T||'function'==typeof T)?T:S}function h(S,T){if('function'!=typeof T&&null!==T)throw new TypeError('Super expression must either be null or a function, not '+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function S(T,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}return function(T,E,I){return E&&S(T.prototype,E),I&&S(T,I),T}}(),w=function S(T,E,I){null===T&&(T=Function.prototype);var R=Object.getOwnPropertyDescriptor(T,E);if(R===void 0){var F=Object.getPrototypeOf(T);return null===F?void 0:S(F,E,I)}if('value'in R)return R.value;var N=R.get;return void 0===N?void 0:N.call(I)},M=u(63),C=function(S){return S&&S.__esModule?S:{default:S}}(M),O=function(S){function T(E){d(this,T);var I=f(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,E));return I.domEventType=['focus','blur'],I.useCapture=!0,E.on('focus',function(){E.isFocused=!0,I._renderTimeoutId=setTimeout(function(){return E.render()},0)}),E.on('blur',function(R,F){var N=E.selection.editableElement;(null===N||N===F.target)&&(E.isFocused=!1,E.render())}),I}return h(T,S),P(T,[{key:'onDomEvent',value:function(I){this.fire(I.type,I)}},{key:'destroy',value:function(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),w(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),'destroy',this).call(this)}}]),T}(C.default);o.default=O},function(r,o,u){'use strict';function d(S,T){if(!(S instanceof T))throw new TypeError('Cannot call a class as a function')}function f(S,T){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return T&&('object'==typeof T||'function'==typeof T)?T:S}function h(S,T){if('function'!=typeof T&&null!==T)throw new TypeError('Super expression must either be null or a function, not '+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function S(T,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}return function(T,E,I){return E&&S(T.prototype,E),I&&S(T,I),T}}(),w=u(63),M=function(S){return S&&S.__esModule?S:{default:S}}(w),C=u(22),O=function(S){function T(E){d(this,T);var I=f(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,E));return I.domEventType='keydown',I}return h(T,S),P(T,[{key:'onDomEvent',value:function(I){this.fire('keydown',I,{keyCode:I.keyCode,altKey:I.altKey,ctrlKey:I.ctrlKey||I.metaKey,shiftKey:I.shiftKey,get keystroke(){return(0,C.getCode)(this)}})}}]),T}(M.default);o.default=O},function(r,o,u){'use strict';function d(O,S){if(!(O instanceof S))throw new TypeError('Cannot call a class as a function')}function f(O,S){if(!O)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return S&&('object'==typeof S||'function'==typeof S)?S:O}function h(O,S){if('function'!=typeof S&&null!==S)throw new TypeError('Super expression must either be null or a function, not '+typeof S);O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(O,S):O.__proto__=S)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function O(S,T){for(var E=0,I;E<T.length;E++)I=T[E],I.enumerable=I.enumerable||!1,I.configurable=!0,'value'in I&&(I.writable=!0),Object.defineProperty(S,I.key,I)}return function(S,T,E){return T&&O(S.prototype,T),E&&O(S,E),S}}(),w=u(63),M=function(O){return O&&O.__esModule?O:{default:O}}(w),C=function(O){function S(T){d(this,S);var E=f(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,T));return E.domEventType='mousedown',E}return h(S,O),P(S,[{key:'onDomEvent',value:function(E){this.fire(E.type,E)}}]),S}(M.default);o.default=C},function(r,o,u){'use strict';function s(N){return N&&N.__esModule?N:{default:N}}function d(N,V){if(!(N instanceof V))throw new TypeError('Cannot call a class as a function')}function f(N,V){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:N}function h(N,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);N.prototype=Object.create(V&&V.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(N,V):N.__proto__=V)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function N(V,L){for(var D=0,q;D<L.length;D++)q=L[D],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(V,q.key,q)}return function(V,L,D){return L&&N(V.prototype,L),D&&N(V,D),V}}(),w=function N(V,L,D){null===V&&(V=Function.prototype);var q=Object.getOwnPropertyDescriptor(V,L);if(q===void 0){var z=Object.getPrototypeOf(V);return null===z?void 0:N(z,L,D)}if('value'in q)return q.value;var $=q.get;return void 0===$?void 0:$.call(D)},M=u(49),C=s(M),O=u(169),S=s(O),T=u(57),E=s(T),I=u(143),R=s(I),F=function(N){function V(L){d(this,V);var D=f(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,L));return D.mutationObserver=L.getObserver(S.default),D.document=L,D.selection=L.selection,D.domConverter=L.domConverter,D._documents=new WeakSet,D._fireSelectionChangeDoneDebounced=(0,R.default)(function(q){return D.document.fire('selectionChangeDone',q)},200),D._clearInfiniteLoopInterval=setInterval(function(){return D._clearInfiniteLoop()},2e3),D}return h(V,N),P(V,[{key:'observe',value:function(D){var q=this,z=D.ownerDocument;this._documents.has(z)||(this.listenTo(z,'selectionchange',function(){q._handleSelectionChange(z)}),this._documents.add(z))}},{key:'destroy',value:function(){w(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),'destroy',this).call(this),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}},{key:'_handleSelectionChange',value:function(D){if(this.isEnabled&&this.document.isFocused){this.mutationObserver.flush();var q=D.defaultView.getSelection(),z=this.domConverter.domSelectionToView(q);if(!this.selection.isEqual(z)){if(this._isInfiniteLoop(z))return void E.default.warn('selectionchange-infinite-loop: Selection change observer detected an infinite rendering loop.');var $={oldSelection:this.selection,newSelection:z,domSelection:q};this.document.fire('selectionChange',$),this._fireSelectionChangeDoneDebounced($)}}}},{key:'_isInfiniteLoop',value:function(D){return this._lastSelection&&this._lastButOneSelection&&(D.isEqual(this._lastSelection)||D.isEqual(this._lastButOneSelection))?this._loopbackCounter++:(this._lastButOneSelection=this._lastSelection,this._lastSelection=D,this._loopbackCounter=0),!!(50<this._loopbackCounter)}},{key:'_clearInfiniteLoop',value:function(){this._lastSelection=null,this._lastButOneSelection=null,this._loopbackCounter=0}}]),V}(C.default);o.default=F},function(r,o,u){'use strict';function s($){return $&&$.__esModule?$:{default:$}}function d($,W){if(!($ instanceof W))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function $(W,K){for(var H=0,U;H<K.length;H++)U=K[H],U.enumerable=U.enumerable||!1,U.configurable=!0,'value'in U&&(U.writable=!0),Object.defineProperty(W,U.key,U)}return function(W,K,H){return K&&$(W.prototype,K),H&&$(W,H),W}}(),h=u(30),P=s(h),w=u(25),M=s(w),C=u(62),O=u(4),S=s(O),T=u(189),E=s(T),I=u(394),R=s(I),F=u(398),N=s(F),V=u(32),L=s(V),D=u(0),q=s(D),z=function(){function $(W,K){d(this,$),this.domDocuments=new Set,this.domConverter=W,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=K,this._inlineFiller=null,this.isFocused=!1,this._fakeSelectionContainer=null}return f($,[{key:'markToSync',value:function(K,H){if('text'===K)this.domConverter.getCorrespondingDom(H.parent)&&this.markedTexts.add(H);else{if(!this.domConverter.getCorrespondingDom(H))return;if('attributes'===K)this.markedAttributes.add(H);else if('children'===K)this.markedChildren.add(H);else throw new q.default('view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.')}}},{key:'render',value:function(){var K;this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?K=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(K=this.selection.getFirstPosition(),this.markedChildren.add(K.parent));var H=!0,U=!1,G;try{for(var J=this.markedTexts[Symbol.iterator](),Z,Y;!(H=(Z=J.next()).done);H=!0)Y=Z.value,!this.markedChildren.has(Y.parent)&&this.domConverter.getCorrespondingDom(Y.parent)&&this._updateText(Y,{inlineFillerPosition:K})}catch(ce){U=!0,G=ce}finally{try{!H&&J.return&&J.return()}finally{if(U)throw G}}var Q=!0,X=!1,ee;try{for(var te=this.markedAttributes[Symbol.iterator](),re,ae;!(Q=(re=te.next()).done);Q=!0)ae=re.value,this._updateAttrs(ae)}catch(ce){X=!0,ee=ce}finally{try{!Q&&te.return&&te.return()}finally{if(X)throw ee}}var oe=!0,le=!1,ue;try{for(var ie=this.markedChildren[Symbol.iterator](),de,fe;!(oe=(de=ie.next()).done);oe=!0)fe=de.value,this._updateChildren(fe,{inlineFillerPosition:K})}catch(ce){le=!0,ue=ce}finally{try{!oe&&ie.return&&ie.return()}finally{if(le)throw ue}}this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear(),this._inlineFiller=this._getInlineFillerNode(K)}},{key:'_getInlineFillerNode',value:function(K){if(!K)return void(this._inlineFiller=null);var H=this.domConverter.viewPositionToDom(K);if(!H||!(0,C.startsWithFiller)(H.parent))throw new q.default('view-renderer-cannot-find-filler: Cannot find filler node by its position.');return H.parent}},{key:'_getInlineFillerPosition',value:function(){var K=this.selection.getFirstPosition();return K.parent.is('text')?M.default.createBefore(this.selection.getFirstPosition().parent):K}},{key:'_isSelectionInInlineFiller',value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var K=this.selection.getFirstPosition(),H=this.domConverter.viewPositionToDom(K);return H&&this.domConverter.isText(H.parent)&&(0,C.startsWithFiller)(H.parent)}},{key:'_removeInlineFiller',value:function(){var K=this._inlineFiller;if(!(0,C.startsWithFiller)(K))throw new q.default('view-renderer-filler-was-lost: The inline filler node was lost.');(0,C.isInlineFiller)(K)?K.parentNode.removeChild(K):K.data=K.data.substr(C.INLINE_FILLER_LENGTH),this._inlineFiller=null}},{key:'_needsInlineFillerAtSelection',value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var K=this.selection.getFirstPosition(),H=K.parent,U=K.offset;if(!this.domConverter.getCorrespondingDomElement(H.root))return!1;if(!H.is('element'))return!1;if(U===H.getFillerOffset())return!1;var G=K.nodeBefore,J=K.nodeAfter;return G instanceof P.default||J instanceof P.default?!1:!0}},{key:'_updateText',value:function(K,H){var U=this.domConverter.getCorrespondingDom(K),G=this.domConverter.viewToDom(K,U.ownerDocument),J=U.data,Z=G.data,Y=H.inlineFillerPosition;Y&&Y.parent==K.parent&&Y.offset==K.index&&(Z=C.INLINE_FILLER+Z),J!=Z&&(U.data=Z)}},{key:'_updateAttrs',value:function(K){var H=this.domConverter.getCorrespondingDom(K),U=Array.from(H.attributes).map(function(ie){return ie.name}),G=K.getAttributeKeys(),J=!0,Z=!1,Y;try{for(var Q=G[Symbol.iterator](),X,ee;!(J=(X=Q.next()).done);J=!0)ee=X.value,H.setAttribute(ee,K.getAttribute(ee))}catch(ie){Z=!0,Y=ie}finally{try{!J&&Q.return&&Q.return()}finally{if(Z)throw Y}}var te=!0,re=!1,ae;try{for(var oe=U[Symbol.iterator](),le,ue;!(te=(le=oe.next()).done);te=!0)ue=le.value,K.hasAttribute(ue)||H.removeAttribute(ue)}catch(ie){re=!0,ae=ie}finally{try{!te&&oe.return&&oe.return()}finally{if(re)throw ae}}}},{key:'_updateChildren',value:function(K,H){function U(fe,ce){return fe===ce||(G.isText(fe)&&G.isText(ce)?fe.data===ce.data:(0,C.isBlockFiller)(fe,G.blockFiller)&&(0,C.isBlockFiller)(ce,G.blockFiller))}var G=this.domConverter,J=G.getCorrespondingDom(K);if(J){var Z=J.ownerDocument,Y=H.inlineFillerPosition,Q=J.childNodes,X=Array.from(G.viewChildrenToDom(K,Z,{bind:!0}));if(Y&&Y.parent==K){var ee=X[Y.offset];this.domConverter.isText(ee)?ee.data=C.INLINE_FILLER+ee.data:X.splice(Y.offset,0,Z.createTextNode(C.INLINE_FILLER))}var te=(0,E.default)(Q,X,U),re=0,ae=!0,oe=!1,le;try{for(var ue=te[Symbol.iterator](),ie,de;!(ae=(ie=ue.next()).done);ae=!0)de=ie.value,'insert'===de?((0,R.default)(J,re,X[re]),re++):'delete'===de?(this.domConverter.unbindDomElement(Q[re]),(0,N.default)(Q[re])):re++}catch(fe){oe=!0,le=fe}finally{try{!ae&&ue.return&&ue.return()}finally{if(oe)throw le}}}}},{key:'_updateSelection',value:function(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();var K=this.domConverter.getCorrespondingDomElement(this.selection.editableElement);this.isFocused&&K&&(this.selection.isFake?this._updateFakeSelection(K):(this._removeFakeSelection(),this._updateDomSelection(K)))}},{key:'_updateFakeSelection',value:function(K){var H=K.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=H.createElement('div'),this._fakeSelectionContainer.style.position='fixed',this._fakeSelectionContainer.style.top=0,this._fakeSelectionContainer.style.left='-9999px',this._fakeSelectionContainer.appendChild(H.createTextNode('\xA0'))),this._fakeSelectionContainer.parentElement||K.appendChild(this._fakeSelectionContainer);var U=this.selection.fakeSelectionLabel||'\xA0';this._fakeSelectionContainer.firstChild.data=U;var G=H.getSelection();G.removeAllRanges();var J=new Range;J.selectNodeContents(this._fakeSelectionContainer),G.addRange(J),this.domConverter.bindFakeSelection(this._fakeSelectionContainer,this.selection)}},{key:'_updateDomSelection',value:function(K){var H=K.ownerDocument.defaultView.getSelection(),U=H&&this.domConverter.domSelectionToView(H);if(!(U&&this.selection.isEqual(U))){var G=this.domConverter.viewPositionToDom(this.selection.anchor),J=this.domConverter.viewPositionToDom(this.selection.focus);H.collapse(G.parent,G.offset),H.extend(J.parent,J.offset)}}},{key:'_removeDomSelection',value:function(){var K=!0,H=!1,U;try{for(var G=this.domDocuments[Symbol.iterator](),J;!(K=(J=G.next()).done);K=!0){var Z=J.value,Y=Z.getSelection();if(Y.rangeCount){var Q=Z.activeElement,X=this.domConverter.getCorrespondingViewElement(Q);Q&&X&&Z.getSelection().removeAllRanges()}}}catch(ee){H=!0,U=ee}finally{try{!K&&G.return&&G.return()}finally{if(H)throw U}}}},{key:'_removeFakeSelection',value:function(){var K=this._fakeSelectionContainer;K&&K.remove()}},{key:'_updateFocus',value:function(){if(this.isFocused){var K=this.selection.editableElement;K&&this.domConverter.focus(K)}}}]),$}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=z,(0,S.default)(z,L.default)},function(r,o,u){'use strict';function d(M,C){if(!(M instanceof C))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function M(C,O){for(var S=0,T;S<O.length;S++)T=O[S],T.enumerable=T.enumerable||!1,T.configurable=!0,'value'in T&&(T.writable=!0),Object.defineProperty(C,T.key,T)}return function(C,O,S){return O&&M(C.prototype,O),S&&M(C,S),C}}(),h=u(0),P=function(M){return M&&M.__esModule?M:{default:M}}(h),w=function(){function M(C,O,S){if(d(this,M),this.textNode=C,0>O||O>C.data.length)throw new P.default('view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>S||O+S>C.data.length)throw new P.default('view-textproxy-wrong-length: Given length value is incorrect.');this.data=C.data.substring(O,O+S),this.offsetInText=O}return f(M,[{key:'is',value:function(O){return'textProxy'==O}},{key:'getAncestors',value:function(){for(var O=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeNode:!1,parentFirst:!1},S=[],T=O.includeNode?this.textNode:this.parent;null!==T;)S[O.parentFirst?'push':'unshift'](T),T=T.parent;return S}},{key:'isPartial',get:function(){return this.data.length!==this.textNode.data.length}},{key:'parent',get:function(){return this.textNode.parent}},{key:'root',get:function(){return this.textNode.root}},{key:'document',get:function(){return this.textNode.document}}]),M}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=w},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}function d(I,R){if(!(I instanceof R))throw new TypeError('Cannot call a class as a function')}function f(I,R){if(!I)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return R&&('object'==typeof R||'function'==typeof R)?R:I}function h(I,R){if('function'!=typeof R&&null!==R)throw new TypeError('Super expression must either be null or a function, not '+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function I(R,F){for(var N=0,V;N<F.length;N++)V=F[N],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}return function(R,F,N){return F&&I(R.prototype,F),N&&I(R,N),R}}(),w=u(3),M=s(w),C=u(331),O=s(C),S=u(332),T=s(S),E=function(I){function R(){return d(this,R),f(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return h(R,I),P(R,[{key:'init',value:function(){var N=this.editor,V=N.editing.view;V.addObserver(T.default),N.commands.set('enter',new O.default(N)),this.listenTo(V,'enter',function(L,D){N.execute('enter'),D.preventDefault()},{priority:'low'})}}]),R}(M.default);o.default=E},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}function d(I,R){if(!(I instanceof R))throw new TypeError('Cannot call a class as a function')}function f(I,R){if(!I)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return R&&('object'==typeof R||'function'==typeof R)?R:I}function h(I,R){if('function'!=typeof R&&null!==R)throw new TypeError('Super expression must either be null or a function, not '+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(I,R,F,N){var V=F.isCollapsed,L=F.getFirstRange(),D=L.start.parent,q=L.end.parent;if(!(N.limits.has(D.name)||N.limits.has(q.name))){if(D.root==D)return void(V||I.deleteContent(F,R));if(V)w(R,F,L.start);else{var z=L.start.isAtStart&&L.end.isAtEnd;I.deleteContent(F,R,{merge:z}),z||(D==q?w(R,F,F.focus):F.collapse(q))}}}function w(I,R,F){if(F.isAtEnd){var N=F.parent,V=new N.constructor(N.name,N.getAttributes());I.insert(T.default.createAfter(F.parent),V)}else I.split(F);R.collapse(F.parent.nextSibling)}Object.defineProperty(o,'__esModule',{value:!0});var M=function(){function I(R,F){for(var N=0,V;N<F.length;N++)V=F[N],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}return function(R,F,N){return F&&I(R.prototype,F),N&&I(R,N),R}}(),C=u(12),O=s(C),S=u(1),T=s(S),E=function(I){function R(){return d(this,R),f(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return h(R,I),M(R,[{key:'_doExecute',value:function(){var N=this,V=this.editor.document,L=V.batch();V.enqueueChanges(function(){P(N.editor.data,L,V.selection,V.schema),N.fire('afterExecute',{batch:L})})}}]),R}(O.default);o.default=E},function(r,o,u){'use strict';function s(E){return E&&E.__esModule?E:{default:E}}function d(E,I){if(!(E instanceof I))throw new TypeError('Cannot call a class as a function')}function f(E,I){if(!E)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return I&&('object'==typeof I||'function'==typeof I)?I:E}function h(E,I){if('function'!=typeof I&&null!==I)throw new TypeError('Super expression must either be null or a function, not '+typeof I);E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(E,I):E.__proto__=I)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function E(I,R){for(var F=0,N;F<R.length;F++)N=R[F],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}return function(I,R,F){return R&&E(I.prototype,R),F&&E(I,F),I}}(),w=u(49),M=s(w),C=u(118),O=s(C),S=u(22),T=function(E){function I(R){d(this,I);var F=f(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,R));return R.on('keydown',function(N,V){F.isEnabled&&V.keyCode==S.keyCodes.enter&&R.fire('enter',new O.default(R,V.domEvent))}),F}return h(I,E),P(I,[{key:'observe',value:function(){}}]),I}(M.default);o.default=T},function(r,o,u){'use strict';function s(z){return z&&z.__esModule?z:{default:z}}function d(z){if(Array.isArray(z)){for(var $=0,W=Array(z.length);$<z.length;$++)W[$]=z[$];return W}return Array.from(z)}function f(z,$){if(!(z instanceof $))throw new TypeError('Cannot call a class as a function')}function h(z,$){if(!z)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return $&&('object'==typeof $||'function'==typeof $)?$:z}function P(z,$){if('function'!=typeof $&&null!==$)throw new TypeError('Super expression must either be null or a function, not '+typeof $);z.prototype=Object.create($&&$.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(z,$):z.__proto__=$)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function w(z,$){var W;return(W=Array.prototype).concat.apply(W,d(z.map(function(K){return[K,$]})))}Object.defineProperty(o,'__esModule',{value:!0});var M=function(){function z($,W){for(var K=0,H;K<W.length;K++)H=W[K],H.enumerable=H.enumerable||!1,H.configurable=!0,'value'in H&&(H.writable=!0),Object.defineProperty($,H.key,H)}return function($,W,K){return W&&z($.prototype,W),K&&z($,K),$}}(),C=u(78),O=s(C),S=u(172),T=s(S),E=u(3),I=s(E),R=u(380),F=s(R),N=u(371),V=s(N),L=u(79),D=s(L);u(524);var q=function(z){function $(){return f(this,$),h(this,($.__proto__||Object.getPrototypeOf($)).apply(this,arguments))}return P($,z),M($,[{key:'init',value:function(){var U=this,G=this.editor,J=new D.default,Z=this._getLocalizedOptions(),Y=[],Q=G.t,X=Q('Heading'),ee=!0,te=!1,K,H,re;try{for(var ae=Z[Symbol.iterator](),oe;!(ee=(oe=ae.next()).done);ee=!0){var le=oe.value,ue=G.commands.get(le.modelElement),ie=new F.default({commandName:le.modelElement,label:le.title,class:le.class});ie.bind('isActive').to(ue,'value'),J.add(ie),Y.push(ue)}}catch(fe){te=!0,re=fe}finally{try{!ee&&ae.return&&ae.return()}finally{if(te)throw re}}var de=new F.default({withText:!0,items:J,tooltip:X});(K=de.bind('isEnabled')).to.apply(K,d(w(Y,'isEnabled')).concat([function(){for(var fe=arguments.length,ce=Array(fe),pe=0;pe<fe;pe++)ce[pe]=arguments[pe];return ce.some(function(ge){return ge})}])),(H=de.bind('label')).to.apply(H,d(w(Y,'value')).concat([function(){for(var fe=arguments.length,ce=Array(fe),pe=0;pe<fe;pe++)ce[pe]=arguments[pe];var ge=ce.findIndex(function(me){return me});return Z[ge]?Z[ge].title:X}])),G.ui.componentFactory.add('headings',function(fe){var ce=(0,V.default)(de,fe);return U.listenTo(ce,'execute',function(pe){G.execute(pe.source.commandName),G.editing.view.focus()}),ce})}},{key:'_getLocalizedOptions',value:function(){var K=this.editor,H=K.t,U={Paragraph:H('Paragraph'),'Heading 1':H('Heading 1'),'Heading 2':H('Heading 2'),'Heading 3':H('Heading 3')};return K.config.get('heading.options').map(function(G){var J=U[G.title];return J&&J!=G.title&&(G=Object.assign({},G,{title:J})),G})}}],[{key:'requires',get:function(){return[O.default,T.default]}}]),$}(I.default);o.default=q},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}function d(I,R){if(!(I instanceof R))throw new TypeError('Cannot call a class as a function')}function f(I,R){if(!I)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return R&&('object'==typeof R||'function'==typeof R)?R:I}function h(I,R){if('function'!=typeof R&&null!==R)throw new TypeError('Super expression must either be null or a function, not '+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function I(R,F){for(var N=0,V;N<F.length;N++)V=F[N],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}return function(R,F,N){return F&&I(R.prototype,F),N&&I(R,N),R}}(),w=u(2),M=s(w),C=u(12),O=s(C),S=u(60),T=s(S),E=function(I){function R(F,N){d(this,R);var V=f(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,F));return Object.assign(V,N),V.set('value',!1),V.listenTo(F.document,'changesDone',function(){return V._updateValue()}),V}return h(R,I),P(R,[{key:'_doExecute',value:function(){var N=this,V=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},L=this.editor,D=L.document,q=this.value;D.enqueueChanges(function(){var z=V.batch||D.batch(),$=!0,W=!1,K;try{for(var H=D.selection.getSelectedBlocks()[Symbol.iterator](),U,G;!($=(U=H.next()).done);$=!0)if(G=U.value,!q)G.is(N.modelElement)||z.rename(G,N.modelElement);else if(G.is(N.modelElement)){var J=new T.default;J.addRange(M.default.createIn(G)),L.execute('paragraph',{selection:J,batch:z})}}catch(Z){W=!0,K=Z}finally{try{!$&&H.return&&H.return()}finally{if(W)throw K}}})}},{key:'_updateValue',value:function(){var N=this.editor.document.selection.getSelectedBlocks().next().value;N&&(this.value=N.is(this.modelElement))}}]),R}(O.default);o.default=E},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}function d(F,N){if(!(F instanceof N))throw new TypeError('Cannot call a class as a function')}function f(F,N){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:F}function h(F,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function F(N,V){for(var L=0,D;L<V.length;L++)D=V[L],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}return function(N,V,L){return V&&F(N.prototype,V),L&&F(N,L),N}}(),w=u(3),M=s(w),C=u(173),O=s(C),S=u(348),T=s(S),E=u(344),I=s(E);u(527);var R=function(F){function N(){return d(this,N),f(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return h(N,F),P(N,null,[{key:'requires',get:function(){return[O.default,T.default,I.default]}}]),N}(M.default);o.default=R},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function h(T,E,I,R){var F=T.name.split(':'),N=F[0]+':'+F[1];if(I.consume(E.item,N)){var V=R.mapper.toViewElement(E.item),L=V.getChild(0);'removeAttribute'==F[0]?L.removeAttribute(E.attributeKey):L.setAttribute(E.attributeKey,E.attributeNewValue)}}Object.defineProperty(o,'__esModule',{value:!0}),o.viewToModelImage=function(){return function(T,E,I,R){var F=E.input;if(I.test(F,{name:!0,class:'image'})&&R.schema.check({name:'image',inside:E.context,attributes:'src'})){var N=F.getChild(0);if(N&&'img'==N.name&&I.test(N,{name:!0,attribute:'src'})){I.consume(F,{name:!0,class:'image'}),I.consume(N,{name:!0,attribute:'src'});var V=new w.default('image',{src:N.getAttribute('src')});I.consume(N,{attribute:['alt']})&&V.setAttribute('alt',N.getAttribute('alt')),E.context.push(V);var L=R.convertChildren(F,I,E),D=C.default.createAt(V,'end');S.default.insert(D,L),E.context.pop(),E.output=V}}}},o.createImageAttributeConverter=function(T,E){var I=!0,R=!1,F;try{for(var N=T[Symbol.iterator](),V,L;!(I=(V=N.next()).done);I=!0)L=V.value,L.on('addAttribute:'+E+':image',h),L.on('changeAttribute:'+E+':image',h),L.on('removeAttribute:'+E+':image',h)}catch(D){R=!0,F=D}finally{try{!I&&N.return&&N.return()}finally{if(R)throw F}}};var P=u(5),w=s(P),M=u(1),C=s(M),O=u(18),S=s(O)},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}function d(T,E){if(!(T instanceof E))throw new TypeError('Cannot call a class as a function')}function f(T,E){if(!T)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:T}function h(T,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function T(E,I){for(var R=0,F;R<I.length;R++)F=I[R],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(E,F.key,F)}return function(E,I,R){return I&&T(E.prototype,I),R&&T(E,R),E}}(),w=u(3),M=s(w),C=u(338),O=s(C);u(525);var S=function(T){function E(){return d(this,E),f(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return h(E,T),P(E,null,[{key:'requires',get:function(){return[O.default]}}]),E}(M.default);o.default=S},function(r,o,u){'use strict';function s(te){return te&&te.__esModule?te:{default:te}}function d(te,re){if(!(te instanceof re))throw new TypeError('Cannot call a class as a function')}function f(te,re){if(!te)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return re&&('object'==typeof re||'function'==typeof re)?re:te}function h(te,re){if('function'!=typeof re&&null!==re)throw new TypeError('Super expression must either be null or a function, not '+typeof re);te.prototype=Object.create(re&&re.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),re&&(Object.setPrototypeOf?Object.setPrototypeOf(te,re):te.__proto__=re)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(te,re,ae,oe){if('insert'===re){var le=new R.default({boundaries:ae.range,ignoreElementEnd:!0}),ue=function(ye){var be=ye.item;'elementStart'==ye.type&&(0,Q.isImage)(be)&&!(0,X.getCaptionFromImage)(be)&&oe.document.enqueueChanges(function(){oe.insert(U.default.createAt(be,'end'),new N.default('caption'))})},ie=!0,de=!1,fe;try{for(var ce=le[Symbol.iterator](),pe,ge;!(ie=(pe=ce.next()).done);ie=!0)ge=pe.value,ue(ge)}catch(me){de=!0,fe=me}finally{try{!ie&&ce.return&&ce.return()}finally{if(de)throw fe}}}}function w(te,re){return function(ae,oe){if(C(oe.item)){var le=oe.item.parent,ue=le.parent,ie=re.toViewElement(ue),de=re.toViewElement(le);ie&&!de&&(de=te(),O(de,le,ie,re))}}}function M(te){return function(re,ae,oe,le){var ue=ae.item;if((0,Q.isImage)(ue.parent)&&0<ue.childCount){if(!oe.consume(ae.item,'insert'))return;var ie=le.mapper.toViewElement(ae.range.start.parent),de=te instanceof q.default?te.clone(!0):te();O(de,ae.item,ie,le.mapper)}}}function C(te){return!!(te.parent&&'caption'==te.parent.name&&te.parent.parent&&'image'==te.parent.parent.name)}function O(te,re,ae,oe){var le=J.default.createAt(ae,'end');K.default.insert(le,te),oe.bindElements(re,te)}Object.defineProperty(o,'__esModule',{value:!0});var S=function(){function te(re,ae){for(var oe=0,le;oe<ae.length;oe++)le=ae[oe],le.enumerable=le.enumerable||!1,le.configurable=!0,'value'in le&&(le.writable=!0),Object.defineProperty(re,le.key,le)}return function(re,ae,oe){return ae&&te(re.prototype,ae),oe&&te(re,oe),re}}(),T=u(3),E=s(T),I=u(34),R=s(I),F=u(5),N=s(F),V=u(39),L=s(V),D=u(21),q=s(D),z=u(29),$=s(z),W=u(77),K=s(W),H=u(1),U=s(H),G=u(25),J=s(G),Z=u(47),Y=s(Z),Q=u(40),X=u(339),ee=function(te){function re(){return d(this,re),f(this,(re.__proto__||Object.getPrototypeOf(re)).apply(this,arguments))}return h(re,te),S(re,[{key:'init',value:function(){var oe=this,le=this.editor,ue=le.document,ie=le.editing.view,de=ue.schema,fe=le.data,ce=le.editing,pe=ce.mapper;this._createCaption=(0,X.captionElementCreator)(ie),de.registerItem('caption'),de.allow({name:'$inline',inside:'caption'}),de.allow({name:'caption',inside:'image'}),de.limits.add('caption'),ue.on('change',P),(0,Y.default)().for(fe.viewToModel).from(X.matchImageCaption).toElement('caption'),fe.modelToView.on('insert:caption',M(new L.default('figcaption'))),ce.modelToView.on('insert:caption',M(this._createCaption)),ce.modelToView.on('insert',w(this._createCaption,pe),{priority:'high'}),this.listenTo(ie,'render',function(){return oe._updateView()},{priority:'high'})}},{key:'_removeEmptyCaption',value:function(){var oe=this.editor.editing.view.selection,le=this._lastSelectedEditable;if(le&&oe.editableElement!==le){var ue=oe.getSelectedElement();if(ue&&(0,Q.isImageWidget)(ue)){var ie=le.findAncestor(function(fe){return fe==ue});if(ie)return}if(0===le.childCount){var de=this.editor.editing.mapper;K.default.remove($.default.createOn(le)),de.unbindViewElement(le)}}}},{key:'_addCaptionWhenSelected',value:function(){var oe=this.editor.editing,le=oe.view.selection,ue=le.getSelectedElement(),ie=oe.mapper;if(ue&&(0,Q.isImageWidget)(ue)){var de=ie.toModelElement(ue),fe=(0,X.getCaptionFromImage)(de),ce=ie.toViewElement(fe);ce||(ce=this._createCaption(),O(ce,fe,ue,ie)),this._lastSelectedEditable=ce}}},{key:'_updateView',value:function(){var oe=this.editor.editing.view.selection;this._removeEmptyCaption(),this._addCaptionWhenSelected();var le=oe.editableElement;le&&(0,X.isCaption)(oe.editableElement)&&(this._lastSelectedEditable=oe.editableElement)}}]),re}(E.default);o.default=ee},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */Object.defineProperty(o,'__esModule',{value:!0}),o.captionElementCreator=function(T){return function(){var E=new M.default('figcaption',{contenteditable:!0});return E.document=T,E.setCustomProperty(S,!0),E.on('change:isFocused',function(I,R,F){F?E.addClass('focused'):E.removeClass('focused')}),E}},o.isCaption=function(T){return!!T.getCustomProperty(S)},o.getCaptionFromImage=function(T){var E=!0,I=!1,R;try{for(var F=T.getChildren()[Symbol.iterator](),N,V;!(E=(N=F.next()).done);E=!0)if(V=N.value,V instanceof O.default&&'caption'==V.name)return V}catch(L){I=!0,R=L}finally{try{!E&&F.return&&F.return()}finally{if(I)throw R}}return null},o.matchImageCaption=function(T){var E=T.parent;return'figcaption'==T.name&&E&&'figure'==E.name&&E.hasClass('image')?{name:!0}:null};var w=u(74),M=s(w),C=u(5),O=s(C),S=Symbol('imageCaption')},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}function d(I,R){if(!(I instanceof R))throw new TypeError('Cannot call a class as a function')}function f(I,R){if(!I)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return R&&('object'==typeof R||'function'==typeof R)?R:I}function h(I,R){if('function'!=typeof R&&null!==R)throw new TypeError('Super expression must either be null or a function, not '+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function I(R,F){for(var N=0,V;N<F.length;N++)V=F[N],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}return function(R,F,N){return F&&I(R.prototype,F),N&&I(R,N),R}}(),w=u(3),M=s(w),C=u(343),O=s(C),S=u(26),T=s(S),E=function(I){function R(){return d(this,R),f(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return h(R,I),P(R,[{key:'init',value:function(){var N=this.editor.config.get('image.styles'),V=!0,L=!1,D;try{for(var q=N[Symbol.iterator](),z,$;!(V=(z=q.next()).done);V=!0)$=z.value,this._createButton($)}catch(K){L=!0,D=K}finally{try{!V&&q.return&&q.return()}finally{if(L)throw D}}var W=this.editor.config.get('image.defaultToolbar');W&&(W.length&&W.push('|'),N.forEach(function(K){return W.push(K.name)}))}},{key:'_createButton',value:function(N){var V=this,L=this.editor,D=L.commands.get(N.name);L.ui.componentFactory.add(N.name,function(q){var z=new T.default(q);return z.set({label:N.title,icon:N.icon,tooltip:!0}),z.bind('isEnabled').to(D,'isEnabled'),z.bind('isOn').to(D,'value'),V.listenTo(z,'execute',function(){return L.execute(N.name)}),z})}}],[{key:'requires',get:function(){return[O.default]}}]),R}(M.default);o.default=E},function(r,o,u){'use strict';function s(O){if(Array.isArray(O)){for(var S=0,T=Array(O.length);S<O.length;S++)T[S]=O[S];return T}return Array.from(O)}/**
                                                                                                                                                                                                     * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                     * For licensing, see LICENSE.md.
                                                                                                                                                                                                     */function h(O,S,T,E){var I=S.input,R=S.output;if(T.test(I,{class:O.className})&&(0,C.isImage)(R)){var F=[].concat(s(R.getAttributeKeys()),['imageStyle']);E.schema.check({name:'image',inside:S.context,attributes:F})&&(T.consume(I,{class:O.className}),R.setAttribute('imageStyle',O.value))}}function P(O,S){var T=!0,E=!1,I;try{for(var R=S[Symbol.iterator](),F,N;!(T=(F=R.next()).done);T=!0)if(N=F.value,N.value===O)return N}catch(V){E=!0,I=V}finally{try{!T&&R.return&&R.return()}finally{if(E)throw I}}}function w(O,S,T){return S&&('changeAttribute'==O||'removeAttribute'==O)&&(T.removeClass(S.className),!0)}function M(O,S,T){return S&&('addAttribute'==O||'changeAttribute'==O)&&(T.addClass(S.className),!0)}Object.defineProperty(o,'__esModule',{value:!0}),o.modelToViewStyleAttribute=function(O){return function(S,T,E,I){var R=S.name.split(':')[0],F=R+':imageStyle';if(E.test(T.item,F)){var N=P(T.attributeNewValue,O),V=P(T.attributeOldValue,O),L=I.mapper.toViewElement(T.item);(w(R,V,L)||M(R,N,L))&&E.consume(T.item,F)}}},o.viewToModelStyleAttribute=function(O){var S=O.filter(function(T){return null!==T.value});return function(T,E,I,R){var F=!0,N=!1,V;try{for(var L=S[Symbol.iterator](),D,q;!(F=(D=L.next()).done);F=!0)q=D.value,h(q,E,I,R)}catch(z){N=!0,V=z}finally{try{!F&&L.return&&L.return()}finally{if(N)throw V}}}};var C=u(40)},function(r,o,u){'use strict';function d(S,T){if(!(S instanceof T))throw new TypeError('Cannot call a class as a function')}function f(S,T){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return T&&('object'==typeof T||'function'==typeof T)?T:S}function h(S,T){if('function'!=typeof T&&null!==T)throw new TypeError('Super expression must either be null or a function, not '+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function S(T,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}return function(T,E,I){return E&&S(T.prototype,E),I&&S(T,I),T}}(),w=u(12),M=function(S){return S&&S.__esModule?S:{default:S}}(w),C=u(40),O=function(S){function T(E,I){d(this,T);var R=f(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,E));return R.set('value',!1),R.style=I,R.listenTo(E.document,'changesDone',function(){R._updateValue(),R.refreshState()}),R}return h(T,S),P(T,[{key:'_updateValue',value:function(){var I=this.editor.document,R=I.selection.getSelectedElement();return R?void(null===this.style.value?this.value=!R.hasAttribute('imageStyle'):this.value=R.getAttribute('imageStyle')==this.style.value):void(this.value=!1)}},{key:'_checkEnabled',value:function(){var I=this.editor.document.selection.getSelectedElement();return(0,C.isImage)(I)}},{key:'_doExecute',value:function(){var I=this,R=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!this.value){var F=this.editor,N=F.document,V=N.selection,L=V.getSelectedElement();N.enqueueChanges(function(){var D=R.batch||N.batch();D.setAttribute(L,'imageStyle',I.style.value)})}}}]),T}(M.default);o.default=O},function(r,o,u){'use strict';function s(L){return L&&L.__esModule?L:{default:L}}function d(L,D){if(!(L instanceof D))throw new TypeError('Cannot call a class as a function')}function f(L,D){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return D&&('object'==typeof D||'function'==typeof D)?D:L}function h(L,D){if('function'!=typeof D&&null!==D)throw new TypeError('Super expression must either be null or a function, not '+typeof D);L.prototype=Object.create(D&&D.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(L,D):L.__proto__=D)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function L(D,q){for(var z=0,$;z<q.length;z++)$=q[z],$.enumerable=$.enumerable||!1,$.configurable=!0,'value'in $&&($.writable=!0),Object.defineProperty(D,$.key,$)}return function(D,q,z){return q&&L(D.prototype,q),z&&L(D,z),D}}(),w=u(3),M=s(w),C=u(342),O=s(C),S=u(173),T=s(S),E=u(341),I=u(515),R=s(I),F=u(516),N=s(F),V=function(L){function D(){return d(this,D),f(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return h(D,L),P(D,[{key:'init',value:function(){var z=this.editor,$=z.t,W=z.document,K=W.schema,H=z.data,U=z.editing;z.config.define('image.styles',[{name:'imageStyleFull',title:$('Full size image'),icon:R.default,value:null},{name:'imageStyleSide',title:$('Side image'),icon:N.default,value:'side',className:'image-style-side'}]);var G=z.config.get('image.styles');K.allow({name:'image',attributes:'imageStyle',inside:'$root'});var J=(0,E.modelToViewStyleAttribute)(G);U.modelToView.on('addAttribute:imageStyle:image',J),H.modelToView.on('addAttribute:imageStyle:image',J),U.modelToView.on('changeAttribute:imageStyle:image',J),H.modelToView.on('changeAttribute:imageStyle:image',J),U.modelToView.on('removeAttribute:imageStyle:image',J),H.modelToView.on('removeAttribute:imageStyle:image',J),H.viewToModel.on('element:figure',(0,E.viewToModelStyleAttribute)(G),{priority:'low'});var Z=!0,Y=!1,Q;try{for(var X=G[Symbol.iterator](),ee,te;!(Z=(ee=X.next()).done);Z=!0)te=ee.value,z.commands.set(te.name,new O.default(z,te))}catch(re){Y=!0,Q=re}finally{try{!Z&&X.return&&X.return()}finally{if(Y)throw Q}}}}],[{key:'requires',get:function(){return[T.default]}}]),D}(M.default);o.default=V},function(r,o,u){'use strict';function s(H){return H&&H.__esModule?H:{default:H}}function d(H,U){if(!(H instanceof U))throw new TypeError('Cannot call a class as a function')}function f(H,U){if(!H)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return U&&('object'==typeof U||'function'==typeof U)?U:H}function h(H,U){if('function'!=typeof U&&null!==U)throw new TypeError('Super expression must either be null or a function, not '+typeof U);H.prototype=Object.create(U&&U.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(H,U):H.__proto__=U)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function H(U,G){for(var J=0,Z;J<G.length;J++)Z=G[J],Z.enumerable=Z.enumerable||!1,Z.configurable=!0,'value'in Z&&(Z.writable=!0),Object.defineProperty(U,Z.key,Z)}return function(U,G,J){return G&&H(U.prototype,G),J&&H(U,J),U}}(),w=u(3),M=s(w),C=u(26),O=s(C),S=u(346),T=s(S),E=u(366),I=s(E),R=u(181),F=s(R),N=u(175),V=s(N),L=u(347),D=s(L),q=u(174),z=s(q),$=u(514),W=s($);u(526);var K=function(H){function U(){return d(this,U),f(this,(U.__proto__||Object.getPrototypeOf(U)).apply(this,arguments))}return h(U,H),P(U,[{key:'init',value:function(){var J=this;this._createButton();var Z=this.editor.config.get('image.defaultToolbar');return Z&&(Z.length&&Z.push('|'),Z.push('imageTextAlternative')),this._createBalloonPanel().then(function(Y){J.balloonPanel=Y,J.form=Y.content.get(0)})}},{key:'_createButton',value:function(){var J=this,Z=this.editor,Y=Z.commands.get('imageTextAlternative'),Q=Z.t;Z.ui.componentFactory.add('imageTextAlternative',function(X){var ee=new O.default(X);return ee.set({label:Q('Change image text alternative'),icon:W.default,tooltip:!0}),ee.bind('isEnabled').to(Y,'isEnabled'),J.listenTo(ee,'execute',function(){return J._showBalloonPanel()}),ee})}},{key:'_createBalloonPanel',value:function(){var J=this,Z=this.editor,Y=new z.default(Z),Q=new D.default(Z.locale);this.listenTo(Q,'submit',function(){Z.execute('imageTextAlternative',{newValue:Q.lebeledInput.inputView.element.value}),J._hideBalloonPanel()});var X=Z.plugins.get(V.default);return X&&this.listenTo(Y,'change:isVisible',function(){Y.isVisible?(X.hide(),X.isEnabled=!1):(X.show(),X.isEnabled=!0)}),this.listenTo(Q,'cancel',function(){return J._hideBalloonPanel()}),(0,I.default)({emitter:Y,activator:function(){return Y.isVisible},callback:function(){return J._hideBalloonPanel()}}),(0,F.default)({emitter:Y,activator:function(){return Y.isVisible},contextElement:Y.element,callback:function(){return J._hideBalloonPanel()}}),Promise.all([Y.content.add(Q),Z.ui.view.body.add(Y)]).then(function(){return Y})}},{key:'_showBalloonPanel',value:function(){var J=this.editor,Z=J.commands.get('imageTextAlternative');this.form.lebeledInput.value=Z.value||'',this.balloonPanel.attach(),this.form.lebeledInput.select()}},{key:'_hideBalloonPanel',value:function(){var J=this.editor;this.balloonPanel.detach(),J.editing.view.focus()}}],[{key:'requires',get:function(){return[T.default]}}]),U}(M.default);o.default=K},function(r,o,u){'use strict';function d(S,T){if(!(S instanceof T))throw new TypeError('Cannot call a class as a function')}function f(S,T){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return T&&('object'==typeof T||'function'==typeof T)?T:S}function h(S,T){if('function'!=typeof T&&null!==T)throw new TypeError('Super expression must either be null or a function, not '+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function S(T,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}return function(T,E,I){return E&&S(T.prototype,E),I&&S(T,I),T}}(),w=u(12),M=function(S){return S&&S.__esModule?S:{default:S}}(w),C=u(40),O=function(S){function T(E){d(this,T);var I=f(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,E));return I.set('value',!1),I.listenTo(E.document,'changesDone',function(){I._updateValue(),I.refreshState()}),I}return h(T,S),P(T,[{key:'_updateValue',value:function(){var I=this.editor.document,R=I.selection.getSelectedElement();this.value=(0,C.isImage)(R)&&R.hasAttribute('alt')&&R.getAttribute('alt')}},{key:'_checkEnabled',value:function(){var I=this.editor.document.selection.getSelectedElement();return(0,C.isImage)(I)}},{key:'_doExecute',value:function(I){var R=this.editor,F=R.document,N=F.selection.getSelectedElement();F.enqueueChanges(function(){var V=I.batch||F.batch();V.setAttribute(N,'alt',I.newValue)})}}]),T}(M.default);o.default=O},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}function d(T,E){if(!(T instanceof E))throw new TypeError('Cannot call a class as a function')}function f(T,E){if(!T)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:T}function h(T,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function T(E,I){for(var R=0,F;R<I.length;R++)F=I[R],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(E,F.key,F)}return function(E,I,R){return I&&T(E.prototype,I),R&&T(E,R),E}}(),w=u(345),M=s(w),C=u(3),O=s(C),S=function(T){function E(){return d(this,E),f(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return h(E,T),P(E,[{key:'init',value:function(){this.editor.commands.set('imageTextAlternative',new M.default(this.editor))}}]),E}(O.default);o.default=S},function(r,o,u){'use strict';function s(D){return D&&D.__esModule?D:{default:D}}function d(D,q){if(!(D instanceof q))throw new TypeError('Cannot call a class as a function')}function f(D,q){if(!D)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return q&&('object'==typeof q||'function'==typeof q)?q:D}function h(D,q){if('function'!=typeof q&&null!==q)throw new TypeError('Super expression must either be null or a function, not '+typeof q);D.prototype=Object.create(q&&q.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(D,q):D.__proto__=q)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function D(q,z){for(var $=0,W;$<z.length;$++)W=z[$],W.enumerable=W.enumerable||!1,W.configurable=!0,'value'in W&&(W.writable=!0),Object.defineProperty(q,W.key,W)}return function(q,z,$){return z&&D(q.prototype,z),$&&D(q,$),q}}(),w=u(9),M=s(w),C=u(26),O=s(C),S=u(6),T=s(S),E=u(184),I=s(E),R=u(183),F=s(R),N=u(182),V=s(N),L=function(D){function q(z){d(this,q);var $=f(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,z)),W=$.locale.t;return $.lebeledInput=$._createLabeledInputView(),$.saveButtonView=$._createButton(W('Save')),$.saveButtonView.type='submit',$.cancelButtonView=$._createButton(W('Cancel'),'cancel'),T.default.extend($.saveButtonView.template,{attributes:{class:['ck-button-action']}}),$.template=new T.default({tag:'form',attributes:{class:['cke-text-alternative-form']},children:[$.lebeledInput,{tag:'div',attributes:{class:['cke-text-alternative-form__actions']},children:[$.saveButtonView,$.cancelButtonView]}]}),(0,V.default)({view:$}),$}return h(q,D),P(q,[{key:'_createButton',value:function($,W){var K=new O.default(this.locale);return K.label=$,K.withText=!0,W&&K.delegate('execute').to(this,W),K}},{key:'_createLabeledInputView',value:function(){var $=this.locale.t,W=new I.default(this.locale,F.default);return W.label=$('Text alternative'),W}}]),q}(M.default);o.default=L},function(r,o,u){'use strict';function s(J){return J&&J.__esModule?J:{default:J}}function d(J,Z){if(!(J instanceof Z))throw new TypeError('Cannot call a class as a function')}function f(J,Z){if(!J)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return Z&&('object'==typeof Z||'function'==typeof Z)?Z:J}function h(J,Z){if('function'!=typeof Z&&null!==Z)throw new TypeError('Super expression must either be null or a function, not '+typeof Z);J.prototype=Object.create(Z&&Z.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(J,Z):J.__proto__=Z)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(J){return J==U.keyCodes.arrowright||J==U.keyCodes.arrowleft||J==U.keyCodes.arrowup||J==U.keyCodes.arrowdown}function w(J){return J==U.keyCodes.delete||J==U.keyCodes.backspace}function M(J){for(;J;){if(J instanceof $.default&&!(J instanceof K.default))return!0;J=J.parent}return!1}Object.defineProperty(o,'__esModule',{value:!0});var C=function(){function J(Z,Y){for(var Q=0,X;Q<Y.length;Q++)X=Y[Q],X.enumerable=X.enumerable||!1,X.configurable=!0,'value'in X&&(X.writable=!0),Object.defineProperty(Z,X.key,X)}return function(Z,Y,Q){return Y&&J(Z.prototype,Y),Q&&J(Z,Q),Z}}(),O=u(3),S=s(O),T=u(176),E=s(T),I=u(326),R=s(I),F=u(2),N=s(F),V=u(60),L=s(V),D=u(5),q=s(D),z=u(74),$=s(z),W=u(170),K=s(W),H=u(119),U=u(22),G=function(J){function Z(){return d(this,Z),f(this,(Z.__proto__||Object.getPrototypeOf(Z)).apply(this,arguments))}return h(Z,J),C(Z,[{key:'init',value:function(){var Q=this,X=this.editor.editing.view;X.addObserver(R.default),this.listenTo(X,'mousedown',function(){return Q._onMousedown.apply(Q,arguments)}),this.listenTo(X,'keydown',function(){return Q._onKeydown.apply(Q,arguments)},{priority:'high'})}},{key:'_onMousedown',value:function(Q,X){var ee=this,te=this.editor,re=te.editing.view,ae=X.target;if(!M(ae)&&((0,H.isWidget)(ae)||(ae=ae.findAncestor(H.isWidget),!!ae))){X.preventDefault(),re.isFocused||re.focus();var oe=te.editing.mapper.toModelElement(ae);te.document.enqueueChanges(function(){ee._setSelectionOverElement(oe)})}}},{key:'_onKeydown',value:function(Q,X){var ee=X.keyCode,te=ee==U.keyCodes.delete||ee==U.keyCodes.arrowdown||ee==U.keyCodes.arrowright;(w(ee)&&this._handleDelete(te)||P(ee)&&this._handleArrowKeys(te))&&(X.preventDefault(),Q.stop())}},{key:'_handleDelete',value:function(Q){var X=this,ee=this.editor.document,te=ee.selection;if(te.isCollapsed){var re=this._getObjectElementNextToSelection(Q);if(re)return ee.enqueueChanges(function(){var ae=te.anchor.parent;if(ae.isEmpty){var oe=ee.batch();oe.remove(ae)}X._setSelectionOverElement(re)}),!0}}},{key:'_handleArrowKeys',value:function(Q){var X=this,ee=this.editor.document,te=ee.schema,re=ee.selection,ae=re.getSelectedElement();if(ae&&te.objects.has(ae.name)){var oe=Q?re.getLastPosition():re.getFirstPosition(),le=ee.getNearestSelectionRange(oe,Q?'forward':'backward');return le&&ee.enqueueChanges(function(){re.setRanges([le])}),!0}if(re.isCollapsed){var ue=this._getObjectElementNextToSelection(Q);if(ue instanceof q.default&&ee.schema.objects.has(ue.name))return ee.enqueueChanges(function(){X._setSelectionOverElement(ue)}),!0}}},{key:'_setSelectionOverElement',value:function(Q){this.editor.document.selection.setRanges([N.default.createOn(Q)])}},{key:'_getObjectElementNextToSelection',value:function(Q){var X=this.editor.document,ee=X.schema,te=X.selection,re=this.editor.data,ae=L.default.createFromSelection(te);re.modifySelection(ae,{direction:Q?'forward':'backward'});var oe=Q?ae.focus.nodeBefore:ae.focus.nodeAfter;return oe instanceof q.default&&ee.objects.has(oe.name)?oe:null}}],[{key:'requires',get:function(){return[E.default]}}]),Z}(S.default);o.default=G},function(r,o,u){'use strict';function s(J){return J&&J.__esModule?J:{default:J}}function d(J,Z){if(!(J instanceof Z))throw new TypeError('Cannot call a class as a function')}function f(J,Z){if(!J)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return Z&&('object'==typeof Z||'function'==typeof Z)?Z:J}function h(J,Z){if('function'!=typeof Z&&null!==Z)throw new TypeError('Super expression must either be null or a function, not '+typeof Z);J.prototype=Object.create(Z&&Z.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(J,Z):J.__proto__=Z)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(J){return J.parent.getAncestors().find(function(Z){return Z instanceof R.default})}Object.defineProperty(o,'__esModule',{value:!0});var w=function(){function J(Z,Y){for(var Q=0,X;Q<Y.length;Q++)X=Y[Q],X.enumerable=X.enumerable||!1,X.configurable=!0,'value'in X&&(X.writable=!0),Object.defineProperty(Z,X.key,X)}return function(Z,Y,Q){return Y&&J(Z.prototype,Y),Q&&J(Z,Q),Z}}(),M=u(3),C=s(M),O=u(322),S=s(O),T=u(351),E=s(T),I=u(178),R=s(I),F=u(181),N=s(F),V=u(26),L=s(V),D=u(185),q=s(D),z=u(352),$=s(z),W=u(517),K=s(W),H=u(518),U=s(H);u(528);var G=function(J){function Z(){return d(this,Z),f(this,(Z.__proto__||Object.getPrototypeOf(Z)).apply(this,arguments))}return h(Z,J),w(Z,[{key:'init',value:function(){this.editor.editing.view.addObserver(S.default),this.balloonPanelView=this._createBalloonPanel(),this.formView=this._createForm(),this._createToolbarLinkButton(),this._createToolbarUnlinkButton()}},{key:'_createToolbarLinkButton',value:function(){var Q=this,X=this.editor,ee=X.commands.get('link'),te=X.t;X.keystrokes.set('CTRL+K',function(){return Q._showPanel()}),X.ui.componentFactory.add('link',function(re){var ae=new L.default(re);return ae.isEnabled=!0,ae.label=te('Link'),ae.icon=K.default,ae.keystroke='CTRL+K',ae.tooltip=!0,ae.bind('isEnabled').to(ee,'isEnabled'),Q.listenTo(ae,'execute',function(){return Q._showPanel()}),ae})}},{key:'_createToolbarUnlinkButton',value:function(){var Q=this,X=this.editor,ee=X.t,te=X.commands.get('unlink');X.ui.componentFactory.add('unlink',function(re){var ae=new L.default(re);return ae.isEnabled=!1,ae.label=ee('Unlink'),ae.icon=U.default,ae.tooltip=!0,ae.bind('isEnabled').to(te,'isEnabled'),Q.listenTo(ae,'execute',function(){return X.execute('unlink')}),ae})}},{key:'_createBalloonPanel',value:function(){var Q=this,X=this.editor,ee=X.editing.view,te=new q.default(X.locale);return te.maxWidth=300,X.ui.focusTracker.add(te.element),this.listenTo(ee,'click',function(){var re=ee.selection,ae=P(re.getFirstPosition());re.isCollapsed&&ae&&(Q._attachPanelToElement(),Q.listenTo(ee,'render',function(){var oe=P(re.getFirstPosition());re.isCollapsed&&ae===oe?Q._attachPanelToElement(ae):Q._hidePanel()}),Q.listenTo(te,'change:isVisible',function(){return Q.stopListening(ee,'render')}))}),X.keystrokes.set('Tab',function(re,ae){te.isVisible&&!Q.formView.focusTracker.isFocused&&(Q.formView.focus(),ae())}),X.keystrokes.set('Esc',function(re,ae){te.isVisible&&(Q._hidePanel(!0),ae())}),(0,N.default)({emitter:te,activator:function(){return te.isVisible},contextElement:te.element,callback:function(){return Q._hidePanel()}}),X.ui.view.body.add(te),te}},{key:'_createForm',value:function(){var Q=this,X=this.editor,ee=new $.default(X.locale);return ee.urlInputView.bind('value').to(X.commands.get('link'),'value'),this.listenTo(ee,'submit',function(){X.execute('link',ee.urlInputView.inputView.element.value),Q._hidePanel(!0)}),this.listenTo(ee,'unlink',function(){X.execute('unlink'),Q._hidePanel(!0)}),ee.keystrokes.set('Esc',function(te,re){Q._hidePanel(!0),re()}),this.listenTo(ee,'cancel',function(){return Q._hidePanel(!0)}),this.balloonPanelView.content.add(ee),ee}},{key:'_attachPanelToElement',value:function(Q){var X=this.editor.editing.view,ee=Q||P(X.selection.getFirstPosition()),te=ee?X.domConverter.getCorrespondingDomElement(ee):X.domConverter.viewRangeToDom(X.selection.getFirstRange());this.balloonPanelView.attachTo({target:te,limiter:X.domConverter.getCorrespondingDomElement(X.selection.editableElement)})}},{key:'_hidePanel',value:function(Q){this.balloonPanelView.hide(),Q&&this.editor.editing.view.focus()}},{key:'_showPanel',value:function(){this._attachPanelToElement(),this.formView.urlInputView.select()}}],[{key:'requires',get:function(){return[E.default]}}]),Z}(C.default);o.default=G},function(r,o,u){'use strict';function s(D){return D&&D.__esModule?D:{default:D}}function d(D,q){if(!(D instanceof q))throw new TypeError('Cannot call a class as a function')}function f(D,q){if(!D)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return q&&('object'==typeof q||'function'==typeof q)?q:D}function h(D,q){if('function'!=typeof q&&null!==q)throw new TypeError('Super expression must either be null or a function, not '+typeof q);D.prototype=Object.create(q&&q.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(D,q):D.__proto__=q)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function D(q,z){for(var $=0,W;$<z.length;$++)W=z[$],W.enumerable=W.enumerable||!1,W.configurable=!0,'value'in W&&(W.writable=!0),Object.defineProperty(q,W.key,W)}return function(q,z,$){return z&&D(q.prototype,z),$&&D(q,$),q}}(),w=u(12),M=s(w),C=u(24),O=s(C),S=u(2),T=s(S),E=u(101),I=s(E),R=u(156),F=s(R),N=u(177),V=s(N),L=function(D){function q(z){d(this,q);var $=f(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,z));return $.set('value',void 0),$.listenTo($.editor.document.selection,'change:attribute',function(){$.value=$.editor.document.selection.getAttribute('linkHref')}),$}return h(q,D),P(q,[{key:'_checkEnabled',value:function(){var $=this.editor.document;return(0,F.default)('linkHref',$.selection,$.schema)}},{key:'_doExecute',value:function($){var W=this.editor.document,K=W.selection;W.enqueueChanges(function(){var H=W.batch();if(K.isCollapsed){var U=K.getFirstPosition(),G=U.parent;if(K.hasAttribute('linkHref')){var J=(0,V.default)(K.getFirstPosition(),K.getAttribute('linkHref'));H.setAttribute(J,'linkHref',$),K.setRanges([J])}else if(W.schema.check({name:'$text',attributes:'linkHref',inside:G.name})){var Z=new O.default($,{linkHref:$});H.insert(U,Z),K.setRanges([T.default.createOn(Z)])}}else{var Y=(0,I.default)('linkHref',K.getRanges(),W.schema),Q=!0,X=!1,ee;try{for(var te=Y[Symbol.iterator](),re,ae;!(Q=(re=te.next()).done);Q=!0)ae=re.value,H.setAttribute(ae,'linkHref',$)}catch(oe){X=!0,ee=oe}finally{try{!Q&&te.return&&te.return()}finally{if(X)throw ee}}}})}}]),q}(M.default);o.default=L},function(r,o,u){'use strict';function s(D){return D&&D.__esModule?D:{default:D}}function d(D,q){if(!(D instanceof q))throw new TypeError('Cannot call a class as a function')}function f(D,q){if(!D)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return q&&('object'==typeof q||'function'==typeof q)?q:D}function h(D,q){if('function'!=typeof q&&null!==q)throw new TypeError('Super expression must either be null or a function, not '+typeof q);D.prototype=Object.create(q&&q.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(D,q):D.__proto__=q)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function D(q,z){for(var $=0,W;$<z.length;$++)W=z[$],W.enumerable=W.enumerable||!1,W.configurable=!0,'value'in W&&(W.writable=!0),Object.defineProperty(q,W.key,W)}return function(q,z,$){return z&&D(q.prototype,z),$&&D(q,$),q}}(),w=u(3),M=s(w),C=u(46),O=s(C),S=u(47),T=s(S),E=u(178),I=s(E),R=u(350),F=s(R),N=u(353),V=s(N),L=function(D){function q(){return d(this,q),f(this,(q.__proto__||Object.getPrototypeOf(q)).apply(this,arguments))}return h(q,D),P(q,[{key:'init',value:function(){var $=this.editor,W=$.data,K=$.editing;$.document.schema.allow({name:'$inline',attributes:'linkHref'}),(0,O.default)().for(W.modelToView,K.modelToView).fromAttribute('linkHref').toElement(function(H){return new I.default('a',{href:H})}),(0,T.default)().for(W.viewToModel).fromElement('a').toAttribute(function(H){return{key:'linkHref',value:H.getAttribute('href')}}),$.commands.set('link',new F.default($)),$.commands.set('unlink',new V.default($))}}]),q}(M.default);o.default=L},function(r,o,u){'use strict';function s(J){return J&&J.__esModule?J:{default:J}}function d(J,Z){if(!(J instanceof Z))throw new TypeError('Cannot call a class as a function')}function f(J,Z){if(!J)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return Z&&('object'==typeof Z||'function'==typeof Z)?Z:J}function h(J,Z){if('function'!=typeof Z&&null!==Z)throw new TypeError('Super expression must either be null or a function, not '+typeof Z);J.prototype=Object.create(Z&&Z.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(J,Z):J.__proto__=Z)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function J(Z,Y){for(var Q=0,X;Q<Y.length;Q++)X=Y[Q],X.enumerable=X.enumerable||!1,X.configurable=!0,'value'in X&&(X.writable=!0),Object.defineProperty(Z,X.key,X)}return function(Z,Y,Q){return Y&&J(Z.prototype,Y),Q&&J(Z,Q),Z}}(),w=function J(Z,Y,Q){null===Z&&(Z=Function.prototype);var X=Object.getOwnPropertyDescriptor(Z,Y);if(X===void 0){var ee=Object.getPrototypeOf(Z);return null===ee?void 0:J(ee,Y,Q)}if('value'in X)return X.value;var te=X.get;return void 0===te?void 0:te.call(Q)},M=u(9),C=s(M),O=u(6),S=s(O),T=u(121),E=s(T),I=u(26),R=s(I),F=u(184),N=s(F),V=u(183),L=s(V),D=u(182),q=s(D),z=u(65),$=s(z),W=u(120),K=s(W),H=u(66),U=s(H),G=function(J){function Z(Y){d(this,Z);var Q=f(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,Y)),X=Y.t;Q.focusTracker=new $.default,Q.keystrokes=new U.default,Q.urlInputView=Q._createUrlInput(),Q.saveButtonView=Q._createButton(X('Save')),Q.saveButtonView.type='submit',Q.cancelButtonView=Q._createButton(X('Cancel'),'cancel'),Q.unlinkButtonView=Q._createButton(X('Unlink'),'unlink'),Q._focusables=new E.default,Q._focusCycler=new K.default({focusables:Q._focusables,focusTracker:Q.focusTracker,keystrokeHandler:Q.keystrokes,actions:{focusPrevious:'shift + tab',focusNext:'tab'}}),S.default.extend(Q.saveButtonView.template,{attributes:{class:['ck-button-action']}}),Q.template=new S.default({tag:'form',attributes:{class:['ck-link-form']},children:[Q.urlInputView,{tag:'div',attributes:{class:['ck-link-form__actions']},children:[Q.saveButtonView,Q.cancelButtonView,Q.unlinkButtonView]}]}),(0,q.default)({view:Q});var ee=[Q.urlInputView,Q.saveButtonView,Q.cancelButtonView,Q.unlinkButtonView];return ee.forEach(function(te){Q._focusables.add(te),Q.focusTracker.add(te.element)}),Q}return h(Z,J),P(Z,[{key:'init',value:function(){return this.keystrokes.listenTo(this.element),w(Z.prototype.__proto__||Object.getPrototypeOf(Z.prototype),'init',this).call(this)}},{key:'focus',value:function(){this._focusCycler.focusFirst()}},{key:'_createUrlInput',value:function(){var Q=this.locale.t,X=new N.default(this.locale,L.default);return X.label=Q('Link URL'),X}},{key:'_createButton',value:function(Q,X){var ee=new R.default(this.locale);return ee.label=Q,ee.withText=!0,X&&ee.delegate('execute').to(this,X),ee}}]),Z}(C.default);o.default=G},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}function d(T,E){if(!(T instanceof E))throw new TypeError('Cannot call a class as a function')}function f(T,E){if(!T)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:T}function h(T,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function T(E,I){for(var R=0,F;R<I.length;R++)F=I[R],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(E,F.key,F)}return function(E,I,R){return I&&T(E.prototype,I),R&&T(E,R),E}}(),w=u(12),M=s(w),C=u(177),O=s(C),S=function(T){function E(I){d(this,E);var R=f(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I));return R.listenTo(I.document.selection,'change:attribute',function(){return R.refreshState()}),R}return h(E,T),P(E,[{key:'_doExecute',value:function(){var R=this.editor.document,F=R.selection;R.enqueueChanges(function(){var N=F.isCollapsed?[(0,O.default)(F.getFirstPosition(),F.getAttribute('linkHref'))]:F.getRanges(),V=R.batch(),L=!0,D=!1,q;try{for(var z=N[Symbol.iterator](),$,W;!(L=($=z.next()).done);L=!0)W=$.value,V.removeAttribute(W,'linkHref')}catch(K){D=!0,q=K}finally{try{!L&&z.return&&z.return()}finally{if(D)throw q}}})}},{key:'_checkEnabled',value:function(){return this.editor.document.selection.hasAttribute('linkHref')}}]),E}(M.default);o.default=S},function(r,o,u){'use strict';function s(de){return de&&de.__esModule?de:{default:de}}function d(de){if(Array.isArray(de)){for(var fe=0,ce=Array(de.length);fe<de.length;fe++)ce[fe]=de[fe];return ce}return Array.from(de)}/**
                                                                                                                                                                                                     * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                     * For licensing, see LICENSE.md.
                                                                                                                                                                                                     */function F(de,fe,ce){var pe=de.nodeBefore,ge=de.nodeAfter;if(ge&&'listItem'==ge.name){for(var me=pe&&pe.is('listItem')?pe.getAttribute('indent')+1:0,ye=ge.getAttribute('indent')-me,be=[];ge&&'listItem'==ge.name&&ge.getAttribute('indent')>me;){ye>ge.getAttribute('indent')&&(ye=ge.getAttribute('indent'));var he=ge.getAttribute('indent')-ye;be.push({item:ge,indent:he}),ge=ge.nextSibling}0<be.length&&fe.enqueueChanges(function(){var ve=!0,ke=!1,Pe;try{for(var we=be.reverse()[Symbol.iterator](),xe,Me;!(ve=(xe=we.next()).done);ve=!0)Me=xe.value,ce.setAttribute(Me.item,'indent',Me.indent)}catch(Ce){ke=!0,Pe=Ce}finally{try{!ve&&we.return&&we.return()}finally{if(ke)throw Pe}}})}}function N(de,fe,ce,pe){var ge=de[fe?'nodeBefore':'nodeAfter'];if(ge){var me=L(ge,{checkAllSiblings:!0,getNext:fe,sameIndent:!0});if(me){var ye=me.getAttribute('indent'),be=me.getAttribute('type');0===ye||ce.enqueueChanges(function(){for(;ge&&ge.is('listItem')&&ge.getAttribute('indent')>=ye;)ge.getAttribute('type')!=be&&ge.getAttribute('indent')==ye&&pe.setAttribute(ge,'type',be),ge=ge[fe?'previousSibling':'nextSibling']})}}}function V(de,fe){var ce='numbered'==de.getAttribute('type')?'ol':'ul',pe=new K.default,ge=new X.default(ce,null);return ge.appendChildren(pe),fe.bindElements(de,pe),pe}function L(de,fe){for(var ce=fe.getNext?'nextSibling':'previousSibling',pe=fe.getNext?'nodeAfter':'nodeBefore',ge=!!fe.checkAllSiblings,me=!!fe.sameIndent,ye=!!fe.biggerIndent,be=!!fe.smallerIndent,he=!!fe.isMapped,ve=de instanceof U.default?de.getAttribute('indent'):fe.indent,ke=de instanceof U.default?de[ce]:de[pe],Pe;ke&&'listItem'==ke.name;){if(Pe=ke.getAttribute('indent'),me&&ve==Pe||ye&&ve<Pe||be&&ve>Pe){if(!he||fe.mapper.toViewElement(ke))return ke;ke=ke[ce];continue}if(!ge)return null;ke=ke[ce]}return null}function D(de,fe){return de&&fe&&('ul'==de.name||'ol'==de.name)&&de.name==fe.name?ie.default.mergeContainers(te.default.createAfter(de)):null}function q(de,fe,ce,pe){var ge=fe.parent,me,ye=L(de,{sameIndent:!0,smallerIndent:!0,checkAllSiblings:!0});if(ye&&ye.getAttribute('indent')==de.getAttribute('indent')){var be=ce.toViewElement(ye);me=ie.default.breakContainer(te.default.createAfter(be))}else ye=de.previousSibling,me=ye&&'listItem'==ye.name?ye.getAttribute('indent')<de.getAttribute('indent')?ce.toViewPosition(J.default.createAt(ye,'end')):pe.parent.is('ul')||pe.parent.is('ol')?ie.default.breakContainer(pe):pe:ce.toViewPosition(J.default.createBefore(de));ie.default.insert(me,ge);var he=L(de,{biggerIndent:!0,getNext:!0,isMapped:!0,mapper:ce});if(he){var ve=ce.toViewElement(he);ie.default.breakContainer(te.default.createBefore(ve));var ke=te.default.createBefore(ve.parent),Pe=$(he),we=ce.toViewElement(Pe),xe=ie.default.breakContainer(te.default.createAfter(we)),Me=new ae.default(ke,xe),Ce=te.default.createAt(fe,'end');ie.default.move(Me,Ce)}D(ge,ge.nextSibling),D(ge.previousSibling,ge)}function z(de,fe,ce,pe,ge){var me=L(fe,{sameIndent:!0,smallerIndent:!0,checkAllSiblings:!0,indent:de}),ye=me?me.getAttribute('indent'):null,be;if(!me)be=ce;else if(ye==de){var he=ge.toViewElement(me).parent;be=te.default.createAfter(he)}else{var ve=J.default.createAt(me,'end');be=ge.toViewPosition(ve)}for(var ke=[].concat(d(pe.getChildren())),Pe=0,we;Pe<ke.length;Pe++)we=ke[Pe],(we.is('ul')||we.is('ol'))&&(be=ie.default.move(ae.default.createOn(we),be).end,D(we,we.nextSibling),D(we.previousSibling,we))}function $(de){for(var fe=de.getAttribute('indent'),ce=de;de.nextSibling&&de.nextSibling.is('listItem')&&de.nextSibling.getAttribute('indent')>=fe;)de=de.nextSibling,de.getAttribute('indent')==fe&&(ce=de);return ce}Object.defineProperty(o,'__esModule',{value:!0}),o.modelViewInsertion=function(de,fe,ce,pe){if(ce.test(fe.item,'insert')&&ce.test(fe.item,'addAttribute:type')&&ce.test(fe.item,'addAttribute:indent')){ce.consume(fe.item,'insert'),ce.consume(fe.item,'addAttribute:type'),ce.consume(fe.item,'addAttribute:indent');var ge=fe.item,me=V(ge,pe.mapper);q(ge,me,pe.mapper)}},o.modelViewChangeType=function(de,fe,ce,pe){if(ce.consume(fe.item,'changeAttribute:type')){var ge=pe.mapper.toViewElement(fe.item);ie.default.breakContainer(te.default.createBefore(ge)),ie.default.breakContainer(te.default.createAfter(ge));var me=ge.parent,ye='numbered'==fe.attributeNewValue?'ol':'ul';me=ie.default.rename(me,ye),D(me,me.nextSibling),D(me.previousSibling,me)}},o.modelViewRemove=function(de,fe,ce,pe){if(ce.consume(fe.item,'remove')){var ge=pe.mapper.toViewPosition(fe.sourcePosition),me=ge.nodeAfter.is('li')?ge.nodeAfter:ge.nodeAfter.getChild(0);ie.default.breakContainer(te.default.createBefore(me)),ie.default.breakContainer(te.default.createAfter(me));var ye=me.parent,be=ye.previousSibling,he=ae.default.createOn(ye);ie.default.remove(he),be&&be.nextSibling&&D(be,be.nextSibling),z(fe.item.getAttribute('indent')+1,fe.sourcePosition,he.start,me,pe.mapper),'$graveyard'==fe.item.root.rootName&&pe.mapper.unbindModelElement(fe.item)}},o.modelViewChangeIndent=function(de,fe,ce,pe){if(ce.consume(fe.item,'changeAttribute:indent')){var ge=pe.mapper.toViewElement(fe.item);ie.default.breakContainer(te.default.createBefore(ge)),ie.default.breakContainer(te.default.createAfter(ge));var me=ge.parent,ye=me.previousSibling,be=ae.default.createOn(me);ie.default.remove(be);var he;ye&&ye.nextSibling&&(he=D(ye,ye.nextSibling)),he||(he=be.start),z(fe.attributeOldValue+1,fe.range.start,be.start,ge,pe.mapper),q(fe.item,ge,pe.mapper,he)}},o.modelViewSplitOnInsert=function(de,fe,ce,pe){if('listItem'!=fe.item.name){for(var ge=pe.mapper.toViewPosition(fe.range.start),me=[];('ul'==ge.parent.name||'ol'==ge.parent.name)&&(ge=ie.default.breakContainer(ge),'li'==ge.parent.name);){var ye=ge,be=te.default.createAt(ge.parent,'end');if(!ye.isEqual(be)){var he=ie.default.remove(new ae.default(ye,be));me.push(he)}ge=te.default.createAfter(ge.parent)}if(0<me.length){for(var ve=0;ve<me.length;ve++){var ke=ge.nodeBefore,Pe=ie.default.insert(ge,me[ve]);if(ge=Pe.end,0<ve){var we=D(ke,ke.nextSibling);we&&we.parent==ke&&ge.offset--}}D(ge.nodeBefore,ge.nodeAfter)}}},o.modelViewMergeAfter=function(de,fe,ce,pe){if(!fe.item.is('listItem')){var ge=pe.mapper.toViewPosition(fe.sourcePosition),me=ge.nodeBefore,ye=ge.nodeAfter;D(me,ye)}},o.viewModelConverter=function(de,fe,ce,pe){if(ce.consume(fe.input,{name:!0})){var ge=new U.default('listItem');fe.indent=fe.indent?fe.indent:0;var me='ul'==fe.input.parent.name?'bulleted':'numbered';ge.setAttribute('type',me),ge.setAttribute('indent',fe.indent),fe.context.push(ge),fe.indent++;var ye=[ge],be=!0,he=!1,ve;try{for(var ke=fe.input.getChildren()[Symbol.iterator](),Pe;!(be=(Pe=ke.next()).done);be=!0){var we=Pe.value,xe=pe.convertItem(we,ce,fe);'ul'==we.name||'ol'==we.name?ye=ye.concat(Array.from(xe.getChildren())):Y.default.insert(J.default.createAt(ge,'end'),xe)}}catch(Me){he=!0,ve=Me}finally{try{!be&&ke.return&&ke.return()}finally{if(he)throw ve}}fe.indent--,fe.context.pop(),fe.output=ye}},o.cleanList=function(de,fe,ce){if(ce.test(fe.input,{name:!0})){var pe=Array.from(fe.input.getChildren()),ge=!0,me=!1,ye;try{for(var be=pe[Symbol.iterator](),he,ve;!(ge=(he=be.next()).done);ge=!0)ve=he.value,ve.is('li')||ve.remove()}catch(ke){me=!0,ye=ke}finally{try{!ge&&be.return&&be.return()}finally{if(me)throw ye}}}},o.cleanListItem=function(de,fe,ce){if(ce.test(fe.input,{name:!0})){if(0===fe.input.childCount)return;var pe=[].concat(d(fe.input.getChildren())),ge=!1,me=!0,ye=!0,be=!1,he;try{for(var ve=pe[Symbol.iterator](),ke,Pe;!(ye=(ke=ve.next()).done);ye=!0)Pe=ke.value,!ge||Pe.is('ul')||Pe.is('ol')||Pe.remove(),Pe.is('text')?(me&&(Pe.data=Pe.data.replace(/^\s+/,'')),(!Pe.nextSibling||Pe.nextSibling.is('ul')||Pe.nextSibling.is('ol'))&&(Pe.data=Pe.data.replace(/\s+$/,''))):(Pe.is('ul')||Pe.is('ol'))&&(ge=!0),me=!1}catch(we){be=!0,he=we}finally{try{!ye&&ve.return&&ve.return()}finally{if(be)throw he}}}},o.modelToViewPosition=function(de,fe){var ce=fe.modelPosition.nodeBefore;if(ce&&ce.is('listItem')){var pe=fe.mapper.toViewElement(ce),ge=pe.getAncestors().find(function(we){return we.is('ul')||we.is('ol')}),me=new le.default({startPosition:te.default.createAt(pe,0)}),ye=!0,be=!1,he;try{for(var ve=me[Symbol.iterator](),ke,Pe;!(ye=(ke=ve.next()).done);ye=!0)if(Pe=ke.value,'elementStart'==Pe.type&&Pe.item.is('li')){fe.viewPosition=Pe.previousPosition;break}else if('elementEnd'==Pe.type&&Pe.item==ge){fe.viewPosition=Pe.nextPosition;break}}catch(we){be=!0,he=we}finally{try{!ye&&ve.return&&ve.return()}finally{if(be)throw he}}}},o.viewToModelPosition=function(de,fe){var ce=fe.viewPosition,pe=ce.parent,ge=fe.mapper;if('ul'==pe.name||'ol'==pe.name){if(!ce.isAtEnd){var me=ge.toModelElement(ce.nodeAfter);fe.modelPosition=J.default.createBefore(me)}else{var ye=ge.toModelElement(ce.nodeBefore),be=ge.getModelLength(ce.nodeBefore);fe.modelPosition=J.default.createBefore(ye).getShiftedBy(be)}de.stop()}else if('li'==pe.name&&ce.nodeBefore&&('ul'==ce.nodeBefore.name||'ol'==ce.nodeBefore.name)){for(var he=ge.toModelElement(pe),ve=1,ke=ce.nodeBefore;ke&&(ke.is('ul')||ke.is('ol'));)ve+=ge.getModelLength(ke),ke=ke.previousSibling;fe.modelPosition=J.default.createBefore(he).getShiftedBy(ve),de.stop()}},o.modelChangePostFixer=function(de){return function(fe,ce,pe,ge){if('remove'==ce)F(pe.sourcePosition,de,ge),N(pe.sourcePosition,!1,de,ge);else if('move'==ce)F(pe.sourcePosition,de,ge),N(pe.sourcePosition,!1,de,ge),F(pe.range.start,de,ge),N(pe.range.start,!1,de,ge),F(pe.range.end,de,ge),N(pe.range.end,!0,de,ge);else if('rename'==ce&&'listItem'==pe.oldName&&'listItem'!=pe.newName){var me=pe.element;de.enqueueChanges(function(){ge.removeAttribute(me,'indent').removeAttribute(me,'type')});var ye=J.default.createAfter(pe.element);F(ye,de,ge)}else'insert'==ce&&(F(pe.range.start,de,ge),N(pe.range.start,!1,de,ge),F(pe.range.end,de,ge),N(pe.range.end,!0,de,ge))}};var W=u(358),K=s(W),H=u(5),U=s(H),G=u(1),J=s(G),Z=u(18),Y=s(Z),Q=u(39),X=s(Q),ee=u(25),te=s(ee),re=u(29),ae=s(re),oe=u(50),le=s(oe),ue=u(77),ie=s(ue)},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}function d(T,E){if(!(T instanceof E))throw new TypeError('Cannot call a class as a function')}function f(T,E){if(!T)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:T}function h(T,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function T(E,I){for(var R=0,F;R<I.length;R++)F=I[R],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(E,F.key,F)}return function(E,I,R){return I&&T(E.prototype,I),R&&T(E,R),E}}(),w=u(12),M=s(w),C=u(192),O=s(C),S=function(T){function E(I,R){d(this,E);var F=f(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I));return F._indentBy='forward'==R?1:-1,F.listenTo(I.document.selection,'change:range',function(){F.refreshState()}),F.listenTo(I.document,'changesDone',function(){F.refreshState()}),F}return h(E,T),P(E,[{key:'_doExecute',value:function(){var R=this,F=this.editor.document,N=F.batch(),V=Array.from(F.selection.getSelectedBlocks());F.enqueueChanges(function(){for(var L=V[V.length-1],D=L.nextSibling;D&&'listItem'==D.name&&D.getAttribute('indent')>L.getAttribute('indent');)V.push(D),D=D.nextSibling;0>R._indentBy&&(V=V.reverse());var q=!0,z=!1,$;try{for(var W=V[Symbol.iterator](),K;!(q=(K=W.next()).done);q=!0){var H=K.value,U=H.getAttribute('indent')+R._indentBy;if(0>U)N.rename(H,'paragraph');else{if(0<U&&0>R._indentBy){for(var G=H.previousSibling;G.getAttribute('indent')>U;)G=G.previousSibling;G.getAttribute('type')!=H.getAttribute('type')&&N.setAttribute(H,'type',G.getAttribute('type'))}N.setAttribute(H,'indent',U)}}}catch(J){z=!0,$=J}finally{try{!q&&W.return&&W.return()}finally{if(z)throw $}}})}},{key:'_checkEnabled',value:function(){var R=(0,O.default)(this.editor.document.selection.getSelectedBlocks());if(!R||!R.is('listItem'))return!1;var F=R.previousSibling,N=R.getAttribute('indent'),V=N+this._indentBy;if(0<this._indentBy){if(!F||'listItem'!=F.name)return!1;if(F.getAttribute('indent')+1<V)return!1}return!0}}]),E}(M.default);o.default=S},function(r,o,u){'use strict';function s(L){return L&&L.__esModule?L:{default:L}}function d(L,D){if(!(L instanceof D))throw new TypeError('Cannot call a class as a function')}function f(L,D){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return D&&('object'==typeof D||'function'==typeof D)?D:L}function h(L,D){if('function'!=typeof D&&null!==D)throw new TypeError('Super expression must either be null or a function, not '+typeof D);L.prototype=Object.create(D&&D.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(L,D):L.__proto__=D)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function L(D,q){for(var z=0,$;z<q.length;z++)$=q[z],$.enumerable=$.enumerable||!1,$.configurable=!0,'value'in $&&($.writable=!0),Object.defineProperty(D,$.key,$)}return function(D,q,z){return q&&L(D.prototype,q),z&&L(D,z),D}}(),w=u(179),M=s(w),C=u(520),O=s(C),S=u(519),T=s(S),E=u(3),I=s(E),R=u(22),F=u(26),N=s(F),V=function(L){function D(){return d(this,D),f(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return h(D,L),P(D,[{key:'init',value:function(){var z=this,$=this.editor.t;this._addButton('numberedList',$('Numbered List'),O.default),this._addButton('bulletedList',$('Bulleted List'),T.default),this.listenTo(this.editor.editing.view,'enter',function(W,K){var H=z.editor.document,U=H.selection.getLastPosition().parent;H.selection.isCollapsed&&'listItem'==U.name&&U.isEmpty&&(z.editor.execute('outdentList'),K.preventDefault(),W.stop())}),this.listenTo(this.editor.editing.view,'keydown',function(W,K){var H;if(K.keystroke==(0,R.parseKeystroke)('Tab')?H='indentList':K.keystroke==(0,R.parseKeystroke)('Shift+Tab')&&(H='outdentList'),H){var U=z.editor.commands.get(H);U.isEnabled&&(z.editor.execute(H),K.preventDefault(),W.stop())}})}},{key:'_addButton',value:function(z,$,W){var K=this,H=this.editor,U=H.commands.get(z);H.ui.componentFactory.add(z,function(G){var J=new N.default(G);return J.set({label:$,icon:W,tooltip:!0}),J.bind('isOn','isEnabled').to(U,'value','isEnabled'),K.listenTo(J,'execute',function(){return H.execute(z)}),J})}}],[{key:'requires',get:function(){return[M.default]}}]),D}(I.default);o.default=V},function(r,o,u){'use strict';function s(R){return R&&R.__esModule?R:{default:R}}function d(R,F){if(!(R instanceof F))throw new TypeError('Cannot call a class as a function')}function f(R,F){if(!R)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:R}function h(R,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);R.prototype=Object.create(F&&F.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(R,F):R.__proto__=F)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(R,F,N){var V=F?R[0]:R[R.length-1];if(V.is('listItem'))for(var L=V[F?'previousSibling':'nextSibling'],D=V.getAttribute('indent');L&&L.is('listItem')&&L.getAttribute('indent')>=N;)D>L.getAttribute('indent')&&(D=L.getAttribute('indent')),L.getAttribute('indent')==D&&R[F?'unshift':'push'](L),L=L[F?'previousSibling':'nextSibling']}Object.defineProperty(o,'__esModule',{value:!0});var w=function(){function R(F,N){for(var V=0,L;V<N.length;V++)L=N[V],L.enumerable=L.enumerable||!1,L.configurable=!0,'value'in L&&(L.writable=!0),Object.defineProperty(F,L.key,L)}return function(F,N,V){return N&&R(F.prototype,N),V&&R(F,V),F}}(),M=u(12),C=s(M),O=u(1),S=s(O),T=u(192),E=s(T),I=function(R){function F(N,V){d(this,F);var L=f(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,N));L.type='bulleted'==V?'bulleted':'numbered',L.set('value',!1);var D=function(){L.refreshValue(),L.refreshState()};return L.listenTo(N.document.selection,'change:range',D),L.listenTo(N.document,'changesDone',D),L}return h(F,R),w(F,[{key:'refreshValue',value:function(){var V=(0,E.default)(this.editor.document.selection.getSelectedBlocks());this.value=null!==V&&V.getAttribute('type')==this.type}},{key:'_doExecute',value:function(){var V=this,L=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},D=this.editor.document,q=Array.from(D.selection.getSelectedBlocks()),z=!0===this.value;D.enqueueChanges(function(){var $=L.batch||D.batch();if(z){for(var W=q[q.length-1].nextSibling,K=_NumberPOSITIVE_INFINITY,H=[],U;W&&'listItem'==W.name&&0!==W.getAttribute('indent');){U=W.getAttribute('indent'),U<K&&(K=U);var G=U-K;H.push({element:W,indent:G}),W=W.nextSibling}H=H.reverse();var J=!0,Z=!1,Y;try{for(var Q=H[Symbol.iterator](),X,ee;!(J=(X=Q.next()).done);J=!0)ee=X.value,$.setAttribute(ee.element,'indent',ee.indent)}catch(ye){Z=!0,Y=ye}finally{try{!J&&Q.return&&Q.return()}finally{if(Z)throw Y}}}if(!z){var te=_NumberPOSITIVE_INFINITY,re=!0,ae=!1,oe;try{for(var le=q[Symbol.iterator](),ue,ie;!(re=(ue=le.next()).done);re=!0)ie=ue.value,ie.is('listItem')&&ie.getAttribute('indent')<te&&(te=ie.getAttribute('indent'))}catch(ye){ae=!0,oe=ye}finally{try{!re&&le.return&&le.return()}finally{if(ae)throw oe}}te=0===te?1:te,P(q,!0,te),P(q,!1,te)}var de=!0,fe=!1,ce;try{for(var pe=q.reverse()[Symbol.iterator](),ge,me;!(de=(ge=pe.next()).done);de=!0)me=ge.value,z&&'listItem'==me.name?$.rename(me,'paragraph'):z||'listItem'==me.name?!z&&'listItem'==me.name&&me.getAttribute('type')!=V.type&&$.setAttribute(me,'type',V.type):$.setAttribute(me,'type',V.type).setAttribute(me,'indent',0).rename(me,'listItem')}catch(ye){fe=!0,ce=ye}finally{try{!de&&pe.return&&pe.return()}finally{if(fe)throw ce}}})}},{key:'_checkEnabled',value:function(){if(this.value)return!0;var V=this.editor.document.selection,L=this.editor.document.schema,D=(0,E.default)(V.getSelectedBlocks());return!!D&&L.check({name:'listItem',attributes:['type','indent'],inside:S.default.createBefore(D)})}}]),F}(C.default);o.default=I},function(r,o,u){'use strict';function d(O,S){if(!(O instanceof S))throw new TypeError('Cannot call a class as a function')}function f(O,S){if(!O)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return S&&('object'==typeof S||'function'==typeof S)?S:O}function h(O,S){if('function'!=typeof S&&null!==S)throw new TypeError('Super expression must either be null or a function, not '+typeof S);O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(O,S):O.__proto__=S)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(){var O=!this.isEmpty&&('ul'==this.getChild(0).name||'ol'==this.getChild(0).name);return this.isEmpty||O?0:null}Object.defineProperty(o,'__esModule',{value:!0});var w=u(39),M=function(O){return O&&O.__esModule?O:{default:O}}(w),C=function(O){function S(T,E){d(this,S);var I=f(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,'li',T,E));return I.getFillerOffset=P,I}return h(S,O),S}(M.default);o.default=C},function(r,o,u){'use strict';function d(O,S){if(!(O instanceof S))throw new TypeError('Cannot call a class as a function')}function f(O,S){if(!O)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return S&&('object'==typeof S||'function'==typeof S)?S:O}function h(O,S){if('function'!=typeof S&&null!==S)throw new TypeError('Super expression must either be null or a function, not '+typeof S);O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(O,S):O.__proto__=S)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function O(S,T){for(var E=0,I;E<T.length;E++)I=T[E],I.enumerable=I.enumerable||!1,I.configurable=!0,'value'in I&&(I.writable=!0),Object.defineProperty(S,I.key,I)}return function(S,T,E){return T&&O(S.prototype,T),E&&O(S,E),S}}(),w=u(12),M=function(O){return O&&O.__esModule?O:{default:O}}(w),C=function(O){function S(T){d(this,S);var E=f(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,T));return E.set('value',!1),E.listenTo(T.document,'changesDone',function(){return E._updateValue()}),E}return h(S,O),P(S,[{key:'_doExecute',value:function(){var E=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},I=this.editor.document;I.enqueueChanges(function(){var R=E.batch||I.batch(),F=(E.selection||I.selection).getSelectedBlocks(),N=!0,V=!1,L;try{for(var D=F[Symbol.iterator](),q,z;!(N=(q=D.next()).done);N=!0)z=q.value,z.is('paragraph')||R.rename(z,'paragraph')}catch($){V=!0,L=$}finally{try{!N&&D.return&&D.return()}finally{if(V)throw L}}})}},{key:'_updateValue',value:function(){var E=this.editor.document.selection.getSelectedBlocks().next().value;E&&(this.value=E.is('paragraph'))}}]),S}(M.default);o.default=C},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}function d(I,R){if(!(I instanceof R))throw new TypeError('Cannot call a class as a function')}function f(I,R){if(!I)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return R&&('object'==typeof R||'function'==typeof R)?R:I}function h(I,R){if('function'!=typeof R&&null!==R)throw new TypeError('Super expression must either be null or a function, not '+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function I(R,F){for(var N=0,V;N<F.length;N++)V=F[N],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}return function(R,F,N){return F&&I(R.prototype,F),N&&I(R,N),R}}(),w=u(3),M=s(w),C=u(361),O=s(C),S=u(362),T=s(S),E=function(I){function R(){return d(this,R),f(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return h(R,I),P(R,[{key:'init',value:function(){var N=this.editor,V=N.editing.view;V.addObserver(T.default),N.commands.set('forwardDelete',new O.default(N,'forward')),N.commands.set('delete',new O.default(N,'backward')),this.listenTo(V,'delete',function(L,D){N.execute('forward'==D.direction?'forwardDelete':'delete',{unit:D.unit}),D.preventDefault()})}}]),R}(M.default);o.default=E},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}function d(F,N){if(!(F instanceof N))throw new TypeError('Cannot call a class as a function')}function f(F,N){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:F}function h(F,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function F(N,V){for(var L=0,D;L<V.length;L++)D=V[L],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}return function(N,V,L){return V&&F(N.prototype,V),L&&F(N,L),N}}(),w=u(12),M=s(w),C=u(60),O=s(C),S=u(180),T=s(S),E=u(188),I=s(E),R=function(F){function N(V,L){d(this,N);var D=f(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,V));return D.direction=L,D._buffer=new T.default(V.document,V.config.get('typing.undoStep')),D}return h(N,F),P(N,[{key:'_doExecute',value:function(){var L=this,D=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},q=this.editor.document,z=this.editor.data;q.enqueueChanges(function(){L._buffer.lock();var $=O.default.createFromSelection(q.selection);if($.isCollapsed&&z.modifySelection($,{direction:L.direction,unit:D.unit}),!$.isCollapsed){var W=0;$.getFirstRange().getMinimalFlatRanges().forEach(function(K){W+=(0,I.default)(K.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),z.deleteContent($,L._buffer.batch,{merge:!0}),L._buffer.input(W),q.selection.setRanges($.getRanges(),$.isBackward),L._buffer.unlock()}})}}]),N}(M.default);o.default=R},function(r,o,u){'use strict';function s(E){return E&&E.__esModule?E:{default:E}}function d(E,I){if(!(E instanceof I))throw new TypeError('Cannot call a class as a function')}function f(E,I){if(!E)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return I&&('object'==typeof I||'function'==typeof I)?I:E}function h(E,I){if('function'!=typeof I&&null!==I)throw new TypeError('Super expression must either be null or a function, not '+typeof I);E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(E,I):E.__proto__=I)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function E(I,R){for(var F=0,N;F<R.length;F++)N=R[F],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}return function(I,R,F){return R&&E(I.prototype,R),F&&E(I,F),I}}(),w=u(49),M=s(w),C=u(118),O=s(C),S=u(22),T=function(E){function I(R){d(this,I);var F=f(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,R));return R.on('keydown',function(N,V){var L={};if(V.keyCode==S.keyCodes.delete)L.direction='forward',L.unit='character';else if(V.keyCode==S.keyCodes.backspace)L.direction='backward',L.unit='codePoint';else return;L.unit=V.altKey?'word':L.unit,R.fire('delete',new O.default(R,V.domEvent,L))}),F}return h(I,E),P(I,[{key:'observe',value:function(){}}]),I}(M.default);o.default=T},function(r,o,u){'use strict';function s(G){return G&&G.__esModule?G:{default:G}}function d(G,J){if(!(G instanceof J))throw new TypeError('Cannot call a class as a function')}function f(G,J){if(!G)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return J&&('object'==typeof J||'function'==typeof J)?J:G}function h(G,J){if('function'!=typeof J&&null!==J)throw new TypeError('Super expression must either be null or a function, not '+typeof J);G.prototype=Object.create(J&&J.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(G,J):G.__proto__=J)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */function P(G){return!!G.ctrlKey||H.includes(G.keyCode)}function w(G,J){return G instanceof F.default&&J instanceof F.default?G.data===J.data:G===J}Object.defineProperty(o,'__esModule',{value:!0});var M=function(){function G(J,Z){for(var Y=0,Q;Y<Z.length;Y++)Q=Z[Y],Q.enumerable=Q.enumerable||!1,Q.configurable=!0,'value'in Q&&(Q.writable=!0),Object.defineProperty(J,Q.key,Q)}return function(J,Z,Y){return Z&&G(J.prototype,Z),Y&&G(J,Y),J}}(),C=u(3),O=s(C),S=u(2),T=s(S),E=u(25),I=s(E),R=u(30),F=s(R),N=u(189),V=s(N),L=u(389),D=s(L),q=u(22),z=u(364),$=s(z),W=function(G){function J(){return d(this,J),f(this,(J.__proto__||Object.getPrototypeOf(J)).apply(this,arguments))}return h(J,G),M(J,[{key:'init',value:function(){var Y=this,Q=this.editor,X=Q.editing.view,ee=new $.default(Q,Q.config.get('typing.undoStep')||20);Q.commands.set('input',ee),this.listenTo(X,'keydown',function(te,re){Y._handleKeydown(re,ee.buffer)},{priority:'lowest'}),this.listenTo(X,'mutations',function(te,re,ae){Y._handleMutations(re,ae)})}},{key:'_handleKeydown',value:function(Y,Q){var X=this,ee=this.editor.document;P(Y)||ee.selection.isCollapsed||(Q.lock(),ee.enqueueChanges(function(){X.editor.data.deleteContent(ee.selection,Q.batch)}),Q.unlock())}},{key:'_handleMutations',value:function(Y,Q){new K(this.editor).handle(Y,Q)}}]),J}(O.default);o.default=W;for(var K=function(){function G(J){d(this,G),this.editor=J,this.editing=this.editor.editing}return M(G,[{key:'handle',value:function(Z,Y){var Q=!0,X=!1,ee;try{for(var te=Z[Symbol.iterator](),re,ae;!(Q=(re=te.next()).done);Q=!0)ae=re.value,this._handleTextMutation(ae,Y),this._handleTextNodeInsertion(ae)}catch(oe){X=!0,ee=oe}finally{try{!Q&&te.return&&te.return()}finally{if(X)throw ee}}}},{key:'_handleTextMutation',value:function(Z,Y){if('text'==Z.type){for(var Q=Z.newText.replace(/\u00A0/g,' '),X=Z.oldText.replace(/\u00A0/g,' '),ee=(0,V.default)(X,Q),te=null,re=null,ae=0,oe;ae<ee.length;ae++)oe=ee[ae],'equal'!=oe&&(te=null==te?ae:te,re=ae);for(var le=0,ue=0,ie=te;ie<=re;ie++)'insert'!=ee[ie]&&le++,'delete'!=ee[ie]&&ue++;var de=null;Y&&(de=this.editing.mapper.toModelRange(Y.getFirstRange()));var fe=new I.default(Z.node,te),ce=this.editing.mapper.toModelPosition(fe),pe=T.default.createFromPositionAndShift(ce,le),ge=Q.substr(te,ue);this.editor.execute('input',{text:ge,range:pe,resultRange:de})}}},{key:'_handleTextNodeInsertion',value:function(Z){if('children'==Z.type&&1==Z.newChildren.length-Z.oldChildren.length){var Y=(0,V.default)(Z.oldChildren,Z.newChildren,w),Q=(0,D.default)(Y,Z.newChildren);if(!(1<Q.length)){var X=Q[0];if(X.values[0]instanceof F.default){var ee=new I.default(Z.node,X.index),te=this.editing.mapper.toModelPosition(ee),re=X.values[0].data;this.editor.execute('input',{text:re.replace(/\u00A0/g,' '),range:new T.default(te)})}}}}}]),G}(),H=[(0,q.getCode)('arrowUp'),(0,q.getCode)('arrowRight'),(0,q.getCode)('arrowDown'),(0,q.getCode)('arrowLeft'),9,16,17,18,20,27,33,34,35,36,229],U=112;135>=U;U++)H.push(U)},function(r,o,u){'use strict';function s(E){return E&&E.__esModule?E:{default:E}}function d(E,I){if(!(E instanceof I))throw new TypeError('Cannot call a class as a function')}function f(E,I){if(!E)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return I&&('object'==typeof I||'function'==typeof I)?I:E}function h(E,I){if('function'!=typeof I&&null!==I)throw new TypeError('Super expression must either be null or a function, not '+typeof I);E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(E,I):E.__proto__=I)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function E(I,R){for(var F=0,N;F<R.length;F++)N=R[F],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}return function(I,R,F){return R&&E(I.prototype,R),F&&E(I,F),I}}(),w=function E(I,R,F){null===I&&(I=Function.prototype);var N=Object.getOwnPropertyDescriptor(I,R);if(N===void 0){var V=Object.getPrototypeOf(I);return null===V?void 0:E(V,R,F)}if('value'in N)return N.value;var L=N.get;return void 0===L?void 0:L.call(F)},M=u(12),C=s(M),O=u(180),S=s(O),T=function(E){function I(R,F){d(this,I);var N=f(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,R));return N._buffer=new S.default(R.document,F),N}return h(I,E),P(I,[{key:'destroy',value:function(){w(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),'destroy',this).call(this),this._buffer.destroy(),this._buffer=null}},{key:'_doExecute',value:function(){var F=this,N=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},V=this.editor.document,L=N.text||'',D=L.length,q=N.range||V.selection.getFirstRange(),z=N.resultRange;V.enqueueChanges(function(){var $=q.isCollapsed;F._buffer.lock(),$||F._buffer.batch.remove(q),F._buffer.batch.weakInsert(q.start,L),z?F.editor.data.model.selection.setRanges([z]):$&&F.editor.data.model.selection.collapse(q.start.getShiftedBy(D)),F._buffer.unlock(),F._buffer.input(D)})}},{key:'buffer',get:function(){return this._buffer}}]),I}(C.default);o.default=T},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}function d(I,R){if(!(I instanceof R))throw new TypeError('Cannot call a class as a function')}function f(I,R){if(!I)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return R&&('object'==typeof R||'function'==typeof R)?R:I}function h(I,R){if('function'!=typeof R&&null!==R)throw new TypeError('Super expression must either be null or a function, not '+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function I(R,F){for(var N=0,V;N<F.length;N++)V=F[N],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}return function(R,F,N){return F&&I(R.prototype,F),N&&I(R,N),R}}(),w=u(3),M=s(w),C=u(363),O=s(C),S=u(360),T=s(S),E=function(I){function R(){return d(this,R),f(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return h(R,I),P(R,null,[{key:'requires',get:function(){return[O.default,T.default]}}]),R}(M.default);o.default=E},function(r,o,u){'use strict';/**
   * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
   * For licensing, see LICENSE.md.
   */Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(f){var h=f.emitter,P=f.activator,w=f.callback;h.listenTo(document,'keydown',function(M,C){var O=C.keyCode;O==d.keyCodes.esc&&P()&&w()})};var d=u(22)},function(r,o,u){'use strict';function d(M,C){if(!(M instanceof C))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function M(C,O){for(var S=0,T;S<O.length;S++)T=O[S],T.enumerable=T.enumerable||!1,T.configurable=!0,'value'in T&&(T.writable=!0),Object.defineProperty(C,T.key,T)}return function(C,O,S){return O&&M(C.prototype,O),S&&M(C,S),C}}(),h=u(0),P=function(M){return M&&M.__esModule?M:{default:M}}(h),w=function(){function M(C){d(this,M),this.editor=C,this._components=new Map}return f(M,[{key:'add',value:function(O,S){if(this._components.get(O))throw new P.default('componentfactory-item-exists: The item already exists in the component factory.',{name:O});this._components.set(O,S)}},{key:'create',value:function(O){return this._components.get(O)(this.editor.locale)}}]),M}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=w},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}/**
   * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
   * For licensing, see LICENSE.md.
   */Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(O,S){var T=new h.default(S);T.bind('label','isOn','isEnabled','withText','keystroke','tooltip').to(O);var E=new C.default(S);return new w.default(S,T,E)};var f=u(26),h=s(f),P=u(370),w=s(P),M=u(369),C=s(M)},function(r,o,u){'use strict';function s(S){return S&&S.__esModule?S:{default:S}}function d(S,T){if(!(S instanceof T))throw new TypeError('Cannot call a class as a function')}function f(S,T){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return T&&('object'==typeof T||'function'==typeof T)?T:S}function h(S,T){if('function'!=typeof T&&null!==T)throw new TypeError('Super expression must either be null or a function, not '+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=u(9),w=s(P),M=u(6),C=s(M),O=function(S){function T(E){d(this,T);var I=f(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,E)),R=I.bindTemplate;return I.set('isVisible',!1),I.children=I.createCollection(),I.template=new C.default({tag:'div',attributes:{class:['ck-reset','ck-dropdown__panel',R.if('isVisible','ck-dropdown__panel-visible')]},children:I.children}),I}return h(T,S),T}(w.default);o.default=O},function(r,o,u){'use strict';function s(N){return N&&N.__esModule?N:{default:N}}function d(N,V){if(!(N instanceof V))throw new TypeError('Cannot call a class as a function')}function f(N,V){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:N}function h(N,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);N.prototype=Object.create(V&&V.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(N,V):N.__proto__=V)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function N(V,L){for(var D=0,q;D<L.length;D++)q=L[D],q.enumerable=q.enumerable||!1,q.configurable=!0,'value'in q&&(q.writable=!0),Object.defineProperty(V,q.key,q)}return function(V,L,D){return L&&N(V.prototype,L),D&&N(V,D),V}}(),w=function N(V,L,D){null===V&&(V=Function.prototype);var q=Object.getOwnPropertyDescriptor(V,L);if(q===void 0){var z=Object.getPrototypeOf(V);return null===z?void 0:N(z,L,D)}if('value'in q)return q.value;var $=q.get;return void 0===$?void 0:$.call(D)},M=u(9),C=s(M),O=u(6),S=s(O),T=u(65),E=s(T),I=u(66),R=s(I),F=function(N){function V(L,D,q){d(this,V);var z=f(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,L));return S.default.extend(D.template,{attributes:{class:['ck-dropdown__button']}}),z.buttonView=D,z.panelView=q,z.set('isOpen',!1),z.focusTracker=new E.default,z.keystrokes=new R.default,z.template=new S.default({tag:'div',attributes:{class:['ck-dropdown']},children:[D,q]}),z.listenTo(D,'execute',function(){return z.isOpen=!z.isOpen}),q.bind('isVisible').to(z,'isOpen'),z}return h(V,N),P(V,[{key:'init',value:function(){var D=this;this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);var q=function($,W){D.isOpen&&(D.buttonView.focus(),D.isOpen=!1,W())};return this.keystrokes.set('arrowdown',function(z,$){D.isOpen||(D.isOpen=!0,$())}),this.keystrokes.set('arrowright',function(z,$){D.isOpen&&$()}),this.keystrokes.set('arrowleft',q),this.keystrokes.set('esc',q),w(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),'init',this).call(this)}},{key:'focus',value:function(){this.buttonView.focus()}}]),V}(C.default);o.default=F},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}function d(T){if(Array.isArray(T)){for(var E=0,I=Array(T.length);E<T.length;E++)I[E]=T[E];return I}return Array.from(T)}/**
                                                                                                                                                                                                     * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                     * For licensing, see LICENSE.md.
                                                                                                                                                                                                     */function h(T){T.listenTo(document,'click',function(E,I){var R=I.target;T.element==R||T.element.contains(R)||(T.isOpen=!1)})}Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(T,E){var I=(0,S.default)(T,E),R=I.listView=new w.default(E);return R.items.bindTo(T.items).using(function(F){var N=new C.default(E);return N.bind.apply(N,d(Object.keys(F))).to(F),N}),R.items.delegate('execute').to(I),I.panelView.children.add(R),I.on('change:isOpen',function(F,N,V){V?h(I):I.stopListening(document)}),I.on('execute',function(){I.isOpen=!1}),I.keystrokes.set('arrowdown',function(F,N){I.isOpen&&(R.focus(),N())}),I.keystrokes.set('arrowup',function(F,N){I.isOpen&&(R.focusLast(),N())}),I};var P=u(379),w=s(P),M=u(378),C=s(M),O=u(368),S=s(O)},function(r,o,u){'use strict';function s(E){return E&&E.__esModule?E:{default:E}}function d(E,I){if(!(E instanceof I))throw new TypeError('Cannot call a class as a function')}function f(E,I){if(!E)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return I&&('object'==typeof I||'function'==typeof I)?I:E}function h(E,I){if('function'!=typeof I&&null!==I)throw new TypeError('Super expression must either be null or a function, not '+typeof I);E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(E,I):E.__proto__=I)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function E(I,R){for(var F=0,N;F<R.length;F++)N=R[F],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}return function(I,R,F){return R&&E(I.prototype,R),F&&E(I,F),I}}(),w=function E(I,R,F){null===I&&(I=Function.prototype);var N=Object.getOwnPropertyDescriptor(I,R);if(N===void 0){var V=Object.getPrototypeOf(I);return null===V?void 0:E(V,R,F)}if('value'in N)return N.value;var L=N.get;return void 0===L?void 0:L.call(F)},M=u(9),C=s(M),O=u(6),S=s(O),T=function(E){function I(R,F){d(this,I);var N=f(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,R)),V=N.bindTemplate;return F&&(N.element=N.editableElement=F),N.template=new S.default({tag:'div',attributes:{class:[V.to('isFocused',function(L){return L?'ck-focused':'ck-blurred'}),'ck-editor__editable'],contenteditable:V.to('isReadOnly',function(L){return!L})}}),N.set('isReadOnly',!1),N.set('isFocused',!1),N.externalElement=F,N}return h(I,E),P(I,[{key:'init',value:function(){return this.externalElement?this.template.apply(this.externalElement):this.editableElement=this.element,w(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),'init',this).call(this)}},{key:'destroy',value:function(){return this.externalElement&&this.template.revert(this.externalElement),w(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),'destroy',this).call(this)}}]),I}(C.default);o.default=T},function(r,o,u){'use strict';function s(S){return S&&S.__esModule?S:{default:S}}function d(S,T){if(!(S instanceof T))throw new TypeError('Cannot call a class as a function')}function f(S,T){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return T&&('object'==typeof T||'function'==typeof T)?T:S}function h(S,T){if('function'!=typeof T&&null!==T)throw new TypeError('Super expression must either be null or a function, not '+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=u(372),w=s(P),M=u(6),C=s(M),O=function(S){function T(E,I){d(this,T);var R=f(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,E,I)),F=R.bindTemplate,N=R.t;R.set('name',null);return C.default.extend(R.template,{attributes:{role:'textbox','aria-label':F.to('name',function(D){return N('Rich Text Editor, %0',[D])}),class:'ck-editor__editable_inline'}}),R}return h(T,S),T}(w.default);o.default=O},function(r,o,u){'use strict';function s(E){return E&&E.__esModule?E:{default:E}}function d(E,I){if(!(E instanceof I))throw new TypeError('Cannot call a class as a function')}function f(E,I){if(!E)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return I&&('object'==typeof I||'function'==typeof I)?I:E}function h(E,I){if('function'!=typeof I&&null!==I)throw new TypeError('Super expression must either be null or a function, not '+typeof I);E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(E,I):E.__proto__=I)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=u(375),w=s(P),M=u(70),C=s(M),O=u(6),S=s(O),T=function(E){function I(R){d(this,I);var F=f(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,R)),N=F.t,V=(0,C.default)();return F.set('width',null),F.set('height',null),F.top=F.createCollection(),F.main=F.createCollection(),F.template=new S.default({tag:'div',attributes:{class:['ck-reset','ck-editor','ck-rounded-corners'],role:'application',dir:'ltr',lang:R.lang,'aria-labelledby':'cke-editor__aria-label_'+V},children:[{tag:'span',attributes:{id:'cke-editor__aria-label_'+V,class:'cke-voice-label'},children:[N('Rich Text Editor')]},{tag:'div',attributes:{class:'ck-editor__top ck-reset_all',role:'presentation'},children:F.top},{tag:'div',attributes:{class:'ck-editor__main',role:'presentation'},children:F.main}]}),F}return h(I,E),I}(w.default);o.default=T},function(r,o,u){'use strict';function s(E){return E&&E.__esModule?E:{default:E}}function d(E,I){if(!(E instanceof I))throw new TypeError('Cannot call a class as a function')}function f(E,I){if(!E)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return I&&('object'==typeof I||'function'==typeof I)?I:E}function h(E,I){if('function'!=typeof I&&null!==I)throw new TypeError('Super expression must either be null or a function, not '+typeof I);E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(E,I):E.__proto__=I)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function E(I,R){for(var F=0,N;F<R.length;F++)N=R[F],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}return function(I,R,F){return R&&E(I.prototype,R),F&&E(I,F),I}}(),w=function E(I,R,F){null===I&&(I=Function.prototype);var N=Object.getOwnPropertyDescriptor(I,R);if(N===void 0){var V=Object.getPrototypeOf(I);return null===V?void 0:E(V,R,F)}if('value'in N)return N.value;var L=N.get;return void 0===L?void 0:L.call(F)},M=u(9),C=s(M),O=u(6),S=s(O),T=function(E){function I(R){d(this,I);var F=f(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,R));return F.body=F.createCollection(),F}return h(I,E),P(I,[{key:'init',value:function(){var F=this;return Promise.resolve().then(function(){return F._renderBodyCollection()}).then(function(){return w(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),'init',F).call(F)})}},{key:'destroy',value:function(){return this._bodyCollectionContainer.remove(),w(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),'destroy',this).call(this)}},{key:'_renderBodyCollection',value:function(){var F=this._bodyCollectionContainer=new S.default({tag:'div',attributes:{class:['ck-body','ck-rounded-corners','ck-reset_all']},children:this.body}).render();document.body.appendChild(F)}}]),I}(C.default);o.default=T},function(r,o,u){'use strict';function s(S){return S&&S.__esModule?S:{default:S}}function d(S,T){if(!(S instanceof T))throw new TypeError('Cannot call a class as a function')}function f(S,T){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return T&&('object'==typeof T||'function'==typeof T)?T:S}function h(S,T){if('function'!=typeof T&&null!==T)throw new TypeError('Super expression must either be null or a function, not '+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=u(9),w=s(P),M=u(6),C=s(M),O=function(S){function T(){d(this,T);var E=f(this,(T.__proto__||Object.getPrototypeOf(T)).call(this)),I=E.bindTemplate;return E.set('content'),E.set('viewBox','0 0 20 20'),E.template=new C.default({tag:'svg',ns:'http://www.w3.org/2000/svg',attributes:{class:'ck-icon',viewBox:I.to('viewBox')}}),E.on('change:content',function(R,F,N){for(var V=new DOMParser().parseFromString(N.trim(),'image/svg+xml').firstChild;0<V.childNodes.length;)E.element.appendChild(V.childNodes[0])}),E}return h(T,S),T}(w.default);o.default=O},function(r,o,u){'use strict';function s(S){return S&&S.__esModule?S:{default:S}}function d(S,T){if(!(S instanceof T))throw new TypeError('Cannot call a class as a function')}function f(S,T){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return T&&('object'==typeof T||'function'==typeof T)?T:S}function h(S,T){if('function'!=typeof T&&null!==T)throw new TypeError('Super expression must either be null or a function, not '+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=u(9),w=s(P),M=u(6),C=s(M),O=function(S){function T(E){d(this,T);var I=f(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,E));I.set('text'),I.set('for');var R=I.bindTemplate;return I.template=new C.default({tag:'label',attributes:{class:['ck-label'],for:R.to('for')},children:[{text:R.to('text')}]}),I}return h(T,S),T}(w.default);o.default=O},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}function d(T,E){if(!(T instanceof E))throw new TypeError('Cannot call a class as a function')}function f(T,E){if(!T)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return E&&('object'==typeof E||'function'==typeof E)?E:T}function h(T,E){if('function'!=typeof E&&null!==E)throw new TypeError('Super expression must either be null or a function, not '+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function T(E,I){for(var R=0,F;R<I.length;R++)F=I[R],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(E,F.key,F)}return function(E,I,R){return I&&T(E.prototype,I),R&&T(E,R),E}}(),w=u(9),M=s(w),C=u(6),O=s(C),S=function(T){function E(){d(this,E);var I=f(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));I.set('tabindex',-1);var R=I.bindTemplate;return I.template=new O.default({tag:'li',attributes:{class:['ck-list__item',R.to('class'),R.if('isActive','ck-list__item_active')],style:R.to('style'),tabindex:R.to('tabindex')},children:[{text:R.to('label')}],on:{click:R.to('execute')}}),I}return h(E,T),P(E,[{key:'focus',value:function(){this.element.focus()}}]),E}(M.default);o.default=S},function(r,o,u){'use strict';function s(L){return L&&L.__esModule?L:{default:L}}function d(L,D){if(!(L instanceof D))throw new TypeError('Cannot call a class as a function')}function f(L,D){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return D&&('object'==typeof D||'function'==typeof D)?D:L}function h(L,D){if('function'!=typeof D&&null!==D)throw new TypeError('Super expression must either be null or a function, not '+typeof D);L.prototype=Object.create(D&&D.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(L,D):L.__proto__=D)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function L(D,q){for(var z=0,$;z<q.length;z++)$=q[z],$.enumerable=$.enumerable||!1,$.configurable=!0,'value'in $&&($.writable=!0),Object.defineProperty(D,$.key,$)}return function(D,q,z){return q&&L(D.prototype,q),z&&L(D,z),D}}(),w=function L(D,q,z){null===D&&(D=Function.prototype);var $=Object.getOwnPropertyDescriptor(D,q);if($===void 0){var W=Object.getPrototypeOf(D);return null===W?void 0:L(W,q,z)}if('value'in $)return $.value;var K=$.get;return void 0===K?void 0:K.call(z)},M=u(9),C=s(M),O=u(6),S=s(O),T=u(65),E=s(T),I=u(120),R=s(I),F=u(66),N=s(F),V=function(L){function D(){d(this,D);var q=f(this,(D.__proto__||Object.getPrototypeOf(D)).call(this));return q.items=q.createCollection(),q.focusTracker=new E.default,q.keystrokes=new N.default,q._focusCycler=new R.default({focusables:q.items,focusTracker:q.focusTracker,keystrokeHandler:q.keystrokes,actions:{focusPrevious:'arrowup',focusNext:'arrowdown'}}),q.template=new S.default({tag:'ul',attributes:{class:['ck-reset','ck-list']},children:q.items}),q.items.on('add',function(z,$){q.focusTracker.add($.element)}),q.items.on('remove',function(z,$){q.focusTracker.remove($.element)}),q}return h(D,L),P(D,[{key:'init',value:function(){return this.keystrokes.listenTo(this.element),w(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),'init',this).call(this)}},{key:'focus',value:function(){this._focusCycler.focusFirst()}},{key:'focusLast',value:function(){this._focusCycler.focusLast()}}]),D}(C.default);o.default=V},function(r,o,u){'use strict';function s(S){return S&&S.__esModule?S:{default:S}}function d(S,T){if(!(S instanceof T))throw new TypeError('Cannot call a class as a function')}/**
                                                                                                                                                           * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                           * For licensing, see LICENSE.md.
                                                                                                                                                           */Object.defineProperty(o,'__esModule',{value:!0});var f=u(56),h=s(f),P=u(4),w=s(P),M=u(32),C=s(M),O=function S(T,E){d(this,S),E&&(0,h.default)(this,E),T&&this.set(T)};o.default=O,(0,w.default)(O,C.default)},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(d){var f=d.origin,h=d.originKeystrokeHandler,P=d.originFocusTracker,w=d.toolbar;P.add(w.element),h.set('Alt+F10',function(M,C){P.isFocused&&!w.focusTracker.isFocused&&(w.focus(),C())}),w.keystrokes.set('Esc',function(M,C){w.focusTracker.isFocused&&(f.focus(),C())})}},function(r,o,u){'use strict';function s(V){return V&&V.__esModule?V:{default:V}}function d(V,L){if(!(V instanceof L))throw new TypeError('Cannot call a class as a function')}function f(V,L){if(!V)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:V}function h(V,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);V.prototype=Object.create(L&&L.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(V,L):V.__proto__=L)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function V(L,D){for(var q=0,z;q<D.length;q++)z=D[q],z.enumerable=z.enumerable||!1,z.configurable=!0,'value'in z&&(z.writable=!0),Object.defineProperty(L,z.key,z)}return function(L,D,q){return D&&V(L.prototype,D),q&&V(L,q),L}}(),w=function V(L,D,q){null===L&&(L=Function.prototype);var z=Object.getOwnPropertyDescriptor(L,D);if(z===void 0){var $=Object.getPrototypeOf(L);return null===$?void 0:V($,D,q)}if('value'in z)return z.value;var W=z.get;return void 0===W?void 0:W.call(q)},M=u(64),C=s(M),O=u(6),S=s(O),T=u(186),E=s(T),I=u(191),R=s(I),F=(0,R.default)('px'),N=function(V){function L(D){d(this,L);var q=f(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,D)),z=q.bindTemplate;return q.set('isActive',!1),q.set('isSticky',!1),q.set('limiterElement',null),q.set('limiterOffset',50),q.set('_marginLeft',null),q.set('_isStickyToTheLimiter',!1),S.default.extend(q.template,{attributes:{class:[z.if('isSticky','ck-toolbar_sticky'),z.if('_isStickyToTheLimiter','ck-toolbar_sticky_bottom-limit')],style:{width:z.to('isSticky',function($){return $?F(q._elementPlaceholder.getBoundingClientRect().width):null}),bottom:z.to('_isStickyToTheLimiter',function($){return $?F(q.limiterOffset):null}),marginLeft:z.to('_marginLeft')}}}),q._elementPlaceholder=new S.default({tag:'div',attributes:{class:['ck-toolbar__placeholder'],style:{display:z.to('isSticky',function($){return $?'block':'none'}),height:z.to('isSticky',function($){return $?F(q._toolbarRect.height):null})}}}).render(),q}return h(L,V),P(L,[{key:'init',value:function(){var q=this;w(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),'init',this).call(this),this.element.parentNode.insertBefore(this._elementPlaceholder,this.element),this.listenTo(C.default.window,'scroll',function(){q._checkIfShouldBeSticky()}),this.listenTo(this,'change:isActive',function(){q._checkIfShouldBeSticky()})}},{key:'destroy',value:function(){var q=this;return w(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),'destroy',this).call(this).then(function(){q._elementPlaceholder.remove()})}},{key:'_checkIfShouldBeSticky',value:function(){var q=this._limiterRect=this.limiterElement.getBoundingClientRect(),z=this._toolbarRect=this.element.getBoundingClientRect();this.isSticky=this.isActive&&0>q.top&&this._toolbarRect.height+this.limiterOffset<q.height,this.isSticky?(this._isStickyToTheLimiter=q.bottom<z.height+this.limiterOffset,this._marginLeft=this._isStickyToTheLimiter?null:F(-C.default.window.scrollX)):(this._isStickyToTheLimiter=!1,this._marginLeft=null)}}]),L}(E.default);o.default=N},function(r,o,u){'use strict';function s(S){return S&&S.__esModule?S:{default:S}}function d(S,T){if(!(S instanceof T))throw new TypeError('Cannot call a class as a function')}function f(S,T){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return T&&('object'==typeof T||'function'==typeof T)?T:S}function h(S,T){if('function'!=typeof T&&null!==T)throw new TypeError('Super expression must either be null or a function, not '+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=u(9),w=s(P),M=u(6),C=s(M),O=function(S){function T(E){d(this,T);var I=f(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,E));return I.template=new C.default({tag:'span',attributes:{class:['ck-toolbar__separator']}}),I}return h(T,S),T}(w.default);o.default=O},function(r,o,u){'use strict';function d(S,T){if(!(S instanceof T))throw new TypeError('Cannot call a class as a function')}function f(S,T){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return T&&('object'==typeof T||'function'==typeof T)?T:S}function h(S,T){if('function'!=typeof T&&null!==T)throw new TypeError('Super expression must either be null or a function, not '+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function S(T,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}return function(T,E,I){return E&&S(T.prototype,E),I&&S(T,I),T}}(),w=u(187),M=function(S){return S&&S.__esModule?S:{default:S}}(w),C=u(108),O=function(S){function T(){return d(this,T),f(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return h(T,S),P(T,[{key:'_doExecute',value:function(){var I=this,R=this._stack.pop();this.editor.document.enqueueChanges(function(){var F=R.batch.deltas[R.batch.deltas.length-1],N=F.baseVersion+F.operations.length,V=Array.from(I.editor.document.history.getDeltas(N)).filter(function(L){return!I._createdBatches.has(L.batch)});I._restoreSelection(R.selection.ranges,R.selection.isBackward,V),I._redo(R.batch)}),this.refreshState()}},{key:'_redo',value:function(I){var R=this.editor.document,F=R.batch();this._createdBatches.add(F);var N=I.deltas.slice();N.reverse();var V=!0,L=!1,D;try{for(var q=N[Symbol.iterator](),z;!(V=(z=q.next()).done);V=!0){var $=z.value,W=$.baseVersion+$.operations.length,K=[$.getReversed()],H=!0,U=!1,G=void 0;try{for(var J=R.history.getDeltas(W)[Symbol.iterator](),Z,Y;!(H=(Z=J.next()).done);H=!0)Y=Z.value,this._createdBatches.has(Y.batch)||(K=(0,C.transformDeltaSets)(K,[Y],!0).deltasA)}catch(ce){U=!0,G=ce}finally{try{!H&&J.return&&J.return()}finally{if(U)throw G}}var Q=!0,X=!1,ee=void 0;try{for(var te=K[Symbol.iterator](),re,ae;!(Q=(re=te.next()).done);Q=!0){ae=re.value,ae.baseVersion=R.version,F.addDelta(ae);var oe=!0,le=!1,ue=void 0;try{for(var ie=ae.operations[Symbol.iterator](),de,fe;!(oe=(de=ie.next()).done);oe=!0)fe=de.value,R.applyOperation(fe)}catch(ce){le=!0,ue=ce}finally{try{!oe&&ie.return&&ie.return()}finally{if(le)throw ue}}}}catch(ce){X=!0,ee=ce}finally{try{!Q&&te.return&&te.return()}finally{if(X)throw ee}}}}catch(ce){L=!0,D=ce}finally{try{!V&&q.return&&q.return()}finally{if(L)throw D}}}}]),T}(M.default);o.default=O},function(r,o,u){'use strict';function s(V){return V&&V.__esModule?V:{default:V}}function d(V,L){if(!(V instanceof L))throw new TypeError('Cannot call a class as a function')}function f(V,L){if(!V)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:V}function h(V,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);V.prototype=Object.create(L&&L.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(V,L):V.__proto__=L)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function V(L,D){for(var q=0,z;q<D.length;q++)z=D[q],z.enumerable=z.enumerable||!1,z.configurable=!0,'value'in z&&(z.writable=!0),Object.defineProperty(L,z.key,z)}return function(L,D,q){return D&&V(L.prototype,D),q&&V(L,q),L}}(),w=u(3),M=s(w),C=u(387),O=s(C),S=u(26),T=s(S),E=u(522),I=s(E),R=u(521),F=s(R),N=function(V){function L(){return d(this,L),f(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return h(L,V),P(L,[{key:'init',value:function(){var q=this.editor,z=q.t;this._addButton('undo',z('Undo'),'CTRL+Z',I.default),this._addButton('redo',z('Redo'),'CTRL+Y',F.default),q.keystrokes.set('CTRL+Z','undo'),q.keystrokes.set('CTRL+Y','redo'),q.keystrokes.set('CTRL+SHIFT+Z','redo')}},{key:'_addButton',value:function(q,z,$,W){var K=this,H=this.editor,U=H.commands.get(q);H.ui.componentFactory.add(q,function(G){var J=new T.default(G);return J.set({label:z,icon:W,keystroke:$,tooltip:!0}),J.bind('isEnabled').to(U,'isEnabled'),K.listenTo(J,'execute',function(){return H.execute(q)}),J})}}],[{key:'requires',get:function(){return[O.default]}}]),L}(M.default);o.default=N},function(r,o,u){'use strict';function d(S,T){if(!(S instanceof T))throw new TypeError('Cannot call a class as a function')}function f(S,T){if(!S)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return T&&('object'==typeof T||'function'==typeof T)?T:S}function h(S,T){if('function'!=typeof T&&null!==T)throw new TypeError('Super expression must either be null or a function, not '+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function S(T,E){for(var I=0,R;I<E.length;I++)R=E[I],R.enumerable=R.enumerable||!1,R.configurable=!0,'value'in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}return function(T,E,I){return E&&S(T.prototype,E),I&&S(T,I),T}}(),w=u(187),M=function(S){return S&&S.__esModule?S:{default:S}}(w),C=u(108),O=function(S){function T(){return d(this,T),f(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return h(T,S),P(T,[{key:'_doExecute',value:function(){var I=this,R=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,F=R?this._stack.findIndex(function(V){return V.batch==R}):this._stack.length-1,N=this._stack.splice(F,1)[0];this.editor.document.enqueueChanges(function(){var V=I._undo(N.batch),L=I.editor.document.history.getDeltas(N.batch.baseVersion);I._restoreSelection(N.selection.ranges,N.selection.isBackward,L),I.fire('revert',N.batch,V)}),this.refreshState()}},{key:'_getItemIndexFromBaseVersion',value:function(I){for(var R=0;R<this._stack.length;R++)if(this._stack[R].batch.baseVersion==I)return R;return null}},{key:'_undo',value:function(I){var R=this.editor.document,F=R.batch();this._createdBatches.add(F);var N=R.history,V=I.deltas.slice();V.reverse();var L=!0,D=!1,q;try{for(var z=V[Symbol.iterator](),$;!(L=($=z.next()).done);L=!0){var W=$.value,K=W.baseVersion,H=K+W.operations.length,U=N.getDelta(K);if(null!==U){U.reverse();var G=[],J=!0,Z=!1,Y=void 0;try{for(var Q=U[Symbol.iterator](),X,ee;!(J=(X=Q.next()).done);J=!0)ee=X.value,G.push(ee.getReversed())}catch(Re){Z=!0,Y=Re}finally{try{!J&&Q.return&&Q.return()}finally{if(Z)throw Y}}var te={},re=!0,ae=!1,oe=void 0;try{for(var le=N.getDeltas(H)[Symbol.iterator](),ue;!(re=(ue=le.next()).done);re=!0){var ie=ue.value,de=this._getItemIndexFromBaseVersion(ie.baseVersion);null!==de&&(this._stack[de].selection.ranges=(0,w.transformRangesByDeltas)(this._stack[de].selection.ranges,G));var fe=(0,C.transformDeltaSets)(G,[ie],!0);G=fe.deltasA;var ce=fe.deltasB;te[ie.baseVersion]||(te[ie.baseVersion]=[]),te[ie.baseVersion]=te[ie.baseVersion].concat(ce)}}catch(Re){ae=!0,oe=Re}finally{try{!re&&le.return&&le.return()}finally{if(ae)throw oe}}var pe=!0,ge=!1,me=void 0;try{for(var ye=G[Symbol.iterator](),be,he;!(pe=(be=ye.next()).done);pe=!0){he=be.value,he.baseVersion=R.version,F.addDelta(he);var ve=!0,ke=!1,Pe=void 0;try{for(var we=he.operations[Symbol.iterator](),xe,Me;!(ve=(xe=we.next()).done);ve=!0)Me=xe.value,R.applyOperation(Me)}catch(Re){ke=!0,Pe=Re}finally{try{!ve&&we.return&&we.return()}finally{if(ke)throw Pe}}}}catch(Re){ge=!0,me=Re}finally{try{!pe&&ye.return&&ye.return()}finally{if(ge)throw me}}N.removeDelta(K);var Ce=!0,Oe=!1,Se=void 0;try{for(var Te=G[Symbol.iterator](),Ae,Ee;!(Ce=(Ae=Te.next()).done);Ce=!0)Ee=Ae.value,N.removeDelta(Ee.baseVersion)}catch(Re){Oe=!0,Se=Re}finally{try{!Ce&&Te.return&&Te.return()}finally{if(Oe)throw Se}}for(var Ie in te)N.updateDelta(+Ie,te[Ie])}}}catch(Re){D=!0,q=Re}finally{try{!L&&z.return&&z.return()}finally{if(D)throw q}}return F}}]),T}(M.default);o.default=O},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}function d(I,R){if(!(I instanceof R))throw new TypeError('Cannot call a class as a function')}function f(I,R){if(!I)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return R&&('object'==typeof R||'function'==typeof R)?R:I}function h(I,R){if('function'!=typeof R&&null!==R)throw new TypeError('Super expression must either be null or a function, not '+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */Object.defineProperty(o,'__esModule',{value:!0});var P=function(){function I(R,F){for(var N=0,V;N<F.length;N++)V=F[N],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}return function(R,F,N){return F&&I(R.prototype,F),N&&I(R,N),R}}(),w=u(3),M=s(w),C=u(386),O=s(C),S=u(384),T=s(S),E=function(I){function R(F){d(this,R);var N=f(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,F));return N._batchRegistry=new WeakSet,N}return h(R,I),P(R,[{key:'init',value:function(){var N=this;this._undoCommand=new O.default(this.editor),this._redoCommand=new T.default(this.editor),this.editor.commands.set('undo',this._undoCommand),this.editor.commands.set('redo',this._redoCommand),this.listenTo(this.editor.document,'change',function(V,L,D,q){N._batchRegistry.has(q)||'transparent'==q.type||(N._redoCommand._createdBatches.has(q)?N._undoCommand.addBatch(q):!N._undoCommand._createdBatches.has(q)&&(N._undoCommand.addBatch(q),N._redoCommand.clearStack()),N._batchRegistry.add(q))},{priority:'highest'}),this.listenTo(this._undoCommand,'revert',function(V,L,D){N._redoCommand.addBatch(D)})}}]),R}(M.default);o.default=E},function(r,o,u){'use strict';function d(M,C){if(!(M instanceof C))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function M(C,O){for(var S=0,T;S<O.length;S++)T=O[S],T.enumerable=T.enumerable||!1,T.configurable=!0,'value'in T&&(T.writable=!0),Object.defineProperty(C,T.key,T)}return function(C,O,S){return O&&M(C.prototype,O),S&&M(C,S),C}}(),h=u(98),P=function(M){return M&&M.__esModule?M:{default:M}}(h),w=function(){function M(C,O){d(this,M),this._config={},O&&this.define(O),C&&this._setObjectToTarget(this._config,C)}return f(M,[{key:'set',value:function(O,S){this._setToTarget(this._config,O,S)}},{key:'define',value:function(O,S){this._setToTarget(this._config,O,S,!0)}},{key:'get',value:function(O){return this._getFromSource(this._config,O)}},{key:'_setToTarget',value:function(O,S,T){var E=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if((0,P.default)(S))return void this._setObjectToTarget(O,S,E);var I=S.split('.');S=I.pop();var R=!0,F=!1,N;try{for(var V=I[Symbol.iterator](),L,D;!(R=(L=V.next()).done);R=!0)D=L.value,(0,P.default)(O[D])||(O[D]={}),O=O[D]}catch(q){F=!0,N=q}finally{try{!R&&V.return&&V.return()}finally{if(F)throw N}}return(0,P.default)(T)?((0,P.default)(O[S])||(O[S]={}),O=O[S],void this._setObjectToTarget(O,T,E)):void(E&&'undefined'!=typeof O[S]||(O[S]=T))}},{key:'_getFromSource',value:function(O,S){var T=S.split('.');S=T.pop();var E=!0,I=!1,R;try{for(var F=T[Symbol.iterator](),N,V;!(E=(N=F.next()).done);E=!0){if(V=N.value,!(0,P.default)(O[V])){O=null;break}O=O[V]}}catch(L){I=!0,R=L}finally{try{!E&&F.return&&F.return()}finally{if(I)throw R}}return O?O[S]:void 0}},{key:'_setObjectToTarget',value:function(O,S,T){var E=this;Object.keys(S).forEach(function(I){E._setToTarget(O,I,S[I],T)})}}]),M}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=w},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(d,f){function h(){C&&(w.push(C),C=null)}function P(O){return C&&C.type==O}var w=[],M=0,C;return d.forEach(function(O){'equal'==O?(h(),M++):'insert'==O?(P('insert')?C.values.push(f[M]):(h(),C={type:'insert',index:M,values:[f[M]]}),M++):P('delete')?C.howMany++:(h(),C={type:'delete',index:M,howMany:1})}),h(),w}},function(r,o,u){'use strict';/**
   * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
   * For licensing, see LICENSE.md.
   */Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(P,w){for(var M=(0,h.default)(P),C=(0,h.default)(w),O=0;M[O]==C[O]&&M[O];)O++;return 0==O?null:M[O-1]};var f=u(190),h=function(P){return P&&P.__esModule?P:{default:P}}(f)},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(d){return d instanceof HTMLTextAreaElement?d.value:d.innerHTML}},function(r,o,u){'use strict';/**
   * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
   * For licensing, see LICENSE.md.
   */Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(P){for(;P&&'html'!=P.tagName.toLowerCase();){if('static'!=h.default.window.getComputedStyle(P).position)return P;P=P.parentElement}return null};var f=u(64),h=function(P){return P&&P.__esModule?P:{default:P}}(f)},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(d){for(var f=0;d.previousSibling;)d=d.previousSibling,f++;return f}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(d,f,h){d.insertBefore(h,d.childNodes[f]||null)}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(d){return'[object Range]'==Object.prototype.toString.apply(d)}},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}function f(I,R,F){var N=I(R,F),V=N.left,L=N.top,D=N.name;return[D,F.clone().moveTo(V,L)]}function h(I,R,F,N,V){var L=0,D=0,$=F.getArea(),q,z;return I.some(function(W){function K(){D=Y,L=Z,q=J,z=G}var H=f(W,R,F),U=w(H,2),G=U[0],J=U[1],Z,Y;if(N)if(V){var Q=N.getIntersection(V);Z=Q?Q.getIntersectionArea(J):0}else Z=N.getIntersectionArea(J);return V&&(Y=V.getIntersectionArea(J)),V&&!N?Y>D&&K():!V&&N?Z>L&&K():Y>D&&Z>=L?K():Y>=D&&Z>L&&K(),Z===$}),q?[z,q]:null}function P(I){var R=I.left,F=I.top,N=C.default.window,V=N.scrollX,L=N.scrollY;return{left:R+V,top:F+L}}Object.defineProperty(o,'__esModule',{value:!0});var w=function(){function I(R,F){var N=[],V=!0,L=!1,D;try{for(var q=R[Symbol.iterator](),z;!(V=(z=q.next()).done)&&(N.push(z.value),!(F&&N.length===F));V=!0);}catch($){L=!0,D=$}finally{try{!V&&q['return']&&q['return']()}finally{if(L)throw D}}return N}return function(R,F){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return I(R,F);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          */o.getOptimalPosition=function(I){var R=I.element,F=I.target,N=I.positions,V=I.limiter,L=I.fitInViewport,D=(0,E.default)(R.parentElement),q=new S.default(R),z=new S.default(F),$,W;if(!V&&!L){var K=f(N[0],z,q),H=w(K,2);W=H[0],$=H[1]}else{var U=V&&new S.default(V),G=L&&S.default.getViewportRect(),J=h(N,z,q,U,G)||f(N[0],z,q),Z=w(J,2);W=Z[0],$=Z[1]}var Y=P($),Q=Y.left,X=Y.top;if(D){var ee=P(new S.default(D)),te=C.default.window.getComputedStyle(D);Q-=ee.left,X-=ee.top,Q+=D.scrollLeft,X+=D.scrollTop,Q-=parseInt(te.borderLeftWidth,10),X-=parseInt(te.borderTopWidth,10)}return{left:Q,top:X,name:W}};var M=u(64),C=s(M),O=u(397),S=s(O),T=u(392),E=s(T)},function(r,o,u){'use strict';function s(E){return E&&E.__esModule?E:{default:E}}function d(E,I){if(!(E instanceof I))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var f=function(){function E(I,R){for(var F=0,N;F<R.length;F++)N=R[F],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}return function(I,R,F){return R&&E(I.prototype,R),F&&E(I,F),I}}(),h=u(64),P=s(h),w=u(395),M=s(w),C=u(488),O=s(C),S=['top','right','bottom','left','width','height'],T=function(){function E(I){var R=this;d(this,E),((0,O.default)(I)||(0,M.default)(I))&&(I=I.getBoundingClientRect()),S.forEach(function(F){return R[F]=I[F]})}return f(E,[{key:'clone',value:function(){return new E(this)}},{key:'moveTo',value:function(R,F){return this.top=F,this.right=R+this.width,this.bottom=F+this.height,this.left=R,this}},{key:'moveBy',value:function(R,F){return this.top+=F,this.right+=R,this.left+=R,this.bottom+=F,this}},{key:'getIntersection',value:function(R){var F={top:_Mathmax(this.top,R.top),right:_Mathmin(this.right,R.right),bottom:_Mathmin(this.bottom,R.bottom),left:_Mathmax(this.left,R.left)};return F.width=F.right-F.left,F.height=F.bottom-F.top,0>F.width||0>F.height?null:new E(F)}},{key:'getIntersectionArea',value:function(R){var F=this.getIntersection(R);return F?F.getArea():0}},{key:'getArea',value:function(){return this.width*this.height}}],[{key:'getViewportRect',value:function(){var R=P.default.window,F=R.innerWidth,N=R.innerHeight;return new E({top:0,right:F,bottom:N,left:0,width:F,height:N})}}]),E}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=T},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(d){var f=d.parentNode;f&&f.removeChild(d)}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(d,f){d instanceof HTMLTextAreaElement&&(d.value=f),d.innerHTML=f}},function(r,o){'use strict';function s(h,P){if(!(h instanceof P))throw new TypeError('Cannot call a class as a function')}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */Object.defineProperty(o,'__esModule',{value:!0});var d=function(){function h(P,w){for(var M=0,C;M<w.length;M++)C=w[M],C.enumerable=C.enumerable||!1,C.configurable=!0,'value'in C&&(C.writable=!0),Object.defineProperty(P,C.key,C)}return function(P,w,M){return w&&h(P.prototype,w),M&&h(P,M),P}}(),f=function(){function h(){s(this,h),this._replacedElements=[]}return d(h,[{key:'replace',value:function(w,M){this._replacedElements.push({element:w,newElement:M}),w.style.display='none',M&&w.parentNode.insertBefore(M,w.nextSibling)}},{key:'restore',value:function(){this._replacedElements.forEach(function(w){var M=w.element,C=w.newElement;M.style.display='',C&&C.remove()}),this._replacedElements=[]}}]),h}();o.default=f},function(r,o){'use strict';function s(h){return-1<h.indexOf('macintosh')}Object.defineProperty(o,'__esModule',{value:!0}),o.isMac=s;/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */var d=navigator.userAgent.toLowerCase(),f={mac:s(d)};o.default=f},function(r,o,u){'use strict';function d(w,M){if(!(w instanceof M))throw new TypeError('Cannot call a class as a function')}/**
                                                                                                                                                           * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                           * For licensing, see LICENSE.md.
                                                                                                                                                           */Object.defineProperty(o,'__esModule',{value:!0});var f=u(504),h=function(w){return w&&w.__esModule?w:{default:w}}(f);o.default=function w(M,C){d(this,w),this.source=M,this.name=C,this.path=[],this.stop=(0,h.default)(),this.off=(0,h.default)()}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(52),f=s(d),h=u(31),P=s(h),w=(0,f.default)(P.default,'DataView');o.default=w},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}function d(I){var R=-1,F=I?I.length:0;for(this.clear();++R<F;){var N=I[R];this.set(N[0],N[1])}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(450),h=s(f),P=u(451),w=s(P),M=u(452),C=s(M),O=u(453),S=s(O),T=u(454),E=s(T);d.prototype.clear=h.default,d.prototype['delete']=w.default,d.prototype.get=C.default,d.prototype.has=S.default,d.prototype.set=E.default,o.default=d},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(52),f=s(d),h=u(31),P=s(h),w=(0,f.default)(P.default,'Promise');o.default=w},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var d=u(31),f=function(P){return P&&P.__esModule?P:{default:P}}(d),h=f.default.Reflect;o.default=h},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(52),f=s(d),h=u(31),P=s(h),w=(0,f.default)(P.default,'WeakMap');o.default=w},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d,f){return d.set(f[0],f[1]),d}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d,f){return d.add(f),d}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d,f){for(var h=-1,P=d.length;++h<P&&!(!1===f(d[h],h,d)););return d}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d,f){for(var h=-1,P=d.length;++h<P;)if(f(d[h],h,d))return!0;return!1}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(139),h=s(f),P=u(69),w=s(P);o.default=function(M,C){return M&&(0,h.default)(C,(0,w.default)(C),M)}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(229),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w){for(var M=-1,O=w.length,S=Array(O);++M<O;)S[M]=null==P?void 0:(0,h.default)(P,w[M]);return S}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d,f,h){return d===d&&(void 0!==h&&(d=d<=h?d:h),void 0!==f&&(d=d>=f?d:f)),d}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(14),h=function(w){return w&&w.__esModule?w:{default:w}}(f),P=Object.create;o.default=function(w){return(0,h.default)(w)?P(w):{}}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(15),h=s(f),P=u(498),w=s(P);o.default=function(M,C,O,S){var T=M.length;for(O=(0,h.default)(O),0>O&&(O=-O>T?0:T+O),S=void 0===S||S>T?T:(0,h.default)(S),0>S&&(S+=T),S=O>S?0:(0,w.default)(S);O<S;)M[O++]=C;return M}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(84),h=s(f),P=u(11),w=s(P);o.default=function(M,C,O){var S=C(M);return(0,w.default)(M)?S:(0,h.default)(S,O(M))}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d,f){return f in Object(d)}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d,f,h,P){for(var w=h-1,M=d.length;++w<M;)if(P(d[w],f))return w;return-1}},function(r,o,u){'use strict';function s(H){return H&&H.__esModule?H:{default:H}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(123),h=s(f),P=u(206),w=s(P),M=u(444),C=s(M),O=u(445),S=s(O),T=u(141),E=s(T),I=u(11),R=s(I),F=u(90),N=s(F),V=u(490),L=s(V),q='[object Arguments]',z='[object Array]',$='[object Object]',W=Object.prototype,K=W.hasOwnProperty;o.default=function(H,U,G,J,Z,Y){var Q=(0,R.default)(H),X=(0,R.default)(U),ee=z,te=z;Q||(ee=(0,E.default)(H),ee=ee==q?$:ee),X||(te=(0,E.default)(U),te=te==q?$:te);var re=ee==$&&!(0,N.default)(H),ae=te==$&&!(0,N.default)(U),oe=ee==te;if(oe&&!re)return Y||(Y=new h.default),Q||(0,L.default)(H)?(0,w.default)(H,U,G,J,Z,Y):(0,C.default)(H,U,ee,G,J,Z,Y);if(!(Z&2)){var le=re&&K.call(H,'__wrapped__'),ue=ae&&K.call(U,'__wrapped__');if(le||ue){var ie=le?H.value():H,de=ue?U.value():U;return Y||(Y=new h.default),G(ie,de,J,Z,Y)}}return!!oe&&(Y||(Y=new h.default),(0,S.default)(H,U,G,J,Z,Y))}},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(123),h=s(f),P=u(130),w=s(P);o.default=function(O,S,T,E){var I=T.length,R=I,F=!E;if(null==O)return!R;for(O=Object(O);I--;){var N=T[I];if(F&&N[2]?N[1]!==O[N[0]]:!(N[0]in O))return!1}for(;++I<R;){N=T[I];var V=N[0],L=O[V],D=N[1];if(!(F&&N[2])){var q=new h.default;if(E)var z=E(L,D,V,O,S,q);if(void 0===z?!(0,w.default)(D,L,E,1|2,q):!z)return!1}else if(void 0===L&&!(V in O))return!1}return!0}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var d=Object.keys;o.default=function(f){return d(Object(f))}},function(r,o,u){'use strict';function s(S){return S&&S.__esModule?S:{default:S}}function d(S){S=null==S?S:Object(S);var T=[];for(var E in S)T.push(E);return T}Object.defineProperty(o,'__esModule',{value:!0});var f=u(406),h=s(f),P=u(460),w=s(P),M=Object.prototype,C=h.default?h.default.enumerate:void 0,O=M.propertyIsEnumerable;C&&!O.call({valueOf:1},'valueOf')&&(d=function(T){return(0,w.default)(C(T))}),o.default=d},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(421),h=s(f),P=u(448),w=s(P),M=u(211),C=s(M);o.default=function(O){var S=(0,w.default)(O);return 1==S.length&&S[0][2]?(0,C.default)(S[0][0],S[0][1]):function(T){return T===O||(0,h.default)(T,O,S)}}},function(r,o,u){'use strict';function s(D){return D&&D.__esModule?D:{default:D}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(130),h=s(f),P=u(229),w=s(P),M=u(486),C=s(M),O=u(53),S=s(O),T=u(210),E=s(T),I=u(211),R=s(I),F=u(54),N=s(F);o.default=function(D,q){return(0,S.default)(D)&&(0,E.default)(q)?(0,R.default)((0,N.default)(D),q):function(z){var $=(0,w.default)(z,D);return $===void 0&&$===q?(0,C.default)(z,D):(0,h.default)(q,$,void 0,1|2)}}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(36),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w){var M=P.length;if(M)return w+=0>w?M:0,(0,h.default)(w,M)?P[w]:void 0}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(127),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P){return function(w){return(0,h.default)(w,P)}}},function(r,o,u){'use strict';function s(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(67),h=s(f),P=u(88),w=s(P),M=u(36),C=s(M),O=u(53),S=s(O),T=u(14),E=s(T),I=u(54),R=s(I);o.default=function(F,N,V,L){N=(0,S.default)(N,F)?[N]:(0,w.default)(N);for(var D=-1,q=N.length,$=F,W;null!=$&&++D<q;){if(W=(0,R.default)(N[D]),(0,E.default)($)){var K=V;if(D!=q-1){var H=$[W];K=L?L(H,W,$):void 0,void 0===K&&(K=null==H?(0,C.default)(N[D+1])?[]:{}:H)}(0,h.default)($,W,K)}$=$[W]}return F}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(27),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w){return(0,h.default)(w,function(M){return[M,P[M]]})}},function(r,o,u){'use strict';function s(S){return S&&S.__esModule?S:{default:S}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(124),h=s(f),P=u(44),w=s(P),C=h.default?h.default.prototype:void 0,O=C?C.toString:void 0;o.default=function(S){if('string'==typeof S)return S;if((0,w.default)(S))return O?O.call(S):'';var T=S+'';return'0'==T&&1/S==-(1/0)?'-0':T}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d){return d&&d.Object===Object?d:null}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d,f){if(f)return d.slice();var h=new d.constructor(d.length);return d.copy(h),h}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(138),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w){var M=w?(0,h.default)(P.buffer):P.buffer;return new P.constructor(M,P.byteOffset,P.byteLength)}},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(408),h=s(f),P=u(197),w=s(P),M=u(142),C=s(M);o.default=function(O,S,T){var E=S?T((0,C.default)(O),!0):(0,C.default)(O);return(0,w.default)(E,h.default,new O.constructor)}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var d=/\w*$/;o.default=function(f){var h=new f.constructor(f.source,d.exec(f));return h.lastIndex=f.lastIndex,h}},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(409),h=s(f),P=u(197),w=s(P),M=u(94),C=s(M);o.default=function(O,S,T){var E=S?T((0,C.default)(O),!0):(0,C.default)(O);return(0,w.default)(E,h.default,new O.constructor)}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(124),h=function(M){return M&&M.__esModule?M:{default:M}}(f),P=h.default?h.default.prototype:void 0,w=P?P.valueOf:void 0;o.default=function(M){return w?Object(w.call(M)):{}}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(138),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w){var M=w?(0,h.default)(P.buffer):P.buffer;return new P.constructor(M,P.byteOffset,P.length)}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(44),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w){if(P!==w){var M=P!==void 0,C=null===P,O=P===P,S=(0,h.default)(P),T=w!==void 0,E=null===w,I=w===w,R=(0,h.default)(w);if(!E&&!R&&!S&&P>w||S&&T&&I&&!E&&!R||C&&T&&I||!M&&I||!O)return 1;if(!C&&!S&&!R&&P<w||R&&M&&O&&!C&&!S||E&&M&&O||!T&&O||!I)return-1}return 0}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(139),h=s(f),P=u(207),w=s(P);o.default=function(M,C){return(0,h.default)(M,(0,w.default)(M),C)}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(91),h=s(f),P=u(8),w=s(P);o.default=function(M){return(0,w.default)(function(C,O){var S=-1,T=O.length,E=1<T?O[T-1]:void 0,I=2<T?O[2]:void 0;for(E=3<M.length&&'function'==typeof E?(T--,E):void 0,I&&(0,h.default)(O[0],O[1],I)&&(E=3>T?void 0:E,T=1),C=Object(C);++S<T;){var R=O[S];R&&M(C,R,S,E)}return C})}},function(r,o,u){'use strict';function s(S){return S&&S.__esModule?S:{default:S}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(194),f=s(d),h=u(493),P=s(h),w=u(94),M=s(w),O=f.default&&1/(0,M.default)(new f.default([,-0]))[1]==1/0?function(S){return new f.default(S)}:P.default;o.default=O},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(429),h=s(f),P=u(141),w=s(P),M=u(142),C=s(M),O=u(474),S=s(O);o.default=function(I){return function(R){var F=(0,w.default)(R);return F=='[object Map]'?(0,C.default)(R):F=='[object Set]'?(0,S.default)(R):(0,h.default)(R,I(R))}}},function(r,o,u){'use strict';function s(J){return J&&J.__esModule?J:{default:J}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(124),h=s(f),P=u(195),w=s(P),M=u(206),C=s(M),O=u(142),S=s(O),T=u(94),E=s(T),U=h.default?h.default.prototype:void 0,G=U?U.valueOf:void 0;o.default=function(J,Z,Y,Q,X,ee,te){switch(Y){case'[object DataView]':if(J.byteLength!=Z.byteLength||J.byteOffset!=Z.byteOffset)return!1;J=J.buffer,Z=Z.buffer;case'[object ArrayBuffer]':return J.byteLength==Z.byteLength&&Q(new w.default(J),new w.default(Z));case'[object Boolean]':case'[object Date]':return+J==+Z;case'[object Error]':return J.name==Z.name&&J.message==Z.message;case'[object Number]':return J==+J?J==+Z:Z!=+Z;case'[object RegExp]':case'[object String]':return J==Z+'';case'[object Map]':var re=S.default;case'[object Set]':var ae=ee&2;if(re||(re=E.default),J.size!=Z.size&&!ae)return!1;var oe=te.get(J);return oe?oe==Z:(ee|=1,te.set(J,Z),(0,C.default)(re(J),re(Z),Q,X,ee,te));case'[object Symbol]':if(G)return G.call(J)==G.call(Z);}return!1}},function(r,o,u){'use strict';function s(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(200),h=s(f),P=u(69),w=s(P);o.default=function(C,O,S,T,E,I){var R=E&2,F=(0,w.default)(C),N=F.length,V=(0,w.default)(O),L=V.length;if(N!=L&&!R)return!1;for(var D=N,q;D--;)if(q=F[D],R?!(q in O):!(0,h.default)(O,q))return!1;var z=I.get(C);if(z)return z==O;var $=!0;I.set(C,O);for(var W=R;++D<N;){q=F[D];var K=C[q],H=O[q];if(T)var U=R?T(H,K,q,O,C,I):T(K,H,q,C,O,I);if(void 0===U?!(K===H||S(K,H,T,E,I)):!U){$=!1;break}W||(W='constructor'==q)}if($&&!W){var G=C.constructor,J=O.constructor;G!=J&&'constructor'in C&&'constructor'in O&&!('function'==typeof G&&G instanceof G&&'function'==typeof J&&J instanceof J)&&($=!1)}return I['delete'](C),$}},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(417),h=s(f),P=u(207),w=s(P),M=u(69),C=s(M);o.default=function(O){return(0,h.default)(O,C.default,w.default)}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var d=u(131),f=function(P){return P&&P.__esModule?P:{default:P}}(d),h=(0,f.default)('length');o.default=h},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(210),h=s(f),P=u(499),w=s(P);o.default=function(M){for(var C=(0,w.default)(M),O=C.length;O--;)C[O][2]=(0,h.default)(C[O][1]);return C}},function(r,o,u){'use strict';function s(D){return D&&D.__esModule?D:{default:D}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(88),h=s(f),P=u(147),w=s(P),M=u(11),C=s(M),O=u(36),S=s(O),T=u(53),E=s(T),I=u(97),R=s(I),F=u(149),N=s(F),V=u(54),L=s(V);o.default=function(D,q,z){q=(0,E.default)(q,D)?[q]:(0,h.default)(q);for(var W=-1,K=q.length,$,H;++W<K&&(H=(0,L.default)(q[W]),!!($=null!=D&&z(D,H)));)D=D[H];if($)return $;var K=D?D.length:0;return!!K&&(0,R.default)(K)&&(0,S.default)(H,K)&&((0,C.default)(D)||(0,N.default)(D)||(0,w.default)(D))}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(93),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(){this.__data__=h.default?(0,h.default)(null):{}}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d){return this.has(d)&&delete this.__data__[d]}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(93),h=function(C){return C&&C.__esModule?C:{default:C}}(f),w=Object.prototype,M=w.hasOwnProperty;o.default=function(C){var O=this.__data__;if(h.default){var S=O[C];return S==='__lodash_hash_undefined__'?void 0:S}return M.call(O,C)?O[C]:void 0}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(93),h=function(M){return M&&M.__esModule?M:{default:M}}(f),P=Object.prototype,w=P.hasOwnProperty;o.default=function(M){var C=this.__data__;return h.default?C[M]!==void 0:w.call(C,M)}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(93),h=function(w){return w&&w.__esModule?w:{default:w}}(f);o.default=function(w,M){var C=this.__data__;return C[w]=h.default&&void 0===M?'__lodash_hash_undefined__':M,this}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var d=Object.prototype,f=d.hasOwnProperty;o.default=function(h){var P=h.length,w=h.constructor(P);return P&&'string'==typeof h[0]&&f.call(h,'index')&&(w.index=h.index,w.input=h.input),w}},function(r,o,u){'use strict';function s(ae){return ae&&ae.__esModule?ae:{default:ae}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(138),h=s(f),P=u(433),w=s(P),M=u(434),C=s(M),O=u(435),S=s(O),T=u(436),E=s(T),I=u(437),R=s(I),F=u(438),N=s(F);o.default=function(ae,oe,le,ue){var ie=ae.constructor;return oe==='[object ArrayBuffer]'?(0,h.default)(ae):oe==='[object Boolean]'||oe==='[object Date]'?new ie(+ae):oe==='[object DataView]'?(0,w.default)(ae,ue):oe==='[object Float32Array]'||oe==='[object Float64Array]'||oe==='[object Int8Array]'||oe==='[object Int16Array]'||oe==='[object Int32Array]'||oe==='[object Uint8Array]'||oe==='[object Uint8ClampedArray]'||oe==='[object Uint16Array]'||oe==='[object Uint32Array]'?(0,N.default)(ae,ue):oe==='[object Map]'?(0,C.default)(ae,ue,le):oe==='[object Number]'||oe==='[object String]'?new ie(ae):oe==='[object RegExp]'?(0,S.default)(ae):oe==='[object Set]'?(0,E.default)(ae,ue,le):oe==='[object Symbol]'?(0,R.default)(ae):void 0}},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(415),h=s(f),P=u(140),w=s(P),M=u(92),C=s(M);o.default=function(O){return'function'!=typeof O.constructor||(0,C.default)(O)?{}:(0,h.default)((0,w.default)(O))}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(147),h=s(f),P=u(11),w=s(P);o.default=function(M){return(0,w.default)(M)||(0,h.default)(M)}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var d='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&'function'==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?'symbol':typeof f};o.default=function(f){var h='undefined'==typeof f?'undefined':d(f);return'string'==h||'number'==h||'symbol'==h||'boolean'==h?'__proto__'!==f:null===f}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d){for(var h=[],f;!(f=d.next()).done;)h.push(f.value);return h}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(){this.__data__=[]}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(85),h=function(M){return M&&M.__esModule?M:{default:M}}(f),P=Array.prototype,w=P.splice;o.default=function(M){var C=this.__data__,O=(0,h.default)(C,M);if(0>O)return!1;var S=C.length-1;return O==S?C.pop():w.call(C,O,1),!0}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(85),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P){var w=this.__data__,M=(0,h.default)(w,P);return 0>M?void 0:w[M][1]}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(85),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P){return-1<(0,h.default)(this.__data__,P)}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(85),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w){var M=this.__data__,C=(0,h.default)(M,P);return 0>C?M.push([P,w]):M[C][1]=w,this}},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(404),h=s(f),P=u(81),w=s(P),M=u(193),C=s(M);o.default=function(){this.__data__={hash:new h.default,map:new(C.default||w.default),string:new h.default}}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(89),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P){return(0,h.default)(this,P)['delete'](P)}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(89),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P){return(0,h.default)(this,P).get(P)}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(89),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P){return(0,h.default)(this,P).has(P)}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(89),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w){return(0,h.default)(this,P).set(P,w),this}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(127),h=s(f),P=u(35),w=s(P);o.default=function(M,C){return 1==C.length?M:(0,h.default)(M,(0,w.default)(C,0,-1))}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0});o.default=function(f){return this.__data__.set(f,'__lodash_hash_undefined__'),this}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d){return this.__data__.has(d)}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d){var f=-1,h=Array(d.size);return d.forEach(function(P){h[++f]=[P,P]}),h}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(81),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(){this.__data__=new h.default}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d){return this.__data__['delete'](d)}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d){return this.__data__.get(d)}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d){return this.__data__.has(d)}},function(r,o,u){'use strict';function s(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(81),h=s(f),P=u(122),w=s(P);o.default=function(C,O){var S=this.__data__;return S instanceof h.default&&S.__data__.length==200&&(S=this.__data__=new w.default(S.__data__)),S.set(C,O),this}},function(r,o,u){'use strict';function s(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(492),f=s(d),h=u(500),P=s(h),w=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,M=/\\(\\)?/g,C=(0,f.default)(function(O){var S=[];return(0,P.default)(O).replace(w,function(T,E,I,R){S.push(I?R.replace(M,'$1'):E||T)}),S});o.default=C},function(r,o,u){'use strict';function s(Zt){return Zt&&Zt.__esModule?Zt:{default:Zt}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(213),f=s(d),h=u(214),P=s(h),w=u(215),M=s(w),C=u(216),O=s(C),S=u(217),T=s(S),E=u(218),I=s(E),R=u(144),F=s(R),N=u(145),V=s(N),L=u(219),D=s(L),q=u(220),z=s(q),$=u(221),W=s($),K=u(222),H=s(K),U=u(223),G=s(U),J=u(224),Z=s(J),Y=u(225),Q=s(Y),X=u(226),ee=s(X),te=u(227),re=s(te),ae=u(228),oe=s(ae),le=u(146),ue=s(le),ie=u(231),de=s(ie),fe=u(232),ce=s(fe),pe=u(233),ge=s(pe),me=u(234),ye=s(me),be=u(235),he=s(be),ve=u(237),ke=s(ve),Pe=u(19),we=s(Pe),xe=u(238),Me=s(xe),Ce=u(239),Oe=s(Ce),Se=u(240),Te=s(Se),Ae=u(150),Ee=s(Ae),Ie=u(241),Re=s(Ie),Fe=u(242),Ne=s(Fe),Ve=u(243),Le=s(Ve),Be=u(244),De=s(Be),je=u(245),qe=s(je),ze=u(246),$e=s(ze),We=u(247),Ke=s(We),He=u(248),Ue=s(He),Ge=u(249),Je=s(Ge),Ze=u(250),Ye=s(Ze),Qe=u(251),Xe=s(Qe),et=u(252),tt=s(et),rt=u(253),at=s(rt),nt=u(254),lt=s(nt),ut=u(255),it=s(ut),st=u(256),dt=s(st),ft=u(257),ct=s(ft),pt=u(258),gt=s(pt),mt=u(259),yt=s(mt),bt=u(261),ht=s(bt),vt=u(262),kt=s(vt),Pt=u(263),wt=s(Pt),xt=u(264),Mt=s(xt),Ct=u(265),Ot=s(Ct),St=u(266),Tt=s(St),At=u(99),Et=s(At),It=u(151),Rt=s(It),Ft=u(267),Nt=s(Ft),Vt=u(268),Lt=s(Vt),Bt=u(269),Dt=s(Bt),jt=u(270),qt=s(jt),zt=u(271),$t=s(zt),Wt=u(272),Kt=s(Wt),Ht=u(273),Ut=s(Ht),Gt=u(274),Jt=s(Gt);o.default={chunk:f.default,compact:P.default,concat:M.default,difference:O.default,differenceBy:T.default,differenceWith:I.default,drop:F.default,dropRight:V.default,dropRightWhile:D.default,dropWhile:z.default,fill:W.default,findIndex:H.default,findLastIndex:G.default,first:Z.default,flatten:Q.default,flattenDeep:ee.default,flattenDepth:re.default,fromPairs:oe.default,head:ue.default,indexOf:de.default,initial:ce.default,intersection:ge.default,intersectionBy:ye.default,intersectionWith:he.default,join:ke.default,last:we.default,lastIndexOf:Me.default,nth:Oe.default,pull:Te.default,pullAll:Ee.default,pullAllBy:Re.default,pullAllWith:Ne.default,pullAt:Le.default,remove:De.default,reverse:qe.default,slice:$e.default,sortedIndex:Ke.default,sortedIndexBy:Ue.default,sortedIndexOf:Je.default,sortedLastIndex:Ye.default,sortedLastIndexBy:Xe.default,sortedLastIndexOf:tt.default,sortedUniq:at.default,sortedUniqBy:lt.default,tail:it.default,take:dt.default,takeRight:ct.default,takeRightWhile:gt.default,takeWhile:yt.default,union:ht.default,unionBy:kt.default,unionWith:wt.default,uniq:Mt.default,uniqBy:Ot.default,uniqWith:Tt.default,unzip:Et.default,unzipWith:Rt.default,without:Nt.default,xor:Lt.default,xorBy:Dt.default,xorWith:qt.default,zip:$t.default,zipObject:Kt.default,zipObjectDeep:Ut.default,zipWith:Jt.default}},function(r,o,u){'use strict';function s(Be){return Be&&Be.__esModule?Be:{default:Be}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(213);Object.defineProperty(o,'chunk',{enumerable:!0,get:function(){return s(d).default}});var f=u(214);Object.defineProperty(o,'compact',{enumerable:!0,get:function(){return s(f).default}});var h=u(215);Object.defineProperty(o,'concat',{enumerable:!0,get:function(){return s(h).default}});var P=u(216);Object.defineProperty(o,'difference',{enumerable:!0,get:function(){return s(P).default}});var w=u(217);Object.defineProperty(o,'differenceBy',{enumerable:!0,get:function(){return s(w).default}});var M=u(218);Object.defineProperty(o,'differenceWith',{enumerable:!0,get:function(){return s(M).default}});var C=u(144);Object.defineProperty(o,'drop',{enumerable:!0,get:function(){return s(C).default}});var O=u(145);Object.defineProperty(o,'dropRight',{enumerable:!0,get:function(){return s(O).default}});var S=u(219);Object.defineProperty(o,'dropRightWhile',{enumerable:!0,get:function(){return s(S).default}});var T=u(220);Object.defineProperty(o,'dropWhile',{enumerable:!0,get:function(){return s(T).default}});var E=u(221);Object.defineProperty(o,'fill',{enumerable:!0,get:function(){return s(E).default}});var I=u(222);Object.defineProperty(o,'findIndex',{enumerable:!0,get:function(){return s(I).default}});var R=u(223);Object.defineProperty(o,'findLastIndex',{enumerable:!0,get:function(){return s(R).default}});var F=u(224);Object.defineProperty(o,'first',{enumerable:!0,get:function(){return s(F).default}});var N=u(225);Object.defineProperty(o,'flatten',{enumerable:!0,get:function(){return s(N).default}});var V=u(226);Object.defineProperty(o,'flattenDeep',{enumerable:!0,get:function(){return s(V).default}});var L=u(227);Object.defineProperty(o,'flattenDepth',{enumerable:!0,get:function(){return s(L).default}});var D=u(228);Object.defineProperty(o,'fromPairs',{enumerable:!0,get:function(){return s(D).default}});var q=u(146);Object.defineProperty(o,'head',{enumerable:!0,get:function(){return s(q).default}});var z=u(231);Object.defineProperty(o,'indexOf',{enumerable:!0,get:function(){return s(z).default}});var $=u(232);Object.defineProperty(o,'initial',{enumerable:!0,get:function(){return s($).default}});var W=u(233);Object.defineProperty(o,'intersection',{enumerable:!0,get:function(){return s(W).default}});var K=u(234);Object.defineProperty(o,'intersectionBy',{enumerable:!0,get:function(){return s(K).default}});var H=u(235);Object.defineProperty(o,'intersectionWith',{enumerable:!0,get:function(){return s(H).default}});var U=u(237);Object.defineProperty(o,'join',{enumerable:!0,get:function(){return s(U).default}});var G=u(19);Object.defineProperty(o,'last',{enumerable:!0,get:function(){return s(G).default}});var J=u(238);Object.defineProperty(o,'lastIndexOf',{enumerable:!0,get:function(){return s(J).default}});var Z=u(239);Object.defineProperty(o,'nth',{enumerable:!0,get:function(){return s(Z).default}});var Y=u(240);Object.defineProperty(o,'pull',{enumerable:!0,get:function(){return s(Y).default}});var Q=u(150);Object.defineProperty(o,'pullAll',{enumerable:!0,get:function(){return s(Q).default}});var X=u(241);Object.defineProperty(o,'pullAllBy',{enumerable:!0,get:function(){return s(X).default}});var ee=u(242);Object.defineProperty(o,'pullAllWith',{enumerable:!0,get:function(){return s(ee).default}});var te=u(243);Object.defineProperty(o,'pullAt',{enumerable:!0,get:function(){return s(te).default}});var re=u(244);Object.defineProperty(o,'remove',{enumerable:!0,get:function(){return s(re).default}});var ae=u(245);Object.defineProperty(o,'reverse',{enumerable:!0,get:function(){return s(ae).default}});var oe=u(246);Object.defineProperty(o,'slice',{enumerable:!0,get:function(){return s(oe).default}});var le=u(247);Object.defineProperty(o,'sortedIndex',{enumerable:!0,get:function(){return s(le).default}});var ue=u(248);Object.defineProperty(o,'sortedIndexBy',{enumerable:!0,get:function(){return s(ue).default}});var ie=u(249);Object.defineProperty(o,'sortedIndexOf',{enumerable:!0,get:function(){return s(ie).default}});var de=u(250);Object.defineProperty(o,'sortedLastIndex',{enumerable:!0,get:function(){return s(de).default}});var fe=u(251);Object.defineProperty(o,'sortedLastIndexBy',{enumerable:!0,get:function(){return s(fe).default}});var ce=u(252);Object.defineProperty(o,'sortedLastIndexOf',{enumerable:!0,get:function(){return s(ce).default}});var pe=u(253);Object.defineProperty(o,'sortedUniq',{enumerable:!0,get:function(){return s(pe).default}});var ge=u(254);Object.defineProperty(o,'sortedUniqBy',{enumerable:!0,get:function(){return s(ge).default}});var me=u(255);Object.defineProperty(o,'tail',{enumerable:!0,get:function(){return s(me).default}});var ye=u(256);Object.defineProperty(o,'take',{enumerable:!0,get:function(){return s(ye).default}});var be=u(257);Object.defineProperty(o,'takeRight',{enumerable:!0,get:function(){return s(be).default}});var he=u(258);Object.defineProperty(o,'takeRightWhile',{enumerable:!0,get:function(){return s(he).default}});var ve=u(259);Object.defineProperty(o,'takeWhile',{enumerable:!0,get:function(){return s(ve).default}});var ke=u(261);Object.defineProperty(o,'union',{enumerable:!0,get:function(){return s(ke).default}});var Pe=u(262);Object.defineProperty(o,'unionBy',{enumerable:!0,get:function(){return s(Pe).default}});var we=u(263);Object.defineProperty(o,'unionWith',{enumerable:!0,get:function(){return s(we).default}});var xe=u(264);Object.defineProperty(o,'uniq',{enumerable:!0,get:function(){return s(xe).default}});var Me=u(265);Object.defineProperty(o,'uniqBy',{enumerable:!0,get:function(){return s(Me).default}});var Ce=u(266);Object.defineProperty(o,'uniqWith',{enumerable:!0,get:function(){return s(Ce).default}});var Oe=u(99);Object.defineProperty(o,'unzip',{enumerable:!0,get:function(){return s(Oe).default}});var Se=u(151);Object.defineProperty(o,'unzipWith',{enumerable:!0,get:function(){return s(Se).default}});var Te=u(267);Object.defineProperty(o,'without',{enumerable:!0,get:function(){return s(Te).default}});var Ae=u(268);Object.defineProperty(o,'xor',{enumerable:!0,get:function(){return s(Ae).default}});var Ee=u(269);Object.defineProperty(o,'xorBy',{enumerable:!0,get:function(){return s(Ee).default}});var Ie=u(270);Object.defineProperty(o,'xorWith',{enumerable:!0,get:function(){return s(Ie).default}});var Re=u(271);Object.defineProperty(o,'zip',{enumerable:!0,get:function(){return s(Re).default}});var Fe=u(272);Object.defineProperty(o,'zipObject',{enumerable:!0,get:function(){return s(Fe).default}});var Ne=u(273);Object.defineProperty(o,'zipObjectDeep',{enumerable:!0,get:function(){return s(Ne).default}});var Ve=u(274);Object.defineProperty(o,'zipWith',{enumerable:!0,get:function(){return s(Ve).default}});var Le=u(481);Object.defineProperty(o,'default',{enumerable:!0,get:function(){return s(Le).default}})},function(r,o,u){'use strict';function s(L){return L&&L.__esModule?L:{default:L}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(67),f=s(d),h=u(139),P=s(h),w=u(441),M=s(w),C=u(96),O=s(C),S=u(92),T=s(S),E=u(491),I=s(E),R=Object.prototype,F=R.propertyIsEnumerable,N=!F.call({valueOf:1},'valueOf'),V=(0,M.default)(function(L,D){if(N||(0,T.default)(D)||(0,O.default)(D))return void(0,P.default)(D,(0,I.default)(D),L);for(var q in D)(0,f.default)(L,q,D[q])});o.default=V},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(198),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w){return(0,h.default)(P,!0,!0,w)}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(d){return function(){return d}}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(418),h=s(f),P=u(449),w=s(P);o.default=function(M,C){return null!=M&&(0,w.default)(M,C,h.default)}},function(r,o,u){'use strict';(function(s){function d(R){return R&&R.__esModule?R:{default:R}}Object.defineProperty(o,'__esModule',{value:!0});var f='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&'function'==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?'symbol':typeof R},h=u(485),P=d(h),w=u(31),M=d(w),C={'function':!0,object:!0},O=C[f(o)]&&o&&!o.nodeType?o:void 0,S=C[f(s)]&&s&&!s.nodeType?s:void 0,T=S&&S.exports===O?O:void 0,E=T?M.default.Buffer:void 0,I=E?function(R){return R instanceof E}:(0,P.default)(!1);o.default=I}).call(o,u(100)(r))},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(43),h=s(f),P=u(98),w=s(P);o.default=function(M){return!!M&&1===M.nodeType&&(0,h.default)(M)&&!(0,w.default)(M)}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(130),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P,w){return(0,h.default)(P,w)}},function(r,o,u){'use strict';function s(te){return te&&te.__esModule?te:{default:te}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(97),h=s(f),P=u(43),w=s(P),Q={};Q['[object Float32Array]']=Q['[object Float64Array]']=Q['[object Int8Array]']=Q['[object Int16Array]']=Q['[object Int32Array]']=Q['[object Uint8Array]']=Q['[object Uint8ClampedArray]']=Q['[object Uint16Array]']=Q['[object Uint32Array]']=!0,Q['[object Arguments]']=Q['[object Array]']=Q['[object ArrayBuffer]']=Q['[object Boolean]']=Q['[object DataView]']=Q['[object Date]']=Q['[object Error]']=Q['[object Function]']=Q['[object Map]']=Q['[object Number]']=Q['[object Object]']=Q['[object RegExp]']=Q['[object Set]']=Q['[object String]']=Q['[object WeakMap]']=!1;var X=Object.prototype,ee=X.toString;o.default=function(te){return(0,w.default)(te)&&(0,h.default)(te.length)&&!!Q[ee.call(te)]}},function(r,o,u){'use strict';function s(I){return I&&I.__esModule?I:{default:I}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(423),h=s(f),P=u(208),w=s(P),M=u(36),C=s(M),O=u(92),S=s(O),T=Object.prototype,E=T.hasOwnProperty;o.default=function(I){for(var R=-1,F=(0,S.default)(I),N=(0,h.default)(I),V=N.length,L=(0,w.default)(I),q=L||[],z=q.length,$;++R<V;)$=N[R],!!L&&('length'==$||(0,C.default)($,z))||'constructor'==$&&(F||!E.call(I,$))||q.push($);return q}},function(r,o,u){'use strict';function d(w,M){if('function'!=typeof w||M&&'function'!=typeof M)throw new TypeError(P);var C=function O(){var S=arguments,T=M?M.apply(this,S):S[0],E=O.cache;if(E.has(T))return E.get(T);var I=w.apply(this,S);return O.cache=E.set(T,I),I};return C.cache=new(d.Cache||h.default),C}Object.defineProperty(o,'__esModule',{value:!0});var f=u(122),h=function(w){return w&&w.__esModule?w:{default:w}}(f),P='Expected a function';d.Cache=h.default,o.default=d},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(){}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var s=Date.now;o.default=s},function(r,o,u){'use strict';function s(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(131),h=s(f),P=u(427),w=s(P),M=u(53),C=s(M),O=u(54),S=s(O);o.default=function(T){return(0,C.default)(T)?(0,h.default)((0,S.default)(T)):(0,w.default)(T)}},function(r,o,u){'use strict';function s(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(143),h=s(f),P=u(14),w=s(P);o.default=function(C,O,S){var T=!0,E=!0;if('function'!=typeof C)throw new TypeError('Expected a function');return(0,w.default)(S)&&(T='leading'in S?!!S.leading:T,E='trailing'in S?!!S.trailing:E),(0,h.default)(C,O,{leading:T,maxWait:O,trailing:E})}},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(260),h=function(M){return M&&M.__esModule?M:{default:M}}(f),P=1/0;o.default=function(M){if(!M)return 0===M?M:0;if(M=(0,h.default)(M),M===P||M===-P){var C=0>M?-1:1;return C*1.7976931348623157e308}return M===M?M:0}},function(r,o,u){'use strict';function s(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(o,'__esModule',{value:!0});var f=u(414),h=s(f),P=u(15),w=s(P);o.default=function(C){return C?(0,h.default)((0,w.default)(C),0,4294967295):0}},function(r,o,u){'use strict';function s(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(o,'__esModule',{value:!0});var d=u(443),f=s(d),h=u(69),P=s(h),w=(0,f.default)(P.default);o.default=w},function(r,o,u){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var f=u(430),h=function(P){return P&&P.__esModule?P:{default:P}}(f);o.default=function(P){return null==P?'':(0,h.default)(P)}},function(r,o,u){'use strict';function s(P,w){if(!(P instanceof w))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var d=function(){function P(w,M){for(var C=0,O;C<M.length;C++)O=M[C],O.enumerable=O.enumerable||!1,O.configurable=!0,'value'in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}return function(w,M,C){return M&&P(w.prototype,M),C&&P(w,C),w}}(),f=u(505),h=function(){function P(w){var M=this;s(this,P),this.lang=w||'en',this.t=function(){return M._t.apply(M,arguments)}}return d(P,[{key:'_t',value:function(M,C){var O=(0,f.translate)(this.lang,M);return C&&(O=O.replace(/\%(\d+)/g,function(S,T){return T<C.length?C[T]:S})),O}}]),P}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */o.default=h},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(d,f){if(d.size!=f.size)return!1;var h=!0,P=!1,w;try{for(var M=d.entries()[Symbol.iterator](),C;!(h=(C=M.next()).done);h=!0){var O=C.value,S=JSON.stringify(O[1]),T=JSON.stringify(f.get(O[0]));if(S!==T)return!1}}catch(E){P=!0,w=E}finally{try{!h&&M.return&&M.return()}finally{if(P)throw w}}return!0}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0});/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */o.default={get:function(f){return'number'==typeof f?f:this[f]||this.normal},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5}},function(r,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(){return function d(){d.called=!0}}},function(r,o){'use strict';function f(w,M){return w in P&&M in P[w]}Object.defineProperty(o,'__esModule',{value:!0}),o.add=function(w,M){P[w]=P[w]||{},Object.assign(P[w],M)},o.translate=function(w,M){return f(w,M)?P[w][M]:M.replace(/ \[context: [^\]]+\]$/,'')},o._clear=function(){P={}};/**
 * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */var P={}},function(r,o,u){o=r.exports=u(45)(),o.push([r.i,'@charset "UTF-8";\n/**\n * Makes element unselectable.\n */\n/**\n * A class which hides an element in DOM.\n */\n.ck-hidden {\n  display: none; }\n\n/**\n * Wraps (S)CSS into .ck-editor namespace.\n */\n/**\n * Resets an element, ignoring its children.\n */\n.ck-reset, .ck-reset_all, .ck-reset_all *, .ck-reset_all a, .ck-reset_all textarea {\n  box-sizing: border-box;\n  width: auto;\n  height: auto;\n  position: static; }\n\n/**\n * Resets an element AND its children.\n */\n/**\n * Default width/height of an icon.\n */\nsvg.ck-icon {\n  min-width: 20px;\n  min-height: 20px;\n  font-size: 1em;\n  vertical-align: middle;\n  color: inherit;\n  cursor: inherit; }\n  svg.ck-icon * {\n    cursor: inherit;\n    color: inherit;\n    fill: currentColor; }\n\n/**\n * Applies styles to the main part of the tooltip.\n */\n/**\n * Applies styles to the arrow part of the tooltip.\n */\n/**\n * Applies styles to both arrow and main part of the tooltip.\n */\n/**\n * Enables the tooltip, which is the tooltip is in DOM but\n * not yet displayed.\n */\n/**\n * Disables the tooltip making it disappear from DOM.\n */\n/**\n * Shows the tooltip, which is already in DOM.\n * Requires `ck-tooltip_enabled` first.\n */\n[data-ck-tooltip]::after {\n  visibility: hidden;\n  opacity: 0;\n  display: none;\n  position: absolute;\n  z-index: 999;\n  pointer-events: none;\n  -webkit-backface-visibility: hidden; }\n\n[data-ck-tooltip]::before {\n  visibility: hidden;\n  opacity: 0;\n  display: none;\n  position: absolute;\n  z-index: 999;\n  pointer-events: none;\n  -webkit-backface-visibility: hidden; }\n\n[data-ck-tooltip]::after {\n  content: attr(data-ck-tooltip); }\n\n[data-ck-tooltip]::before {\n  content: "";\n  width: 0;\n  height: 0; }\n\n.ck-button,\na.ck-button {\n  display: inline-block;\n  position: relative;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none; }\n  .ck-button::after,\n  a.ck-button::after {\n    display: block; }\n  .ck-button::before,\n  a.ck-button::before {\n    display: block; }\n  .ck-button.ck-button_with-text .ck-button__label,\n  a.ck-button.ck-button_with-text .ck-button__label {\n    display: block; }\n  .ck-button:hover::after,\n  a.ck-button:hover::after {\n    visibility: visible;\n    opacity: 1; }\n  .ck-button:hover::before,\n  a.ck-button:hover::before {\n    visibility: visible;\n    opacity: 1; }\n  .ck-button:focus:not(:hover)::after,\n  a.ck-button:focus:not(:hover)::after {\n    display: none; }\n  .ck-button:focus:not(:hover)::before,\n  a.ck-button:focus:not(:hover)::before {\n    display: none; }\n  .ck-button .ck-button__label,\n  a.ck-button .ck-button__label {\n    display: none; }\n\n.ck-toolbar {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none; }\n  .ck-toolbar__separator {\n    display: inline-block; }\n  .ck-toolbar__newline {\n    display: block;\n    clear: left; }\n\n.ck-dropdown {\n  display: inline-block;\n  position: relative; }\n  .ck-dropdown::after {\n    content: \'\';\n    width: 0;\n    height: 0;\n    pointer-events: none;\n    z-index: 1;\n    position: absolute;\n    top: 50%;\n    transform: translate(0, -50%); }\n\n.ck-dropdown__panel {\n  -webkit-backface-visibility: hidden;\n  display: none;\n  z-index: 999;\n  position: absolute;\n  left: 0px;\n  transform: translateY(100%); }\n  .ck-dropdown__panel-visible {\n    display: inline-block; }\n\n.ck-list {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none; }\n  .ck-list__item {\n    display: block; }\n\n.ck-label {\n  display: block; }\n\n.cke-voice-label {\n  display: none; }\n\n.ck-balloon-panel {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  display: none;\n  position: absolute;\n  z-index: 999; }\n  .ck-balloon-panel:before, .ck-balloon-panel:after {\n    content: "";\n    position: absolute; }\n  .ck-balloon-panel:before {\n    z-index: 1; }\n  .ck-balloon-panel:after {\n    z-index: 2; }\n  .ck-balloon-panel_arrow_s:before, .ck-balloon-panel_arrow_se:before, .ck-balloon-panel_arrow_sw:before {\n    z-index: 1; }\n  .ck-balloon-panel_arrow_s:after, .ck-balloon-panel_arrow_se:after, .ck-balloon-panel_arrow_sw:after {\n    z-index: 2; }\n  .ck-balloon-panel_arrow_n:before, .ck-balloon-panel_arrow_ne:before, .ck-balloon-panel_arrow_nw:before {\n    z-index: 1; }\n  .ck-balloon-panel_arrow_n:after, .ck-balloon-panel_arrow_ne:after, .ck-balloon-panel_arrow_nw:after {\n    z-index: 2; }\n  .ck-balloon-panel_visible {\n    display: block; }\n\n.ck-floating-panel {\n  position: absolute;\n  display: none; }\n  .ck-floating-panel_active {\n    display: block; }\n\n.ck-editor .ck-toolbar.ck-toolbar_sticky {\n  position: fixed;\n  top: 0; }\n  .ck-editor .ck-toolbar.ck-toolbar_sticky.ck-toolbar_sticky_bottom-limit {\n    top: auto;\n    position: absolute; }\n\n/**\n * Colors configured by the user.\n *\n * @type Map\n * @example\n *\t\t$ck-colors: ( \'foreground\': red );\n * @see $_ck-colors\n */\n/**\n * Internal map with default colors.\n *\n * @type Map\n * @see ck-color-add\n */\n/**\n * Returns a color of given name and lightness offset.\n *\n * @param {String} $name [ \'background\' ] - Name of the color.\n * @param {Number} $offset [ 0 ] - Offset of the lightness.\n * @return {String}\n * @see $_ck-colors\n */\n/**\n * Returns a border\u2013color for a given name and lightness offset.\n *\n * @param {String} $name [ \'background\' ] - Name of the color.\n * @param {Number} $offset [ 0 ] - Offset of the lightness.\n * @return {String}\n * @see $ck-color\n */\n/**\n * Adds a color to internal color map.\n *\n * @example\n *\t\t@include ck-color-add( ( \'special\': yellow, \'hover\': #00FF00 ) );\n * @param {Map} $map - A map with new colors.\n * @see $_ck-colors\n */\n/**\n * Base font size.\n *\n * @see $ck-font-sizes\n */\n/**\n * Base font face.\n *\n */\n/**\n * Base font sizes for scaling.\n *\n * @see ck-font-size\n */\n/**\n * Returns font-size in units for given level.\n *\n * @param {Number} $level [ 0 ] - Size of the font.\n * @return {String}\n * @see $ck-font-sizes\n * @see $ck-font-size-base\n */\n/**\n * Default border-radius value.\n *\n */\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n/**\n * Default spacing value ("unit").\n *\n */\n/**\n * Internal map with default spacings.\n *\n * @type Map\n * @see ck-spacing\n */\n/**\n * Returns a spacing value with units for given name.\n *\n * @param {String} $spacing [ \'standard\' ] - Spacing level.\n * @return {String}\n * @see $ck-def-spacing\n * @see $ck-def-spacings\n */\n/**\n * A visual style of focused element\'s outer shadow.\n */\n/**\n * A visual style of focused element\'s border or outline.\n */\n/**\n * A class which indicates that an element holding it is disabled.\n */\n.ck-disabled {\n  opacity: .5; }\n\n/**\n * A visual style of focused element\'s border or outline.\n */\n/**\n * Brings visual styling for :focus state.\n */\n/**\n * A visual style of element\'s inner shadow (i.e. input).\n */\n/**\n * A visual style of element\'s drop shadow (i.e. panel).\n */\n/**\n * A helper to combine multiple shadows.\n */\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n/**\n * Resets an element, ignoring its children.\n */\n.ck-reset, .ck-reset_all, .ck-reset_all *, .ck-reset_all a, .ck-reset_all textarea {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  background: transparent;\n  text-decoration: none;\n  vertical-align: middle;\n  transition: none; }\n\n/**\n * Resets an element AND its children.\n */\n.ck-reset_all, .ck-reset_all *, .ck-reset_all a, .ck-reset_all textarea {\n  border-collapse: collapse;\n  font: normal normal normal 12px Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\n  color: #333333;\n  text-align: left;\n  white-space: nowrap;\n  cursor: auto;\n  float: none; }\n\n.ck-reset_all .ck-rtl * {\n  text-align: right; }\n\n.ck-reset_all iframe {\n  vertical-align: inherit; }\n\n.ck-reset_all textarea {\n  white-space: pre-wrap; }\n\n.ck-reset_all textarea,\n.ck-reset_all input[type="text"],\n.ck-reset_all input[type="password"] {\n  cursor: text; }\n\n.ck-reset_all textarea[disabled],\n.ck-reset_all input[type="text"][disabled],\n.ck-reset_all input[type="password"][disabled] {\n  cursor: default; }\n\n.ck-reset_all fieldset {\n  padding: 10px;\n  border: 2px groove #E0DFE3; }\n\n.ck-reset_all button::-moz-focus-inner {\n  padding: 0;\n  border: 0; }\n\nsvg.ck-icon {\n  width: 1.66667em;\n  height: 1.66667em; }\n\n[data-ck-tooltip]::after {\n  left: 50%;\n  transition: opacity .2s ease-in-out .2s; }\n\n[data-ck-tooltip]::before {\n  left: 50%;\n  transition: opacity .2s ease-in-out .2s; }\n\n[data-ck-tooltip]::after {\n  border-radius: 2px;\n  color: white;\n  font-size: 0.7rem;\n  background: #333333;\n  padding: 0.4em 0.64em; }\n\n[data-ck-tooltip]::before {\n  border-style: solid; }\n\n/**\n * A class once applied displays the tooltip south of the element.\n *\n *       [element]\n *           ^\n *     +-----------+\n *     |  Tooltip  |\n *     +-----------+\n */\n.ck-tooltip_s::after {\n  bottom: -4px;\n  transform: translate(-50%, 100%); }\n\n.ck-tooltip_s::before {\n  bottom: 0;\n  transform: translate(-50%, 100%);\n  border-color: transparent transparent #333333 transparent;\n  border-width: 0 5px 5px 5px; }\n\n/**\n * A class once applied displays the tooltip north of the element.\n *\n *     +-----------+\n *     |  Tooltip  |\n *     +-----------+\n *           V\n *       [element]\n */\n.ck-tooltip_n::after {\n  top: -4px;\n  transform: translate(-50%, -100%); }\n\n.ck-tooltip_n::before {\n  top: 0;\n  transform: translate(-50%, -100%);\n  border-color: #333333 transparent transparent transparent;\n  border-width: 5px 5px 0 5px; }\n\n/**\n * Implements a button of given background color.\n *\n * @param {String} $color - Background color of the button.\n */\n/**\n * Implements button states.\n *\n * @param {String} $color - Background color of the button.\n */\n/**\n * A helper to define button\u2013specific icon styles.\n *\n */\n.ck-button,\na.ck-button {\n  background: white;\n  border-color: #bfbfbf;\n  border-width: 1px;\n  border-style: solid;\n  white-space: nowrap;\n  cursor: default;\n  vertical-align: middle;\n  padding: 0.4em;\n  line-height: 1.66667; }\n  .ck-button:not(.ck-disabled):hover, .ck-button:not(.ck-disabled):focus,\n  a.ck-button:not(.ck-disabled):hover,\n  a.ck-button:not(.ck-disabled):focus {\n    background: #e6e6e6;\n    border-color: #a6a6a6; }\n  .ck-button:not(.ck-disabled):active,\n  a.ck-button:not(.ck-disabled):active {\n    background: #d9d9d9;\n    border-color: #999999;\n    box-shadow: inset 0 2px 2px #bfbfbf; }\n  .ck-button.ck-rounded-corners,\n  .ck-rounded-corners .ck-button,\n  a.ck-button.ck-rounded-corners,\n  .ck-rounded-corners\n  a.ck-button {\n    border-radius: 2px; }\n  .ck-button:focus,\n  a.ck-button:focus {\n    outline: none;\n    border: 1px solid #6ab5f9;\n    box-shadow: 0 0 3px 2px #9bcdfb; }\n  .ck-button .ck-icon,\n  a.ck-button .ck-icon {\n    float: left; }\n  .ck-button.ck-button_with-text,\n  a.ck-button.ck-button_with-text {\n    padding: 0.4em 0.8em; }\n    .ck-button.ck-button_with-text .ck-icon,\n    a.ck-button.ck-button_with-text .ck-icon {\n      margin-left: -0.4em;\n      margin-right: 0.4em; }\n    .ck-button.ck-button_with-text .ck-button__label,\n    a.ck-button.ck-button_with-text .ck-button__label {\n      display: block; }\n  .ck-button.ck-on,\n  a.ck-button.ck-on {\n    background: #f7f7f7;\n    border-color: #b9b9b9; }\n    .ck-button.ck-on:not(.ck-disabled):hover, .ck-button.ck-on:not(.ck-disabled):focus,\n    a.ck-button.ck-on:not(.ck-disabled):hover,\n    a.ck-button.ck-on:not(.ck-disabled):focus {\n      background: #dedede;\n      border-color: #a1a1a1; }\n    .ck-button.ck-on:not(.ck-disabled):active,\n    a.ck-button.ck-on:not(.ck-disabled):active {\n      background: #d2d2d2;\n      border-color: #949494;\n      box-shadow: inset 0 2px 2px #b9b9b9; }\n  .ck-button-action,\n  a.ck-button-action {\n    background: #61b145;\n    border-color: #498534;\n    text-shadow: 0 -1px #4e8e37;\n    color: white; }\n    .ck-button-action:not(.ck-disabled):hover, .ck-button-action:not(.ck-disabled):focus,\n    a.ck-button-action:not(.ck-disabled):hover,\n    a.ck-button-action:not(.ck-disabled):focus {\n      background: #579f3e;\n      border-color: #3f732d; }\n    .ck-button-action:not(.ck-disabled):active,\n    a.ck-button-action:not(.ck-disabled):active {\n      background: #52963b;\n      border-color: #3a6a29;\n      box-shadow: inset 0 2px 2px #498534; }\n    .ck-button-action:hover, .ck-button-action:focus, .ck-button-action:active,\n    a.ck-button-action:hover,\n    a.ck-button-action:focus,\n    a.ck-button-action:active {\n      text-shadow: 0 -1px #3a6a29; }\n  .ck-button-bold,\n  a.ck-button-bold {\n    font-weight: bold; }\n  .ck-button .ck-icon use,\n  .ck-button .ck-icon use *,\n  a.ck-button .ck-icon use,\n  a.ck-button .ck-icon use * {\n    color: inherit; }\n  .ck-button .ck-button__label,\n  a.ck-button .ck-button__label {\n    float: left;\n    line-height: inherit;\n    font-size: inherit;\n    font-weight: inherit;\n    color: inherit;\n    cursor: inherit; }\n\n.ck-toolbar {\n  line-height: 1;\n  padding: 0.4em;\n  border: 1px solid #bfbfbf;\n  white-space: initial;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none; }\n  .ck-toolbar.ck-rounded-corners,\n  .ck-rounded-corners .ck-toolbar {\n    border-radius: 2px; }\n  .ck-toolbar__separator {\n    width: 1px;\n    height: calc( 1em + 2 * 0.64em);\n    vertical-align: middle;\n    background: #bfbfbf; }\n  .ck-toolbar__newline {\n    height: 0.4em; }\n  .ck-toolbar > * {\n    margin-right: 0.4em; }\n  .ck-toolbar > *:last-child {\n    margin-right: 0; }\n\n.ck-dropdown::after {\n  border-style: solid;\n  border-width: .4em .4em 0 .4em;\n  border-color: #707070 transparent;\n  right: 0.8em; }\n\n.ck-dropdown .ck-button.ck-dropdown__button {\n  padding-right: 1.6em; }\n  .ck-dropdown .ck-button.ck-dropdown__button .ck-button__label {\n    width: 7em;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n\n.ck-dropdown__panel {\n  border: 1px solid #b9b9b9;\n  bottom: 1px;\n  background: white;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2); }\n  .ck-dropdown__panel.ck-rounded-corners,\n  .ck-rounded-corners .ck-dropdown__panel {\n    border-radius: 2px; }\n\n.ck-list {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  list-style-type: none;\n  background: white; }\n  .ck-list.ck-rounded-corners,\n  .ck-rounded-corners .ck-list {\n    border-radius: 2px; }\n  .ck-list__item {\n    padding: 0.64em;\n    cursor: default;\n    min-width: 12em; }\n    .ck-list__item:hover, .ck-list__item:focus {\n      background: #f7f7f7; }\n    .ck-list__item:focus {\n      box-shadow: 0 0 3px 2px #9bcdfb;\n      position: relative;\n      z-index: 1;\n      outline: none; }\n    .ck-list__item:last-of-type {\n      border: none; }\n    .ck-list__item_active {\n      background: #1a8bf1;\n      color: white; }\n      .ck-list__item_active:hover, .ck-list__item_active:focus {\n        background: #0e7ee2; }\n\n.ck-label {\n  font-weight: bold; }\n\n.ck-input-text {\n  box-shadow: 2px 2px 3px #e6e6e6 inset;\n  border: 1px solid #b9b9b9;\n  padding: 0.64em;\n  min-width: 250px; }\n  .ck-input-text.ck-rounded-corners,\n  .ck-rounded-corners .ck-input-text {\n    border-radius: 2px; }\n  .ck-input-text:focus {\n    outline: none;\n    border: 1px solid #6ab5f9;\n    box-shadow: 0 0 3px 2px #9bcdfb, 2px 2px 3px #e6e6e6 inset; }\n\n.ck-balloon-panel {\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);\n  min-width: 50px;\n  min-height: 15px;\n  background: white;\n  border: 1px solid #b9b9b9; }\n  .ck-balloon-panel.ck-rounded-corners,\n  .ck-rounded-corners .ck-balloon-panel {\n    border-radius: 2px; }\n  .ck-balloon-panel:before, .ck-balloon-panel:after {\n    width: 0;\n    height: 0;\n    border-style: solid; }\n  .ck-balloon-panel_arrow_s:before, .ck-balloon-panel_arrow_s:after, .ck-balloon-panel_arrow_se:before, .ck-balloon-panel_arrow_se:after, .ck-balloon-panel_arrow_sw:before, .ck-balloon-panel_arrow_sw:after {\n    border-width: 0 10px 15px 10px; }\n  .ck-balloon-panel_arrow_s:before, .ck-balloon-panel_arrow_se:before, .ck-balloon-panel_arrow_sw:before {\n    border-color: transparent transparent #b9b9b9 transparent; }\n  .ck-balloon-panel_arrow_s:after, .ck-balloon-panel_arrow_se:after, .ck-balloon-panel_arrow_sw:after {\n    border-color: transparent transparent white transparent;\n    margin-top: 2px; }\n  .ck-balloon-panel_arrow_n:before, .ck-balloon-panel_arrow_n:after, .ck-balloon-panel_arrow_ne:before, .ck-balloon-panel_arrow_ne:after, .ck-balloon-panel_arrow_nw:before, .ck-balloon-panel_arrow_nw:after {\n    border-width: 15px 10px 0 10px; }\n  .ck-balloon-panel_arrow_n:before, .ck-balloon-panel_arrow_ne:before, .ck-balloon-panel_arrow_nw:before {\n    border-color: #b9b9b9 transparent transparent; }\n  .ck-balloon-panel_arrow_n:after, .ck-balloon-panel_arrow_ne:after, .ck-balloon-panel_arrow_nw:after {\n    border-color: white transparent transparent transparent;\n    margin-bottom: 2px; }\n  .ck-balloon-panel_arrow_s:before, .ck-balloon-panel_arrow_s:after {\n    left: 50%;\n    margin-left: -10px;\n    top: -15px; }\n  .ck-balloon-panel_arrow_se:before, .ck-balloon-panel_arrow_se:after {\n    left: 20px;\n    top: -15px; }\n  .ck-balloon-panel_arrow_sw:before, .ck-balloon-panel_arrow_sw:after {\n    right: 20px;\n    top: -15px; }\n  .ck-balloon-panel_arrow_n:before, .ck-balloon-panel_arrow_n:after {\n    left: 50%;\n    margin-left: -10px;\n    bottom: -15px; }\n  .ck-balloon-panel_arrow_ne:before, .ck-balloon-panel_arrow_ne:after {\n    left: 20px;\n    bottom: -15px; }\n  .ck-balloon-panel_arrow_nw:before, .ck-balloon-panel_arrow_nw:after {\n    right: 20px;\n    bottom: -15px; }\n\n.ck-floating-panel {\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #bfbfbf;\n  background: #f7f7f7; }\n  .ck-floating-panel.ck-rounded-corners,\n  .ck-rounded-corners .ck-floating-panel {\n    border-radius: 2px; }\n\n.ck-toolbar__container {\n  background: #f7f7f7; }\n  .ck-toolbar__container .ck-toolbar {\n    border-radius: 0;\n    border: 0; }\n    .ck-toolbar__container .ck-toolbar .ck-button {\n      border-width: 0; }\n      .ck-toolbar__container .ck-toolbar .ck-button:not(:hover):not(:focus):not(.ck-on), .ck-toolbar__container .ck-toolbar .ck-button.ck-disabled {\n        background: #f7f7f7; }\n      .ck-toolbar__container .ck-toolbar .ck-button.ck-on {\n        background: #dedede;\n        border-color: #a1a1a1; }\n        .ck-toolbar__container .ck-toolbar .ck-button.ck-on:not(.ck-disabled):hover, .ck-toolbar__container .ck-toolbar .ck-button.ck-on:not(.ck-disabled):focus {\n          background: #c6c6c6;\n          border-color: #888888; }\n        .ck-toolbar__container .ck-toolbar .ck-button.ck-on:not(.ck-disabled):active {\n          background: #b9b9b9;\n          border-color: #7c7c7c;\n          box-shadow: inset 0 2px 2px #a1a1a1; }\n    .ck-toolbar__container .ck-toolbar .ck-dropdown__button {\n      border-width: 1px; }\n      .ck-toolbar__container .ck-toolbar .ck-dropdown__button:not(:hover):not(:focus):not(.ck-on) {\n        background: white; }\n  .ck-toolbar__container.ck-balloon-panel_arrow_s:after, .ck-toolbar__container.ck-balloon-panel_arrow_se:after, .ck-toolbar__container.ck-balloon-panel_arrow_sw:after {\n    border-bottom-color: #f7f7f7; }\n  .ck-toolbar__container.ck-balloon-panel_arrow_n:after, .ck-toolbar__container.ck-balloon-panel_arrow_ne:after, .ck-toolbar__container.ck-balloon-panel_arrow_nw:after {\n    border-top-color: #f7f7f7; }\n\n.ck-editor .ck-toolbar.ck-toolbar_sticky {\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #bfbfbf;\n  border-width: 0 0 1px;\n  background: #f7f7f7; }\n\n.ck-editor {\n  position: relative; }\n  .ck-editor.ck-rounded-corners,\n  .ck-rounded-corners .ck-editor {\n    border-radius: 2px; }\n  .ck-editor .ck-editor__top .ck-toolbar {\n    border-radius: 0;\n    border-top: 0;\n    border-left: 0;\n    border-right: 0; }\n    .ck-editor .ck-editor__top .ck-toolbar .ck-button {\n      border-width: 0; }\n      .ck-editor .ck-editor__top .ck-toolbar .ck-button:not(:hover):not(:focus):not(.ck-on), .ck-editor .ck-editor__top .ck-toolbar .ck-button.ck-disabled {\n        background: #f7f7f7; }\n      .ck-editor .ck-editor__top .ck-toolbar .ck-button.ck-on {\n        background: #dedede;\n        border-color: #a1a1a1; }\n        .ck-editor .ck-editor__top .ck-toolbar .ck-button.ck-on:not(.ck-disabled):hover, .ck-editor .ck-editor__top .ck-toolbar .ck-button.ck-on:not(.ck-disabled):focus {\n          background: #c6c6c6;\n          border-color: #888888; }\n        .ck-editor .ck-editor__top .ck-toolbar .ck-button.ck-on:not(.ck-disabled):active {\n          background: #b9b9b9;\n          border-color: #7c7c7c;\n          box-shadow: inset 0 2px 2px #a1a1a1; }\n    .ck-editor .ck-editor__top .ck-toolbar .ck-dropdown__button {\n      border-width: 1px; }\n      .ck-editor .ck-editor__top .ck-toolbar .ck-dropdown__button:not(:hover):not(:focus):not(.ck-on) {\n        background: white; }\n  .ck-editor .ck-editor__main {\n    background: white; }\n  .ck-editor .ck-editor__bottom {\n    border-bottom: 0;\n    border-left: 0;\n    border-right: 0;\n    padding: 0.8em; }\n  .ck-editor .ck-editor__editable.ck-focused {\n    outline: 1px solid #6ab5f9;\n    box-shadow: 2px 2px 3px #e6e6e6 inset; }\n  .ck-editor .ck-editor__editable_inline {\n    overflow: auto;\n    padding: 0 0.8em; }\n\n.ck-editor,\n.ck-editor-bottom {\n  background: #f7f7f7;\n  border: 1px solid #b9b9b9; }\n',''])},function(r,o,u){o=r.exports=u(45)(),o.push([r.i,'/**\n * Default spacing value ("unit").\n *\n */\n/**\n * Internal map with default spacings.\n *\n * @type Map\n * @see ck-spacing\n */\n/**\n * Returns a spacing value with units for given name.\n *\n * @param {String} $spacing [ \'standard\' ] - Spacing level.\n * @return {String}\n * @see $ck-def-spacing\n * @see $ck-def-spacings\n */\n/**\n * Base font size.\n *\n * @see $ck-font-sizes\n */\n/**\n * Base font face.\n *\n */\n/**\n * Base font sizes for scaling.\n *\n * @see ck-font-size\n */\n/**\n * Returns font-size in units for given level.\n *\n * @param {Number} $level [ 0 ] - Size of the font.\n * @return {String}\n * @see $ck-font-sizes\n * @see $ck-font-size-base\n */\n.ck-heading_heading1 {\n  font-size: 1.5em; }\n\n.ck-heading_heading2 {\n  font-size: 1.3em; }\n\n.ck-heading_heading3 {\n  font-size: 1.1em; }\n\n[class*="ck-heading_"] {\n  line-height: 21.6px;\n  padding: 9.6px; }\n\n[class*="ck-heading_heading"] {\n  font-weight: bold; }\n',''])},function(r,o,u){o=r.exports=u(45)(),o.push([r.i,'@charset "UTF-8";\n/**\n * Colors configured by the user.\n *\n * @type Map\n * @example\n *\t\t$ck-colors: ( \'foreground\': red );\n * @see $_ck-colors\n */\n/**\n * Internal map with default colors.\n *\n * @type Map\n * @see ck-color-add\n */\n/**\n * Returns a color of given name and lightness offset.\n *\n * @param {String} $name [ \'background\' ] - Name of the color.\n * @param {Number} $offset [ 0 ] - Offset of the lightness.\n * @return {String}\n * @see $_ck-colors\n */\n/**\n * Returns a border\u2013color for a given name and lightness offset.\n *\n * @param {String} $name [ \'background\' ] - Name of the color.\n * @param {Number} $offset [ 0 ] - Offset of the lightness.\n * @return {String}\n * @see $ck-color\n */\n/**\n * Adds a color to internal color map.\n *\n * @example\n *\t\t@include ck-color-add( ( \'special\': yellow, \'hover\': #00FF00 ) );\n * @param {Map} $map - A map with new colors.\n * @see $_ck-colors\n */\n/**\n * A visual style of element\'s inner shadow (i.e. input).\n */\n/**\n * A visual style of element\'s drop shadow (i.e. panel).\n */\n/**\n * A helper to combine multiple shadows.\n */\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n/**\n * A visual style of focused element\'s outer shadow.\n */\n/**\n * A visual style of focused element\'s border or outline.\n */\n/**\n * A class which indicates that an element holding it is disabled.\n */\n.ck-disabled {\n  opacity: .5; }\n\n/**\n * A visual style of focused element\'s border or outline.\n */\n/**\n * Brings visual styling for :focus state.\n */\n.ck-widget.image figcaption {\n  background-color: #f7f7f7;\n  padding: 10px;\n  font-size: .8em;\n  color: #858585; }\n  .ck-widget.image figcaption:focus {\n    outline: none;\n    box-shadow: none; }\n  .ck-widget.image figcaption.focused {\n    outline: 1px solid #6ab5f9;\n    box-shadow: 2px 2px 3px #e6e6e6 inset;\n    background-color: white; }\n',''])},function(r,o,u){o=r.exports=u(45)(),o.push([r.i,'/**\n * Default spacing value ("unit").\n *\n */\n/**\n * Internal map with default spacings.\n *\n * @type Map\n * @see ck-spacing\n */\n/**\n * Returns a spacing value with units for given name.\n *\n * @param {String} $spacing [ \'standard\' ] - Spacing level.\n * @return {String}\n * @see $ck-def-spacing\n * @see $ck-def-spacings\n */\n.cke-text-alternative-form {\n  padding: 1.2em;\n  overflow: hidden; }\n  .cke-text-alternative-form .ck-label {\n    margin-bottom: 0.4em; }\n  .cke-text-alternative-form__actions {\n    clear: both;\n    padding-top: 1.2em; }\n    .cke-text-alternative-form__actions .ck-button {\n      float: right; }\n      .cke-text-alternative-form__actions .ck-button + .ck-button {\n        margin-right: 0.64em; }\n        .cke-text-alternative-form__actions .ck-button + .ck-button + .ck-button {\n          float: left; }\n',''])},function(r,o,u){o=r.exports=u(45)(),o.push([r.i,'.ck-widget {\n  margin: 10px 0;\n  padding: 0; }\n  .ck-widget.ck-widget_selected, .ck-widget.ck-widget_selected:hover {\n    outline: 2px solid #ace; }\n  .ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected {\n    outline: 2px solid #ddd; }\n  .ck-widget:hover {\n    outline: 2px solid yellow; }\n\n.image {\n  text-align: center;\n  clear: both; }\n  .image.image-style-side {\n    float: right;\n    margin-left: 0.8em;\n    max-width: 50%; }\n\n.image > img {\n  display: block;\n  margin: 0 auto;\n  max-width: 100%; }\n',''])},function(r,o,u){o=r.exports=u(45)(),o.push([r.i,'/**\n * Default spacing value ("unit").\n *\n */\n/**\n * Internal map with default spacings.\n *\n * @type Map\n * @see ck-spacing\n */\n/**\n * Returns a spacing value with units for given name.\n *\n * @param {String} $spacing [ \'standard\' ] - Spacing level.\n * @return {String}\n * @see $ck-def-spacing\n * @see $ck-def-spacings\n */\n.ck-link-form {\n  padding: 1.2em;\n  overflow: hidden; }\n  .ck-link-form .ck-label {\n    margin-bottom: 0.4em; }\n  .ck-link-form__actions {\n    clear: both;\n    padding-top: 1.2em; }\n    .ck-link-form__actions .ck-button {\n      float: right; }\n      .ck-link-form__actions .ck-button + .ck-button {\n        margin-right: 0.64em; }\n        .ck-link-form__actions .ck-button + .ck-button + .ck-button {\n          float: left; }\n',''])},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>bold</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="bold" sketch:type="MSArtboardGroup" fill="#454545">\n            <g id="icon:bold" sketch:type="MSLayerGroup" transform="translate(4.000000, 3.000000)">\n                <path d="M11.135257,7.40877709 C11.4960763,7.65684034 11.7892376,7.96832419 12.0147496,8.34323798 C12.2402617,8.71815176 12.353016,9.15930309 12.353016,9.66670521 C12.353016,10.2755877 12.2247579,10.7900294 11.968238,11.2100456 C11.711718,11.6300618 11.343857,11.9612776 10.8646439,12.2037031 C10.3572418,12.463042 9.77232867,12.6462677 9.10988702,12.753386 C8.44744538,12.8605042 7.66803104,12.9140625 6.77162064,12.9140625 L0.5390625,12.9140625 L0.5390625,12.254443 C0.713834339,12.2375296 0.933705291,12.2121599 1.19868195,12.1783331 C1.46365861,12.1445063 1.64970326,12.1050423 1.75682149,12.0599399 C1.96542013,11.9753729 2.10777248,11.864028 2.1838828,11.7259018 C2.25999311,11.5877757 2.2980477,11.4087782 2.2980477,11.1889039 L2.2980477,2.73224432 C2.2980477,2.52928347 2.26704026,2.36015197 2.20502445,2.22484474 C2.14300863,2.08953751 1.99360914,1.97114546 1.75682149,1.86966504 C1.58204965,1.79637362 1.37909184,1.73576817 1.14794199,1.68784686 C0.916792141,1.63992554 0.713834339,1.60187096 0.5390625,1.57368195 L0.5390625,0.9140625 L7.05914707,0.9140625 C8.69974724,0.9140625 9.88366774,1.13957117 10.6109441,1.59059527 C11.3382205,2.04161937 11.7018532,2.70686994 11.7018532,3.58636694 C11.7018532,3.99228863 11.6201063,4.34887421 11.4566101,4.65613438 C11.2931138,4.96339455 11.0591486,5.22977666 10.7547073,5.45528872 C10.4784551,5.66388736 10.1486486,5.8442943 9.76527814,5.99651493 C9.38190766,6.14873557 8.97035434,6.27558419 8.53060584,6.37706461 L8.53060584,6.53774115 C8.97035434,6.58284356 9.42700939,6.68009417 9.9005847,6.8294959 C10.37416,6.97889764 10.7857133,7.17198943 11.135257,7.40877709 L11.135257,7.40877709 Z M8.41221261,3.79778343 C8.41221261,3.13252288 8.22475853,2.61385294 7.84984474,2.24175806 C7.47493096,1.86966318 6.91256872,1.68361853 6.16274115,1.68361853 C6.05562292,1.68361853 5.91608943,1.68784681 5.7441365,1.69630351 C5.57218356,1.70476022 5.42419349,1.71180736 5.30016187,1.71744516 L5.30016187,6.16564812 L5.73990817,6.16564812 C6.65323197,6.16564812 7.32693912,5.95282432 7.76104982,5.52717032 C8.19516051,5.10151633 8.41221261,4.52505979 8.41221261,3.79778343 L8.41221261,3.79778343 Z M9.00417878,9.55676863 C9.00417878,8.72237404 8.75611924,8.0824932 8.25999273,7.6371069 C7.76386622,7.1917206 7.05069506,6.96903079 6.12045785,6.96903079 C6.01333962,6.96903079 5.87098728,6.97325908 5.69339654,6.98171578 C5.5158058,6.99017248 5.38472888,6.99721962 5.30016187,7.00285743 L5.30016187,11.3918638 C5.35090208,11.6004624 5.50875814,11.7766411 5.7737348,11.920405 C6.03871146,12.0641689 6.36006132,12.1360498 6.737794,12.1360498 C7.40869235,12.1360498 7.95414144,11.9105411 8.37415764,11.459517 C8.79417383,11.0084929 9.00417878,10.3742498 9.00417878,9.55676863 L9.00417878,9.55676863 Z" id="B" sketch:type="MSShapeGroup"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>italic</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="italic" sketch:type="MSArtboardGroup" fill="#454545">\n            <g id="icon:italic" sketch:type="MSLayerGroup" transform="translate(5.000000, 3.000000)">\n                <path d="M8.82538319,0.9140625 L8.6985333,1.47220203 C8.52376146,1.47783984 8.29543393,1.50320956 8.01354387,1.54831197 C7.73165381,1.59341438 7.52305829,1.63569726 7.38775106,1.67516187 C7.1509634,1.74845328 6.9818319,1.86120762 6.88035148,2.01342825 C6.77887106,2.16564888 6.70558074,2.33196153 6.66047833,2.51237117 L4.63088002,11.2819272 C4.61960442,11.3213918 4.61114784,11.3664935 4.60551004,11.4172337 C4.59987224,11.467974 4.59705338,11.5130757 4.59705338,11.5525403 C4.59705338,11.6822097 4.62524197,11.7921452 4.68161998,11.88235 C4.73799799,11.9725548 4.83947689,12.0514829 4.98605973,12.1191365 C5.07062674,12.1586011 5.2566714,12.2051123 5.54419926,12.2586714 C5.83172712,12.3122305 6.04596036,12.3446474 6.18690539,12.355923 L6.0600555,12.9140625 L0.65625,12.9140625 L0.783099894,12.355923 C0.94095833,12.3446474 1.166467,12.3277342 1.45963266,12.305183 C1.75279833,12.2826318 1.96139385,12.2488055 2.08542548,12.2037031 C2.30529973,12.1247739 2.47161237,12.0162478 2.58436839,11.8781217 C2.69712442,11.7399956 2.77323359,11.5722735 2.8126982,11.3749504 L4.83383985,2.59693776 C4.84511545,2.54619755 4.85357203,2.4954581 4.85920983,2.44471789 C4.86484763,2.39397768 4.86766649,2.34323823 4.86766649,2.29249802 C4.86766649,2.17974199 4.84370619,2.08108195 4.79578488,1.99651493 C4.74786357,1.91194791 4.6477941,1.83583874 4.49557347,1.76818512 C4.34335283,1.70053151 4.13616674,1.63710719 3.87400899,1.57791028 C3.61185123,1.51871337 3.41875943,1.48347764 3.2947278,1.47220203 L3.4215777,0.9140625 L8.82538319,0.9140625 Z" id="I" sketch:type="MSShapeGroup"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="100%" height="100%" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M5.414,6.749l-2.511,-2.512c-0.192,-0.191 -0.192,-0.502 0,-0.694c0.192,-0.192 0.503,-0.192 0.694,0l2.797,2.797c0.695,-0.251 1.407,-0.428 2.127,-0.53c0.366,-0.051 0.734,-0.081 1.103,-0.095c0.137,-0.003 0.275,-0.005 0.412,-0.004c0.371,0.006 0.742,0.029 1.112,0.074c1.109,0.134 2.204,0.449 3.243,0.936c0.743,0.347 1.464,0.782 2.12,1.331c0.276,0.231 0.542,0.484 0.784,0.766c0.18,0.211 0.349,0.439 0.488,0.692c0.169,0.307 0.301,0.664 0.301,1.039c0,0.375 -0.132,0.732 -0.301,1.039c-0.139,0.252 -0.308,0.481 -0.488,0.691c-0.242,0.283 -0.508,0.535 -0.784,0.767c-0.647,0.542 -1.359,0.973 -2.092,1.318l2.196,2.197c0.192,0.191 0.192,0.503 0,0.694c-0.191,0.192 -0.503,0.192 -0.694,0l-2.485,-2.484l-0.008,0.003l-0.931,-0.931l0.009,-0.003l-6.215,-6.215c-0.321,0.131 -0.636,0.278 -0.945,0.444l6.239,6.24l-0.006,0.005l0.78,0.78c-0.388,0.094 -0.78,0.166 -1.174,0.215l-1.11,-1.11l0.011,0l-5.603,-5.603c-0.229,0.157 -0.452,0.328 -0.665,0.514c-0.038,0.032 -0.075,0.065 -0.112,0.098l4.897,4.897l-0.005,0.006l1.276,1.276c-0.494,-0.003 -0.987,-0.042 -1.477,-0.117l-0.479,-0.479l-0.009,0.009l-4.863,-4.863c-0.007,0.01 -0.015,0.021 -0.022,0.031c-0.044,0.065 -0.086,0.131 -0.124,0.2c-0.026,0.047 -0.05,0.095 -0.071,0.145c-0.014,0.031 -0.026,0.063 -0.037,0.096c-0.013,0.042 -0.026,0.087 -0.028,0.133c-0.001,0.024 0.003,0.049 0.008,0.072c0.009,0.041 0.022,0.082 0.036,0.12c0.014,0.036 0.029,0.072 0.046,0.106c0.031,0.065 0.066,0.126 0.103,0.186c0.041,0.067 0.085,0.131 0.131,0.193l3.463,3.594c-0.281,-0.097 -0.56,-0.206 -0.835,-0.326c-0.44,-0.193 -0.872,-0.417 -1.29,-0.674c-0.35,-0.215 -0.69,-0.454 -1.015,-0.721c-0.281,-0.23 -0.551,-0.482 -0.798,-0.764c-0.184,-0.21 -0.357,-0.438 -0.502,-0.69c-0.184,-0.319 -0.329,-0.693 -0.329,-1.089c0,-0.375 0.131,-0.732 0.301,-1.039c0.139,-0.253 0.307,-0.481 0.488,-0.692c0.225,-0.263 0.471,-0.5 0.728,-0.719c0.647,-0.552 1.36,-0.99 2.096,-1.341l0.019,-0.009l0,0Zm6.674,0.401c1.069,0.849 1.755,2.16 1.755,3.63c0,0.833 -0.224,1.648 -0.647,2.362l0.345,0.344c0.015,-0.006 0.03,-0.012 0.046,-0.018c0.695,-0.285 1.372,-0.649 2,-1.112c0.252,-0.186 0.497,-0.388 0.727,-0.613c0.137,-0.134 0.27,-0.277 0.392,-0.431c0.072,-0.091 0.141,-0.185 0.203,-0.286c0.037,-0.06 0.072,-0.121 0.103,-0.186c0.016,-0.034 0.032,-0.07 0.045,-0.106c0.015,-0.039 0.028,-0.079 0.036,-0.12c0.005,-0.023 0.009,-0.048 0.008,-0.072c-0.002,-0.046 -0.014,-0.091 -0.028,-0.133c-0.01,-0.033 -0.023,-0.065 -0.036,-0.096c-0.022,-0.05 -0.046,-0.098 -0.071,-0.145c-0.039,-0.069 -0.081,-0.135 -0.125,-0.2c-0.081,-0.118 -0.17,-0.229 -0.263,-0.335c-0.166,-0.19 -0.345,-0.362 -0.53,-0.523c-0.333,-0.29 -0.689,-0.543 -1.054,-0.768c-0.601,-0.369 -1.232,-0.664 -1.879,-0.891c-0.338,-0.119 -0.681,-0.219 -1.027,-0.301Zm-2.85,0.21c-0.023,0 -0.046,0.001 -0.069,0.002c-0.092,0.01 -0.18,0.041 -0.254,0.097c-0.163,0.123 -0.234,0.34 -0.175,0.535c0.016,0.051 0.04,0.1 0.071,0.144c0.036,0.05 0.082,0.093 0.133,0.126c0.059,0.038 0.124,0.061 0.193,0.073c0.023,0.003 0.022,0.003 0.045,0.005c0.091,0.003 0.181,0.003 0.272,0.012c0.158,0.016 0.315,0.048 0.467,0.094c0.496,0.151 0.937,0.462 1.246,0.878c0.124,0.167 0.224,0.349 0.304,0.541c0.024,0.061 0.043,0.125 0.069,0.185c0.038,0.077 0.089,0.144 0.159,0.194c0.085,0.062 0.188,0.093 0.291,0.093l0.008,0c0.077,-0.002 0.154,-0.021 0.224,-0.059c0.047,-0.026 0.09,-0.059 0.126,-0.099c0.042,-0.045 0.075,-0.098 0.097,-0.155c0.022,-0.057 0.034,-0.119 0.033,-0.18c0,-0.077 -0.022,-0.147 -0.048,-0.219c-0.015,-0.043 -0.031,-0.085 -0.048,-0.127c-0.084,-0.209 -0.189,-0.409 -0.312,-0.596c-0.436,-0.664 -1.102,-1.164 -1.862,-1.395c-0.214,-0.066 -0.434,-0.11 -0.657,-0.132c-0.09,-0.009 -0.181,-0.014 -0.272,-0.016c-0.009,0 -0.018,0 -0.028,-0.001l-0.013,0Z" style="fill:#3a3a3a;"/></svg>\n'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="100%" height="100%" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve"><path d="M2,16l16,0l0,1l-16,0l0,-1Zm15,-2l-14,0l0,-8l14,0l0,8Zm-1,-7l-12,0l0,6l12,0l0,-6Zm-14,-4l16,0l0,1l-16,0l0,-1Z" style="fill:#343434;"/></svg>\n'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="100%" height="100%" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve"><path id="_-Curves-" d="M18,16l-16,0l0,-1l16,0l0,1Zm-11.022,-3l-4.978,0l0,-1l4.978,0l0,1Zm11.022,-7l0,7l-9,0l0,-7l9,0Zm-1,6l0,-5l-7,0l0,5l7,0Zm-10.022,-2l-4.978,0l0,-1l4.978,0l0,1Zm0,-3l-4.978,0l0,-1l4.978,0l0,1Zm11.022,-3l-16,0l0,-1l16,0l0,1Z" style="fill:#343434;"/></svg>\n'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>link</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="link" sketch:type="MSArtboardGroup" fill="#222222">\n            <g id="icon:link" sketch:type="MSLayerGroup">\n                <g id="Rectangle-18-+-Rectangle-18-Copy-+-Path-28" transform="translate(9.646447, 9.853553) rotate(-315.000000) translate(-9.646447, -9.853553) translate(5.646447, 0.853553)" sketch:type="MSShapeGroup">\n                    <path d="M8,6.55919636 L8,4.82450549 C8,2.61334348 6.2104719,0.828427125 4,0.828427125 C1.79353398,0.828427125 -3.20810045e-12,2.61822724 -3.20810045e-12,4.82450549 L-3.20810045e-12,7.75542568 C-3.20810045e-12,9.96658769 1.7895281,11.751504 4,11.751504 C4.5511606,11.751504 5.07655559,11.6398264 5.55466651,11.437876 L5.12132034,11.437876 L5.12132034,10.5346402 C4.77469964,10.6745028 4.39616036,10.751504 4,10.751504 C2.34314575,10.751504 1,9.41562927 1,7.75542568 L1,4.82450549 C1,3.1698171 2.34651712,1.82842712 4,1.82842712 C5.65685425,1.82842712 7,3.1643019 7,4.82450549 L7,6.55919636 L8,6.55919636 Z" id="Shape"></path>\n                    <path d="M2.63603897,6.90151354 C3.06184352,6.74698845 3.52119959,6.66270951 4,6.66270951 C6.2104719,6.66270951 8,8.44762587 8,10.6587879 L8,13.5897081 C8,15.7959863 6.20646602,17.5857864 4,17.5857864 C1.7895281,17.5857864 -2.32347475e-12,15.8008701 -2.32347475e-12,13.5897081 L-2.32347475e-12,11.6627095 L1,11.6627095 L1,13.5897081 C1,15.2499117 2.34314575,16.5857864 4,16.5857864 C5.65348288,16.5857864 7,15.2443965 7,13.5897081 L7,10.6587879 C7,8.99858429 5.65685425,7.66270951 4,7.66270951 C3.5092458,7.66270951 3.04553235,7.78087311 2.63603897,7.99032058 L2.63603897,6.90151354 Z" id="Shape"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>unlink</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="unlink" sketch:type="MSArtboardGroup" fill="#222222">\n            <g id="icon:unlink" sketch:type="MSLayerGroup">\n                <g id="Rectangle-18-+-Rectangle-18-Copy-+-Path-28-Copy" transform="translate(12.828427, 13.035534) rotate(-315.000000) translate(-12.828427, -13.035534) translate(4.328427, 4.035534)" sketch:type="MSShapeGroup">\n                    <path d="M8,6.55919636 L8,4.82450549 C8,2.61334348 6.2104719,0.828427125 4,0.828427125 C1.79353398,0.828427125 -3.20454774e-12,2.61822724 -3.20454774e-12,4.82450549 L-3.20454774e-12,7.75542568 C-3.20454774e-12,9.96658769 1.7895281,11.751504 4,11.751504 C4.5511606,11.751504 5.07655559,11.6398264 5.55466651,11.437876 L5.12132034,11.437876 L5.12132034,10.5346402 C4.77469964,10.6745028 4.39616036,10.751504 4,10.751504 C2.34314575,10.751504 1,9.41562927 1,7.75542568 L1,4.82450549 C1,3.1698171 2.34651712,1.82842712 4,1.82842712 C5.65685425,1.82842712 7,3.1643019 7,4.82450549 L7,6.55919636 L8,6.55919636 Z" id="Shape"></path>\n                    <path d="M12.1301896,9.691731 L12.1301896,6.07623654 L11.1099103,6.07623654 L11.1099103,9.691731 L7.79324873,9.691731 L7.79324873,10.7120103 L11.1099103,10.7120103 L11.1099103,14.3275047 L12.1301896,14.3275047 L12.1301896,10.7120103 L16.0445169,10.7120103 L16.0445169,9.691731 L12.1301896,9.691731 Z M7.52584209,8.6418508 C6.80172121,7.49371533 5.53005392,6.73384534 4.08111717,6.73384534 C3.59260703,6.73384534 3.12393555,6.82077136 2.68949598,6.98014985 L2.68949598,8.10315471 C3.10729359,7.8871288 3.58041083,7.76525387 4.08111717,7.76525387 C5.2472836,7.76525387 6.26112906,8.4209623 6.77783518,9.38985772 L7.52584209,8.6418508 Z M8.16223435,12.3942945 L8.16223435,13.8784107 C8.16223435,16.1539849 6.33232877,18 4.08111717,18 C1.82581847,18 -8.17124146e-14,16.1590221 -8.17124146e-14,13.8784107 L-8.17124146e-14,11.890888 L1.02027929,11.890888 L1.02027929,13.8784107 C1.02027929,15.5907588 2.39066309,16.9685915 4.08111717,16.9685915 C5.76813152,16.9685915 7.14195505,15.5850704 7.14195505,13.8784107 L7.14195505,11.3740152 L8.16223435,12.3942945 Z" id="Shape"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>bulletedlist</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="bulletedlist" sketch:type="MSArtboardGroup" fill="#454545">\n            <g id="icon:bulletedlist" sketch:type="MSLayerGroup" transform="translate(1.000000, 3.000000)">\n                <path d="M5,13 L5,14 L15,14 L15,13 L5,13 L5,13 Z M5,1 L5,2 L17,2 L17,1 L5,1 L5,1 Z M5,7 L5,8 L16,8 L16,7 L5,7 L5,7 Z M0,1.5 C0,0.671572875 0.665797234,0 1.5,0 L1.5,0 C2.32842712,0 3,0.665797234 3,1.5 L3,1.5 C3,2.32842712 2.33420277,3 1.5,3 L1.5,3 C0.671572875,3 0,2.33420277 0,1.5 L0,1.5 Z M0,7.5 C0,6.67157288 0.665797234,6 1.5,6 L1.5,6 C2.32842712,6 3,6.66579723 3,7.5 L3,7.5 C3,8.32842712 2.33420277,9 1.5,9 L1.5,9 C0.671572875,9 0,8.33420277 0,7.5 L0,7.5 Z M0,13.5 C0,12.6715729 0.665797234,12 1.5,12 L1.5,12 C2.32842712,12 3,12.6657972 3,13.5 L3,13.5 C3,14.3284271 2.33420277,15 1.5,15 L1.5,15 C0.671572875,15 0,14.3342028 0,13.5 L0,13.5 Z" id="path4634" sketch:type="MSShapeGroup"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>numberedlist</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="numberedlist" sketch:type="MSArtboardGroup" fill="#454545">\n            <g id="icon:numberedlist" sketch:type="MSLayerGroup" transform="translate(2.000000, 2.000000)">\n                <path d="M5,15 L15,15 L15,14 L5,14 L5,15 Z M4,2 L4,3 L17,3 L17,2 L4,2 L4,2 Z M5,8 L5,9 L16,9 L16,8 L5,8 L5,8 Z" id="path4634" sketch:type="MSShapeGroup"></path>\n                <g id="path4712-path-+-path4712-path-+-path4712-path-copy" sketch:type="MSShapeGroup">\n                    <path d="M0,0.5 C0,0.77699 0.223,1 0.5,1 L1,1 L1,4.5 C1,4.77699 1.223,5 1.5,5 C1.777,5 2,4.77699 2,4.5 L2,0.5 C2,0.223 1.777,0 1.5,0 L0.5,0 C0.223,0 0,0.223 0,0.5 Z" id="path4712-path"></path>\n                    <path d="M0.5,6 C0.223,6 0,6.223 0,6.5 C0,6.77699 0.223,7 0.5,7 L2,7 L2,8 L0.5,8 C0.223,8 0,8.223 0,8.5 L0,10.5 C0,10.77699 0.223,11 0.5,11 L2.5,11 C2.777,11 3,10.77699 3,10.5 C3,10.223 2.777,10 2.5,10 L1,10 L1,9 L2.5,9 C2.5693,9 2.62764,8.994 2.6875,8.9688 C2.81468,8.9278 2.9182,8.82667 2.96875,8.68755 C2.99395,8.62765 2.99995,8.5693 2.99995,8.50005 L2.99995,6.50005 C2.99995,6.43075 2.99395,6.3724 2.96875,6.31255 C2.91825,6.17342 2.81468,6.07227 2.6875,6.0313 C2.6471,6.0142 2.6076,6.006 2.5625,6.0001 L2.5,6.0001 L0.5,6.0001 L0.5,6 Z" id="path4712-path"></path>\n                    <path d="M2.85209534,16.8526748 C2.94267961,16.7627344 3,16.6389489 3,16.5023012 L3,12.4976988 C3,12.3570579 2.94465639,12.2332311 2.85505992,12.1442682 C2.76454727,12.057652 2.64101746,12 2.50461102,12 L0.495388985,12 C0.215752602,12 0,12.2238576 0,12.5 C0,12.7680664 0.221793203,13 0.495388985,13 L2,13 L2,14 L0.495388985,14 C0.215752602,14 0,14.2238576 0,14.5 C0,14.7680664 0.221793203,15 0.495388985,15 L2,15 L2,16 L0.495388985,16 C0.215752602,16 0,16.2238576 0,16.5 C0,16.7680664 0.221793203,17 0.495388985,17 L2.50461102,17 C2.6440432,17 2.76759251,16.9443442 2.85643212,16.854302 Z" id="Rectangle-403"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 3.8.2 (29753) - http://www.bohemiancoding.com/sketch -->\n    <title>redo</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Mockups" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="redo" fill="#454545">\n            <g id="undo">\n                <path d="M10.00002,15.99998 L11,12.0184937 C7.58334,12.0184937 2.38444,12.88666 1,16 C1,10.01667 7.60112,8.03985596 11,8.03985596 C10.99998,7.18907596 9.99999,4.71945 10,4 L18,10 L10.00002,15.99998 Z"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 3.8.2 (29753) - http://www.bohemiancoding.com/sketch -->\n    <title>undo</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Mockups" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="undo" fill="#454545">\n            <g>\n                <path d="M2,10 L9.99998,15.99998 L9,12.0184937 C12.41666,12.0184937 17.61556,12.88666 19,16 C19,10.01667 12.39888,8.03985596 9,8.03985596 C9.00002,7.18907596 10.00001,4.71945 10,4 L2,10 Z"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r,o,u){var s=u(506);'string'==typeof s&&(s=[[r.i,s,'']]);u(58)(s,{});s.locals&&(r.exports=s.locals),!1},function(r,o,u){var s=u(507);'string'==typeof s&&(s=[[r.i,s,'']]);u(58)(s,{});s.locals&&(r.exports=s.locals),!1},function(r,o,u){var s=u(508);'string'==typeof s&&(s=[[r.i,s,'']]);u(58)(s,{});s.locals&&(r.exports=s.locals),!1},function(r,o,u){var s=u(509);'string'==typeof s&&(s=[[r.i,s,'']]);u(58)(s,{});s.locals&&(r.exports=s.locals),!1},function(r,o,u){var s=u(510);'string'==typeof s&&(s=[[r.i,s,'']]);u(58)(s,{});s.locals&&(r.exports=s.locals),!1},function(r,o,u){var s=u(511);'string'==typeof s&&(s=[[r.i,s,'']]);u(58)(s,{});s.locals&&(r.exports=s.locals),!1},function(r,o,u){u(277),r.exports=u(278)}])});
//# sourceMappingURL=ckeditor.compat.js.map