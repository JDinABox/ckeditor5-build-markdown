/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
var _NumberPOSITIVE_INFINITY=Number.POSITIVE_INFINITY,_Mathfloor=Math.floor,_Mathmax=Math.max,_Mathmin=Math.min;(function(s,d){if('object'==typeof exports&&'object'==typeof module)module.exports=d();else if('function'==typeof define&&define.amd)define([],d);else{var u=d();for(var f in u)('object'==typeof exports?exports:s)[f]=u[f]}})(this,function(){return function(r){function s(u){if(d[u])return d[u].exports;var f=d[u]={i:u,l:!1,exports:{}};return r[u].call(f.exports,f,f.exports,s),f.l=!0,f.exports}var d={};return s.m=r,s.c=d,s.i=function(u){return u},s.d=function(u,f,h){s.o(u,f)||Object.defineProperty(u,f,{configurable:!1,enumerable:!0,get:h})},s.n=function(u){var f=u&&u.__esModule?function(){return u['default']}:function(){return u};return s.d(f,'a',f),f},s.o=function(u,f){return Object.prototype.hasOwnProperty.call(u,f)},s.p='',s(s.s=325)}([function(r,s){'use strict';class u extends Error{constructor(f,h){h&&(f+=' '+JSON.stringify(h)),super(f),this.name='CKEditorError',this.data=h}static isCKEditorError(f){return f instanceof u}}s.a=u},function(r,s,d){'use strict';var u=d(37),f=d(18),h=d(65),w=d(0),C=d(24);class T{constructor(P,S){if(!P.is('element')&&!P.is('documentFragment'))throw new w.a('model-position-root-invalid: Position root invalid.');if(!(S instanceof Array)||0===S.length)throw new w.a('model-position-path-incorrect: Position path must be an Array with at least one item.',{path:S});S=P.getPath().concat(S),P=P.root,this.root=P,this.path=S}get offset(){return d.i(f.a)(this.path)}set offset(P){this.path[this.path.length-1]=P}get parent(){let P=this.root;for(let S=0;S<this.path.length-1;S++)P=P.getChild(P.offsetToIndex(this.path[S]));return P}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){const P=this.parent.getChild(this.index);return P instanceof C.a&&P.startOffset<this.offset?P:null}get nodeAfter(){return null===this.textNode?this.parent.getChild(this.index):null}get nodeBefore(){return null===this.textNode?this.parent.getChild(this.index-1):null}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(P){if(this.root!=P.root)return'different';const S=d.i(h.a)(this.path,P.path);return'same'===S?'same':'prefix'===S?'before':'extension'===S?'after':this.path[S]<P.path[S]?'before':'after'}getLastMatchingPosition(P,S={}){S.startPosition=this;const E=new u.a(S);return E.skip(P),E.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){return this.parent.is('documentFragment')?[this.parent]:this.parent.getAncestors({includeNode:!0})}getCommonPath(P){if(this.root!=P.root)return[];const S=d.i(h.a)(this.path,P.path),E='string'==typeof S?_Mathmin(this.path.length,P.path.length):S;return this.path.slice(0,E)}getShiftedBy(P){const S=T.createFromPosition(this),E=S.offset+P;return S.offset=0>E?0:E,S}isAfter(P){return'after'==this.compareWith(P)}isBefore(P){return'before'==this.compareWith(P)}isEqual(P){return'same'==this.compareWith(P)}isTouching(P){let S=null,E=null;const O=this.compareWith(P);switch(O){case'same':return!0;case'before':S=T.createFromPosition(this),E=T.createFromPosition(P);break;case'after':S=T.createFromPosition(P),E=T.createFromPosition(this);break;default:return!1;}for(let V=S.parent;S.path.length+E.path.length;){if(S.isEqual(E))return!0;if(S.path.length>E.path.length){if(S.offset!==V.maxOffset)return!1;S.path=S.path.slice(0,-1),V=V.parent,S.offset++}else{if(0!==E.offset)return!1;E.path=E.path.slice(0,-1)}}}_getTransformedByDeletion(P,S){const E=T.createFromPosition(this);if(this.root!=P.root)return E;if('same'==d.i(h.a)(P.getParentPath(),this.getParentPath())){if(P.offset<this.offset){if(P.offset+S>this.offset)return null;E.offset-=S}}else if('prefix'==d.i(h.a)(P.getParentPath(),this.getParentPath())){const O=P.path.length-1;if(P.offset<=this.path[O]){if(P.offset+S>this.path[O])return null;E.path[O]-=S}}return E}_getTransformedByInsertion(P,S,E){const O=T.createFromPosition(this);if(this.root!=P.root)return O;if('same'==d.i(h.a)(P.getParentPath(),this.getParentPath()))(P.offset<this.offset||P.offset==this.offset&&E)&&(O.offset+=S);else if('prefix'==d.i(h.a)(P.getParentPath(),this.getParentPath())){const V=P.path.length-1;P.offset<=this.path[V]&&(O.path[V]+=S)}return O}_getTransformedByMove(P,S,E,O,V){let R=this._getTransformedByDeletion(P,E);return S=S._getTransformedByDeletion(P,E),R=null===R||V&&R.isEqual(P)?this._getCombined(P,S):R._getTransformedByInsertion(S,E,O),R}_getCombined(P,S){const E=P.path.length-1,O=T.createFromPosition(S);return O.offset=O.offset+this.path[E]-P.offset,O.path=O.path.concat(this.path.slice(E+1)),O}static createAt(P,S){if(P instanceof T)return this.createFromPosition(P);const E=P;if('end'==S)S=E.maxOffset;else{if('before'==S)return this.createBefore(E);if('after'==S)return this.createAfter(E);S||(S=0)}return this.createFromParentAndOffset(E,S)}static createAfter(P){if(!P.parent)throw new w.a('model-position-after-root: You can not make position after root.',{root:P});return this.createFromParentAndOffset(P.parent,P.endOffset)}static createBefore(P){if(!P.parent)throw new w.a('model-position-before-root: You can not make position before root.',{root:P});return this.createFromParentAndOffset(P.parent,P.startOffset)}static createFromParentAndOffset(P,S){if(!P.is('element')&&!P.is('documentFragment'))throw new w.a('model-position-parent-incorrect: Position parent have to be a element or document fragment.');const E=P.getPath();return E.push(S),new this(P.root,E)}static createFromPosition(P){return new this(P.root,P.path.slice())}static fromJSON(P,S){if('$graveyard'===P.root)return new T(S.graveyard,P.path);if(!S.hasRoot(P.root))throw new w.a('model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.',{rootName:P.root});return new T(S.getRoot(P.root),P.path)}}s.a=T},function(r,s,d){'use strict';var u=d(33),f=d(4);class h{constructor(w){this.editor=w}destroy(){}}s.a=h,d.i(f.a)(h,u.a)},function(r,s,d){'use strict';var u=d(1),f=d(37),h=d(0);class w{constructor(C,T=null){this.start=u.a.createFromPosition(C),this.end=T?u.a.createFromPosition(T):u.a.createFromPosition(C)}*[Symbol.iterator](){yield*new f.a({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}containsPosition(C){return C.isAfter(this.start)&&C.isBefore(this.end)}containsRange(C){return this.containsPosition(C.start)&&this.containsPosition(C.end)}isEqual(C){return this.start.isEqual(C.start)&&this.end.isEqual(C.end)}isIntersecting(C){return this.start.isBefore(C.end)&&this.end.isAfter(C.start)}getDifference(C){const T=[];return this.isIntersecting(C)?(this.containsPosition(C.start)&&T.push(new w(this.start,C.start)),this.containsPosition(C.end)&&T.push(new w(C.end,this.end))):T.push(w.createFromRange(this)),T}getIntersection(C){if(this.isIntersecting(C)){let T=this.start,P=this.end;return this.containsPosition(C.start)&&(T=C.start),this.containsPosition(C.end)&&(P=C.end),new w(T,P)}return null}getMinimalFlatRanges(){const C=[],T=this.start.getCommonPath(this.end).length,P=u.a.createFromPosition(this.start);for(let S=P.parent;P.path.length>T+1;){const E=S.maxOffset-P.offset;0!=E&&C.push(new w(P,P.getShiftedBy(E))),P.path=P.path.slice(0,-1),P.offset++,S=S.parent}for(;P.path.length<=this.end.path.length;){const E=this.end.path[P.path.length-1],O=E-P.offset;0!=O&&C.push(new w(P,P.getShiftedBy(O))),P.offset=E,P.path.push(0)}return C}getWalker(C={}){return C.boundaries=this,new f.a(C)}*getItems(C={}){C.boundaries=this,C.ignoreElementEnd=!0;const T=new f.a(C);for(const P of T)yield P.item}*getPositions(C={}){C.boundaries=this;const T=new f.a(C);yield T.position;for(const P of T)yield P.nextPosition}getTransformedByDelta(C){const T=[w.createFromRange(this)],P=new Set(['insert','move','remove','reinsert']);for(const S of C.operations)if(P.has(S.type))for(let E=0;E<T.length;E++){const O=T[E]._getTransformedByDocumentChange(S.type,C.type,S.targetPosition||S.position,S.howMany||S.nodes.maxOffset,S.sourcePosition);T.splice(E,1,...O),E+=O.length-1}return T}getTransformedByDeltas(C){const T=[w.createFromRange(this)];for(const P of C)for(let S=0;S<T.length;S++){const E=T[S].getTransformedByDelta(P);T.splice(S,1,...E),S+=E.length-1}for(let P=0;P<T.length;P++){const S=T[P];for(let E=P+1;E<T.length;E++){const O=T[E];(S.containsRange(O)||O.containsRange(S)||S.isEqual(O))&&T.splice(E,1)}}return T}_getTransformedByDocumentChange(C,T,P,S,E){if('insert'==C)return this._getTransformedByInsertion(P,S,!1,!1);const O=w.createFromPositionAndShift(E,S);if('merge'==T&&this.isCollapsed&&(this.start.isEqual(O.start)||this.start.isEqual(O.end)))return[new w(P.getShiftedBy(this.start.offset))];if('move'==C){if(O.containsPosition(this.start)&&this.containsPosition(O.end)&&this.end.isAfter(P)){const V=this.start._getCombined(E,P._getTransformedByDeletion(E,S)),R=this.end._getTransformedByMove(E,P,S,!1,!1);return[new w(V,R)]}if(O.containsPosition(this.end)&&this.containsPosition(O.start)&&this.start.isBefore(P)){const V=this.start._getTransformedByMove(E,P,S,!0,!1),R=this.end._getCombined(E,P._getTransformedByDeletion(E,S));return[new w(V,R)]}}return this._getTransformedByMove(E,P,S)}_getTransformedByInsertion(C,T,P=!1,S=!1){if(P&&this.containsPosition(C))return[new w(this.start,C),new w(C._getTransformedByInsertion(C,T,!0),this.end._getTransformedByInsertion(C,T,this.isCollapsed))];const E=w.createFromRange(this),O=!!E.isCollapsed||!S,V=!!E.isCollapsed||S;return E.start=E.start._getTransformedByInsertion(C,T,O),E.end=E.end._getTransformedByInsertion(C,T,V),[E]}_getTransformedByMove(C,T,P){if(this.isCollapsed){const N=this.start._getTransformedByMove(C,T,P,!0,!1);return[new w(N)]}let S;const E=new w(C,C.getShiftedBy(P)),O=this.getDifference(E);let V=null;const R=this.getIntersection(E);1==O.length?V=new w(O[0].start._getTransformedByDeletion(C,P),O[0].end._getTransformedByDeletion(C,P)):2==O.length&&(V=new w(this.start,this.end._getTransformedByDeletion(C,P)));const F=T._getTransformedByDeletion(C,P);return S=V?V._getTransformedByInsertion(F,P,null!==R):[],R&&S.push(new w(R.start._getCombined(E.start,F),R.end._getCombined(E.start,F))),S}static createFromPositionAndShift(C,T){const P=C,S=C.getShiftedBy(T);return 0<T?new this(P,S):new this(S,P)}static createFromParentsAndOffsets(C,T,P,S){return new this(u.a.createFromParentAndOffset(C,T),u.a.createFromParentAndOffset(P,S))}static createFromRange(C){return new this(C.start,C.end)}static createIn(C){return this.createFromParentsAndOffsets(C,0,C,C.maxOffset)}static createOn(C){return this.createFromPositionAndShift(u.a.createBefore(C),C.offsetSize)}static createFromRanges(C){if(0===C.length)throw new h.a('range-create-from-ranges-empty-array: At least one range has to be passed.');else if(1==C.length)return this.createFromRange(C[0]);const T=C[0];C.sort((E,O)=>{return E.start.isAfter(O.start)?1:-1});const P=C.indexOf(T),S=new this(T.start,T.end);for(let E=P-1;0<=E&&C[E].end.isEqual(S.start);E++)S.start=u.a.createFromPosition(C[E].start);for(let E=P+1;E<C.length&&C[E].start.isEqual(S.end);E++)S.end=u.a.createFromPosition(C[E].end);return S}static fromJSON(C,T){return new this(u.a.fromJSON(C.start,T),u.a.fromJSON(C.end,T))}}s.a=w},function(r,s){'use strict';s.a=function(f,...h){h.forEach((w)=>{Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w)).forEach((C)=>{if(!(C in f.prototype)){const T=Object.getOwnPropertyDescriptor(w,C);T.enumerable=!1,Object.defineProperty(f.prototype,C,T)}})})}},function(r,s,d){'use strict';function u(P){return'string'==typeof P?[new w.a(P)]:(d.i(C.a)(P)||(P=[P]),Array.from(P).map((S)=>{return'string'==typeof S?new w.a(S):S}))}var f=d(59),h=d(74),w=d(24),C=d(48);class T extends f.a{constructor(P,S,E){super(S),this.name=P,this._children=new h.a,E&&this.insertChildren(0,E)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(P,S=null){return S?'element'==P&&S==this.name:'element'==P||P==this.name}getChild(P){return this._children.getNode(P)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(P){return this._children.getNodeIndex(P)}getChildStartOffset(P){return this._children.getNodeStartOffset(P)}clone(P=!1){const S=P?Array.from(this._children).map((E)=>E.clone(!0)):null;return new T(this.name,this.getAttributes(),S)}offsetToIndex(P){return this._children.offsetToIndex(P)}appendChildren(P){this.insertChildren(this.childCount,P)}insertChildren(P,S){S=u(S);for(const E of S)E.parent=this;this._children.insertNodes(P,S)}removeChildren(P,S=1){const E=this._children.removeNodes(P,S);for(const O of E)O.parent=null;return E}getNodeByPath(P){let S=this;for(const E of P)S=S.getChild(E);return S}toJSON(){const P=super.toJSON();if(P.name=this.name,0<this._children.length){P.children=[];for(const S of this._children)P.children.push(S.toJSON())}return P}static fromJSON(P){let S=null;if(P.children){S=[];for(const E of P.children)E.name?S.push(T.fromJSON(E)):S.push(w.a.fromJSON(E))}return new T(P.name,P.attributes,S)}}s.a=T},function(r,s,d){'use strict';function u(ie){return!!ie&&((ie.value&&(ie=ie.value),Array.isArray(ie))?ie.some(u):!!(ie instanceof ae))}function f(ie,re){return ie.map((se)=>{return se instanceof ae?se.getValue(re):se})}function h(ie,re,{node:se}){let le=f(ie,se);le=1==ie.length&&ie[0]instanceof oe?le[0]:le.reduce(N,''),L(le)?re.remove():re.set(le)}function w(ie){return{set(re){ie.textContent=re},remove(){ie.textContent=''}}}function C(ie,re,se){return{set(le){ie.setAttributeNS(se,re,le)},remove(){ie.removeAttributeNS(se,re)}}}function T(ie,re){return{set(se){ie.style[re]=se},remove(){ie.style[re]=null}}}function P(ie){const re=d.i(Q.a)(ie,(se)=>{if(se&&(se instanceof ae||q(se)||D(se)||z(se)))return se});return re}function S(ie){if('string'==typeof ie?ie=V(ie):ie.text&&R(ie),ie.on&&(ie.eventListeners=O(ie.on),delete ie.on),!ie.text){ie.attributes&&E(ie.attributes);const re=new Z.a;if(ie.children)if(z(ie.children))re.add(ie.children);else for(const se of ie.children)q(se)||D(se)?re.add(se):re.add(new te(se));ie.children=re}return ie}function E(ie){for(const re in ie)ie[re].value&&(ie[re].value=[].concat(ie[re].value)),F(ie,re)}function O(ie){for(const re in ie)F(ie,re);return ie}function V(ie){return{text:[ie]}}function R(ie){Array.isArray(ie.text)||(ie.text=[ie.text])}function F(ie,re){Array.isArray(ie[re])||(ie[re]=[ie[re]])}function N(ie,re){return L(re)?ie:L(ie)?re:`${ie} ${re}`}function I(ie,re){for(const se in re)ie[se]?ie[se].push(...re[se]):ie[se]=re[se]}function M(ie,re){if(re.attributes&&(!ie.attributes&&(ie.attributes={}),I(ie.attributes,re.attributes)),re.eventListeners&&(!ie.eventListeners&&(ie.eventListeners={}),I(ie.eventListeners,re.eventListeners)),re.text&&ie.text.push(...re.text),re.children&&re.children.length){if(ie.children.length!=re.children.length)throw new H.a('ui-template-extend-children-mismatch: The number of children in extended definition does not match.');let se=0;for(const le of re.children)M(ie.children.get(se++),le)}}function L(ie){return!ie&&0!==ie}function D(ie){return ie instanceof G.a}function q(ie){return ie instanceof te}function z(ie){return ie instanceof J.a}function $(){return{children:[],bindings:[],attributes:{}}}function K(ie){return'class'==ie||'style'==ie}var H=d(0),W=d(4),U=d(7),Z=d(80),G=d(9),J=d(120),Q=d(520),Y=d(14),X=d(43);class te{constructor(ie){Object.assign(this,S(P(ie))),this._isRendered=!1,this._revertData=null}render(){const ie=this._renderNode({intoFragment:!0});return this._isRendered=!0,ie}apply(ie){return this._revertData=$(),this._renderNode({node:ie,isApplying:!0,revertData:this._revertData}),ie}revert(ie){if(!this._revertData)throw new H.a('ui-template-revert-not-applied: Attempting reverting a template which has not been applied yet.');this._revertTemplateFromNode(ie,this._revertData)}static bind(ie,re){return{to(se,le){return new ne({eventNameOrFunction:se,attribute:se,observable:ie,emitter:re,callback:le})},if(se,le,de){return new oe({observable:ie,emitter:re,attribute:se,valueIfTrue:le,callback:de})}}}static extend(ie,re){ie._isRendered&&X.a.warn('template-extend-render: Attempting to extend a template which has already been rendered.'),M(ie,S(P(re)))}_renderNode(ie){let re;if(re=ie.node?this.tag&&this.text:this.tag?this.text:!this.text,re)throw new H.a('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering new Node.');return this.text?this._renderText(ie):this._renderElement(ie)}_renderElement(ie){let re=ie.node;return re||(re=ie.node=document.createElementNS(this.ns||'http://www.w3.org/1999/xhtml',this.tag)),this._renderAttributes(ie),this._renderElementChildren(ie),this._setUpListeners(ie),re}_renderText(ie){let re=ie.node;return re?ie.revertData.text=re.textContent:re=ie.node=document.createTextNode(''),u(this.text)?this._bindToObservable({schema:this.text,updater:w(re),data:ie}):re.textContent=this.text.join(''),re}_renderAttributes(ie){let re,se,le,de;if(this.attributes){const ce=ie.node,ue=ie.revertData;for(re in this.attributes)if(le=ce.getAttribute(re),se=this.attributes[re],ue&&(ue.attributes[re]=le),de=d.i(Y.a)(se[0])&&se[0].ns?se[0].ns:null,u(se)){const me=de?se[0].value:se;ue&&K(re)&&me.unshift(le),this._bindToObservable({schema:me,updater:C(ce,re,de),data:ie})}else'style'==re&&'string'!=typeof se[0]?this._renderStyleAttribute(se[0],ie):(ue&&le&&K(re)&&se.unshift(le),se=se.map((me)=>me?me.value||me:me).reduce((me,pe)=>me.concat(pe),[]).reduce(N,''),L(se)||ce.setAttributeNS(de,re,se))}}_renderStyleAttribute(ie,re){const se=re.node;for(const le in ie){const de=ie[le];u(de)?this._bindToObservable({schema:[de],updater:T(se,le),data:re}):se.style[le]=de}}_renderElementChildren(ie){const re=ie.node,se=ie.intoFragment?document.createDocumentFragment():re,le=ie.isApplying;let de=0;for(const ce of this.children)if(z(ce)){if(!le){ce.setParent(re);for(const ue of ce)se.appendChild(ue.element)}}else if(D(ce))le||se.appendChild(ce.element);else if(le){const ue=ie.revertData,me=$();ue.children.push(me),ce._renderNode({node:se.childNodes[de++],isApplying:!0,revertData:me})}else se.appendChild(ce.render());ie.intoFragment&&re.appendChild(se)}_setUpListeners(ie){if(this.eventListeners)for(const re in this.eventListeners){const se=this.eventListeners[re].map((le)=>{const[de,ce]=re.split('@');return le.activateDomEventListener(de,ce,ie)});ie.revertData&&ie.revertData.bindings.push(se)}}_bindToObservable({schema:ie,updater:re,data:se}){const le=se.revertData;h(ie,re,se);const de=ie.filter((ce)=>!L(ce)).filter((ce)=>ce.observable).map((ce)=>ce.activateAttributeListener(ie,re,se));le&&le.bindings.push(de)}_revertTemplateFromNode(ie,re){for(const se of re.bindings)for(const le of se)le();if(re.text)return void(ie.textContent=re.text);for(const se in re.attributes){const le=re.attributes[se];null===le?ie.removeAttribute(se):ie.setAttribute(se,le)}for(let se=0;se<re.children.length;++se)this._revertTemplateFromNode(ie.childNodes[se],re.children[se])}}s.a=te,d.i(W.a)(te,U.a);class ae{constructor(ie){Object.assign(this,ie)}getValue(ie){const re=this.observable[this.attribute];return this.callback?this.callback(re,ie):re}activateAttributeListener(ie,re,se){const le=()=>h(ie,re,se);return this.emitter.listenTo(this.observable,'change:'+this.attribute,le),()=>{this.emitter.stopListening(this.observable,'change:'+this.attribute,le)}}}class ne extends ae{activateDomEventListener(ie,re,se){const le=(de,ce)=>{(!re||ce.target.matches(re))&&('function'==typeof this.eventNameOrFunction?this.eventNameOrFunction(ce):this.observable.fire(this.eventNameOrFunction,ce))};return this.emitter.listenTo(se.node,ie,le),()=>{this.emitter.stopListening(se.node,ie,le)}}}class oe extends ae{getValue(ie){const re=super.getValue(ie);return!L(re)&&(this.valueIfTrue||!0)}}},function(r,s,d){'use strict';function f(M,L){M[N]||(M[N]=L||d.i(V.a)())}function h(M){return M[N]}function w(M){return M._events||Object.defineProperty(M,'_events',{value:{}}),M._events}function C(){return{callbacks:[],childEvents:[]}}function T(M,L){const D=w(M);if(D[L])return;let q=L,z=null;const $=[];for(;''!==q&&!D[q];)D[q]=C(),$.push(D[q]),z&&D[q].childEvents.push(z),z=q,q=q.substr(0,q.lastIndexOf(':'));if(''!==q){for(const K of $)K.callbacks=D[q].callbacks.slice();D[q].childEvents.push(z)}}function P(M,L){const D=w(M)[L];if(!D)return[];let q=[D.callbacks];for(let z=0;z<D.childEvents.length;z++){const $=P(M,D.childEvents[z]);q=q.concat($)}return q}function S(M,L){let D;return M._events&&(D=M._events[L])&&D.callbacks.length?D.callbacks:-1<L.indexOf(':')?S(M,L.substr(0,L.lastIndexOf(':'))):null}function E(M,L,D){for(let[q,z]of M){z?'function'==typeof z&&(z=z(L.name)):z=L.name;const $=new O.a(L.source,z);$.path=[...L.path],q.fire($,...D)}}s.b=function(M,L){return M[F]&&M[F][L]?M[F][L].emitter:null},s.c=f;var O=d(438),V=d(72),R=d(538);const F=Symbol('listeningTo'),N=Symbol('emitterId'),I={on(M,L,D={}){T(this,M);const q=P(this,M),z=R.a.get(D.priority);L={callback:L,context:D.context||this,priority:z};for(const $ of q){let K=!1;for(let H=0;H<$.length;H++)if($[H].priority<z){$.splice(H,0,L),K=!0;break}K||$.push(L)}},once(M,L,D){this.on(M,function(z,...$){z.off(),L.call(this,z,...$)},D)},off(M,L,D){const q=P(this,M);for(const z of q)for(let $=0;$<z.length;$++)z[$].callback==L&&(D&&D!=z[$].context||(z.splice($,1),$--))},listenTo(M,L,D,q){let z,$;this[F]||(this[F]={});const K=this[F];h(M)||f(M);const H=h(M);(z=K[H])||(z=K[H]={emitter:M,callbacks:{}}),($=z.callbacks[L])||($=z.callbacks[L]=[]),$.push(D),M.on(L,D,q)},stopListening(M,L,D){const q=this[F];let z=M&&h(M);const $=q&&z&&q[z],K=$&&L&&$.callbacks[L];if(q&&(!M||$)&&(!L||K))if(D)M.off(L,D);else if(K){for(;D=K.pop();)M.off(L,D);delete $.callbacks[L]}else if($){for(L in $.callbacks)this.stopListening(M,L);delete q[z]}else{for(z in q)this.stopListening(q[z].emitter);delete this[F]}},fire(M,...L){const D=M instanceof O.a?M:new O.a(this,M),q=D.name;let z=S(this,q);if(D.path.push(this),z){const $=[D,...L];z=Array.from(z);for(let K=0;K<z.length&&(z[K].callback.apply(z[K].context,$),D.off.called&&(delete D.off.called,this.off(q,z[K].callback,z[K].context)),!D.stop.called);K++);}if(this._delegations){const $=this._delegations.get(q),K=this._delegations.get('*');$&&E($,D,L),K&&E(K,D,L)}},delegate(...M){return{to:(L,D)=>{this._delegations||(this._delegations=new Map);for(const q of M){const z=this._delegations.get(q);z?z.set(L,D):this._delegations.set(q,new Map([[L,D]]))}}}},stopDelegating(M,L){if(this._delegations)if(!M)this._delegations.clear();else if(!L)this._delegations.delete(M);else{const D=this._delegations.get(M);D&&D.delete(L)}}};s.a=I},function(r,s,d){'use strict';var f=d(192),h=d(15),C=_Mathmax;s.a=function(T,P){if('function'!=typeof T)throw new TypeError('Expected a function');return P=C(void 0===P?T.length-1:d.i(h.a)(P),0),function(){for(var S=arguments,E=-1,O=C(S.length-P,0),V=Array(O);++E<O;)V[E]=S[P+E];switch(P){case 0:return T.call(this,V);case 1:return T.call(this,S[0],V);case 2:return T.call(this,S[0],S[1],V);}var R=Array(P+1);for(E=-1;++E<P;)R[E]=S[E];return R[P]=V,d.i(f.a)(T,this,R)}}},function(r,s,d){'use strict';var u=d(0),f=d(120),h=d(6),w=d(81),C=d(33),T=d(80),P=d(4),S=d(48);class E{constructor(O){this.locale=O,this.t=O&&O.t,this.set('ready',!1),this._viewCollections=new T.a,this._unboundChildren=this.createCollection(),this._viewCollections.on('add',(V,R)=>{R.locale=O})}get element(){return this._element?this._element:this.template?(this._addTemplateChildren(),this._element=this.template.render()):null}set element(O){this._element=O}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=h.a.bind(this,this)}createCollection(){const O=new f.a;return this._viewCollections.add(O),O}addChildren(O){return d.i(S.a)(O)||(O=[O]),Promise.all(O.map((V)=>this._unboundChildren.add(V)))}init(){if(this.ready)throw new u.a('ui-view-init-reinit: This View has already been initialized.');return Promise.resolve().then(()=>{return Promise.all(this._viewCollections.map((O)=>O.init()))}).then(()=>{this.ready=!0})}destroy(){return this.stopListening(),Promise.all(this._viewCollections.map((O)=>O.destroy())).then(()=>{this._unboundChildren.clear(),this._viewCollections.clear(),this.element=this.template=this.locale=this.t=this._viewCollections=this._unboundChildren=null})}_addTemplateChildren(){const O=(V)=>{if(V.children)for(const R of V.children)R instanceof E?this.addChildren(R):O(R)};O(this.template)}}s.a=E,d.i(P.a)(E,w.a),d.i(P.a)(E,C.a)},function(r,s,d){'use strict';var f=d(460),h=d(461),w=d(226),C=d(12),T=d(530);s.a=function(P){return'function'==typeof P?P:null==P?w.a:'object'==typeof P?d.i(C.a)(P)?d.i(h.a)(P[0],P[1]):d.i(f.a)(P):d.i(T.a)(P)}},function(r,s,d){'use strict';function u(C,T){T.isEnabled=!1}var f=d(33),h=d(4);class w{constructor(C){this.editor=C,this.set('isEnabled',!0),this._checkEnabled&&this.on('refreshState',(T,P)=>{P.isEnabled=this._checkEnabled()})}destroy(){this.stopListening()}refreshState(){const C={isEnabled:!0};this.fire('refreshState',C),this.isEnabled=C.isEnabled}_execute(C){this.isEnabled&&this._doExecute(C)}_disable(){this.on('refreshState',u),this.refreshState()}_enable(){this.off('refreshState',u),this.refreshState()}_doExecute(){}}s.a=w,d.i(h.a)(w,f.a)},function(r,s){'use strict';var u=Array.isArray;s.a=u},function(r,s,d){'use strict';var f=d(97),h=d(51);s.a=function(w){return d.i(h.a)(w)&&d.i(f.a)(w)}},function(r,s){'use strict';s.a=function(f){var h=typeof f;return!!f&&('object'==h||'function'==h)}},function(r,s,d){'use strict';var f=d(532);s.a=function(h){var w=d.i(f.a)(h),C=w%1;return w===w?C?w-C:w:0}},function(r,s,d){'use strict';s.b=function(w,C){if(h.prototype[w])throw new f.a('model-batch-register-taken: This batch method name is already taken.',{name:w});h.prototype[w]=C};var f=d(0);class h{constructor(w,C='default'){this.document=w,this.deltas=[],this.type=C}get baseVersion(){return 0<this.deltas.length?this.deltas[0].baseVersion:null}addDelta(w){return w.batch=this,this.deltas.push(w),w}*getOperations(){for(const w of this.deltas)yield*w.operations}}s.a=h},function(r,s,d){'use strict';var u=d(0),f=d(357);const h=new Map;s.a=class{static fromJSON(C,T){if(!h.has(C.__className))throw new u.a('delta-fromjson-no-deserializer: This delta has no defined deserializer',{name:C.__className});const P=h.get(C.__className),S=new P;for(const E of C.operations)S.addOperation(f.a.fromJSON(E,T));for(const E in C)'__className'!=E&&void 0===S[E]&&(S[E]=C[E]);return S}static register(C){h.set(C.className,C)}}},function(r,s){'use strict';s.a=function(f){var h=f?f.length:0;return h?f[h-1]:void 0}},function(r,s,d){'use strict';var u=d(96),f=d(17);class h{constructor(){this.batch=null,this.operations=[]}get baseVersion(){return 0<this.operations.length?this.operations[0].baseVersion:null}set baseVersion(w){for(const C of this.operations)C.baseVersion=w++}get _reverseDeltaClass(){return h}addOperation(w){return w.delta=this,this.operations.push(w),w}clone(){const w=new this.constructor;for(const C of this.operations)w.addOperation(C.clone());return w}getReversed(){const w=new this._reverseDeltaClass;for(const C of this.operations)w.addOperation(C.getReversed());w.operations.reverse();for(let C=0;C<w.operations.length;C++)w.operations[C].baseVersion=this.operations[this.operations.length-1].baseVersion+C+1;return w}toJSON(){const w=d.i(u.a)(this);return w.__className=this.constructor.className,delete w.batch,w}static get className(){return'engine.model.delta.Delta'}static get _priority(){return 0}}s.a=h,f.a.register(h)},function(r,s,d){'use strict';function u(D,q){q=T(q);const z=q.reduce((H,W)=>H+W.offsetSize,0),$=D.parent;S(D);const K=D.index;return $.insertChildren(K,q),P($,K+q.length),P($,K),new F.a(D,D.getShiftedBy(z))}function f(D){if(!D.isFlat)throw new M.a('model-writer-remove-range-not-flat: Trying to remove a range that starts and ends in different element.');const q=D.start.parent;S(D.start),S(D.end);const z=q.removeChildren(D.start.index,D.end.index-D.start.index);return P(q,D.start.index),z}function T(D){const q=[];D instanceof Array||(D=[D]);for(let z=0;z<D.length;z++)if('string'==typeof D[z])q.push(new V.a(D[z]));else if(D[z]instanceof R.a)q.push(new V.a(D[z].data,D[z].getAttributes()));else if(D[z]instanceof N.a||D[z]instanceof I.a)for(const $ of D[z])q.push($);else D[z]instanceof O.a&&q.push(D[z]);for(let z=1;z<q.length;z++){const $=q[z],K=q[z-1];$ instanceof V.a&&K instanceof V.a&&E($,K)&&(q.splice(z-1,2,new V.a(K.data+$.data,K.getAttributes())),z--)}return q}function P(D,q){const z=D.getChild(q-1),$=D.getChild(q);if(z&&$&&z.is('text')&&$.is('text')&&E(z,$)){const K=new V.a(z.data+$.data,z.getAttributes());D.removeChildren(q-1,2),D.insertChildren(q-1,K)}}function S(D){const q=D.textNode,z=D.parent;if(q){const $=D.offset-q.startOffset,K=q.index;z.removeChildren(K,1);const H=new V.a(q.data.substr(0,$),q.getAttributes()),W=new V.a(q.data.substr($),q.getAttributes());z.insertChildren(K,[H,W])}}function E(D,q){const z=D.getAttributes(),$=q.getAttributes();for(const K of z){if(K[1]!==q.getAttribute(K[0]))return!1;$.next()}return $.next().done}s.c=u,s.d=f,s.b=T;var O=d(59),V=d(24),R=d(61),F=d(3),N=d(35),I=d(74),M=d(0);s.a={insert:u,remove:f,move:function(D,q){if(!D.isFlat)throw new M.a('model-writer-move-range-not-flat: Trying to move a range that starts and ends in different element.');const z=this.remove(D);return q=q._getTransformedByDeletion(D.start,D.end.offset-D.start.offset),this.insert(q,z)},setAttribute:function(D,q,z){S(D.start),S(D.end);for(const $ of D.getItems()){const K=$.is('textProxy')?$.textNode:$;null===z?K.removeAttribute(q):K.setAttribute(q,z),P(K.parent,K.index)}P(D.end.parent,D.end.index)},removeAttribute:function(D,q){this.setAttribute(D,q,null)},normalizeNodes:T}},function(r,s,d){'use strict';var u=d(9),f=d(6),h=d(412),w=d(22);class C extends u.a{constructor(T){super(T),this.set('label'),this.set('keystroke'),this.set('tooltip'),this.set('type','button'),this.set('isOn',!1),this.set('isEnabled',!0),this.set('isVisible',!0),this.set('withText',!1),this.set('icon'),this.set('tabindex',-1),this.bind('_tooltipString').to(this,'tooltip',this,'label',this,'keystroke',this._getTooltipString.bind(this));const P=this.bindTemplate;this.template=new f.a({tag:'button',attributes:{class:['ck-button',P.if('_tooltipString','ck-tooltip_s'),P.to('isEnabled',(S)=>S?'ck-enabled':'ck-disabled'),P.if('isVisible','ck-hidden',(S)=>!S),P.to('isOn',(S)=>S?'ck-on':'ck-off'),P.if('withText','ck-button_with-text')],type:P.to('type',(S)=>S?S:'button'),'data-ck-tooltip':[P.to('_tooltipString')],tabindex:P.to('tabindex')},children:[{tag:'span',attributes:{class:['ck-button__label']},children:[{text:P.to('label')}]}],on:{mousedown:P.to((S)=>{S.preventDefault()}),click:P.to((S)=>{this.isEnabled?this.fire('execute'):S.preventDefault()})}})}init(){let T=Promise.resolve();if(this.icon&&!this.iconView){const P=this.iconView=new h.a;P.bind('content').to(this,'icon'),this.element.insertBefore(P.element,this.element.firstChild),T=T.then(()=>this.addChildren(P))}return T.then(()=>super.init())}focus(){this.element.focus()}_getTooltipString(T,P,S){if(T){if('string'==typeof T)return T;if(S&&(S=d.i(w.b)(S)),T instanceof Function)return T(P,S);if(!0===T)return`${P}${S?` (${S})`:''}`}return!1}}s.a=C},function(r,s,d){'use strict';function u(E){let O;if('string'!=typeof E)O=E.keyCode+(E.altKey?S.alt:0)+(E.ctrlKey?S.ctrl:0)+(E.shiftKey?S.shift:0);else if(O=S[E.toLowerCase()],!O)throw new T.a('keyboard-unknown-key: Unknown key name.',{key:E});return O}function C(E){return E.split(/\s*\+\s*/)}s.c=u,s.a=function(E){return'string'==typeof E&&(E=C(E)),E.map((O)=>'string'==typeof O?u(O):O).reduce((O,V)=>V+O,0)},s.b=function(E){const O=C(E);return P.a.mac&&'ctrl'==O[0].toLowerCase()?'\u2318'+(O[1]||''):E};var T=d(0),P=d(437);const S=function(){const E={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let O=65;90>=O;O++){const V=String.fromCharCode(O);E[V.toLowerCase()]=O}for(let O=48;57>=O;O++)E[O-48]=O;for(let O=112;123>=O;O++)E['f'+(O-111)]=O;return E}();s.d=S},function(r,s,d){'use strict';function u(w,C,T,P,S){var E=-1,O=w.length;for(T||(T=h.a),S||(S=[]);++E<O;){var V=w[E];0<C&&T(V)?1<C?u(V,C-1,T,P,S):d.i(f.a)(S,V):!P&&(S[S.length]=V)}return S}var f=d(85),h=d(494);s.a=u},function(r,s,d){'use strict';var u=d(59);class f extends u.a{constructor(h,w){super(w),this.data=h||''}get offsetSize(){return this.data.length}is(h){return'text'==h}clone(){return new f(this.data,this.getAttributes())}toJSON(){const h=super.toJSON();return h.data=this.data,h}static fromJSON(h){return new f(h.data,h.attributes)}}s.a=f},function(r,s,d){'use strict';function u(V,R){let F=null,N=0,I=0,M=null;if(V.clear(),''!==R){';'!=R.charAt(R.length-1)&&(R+=';');for(let L=0;L<R.length;L++){const D=R.charAt(L);if(null==F)switch(D){case':':M||(M=R.substr(N,L-N),I=L+1);break;case'"':case'\'':F=D;break;case';':const q=R.substr(I,L-I);M&&V.set(M.trim(),q.trim()),M=null,N=L+1;}else D===F&&(F=null)}}}function f(V,R){const F=R.split(/\s+/);V.clear(),F.forEach((N)=>V.add(N))}function h(V){return'string'==typeof V?[new C.a(V)]:(d.i(P.a)(V)||(V=[V]),Array.from(V).map((R)=>{return'string'==typeof R?new C.a(R):R}))}var w=d(78),C=d(31),T=d(272),P=d(48),S=d(99),E=d(167);class O extends w.a{constructor(V,R,F){if(super(),this.name=V,this._attrs=d.i(S.a)(R)?d.i(T.a)(R):new Map(R),this._children=[],F&&this.insertChildren(0,F),this._classes=new Set,this._attrs.has('class')){const N=this._attrs.get('class');f(this._classes,N),this._attrs.delete('class')}this._styles=new Map,this._attrs.has('style')&&(u(this._styles,this._attrs.get('style')),this._attrs.delete('style')),this._customProperties=new Map}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}is(V,R=null){return R?'element'==V&&R==this.name:'element'==V||V==this.name}clone(V=!1){const R=[];if(V)for(const N of this.getChildren())R.push(N.clone(V));const F=new this.constructor(this.name,this._attrs,R);return F._classes=new Set(this._classes),F._styles=new Map(this._styles),F._customProperties=new Map(this._customProperties),F.getFillerOffset=this.getFillerOffset,F}appendChildren(V){return this.insertChildren(this.childCount,V)}getChild(V){return this._children[V]}getChildIndex(V){return this._children.indexOf(V)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){0<this._classes.size&&(yield'class'),0<this._styles.size&&(yield'style');for(const V of this._attrs.keys())yield V}*getAttributes(){yield*this._attrs.entries(),0<this._classes.size&&(yield['class',this.getAttribute('class')]),0<this._styles.size&&(yield['style',this.getAttribute('style')])}getAttribute(V){if('class'==V)return 0<this._classes.size?[...this._classes].join(' '):void 0;if('style'==V){if(0<this._styles.size){let R='';for(const[F,N]of this._styles)R+=`${F}:${N};`;return R}return}return this._attrs.get(V)}hasAttribute(V){return'class'==V?0<this._classes.size:'style'==V?0<this._styles.size:this._attrs.has(V)}setAttribute(V,R){this._fireChange('attributes',this),'class'==V?f(this._classes,R):'style'==V?u(this._styles,R):this._attrs.set(V,R)}insertChildren(V,R){this._fireChange('children',this);let F=0;R=h(R);for(const N of R)N.parent=this,this._children.splice(V,0,N),V++,F++;return F}removeAttribute(V){return this._fireChange('attributes',this),'class'==V?!!(0<this._classes.size)&&(this._classes.clear(),!0):'style'==V?!!(0<this._styles.size)&&(this._styles.clear(),!0):this._attrs.delete(V)}removeChildren(V,R=1){this._fireChange('children',this);for(let F=V;F<V+R;F++)this._children[F].parent=null;return this._children.splice(V,R)}isSimilar(V){if(!(V instanceof O))return!1;if(this===V)return!0;if(this.name!=V.name)return!1;if(this._attrs.size!==V._attrs.size||this._classes.size!==V._classes.size||this._styles.size!==V._styles.size)return!1;for(const[R,F]of this._attrs)if(!V._attrs.has(R)||V._attrs.get(R)!==F)return!1;for(const R of this._classes)if(!V._classes.has(R))return!1;for(const[R,F]of this._styles)if(!V._styles.has(R)||V._styles.get(R)!==F)return!1;return!0}addClass(...V){this._fireChange('attributes',this),V.forEach((R)=>this._classes.add(R))}removeClass(...V){this._fireChange('attributes',this),V.forEach((R)=>this._classes.delete(R))}hasClass(...V){for(const R of V)if(!this._classes.has(R))return!1;return!0}getClassNames(){return this._classes.keys()}setStyle(V,R){if(this._fireChange('attributes',this),d.i(S.a)(V)){const F=Object.keys(V);for(const N of F)this._styles.set(N,V[N])}else this._styles.set(V,R)}getStyle(V){return this._styles.get(V)}getStyleNames(){return this._styles.keys()}hasStyle(...V){for(const R of V)if(!this._styles.has(R))return!1;return!0}removeStyle(...V){this._fireChange('attributes',this),V.forEach((R)=>this._styles.delete(R))}findAncestor(...V){const R=new E.a(...V);for(let F=this.parent;F;){if(R.match(F))return F;F=F.parent}return null}setCustomProperty(V,R){this._customProperties.set(V,R)}getCustomProperty(V){return this._customProperties.get(V)}removeCustomProperty(V){return this._customProperties.delete(V)}*getCustomProperties(){yield*this._customProperties.entries()}}s.a=O},function(r,s,d){'use strict';var u=d(54),f=d(65),h=d(0),w=d(77);class C{constructor(T,P){this.parent=T,this.offset=P}get nodeAfter(){return this.parent.is('text')?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is('text')?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const T=this.parent.is('text')?this.parent.data.length:this.parent.childCount;return this.offset===T}get root(){return this.parent.root}get editableElement(){let T=this.parent;for(;!(T instanceof w.a);)if(T.parent)T=T.parent;else return null;return T}getShiftedBy(T){const P=C.createFromPosition(this),S=P.offset+T;return P.offset=0>S?0:S,P}getLastMatchingPosition(T,P={}){P.startPosition=this;const S=new u.a(P);return S.skip(T),S.position}getAncestors(){return this.parent.is('documentFragment')?[this.parent]:this.parent.getAncestors({includeNode:!0})}isEqual(T){return this.parent==T.parent&&this.offset==T.offset}isBefore(T){return'before'==this.compareWith(T)}isAfter(T){return'after'==this.compareWith(T)}compareWith(T){if(this.isEqual(T))return'same';if(this.parent===T.parent)return 0>this.offset-T.offset?'before':'after';const P=this.getAncestors(),S=T.getAncestors(),E=d.i(f.a)(P,S);let O;switch(E){case 0:return'different';case'prefix':O=P.length-1;break;case'extension':O=S.length-1;break;default:O=E-1;}const V=P[O],R=P[O+1],F=S[O+1];if(V===this.parent){const I=this.offset-F.index;return 0>=I?'before':'after'}if(V===T.parent){const I=R.index-T.offset;return 0>I?'before':'after'}const N=R.index-F.index;return 0>N?'before':'after'}static createAt(T,P){if(T instanceof C)return this.createFromPosition(T);const S=T;if('end'==P)P=S.is('text')?S.data.length:S.childCount;else{if('before'==P)return this.createBefore(S);if('after'==P)return this.createAfter(S);P||(P=0)}return new C(S,P)}static createAfter(T){if(T.is('textProxy'))return new C(T.textNode,T.offsetInText+T.data.length);if(!T.parent)throw new h.a('view-position-after-root: You can not make position after root.',{root:T});return new C(T.parent,T.index+1)}static createBefore(T){if(T.is('textProxy'))return new C(T.textNode,T.offsetInText);if(!T.parent)throw new h.a('view-position-before-root: You can not make position before root.',{root:T});return new C(T.parent,T.index)}static createFromPosition(T){return new this(T.parent,T.offset)}}s.a=C},function(r,s){'use strict';s.a=function(f,h){for(var w=-1,C=f.length,T=Array(C);++w<C;)T[w]=h(f[w],w,f);return T}},function(r){function d(f,h){var w=f[1]||'',C=f[3];if(!C)return w;if(h&&'function'==typeof btoa){var T=u(C),P=C.sources.map(function(S){return'/*# sourceURL='+C.sourceRoot+S+' */'});return[w].concat(P).concat([T]).join('\n')}return[w].join('\n')}function u(f){var h=btoa(unescape(encodeURIComponent(JSON.stringify(f))));return'/*# '+('sourceMappingURL=data:application/json;charset=utf-8;base64,'+h)+' */'}r.exports=function(f){var h=[];return h.toString=function(){return this.map(function(C){var T=d(C,f);return C[2]?'@media '+C[2]+'{'+T+'}':T}).join('')},h.i=function(w,C){'string'==typeof w&&(w=[[null,w,'']]);for(var T={},P=0,S;P<this.length;P++)S=this[P][0],'number'==typeof S&&(T[S]=!0);for(P=0;P<w.length;P++){var E=w[P];'number'==typeof E[0]&&T[E[0]]||(C&&!E[2]?E[2]=C:C&&(E[2]='('+E[2]+') and ('+C+')'),h.push(E))}},h}},function(r,s,d){function u($,K){for(var H=0;H<$.length;H++){var W=$[H],U=R[W.id];if(U){U.refs++;for(var Z=0;Z<U.parts.length;Z++)U.parts[Z](W.parts[Z]);for(;Z<W.parts.length;Z++)U.parts.push(S(W.parts[Z],K))}else{for(var G=[],Z=0;Z<W.parts.length;Z++)G.push(S(W.parts[Z],K));R[W.id]={id:W.id,refs:1,parts:G}}}}function f($){for(var K=[],H={},W=0;W<$.length;W++){var U=$[W],Z=U[0],G=U[1],J=U[2],Q=U[3],Y={css:G,media:J,sourceMap:Q};H[Z]?H[Z].parts.push(Y):K.push(H[Z]={id:Z,parts:[Y]})}return K}function h($,K){var H=I($.insertInto);if(!H)throw new Error('Couldn\'t find a style target. This probably means that the value for the \'insertInto\' parameter is invalid.');var W=D[D.length-1];if('top'===$.insertAt)W?W.nextSibling?H.insertBefore(K,W.nextSibling):H.appendChild(K):H.insertBefore(K,H.firstChild),D.push(K);else if('bottom'===$.insertAt)H.appendChild(K);else throw new Error('Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.')}function w($){$.parentNode.removeChild($);var K=D.indexOf($);0<=K&&D.splice(K,1)}function C($){var K=document.createElement('style');return $.attrs.type='text/css',P(K,$.attrs),h($,K),K}function T($){var K=document.createElement('link');return $.attrs.type='text/css',$.attrs.rel='stylesheet',P(K,$.attrs),h($,K),K}function P($,K){Object.keys(K).forEach(function(H){$.setAttribute(H,K[H])})}function S($,K){var H,W,U;if(K.singleton){var Z=L++;H=M||(M=C(K)),W=E.bind(null,H,Z,!1),U=E.bind(null,H,Z,!0)}else $.sourceMap&&'function'==typeof URL&&'function'==typeof URL.createObjectURL&&'function'==typeof URL.revokeObjectURL&&'function'==typeof Blob&&'function'==typeof btoa?(H=T(K),W=V.bind(null,H,K),U=function(){w(H),H.href&&URL.revokeObjectURL(H.href)}):(H=C(K),W=O.bind(null,H),U=function(){w(H)});return W($),function(J){if(J){if(J.css===$.css&&J.media===$.media&&J.sourceMap===$.sourceMap)return;W($=J)}else U()}}function E($,K,H,W){var U=H?'':W.css;if($.styleSheet)$.styleSheet.cssText=z(K,U);else{var Z=document.createTextNode(U),G=$.childNodes;G[K]&&$.removeChild(G[K]),G.length?$.insertBefore(Z,G[K]):$.appendChild(Z)}}function O($,K){var H=K.css,W=K.media;if(W&&$.setAttribute('media',W),$.styleSheet)$.styleSheet.cssText=H;else{for(;$.firstChild;)$.removeChild($.firstChild);$.appendChild(document.createTextNode(H))}}function V($,K,H){var W=H.css,U=H.sourceMap,Z=K.convertToAbsoluteUrls===void 0&&U;(K.convertToAbsoluteUrls||Z)&&(W=q(W)),U&&(W+='\n/*# sourceMappingURL=data:application/json;base64,'+btoa(unescape(encodeURIComponent(JSON.stringify(U))))+' */');var G=new Blob([W],{type:'text/css'}),J=$.href;$.href=URL.createObjectURL(G),J&&URL.revokeObjectURL(J)}var R={},N=function($){var K;return function(){return'undefined'==typeof K&&(K=$.apply(this,arguments)),K}}(function(){return window&&document&&document.all&&!window.atob}),I=function($){var K={};return function(H){return'undefined'==typeof K[H]&&(K[H]=$.call(this,H)),K[H]}}(function($){return document.querySelector($)}),M=null,L=0,D=[],q=d(308);r.exports=function($,K){if('undefined'!=typeof DEBUG&&DEBUG&&'object'!=typeof document)throw new Error('The style-loader cannot be used in a non-browser environment');K=K||{},K.attrs='object'==typeof K.attrs?K.attrs:{},'undefined'==typeof K.singleton&&(K.singleton=N()),'undefined'==typeof K.insertInto&&(K.insertInto='head'),'undefined'==typeof K.insertAt&&(K.insertAt='bottom');var H=f($);return u(H,K),function(U){for(var Z=[],G=0;G<H.length;G++){var J=H[G],Q=R[J.id];Q.refs--,Z.push(Q)}if(U){var Y=f(U);u(Y,K)}for(var G=0,Q;G<Z.length;G++)if(Q=Z[G],0===Q.refs){for(var X=0;X<Q.parts.length;X++)Q.parts[X]();delete R[Q.id]}}};var z=function(){var $=[];return function(K,H){return $[K]=H,$.filter(Boolean).join('\n')}}()},function(r,s,d){'use strict';var u=d(36),f=d(1),h=d(3),w=d(0),C=d(65),T=d(20);class P extends u.a{constructor(S,E,O,V){super(V),this.sourcePosition=f.a.createFromPosition(S),this.howMany=E,this.targetPosition=f.a.createFromPosition(O),this.isSticky=!1}get type(){return'move'}clone(){const S=new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion);return S.isSticky=this.isSticky,S}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const S=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany),E=new this.constructor(this.getMovedRangeStart(),this.howMany,S,this.baseVersion+1);return E.isSticky=this.isSticky,E}_execute(){const S=this.sourcePosition.parent,E=this.targetPosition.parent,O=this.sourcePosition.offset,V=this.targetPosition.offset;if(!S||!E)throw new w.a('move-operation-position-invalid: Source position or target position is invalid.');else if(O+this.howMany>S.maxOffset)throw new w.a('move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.');else if(S===E&&O<V&&V<O+this.howMany)throw new w.a('move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.');else if(this.sourcePosition.root==this.targetPosition.root&&'prefix'==d.i(C.a)(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const F=this.sourcePosition.path.length-1;if(this.targetPosition.path[F]>=O&&this.targetPosition.path[F]<O+this.howMany)throw new w.a('move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.')}const R=T.a.move(h.a.createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition);return{sourcePosition:this.sourcePosition,range:R}}static get className(){return'engine.model.operation.MoveOperation'}static fromJSON(S,E){const O=f.a.fromJSON(S.sourcePosition,E),V=f.a.fromJSON(S.targetPosition,E),R=new this(O,S.howMany,V,S.baseVersion);return S.isSticky&&(R.isSticky=!0),R}}s.a=P},function(r,s,d){'use strict';var u=d(78);class f extends u.a{constructor(h){super(),this._data=h}clone(){return new f(this.data)}is(h){return'text'==h}get data(){return this._data}set data(h){this._fireChange('text',this),this._data=h}isSimilar(h){return!!(h instanceof f)&&(this===h||this.data===h.data)}}s.a=f},function(r,s,d){'use strict';(function(u,f){var h=d(467),w={'function':!0,object:!0},C=w[typeof exports]&&exports&&!exports.nodeType?exports:void 0,T=w[typeof u]&&u&&!u.nodeType?u:void 0,P=d.i(h.a)(C&&T&&'object'==typeof f&&f),S=d.i(h.a)(w[typeof self]&&self),E=d.i(h.a)(w[typeof window]&&window),O=d.i(h.a)(w[typeof this]&&this),V=P||E!==(O&&O.window)&&E||S||O||Function('return this')();s.a=V}).call(s,d(154)(r),d(318))},function(r,s,d){'use strict';function u(L){F in L||(Object.defineProperty(L,F,{value:new Map}),Object.defineProperty(L,N,{value:new Map}),Object.defineProperty(L,I,{value:new Map}))}function f(...L){const D=w(...L),q=Array.from(this._bindings.keys()),z=q.length;if(!D.callback&&1<D.to.length)throw new O.a('observable-bind-to-no-callback: Binding multiple observables only possible with callback.');if(1<z&&D.callback)throw new O.a('observable-bind-to-extra-callback: Cannot bind multiple attributes and use a callback in one binding.');D.to.forEach(($)=>{if($.attrs.length&&$.attrs.length!==z)throw new O.a('observable-bind-to-attrs-length: The number of attributes must match.');$.attrs.length||($.attrs=this._bindAttrs)}),this._to=D.to,D.callback&&(this._bindings.get(q[0]).callback=D.callback),S(this._observable,this._to),T(this),this._bindAttrs.forEach(($)=>{P(this._observable,$)})}function h(L){return L.every((D)=>'string'==typeof D)}function w(...L){if(!L.length)throw new O.a('observable-bind-to-parse-error: Invalid argument syntax in `to()`.');const D={to:[]};let q;return'function'==typeof L[L.length-1]&&(D.callback=L.pop()),L.forEach((z)=>{if('string'==typeof z)q.attrs.push(z);else if('object'==typeof z)q={observable:z,attrs:[]},D.to.push(q);else throw new O.a('observable-bind-to-parse-error: Invalid argument syntax in `to()`.')}),D}function C(L,D,q,z){const $=L[N],K=$.get(q),H=K||{};H[z]||(H[z]=new Set),H[z].add(D),K||$.set(q,H)}function T(L){let D;L._bindings.forEach((q,z)=>{L._to.forEach(($)=>{D=$.attrs[q.callback?0:L._bindAttrs.indexOf(z)],q.to.push([$.observable,D]),C(L._observable,q,$.observable,D)})})}function P(L,D){const q=L[I],z=q.get(D);let $;z.callback?$=z.callback.apply(L,z.to.map((K)=>K[0][K[1]])):($=z.to[0],$=$[0][$[1]]),L.hasOwnProperty(D)?L[D]=$:L.set(D,$)}function S(L,D){D.forEach((q)=>{const z=L[N];let $;z.get(q.observable)||L.listenTo(q.observable,'change',(K,H)=>{$=z.get(q.observable)[H],$&&$.forEach((W)=>{P(L,W.attr)})})})}var E=d(7),O=d(0),V=d(50),R=d(14);const F=Symbol('attributes'),N=Symbol('boundObservables'),I=Symbol('boundAttributes'),M={set(L,D){if(d.i(R.a)(L))return void Object.keys(L).forEach((z)=>{this.set(z,L[z])},this);u(this);const q=this[F];if(L in this&&!q.has(L))throw new O.a('observable-set-cannot-override: Cannot override an existing property.');Object.defineProperty(this,L,{enumerable:!0,configurable:!0,get(){return q.get(L)},set(z){const $=q.get(L);$===z&&q.has(L)||(q.set(L,z),this.fire('change:'+L,L,z,$))}}),this[L]=D},bind(...L){if(!L.length||!h(L))throw new O.a('observable-bind-wrong-attrs: All attributes must be strings.');if(new Set(L).size!==L.length)throw new O.a('observable-bind-duplicate-attrs: Attributes must be unique.');u(this);const D=this[I];L.forEach((z)=>{if(D.has(z))throw new O.a('observable-bind-rebind: Cannot bind the same attribute more that once.')});const q=new Map;return L.forEach((z)=>{const $={attr:z,to:[]};D.set(z,$),q.set(z,$)}),{to:f,_observable:this,_bindAttrs:L,_to:[],_bindings:q}},unbind(...L){if(!(F in this))return;const D=this[I],q=this[N];if(L.length){if(!h(L))throw new O.a('observable-unbind-wrong-attrs: Attributes must be strings.');L.forEach((z)=>{const $=D.get(z);let K,H,W,U;$.to.forEach((Z)=>{K=Z[0],H=Z[1],W=q.get(K),U=W[H],U.delete($),U.size||delete W[H],Object.keys(W).length||(q.delete(K),this.stopListening(K,'change'))}),D.delete(z)})}else q.forEach((z,$)=>{this.stopListening($,'change')}),q.clear(),D.clear()}};s.a=M,d.i(V.a)(M,E.a)},function(r,s,d){'use strict';function u(O,V,R,F){if(d.i(S.a)(O)){for(const M of O)u(M,V,R,F);return}const N=Array.from(O.getAttributeKeys());N.push(V.key);const I={name:O.name||'$text',attributes:N,inside:R.context};F.schema.check(I)&&O.setAttribute(V.key,V.value)}s.a=function(){return new E};var h=d(167),w=d(5),C=d(1),T=d(20),P=d(0),S=d(48);class E{constructor(){this._dispatchers=[],this._from=[]}for(...O){return this._dispatchers=O,this}fromElement(O){return this.from({name:O})}fromAttribute(O,V=/.*/){const R={};'style'===O||'class'===O?R[O]=V:(R.attribute={},R.attribute[O]=V);const F=new h.a(R);return this._from.push({matcher:F,consume:!1,priority:null,attributeKey:O}),this}from(O){return O instanceof h.a||(O=new h.a(O)),this._from.push({matcher:O,consume:!1,priority:null}),this}consuming(O){const V=this._from[this._from.length-1];return V.consume=O,this}withPriority(O){const V=this._from[this._from.length-1];return V.priority=O,this}toElement(O){this._setCallback(function(R){return(F,N,I,M)=>{const L=R.matcher.matchAll(N.input);if(L)for(const D of L){const q=O instanceof Function?O(N.input):new w.a(O);if(!q)continue;const z=Array.from(q.getAttributeKeys());if(!M.schema.check({name:q.name,attributes:z,inside:N.context}))continue;if(!I.consume(N.input,R.consume||D.match))continue;N.context.push(q);const $=M.convertChildren(N.input,I,N),K=C.a.createAt(q,'end');T.a.insert(K,$),N.context.pop(),N.output=q;break}}},'normal')}toAttribute(O,V){this._setCallback(function(F){return(N,I,M,L)=>{const D=F.matcher.matchAll(I.input);if(D)for(const q of D){if(!M.consume(I.input,F.consume||q.match))continue;I.output||(I.output=L.convertChildren(I.input,M,I));let z;if(!(O instanceof Function))z={key:O,value:V?V:I.input.getAttribute(F.attributeKey)};else if(z=O(I.input),!z)return;u(I.output,z,I,L);break}}},'low')}toMarker(O){this._setCallback(function(R){return(F,N,I)=>{const M=R.matcher.matchAll(N.input);if(!M)return;let L;if(L=O instanceof Function?O(N.input):new w.a('$marker',{'data-name':N.input.getAttribute('data-name')}),'$marker'!=L.name||'string'!=typeof L.getAttribute('data-name'))throw new P.a('build-view-converter-invalid-marker: Invalid model element to mark marker range.');for(const D of M)if(I.consume(N.input,R.consume||D.match)){N.output=L;break}}},'normal')}_setCallback(O,V){for(const R of this._from){const F=R.matcher.getElementName(),N=F?'element:'+F:'element',I=O(R),M=null===R.priority?V:R.priority;for(const L of this._dispatchers)L.on(N,I,{priority:M})}}}},function(r,s,d){'use strict';function u(P){return'string'==typeof P?[new w.a(P)]:(d.i(C.a)(P)||(P=[P]),Array.from(P).map((S)=>{return'string'==typeof S?new w.a(S):S}))}var f=d(74),h=d(5),w=d(24),C=d(48);class T{constructor(P){this.markers=new Map,this._children=new f.a,P&&this.insertChildren(0,P)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(P){return'documentFragment'==P}getChild(P){return this._children.getNode(P)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(P){return this._children.getNodeIndex(P)}getChildStartOffset(P){return this._children.getNodeStartOffset(P)}getPath(){return[]}offsetToIndex(P){return this._children.offsetToIndex(P)}appendChildren(P){this.insertChildren(this.childCount,P)}insertChildren(P,S){S=u(S);for(const E of S)E.parent=this;this._children.insertNodes(P,S)}removeChildren(P,S=1){const E=this._children.removeNodes(P,S);for(const O of E)O.parent=null;return E}toJSON(){const P=[];for(const S of this._children)P.push(S.toJSON());return P}static fromJSON(P){const S=[];for(const E of P)E.name?S.push(h.a.fromJSON(E)):S.push(w.a.fromJSON(E));return new T(S)}}s.a=T},function(r,s,d){'use strict';var u=d(96);class f{constructor(h){this.baseVersion=h}toJSON(){const h=d.i(u.a)(this,!0);return h.__className=this.constructor.className,delete h.delta,h}static get className(){return'engine.model.operation.Operation'}static fromJSON(h){return new this(h.baseVersion)}}s.a=f},function(r,s,d){'use strict';function u(S,E,O,V,R){return{done:!1,value:{type:S,item:E,previousPosition:O,nextPosition:V,length:R}}}var f=d(24),h=d(61),w=d(5),C=d(1),T=d(0);class P{constructor(S={}){if(!S.boundaries&&!S.startPosition)throw new T.a('model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');const E=S.direction||'forward';if('forward'!=E&&'backward'!=E)throw new T.a('model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:E});this.direction=E,this.boundaries=S.boundaries||null,this.position=S.startPosition?C.a.createFromPosition(S.startPosition):C.a.createFromPosition(this.boundaries['backward'==this.direction?'end':'start']),this.singleCharacters=!!S.singleCharacters,this.shallow=!!S.shallow,this.ignoreElementEnd=!!S.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(S){let E,O,V,R;do V=this.position,R=this._visitedParent,({done:E,value:O}=this.next());while(!E&&S(O));E||(this.position=V,this._visitedParent=R)}next(){return'forward'==this.direction?this._next():this._previous()}_next(){const S=this.position,E=C.a.createFromPosition(this.position),O=this._visitedParent;if(null===O.parent&&E.offset===O.maxOffset)return{done:!0};if(O===this._boundaryEndParent&&E.offset==this.boundaries.end.offset)return{done:!0};const V=E.textNode?E.textNode:E.nodeAfter;if(V instanceof w.a)return this.shallow?E.offset++:(E.path.push(0),this._visitedParent=V),this.position=E,u('elementStart',V,S,E,1);if(V instanceof f.a){let R;if(this.singleCharacters)R=1;else{let I=V.endOffset;this._boundaryEndParent==O&&this.boundaries.end.offset<I&&(I=this.boundaries.end.offset),R=I-E.offset}const F=E.offset-V.startOffset,N=new h.a(V,F,R);return E.offset+=R,this.position=E,u('text',N,S,E,R)}return E.path.pop(),E.offset++,this.position=E,this._visitedParent=O.parent,this.ignoreElementEnd?this._next():u('elementEnd',O,S,E)}_previous(){const S=this.position,E=C.a.createFromPosition(this.position),O=this._visitedParent;if(null===O.parent&&0===E.offset)return{done:!0};if(O==this._boundaryStartParent&&E.offset==this.boundaries.start.offset)return{done:!0};const V=E.textNode?E.textNode:E.nodeBefore;if(V instanceof w.a)return E.offset--,this.shallow?(this.position=E,u('elementStart',V,S,E,1)):(E.path.push(V.maxOffset),this.position=E,this._visitedParent=V,this.ignoreElementEnd?this._previous():u('elementEnd',V,S,E));if(V instanceof f.a){let R;if(this.singleCharacters)R=1;else{let I=V.startOffset;this._boundaryStartParent==O&&this.boundaries.start.offset>I&&(I=this.boundaries.start.offset),R=E.offset-I}const F=E.offset-V.startOffset,N=new h.a(V,F-R,R);return E.offset-=R,this.position=E,u('text',N,S,E,R)}return E.path.pop(),this.position=E,this._visitedParent=O.parent,u('elementStart',O,S,E,1)}}s.a=P},function(r,s,d){'use strict';function u(C){return C.item.is('attributeElement')||C.item.is('uiElement')}var f=d(26),h=d(54);class w{constructor(C,T=null){this.start=f.a.createFromPosition(C),this.end=T?f.a.createFromPosition(T):f.a.createFromPosition(C)}*[Symbol.iterator](){yield*new h.a({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let C=this.start.getLastMatchingPosition(u,{direction:'backward'}),T=this.end.getLastMatchingPosition(u);return C.parent.is('text')&&C.isAtStart&&(C=f.a.createBefore(C.parent)),T.parent.is('text')&&T.isAtEnd&&(T=f.a.createAfter(T.parent)),new w(C,T)}getTrimmed(){let C=this.start.getLastMatchingPosition(u),T=this.end.getLastMatchingPosition(u,{direction:'backward'});const P=C.nodeAfter,S=T.nodeBefore;return P&&P.is('text')&&(C=new f.a(P,0)),S&&S.is('text')&&(T=new f.a(S,S.data.length)),new w(C,T)}isEqual(C){return this==C||this.start.isEqual(C.start)&&this.end.isEqual(C.end)}containsPosition(C){return C.isAfter(this.start)&&C.isBefore(this.end)}containsRange(C){return this.containsPosition(C.start)&&this.containsPosition(C.end)}getDifference(C){const T=[];return this.isIntersecting(C)?(this.containsPosition(C.start)&&T.push(new w(this.start,C.start)),this.containsPosition(C.end)&&T.push(new w(C.end,this.end))):T.push(w.createFromRange(this)),T}getIntersection(C){if(this.isIntersecting(C)){let T=this.start,P=this.end;return this.containsPosition(C.start)&&(T=C.start),this.containsPosition(C.end)&&(P=C.end),new w(T,P)}return null}getWalker(C={}){return C.boundaries=this,new h.a(C)}*getItems(C={}){C.boundaries=this,C.ignoreElementEnd=!0;const T=new h.a(C);for(const P of T)yield P.item}*getPositions(C={}){C.boundaries=this;const T=new h.a(C);yield T.position;for(const P of T)yield P.nextPosition}isIntersecting(C){return this.start.isBefore(C.end)&&this.end.isAfter(C.start)}static createFromParentsAndOffsets(C,T,P,S){return new this(new f.a(C,T),new f.a(P,S))}static createFromRange(C){return new this(C.start,C.end)}static createFromPositionAndShift(C,T){const P=C,S=C.getShiftedBy(T);return 0<T?new this(P,S):new this(S,P)}static createIn(C){return this.createFromParentsAndOffsets(C,0,C,C.childCount)}static createOn(C){return this.createFromPositionAndShift(f.a.createBefore(C),1)}}s.a=w},function(r,s,d){'use strict';s.c=function(P,S){return P.setCustomProperty(T,!0),d.i(w.a)(P,{label:function(){const O=P.getChild(0),V=O.getAttribute('alt');return V?`${V} ${S}`:S}})},s.a=function(P){return!!P.getCustomProperty(T)&&d.i(w.b)(P)},s.b=function(P){return P instanceof C.a&&'image'==P.name};var w=d(152),C=d(5);const T=Symbol('isImage')},function(r,s){'use strict';s.a={window,document}},function(r,s){'use strict';s.a=function(f,h,w){var C=-1,T=f.length;0>h&&(h=-h>T?0:T+h),w=w>T?T:w,0>w&&(w+=T),T=h>w?0:w-h>>>0,h>>>=0;for(var P=Array(T);++C<T;)P[C]=f[C+h];return P}},function(r,s){'use strict';var h=/^(?:0|[1-9]\d*)$/;s.a=function(w,C){return C=null==C?9007199254740991:C,!!C&&('number'==typeof w||h.test(w))&&-1<w&&0==w%1&&w<C}},function(r,s){'use strict';const u={error(f,h){console.error(f,h)},warn(f,h){console.warn(f,h)}};s.a=u},function(r,s,d){'use strict';s.a=function(){return new S};var f=d(102),h=d(158),w=d(116),C=d(47),T=d(170),P=d(0);class S{constructor(){this._dispatchers=[],this._from=null}for(...E){return this._dispatchers=E,this}fromElement(E){return this._from={type:'element',name:E,priority:null},this}fromAttribute(E){return this._from={type:'attribute',key:E,priority:null},this}fromMarker(E){return this._from={type:'marker',name:E,priority:null},this}withPriority(E){return this._from.priority=E,this}toElement(E){const O=null===this._from.priority?'normal':this._from.priority;for(const V of this._dispatchers)'element'==this._from.type?(E='string'==typeof E?new C.a(E):E,V.on('insert:'+this._from.name,d.i(f.a)(E),{priority:O})):'attribute'==this._from.type?(E='string'==typeof E?new w.a(E):E,V.on('addAttribute:'+this._from.key,d.i(f.b)(E),{priority:O}),V.on('changeAttribute:'+this._from.key,d.i(f.b)(E),{priority:O}),V.on('removeAttribute:'+this._from.key,d.i(f.c)(E),{priority:O}),V.on('selectionAttribute:'+this._from.key,d.i(h.a)(E),{priority:O})):(E='string'==typeof E?new w.a(E):E,V.on('addMarker:'+this._from.name,d.i(f.d)(E),{priority:O}),V.on('removeMarker:'+this._from.name,d.i(f.e)(E),{priority:O}),V.on('selectionMarker:'+this._from.name,d.i(h.b)(E),{priority:O}))}toStamp(E){for(const O of this._dispatchers){if('marker'!=this._from.type)throw new P.a('build-model-converter-non-marker-to-stamp: To-stamp conversion is supported only from model markers.');const V=null===this._from.priority?'normal':this._from.priority;E='string'==typeof E?new T.a(E):E,O.on('addMarker:'+this._from.name,d.i(f.f)(E),{priority:V}),O.on('removeMarker:'+this._from.name,d.i(f.g)(E),{priority:V})}}toAttribute(E,O){if('attribute'!=this._from.type)throw new P.a('build-model-converter-non-attribute-to-attribute: To-attribute conversion is supported only from model attributes.');let V=E?'string'==typeof E?O?function(){return{key:E,value:O}}:function(R){return{key:E,value:R}}:E:void 0;for(const R of this._dispatchers){const F={priority:this._from.priority||'normal'};R.on('addAttribute:'+this._from.key,d.i(f.h)(V),F),R.on('changeAttribute:'+this._from.key,d.i(f.h)(V),F),R.on('removeAttribute:'+this._from.key,d.i(f.i)(V),F)}}}},function(r,s,d){'use strict';var u=d(36),f=d(1),h=d(74),w=d(46),C=d(20),T=d(24),P=d(5);class S extends u.a{constructor(E,O,V){super(V),this.position=f.a.createFromPosition(E),this.nodes=new h.a(d.i(C.b)(O))}get type(){return'insert'}clone(){const E=new h.a([...this.nodes].map((O)=>O.clone(!0)));return new S(this.position,E,this.baseVersion)}getReversed(){return new w.a(this.position,this.nodes.maxOffset,this.baseVersion+1)}_execute(){const E=this.nodes;this.nodes=new h.a([...E].map((V)=>V.clone(!0)));const O=d.i(C.c)(this.position,E);return{range:O}}static get className(){return'engine.model.operation.InsertOperation'}static fromJSON(E,O){const V=[];for(const R of E.nodes)R.name?V.push(P.a.fromJSON(R)):V.push(T.a.fromJSON(R));return new S(f.a.fromJSON(E.position,O),V,E.baseVersion)}}s.a=S},function(r,s,d){'use strict';var u=d(30),f=d(1),h=d(5),w=d(113);class C extends u.a{constructor(T,P,S){const E=T.root.document.graveyard,O=new f.a(E,[E.maxOffset,0]);super(T,P,O,S),this._needsHolderElement=!0}get type(){return'remove'}get _holderElementOffset(){return this.targetPosition.path[0]}set _holderElementOffset(T){this.targetPosition.path[0]=T}getReversed(){return new w.a(this.targetPosition,this.howMany,this.sourcePosition,this.baseVersion+1)}clone(){const T=new C(this.sourcePosition,this.howMany,this.baseVersion);return T.targetPosition=f.a.createFromPosition(this.targetPosition),T}_execute(){if(this._needsHolderElement){const T=this.targetPosition.root,P=new h.a('$graveyardHolder');T.insertChildren(this._holderElementOffset,P),this.sourcePosition.root==T&&this.sourcePosition.path[0]>=this._holderElementOffset&&this.sourcePosition.path[0]++}return super._execute()}static get className(){return'engine.model.operation.RemoveOperation'}static fromJSON(T,P){const S=f.a.fromJSON(T.sourcePosition,P),E=new C(S,T.howMany,T.baseVersion);return E.targetPosition=f.a.fromJSON(T.targetPosition,P),E._needsHolderElement=T._needsHolderElement,E}}s.a=C},function(r,s,d){'use strict';function u(){return 0===this.childCount?0:null}var f=d(25);class h extends f.a{constructor(w,C,T){super(w,C,T),this.getFillerOffset=u}is(w,C=null){return C?'containerElement'==w&&C==this.name||super.is(w,C):'containerElement'==w||super.is(w)}}s.a=h},function(r,s){'use strict';s.a=function(f){return!!(f&&f[Symbol.iterator])}},function(r,s,d){'use strict';var f=d(83),h=d(124),w=d(125),C=d(135),T=d(478),P=d(95);s.a=function(E,O,V){var R=-1,F=h.a,N=E.length,I=!0,M=[],L=M;if(V)I=!1,F=w.a;else if(N>=200){var D=O?null:d.i(T.a)(E);if(D)return d.i(P.a)(D);I=!1,F=C.a,L=new f.a}else L=O?[]:M;outer:for(;++R<N;){var q=E[R],z=O?O(q):q;if(q=V||0!==q?q:0,I&&z===z){for(var $=L.length;$--;)if(L[$]===z)continue outer;O&&L.push(z),M.push(q)}else F(L,z,V)||(L!==M&&L.push(z),M.push(q))}return M}},function(r,s,d){'use strict';var u=d(519);d.d(s,'a',function(){return u.a})},function(r,s){'use strict';s.a=function(f){return!!f&&'object'==typeof f}},function(r,s,d){'use strict';var f=d(51),w=Object.prototype,C=w.toString;s.a=function(T){return'symbol'==typeof T||d.i(f.a)(T)&&C.call(T)=='[object Symbol]'}},function(r,s,d){'use strict';var u=d(81),f=d(4);class h{constructor(w){this.document=w,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}}s.a=h,d.i(f.a)(h,u.a)},function(r,s,d){'use strict';var u=d(25),f=d(31),h=d(370),w=d(26),C=d(0);class T{constructor(P={}){if(!P.boundaries&&!P.startPosition)throw new C.a('view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');if(P.direction&&'forward'!=P.direction&&'backward'!=P.direction)throw new C.a('view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:P.direction});this.boundaries=P.boundaries||null,this.position=P.startPosition?w.a.createFromPosition(P.startPosition):w.a.createFromPosition(P.boundaries['backward'==P.direction?'end':'start']),this.direction=P.direction||'forward',this.singleCharacters=!!P.singleCharacters,this.shallow=!!P.shallow,this.ignoreElementEnd=!!P.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(P){let S,E,O;do O=this.position,({done:S,value:E}=this.next());while(!S&&P(E));S||(this.position=O)}next(){return'forward'==this.direction?this._next():this._previous()}_next(){let P=w.a.createFromPosition(this.position);const S=this.position,E=P.parent;if(null===E.parent&&P.offset===E.childCount)return{done:!0};if(E===this._boundaryEndParent&&P.offset==this.boundaries.end.offset)return{done:!0};let O;if(E instanceof f.a){if(P.isAtEnd)return this.position=w.a.createAfter(E),this._next();O=E.data[P.offset]}else O=E.getChild(P.offset);if(O instanceof u.a)return this.shallow?P.offset++:P=new w.a(O,0),this.position=P,this._formatReturnValue('elementStart',O,S,P,1);if(O instanceof f.a){if(this.singleCharacters)return P=new w.a(O,0),this.position=P,this._next();let V=O.data.length,R=O;return O==this._boundaryEndParent?(V=this.boundaries.end.offset,R=new h.a(O,0,V),P=w.a.createAfter(R)):P.offset++,this.position=P,this._formatReturnValue('text',R,S,P,V)}if('string'==typeof O){let V;if(this.singleCharacters)V=1;else{const F=E===this._boundaryEndParent?this.boundaries.end.offset:E.data.length;V=F-P.offset}const R=new h.a(E,P.offset,V);return P.offset+=V,this.position=P,this._formatReturnValue('text',R,S,P,V)}return P=w.a.createAfter(E),this.position=P,this.ignoreElementEnd?this._next():this._formatReturnValue('elementEnd',E,S,P)}_previous(){let P=w.a.createFromPosition(this.position);const S=this.position,E=P.parent;if(null===E.parent&&0===P.offset)return{done:!0};if(E==this._boundaryStartParent&&P.offset==this.boundaries.start.offset)return{done:!0};let O;if(E instanceof f.a){if(P.isAtStart)return this.position=w.a.createBefore(E),this._previous();O=E.data[P.offset-1]}else O=E.getChild(P.offset-1);if(O instanceof u.a)return this.shallow?(P.offset--,this.position=P,this._formatReturnValue('elementStart',O,S,P,1)):(P=new w.a(O,O.childCount),this.position=P,this.ignoreElementEnd?this._previous():this._formatReturnValue('elementEnd',O,S,P));if(O instanceof f.a){if(this.singleCharacters)return P=new w.a(O,O.data.length),this.position=P,this._previous();let V=O.data.length,R=O;if(O==this._boundaryStartParent){const F=this.boundaries.start.offset;R=new h.a(O,F,O.data.length-F),V=R.data.length,P=w.a.createBefore(R)}else P.offset--;return this.position=P,this._formatReturnValue('text',R,S,P,V)}if('string'==typeof O){let V;if(!this.singleCharacters){const F=E===this._boundaryStartParent?this.boundaries.start.offset:0;V=P.offset-F}else V=1;P.offset-=V;const R=new h.a(E,P.offset,V);return this.position=P,this._formatReturnValue('text',R,S,P,V)}return P=w.a.createBefore(E),this.position=P,this._formatReturnValue('elementStart',E,S,P,1)}_formatReturnValue(P,S,E,O,V){return S instanceof h.a&&(S.offsetInText+S.data.length==S.textNode.data.length&&('forward'!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?E=w.a.createAfter(S.textNode):(O=w.a.createAfter(S.textNode),this.position=O)),0===S.offsetInText&&('backward'!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?E=w.a.createBefore(S.textNode):(O=w.a.createBefore(S.textNode),this.position=O))),{done:!1,value:{type:P,item:S,previousPosition:E,nextPosition:O,length:V}}}}s.a=T},function(r,s,d){'use strict';var f=d(233);s.a=function(h,w){var C=h[w];return d.i(f.a)(C)?C:void 0}},function(r,s,d){'use strict';var f=d(12),h=d(52),w=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,C=/^\w*$/;s.a=function(T,P){if(d.i(f.a)(T))return!1;var S=typeof T;return'number'==S||'symbol'==S||'boolean'==S||null==T||d.i(h.a)(T)||C.test(T)||!w.test(T)||null!=P&&T in Object(P)}},function(r,s,d){'use strict';var f=d(52);s.a=function(w){if('string'==typeof w||d.i(f.a)(w))return w;var C=w+'';return'0'==C&&1/w==-(1/0)?'-0':C}},function(r,s){'use strict';s.a=function(f,h){return f===h||f!==f&&h!==h}},function(r,s,d){'use strict';var u=d(151),f=d(0);class h{constructor(w){this.parent=null,this._attrs=d.i(u.a)(w)}get index(){let w;if(!this.parent)return null;if(null===(w=this.parent.getChildIndex(this)))throw new f.a('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return w}get startOffset(){let w;if(!this.parent)return null;if(null===(w=this.parent.getChildStartOffset(this)))throw new f.a('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return w}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const w=this.index;return null!==w&&this.parent.getChild(w+1)||null}get previousSibling(){const w=this.index;return null!==w&&this.parent.getChild(w-1)||null}get root(){let w=this;for(;w.parent;)w=w.parent;return w}get document(){return this.root==this?null:this.root.document||null}clone(){return new h(this._attrs)}getPath(){const w=[];for(let C=this;C.parent;)w.unshift(C.startOffset),C=C.parent;return w}getAncestors(w={includeNode:!1,parentFirst:!1}){const C=[];for(let T=w.includeNode?this:this.parent;T;)C[w.parentFirst?'push':'unshift'](T),T=T.parent;return C}remove(){this.parent.removeChildren(this.index)}hasAttribute(w){return this._attrs.has(w)}getAttribute(w){return this._attrs.get(w)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}setAttribute(w,C){this._attrs.set(w,C)}setAttributesTo(w){this._attrs=d.i(u.a)(w)}removeAttribute(w){return this._attrs.delete(w)}clearAttributes(){this._attrs.clear()}toJSON(){const w={};return this._attrs.size&&(w.attributes=[...this._attrs]),w}}s.a=h},function(r,s,d){'use strict';function u(R,F){return!F.has(R)&&(F.add(R),R.document.schema.itemExtends(R.name,'$block')&&R.parent)}function f(R,F){const N=R.parent.getAncestors({parentFirst:!0,includeNode:!0}),I=N.find((M)=>u(M,F));return N.forEach((M)=>F.add(M)),I}var h=d(1),w=d(5),C=d(3),T=d(7),P=d(0),S=d(4),E=d(151),O=d(537);class V{constructor(R,F){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,R&&this.setRanges(R,F)}get anchor(){if(0<this._ranges.length){const R=this._ranges[this._ranges.length-1];return this._lastRangeBackward?R.end:R.start}return null}get focus(){if(0<this._ranges.length){const R=this._ranges[this._ranges.length-1];return this._lastRangeBackward?R.start:R.end}return null}get isCollapsed(){const R=this._ranges.length;return!(1!==R)&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(R){if(this.rangeCount!=R.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(R.anchor)||!this.focus.isEqual(R.focus))return!1;for(const F of this._ranges){let N=!1;for(const I of R._ranges)if(F.isEqual(I)){N=!0;break}if(!N)return!1}return!0}*getRanges(){for(const R of this._ranges)yield C.a.createFromRange(R)}getFirstRange(){let R=null;for(const F of this._ranges)(!R||F.start.isBefore(R.start))&&(R=F);return R?C.a.createFromRange(R):null}getLastRange(){let R=null;for(const F of this._ranges)(!R||F.end.isAfter(R.end))&&(R=F);return R?C.a.createFromRange(R):null}getFirstPosition(){const R=this.getFirstRange();return R?h.a.createFromPosition(R.start):null}getLastPosition(){const R=this.getLastRange();return R?h.a.createFromPosition(R.end):null}addRange(R,F=!1){this._pushRange(R),this._lastRangeBackward=!!F,this.fire('change:range',{directChange:!0})}removeAllRanges(){0<this._ranges.length&&(this._removeAllRanges(),this.fire('change:range',{directChange:!0}))}setRanges(R,F=!1){R=Array.from(R);const N=R.some((I)=>{if(!(I instanceof C.a))throw new P.a('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');return this._ranges.every((M)=>{return!M.isEqual(I)})});if(R.length!==this._ranges.length||N){this._removeAllRanges();for(const I of R)this._pushRange(I);this._lastRangeBackward=!!F,this.fire('change:range',{directChange:!0})}}setTo(R){this.setRanges(R.getRanges(),R.isBackward)}collapse(R,F){const N=h.a.createAt(R,F),I=new C.a(N,N);this.setRanges([I])}collapseToStart(){const R=this.getFirstPosition();null!==R&&this.setRanges([new C.a(R,R)])}collapseToEnd(){const R=this.getLastPosition();null!==R&&this.setRanges([new C.a(R,R)])}setFocus(R,F){if(null===this.anchor)throw new P.a('model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.');const N=h.a.createAt(R,F);if('same'!=N.compareWith(this.focus)){const I=this.anchor;this._ranges.length&&this._popRange(),'before'==N.compareWith(I)?this.addRange(new C.a(N,I),!0):this.addRange(new C.a(I,N))}}getAttribute(R){return this._attrs.get(R)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(R){return this._attrs.has(R)}clearAttributes(){if(0<this._attrs.size){const R=Array.from(this._attrs.keys());this._attrs.clear(),this.fire('change:attribute',{attributeKeys:R,directChange:!0})}}removeAttribute(R){this.hasAttribute(R)&&(this._attrs.delete(R),this.fire('change:attribute',{attributeKeys:[R],directChange:!0}))}setAttribute(R,F){this.getAttribute(R)!==F&&(this._attrs.set(R,F),this.fire('change:attribute',{attributeKeys:[R],directChange:!0}))}setAttributesTo(R){if(R=d.i(E.a)(R),!d.i(O.a)(R,this._attrs)){const F=new Set(Array.from(R.keys()).concat(Array.from(this._attrs.keys())));for(const[N,I]of R)this._attrs.get(N)===I&&F.delete(N);this._attrs=R,this.fire('change:attribute',{attributeKeys:Array.from(F),directChange:!0})}}getSelectedElement(){if(1!==this.rangeCount)return null;const R=this.getFirstRange(),F=R.start.nodeAfter,N=R.end.nodeBefore;return F instanceof w.a&&F==N?F:null}*getSelectedBlocks(){const R=new WeakSet;for(const F of this.getRanges()){const N=f(F.start,R);N&&(yield N);for(const M of F.getWalker())'elementEnd'==M.type&&u(M.item,R)&&(yield M.item);const I=f(F.end,R);I&&(yield I)}}static createFromSelection(R){const F=new this;return F.setTo(R),F}_pushRange(R){if(!(R instanceof C.a))throw new P.a('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');this._checkRange(R),this._ranges.push(C.a.createFromRange(R))}_checkRange(R){for(let F=0;F<this._ranges.length;F++)if(R.isIntersecting(this._ranges[F]))throw new P.a('model-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:R,intersectingRange:this._ranges[F]})}_popRange(){this._ranges.pop()}_removeAllRanges(){for(;0<this._ranges.length;)this._popRange()}}s.a=V,d.i(S.a)(V,T.a)},function(r,s,d){'use strict';var u=d(0);class f{constructor(h,w,C){if(this.textNode=h,0>w||w>h.offsetSize)throw new u.a('model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>C||w+C>h.offsetSize)throw new u.a('model-textproxy-wrong-length: Given length value is incorrect.');this.data=h.data.substring(w,w+C),this.offsetInText=w}get startOffset(){return null===this.textNode.startOffset?null:this.textNode.startOffset+this.offsetInText}get offsetSize(){return this.data.length}get endOffset(){return null===this.startOffset?null:this.startOffset+this.offsetSize}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(h){return'textProxy'==h}getPath(){const h=this.textNode.getPath();return 0<h.length&&(h[h.length-1]+=this.offsetInText),h}getAncestors(h={includeNode:!1,parentFirst:!1}){const w=[];for(let C=h.includeNode?this:this.parent;C;)w[h.parentFirst?'push':'unshift'](C),C=C.parent;return w}hasAttribute(h){return this.textNode.hasAttribute(h)}getAttribute(h){return this.textNode.getAttribute(h)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}s.a=f},function(r,s,d){'use strict';function u(F){return F instanceof Text&&F.data.substr(0,O)===V}function T(F,N){if(N.keyCode==P.d.arrowleft){const I=N.domTarget.ownerDocument.defaultView.getSelection();if(1==I.rangeCount&&I.getRangeAt(0).collapsed){const M=I.getRangeAt(0).startContainer,L=I.getRangeAt(0).startOffset;u(M)&&L<=O&&I.collapse(M,0)}}}d.d(s,'i',function(){return V}),s.c=u,s.f=function(F){return F.data.length==O&&u(F)},s.g=function(F){return u(F)?F.data.slice(O):F.data},s.e=function(F,N){let I=R.get(N);return I||(I=N(window.document),R.set(N,I)),F.isEqualNode(I)},s.h=function(F){F.on('keydown',T)};var P=d(22);s.b=(F)=>{const N=F.createElement('br');return N.dataset.ckeFiller=!0,N};s.a=(F)=>F.createTextNode('\xA0');const O=7;s.d=O;let V='';for(let F=0;F<O;F++)V+='\u200B';const R=new WeakMap},function(r,s,d){'use strict';var u=d(53),f=d(118);class h extends u.a{constructor(w){super(w),this.useCapture=!1}observe(w){const C='string'==typeof this.domEventType?[this.domEventType]:this.domEventType;C.forEach((T)=>{this.listenTo(w,T,(P,S)=>{this.isEnabled&&this.onDomEvent(S)},{useCapture:this.useCapture})})}fire(w,C,T){this.isEnabled&&this.document.fire(w,new f.a(this.document,C,T))}}s.a=h},function(r,s,d){'use strict';var u=d(0),f=d(38),h=d(26),w=d(4),C=d(7),T=d(25);class P{constructor(S,E){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel='',S&&this.setRanges(S,E)}setFake(S=!0,E={}){this._isFake=S,this._fakeSelectionLabel=S?E.label||'':'',this.fire('change')}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const S=this._ranges[this._ranges.length-1],E=this._lastRangeBackward?S.end:S.start;return h.a.createFromPosition(E)}get focus(){if(!this._ranges.length)return null;const S=this._ranges[this._ranges.length-1],E=this._lastRangeBackward?S.start:S.end;return h.a.createFromPosition(E)}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}addRange(S,E){if(!(S instanceof f.a))throw new u.a('view-selection-invalid-range: Invalid Range.');this._pushRange(S),this._lastRangeBackward=!!E,this.fire('change')}*getRanges(){for(const S of this._ranges)yield f.a.createFromRange(S)}getFirstRange(){let S=null;for(const E of this._ranges)(!S||E.start.isBefore(S.start))&&(S=E);return S?f.a.createFromRange(S):null}getLastRange(){let S=null;for(const E of this._ranges)(!S||E.end.isAfter(S.end))&&(S=E);return S?f.a.createFromRange(S):null}getFirstPosition(){const S=this.getFirstRange();return S?h.a.createFromPosition(S.start):null}getLastPosition(){const S=this.getLastRange();return S?h.a.createFromPosition(S.end):null}isEqual(S){if(this.isFake!=S.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=S.fakeSelectionLabel)return!1;if(this.rangeCount!=S.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(S.anchor)||!this.focus.isEqual(S.focus))return!1;for(const E of this._ranges){let O=!1;for(const V of S._ranges)if(E.isEqual(V)){O=!0;break}if(!O)return!1}return!0}removeAllRanges(){this._ranges.length&&(this._ranges=[],this.fire('change'))}setRanges(S,E){this._ranges=[];for(const O of S){if(!(O instanceof f.a))throw new u.a('view-selection-invalid-range: Invalid Range.');this._pushRange(O)}this._lastRangeBackward=!!E,this.fire('change')}setTo(S){this._isFake=S._isFake,this._fakeSelectionLabel=S._fakeSelectionLabel,this.setRanges(S.getRanges(),S.isBackward)}collapse(S,E){const O=h.a.createAt(S,E),V=new f.a(O,O);this.setRanges([V])}collapseToStart(){const S=this.getFirstPosition();null!==S&&this.setRanges([new f.a(S,S)])}collapseToEnd(){const S=this.getLastPosition();null!==S&&this.setRanges([new f.a(S,S)])}setFocus(S,E){if(null===this.anchor)throw new u.a('view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.');const O=h.a.createAt(S,E);if('same'!=O.compareWith(this.focus)){const V=this.anchor;this._ranges.pop(),'before'==O.compareWith(V)?this.addRange(new f.a(O,V),!0):this.addRange(new f.a(V,O))}}getSelectedElement(){if(1!==this.rangeCount)return null;const S=this.getFirstRange(),E=S.start.nodeAfter,O=S.end.nodeBefore;return E instanceof T.a&&E==O?E:null}static createFromSelection(S){const E=new P;return E.setTo(S),E}_pushRange(S){for(const E of this._ranges)if(S.isIntersecting(E))throw new u.a('view-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:S,intersectingRange:E});this._ranges.push(f.a.createFromRange(S))}}s.a=P,d.i(w.a)(P,C.a)},function(r,s){'use strict';s.a=function(f,h){const w=_Mathmin(f.length,h.length);for(let C=0;C<w;C++)if(f[C]!=h[C])return C;return f.length==h.length?'same':f.length<h.length?'prefix':'extension'}},function(r,s){'use strict';s.a=function(f){const h=f.next();return h.done?null:h.value}},function(r,s,d){'use strict';var u=d(81),f=d(33),h=d(0),w=d(4);class C{constructor(){this.set('isFocused',!1),this.focusedElement=null,this._elements=new Set,this._nextEventLoopTimeout=null}add(T){if(this._elements.has(T))throw new h.a('focusTracker-add-element-already-exist');this.listenTo(T,'focus',()=>this._focus(T),{useCapture:!0}),this.listenTo(T,'blur',()=>this._blur(),{useCapture:!0}),this._elements.add(T)}remove(T){T===this.focusedElement&&this._blur(T),this._elements.has(T)&&(this.stopListening(T),this._elements.delete(T))}_focus(T){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=T,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}s.a=C,d.i(w.a)(C,u.a),d.i(w.a)(C,f.a)},function(r,s,d){'use strict';var u=d(81),f=d(22);s.a=class{constructor(){this._listener=Object.create(u.a),this._keystrokes=new Map}listenTo(w){this._listener.listenTo(w,'keydown',(C,T)=>{this.press(T)})}set(w,C){const T=d.i(f.a)(w),P=this._keystrokes.get(T);P?P.push(C):this._keystrokes.set(T,[C])}press(w){const C=d.i(f.c)(w),T=this._keystrokes.get(C);if(!T)return!1;for(const P of T)P(w,()=>{w.preventDefault(),w.stopPropagation()});return!0}destroy(){this._keystrokes=new Map,this._listener.stopListening()}}},function(r,s,d){'use strict';var f=d(58),h=Object.prototype,w=h.hasOwnProperty;s.a=function(C,T,P){var S=C[T];w.call(C,T)&&d.i(f.a)(S,P)&&(P!==void 0||T in C)||(C[T]=P)}},function(r,s,d){'use strict';var f=d(83),h=d(124),w=d(125),C=d(27),T=d(133),P=d(135);s.a=function(E,O,V,R){var F=-1,N=h.a,I=!0,M=E.length,L=[],D=O.length;if(!M)return L;V&&(O=d.i(C.a)(O,d.i(T.a)(V))),R?(N=w.a,I=!1):O.length>=200&&(N=P.a,I=!1,O=new f.a(O));outer:for(;++F<M;){var q=E[F],z=V?V(q):q;if(q=R||0!==q?q:0,I&&z===z){for(var $=D;$--;)if(O[$]===z)continue outer;L.push(q)}else N(O,z,R)||L.push(q)}return L}},function(r,s,d){'use strict';var f=d(196),h=d(458),w=d(204),C=d(97),T=d(42),P=d(93);s.a=function(S){var E=d.i(P.a)(S);if(!(E||d.i(C.a)(S)))return d.i(h.a)(S);var O=d.i(w.a)(S),R=O||[],F=R.length;for(var N in S)!d.i(f.a)(S,N)||!!O&&('length'==N||d.i(T.a)(N,F))||E&&'constructor'==N||R.push(N);return R}},function(r,s){'use strict';s.a=function(){let f='e';for(let h=0;8>h;h++)f+=_Mathfloor(65536*(1+Math.random())).toString(16).substring(1);return f}},function(r,s,d){'use strict';function u(N,I,M,L){if(M.test(I.input,{name:I.input.name})&&h(I.input,I.context,L.schema,!1)){I.context.push('paragraph');const D=L.convertItem(I.input,M,I);I.context.pop(),I.output=D}}function f(N,I,M,L){if(!I.output)return;const D=R.paragraphLikeElements.has(I.input.name)&&!I.output.is('element'),q=I.input.is('documentFragment')||I.input.is('element')&&I.output.is('element')||D;if(!q)return;const z=I.output.is('element');z&&I.context.push(I.output);let $=null;for(let K=0;K<I.output.childCount;K++){const H=I.output.getChild(K);h(H,I.context,L.schema,D)?($?K--:($=new S.a('paragraph'),I.output.insertChildren(H.index,$)),H.remove(),$.appendChildren(H)):$=null}z&&I.context.pop()}function h(N,I,M,L){const D=N.name||'$text';return!L&&M.check({name:D,inside:I})?!1:!!M.check({name:'paragraph',inside:I})&&!!M.check({name:D,inside:I.concat('paragraph')})}function w(N,I){for(const M of N.getRootNames()){const L=N.getRoot(M);L.isEmpty?!F.has(L)&&F.set(L,I):F.delete(L)}}function C(){for(const[N,I]of F){const L=I.document,D=L.schema;D.check({name:'paragraph',inside:[N]})&&L.enqueueChanges(()=>{I.insert(E.a.createAt(N),new S.a('paragraph'))})}F.clear()}var T=d(395),P=d(2),S=d(5),E=d(1),O=d(44),V=d(34);class R extends P.a{static get pluginName(){return'paragraph/paragraph'}init(){const N=this.editor,I=N.document,M=N.data,L=N.editing;N.commands.set('paragraph',new T.a(N)),I.schema.registerItem('paragraph','$block'),d.i(O.a)().for(M.modelToView,L.modelToView).fromElement('paragraph').toElement('p'),d.i(V.a)().for(M.viewToModel).fromElement('p').toElement('paragraph'),M.viewToModel.on('element',u,{priority:'low'}),M.viewToModel.on('text',u,{priority:'lowest'}),M.viewToModel.on('element',f,{priority:'lowest'}),M.viewToModel.on('documentFragment',f,{priority:'lowest'}),I.on('change',(D,q,z,$)=>w(I,$)),I.on('changesDone',C,{priority:'lowest'}),N.on('dataReady',()=>{w(I,I.batch('transparent')),C()},{priority:'lowest'})}}s.a=R,R.paragraphLikeElements=new Set(['blockquote','dd','div','dt','h1','h2','h3','h4','h5','h6','li','p','td']);const F=new Map},function(r,s,d){'use strict';var u=d(59),f=d(0);class h{constructor(w){this._nodes=[],w&&this.insertNodes(0,w)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((w,C)=>w+C.offsetSize,0)}getNode(w){return this._nodes[w]||null}getNodeIndex(w){const C=this._nodes.indexOf(w);return-1==C?null:C}getNodeStartOffset(w){const C=this.getNodeIndex(w);return null===C?null:this._nodes.slice(0,C).reduce((T,P)=>T+P.offsetSize,0)}indexToOffset(w){if(w==this._nodes.length)return this.maxOffset;const C=this._nodes[w];if(!C)throw new f.a('model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.');return this.getNodeStartOffset(C)}offsetToIndex(w){let C=0;for(const T of this._nodes){if(w>=C&&w<C+T.offsetSize)return this.getNodeIndex(T);C+=T.offsetSize}if(C!=w)throw new f.a('model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.');return this.length}insertNodes(w,C){for(const T of C)if(!(T instanceof u.a))throw new f.a('model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.');this._nodes.splice(w,0,...C)}removeNodes(w,C=1){return this._nodes.splice(w,C)}toJSON(){return this._nodes.map((w)=>w.toJSON())}}s.a=h},function(r,s,d){'use strict';var u=d(36),f=d(3),h=d(0),w=d(20),C=d(524);class T extends u.a{constructor(P,S,E,O,V){super(V),this.range=f.a.createFromRange(P),this.key=S,this.oldValue=E===void 0?null:E,this.newValue=O===void 0?null:O}get type(){return null===this.oldValue?'addAttribute':null===this.newValue?'removeAttribute':'changeAttribute'}clone(){return new T(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new T(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_execute(){for(const P of this.range.getItems()){if(null!==this.oldValue&&!d.i(C.a)(P.getAttribute(this.key),this.oldValue))throw new h.a('attribute-operation-wrong-old-value: Changed node has different attribute value than operation\\\'s old attribute value.',{item:P,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&P.hasAttribute(this.key))throw new h.a('attribute-operation-attribute-exists: The attribute with given key already exists.',{node:P,key:this.key});if(d.i(C.a)(this.oldValue,this.newValue))return}return w.a.setAttribute(this.range,this.key,this.newValue),{range:this.range,key:this.key,oldValue:this.oldValue,newValue:this.newValue}}static get className(){return'engine.model.operation.AttributeOperation'}static fromJSON(P,S){return new T(f.a.fromJSON(P.range,S),P.key,P.oldValue,P.newValue,P.baseVersion)}}s.a=T},function(r,s,d){'use strict';var u=d(36);class f extends u.a{clone(){return new f(this.baseVersion)}getReversed(){return new f(this.baseVersion+1)}_execute(){}static get className(){return'engine.model.operation.NoOperation'}}s.a=f},function(r,s,d){'use strict';var u=d(47),f=d(0),h=d(4),w=d(33);const C=Symbol('document');class T extends u.a{constructor(P,S,E){super(P,S,E),this.set('isReadOnly',!1),this.set('isFocused',!1)}get document(){return this.getCustomProperty(C)}set document(P){if(this.getCustomProperty(C))throw new f.a('view-editableelement-document-already-set: View document is already set.');this.setCustomProperty(C,P),this.bind('isFocused').to(P,'isFocused',(S)=>S&&P.selection.editableElement==this),this.listenTo(P,'render',()=>{this.isFocused=P.isFocused&&P.selection.editableElement==this},{priority:'high'})}}s.a=T,d.i(h.a)(T,w.a)},function(r,s,d){'use strict';var u=d(0),f=d(7),h=d(4);class w{constructor(){this.parent=null}get index(){let C;if(!this.parent)return null;if(-1==(C=this.parent.getChildIndex(this)))throw new u.a('view-node-not-found-in-parent: The node\'s parent does not contain this node.');return C}get nextSibling(){const C=this.index;return null!==C&&this.parent.getChild(C+1)||null}get previousSibling(){const C=this.index;return null!==C&&this.parent.getChild(C-1)||null}get root(){let C=this;for(;C.parent;)C=C.parent;return C}get document(){return this.parent instanceof w?this.parent.document:null}getAncestors(C={includeNode:!1,parentFirst:!1}){const T=[];for(let P=C.includeNode?this:this.parent;P;)T[C.parentFirst?'push':'unshift'](P),P=P.parent;return T}remove(){this.parent.removeChildren(this.index)}_fireChange(C,T){this.fire('change:'+C,T),this.parent&&this.parent._fireChange(C,T)}}s.a=w,d.i(h.a)(w,f.a)},function(r,s,d){'use strict';function h(de){const ce=de.offset,ue=de.parent;if(ue.is('text'))return de;if(ue.is('attributeElement')&&0===ue.childCount){const ge=ue.parent,fe=ue.index;return ue.remove(),h(new J.a(ge,fe))}const me=ue.getChild(ce-1),pe=ue.getChild(ce);if(!me||!pe)return de;if(me.is('text')&&pe.is('text'))return $(me,pe);if(me.is('attributeElement')&&pe.is('attributeElement')&&me.isSimilar(pe)){const ge=me.childCount;return me.appendChildren(pe.getChildren()),pe.remove(),h(new J.a(me,ge))}return de}function T(de,ce){ce=d.i(re.a)(ce)?[...ce]:[ce],U(ce);const ue=N(de);if(!ue)throw new oe.a('view-writer-invalid-position-container');const me=M(de,!0),pe=ue.insertChildren(me.offset,ce),ge=me.getShiftedBy(pe),fe=h(me);if(0===pe)return new ae.a(fe,fe);fe.isEqual(me)||ge.offset--;const he=h(ge);return new ae.a(fe,he)}function P(de){if(G(de),de.isCollapsed)return new ie.a;const{start:ce,end:ue}=I(de,!0),me=ce.parent,pe=ue.offset-ce.offset,ge=me.removeChildren(ce.offset,pe),fe=h(ce);return de.start=fe,de.end=J.a.createFromPosition(fe),new ie.a(ge)}function E(de,ce){let ue;if(ce.isAfter(de.end)){ce=M(ce,!0);const me=ce.parent,pe=me.childCount;de=I(de,!0),ue=P(de),ce.offset+=me.childCount-pe}else ue=P(de);return T(ce,ue)}function O(de,ce){if(!(ce instanceof Y.a))throw new oe.a('view-writer-wrap-invalid-attribute');if(G(de),de.isCollapsed)return de;if(de.end.isEqual(de.start.getShiftedBy(1))){const _e=de.start.nodeAfter;if(_e instanceof Y.a&&K(ce,_e))return de}if(W(de)&&K(ce,de.start.parent)){const _e=de.start.parent.parent,ke=de.start.parent.index;return ae.a.createFromParentsAndOffsets(_e,ke,_e,ke+1)}const{start:ue,end:me}=I(de,!0),pe=ue.parent,ge=L(pe,ue.offset,me.offset,ce),fe=D(pe,ge.start.offset,ge.end.offset,ce),he=h(fe.start);he.isEqual(fe.start)||fe.end.offset--;const be=h(fe.end);return new ae.a(he,be)}function N(de){let ce=de.parent;for(;!Z(ce);){if(!ce)return;ce=ce.parent}return ce}function I(de,ce=!1){const ue=de.start,me=de.end;if(G(de),de.isCollapsed){const he=M(de.start,ce);return new ae.a(he,he)}const pe=M(me,ce),ge=pe.parent.childCount,fe=M(ue,ce);return pe.offset+=pe.parent.childCount-ge,new ae.a(fe,pe)}function M(de,ce=!1){const ue=de.offset,me=de.parent;if(de.parent.is('emptyElement'))throw new oe.a('view-writer-cannot-break-empty-element');if(de.parent.is('uiElement'))throw new oe.a('view-writer-cannot-break-ui-element');if(!ce&&me.is('text')&&Z(me.parent))return J.a.createFromPosition(de);if(Z(me))return J.a.createFromPosition(de);if(me.is('text'))return M(z(de),ce);const pe=me.childCount;if(ue==pe){const ge=new J.a(me.parent,me.index+1);return M(ge,ce)}if(0===ue){const ge=new J.a(me.parent,me.index);return M(ge,ce)}const ge=me.index+1,fe=me.clone();me.parent.insertChildren(ge,fe);const he=me.childCount-ue,be=me.removeChildren(ue,he);fe.appendChildren(be);const _e=new J.a(me.parent,ge);return M(_e,ce)}function L(de,ce,ue,me){let pe=ce;const ge=[];for(;pe<ue;){const he=de.getChild(pe);if(he.isSimilar(me)){const be=he.getChildren(),_e=he.childCount;he.remove(),de.insertChildren(pe,be),ge.push(new J.a(de,pe),new J.a(de,pe+_e)),pe+=_e,ue+=_e-1}else he.is('attributeElement')&&L(he,0,he.childCount,me),pe++}let fe=0;for(const he of ge){if(he.offset-=fe,he.offset==ce||he.offset==ue)continue;const be=h(he);be.isEqual(he)||(fe++,ue--)}return ae.a.createFromParentsAndOffsets(de,ce,de,ue)}function D(de,ce,ue,me){let pe=ce;const ge=[];for(;pe<ue;){const he=de.getChild(pe),be=he.is('text'),_e=he.is('attributeElement'),ke=he.is('emptyElement'),we=he.is('uiElement');if(be||ke||we||_e&&me.priority<=he.priority){const ye=me.clone();he.remove(),ye.appendChildren(he),de.insertChildren(pe,ye),ge.push(new J.a(de,pe))}else _e&&D(he,0,he.childCount,me);pe++}let fe=0;for(const he of ge){if(he.offset-=fe,he.offset==ce)continue;const be=h(he);be.isEqual(he)||(fe++,ue--)}return ae.a.createFromParentsAndOffsets(de,ce,de,ue)}function q(de){const ce=de.nodeBefore;if(ce&&ce.is('text'))return new J.a(ce,ce.data.length);const ue=de.nodeAfter;return ue&&ue.is('text')?new J.a(ue,0):de}function z(de){if(de.offset==de.parent.data.length)return new J.a(de.parent.parent,de.parent.index+1);if(0===de.offset)return new J.a(de.parent.parent,de.parent.index);const ce=de.parent.data.slice(de.offset);return de.parent.data=de.parent.data.slice(0,de.offset),de.parent.parent.insertChildren(de.parent.index+1,new te.a(ce)),new J.a(de.parent.parent,de.parent.index+1)}function $(de,ce){const ue=de.data.length;return de.data+=ce.data,ce.remove(),new J.a(de,ue)}function K(de,ce){if(de.name!==ce.name||de.priority!==ce.priority)return!1;for(const ue of de.getAttributeKeys())if('class'!==ue&&'style'!==ue&&ce.hasAttribute(ue)&&ce.getAttribute(ue)!==de.getAttribute(ue))return!1;for(const ue of de.getStyleNames())if(ce.hasStyle(ue)&&ce.getStyle(ue)!==de.getStyle(ue))return!1;for(const ue of de.getAttributeKeys())'class'!==ue&&'style'!==ue&&(ce.hasAttribute(ue)||ce.setAttribute(ue,de.getAttribute(ue)));for(const ue of de.getStyleNames())ce.hasStyle(ue)||ce.setStyle(ue,de.getStyle(ue));for(const ue of de.getClassNames())ce.hasClass(ue)||ce.addClass(ue);return!0}function H(de,ce){if(de.name!==ce.name||de.priority!==ce.priority)return!1;for(const ue of de.getAttributeKeys())if('class'!==ue&&'style'!==ue&&(!ce.hasAttribute(ue)||ce.getAttribute(ue)!==de.getAttribute(ue)))return!1;if(!ce.hasClass(...de.getClassNames()))return!1;for(const ue of de.getStyleNames())if(!ce.hasStyle(ue)||ce.getStyle(ue)!==de.getStyle(ue))return!1;for(const ue of de.getAttributeKeys())'class'!==ue&&'style'!==ue&&ce.removeAttribute(ue);return ce.removeClass(...de.getClassNames()),ce.removeStyle(...de.getStyleNames()),!0}function W(de){return de.start.parent==de.end.parent&&de.start.parent.is('attributeElement')&&0===de.start.offset&&de.end.offset===de.start.parent.childCount}function U(de){for(const ce of de){if(!le.some((ue)=>ce instanceof ue))throw new oe.a('view-writer-insert-invalid-node');ce.is('text')||U(ce.getChildren())}}function Z(de){return de&&(de.is('containerElement')||de.is('documentFragment'))}function G(de){const ce=N(de.start),ue=N(de.end);if(!ce||!ue||ce!==ue)throw new oe.a('view-writer-invalid-range-container')}var J=d(26),Q=d(47),Y=d(116),X=d(166),ee=d(170),te=d(31),ae=d(38),ne=d(54),oe=d(0),ie=d(117),re=d(48);s.a={breakAttributes:function(de){return de instanceof J.a?M(de):I(de)},breakContainer:function(de){const ce=de.parent;if(!ce.is('containerElement'))throw new oe.a('view-writer-break-non-container-element: Trying to break an element which is not a container element.');if(!ce.parent)throw new oe.a('view-writer-break-root: Trying to break root element.');if(de.isAtStart)return J.a.createBefore(ce);if(!de.isAtEnd){const ue=ce.clone(!1);T(J.a.createAfter(ce),ue);const me=new ae.a(de,J.a.createAt(ce,'end')),pe=new J.a(ue,0);E(me,pe)}return J.a.createAfter(ce)},mergeAttributes:h,mergeContainers:function(de){const ce=de.nodeBefore,ue=de.nodeAfter;if(!ce||!ue||!ce.is('containerElement')||!ue.is('containerElement'))throw new oe.a('view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.');const me=ce.getChild(ce.childCount-1),pe=me instanceof te.a?J.a.createAt(me,'end'):J.a.createAt(ce,'end');return E(ae.a.createIn(ue),J.a.createAt(ce,'end')),P(ae.a.createOn(ue)),pe},insert:T,remove:P,clear:function(de,ce){G(de);const ue=de.getWalker({direction:'backward',ignoreElementEnd:!0});for(const me of ue){const pe=me.item;let ge;if(pe.is('element')&&ce.isSimilar(pe))ge=ae.a.createOn(pe);else if(!me.nextPosition.isAfter(de.start)&&(pe.is('text')||pe.is('textProxy'))){const fe=pe.getAncestors().find((he)=>{return he.is('element')&&ce.isSimilar(he)});fe&&(ge=ae.a.createIn(fe))}ge&&(ge.end.isAfter(de.end)&&(ge.end=de.end),ge.start.isBefore(de.start)&&(ge.start=de.start),P(ge))}},move:E,wrap:O,wrapPosition:function(de,ce){if(!(ce instanceof Y.a))throw new oe.a('view-writer-wrap-invalid-attribute');if(ce.isSimilar(de.parent))return q(J.a.createFromPosition(de));de.parent.is('text')&&(de=z(de));const ue=new Y.a;ue.priority=_NumberPOSITIVE_INFINITY,ue.isSimilar=()=>!1,de.parent.insertChildren(de.offset,ue);const me=new ae.a(de,de.getShiftedBy(1));O(me,ce);const pe=new J.a(ue.parent,ue.index);ue.remove();const ge=pe.nodeBefore,fe=pe.nodeAfter;return ge instanceof te.a&&fe instanceof te.a?$(ge,fe):q(pe)},unwrap:function(de,ce){if(!(ce instanceof Y.a))throw new oe.a('view-writer-unwrap-invalid-attribute');if(G(de),de.isCollapsed)return de;if(de.end.isEqual(de.start.getShiftedBy(1))){const be=de.start.nodeAfter;if(!ce.isSimilar(be)&&be instanceof Y.a&&H(ce,be))return de}const{start:ue,end:me}=I(de,!0),pe=ue.parent,ge=L(pe,ue.offset,me.offset,ce),fe=h(ge.start);fe.isEqual(ge.start)||ge.end.offset--;const he=h(ge.end);return new ae.a(fe,he)},rename:function(de,ce){const ue=new Q.a(ce,de.getAttributes());return T(J.a.createAfter(de),ue),E(ae.a.createIn(de),J.a.createAt(ue)),P(ae.a.createOn(de)),ue},breakViewRangePerContainer:function(de){const ce=[],ue=new ne.a({boundaries:de});let me=de.start;for(const pe of ue)pe.item.is('containerElement')&&(me.isEqual(pe.previousPosition)||ce.push(new ae.a(me,pe.previousPosition)),me=pe.nextPosition);return ce.push(new ae.a(me,de.end)),ce}};const le=[te.a,Y.a,Q.a,X.a,ee.a]},function(r,s,d){'use strict';var u=d(7),f=d(0),h=d(72),w=d(4);class C{constructor(T){this._items=[],this._itemMap=new Map,this._idProperty=T&&T.idProperty||'id',this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap}get length(){return this._items.length}add(T,P){let S;const E=this._idProperty;if(E in T){if(S=T[E],'string'!=typeof S)throw new f.a('collection-add-invalid-id');if(this.get(S))throw new f.a('collection-add-item-already-exists')}else T[E]=S=d.i(h.a)();if(void 0===P)P=this._items.length;else if(P>this._items.length||0>P)throw new f.a('collection-add-item-invalid-index');return this._items.splice(P,0,T),this._itemMap.set(S,T),this.fire('add',T,P),this}get(T){let P;if('string'==typeof T)P=this._itemMap.get(T);else if('number'==typeof T)P=this._items[T];else throw new f.a('collection-get-invalid-arg: Index or id must be given.');return P||null}getIndex(T){let P;return P='string'==typeof T?this._itemMap.get(T):T,this._items.indexOf(P)}remove(T){let O=!1,P,S,E;const V=this._idProperty;if('string'==typeof T?(S=T,E=this._itemMap.get(S),O=!E,E&&(P=this._items.indexOf(E))):'number'==typeof T?(P=T,E=this._items[P],O=!E,E&&(S=E[V])):(E=T,S=E[V],P=this._items.indexOf(E),O=-1==P||!this._itemMap.get(S)),O)throw new f.a('collection-remove-404: Item not found.');this._items.splice(P,1),this._itemMap.delete(S);const R=this._bindToInternalToExternalMap.get(E);return this._bindToInternalToExternalMap.delete(E),this._bindToExternalToInternalMap.delete(R),this.fire('remove',E),E}map(T,P){return this._items.map(T,P)}find(T,P){return this._items.find(T,P)}filter(T,P){return this._items.filter(T,P)}clear(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}bindTo(T){if(this._bindToCollection)throw new f.a('collection-bind-to-rebind: The collection cannot be bound more than once.');return this._bindToCollection=T,{as:(P)=>{this._setUpBindToBinding((S)=>new P(S))},using:(P)=>{'function'==typeof P?this._setUpBindToBinding((S)=>P(S)):this._setUpBindToBinding((S)=>S[P])}}}_setUpBindToBinding(T){const P=this._bindToCollection,S=(E,O,V)=>{const R=P._bindToCollection==this,F=P._bindToInternalToExternalMap.get(O);if(R&&F)this._bindToExternalToInternalMap.set(O,F),this._bindToInternalToExternalMap.set(F,O);else{const N=T(O);this._bindToExternalToInternalMap.set(O,N),this._bindToInternalToExternalMap.set(N,O),this.add(N,V)}};for(const E of P)S(null,E);this.listenTo(P,'add',S),this.listenTo(P,'remove',(E,O)=>{const V=this._bindToExternalToInternalMap.get(O);V&&this.remove(V)})}[Symbol.iterator](){return this._items[Symbol.iterator]()}}s.a=C,d.i(w.a)(C,u.a)},function(r,s,d){'use strict';function u(E){return E['data-ck-expando']||(E['data-ck-expando']=d.i(w.a)())}function f(E){return E&&d.i(T.a)(E.addEventListener)}var h=d(7),w=d(72),C=d(50),T=d(233);const P=d.i(C.a)({},h.a,{listenTo(...E){const O=E[0];f(O)&&(E[0]=this._getProxyEmitter(O)||new S(O)),h.a.listenTo.apply(this,E)},stopListening(...E){const O=E[0];if(f(O)){const V=this._getProxyEmitter(O);if(!V)return;E[0]=V}h.a.stopListening.apply(this,E)},_getProxyEmitter(E){return d.i(h.b)(this,u(E))}});s.a=P;class S{constructor(E){d.i(h.c)(this,u(E)),this._domNode=E}}d.i(C.a)(S.prototype,h.a,{on(E,O,V={}){if(h.a.on.call(this,E,O,V),!(this._domListeners&&this._domListeners[E])){const R=this._createDomListener(E,!!V.useCapture);this._domNode.addEventListener(E,R,!!V.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[E]=R}},off(E,O,V){h.a.off.call(this,E,O,V);let R;!this._domListeners[E]||(R=this._events[E])&&R.callbacks.length||this._domListeners[E].removeListener()},_createDomListener(E,O){const V=(R)=>{this.fire(E,R)};return V.removeListener=()=>{this._domNode.removeEventListener(E,V,O),delete this._domListeners[E]},V}})},function(r,s,d){'use strict';function u(P){var S=-1,E=P?P.length:0;for(this.clear();++S<E;){var O=P[S];this.set(O[0],O[1])}}var f=d(497),h=d(498),w=d(499),C=d(500),T=d(501);u.prototype.clear=f.a,u.prototype['delete']=h.a,u.prototype.get=w.a,u.prototype.has=C.a,u.prototype.set=T.a,s.a=u},function(r,s,d){'use strict';function u(C){var T=-1,P=C?C.length:0;for(this.__data__=new f.a;++T<P;)this.add(C[T])}var f=d(121),h=d(508),w=d(509);u.prototype.add=u.prototype.push=h.a,u.prototype.has=w.a,s.a=u},function(r,s){'use strict';s.a=function(f,h){for(var w=-1,C=f.length,T=0,P=[],S;++w<C;)S=f[w],h(S,w,f)&&(P[T++]=S);return P}},function(r,s){'use strict';s.a=function(f,h){for(var w=-1,C=h.length,T=f.length;++w<C;)f[T+w]=h[w];return f}},function(r,s,d){'use strict';var f=d(58);s.a=function(h,w){for(var C=h.length;C--;)if(d.i(f.a)(h[C][0],w))return C;return-1}},function(r,s,d){'use strict';var f=d(132),h=d(226),w=d(52);s.a=function(P,S,E){var O=0,V=P?P.length:O;if('number'==typeof S&&S===S&&V<=4294967295>>>1){for(;O<V;){var R=O+V>>>1,F=P[R];null!==F&&!d.i(w.a)(F)&&(E?F<=S:F<S)?O=R+1:V=R}return V}return d.i(f.a)(P,S,h.a,E)}},function(r,s,d){'use strict';var f=d(41);s.a=function(h,w,C,T){for(var P=h.length,S=T?P:-1;(T?S--:++S<P)&&w(h[S],S,h););return C?d.i(f.a)(h,T?0:S,T?S+1:P):d.i(f.a)(h,T?S+1:0,T?P:S)}},function(r,s,d){'use strict';var f=d(12),h=d(516);s.a=function(w){return d.i(f.a)(w)?w:d.i(h.a)(w)}},function(r,s,d){'use strict';var f=d(495);s.a=function(h,w){var C=h.__data__;return d.i(f.a)(w)?C['string'==typeof w?'string':'hash']:C.map}},function(r,s){'use strict';s.a=function(f){var h=!1;if(null!=f&&'function'!=typeof f.toString)try{h=!!(f+'')}catch(w){}return h}},function(r,s,d){'use strict';var f=d(58),h=d(97),w=d(42),C=d(14);s.a=function(T,P,S){if(!d.i(C.a)(S))return!1;var E=typeof P;return!('number'==E?!(d.i(h.a)(S)&&d.i(w.a)(P,S.length)):!('string'==E&&P in S))&&d.i(f.a)(S[P],T)}},function(r,s){'use strict';var f=Object.prototype;s.a=function(h){var w=h&&h.constructor,C='function'==typeof w&&w.prototype||f;return h===C}},function(r,s,d){'use strict';var u=d(55),f=d.i(u.a)(Object,'create');s.a=f},function(r,s){'use strict';s.a=function(f){var h=-1,w=Array(f.size);return f.forEach(function(C){w[++h]=C}),w}},function(r,s,d){'use strict';var f=d(194);s.a=function(h){return d.i(f.a)(h,!1,!0)}},function(r,s,d){'use strict';var f=d(483),h=d(147),w=d(98);s.a=function(C){return null!=C&&d.i(w.a)(d.i(f.a)(C))&&!d.i(h.a)(C)}},function(r,s){'use strict';s.a=function(h){return'number'==typeof h&&-1<h&&0==h%1&&h<=9007199254740991}},function(r,s,d){'use strict';var f=d(139),h=d(91),w=d(51),T=Object.prototype,P=Function.prototype.toString,S=T.hasOwnProperty,E=P.call(Object),O=T.toString;s.a=function(V){if(!d.i(w.a)(V)||O.call(V)!='[object Object]'||d.i(h.a)(V))return!1;var R=d.i(f.a)(V);if(null===R)return!0;var F=S.call(R,'constructor')&&R.constructor;return'function'==typeof F&&F instanceof F&&P.call(F)==E}},function(r,s,d){'use strict';var f=d(84),h=d(27),w=d(130),C=d(199),T=d(13);s.a=function(S){if(!(S&&S.length))return[];var E=0;return S=d.i(f.a)(S,function(O){if(d.i(T.a)(O))return E=_Mathmax(O.length,E),!0}),d.i(C.a)(E,function(O){return d.i(h.a)(S,d.i(w.a)(O))})}},function(r,s,d){'use strict';s.a=function(C,T,P){const S=[];for(const E of T){const O=new f.a({boundaries:E,mergeCharacters:!0});let V=O.next(),R=E.start,F=E.start;const N=E.end;for(;!V.done;){const I=V.value.item.name||'$text',M=w.a.createBefore(V.value.item);P.check({name:I,inside:M,attributes:C})||(!F.isEqual(R)&&S.push(new h.a(F,R)),F=O.position),R=O.position,V=O.next()}F&&!F.isEqual(N)&&S.push(new h.a(F,N))}return S};var f=d(37),h=d(3),w=d(1)},function(r,s,d){'use strict';function V(q,z){const $=new L.a({startPosition:q,singleCharacters:!0});let K=0;for(const H of $)if('text'==H.type&&(K++,K==z))return $.position}function F(q){const z=q.split(':');return z[0]+':'+z[1]}s.a=function(q){return(z,$,K,H)=>{const W=q instanceof N.a?q.clone(!0):q($,K,H);if(W&&K.consume($.item,'insert')){const U=H.mapper.toViewPosition($.range.start);H.mapper.bindElements($.item,W),D.a.insert(U,W)}}},s.j=function(){return(q,z,$,K)=>{if($.consume(z.item,'insert')){const H=K.mapper.toViewPosition(z.range.start),W=new I.a(z.item.data);D.a.insert(H,W)}}},s.f=function(q){return(z,$,K,H)=>{let W,U;if((q instanceof N.a?(W=q.clone(!0),U=q.clone(!0)):($.isOpening=!0,W=q($,K,H),$.isOpening=!1,U=q($,K,H)),W&&U)&&K.consume($.range,'addMarker')){const Z=H.mapper;D.a.insert(Z.toViewPosition($.range.start),W),$.range.isCollapsed||D.a.insert(Z.toViewPosition($.range.end),U)}}},s.h=function(q){return q=q||((z,$)=>({value:z,key:$})),(z,$,K,H)=>{if(K.consume($.item,F(z.name))){const{key:W,value:U}=q($.attributeNewValue,$.attributeKey,$,K,H);H.mapper.toViewElement($.item).setAttribute(W,U)}}},s.i=function(q){return q=q||((z,$)=>({key:$})),(z,$,K,H)=>{if(K.consume($.item,F(z.name))){const{key:W}=q($.attributeOldValue,$.attributeKey,$,K,H);H.mapper.toViewElement($.item).removeAttribute(W)}}},s.b=function(q){return(z,$,K,H)=>{const W=q instanceof N.a?q.clone(!0):q($.attributeNewValue,$,K,H);if(!W)return;if(!K.consume($.item,F(z.name)))return;let U=H.mapper.toViewRange($.range);if(null!==$.attributeOldValue&&!(q instanceof N.a)){const Z=q($.attributeOldValue,$,K,H);U=D.a.unwrap(U,Z)}D.a.wrap(U,W)}},s.c=function(q){return(z,$,K,H)=>{const W=q instanceof N.a?q.clone(!0):q($.attributeOldValue,$,K,H);if(W&&K.consume($.item,F(z.name))){const U=H.mapper.toViewRange($.range);D.a.unwrap(U,W)}}},s.d=function(q){return(z,$,K,H)=>{const W=q instanceof N.a?q.clone(!0):q($,K,H);if(W&&K.consume($.range,'addMarker')){const U=H.mapper.toViewRange($.range),Z=D.a.breakViewRangePerContainer(U);for(const G of Z)D.a.wrap(G,W)}}},s.e=function(q){return(z,$,K,H)=>{const W=q instanceof N.a?q.clone(!0):q($,K,H);if(W&&K.consume($.range,'removeMarker')){const U=H.mapper.toViewRange($.range),Z=D.a.breakViewRangePerContainer(U);for(const G of Z)D.a.unwrap(G,W)}}},s.k=function(){return(q,z,$,K)=>{if(!$.consume(z.item,'remove'))return;const H=K.mapper.toViewPosition(z.sourcePosition);let W;if(z.item.is('element'))W=M.a.createOn(H.nodeAfter);else{const U=V(H,z.item.offsetSize);W=new M.a(H,U)}D.a.remove(W.getTrimmed()),'$graveyard'==z.item.root.rootName&&K.mapper.unbindModelElement(z.item)}},s.g=function(q){return(z,$,K,H)=>{let W,U;if((q instanceof N.a?(W=q.clone(!0),U=q.clone(!0)):($.isOpening=!0,W=q($,K,H),$.isOpening=!1,U=q($,K,H)),W&&U)&&K.consume($.range,'removeMarker')){const Z=H.mapper.toViewRange($.range);D.a.clear(Z.getEnlarged(),U),W.isSimilar(U)||D.a.clear(Z.getEnlarged(),W)}}};var N=d(25),I=d(31),M=d(38),L=d(54),D=d(79)},function(r,s,d){'use strict';var u=d(19),f=d(106),h=d(17),w=d(45),C=d(16),T=d(20),P=d(35),S=d(3),E=d(1);class O extends u.a{get type(){return'insert'}get position(){return this._insertOperation?this._insertOperation.position:null}get nodes(){return this._insertOperation?this._insertOperation.nodes:null}get _insertOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return f.a}static get className(){return'engine.model.delta.InsertDelta'}static get _priority(){return 20}}s.a=O,d.i(C.b)('insert',function(V,R){const F=d.i(T.b)(R);if(0===F.length)return this;const N=new O,I=new w.a(V,F,this.document.version);if(this.addDelta(N),N.addOperation(I),this.document.applyOperation(I),R instanceof P.a)for(const[M,L]of R.markers){const D=E.a.createAt(L.root),q=new S.a(L.start._getCombined(D,V),L.end._getCombined(D,V));this.setMarker(M,q)}return this}),h.a.register(O)},function(r,s,d){'use strict';var u=d(19),f=d(17),h=d(107),w=d(16),C=d(1),T=d(5),P=d(46),S=d(30),E=d(0);class O extends u.a{get type(){return'merge'}get position(){return this._removeOperation?this._removeOperation.sourcePosition:null}getReversed(){const V=super.getReversed();return 0<V.operations.length&&(V.operations[1].isSticky=!1),V}get _removeOperation(){return this.operations[1]||null}get _reverseDeltaClass(){return h.a}static get className(){return'engine.model.delta.MergeDelta'}}s.a=O,d.i(w.b)('merge',function(V){const R=new O;this.addDelta(R);const F=V.nodeBefore,N=V.nodeAfter;if(!(F instanceof T.a))throw new E.a('batch-merge-no-element-before: Node before merge position must be an element.');if(!(N instanceof T.a))throw new E.a('batch-merge-no-element-after: Node after merge position must be an element.');const I=C.a.createFromParentAndOffset(N,0),M=C.a.createFromParentAndOffset(F,F.maxOffset),L=new S.a(I,N.maxOffset,M,this.document.version);L.isSticky=!0,R.addOperation(L),this.document.applyOperation(L);const D=new P.a(V,1,this.document.version);return R.addOperation(D),this.document.applyOperation(D),this}),f.a.register(O)},function(r,s,d){'use strict';function u(O,V,R,F,N){const I=new C.a(R,F,N,O.document.version);V.addOperation(I),O.document.applyOperation(I)}var f=d(19),h=d(17),w=d(16),C=d(30),T=d(1),P=d(3),S=d(0);class E extends f.a{get type(){return'move'}get howMany(){return this._moveOperation?this._moveOperation.howMany:null}get sourcePosition(){return this._moveOperation?this._moveOperation.sourcePosition:null}get targetPosition(){return this._moveOperation?this._moveOperation.targetPosition:null}get _moveOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return E}static get className(){return'engine.model.delta.MoveDelta'}static get _priority(){return 20}}s.a=E,d.i(w.b)('move',function(O,V){const R=new E;if(this.addDelta(R),O instanceof P.a){if(!O.isFlat)throw new S.a('batch-move-range-not-flat: Range to move is not flat.');u(this,R,O.start,O.end.offset-O.start.offset,V)}else u(this,R,T.a.createBefore(O),1,V);return this}),h.a.register(E)},function(r,s,d){'use strict';function u(E,O,V,R){const F=new C.a(V,R,E.document.version);O.addOperation(F),E.document.applyOperation(F)}var f=d(105),h=d(16),w=d(17),C=d(46),T=d(1),P=d(3);class S extends f.a{static get className(){return'engine.model.delta.RemoveDelta'}}s.a=S,d.i(h.b)('remove',function(E){const O=new S;if(this.addDelta(O),E instanceof P.a){const V=E.getMinimalFlatRanges().reverse();for(const R of V)u(this,O,R.start,R.end.offset-R.start.offset)}else u(this,O,T.a.createBefore(E),1);return this}),w.a.register(S)},function(r,s,d){'use strict';var u=d(19),f=d(17),h=d(16),w=d(1),C=d(5),T=d(45),P=d(30),S=d(0),E=d(104);class O extends u.a{get type(){return'split'}get position(){return this._moveOperation?this._moveOperation.sourcePosition:null}getReversed(){const V=super.getReversed();return 0<V.operations.length&&(V.operations[0].isSticky=!0),V}get _cloneOperation(){return this.operations[0]||null}get _moveOperation(){return this.operations[1]||null}get _reverseDeltaClass(){return E.a}static get className(){return'engine.model.delta.SplitDelta'}static get _priority(){return 5}}s.a=O,d.i(h.b)('split',function(V){const R=new O;this.addDelta(R);const F=V.parent;if(!F.parent)throw new S.a('batch-split-root: Root element can not be split.');const N=new C.a(F.name,F.getAttributes()),I=new T.a(w.a.createAfter(F),N,this.document.version);R.addOperation(I),this.document.applyOperation(I);const M=new P.a(V,F.maxOffset-V.offset,w.a.createFromParentAndOffset(N,0),this.document.version);return M.isSticky=!0,R.addOperation(M),this.document.applyOperation(M),this}),f.a.register(O)},function(r,s,d){'use strict';function u(V,R){for(const F of R)for(const N of F.operations)N.baseVersion=++V;return R}function f(V,R,F){return!!(V._priority>R._priority)||!(V._priority<R._priority)&&F}function h(V){return V.reduce((R,F)=>{return R+F.operations.length},0)}function w(V,R){const F=V[V.length-1];let N=F.operations.length+F.baseVersion;const I=new C.a;for(let M=0;M<R;M++)I.addOperation(new P.a(N++));V.push(I)}var C=d(19),T=d(358),P=d(76),S=d(518);const E=new Map,O={transform(V,R,F){const N=O.getTransformationCase(V,R)||O.defaultTransform,I=N(V,R,F),M=S.a.last(R.operations).baseVersion;return u(M,I)},defaultTransform(V,R,F){F=f(V.constructor,R.constructor,F);const N=new V.constructor;let I=R.operations,M=[];for(const L of V.operations){const D=[L];for(const q of I)for(let z=0;z<D.length;z++){const $=D[z];Array.prototype.push.apply(M,d.i(T.a)(q,$,!F));const K=d.i(T.a)($,q,F);Array.prototype.splice.apply(D,[z,1].concat(K)),z+=K.length-1}I=M,M=[];for(const q of D)N.addOperation(q)}return[N]},addTransformationCase(V,R,F){let N=E.get(V);N||(N=new Map,E.set(V,N)),N.set(R,F)},getTransformationCase(V,R){let F=E.get(V.constructor);if(!F||!F.get(R.constructor)){const N=E.keys();for(const I of N)if(V instanceof I&&E.get(I).get(R.constructor)){F=E.get(I);break}}return F?F.get(R.constructor):void 0},transformDeltaSets(V,R,F){const N=Array.from(V),I=Array.from(R);for(let D=0;D<N.length;D++){const q=[N[D]];for(let z=0;z<I.length;z++){const $=[I[z]];for(let K=0;K<q.length;K++)for(let H=0;H<$.length;H++){const W=O.transform(q[K],$[H],F),U=O.transform($[H],q[K],!F);q.splice(K,1,...W),K+=W.length-1,$.splice(H,1,...U),H+=U.length-1}I.splice(z,1,...$),z+=$.length-1}N.splice(D,1,...q),D+=q.length-1}const M=h(N)-h(V),L=h(I)-h(R);return L<M?w(I,M-L):M<L&&w(N,L-M),{deltasA:N,deltasB:I}}};s.a=O},function(r,s,d){'use strict';var u=d(19),f=d(17),h=d(110),w=d(16),C=d(1),T=d(46),P=d(30),S=d(0);class E extends u.a{get type(){return'unwrap'}get position(){return this._moveOperation?this._moveOperation.targetPosition:null}get _moveOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return h.a}static get className(){return'engine.model.delta.UnwrapDelta'}static get _priority(){return 10}}s.a=E,d.i(w.b)('unwrap',function(O){if(null===O.parent)throw new S.a('batch-unwrap-element-no-parent: Trying to unwrap an element which has no parent.');const V=new E;this.addDelta(V);const R=C.a.createFromParentAndOffset(O,0),F=new P.a(R,O.maxOffset,C.a.createBefore(O),this.document.version);F.isSticky=!0,V.addOperation(F),this.document.applyOperation(F);const N=new T.a(C.a.createBefore(O),1,this.document.version);return V.addOperation(N),this.document.applyOperation(N),this}),f.a.register(E)},function(r,s,d){'use strict';var u=d(19),f=d(17),h=d(109),w=d(16),C=d(1),T=d(3),P=d(5),S=d(45),E=d(30),O=d(0);class V extends u.a{get type(){return'wrap'}get range(){const R=this._moveOperation;return R?T.a.createFromPositionAndShift(R.sourcePosition,R.howMany):null}get howMany(){const R=this.range;return R?R.end.offset-R.start.offset:0}get _insertOperation(){return this.operations[0]||null}get _moveOperation(){return this.operations[1]||null}get _reverseDeltaClass(){return h.a}static get className(){return'engine.model.delta.WrapDelta'}static get _priority(){return 10}}s.a=V,d.i(w.b)('wrap',function(R,F){if(!R.isFlat)throw new O.a('batch-wrap-range-not-flat: Range to wrap is not flat.');const N=F instanceof P.a?F:new P.a(F);if(0<N.childCount)throw new O.a('batch-wrap-element-not-empty: Element to wrap with is not empty.');if(null!==N.parent)throw new O.a('batch-wrap-element-attached: Element to wrap with is already attached to tree model.');const I=new V;this.addDelta(I);const M=new S.a(R.end,N,this.document.version);I.addOperation(M),this.document.applyOperation(M);const L=C.a.createFromParentAndOffset(N,0),D=new E.a(R.start,R.end.offset-R.start.offset,L,this.document.version);return I.addOperation(D),this.document.applyOperation(D),this}),f.a.register(V)},function(r,s,d){'use strict';function u(){const P=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document,'change',(S,E,O,V,R)=>{P.has(E)&&f.call(this,E,R,O.range,O.sourcePosition)},{priority:'high'})}function f(P,S,E,O){const V=E.end.offset-E.start.offset;let R=E.start;'move'==P&&(R=R._getTransformedByInsertion(O,V));const F=this._getTransformedByDocumentChange(P,S,R,V,O);'move'==P&&3==F.length&&(F[2]=E);const N=h.a.createFromRanges(F);if(!N.isEqual(this)){const I=h.a.createFromRange(this);this.start=N.start,this.end=N.end,this.fire('change',I)}}var h=d(3),w=d(7),C=d(4);class T extends h.a{constructor(P,S){super(P,S),u.call(this)}detach(){this.stopListening()}}s.a=T,d.i(C.a)(T,w.a)},function(r,s,d){'use strict';var u=d(36),f=d(3);class h extends u.a{constructor(w,C,T,P,S){super(S),this.name=w,this.oldRange=C?f.a.createFromRange(C):null,this.newRange=T?f.a.createFromRange(T):null,this._markers=P}get type(){return'marker'}clone(){return new h(this.name,this.oldRange,this.newRange,this._markers,this.baseVersion)}getReversed(){return new h(this.name,this.newRange,this.oldRange,this._markers,this.baseVersion+1)}_execute(){const w=this.newRange?'set':'remove';return this._markers[w](this.name,this.newRange),{name:this.name,type:w}}toJSON(){const w=super.toJSON();return delete w._markers,w}static get className(){return'engine.model.operation.MarkerOperation'}static fromJSON(w,C){return new h(w.name,w.oldRange?f.a.fromJSON(w.oldRange,C):null,w.newRange?f.a.fromJSON(w.newRange,C):null,C.markers,w.baseVersion)}}s.a=h},function(r,s,d){'use strict';var u=d(30),f=d(46);class h extends u.a{get position(){return this.targetPosition}set position(w){this.targetPosition=w}get type(){return'reinsert'}getReversed(){const w=new f.a(this.targetPosition,this.howMany,this.baseVersion+1);return w.targetPosition=this.sourcePosition,w._needsHolderElement=!1,w}static get className(){return'engine.model.operation.ReinsertOperation'}}s.a=h},function(r,s,d){'use strict';var u=d(36),f=d(5),h=d(0),w=d(1);class C extends u.a{constructor(T,P,S,E){super(E),this.position=T,this.oldName=P,this.newName=S}get type(){return'rename'}clone(){return new C(w.a.createFromPosition(this.position),this.oldName,this.newName,this.baseVersion)}getReversed(){return new C(w.a.createFromPosition(this.position),this.newName,this.oldName,this.baseVersion+1)}_execute(){const T=this.position.nodeAfter;if(!(T instanceof f.a))throw new h.a('rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.');else if(T.name!==this.oldName)throw new h.a('rename-operation-wrong-name: Element to change has different name than operation\'s old name.');return this.oldName==this.newName?void 0:(T.name=this.newName,{element:T,oldName:this.oldName})}static get className(){return'engine.model.operation.RenameOperation'}static fromJSON(T,P){return new C(w.a.fromJSON(T.position,P),T.oldName,T.newName,T.baseVersion)}}s.a=C},function(r,s,d){'use strict';var u=d(36),f=d(0);class h extends u.a{constructor(w,C,T,P,S){super(S),this.root=w,this.key=C,this.oldValue=T,this.newValue=P}get type(){return null===this.oldValue?'addRootAttribute':null===this.newValue?'removeRootAttribute':'changeRootAttribute'}clone(){return new h(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new h(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_execute(){if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new f.a('rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation\\\'s old attribute value.',{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new f.a('rootattribute-operation-attribute-exists: The attribute with given key already exists.',{root:this.root,key:this.key});return null===this.newValue?this.root.removeAttribute(this.key):this.root.setAttribute(this.key,this.newValue),{root:this.root,key:this.key,oldValue:this.oldValue,newValue:this.newValue}}static get className(){return'engine.model.operation.RootAttributeOperation'}static fromJSON(w,C){if(!C.hasRoot(w.root))throw new f.a('rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.',{rootName:w});return new h(C.getRoot(w.root),w.key,w.oldValue,w.newValue,w.baseVersion)}}s.a=h},function(r,s,d){'use strict';function u(){if(this.childCount)return null;let C=this.parent;for(;C&&C.is('attributeElement');){if(1<C.childCount)return null;C=C.parent}return!C||1<C.childCount?null:0}var f=d(25);const h=10;class w extends f.a{constructor(C,T,P){super(C,T,P),this.priority=h,this.getFillerOffset=u}is(C,T=null){return T?'attributeElement'==C&&T==this.name||super.is(C,T):'attributeElement'==C||super.is(C)}clone(C){const T=super.clone(C);return T.priority=this.priority,T}isSimilar(C){return super.isSimilar(C)&&this.priority==C.priority}}s.a=w,w.DEFAULT_PRIORITY=h},function(r,s,d){'use strict';function u(P){return'string'==typeof P?[new f.a(P)]:(d.i(w.a)(P)||(P=[P]),Array.from(P).map((S)=>{return'string'==typeof S?new f.a(S):S}))}var f=d(31),h=d(4),w=d(48),C=d(7);class T{constructor(P){this._children=[],P&&this.insertChildren(0,P)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(P){return'documentFragment'==P}appendChildren(P){return this.insertChildren(this.childCount,P)}getChild(P){return this._children[P]}getChildIndex(P){return this._children.indexOf(P)}getChildren(){return this._children[Symbol.iterator]()}insertChildren(P,S){this._fireChange('children',this);let E=0;S=u(S);for(const O of S)O.parent=this,this._children.splice(P,0,O),P++,E++;return E}removeChildren(P,S=1){this._fireChange('children',this);for(let E=P;E<P+S;E++)this._children[E].parent=null;return this._children.splice(P,S)}_fireChange(P,S){this.fire('change:'+P,S)}}s.a=T,d.i(h.a)(T,C.a)},function(r,s,d){'use strict';var u=d(50);class f{constructor(h,w,C){this.document=h,this.domEvent=w,this.domTarget=w.target,d.i(u.a)(this,C)}get target(){return this.document.domConverter.getCorrespondingViewElement(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}s.a=f},function(r,s,d){'use strict';function u(w){return!!(w.focus&&'none'!=f.a.window.getComputedStyle(w.element).display)}var f=d(40);class h{constructor(w){if(Object.assign(this,w),w.actions&&w.keystrokeHandler)for(const C in w.actions){let T=w.actions[C];'string'==typeof T&&(T=[T]);for(const P of T)w.keystrokeHandler.set(P,(S,E)=>{this[C](),E()})}}get first(){return this.focusables.find(u)||null}get last(){return this.focusables.filter(u).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let w=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((C,T)=>{const P=C.element===this.focusTracker.focusedElement;return P&&(w=T),P}),w)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(w){w&&w.focus()}_getFocusableItem(w){const C=this.current,T=this.focusables.length;if(!T)return null;if(null===C)return this[1===w?'first':'last'];let P=(C+T+w)%T;do{const S=this.focusables.get(P);if(u(S))return S;P=(P+T+w)%T}while(P!==C);return null}}s.a=h},function(r,s,d){'use strict';function u(P){return P.every((S)=>'string'==typeof S)}var f=d(0),h=d(33),w=d(80),C=d(4);class T extends w.a{constructor(P){super({idProperty:'viewUid'}),this.on('add',(S,E,O)=>{E.element&&this._parentElement&&this._parentElement.insertBefore(E.element,this._parentElement.children[O])}),this.on('remove',(S,E)=>{E.element&&this._parentElement&&E.element.remove()}),this.locale=P,this.set('ready',!1),this._parentElement=null,this._addPromises=new Set}init(){if(this.ready)throw new f.a('ui-viewcollection-init-reinit: This ViewCollection has already been initialized.');return Promise.all(this.map((P)=>P.init())).then(()=>{this.ready=!0})}destroy(){return Promise.all(this._addPromises).then(()=>{return Promise.all(this.map((P)=>P.destroy()))})}add(P,S){super.add(P,S);let E=Promise.resolve();return this.ready&&!P.ready&&(E=E.then(()=>P.init()).then(()=>this._addPromises.delete(E)),this._addPromises.add(E)),E}setParent(P){this._parentElement=P}delegate(...P){if(!P.length||!u(P))throw new f.a('ui-viewcollection-delegate-wrong-events: All event names must be strings.');return{to:(S)=>{for(const E of this)for(const O of P)E.delegate(O).to(S);this.on('add',(E,O)=>{for(const V of P)O.delegate(V).to(S)}),this.on('remove',(E,O)=>{for(const V of P)O.stopDelegating(V,S)})}}}}s.a=T,d.i(C.a)(w.a,h.a)},function(r,s,d){'use strict';function u(P){var S=-1,E=P?P.length:0;for(this.clear();++S<E;){var O=P[S];this.set(O[0],O[1])}}var f=d(502),h=d(503),w=d(504),C=d(505),T=d(506);u.prototype.clear=f.a,u.prototype['delete']=h.a,u.prototype.get=w.a,u.prototype.has=C.a,u.prototype.set=T.a,s.a=u},function(r,s,d){'use strict';function u(S){this.__data__=new f.a(S)}var f=d(82),h=d(511),w=d(512),C=d(513),T=d(514),P=d(515);u.prototype.clear=h.a,u.prototype['delete']=w.a,u.prototype.get=C.a,u.prototype.has=T.a,u.prototype.set=P.a,s.a=u},function(r,s,d){'use strict';var u=d(32),f=u.a.Symbol;s.a=f},function(r,s,d){'use strict';var f=d(127);s.a=function(h,w){return!!h.length&&-1<d.i(f.a)(h,w,0)}},function(r,s){'use strict';s.a=function(f,h,w){for(var C=-1,T=f.length;++C<T;)if(w(h,f[C]))return!0;return!1}},function(r,s,d){'use strict';var f=d(89),h=d(56),w=d(57);s.a=function(C,T){T=d.i(h.a)(T,C)?[T]:d.i(f.a)(T);for(var P=0,S=T.length;null!=C&&P<S;)C=C[d.i(w.a)(T[P++])];return P&&P==S?C:void 0}},function(r,s,d){'use strict';var f=d(205);s.a=function(h,w,C){if(w!==w)return d.i(f.a)(h,C);for(var T=C-1,P=h.length;++T<P;)if(h[T]===w)return T;return-1}},function(r,s,d){'use strict';var f=d(83),h=d(124),w=d(125),C=d(27),T=d(133),P=d(135);s.a=function(E,O,V){for(var R=V?w.a:h.a,F=E[0].length,N=E.length,I=N,M=Array(N),L=Infinity,D=[],q;I--;)q=E[I],I&&O&&(q=d.i(C.a)(q,d.i(T.a)(O))),L=_Mathmin(q.length,L),M[I]=!V&&(O||120<=F&&120<=q.length)?new f.a(I&&q):void 0;q=E[0];var z=-1,$=M[0];outer:for(;++z<F&&D.length<L;){var K=q[z],H=O?O(K):K;if(K=V||0!==K?K:0,$?!d.i(P.a)($,H):!R(D,H,V)){for(I=N;--I;){var W=M[I];if(W?!d.i(P.a)(W,H):!R(E[I],H,V))continue outer}$&&$.push(H),D.push(K)}}return D}},function(r,s,d){'use strict';function u(C,T,P,S,E){return!(C!==T)||(null!=C&&null!=T&&(d.i(h.a)(C)||d.i(w.a)(T))?d.i(f.a)(C,T,u,P,S,E):C!==C&&T!==T)}var f=d(456),h=d(14),w=d(51);s.a=u},function(r,s){'use strict';s.a=function(f){return function(h){return null==h?void 0:h[f]}}},function(r,s,d){'use strict';var f=d(27),h=d(127),w=d(455),C=d(133),T=Array.prototype,P=T.splice;s.a=function(S,E,O,V){var R=V?w.a:h.a,F=-1,N=E.length,I=S;for(O&&(I=d.i(f.a)(S,d.i(C.a)(O)));++F<N;)for(var M=0,L=E[F],D=O?O(L):L;-1<(M=R(I,D,M,V));)I!==S&&P.call(I,M,1),P.call(S,M,1);return S}},function(r,s,d){'use strict';var f=d(52);s.a=function(P,S,E,O){S=E(S);for(var V=0,R=P?P.length:0,F=S!==S,N=null===S,I=d.i(f.a)(S),M=void 0===S;V<R;){var L=_Mathfloor((V+R)/2),D=E(P[L]),q=D!==void 0,z=null===D,$=D===D,K=d.i(f.a)(D);if(F)var H=O||$;else H=M?$&&(O||q):N?$&&q&&(O||!z):I?$&&q&&!z&&(O||!K):z||K?!1:O?D<=S:D<S;H?V=L+1:R=L}return _Mathmin(R,4294967295-1)}},function(r,s){'use strict';s.a=function(f){return function(h){return f(h)}}},function(r,s,d){'use strict';var f=d(85),h=d(70),w=d(49);s.a=function(C,T,P){for(var S=-1,E=C.length,O;++S<E;)O=O?d.i(f.a)(d.i(h.a)(O,C[S],T,P),d.i(h.a)(C[S],O,T,P)):C[S];return O&&O.length?d.i(w.a)(O,T,P):[]}},function(r,s){'use strict';s.a=function(f,h){return f.has(h)}},function(r,s,d){'use strict';var f=d(13);s.a=function(h){return d.i(f.a)(h)?h:[]}},function(r,s,d){'use strict';var f=d(191);s.a=function(h){var w=new h.constructor(h.byteLength);return new f.a(w).set(new f.a(h)),w}},function(r,s,d){'use strict';var f=d(69);s.a=function(h,w,C,T){C||(C={});for(var P=-1,S=w.length;++P<S;){var E=w[P],O=T?T(C[E],h[E],E,C,h):h[E];d.i(f.a)(C,E,O)}return C}},function(r,s){'use strict';var f=Object.getPrototypeOf;s.a=function(h){return f(Object(h))}},function(r,s,d){'use strict';function u($){return I.call($)}var f=d(439),h=d(189),w=d(441),C=d(190),T=d(443),P=d(208),S='[object Map]',O='[object Promise]',V='[object Set]',R='[object WeakMap]',F='[object DataView]',N=Object.prototype,I=N.toString,M=d.i(P.a)(f.a),L=d.i(P.a)(h.a),D=d.i(P.a)(w.a),q=d.i(P.a)(C.a),z=d.i(P.a)(T.a);(f.a&&u(new f.a(new ArrayBuffer(1)))!=F||h.a&&u(new h.a)!=S||w.a&&u(w.a.resolve())!=O||C.a&&u(new C.a)!=V||T.a&&u(new T.a)!=R)&&(u=function($){var K=I.call($),H=K=='[object Object]'?$.constructor:void 0,W=H?d.i(P.a)(H):void 0;if(W)switch(W){case M:return F;case L:return S;case D:return O;case q:return V;case z:return R;}return K}),s.a=u},function(r,s){'use strict';s.a=function(f){var h=-1,w=Array(f.size);return f.forEach(function(C,T){w[++h]=[T,C]}),w}},function(r,s,d){'use strict';var f=d(14),h=d(529),w=d(257);s.a=function(S,E,O){function V(Y){var X=z,ee=$;return z=$=void 0,Z=Y,H=S.apply(ee,X),H}function R(Y){return Z=Y,W=setTimeout(I,E),G?V(Y):H}function F(Y){var X=Y-U,ee=Y-Z,te=E-X;return J?_Mathmin(te,K-ee):te}function N(Y){var X=Y-U,ee=Y-Z;return!U||X>=E||0>X||J&&ee>=K}function I(){var Y=d.i(h.a)();return N(Y)?M(Y):void(W=setTimeout(I,F(Y)))}function M(Y){return(clearTimeout(W),W=void 0,Q&&z)?V(Y):(z=$=void 0,H)}function q(){var Y=d.i(h.a)(),X=N(Y);if(z=arguments,$=this,U=Y,X){if(void 0===W)return R(U);if(J)return clearTimeout(W),W=setTimeout(I,E),V(U)}return void 0===W&&(W=setTimeout(I,E)),H}var U=0,Z=0,G=!1,J=!1,Q=!0,z,$,K,H,W;if('function'!=typeof S)throw new TypeError('Expected a function');return E=d.i(w.a)(E)||0,d.i(f.a)(O)&&(G=!!O.leading,J='maxWait'in O,K=J?_Mathmax(d.i(w.a)(O.maxWait)||0,E):K,Q='trailing'in O?!!O.trailing:Q),q.cancel=function(){void 0!==W&&clearTimeout(W),U=Z=0,z=$=W=void 0},q.flush=function(){return void 0===W?H:M(d.i(h.a)())},q}},function(r,s,d){'use strict';var f=d(41),h=d(15);s.a=function(w,C,T){var P=w?w.length:0;return P?(C=T||void 0===C?1:d.i(h.a)(C),d.i(f.a)(w,0>C?0:C,P)):[]}},function(r,s,d){'use strict';var f=d(41),h=d(15);s.a=function(w,C,T){var P=w?w.length:0;return P?(C=T||void 0===C?1:d.i(h.a)(C),C=P-C,d.i(f.a)(w,0,0>C?0:C)):[]}},function(r,s){'use strict';s.a=function(f){return f&&f.length?f[0]:void 0}},function(r,s,d){'use strict';var f=d(13),w=Object.prototype,C=w.hasOwnProperty,T=w.toString,P=w.propertyIsEnumerable;s.a=function(S){return d.i(f.a)(S)&&C.call(S,'callee')&&(!P.call(S,'callee')||T.call(S)=='[object Arguments]')}},function(r,s,d){'use strict';var f=d(14),C=Object.prototype,T=C.toString;s.a=function(P){var S=d.i(f.a)(P)?T.call(P):'';return S=='[object Function]'||S=='[object GeneratorFunction]'}},function(r,s,d){'use strict';var f=d(12),h=d(51),C=Object.prototype,T=C.toString;s.a=function(P){return'string'==typeof P||!d.i(f.a)(P)&&d.i(h.a)(P)&&T.call(P)=='[object String]'}},function(r,s,d){'use strict';var f=d(131);s.a=function(h,w){return h&&h.length&&w&&w.length?d.i(f.a)(h,w):h}},function(r,s,d){'use strict';var f=d(192),h=d(27),w=d(100);s.a=function(C,T){if(!(C&&C.length))return[];var P=d.i(w.a)(C);return null==T?P:d.i(h.a)(P,function(S){return d.i(f.a)(T,void 0,S)})}},function(r,s,d){'use strict';s.a=function(w){return d.i(f.a)(w)?d.i(h.a)(w):new Map(w)};var f=d(99),h=d(272)},function(r,s){'use strict';function h(V,R){V.setCustomProperty(S,R)}function T(){return null}s.b=function(V){return!!V.getCustomProperty(P)},s.a=function(V,R){return R=R||{},V.setAttribute('contenteditable',!1),V.getFillerOffset=T,V.addClass(E),V.setCustomProperty(P,!0),R.label&&h(V,R.label),V},s.e=function(V){const R=V.getCustomProperty(S);return R?'function'==typeof R?R():R:''},s.c=function(V){return V.setAttribute('contenteditable','true'),V.addClass('ck-editable'),V.on('change:isFocused',(R,F,N)=>{N?V.addClass('ck-editable_focused'):V.removeClass('ck-editable_focused')}),V};const P=Symbol('isWidget'),S=Symbol('label'),E='ck-widget';s.d='ck-widget_selected'},function(r,s,d){'use strict';var u=d(6),f=d(2),h=d(182),w=d(39),C=d(172);class T extends f.a{static get pluginName(){return'image/imagetoolbar'}constructor(P){super(P),this.isEnabled=!0}afterInit(){const P=this.editor,S=P.config.get('image.toolbar');if(S&&S.length){const E=this._panel=new C.a(P),O=[],V=new h.a;return u.a.extend(V.template,{attributes:{class:'ck-editor-toolbar'}}),u.a.extend(E.template,{attributes:{class:['ck-toolbar-container','ck-editor-toolbar-container']}}),O.push(E.content.add(V)),O.push(V.fillFromConfig(S,P.ui.componentFactory)),O.push(P.ui.view.body.add(E)),this.listenTo(this.editor.editing.view,'render',()=>{this.isEnabled&&this.show()},{priority:'low'}),this.listenTo(P.ui.focusTracker,'change:isFocused',(R,F,N,I)=>{!I&&N&&this.isEnabled&&this.show()}),Promise.all(O)}}show(){const P=this.editor.editing.view.selection.getSelectedElement();P&&d.i(w.a)(P)&&this._panel.attach()}hide(){this._panel.detach()}}s.a=T},function(r){r.exports=function(d){if(!d.webpackPolyfill){var u=Object.create(d);u.children||(u.children=[]),Object.defineProperty(u,'loaded',{enumerable:!0,get:function(){return u.l}}),Object.defineProperty(u,'id',{enumerable:!0,get:function(){return u.i}}),Object.defineProperty(u,'exports',{enumerable:!0}),u.webpackPolyfill=1}return u}},function(r,s,d){'use strict';s.a=function(h,w,C){if(w.isCollapsed)return C.check({name:'$text',inside:w.getFirstPosition(),attributes:h});const T=w.getRanges();for(const P of T){const S=new f.a({boundaries:P,mergeCharacters:!0});for(let E=S.position,O=S.next();!O.done;){const V=O.value.item.name||'$text';if(C.check({name:V,inside:E,attributes:h}))return!0;E=S.position,O=S.next()}}return!1};var f=d(37)},function(r,s,d){'use strict';var u=d(11),f=d(101),h=d(155);class w extends u.a{constructor(C,T){super(C),this.attributeKey=T,this.set('value',!1),this.listenTo(C.document,'changesDone',()=>{this.refreshValue(),this.refreshState()})}refreshValue(){this.value=this.editor.document.selection.hasAttribute(this.attributeKey)}_checkEnabled(){const C=this.editor.document;return d.i(h.a)(this.attributeKey,C.selection,C.schema)}_doExecute(C={}){const T=this.editor.document,P=T.selection,S=C.forceValue===void 0?!this.value:C.forceValue;T.enqueueChanges(()=>{if(P.isCollapsed)S?P.setAttribute(this.attributeKey,!0):P.removeAttribute(this.attributeKey);else{const E=d.i(f.a)(this.attributeKey,P.getRanges(),T.schema),O=C.batch||T.batch();for(const V of E)S?O.setAttribute(V,this.attributeKey,S):O.removeAttribute(V,this.attributeKey)}})}}s.a=w},function(r,s,d){'use strict';var u=d(1),f=d(3),h=d(26),w=d(38),C=d(31),T=d(7),P=d(4);class S{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this.on('modelToViewPosition',(E,O)=>{if(!O.viewPosition){const V=this._modelToViewMapping.get(O.modelPosition.parent);O.viewPosition=this._findPositionIn(V,O.modelPosition.offset)}},{priority:'low'}),this.on('viewToModelPosition',(E,O)=>{if(O.modelPosition)return;let V=O.viewPosition.parent,R=this._viewToModelMapping.get(V);for(;!R;)V=V.parent,R=this._viewToModelMapping.get(V);const F=this._toModelOffset(O.viewPosition.parent,O.viewPosition.offset,V);O.modelPosition=u.a.createFromParentAndOffset(R,F)},{priority:'low'})}bindElements(E,O){this._modelToViewMapping.set(E,O),this._viewToModelMapping.set(O,E)}unbindViewElement(E){const O=this.toModelElement(E);this._unbindElements(O,E)}unbindModelElement(E){const O=this.toViewElement(E);this._unbindElements(E,O)}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap}toModelElement(E){return this._viewToModelMapping.get(E)}toViewElement(E){return this._modelToViewMapping.get(E)}toModelRange(E){return new f.a(this.toModelPosition(E.start),this.toModelPosition(E.end))}toViewRange(E){return new w.a(this.toViewPosition(E.start),this.toViewPosition(E.end))}toModelPosition(E){const O={viewPosition:E,mapper:this};return this.fire('viewToModelPosition',O),O.modelPosition}toViewPosition(E){const O={modelPosition:E,mapper:this};return this.fire('modelToViewPosition',O),O.viewPosition}registerViewToModelLength(E,O){this._viewToModelLengthCallbacks.set(E,O)}_toModelOffset(E,O,V){if(V!=E){const F=this._toModelOffset(E.parent,E.index,V),N=this._toModelOffset(E,O,E);return F+N}if(E.is('text'))return O;let R=0;for(let F=0;F<O;F++)R+=this.getModelLength(E.getChild(F));return R}_unbindElements(E,O){this._viewToModelMapping.delete(O),this._modelToViewMapping.delete(E)}getModelLength(E){if(this._viewToModelLengthCallbacks.get(E.name)){const O=this._viewToModelLengthCallbacks.get(E.name);return O(E)}if(this._viewToModelMapping.has(E))return 1;if(E.is('text'))return E.data.length;if(E.is('uiElement'))return 0;let O=0;for(const V of E.getChildren())O+=this.getModelLength(V);return O}_findPositionIn(E,O){let V,R=0,F=0,N=0;if(E.is('text'))return new h.a(E,O);for(;F<O;)V=E.getChild(N),R=this.getModelLength(V),F+=R,N++;return F==O?this._moveViewPositionToTextNode(new h.a(E,N)):this._findPositionIn(V,O-(F-R))}_moveViewPositionToTextNode(E){const O=E.nodeBefore,V=E.nodeAfter;if(O instanceof C.a)return new h.a(O,O.data.length);return V instanceof C.a?new h.a(V,0):E}}s.a=S,d.i(P.a)(S,T.a)},function(r,s,d){'use strict';function C(V,R,F,N,I){if(!V.isCollapsed)return;if(!N.consume(V,I))return;let M=R.getFirstPosition();M=O.a.wrapPosition(M,F),R.removeAllRanges(),R.addRange(new E.a(M,M))}s.e=function(){return(V,R,F,N)=>{const I=R.selection;if(!I.isCollapsed&&F.consume(I,'selection')){N.viewSelection.removeAllRanges();for(const M of I.getRanges()){const L=N.mapper.toViewRange(M);N.viewSelection.addRange(L,I.isBackward)}}}},s.f=function(){return(V,R,F,N)=>{const I=R.selection;if(I.isCollapsed&&F.consume(I,'selection')){const M=I.getFirstPosition(),L=N.mapper.toViewPosition(M),D=O.a.breakAttributes(L);N.viewSelection.removeAllRanges(),N.viewSelection.addRange(new E.a(D,D))}}},s.a=function(V){return(R,F,N,I)=>{const M=V instanceof S.a?V.clone(!0):V(F.value,F,F.selection,N,I);if(M){const L='selectionAttribute:'+F.key;C(F.selection,I.viewSelection,M,N,L)}}},s.b=function(V){return(R,F,N,I)=>{const M=V instanceof S.a?V.clone(!0):V(F,N,I);if(M){const L='selectionMarker:'+F.name;C(F.selection,I.viewSelection,M,N,L)}}},s.c=function(){return(V,R,F,N)=>{for(const I of N.viewSelection.getRanges())I.isCollapsed&&I.end.parent.document&&O.a.mergeAttributes(I.start);N.viewSelection.removeAllRanges()}},s.d=function(){return(V,R,F,N)=>N.viewSelection.setFake(!1)};var S=d(25),E=d(38),O=d(79)},function(r,s,d){'use strict';var u=d(344),f=d(3),h=d(1),w=d(35),C=d(7),T=d(4),P=d(50);class S{constructor(E,O={}){this._modelDocument=E,this.conversionApi=d.i(P.a)({dispatcher:this},O)}convertChange(E,O){'remove'!==E&&O.range&&'$graveyard'==O.range.root.rootName||'remove'==E&&'$graveyard'==O.sourcePosition.root.rootName||'rename'==E&&'$graveyard'==O.element.root.rootName||('insert'==E||'reinsert'==E?this.convertInsertion(O.range):'move'==E?this.convertMove(O.sourcePosition,O.range):'remove'==E?this.convertRemove(O.sourcePosition,O.range):'addAttribute'==E||'removeAttribute'==E||'changeAttribute'==E?this.convertAttribute(E,O.range,O.key,O.oldValue,O.newValue):'rename'==E&&this.convertRename(O.element,O.oldName))}convertInsertion(E){const O=this._createInsertConsumable(E);for(const V of E){const R=V.item,F=f.a.createFromPositionAndShift(V.previousPosition,V.length),N={item:R,range:F};this._testAndFire('insert',N,O);for(const I of R.getAttributeKeys())N.attributeKey=I,N.attributeOldValue=null,N.attributeNewValue=R.getAttribute(I),this._testAndFire(`addAttribute:${I}`,N,O)}for(const V of this._modelDocument.markers){const R=V.getRange();R.containsPosition(E.start)&&this.convertMarker('addMarker',V.name,R.getIntersection(E)),(E.containsRange(R)||E.isEqual(R))&&this.convertMarker('addMarker',V.name,R)}}convertMove(E,O){if(O.start.isBefore(E)){this.convertInsertion(O);const V=E._getTransformedByInsertion(O.start,O.end.offset-O.start.offset);this.convertRemove(V,O)}else this.convertRemove(E,O),this.convertInsertion(O)}convertRemove(E,O){const V=this._createConsumableForRange(O,'remove');for(const R of O.getItems({shallow:!0})){this._testAndFire('remove',{sourcePosition:E,item:R},V)}}convertAttribute(E,O,V,R,F){const N=this._createConsumableForRange(O,E+':'+V);for(const I of O){const M=I.item,L=f.a.createFromPositionAndShift(I.previousPosition,I.length);this._testAndFire(`${E}:${V}`,{item:M,range:L,attributeKey:V,attributeOldValue:R,attributeNewValue:F},N)}}convertRename(E,O){const V=E.clone(!0);V.name=O,this.conversionApi.mapper.bindElements(V,this.conversionApi.mapper.toViewElement(E));const R=new w.a;R.appendChildren(V),this.convertRemove(h.a.createBefore(E),f.a.createOn(V)),this.convertInsertion(f.a.createOn(E))}convertSelection(E){const O=Array.from(this._modelDocument.markers.getMarkersAtPosition(E.getFirstPosition())),V=this._createSelectionConsumable(E,O);this.fire('selection',{selection:E},V,this.conversionApi);for(const R of O){const F={selection:E,name:R.name};V.test(E,'selectionMarker:'+R.name)&&this.fire('selectionMarker:'+R.name,F,V,this.conversionApi)}for(const R of E.getAttributeKeys()){const F={selection:E,key:R,value:E.getAttribute(R)};V.test(E,'selectionAttribute:'+F.key)&&this.fire('selectionAttribute:'+F.key,F,V,this.conversionApi)}}convertMarker(E,O,V){if(V.root.document&&'$graveyard'!=V.root.rootName){const R=this._createMarkerConsumable(E,V);this.fire(E+':'+O,{name:O,range:V},R,this.conversionApi)}}_createInsertConsumable(E){const O=new u.a;for(const V of E){const R=V.item;O.add(R,'insert');for(const F of R.getAttributeKeys())O.add(R,'addAttribute:'+F)}return O}_createConsumableForRange(E,O){const V=new u.a;for(const R of E.getItems())V.add(R,O);return V}_createSelectionConsumable(E,O){const V=new u.a;V.add(E,'selection');for(const R of O)V.add(E,'selectionMarker:'+R.name);for(const R of E.getAttributeKeys())V.add(E,'selectionAttribute:'+R);return V}_createMarkerConsumable(E,O){const V=new u.a;return V.add(O,E),V}_testAndFire(E,O,V){if(V.test(O.item,E)){const R=O.item.name||'$text';this.fire(E+':'+R,O,V,this.conversionApi)}}}s.a=S,d.i(T.a)(S,C.a)},function(r,s,d){'use strict';var u=d(349),f=d(165),h=d(62);s.a=class{constructor(){this._domParser=new DOMParser,this._domConverter=new f.a({blockFiller:h.a}),this._htmlWriter=new u.a}toData(C){const T=this._domConverter.viewToDom(C,document);return this._htmlWriter.getHtml(T)}toView(C){const T=this._toDom(C);return this._domConverter.domToView(T)}_toDom(C){const T=this._domParser.parseFromString(C,'text/html'),P=T.createDocumentFragment(),S=T.body.childNodes;for(;0<S.length;)P.appendChild(S[0]);return P}}},function(r,s,d){'use strict';function u(F,N,I,M){M instanceof O.a?h(F,F.document,N,I,M):f(F,F.document,N,I,M)}function f(F,N,I,M,L){const D=L.getAttribute(I);let q,z;const $=L.is('rootElement')?new R:new V;D!=M&&(F.addDelta($),L.is('rootElement')?z=new S.a(L,I,D,M,N.version):(q=L.is('element')?new O.a(E.a.createBefore(L),E.a.createFromParentAndOffset(L,0)):new O.a(E.a.createBefore(L),E.a.createAfter(L)),z=new P.a(q,I,D,M,N.version)),$.addOperation(z),N.applyOperation(z))}function h(F,N,I,M,L){function D(){0===q.operations.length&&F.addDelta(q);const W=new O.a(z,$),U=new P.a(W,I,K,M,N.version);q.addOperation(U),N.applyOperation(U)}const q=new V;let z=L.start,$,K,H;for(const W of L)H=W.item.getAttribute(I),$&&K!=H&&(K!=M&&D(),z=$),$=W.nextPosition,K=H;$ instanceof E.a&&$!=z&&K!=M&&D()}var w=d(19),C=d(17),T=d(16),P=d(75),S=d(115),E=d(1),O=d(3);class V extends w.a{get type(){return'attribute'}get key(){return this.operations[0]?this.operations[0].key:null}get value(){return this.operations[0]?this.operations[0].newValue:null}get range(){if(this._range)return this._range;let F=null,N=null;for(const I of this.operations)(null==F||F.isAfter(I.range.start))&&(F=I.range.start),(null==N||N.isBefore(I.range.end))&&(N=I.range.end);return F&&N?(this._range=new O.a(F,N),this._range):null}get _reverseDeltaClass(){return V}toJSON(){const F=super.toJSON();return delete F._range,F}static get className(){return'engine.model.delta.AttributeDelta'}static get _priority(){return 20}}s.a=V;class R extends w.a{static get className(){return'engine.model.delta.RootAttributeDelta'}}d.i(T.b)('setAttribute',function(F,N,I){return u(this,N,I,F),this}),d.i(T.b)('removeAttribute',function(F,N){return u(this,N,null,F),this}),C.a.register(V),C.a.register(R)},function(r,s,d){'use strict';function u(O,V,R){V.addOperation(R),O.document.applyOperation(R)}var f=d(19),h=d(17),w=d(16),C=d(114),T=d(5),P=d(1),S=d(0);class E extends f.a{get type(){return'rename'}get _reverseDeltaClass(){return E}static get className(){return'engine.model.delta.RenameDelta'}}s.a=E,d.i(w.b)('rename',function(O,V){if(!(O instanceof T.a))throw new S.a('batch-rename-not-element-instance: Trying to rename an object which is not an instance of Element.');const R=new E;this.addDelta(R);const F=new C.a(P.a.createBefore(O),O.name,V,this.document.version);return u(this,R,F),this}),h.a.register(E)},function(r,s,d){'use strict';var u=d(103),f=d(16),h=d(17),w=d(45),C=d(20);class T extends u.a{static get className(){return'engine.model.delta.WeakInsertDelta'}}s.a=T,d.i(f.b)('weakInsert',function(P,S){const E=new T;this.addDelta(E),S=d.i(C.b)(S);for(const V of S)V.setAttributesTo(this.document.selection.getAttributes());const O=new w.a(P,S,this.document.version);return E.addOperation(O),this.document.applyOperation(O),this}),h.a.register(T)},function(r,s,d){'use strict';function u(){const E=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document,'change',(O,V,R)=>{E.has(V)&&f.call(this,V,R.range,R.sourcePosition)},{priority:'high'})}function f(E,O,V){const R=O.end.offset-O.start.offset;let F;switch(E){case'insert':const N='sticksToNext'==this.stickiness;F=this._getTransformedByInsertion(O.start,R,N);break;case'move':case'remove':case'reinsert':const I=w.a.createFromPositionAndShift(V,R),M=I.containsPosition(this)||I.start.isEqual(this)&&'sticksToNext'==this.stickiness||I.end.isEqual(this)&&'sticksToPrevious'==this.stickiness;if(M)F=this._getCombined(V,O.start);else{const L='sticksToNext'==this.stickiness;F=this._getTransformedByMove(V,O.start,R,L)}}if(!this.isEqual(F)){const N=h.a.createFromPosition(this);this.path=F.path,this.root=F.root,this.fire('change',N)}}var h=d(1),w=d(3),C=d(7),T=d(4),P=d(0);class S extends h.a{constructor(E,O,V){if(super(E,O),!this.root.is('rootElement'))throw new P.a('model-liveposition-root-not-rootelement: LivePosition root has to be an instance of RootElement.');this.stickiness=V||'sticksToNext',u.call(this)}detach(){this.stopListening()}}s.a=S,d.i(T.a)(S,C.a)},function(r,s,d){'use strict';function u(M,L,D){let q=d.i(F.a)(M);return D&&(q=q.slice(q.indexOf(D)+1)),q.some((z)=>z.tagName&&L.includes(z.tagName.toLowerCase()))}function f(M,L){for(;M&&M!=V.a.document;)L(M),M=M.parentNode}var h=d(31),w=d(25),C=d(26),T=d(38),P=d(64),S=d(117),E=d(54),O=d(62),V=d(40),R=d(430),F=d(186),N=d(427);s.a=class{constructor(M={}){this.blockFiller=M.blockFiller||O.b,this.preElements=['pre'],this.blockElements=['p','div','h1','h2','h3','h4','h5','h6'],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}bindFakeSelection(M,L){this._fakeSelectionMapping.set(M,P.a.createFromSelection(L))}fakeSelectionToView(M){return this._fakeSelectionMapping.get(M)}bindElements(M,L){this._domToViewMapping.set(M,L),this._viewToDomMapping.set(L,M)}unbindDomElement(M){const L=this._domToViewMapping.get(M);if(L){this._domToViewMapping.delete(M),this._viewToDomMapping.delete(L);for(const D of Array.from(M.childNodes))this.unbindDomElement(D)}}bindDocumentFragments(M,L){this._domToViewMapping.set(M,L),this._viewToDomMapping.set(L,M)}viewToDom(M,L,D={}){if(M.is('text')){const q=this._processDataFromViewText(M);return L.createTextNode(q)}if(this.getCorrespondingDom(M))return this.getCorrespondingDom(M);let q;if(M.is('documentFragment'))q=L.createDocumentFragment(),D.bind&&this.bindDocumentFragments(q,M);else{q=L.createElement(M.name),D.bind&&this.bindElements(q,M);for(const z of M.getAttributeKeys())q.setAttribute(z,M.getAttribute(z))}if(D.withChildren||void 0===D.withChildren)for(const z of this.viewChildrenToDom(M,L,D))q.appendChild(z);return q}*viewChildrenToDom(M,L,D={}){const q=M.getFillerOffset&&M.getFillerOffset();let z=0;for(const $ of M.getChildren())q===z&&(yield this.blockFiller(L)),yield this.viewToDom($,L,D),z++;q===z&&(yield this.blockFiller(L))}viewRangeToDom(M){const L=this.viewPositionToDom(M.start),D=this.viewPositionToDom(M.end),q=document.createRange();return q.setStart(L.parent,L.offset),q.setEnd(D.parent,D.offset),q}viewPositionToDom(M){const L=M.parent;if(L.is('text')){const D=this.getCorrespondingDomText(L);if(!D)return null;let q=M.offset;return d.i(O.c)(D)&&(q+=O.d),{parent:D,offset:q}}let D,q,z;if(0===M.offset){if(D=this.getCorrespondingDom(M.parent),!D)return null;z=D.childNodes[0]}else{if(q=this.getCorrespondingDom(M.nodeBefore),!q)return null;D=q.parentNode,z=q.nextSibling}if(this.isText(z)&&d.i(O.c)(z))return{parent:z,offset:O.d};const $=q?d.i(R.a)(q)+1:0;return{parent:D,offset:$}}domToView(M,L={}){if(d.i(O.e)(M,this.blockFiller))return null;if(this.isText(M)){if(d.i(O.f)(M))return null;const D=this._processDataFromDomText(M);return''===D?null:new h.a(D)}if(this.isComment(M))return null;if(this.getCorrespondingView(M))return this.getCorrespondingView(M);let D;if(this.isDocumentFragment(M))D=new S.a,L.bind&&this.bindDocumentFragments(M,D);else{const q=L.keepOriginalCase?M.tagName:M.tagName.toLowerCase();D=new w.a(q),L.bind&&this.bindElements(M,D);const z=M.attributes;for(let $=z.length-1;0<=$;$--)D.setAttribute(z[$].name,z[$].value)}if(L.withChildren||void 0===L.withChildren)for(const q of this.domChildrenToView(M,L))D.appendChildren(q);return D}*domChildrenToView(M,L={}){for(let D=0;D<M.childNodes.length;D++){const q=M.childNodes[D],z=this.domToView(q,L);null!==z&&(yield z)}}domSelectionToView(M){if(1===M.rangeCount){let q=M.getRangeAt(0).startContainer;this.isText(q)&&(q=q.parentNode);const z=this.fakeSelectionToView(q);if(z)return z}const L=new P.a,D=this.isDomSelectionBackward(M);for(let q=0;q<M.rangeCount;q++){const z=M.getRangeAt(q),$=this.domRangeToView(z);$&&L.addRange($,D)}return L}domRangeToView(M){const L=this.domPositionToView(M.startContainer,M.startOffset),D=this.domPositionToView(M.endContainer,M.endOffset);return L&&D?new T.a(L,D):null}domPositionToView(M,L){if(d.i(O.e)(M,this.blockFiller))return this.domPositionToView(M.parentNode,d.i(R.a)(M));if(this.isText(M)){if(d.i(O.f)(M))return this.domPositionToView(M.parentNode,d.i(R.a)(M));const D=this.getCorrespondingViewText(M);let q=L;return D?(d.i(O.c)(M)&&(q-=O.d,q=0>q?0:q),new C.a(D,q)):null}if(0===L){const D=this.getCorrespondingView(M);if(D)return new C.a(D,0)}else{const D=this.getCorrespondingView(M.childNodes[L-1]);if(D&&D.parent)return new C.a(D.parent,D.index+1)}return null}getCorrespondingView(M){if(this.isElement(M))return this.getCorrespondingViewElement(M);return this.isDocumentFragment(M)?this.getCorrespondingViewDocumentFragment(M):this.isText(M)?this.getCorrespondingViewText(M):null}getCorrespondingViewElement(M){return this._domToViewMapping.get(M)}getCorrespondingViewDocumentFragment(M){return this._domToViewMapping.get(M)}getCorrespondingViewText(M){if(d.i(O.f)(M))return null;const L=M.previousSibling;if(L){if(!this.isElement(L))return null;const D=this.getCorrespondingViewElement(L);if(D){const q=D.nextSibling;return q instanceof h.a?D.nextSibling:null}}else{const D=this.getCorrespondingViewElement(M.parentNode);if(D){const q=D.getChild(0);return q instanceof h.a?q:null}}return null}getCorrespondingDom(M){if(M instanceof w.a)return this.getCorrespondingDomElement(M);return M instanceof S.a?this.getCorrespondingDomDocumentFragment(M):M instanceof h.a?this.getCorrespondingDomText(M):null}getCorrespondingDomElement(M){return this._viewToDomMapping.get(M)}getCorrespondingDomDocumentFragment(M){return this._viewToDomMapping.get(M)}getCorrespondingDomText(M){const L=M.previousSibling;return L&&this.getCorrespondingDom(L)?this.getCorrespondingDom(L).nextSibling:!L&&M.parent&&this.getCorrespondingDom(M.parent)?this.getCorrespondingDom(M.parent).childNodes[0]:null}focus(M){const L=this.getCorrespondingDomElement(M);if(L&&L.ownerDocument.activeElement!==L){const{scrollX:D,scrollY:q}=V.a.window,z=[];f(L,($)=>{const{scrollLeft:K,scrollTop:H}=$;z.push([K,H])}),L.focus(),f(L,($)=>{const[K,H]=z.shift();$.scrollLeft=K,$.scrollTop=H}),V.a.window.scrollTo(D,q)}}isText(M){return M&&M.nodeType==Node.TEXT_NODE}isElement(M){return M&&M.nodeType==Node.ELEMENT_NODE}isDocumentFragment(M){return M&&M.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(M){return M&&M.nodeType==Node.COMMENT_NODE}isDomSelectionBackward(M){if(M.isCollapsed)return!1;const L=document.createRange();L.setStart(M.anchorNode,M.anchorOffset),L.setEnd(M.focusNode,M.focusOffset);const D=L.collapsed;return L.detach(),D}_processDataFromViewText(M){const L=M.data;if(M.getAncestors().some((K)=>this.preElements.includes(K.name)))return L;const D=this._getTouchingViewTextNode(M,!1),q=this._getTouchingViewTextNode(M,!0);let z=L.match(/ *$/)[0],$=L.substr(0,L.length-z.length);if(D&&' '!=D.data.charAt(D.data.length-1)||($=$.replace(/^ /,'\xA0')),$=$.replace(/ {2}/g,' \xA0'),0<z.length){let K=!1;q?(' '==q.data.charAt(0)||'\xA0'==q.data.charAt(0))&&0==z.length%2&&(K=!0):z.length%2&&(K=!0),K&&(z='\xA0'+z.substr(0,z.length-1)),z=z.replace(/ {2}/g,' \xA0')}return $+z}_getTouchingViewTextNode(M,L){if(!M.parent)return null;const D=new E.a({startPosition:L?C.a.createAfter(M):C.a.createBefore(M),direction:L?'forward':'backward'});for(const q of D){if(q.item.is('containerElement'))return null;if(q.item.is('text'))return q.item}return null}_processDataFromDomText(M){let L=d.i(O.g)(M);if(u(M,this.preElements))return L;L=L.replace(/[^\S\u00A0]{2,}/g,' ');const D=this._getTouchingDomTextNode(M,!1),q=this._getTouchingDomTextNode(M,!0);return(!D||/[^\S\u00A0]/.test(D.data.charAt(D.data.length-1)))&&(L=L.replace(/^ /,'')),q||(L=L.replace(/ $/,'')),L=L.replace(/ \u00A0/g,'  '),(!D||/[^\S\u00A0]/.test(D.data.charAt(D.data.length-1)))&&(L=L.replace(/^\u00A0/,' ')),q&&'\xA0'!=q.data.charAt(0)||(L=L.replace(/\u00A0( *)$/,' $1')),L}_getTouchingDomTextNode(M,L){if(!M.parentNode)return null;const D=L?'nextNode':'previousNode',q=M.ownerDocument,z=q.createTreeWalker(q.childNodes[0],NodeFilter.SHOW_TEXT);z.currentNode=M;const $=z[D]();if(null!==$){const K=d.i(N.a)(M,$);if(K&&!u(M,this.blockElements,K)&&!u($,this.blockElements,K))return $}return null}}},function(r,s,d){'use strict';function u(){return null}var f=d(25),h=d(0),w=d(78);class C extends f.a{constructor(T,P,S){super(T,P,S),this.getFillerOffset=u}is(T,P=null){return P?'emptyElement'==T&&P==this.name||super.is(T,P):'emptyElement'==T||super.is(T)}insertChildren(T,P){if(P&&(P instanceof w.a||0<Array.from(P).length))throw new h.a('view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.')}}s.a=C},function(r,s){'use strict';function u(P,S){if('function'==typeof S)return S(P);const E={};return S.name&&(E.name=f(S.name,P.name),!E.name)?null:S.attribute&&(E.attribute=h(S.attribute,P),!E.attribute)?null:S.class&&(E.class=w(S.class,P),!E.class)?!1:S.style&&(E.style=C(S.style,P),!E.style)?!1:E}function f(P,S){return P instanceof RegExp?P.test(S):P===S}function h(P,S){const E=[];for(const O in P){const V=P[O];if(S.hasAttribute(O)){const R=S.getAttribute(O);if(V instanceof RegExp){if(V.test(R))E.push(O);else return null;}else if(R===V)E.push(O);else return null}else return null}return E}function w(P,S){const E=[];for(const O of P)if(O instanceof RegExp){const V=S.getClassNames();for(const R of V)O.test(R)&&E.push(R);if(0===E.length)return null}else if(S.hasClass(O))E.push(O);else return null;return E}function C(P,S){const E=[];for(const O in P){const V=P[O];if(S.hasStyle(O)){const R=S.getStyle(O);if(V instanceof RegExp){if(V.test(R))E.push(O);else return null;}else if(R===V)E.push(O);else return null}else return null}return E}s.a=class{constructor(...P){this._patterns=[],this.add(...P)}add(...P){for(let S of P)('string'==typeof S||S instanceof RegExp)&&(S={name:S}),S.class&&('string'==typeof S.class||S.class instanceof RegExp)&&(S.class=[S.class]),this._patterns.push(S)}match(...P){for(const S of P)for(const E of this._patterns){const O=u(S,E);if(O)return{element:S,pattern:E,match:O}}return null}matchAll(...P){const S=[];for(const E of P)for(const O of this._patterns){const V=u(E,O);V&&S.push({element:E,pattern:O,match:V})}return 0<S.length?S:null}getElementName(){if(1!==this._patterns.length)return null;const P=this._patterns[0],S=P.name;return'function'!=typeof P&&S&&!(S instanceof RegExp)?S:null}}},function(r,s,d){'use strict';var u=d(53),f=d(64),h=d(62);class w extends u.a{constructor(C){super(C),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=C.domConverter,this.renderer=C.renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(C){this._domElements.push(C),this.isEnabled&&this._mutationObserver.observe(C,this._config)}enable(){super.enable();for(const C of this._domElements)this._mutationObserver.observe(C,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(C){if(0===C.length)return;const T=this.domConverter,P=new Map,S=new Set;for(const R of C)if('childList'===R.type){const F=T.getCorrespondingViewElement(R.target);F&&!this._isBogusBrMutation(R)&&S.add(F)}for(const R of C)if('characterData'===R.type){const F=T.getCorrespondingViewText(R.target);F&&!S.has(F.parent)?P.set(F,{type:'text',oldText:F.data,newText:d.i(h.g)(R.target),node:F}):!F&&d.i(h.c)(R.target)&&S.add(T.getCorrespondingViewElement(R.target.parentNode))}const E=[];for(const R of P.values())this.renderer.markToSync('text',R.node),E.push(R);for(const R of S){const F=T.getCorrespondingDomElement(R),N=R.getChildren(),I=T.domChildrenToView(F);this.renderer.markToSync('children',R),E.push({type:'children',oldChildren:Array.from(N),newChildren:Array.from(I),node:R})}const O=C[0].target.ownerDocument.getSelection();let V=null;if(O&&O.anchorNode){const R=T.domPositionToView(O.anchorNode,O.anchorOffset),F=T.domPositionToView(O.focusNode,O.focusOffset);R&&F&&(V=new f.a,V.collapse(R),V.setFocus(F))}this.document.fire('mutations',E,V),this.document.render()}_isBogusBrMutation(C){let T=null;return null===C.nextSibling&&0===C.removedNodes.length&&1==C.addedNodes.length&&(T=this.domConverter.domToView(C.addedNodes[0],{withChildren:!1})),T&&T.is('element','br')}}s.a=w},function(r,s,d){'use strict';var u=d(77);const f=Symbol('rootName');class h extends u.a{constructor(w){super(w),this.rootName='main'}is(w,C=null){return C?'rootElement'==w&&C==this.name||super.is(w,C):'rootElement'==w||super.is(w)}get rootName(){return this.getCustomProperty(f)}set rootName(w){this.setCustomProperty(f,w)}}s.a=h},function(r,s,d){'use strict';function u(){return null}var f=d(25),h=d(0),w=d(78);class C extends f.a{constructor(T,P,S){super(T,P,S),this.getFillerOffset=u}is(T,P=null){return P?'uiElement'==T&&P==this.name||super.is(T,P):'uiElement'==T||super.is(T)}insertChildren(T,P){if(P&&(P instanceof w.a||0<Array.from(P).length))throw new h.a('view-uielement-cannot-add: Cannot add child nodes to UIElement instance.')}}s.a=C},function(r,s,d){'use strict';function u(){return new S.a('figure',{class:'image'},new E.a('img'))}var f=d(2),h=d(44),w=d(34),C=d(376),T=d(39),P=d(5),S=d(47),E=d(166);class O extends f.a{init(){const V=this.editor,R=V.document,F=R.schema,N=V.data,I=V.editing,M=V.t;F.registerItem('image'),F.requireAttributes('image',['src']),F.allow({name:'image',attributes:['alt','src'],inside:'$root'}),F.objects.add('image'),d.i(h.a)().for(N.modelToView).fromElement('image').toElement(()=>u()),d.i(h.a)().for(I.modelToView).fromElement('image').toElement(()=>d.i(T.c)(u(),M('image widget'))),d.i(C.a)([I.modelToView,N.modelToView],'src'),d.i(C.a)([I.modelToView,N.modelToView],'alt'),d.i(w.a)().for(N.viewToModel).from({name:'img',attribute:{src:/./}}).toElement((L)=>new P.a('image',{src:L.getAttribute('src')})),N.viewToModel.on('element:img',C.b,{priority:'low'}),N.viewToModel.on('element',C.c,{priority:'low'}),d.i(w.a)().for(N.viewToModel).from({name:'img',attribute:{alt:/./}}).consuming({attribute:['alt']}).toAttribute((L)=>({key:'alt',value:L.getAttribute('alt')})),N.viewToModel.on('element:figure',d.i(C.d)())}}s.a=O},function(r,s,d){'use strict';var u=d(531),f=d(40),h=d(181),w=d(39);class C extends h.a{constructor(T){super(T.locale),this.editor=T;const P=T.editing.view;this.listenTo(T.ui.focusTracker,'change:isFocused',(S,E,O,V)=>{V&&!O&&this.detach()}),T.listenTo(P,'render',()=>{const S=P.selection.getSelectedElement();S&&d.i(w.a)(S)||this.detach()},{priority:'low'}),this._throttledAttach=d.i(u.a)(()=>{this._attach()},100)}init(){return this.editor.ui.focusTracker.add(this.element),super.init()}attach(){this._attach(),this.editor.ui.view.listenTo(f.a.window,'scroll',this._throttledAttach),this.editor.ui.view.listenTo(f.a.window,'resize',this._throttledAttach)}detach(){this.hide(),this.editor.ui.view.stopListening(f.a.window,'scroll',this._throttledAttach),this.editor.ui.view.stopListening(f.a.window,'resize',this._throttledAttach)}_attach(){const T=this.editor.editing.view,P=h.a.defaultPositions;this.attachTo({target:T.domConverter.viewToDom(T.selection.getSelectedElement()),positions:[P.northArrowSouth,P.southArrowNorth]})}}s.a=C},function(r,s,d){'use strict';function f(C,T,P){let S=C.textNode||(P?C.nodeBefore:C.nodeAfter),E=null;for(;S&&S.getAttribute('linkHref')==T;)E=S,S=P?S.previousSibling:S.nextSibling;return E?w.a.createAt(E,P?'before':'after'):C}s.a=function(C,T){return new h.a(f(C,T,!0),f(C,T,!1))};var h=d(3),w=d(1)},function(r,s,d){'use strict';var u=d(116);class f extends u.a{}s.a=f},function(r,s,d){'use strict';var u=d(184);class f{constructor(h,w=20){this.document=h,this.size=0,this.limit=w,this.isLocked=!1,this._changeCallback=(C,T,P,S)=>{this._onBatch(S)},this._selectionChangeCallback=()=>{this._reset()},h.on('change',this._changeCallback),h.selection.on('change:range',this._selectionChangeCallback),h.selection.on('change:attribute',this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.document.batch()),this._batch}input(h){this.size+=h,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.document.off('change',this._changeCallback),this.document.selection.off('change:range',this._selectionChangeCallback),this.document.selection.off('change:attribute',this._selectionChangeCallback)}_onBatch(h){'transparent'!=h.type&&h!==this._batch&&1>=d.i(u.a)(h.getOperations())&&this._reset(!0)}_reset(h){(!this.isLocked||h)&&(this._batch=null,this.size=0)}}s.a=f},function(r,s){'use strict';s.a=function({emitter:f,activator:h,callback:w,contextElement:C}){f.listenTo(document,'mouseup',(T,{target:P})=>{h()&&!C.contains(P)&&w()})}},function(r,s){'use strict';s.a=function(f){return f.bindTemplate.to((h)=>{h.target===f.element&&h.preventDefault()})}},function(r,s){'use strict';s.a=function({view:f}){f.listenTo(f.element,'submit',(h,w)=>{w.preventDefault(),f.fire('submit')},{useCapture:!0})}},function(r,s,d){'use strict';var u=d(9),f=d(6);class h extends u.a{constructor(w){super(w),this.set('value'),this.set('id'),this.set('placeholder');const C=this.bindTemplate;this.template=new f.a({tag:'input',attributes:{type:'text',class:['ck-input','ck-input-text'],id:C.to('id'),placeholder:C.to('placeholder')}}),this.on('change:value',(T,P,S)=>{this.element.value=S||''})}select(){this.element.select()}focus(){this.element.focus()}}s.a=h},function(r,s,d){'use strict';var u=d(9),f=d(6),h=d(72),w=d(413);class C extends u.a{constructor(T,P){super(T);const S=`ck-input-${d.i(h.a)()}`;this.set('label'),this.set('value'),this.labelView=this._createLabelView(S),this.inputView=this._createInputView(P,S),this.template=new f.a({tag:'div',children:[this.labelView,this.inputView]})}_createLabelView(T){const P=new w.a(this.locale);return P.for=T,P.bind('text').to(this,'label'),P}_createInputView(T,P){const S=new T(this.locale);return S.id=P,S.bind('value').to(this),S}select(){this.inputView.select()}focus(){this.inputView.focus()}}s.a=C},function(r,s,d){'use strict';var u=d(9),f=d(6),h=d(432),w=d(187),C=d(232),T=d(188),P=d(177),S=d(40);const E=d.i(T.a)('px'),O=S.a.document.body;class V extends u.a{constructor(R){super(R);const F=this.bindTemplate;this.set('top',0),this.set('left',0),this.set('position','arrow_ne'),this.set('isVisible',!1),this.set('withArrow',!0),this.set('className'),this.content=this.createCollection(),this.template=new f.a({tag:'div',attributes:{class:['ck-balloon-panel',F.to('position',(N)=>`ck-balloon-panel_${N}`),F.if('isVisible','ck-balloon-panel_visible'),F.if('withArrow','ck-balloon-panel_with-arrow'),F.to('className')],style:{top:F.to('top',E),left:F.to('left',E)}},children:this.content,on:{mousedown:d.i(P.a)(this)}})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(R){this.show();const F=V.defaultPositions,N=Object.assign({},{element:this.element,positions:[F.southEastArrowNorthEast,F.southWestArrowNorthEast,F.northEastArrowSouthWest,F.northWestArrowSouthEast],limiter:O,fitInViewport:!0},R),{top:I,left:M,name:L}=d.i(h.a)(N);Object.assign(this,{top:I,left:M,position:L})}pin(R){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(R):this._stopPinning()},this._startPinning(R),this.listenTo(this,'change:isVisible',this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,'change:isVisible',this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(R){this.attachTo(R);const F=R.limiter||O;let N=null;d.i(C.a)(R.target)?N=R.target:d.i(w.a)(R.target)&&(N=R.target.commonAncestorContainer),this.listenTo(S.a.document,'scroll',(I,M)=>{const L=M.target,D=N&&L.contains(N),q=L.contains(F);(D||q||!N)&&this.attachTo(R)},{useCapture:!0}),this.listenTo(S.a.window,'resize',()=>{this.attachTo(R)})}_stopPinning(){this.stopListening(S.a.document,'scroll'),this.stopListening(S.a.window,'resize')}}s.a=V,V.arrowHorizontalOffset=30,V.arrowVerticalOffset=15,V.defaultPositions={southEastArrowNorthEast:(R)=>({top:R.bottom+V.arrowVerticalOffset,left:R.left+R.width/2-V.arrowHorizontalOffset,name:'arrow_ne'}),southWestArrowNorthEast:(R,F)=>({top:R.bottom+V.arrowVerticalOffset,left:R.left+R.width/2-F.width+V.arrowHorizontalOffset,name:'arrow_nw'}),northEastArrowSouthWest:(R,F)=>({top:R.top-F.height-V.arrowVerticalOffset,left:R.left+R.width/2-V.arrowHorizontalOffset,name:'arrow_se'}),northWestArrowSouthEast:(R,F)=>({top:R.top-F.height-V.arrowVerticalOffset,left:R.left+R.width/2-F.width+V.arrowHorizontalOffset,name:'arrow_sw'}),southEastArrowNorth:(R,F)=>({top:R.bottom+V.arrowVerticalOffset,left:R.right-F.width/2,name:'arrow_n'}),northEastArrowSouth:(R,F)=>({top:R.top-F.height-V.arrowVerticalOffset,left:R.right-F.width/2,name:'arrow_s'}),northWestArrowSouth:(R,F)=>({top:R.top-F.height-V.arrowVerticalOffset,left:R.left-F.width/2,name:'arrow_s'}),southWestArrowNorth:(R,F)=>({top:R.bottom+V.arrowVerticalOffset,left:R.left-F.width/2,name:'arrow_n'}),southArrowNorth:(R,F)=>({top:R.bottom+V.arrowVerticalOffset,left:R.left+R.width/2-F.width/2,name:'arrow_n'}),northArrowSouth:(R,F)=>({top:R.top-F.height-V.arrowVerticalOffset,left:R.left+R.width/2-F.width/2,name:'arrow_s'})}},function(r,s,d){'use strict';var u=d(9),f=d(6),h=d(67),w=d(119),C=d(68),T=d(420),P=d(177);class S extends u.a{constructor(E){super(E),this.items=this.createCollection(),this.focusTracker=new h.a,this.keystrokes=new C.a,this._focusCycler=new w.a({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:['arrowleft','arrowup'],focusNext:['arrowright','arrowdown']}}),this.template=new f.a({tag:'div',attributes:{class:['ck-toolbar']},children:this.items,on:{mousedown:d.i(P.a)(this)}}),this.items.on('add',(O,V)=>{this.focusTracker.add(V.element)}),this.items.on('remove',(O,V)=>{this.focusTracker.remove(V.element)})}init(){return this.keystrokes.listenTo(this.element),super.init()}focus(){this._focusCycler.focusFirst()}fillFromConfig(E,O){return E?Promise.all(E.map((V)=>{const R='|'==V?new T.a:O.create(V);return this.items.add(R)})):Promise.resolve()}}s.a=S},function(r,s,d){'use strict';function u(C,T){const P=f([C],T);P.sort((S,E)=>S.start.isBefore(E.start)?-1:1);for(let S=1;S<P.length;S++){const E=P[S-1],O=P[S];E.end.isTouching(O.start)&&(E.end=O.end,P.splice(S,1),S--)}return P}function f(C,T){for(const P of T)for(const S of P.operations)for(let E=0;E<C.length;E++){let O;switch(S.type){case'insert':O=C[E]._getTransformedByInsertion(S.position,S.nodes.maxOffset,!0);break;case'move':case'remove':case'reinsert':O=C[E]._getTransformedByMove(S.sourcePosition,S.targetPosition,S.howMany,!0);}O&&(C.splice(E,1,...O),E=E+O.length-1)}return C}s.b=f;var h=d(11);class w extends h.a{constructor(C){super(C),this._stack=[],this._createdBatches=new WeakSet,this.refreshState()}addBatch(C){const T={ranges:Array.from(this.editor.document.selection.getRanges()),isBackward:this.editor.document.selection.isBackward};this._stack.push({batch:C,selection:T}),this.refreshState()}clearStack(){this._stack=[],this.refreshState()}_checkEnabled(){return 0<this._stack.length}_restoreSelection(C,T,P){const S=this.editor.document,E=[];for(const O of C){const V=u(O,P),R=V.find((F)=>F.start.root!=S.graveyard);R&&E.push(R)}E.length&&S.selection.setRanges(E,T)}}s.a=w},function(r,s){'use strict';s.a=function(f){let h=0;for(const w of f)h++;return h}},function(r,s){'use strict';s.a=function(f,h,w){function C(I){const M=(R[I-1]===void 0?-1:R[I-1])+1,L=R[I+1]===void 0?-1:R[I+1],D=M>L?-1:1;V[I+D]&&(V[I]=V[I+D].slice(0)),V[I]||(V[I]=[]),V[I].push(M>L?T:P);let q=_Mathmax(M,L),z=q-I;for(;z<S&&q<E&&w(f[z],h[q]);)z++,q++,V[I].push('equal');return q}w=w||function(I,M){return I===M};let T,P;if(h.length<f.length){const I=f;f=h,h=I,T='delete',P='insert'}else T='insert',P='delete';const S=f.length,E=h.length,O=E-S,V={},R={};let F=0,N;do{for(N=-F;N<O;N++)R[N]=C(N);for(N=O+F;N>O;N--)R[N]=C(N);R[O]=C(O),F++}while(R[O]!==E);return V[O].slice(1)}},function(r,s){'use strict';s.a=function(f){const h=[];for(;f&&f.nodeType!=Node.DOCUMENT_NODE;)h.unshift(f),f=f.parentNode;return h}},function(r,s){'use strict';s.a=function(f){return'[object Range]'==Object.prototype.toString.apply(f)}},function(r,s){'use strict';s.a=function(f){return(h)=>h+f}},function(r,s,d){'use strict';var u=d(55),f=d(32),h=d.i(u.a)(f.a,'Map');s.a=h},function(r,s,d){'use strict';var u=d(55),f=d(32),h=d.i(u.a)(f.a,'Set');s.a=h},function(r,s,d){'use strict';var u=d(32),f=u.a.Uint8Array;s.a=f},function(r,s){'use strict';s.a=function(f,h,w){var C=w.length;return 0===C?f.call(h):1===C?f.call(h,w[0]):2===C?f.call(h,w[0],w[1]):3===C?f.call(h,w[0],w[1],w[2]):f.apply(h,w)}},function(r,s){'use strict';s.a=function(f,h,w,C){var T=-1,P=f.length;for(C&&P&&(w=f[++T]);++T<P;)w=h(w,f[T],T,f);return w}},function(r,s,d){'use strict';function u(ge,fe,he,be,_e,ke,we){var ye;if(be&&(ye=ke?be(ge,_e,ke,we):be(ge)),void 0!==ye)return ye;if(!d.i(L.a)(ge))return ge;var ve=d.i(N.a)(ge);if(!ve){var xe=d.i(O.a)(ge),Ce=xe==W||xe==U;if(d.i(I.a)(ge))return d.i(T.a)(ge,fe);if(xe==J||xe==q||Ce&&!ke){if(d.i(M.a)(ge))return ke?ge:{};if(ye=d.i(F.a)(Ce?{}:ge),!fe)return d.i(S.a)(ge,d.i(C.a)(ye,ge))}else{if(!pe[xe])return ke?ge:{};ye=d.i(R.a)(ge,xe,u,fe)}}else if(ye=d.i(V.a)(ge),!fe)return d.i(P.a)(ge,ye);we||(we=new f.a);var Te=we.get(ge);if(Te)return Te;if(we.set(ge,ye),!ve)var Ae=he?d.i(E.a)(ge):d.i(D.a)(ge);return d.i(h.a)(Ae||ge,function(Pe,Se){Ae&&(Se=Pe,Pe=ge[Se]),d.i(w.a)(ye,Se,u(Pe,fe,he,be,Se,ge,we))}),ye}var f=d(122),h=d(446),w=d(69),C=d(448),T=d(468),P=d(201),S=d(476),E=d(482),O=d(140),V=d(491),R=d(492),F=d(493),N=d(12),I=d(523),M=d(91),L=d(14),D=d(71),q='[object Arguments]',W='[object Function]',U='[object GeneratorFunction]',J='[object Object]',pe={};pe[q]=pe['[object Array]']=pe['[object ArrayBuffer]']=pe['[object DataView]']=pe['[object Boolean]']=pe['[object Date]']=pe['[object Float32Array]']=pe['[object Float64Array]']=pe['[object Int8Array]']=pe['[object Int16Array]']=pe['[object Int32Array]']=pe['[object Map]']=pe['[object Number]']=pe[J]=pe['[object RegExp]']=pe['[object Set]']=pe['[object String]']=pe['[object Symbol]']=pe['[object Uint8Array]']=pe['[object Uint8ClampedArray]']=pe['[object Uint16Array]']=pe['[object Uint32Array]']=!0,pe['[object Error]']=pe[W]=pe['[object WeakMap]']=!1,s.a=u},function(r,s){'use strict';s.a=function(f,h,w){for(var C=f.length,T=w?C:-1;w?T--:++T<C;)if(h(f[T],T,f))return T;return-1}},function(r,s,d){'use strict';var f=d(139),h=Object.prototype,w=h.hasOwnProperty;s.a=function(C,T){return w.call(C,T)||'object'==typeof C&&T in C&&null===d.i(f.a)(C)}},function(r,s,d){'use strict';var f=d(89),h=d(42),w=d(56),C=d(18),T=d(507),P=d(57),S=Array.prototype,E=S.splice;s.a=function(O,V){for(var R=O?V.length:0,F=R-1,N;R--;)if(N=V[R],R==F||N!==I){var I=N;if(d.i(h.a)(N))E.call(O,N,1);else if(!d.i(w.a)(N,O)){var M=d.i(f.a)(N),L=d.i(T.a)(O,M);null!=L&&delete L[d.i(P.a)(d.i(C.a)(M))]}else delete O[d.i(P.a)(N)]}return O}},function(r,s,d){'use strict';var f=d(58);s.a=function(h,w){for(var C=-1,T=h.length,P=0,S=[];++C<T;){var E=h[C],O=w?w(E):E;if(!C||!d.i(f.a)(O,V)){var V=O;S[P++]=0===E?0:E}}return S}},function(r,s){'use strict';s.a=function(f,h){for(var w=-1,C=Array(f);++w<f;)C[w]=h(w);return C}},function(r,s){'use strict';s.a=function(f,h,w){for(var C=-1,T=f.length,P=h.length,S={},E;++C<T;)E=C<P?h[C]:void 0,w(S,f[C],E);return S}},function(r,s){'use strict';s.a=function(f,h){var w=-1,C=f.length;for(h||(h=Array(C));++w<C;)h[w]=f[w];return h}},function(r,s,d){'use strict';var f=d(83),h=d(447);s.a=function(T,P,S,E,O,V){var R=O&2,F=T.length,N=P.length;if(F!=N&&!(R&&N>F))return!1;var I=V.get(T);if(I)return I==P;var M=-1,L=!0,D=O&1?new f.a:void 0;for(V.set(T,P);++M<F;){var q=T[M],z=P[M];if(E)var $=R?E(z,q,M,P,T,V):E(q,z,M,T,P,V);if(void 0!==$){if($)continue;L=!1;break}if(D){if(!d.i(h.a)(P,function(K,H){if(!D.has(H)&&(q===K||S(q,K,E,O,V)))return D.add(H)})){L=!1;break}}else if(!(q===z||S(q,z,E,O,V))){L=!1;break}}return V['delete'](T),L}},function(r,s){'use strict';function u(h){return f(Object(h))}var f=Object.getOwnPropertySymbols;f||(u=function(){return[]}),s.a=u},function(r,s,d){'use strict';var f=d(199),h=d(146),w=d(12),C=d(98),T=d(148);s.a=function(P){var S=P?P.length:void 0;return d.i(C.a)(S)&&(d.i(w.a)(P)||d.i(T.a)(P)||d.i(h.a)(P))?d.i(f.a)(S,String):null}},function(r,s){'use strict';s.a=function(f,h,w){for(var C=f.length,T=h+(w?0:-1),P;w?T--:++T<C;)if(P=f[T],P!==P)return T;return-1}},function(r,s,d){'use strict';var f=d(14);s.a=function(h){return h===h&&!d.i(f.a)(h)}},function(r,s){'use strict';s.a=function(f,h){return function(w){return null!=w&&w[f]===h&&(h!==void 0||f in Object(w))}}},function(r,s){'use strict';var f=Function.prototype.toString;s.a=function(h){if(null!=h){try{return f.call(h)}catch(w){}try{return h+''}catch(w){}}return''}},function(r,s,d){'use strict';var f=d(41),h=d(92),w=d(15),C=Math.ceil;s.a=function(P,S,E){S=(E?d.i(h.a)(P,S,E):void 0===S)?1:_Mathmax(d.i(w.a)(S),0);var O=P?P.length:0;if(!O||1>S)return[];for(var V=0,R=0,F=Array(C(O/S));V<O;)F[R++]=d.i(f.a)(P,V,V+=S);return F}},function(r,s){'use strict';s.a=function(f){for(var h=-1,w=f?f.length:0,C=0,T=[],P;++h<w;)P=f[h],P&&(T[C++]=P);return T}},function(r,s,d){'use strict';var f=d(85),h=d(23),w=d(201),C=d(12);s.a=function(){for(var T=arguments.length,P=Array(T?T-1:0),S=arguments[0],E=T;E--;)P[E-1]=arguments[E];return T?d.i(f.a)(d.i(C.a)(S)?d.i(w.a)(S):[S],d.i(h.a)(P,1)):[]}},function(r,s,d){'use strict';var u=d(70),f=d(23),h=d(13),w=d(8),C=d.i(w.a)(function(T,P){return d.i(h.a)(T)?d.i(u.a)(T,d.i(f.a)(P,1,h.a,!0)):[]});s.a=C},function(r,s,d){'use strict';var u=d(70),f=d(23),h=d(10),w=d(13),C=d(18),T=d(8),P=d.i(T.a)(function(S,E){var O=d.i(C.a)(E);return d.i(w.a)(O)&&(O=void 0),d.i(w.a)(S)?d.i(u.a)(S,d.i(f.a)(E,1,w.a,!0),d.i(h.a)(O)):[]});s.a=P},function(r,s,d){'use strict';var u=d(70),f=d(23),h=d(13),w=d(18),C=d(8),T=d.i(C.a)(function(P,S){var E=d.i(w.a)(S);return d.i(h.a)(E)&&(E=void 0),d.i(h.a)(P)?d.i(u.a)(P,d.i(f.a)(S,1,h.a,!0),void 0,E):[]});s.a=T},function(r,s,d){'use strict';var f=d(10),h=d(88);s.a=function(w,C){return w&&w.length?d.i(h.a)(w,d.i(f.a)(C,3),!0,!0):[]}},function(r,s,d){'use strict';var f=d(10),h=d(88);s.a=function(w,C){return w&&w.length?d.i(h.a)(w,d.i(f.a)(C,3),!0):[]}},function(r,s,d){'use strict';var f=d(452),h=d(92);s.a=function(w,C,T,P){var S=w?w.length:0;return S?(T&&'number'!=typeof T&&d.i(h.a)(w,C,T)&&(T=0,P=S),d.i(f.a)(w,C,T,P)):[]}},function(r,s,d){'use strict';var f=d(195),h=d(10);s.a=function(w,C){return w&&w.length?d.i(f.a)(w,d.i(h.a)(C,3)):-1}},function(r,s,d){'use strict';var f=d(195),h=d(10);s.a=function(w,C){return w&&w.length?d.i(f.a)(w,d.i(h.a)(C,3),!0):-1}},function(r,s,d){'use strict';var u=d(145);d.d(s,'a',function(){return u.a})},function(r,s,d){'use strict';var f=d(23);s.a=function(h){var w=h?h.length:0;return w?d.i(f.a)(h,1):[]}},function(r,s,d){'use strict';var f=d(23);s.a=function(w){var C=w?w.length:0;return C?d.i(f.a)(w,1/0):[]}},function(r,s,d){'use strict';var f=d(23),h=d(15);s.a=function(w,C){var T=w?w.length:0;return T?(C=void 0===C?1:d.i(h.a)(C),d.i(f.a)(w,C)):[]}},function(r,s){'use strict';s.a=function(f){for(var h=-1,w=f?f.length:0,C={},T;++h<w;)T=f[h],C[T[0]]=T[1];return C}},function(r,s,d){'use strict';var f=d(126);s.a=function(h,w,C){var T=null==h?void 0:d.i(f.a)(h,w);return T===void 0?C:T}},function(r,s){'use strict';s.a=function(f){return f}},function(r,s,d){'use strict';var f=d(127),h=d(15);s.a=function(C,T,P){var S=C?C.length:0;return S?(P=d.i(h.a)(P),0>P&&(P=_Mathmax(S+P,0)),d.i(f.a)(C,T,P)):-1}},function(r,s,d){'use strict';var f=d(144);s.a=function(h){return d.i(f.a)(h,1)}},function(r,s,d){'use strict';var u=d(27),f=d(128),h=d(136),w=d(8),C=d.i(w.a)(function(T){var P=d.i(u.a)(T,h.a);return P.length&&P[0]===T[0]?d.i(f.a)(P):[]});s.a=C},function(r,s,d){'use strict';var u=d(27),f=d(128),h=d(10),w=d(136),C=d(18),T=d(8),P=d.i(T.a)(function(S){var E=d.i(C.a)(S),O=d.i(u.a)(S,w.a);return E===d.i(C.a)(O)?E=void 0:O.pop(),O.length&&O[0]===S[0]?d.i(f.a)(O,d.i(h.a)(E)):[]});s.a=P},function(r,s,d){'use strict';var u=d(27),f=d(128),h=d(136),w=d(18),C=d(8),T=d.i(C.a)(function(P){var S=d.i(w.a)(P),E=d.i(u.a)(P,h.a);return S===d.i(w.a)(E)?S=void 0:E.pop(),E.length&&E[0]===P[0]?d.i(f.a)(E,void 0,S):[]});s.a=T},function(r,s,d){'use strict';var f=d(51),h=d(99);s.a=function(w){return!!w&&1===w.nodeType&&d.i(f.a)(w)&&!d.i(h.a)(w)}},function(r,s,d){'use strict';var f=d(147),h=d(91),w=d(14),C=d(208),T=/[\\^$.*+?()[\]{}|]/g,P=/^\[object .+?Constructor\]$/,S=Object.prototype,E=Function.prototype.toString,O=S.hasOwnProperty,V=RegExp('^'+E.call(O).replace(T,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$');s.a=function(R){if(!d.i(w.a)(R))return!1;var F=d.i(f.a)(R)||d.i(h.a)(R)?V:P;return F.test(d.i(C.a)(R))}},function(r,s){'use strict';var f=Array.prototype,h=f.join;s.a=function(w,C){return w?h.call(w,C):''}},function(r,s,d){'use strict';var f=d(205),h=d(15);s.a=function(T,P,S){var E=T?T.length:0;if(!E)return-1;var O=E;if(void 0!==S&&(O=d.i(h.a)(S),O=(0>O?_Mathmax(E+O,0):_Mathmin(O,E-1))+1),P!==P)return d.i(f.a)(T,O,!0);for(;O--;)if(T[O]===P)return O;return-1}},function(r,s,d){'use strict';var f=d(462),h=d(15);s.a=function(w,C){return w&&w.length?d.i(f.a)(w,d.i(h.a)(C)):void 0}},function(r,s,d){'use strict';var u=d(149),f=d(8),h=d.i(f.a)(u.a);s.a=h},function(r,s,d){'use strict';var f=d(10),h=d(131);s.a=function(w,C,T){return w&&w.length&&C&&C.length?d.i(h.a)(w,C,d.i(f.a)(T)):w}},function(r,s,d){'use strict';var f=d(131);s.a=function(h,w,C){return h&&h.length&&w&&w.length?d.i(f.a)(h,w,void 0,C):h}},function(r,s,d){'use strict';var u=d(27),f=d(449),h=d(23),w=d(197),C=d(475),T=d(42),P=d(8),S=d.i(P.a)(function(E,O){O=d.i(h.a)(O,1);var V=E?E.length:0,R=d.i(f.a)(E,O);return d.i(w.a)(E,d.i(u.a)(O,function(F){return d.i(T.a)(F,V)?+F:F}).sort(C.a)),R});s.a=S},function(r,s,d){'use strict';var f=d(10),h=d(197);s.a=function(w,C){var T=[];if(!(w&&w.length))return T;var P=-1,S=[],E=w.length;for(C=d.i(f.a)(C,3);++P<E;){var O=w[P];C(O,P,w)&&(T.push(O),S.push(P))}return d.i(h.a)(w,S),T}},function(r,s){'use strict';var f=Array.prototype,h=f.reverse;s.a=function(w){return w?h.call(w):w}},function(r,s,d){'use strict';var f=d(41),h=d(92),w=d(15);s.a=function(C,T,P){var S=C?C.length:0;return S?(P&&'number'!=typeof P&&d.i(h.a)(C,T,P)?(T=0,P=S):(T=null==T?0:d.i(w.a)(T),P=void 0===P?S:d.i(w.a)(P)),d.i(f.a)(C,T,P)):[]}},function(r,s,d){'use strict';var f=d(87);s.a=function(h,w){return d.i(f.a)(h,w)}},function(r,s,d){'use strict';var f=d(10),h=d(132);s.a=function(w,C,T){return d.i(h.a)(w,C,d.i(f.a)(T))}},function(r,s,d){'use strict';var f=d(87),h=d(58);s.a=function(w,C){var T=w?w.length:0;if(T){var P=d.i(f.a)(w,C);if(P<T&&d.i(h.a)(w[P],C))return P}return-1}},function(r,s,d){'use strict';var f=d(87);s.a=function(h,w){return d.i(f.a)(h,w,!0)}},function(r,s,d){'use strict';var f=d(10),h=d(132);s.a=function(w,C,T){return d.i(h.a)(w,C,d.i(f.a)(T),!0)}},function(r,s,d){'use strict';var f=d(87),h=d(58);s.a=function(w,C){var T=w?w.length:0;if(T){var P=d.i(f.a)(w,C,!0)-1;if(d.i(h.a)(w[P],C))return P}return-1}},function(r,s,d){'use strict';var f=d(198);s.a=function(h){return h&&h.length?d.i(f.a)(h):[]}},function(r,s,d){'use strict';var f=d(10),h=d(198);s.a=function(w,C){return w&&w.length?d.i(h.a)(w,d.i(f.a)(C)):[]}},function(r,s,d){'use strict';var f=d(143);s.a=function(h){return d.i(f.a)(h,1)}},function(r,s,d){'use strict';var f=d(41),h=d(15);s.a=function(w,C,T){return w&&w.length?(C=T||void 0===C?1:d.i(h.a)(C),d.i(f.a)(w,0,0>C?0:C)):[]}},function(r,s,d){'use strict';var f=d(41),h=d(15);s.a=function(w,C,T){var P=w?w.length:0;return P?(C=T||void 0===C?1:d.i(h.a)(C),C=P-C,d.i(f.a)(w,0>C?0:C,P)):[]}},function(r,s,d){'use strict';var f=d(10),h=d(88);s.a=function(w,C){return w&&w.length?d.i(h.a)(w,d.i(f.a)(C,3),!1,!0):[]}},function(r,s,d){'use strict';var f=d(10),h=d(88);s.a=function(w,C){return w&&w.length?d.i(h.a)(w,d.i(f.a)(C,3)):[]}},function(r,s,d){'use strict';var f=d(147),h=d(14),w=d(52),C=0/0,T=/^\s+|\s+$/g,P=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,E=/^0o[0-7]+$/i,O=parseInt;s.a=function(V){if('number'==typeof V)return V;if(d.i(w.a)(V))return C;if(d.i(h.a)(V)){var R=d.i(f.a)(V.valueOf)?V.valueOf():V;V=d.i(h.a)(R)?R+'':R}if('string'!=typeof V)return 0===V?V:+V;V=V.replace(T,'');var F=S.test(V);return F||E.test(V)?O(V.slice(2),F?2:8):P.test(V)?C:+V}},function(r,s,d){'use strict';var u=d(23),f=d(49),h=d(13),w=d(8),C=d.i(w.a)(function(T){return d.i(f.a)(d.i(u.a)(T,1,h.a,!0))});s.a=C},function(r,s,d){'use strict';var u=d(23),f=d(10),h=d(49),w=d(13),C=d(18),T=d(8),P=d.i(T.a)(function(S){var E=d.i(C.a)(S);return d.i(w.a)(E)&&(E=void 0),d.i(h.a)(d.i(u.a)(S,1,w.a,!0),d.i(f.a)(E))});s.a=P},function(r,s,d){'use strict';var u=d(23),f=d(49),h=d(13),w=d(18),C=d(8),T=d.i(C.a)(function(P){var S=d.i(w.a)(P);return d.i(h.a)(S)&&(S=void 0),d.i(f.a)(d.i(u.a)(P,1,h.a,!0),void 0,S)});s.a=T},function(r,s,d){'use strict';var f=d(49);s.a=function(h){return h&&h.length?d.i(f.a)(h):[]}},function(r,s,d){'use strict';var f=d(10),h=d(49);s.a=function(w,C){return w&&w.length?d.i(h.a)(w,d.i(f.a)(C)):[]}},function(r,s,d){'use strict';var f=d(49);s.a=function(h,w){return h&&h.length?d.i(f.a)(h,void 0,w):[]}},function(r,s,d){'use strict';var u=d(70),f=d(13),h=d(8),w=d.i(h.a)(function(C,T){return d.i(f.a)(C)?d.i(u.a)(C,T):[]});s.a=w},function(r,s,d){'use strict';var u=d(84),f=d(134),h=d(13),w=d(8),C=d.i(w.a)(function(T){return d.i(f.a)(d.i(u.a)(T,h.a))});s.a=C},function(r,s,d){'use strict';var u=d(84),f=d(10),h=d(134),w=d(13),C=d(18),T=d(8),P=d.i(T.a)(function(S){var E=d.i(C.a)(S);return d.i(w.a)(E)&&(E=void 0),d.i(h.a)(d.i(u.a)(S,w.a),d.i(f.a)(E))});s.a=P},function(r,s,d){'use strict';var u=d(84),f=d(134),h=d(13),w=d(18),C=d(8),T=d.i(C.a)(function(P){var S=d.i(w.a)(P);return d.i(h.a)(S)&&(S=void 0),d.i(f.a)(d.i(u.a)(P,h.a),void 0,S)});s.a=T},function(r,s,d){'use strict';var u=d(8),f=d(100),h=d.i(u.a)(f.a);s.a=h},function(r,s,d){'use strict';var f=d(69),h=d(200);s.a=function(w,C){return d.i(h.a)(w||[],C||[],f.a)}},function(r,s,d){'use strict';var f=d(464),h=d(200);s.a=function(w,C){return d.i(h.a)(w||[],C||[],f.a)}},function(r,s,d){'use strict';var u=d(8),f=d(150),h=d.i(u.a)(function(w){var C=w.length,T=1<C?w[C-1]:void 0;return T='function'==typeof T?(w.pop(),T):void 0,d.i(f.a)(w,T)});s.a=h},function(r,s){'use strict';s.a=function(f){const h=new Map;for(const w in f)h.set(w,f[w]);return h}},function(r,s){'use strict';function u(T){return!!T&&1==T.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(T)}function f(T){return!!T&&1==T.length&&/[\ud800-\udbff]/.test(T)}function h(T){return!!T&&1==T.length&&/[\udc00-\udfff]/.test(T)}s.a=function(T,P){return f(T.charAt(P-1))&&h(T.charAt(P))},s.b=function(T,P){return u(T.charAt(P))}},function(r,s,d){'use strict';var u=d(319),f=d(320),h=d(2);class w extends h.a{static get pluginName(){return'autoformat/autoformat'}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats()}_addListAutoformats(){const C=this.editor.commands;C.has('bulletedList')&&new u.a(this.editor,/^[*-]\s$/,'bulletedList'),C.has('numberedList')&&new u.a(this.editor,/^\d+[.|)]?\s$/,'numberedList')}_addBasicStylesAutoformats(){const C=this.editor.commands;C.has('bold')&&(new f.a(this.editor,/(\*\*)([^*]+)(\*\*)$/g,'bold'),new f.a(this.editor,/(__)([^_]+)(__)$/g,'bold')),C.has('italic')&&(new f.a(this.editor,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,'italic'),new f.a(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,'italic'))}_addHeadingAutoformats(){const C=this.editor.commands,T=this.editor.config.get('heading.options');if(T)for(const P of T){const S=P.modelElement;let E;if(C.has(S)&&(E=S.match(/\d+$/))){const O=E[0],V=new RegExp(`^(#{${O}})\\s$`);new u.a(this.editor,V,(R)=>{const{batch:F}=R;this.editor.execute(S,{batch:F})})}}}_addBlockQuoteAutoformats(){this.editor.commands.has('blockQuote')&&new u.a(this.editor,/^>\s$/,'blockQuote')}}s.a=w},function(r,s,d){'use strict';var u=d(2),f=d(321),h=d(21),w=d(296),C=d.n(w);class T extends u.a{static get requires(){return[f.a]}static get pluginName(){return'basic-styles/bold'}init(){const P=this.editor,S=P.t,E=P.commands.get('bold'),O='CTRL+B';P.ui.componentFactory.add('bold',(V)=>{const R=new h.a(V);return R.set({label:S('Bold'),icon:C.a,keystroke:O,tooltip:!0}),R.bind('isOn','isEnabled').to(E,'value','isEnabled'),this.listenTo(R,'execute',()=>P.execute('bold')),R}),P.keystrokes.set(O,'bold')}}s.a=T},function(r,s,d){'use strict';var u=d(2),f=d(322),h=d(21),w=d(297),C=d.n(w);class T extends u.a{static get requires(){return[f.a]}static get pluginName(){return'basic-styles/italic'}init(){const P=this.editor,S=P.t,E=P.commands.get('italic'),O='CTRL+I';P.ui.componentFactory.add('italic',(V)=>{const R=new h.a(V);return R.set({label:S('Italic'),icon:C.a,keystroke:O,tooltip:!0}),R.bind('isOn','isEnabled').to(E,'value','isEnabled'),this.listenTo(R,'execute',()=>P.execute('italic')),R}),P.keystrokes.set(O,'italic')}}s.a=T},function(r,s,d){'use strict';var u=d(2),f=d(324),h=d(21),w=d(301),C=d.n(w),T=d(309),P=d.n(T);class S extends u.a{static get requires(){return[f.a]}static get pluginName(){return'block-quote/blockquote'}init(){const E=this.editor,O=E.t,V=E.commands.get('blockQuote');E.ui.componentFactory.add('blockQuote',(R)=>{const F=new h.a(R);return F.set({label:O('Block quote'),icon:C.a,tooltip:!0}),F.bind('isOn','isEnabled').to(V,'value','isEnabled'),this.listenTo(F,'execute',()=>E.execute('blockQuote')),F})}afterInit(){const E=this.editor,O=E.commands.get('blockQuote');this.listenTo(this.editor.editing.view,'enter',(V,R)=>{const F=this.editor.document,N=F.selection.getLastPosition().parent;F.selection.isCollapsed&&N.isEmpty&&O.value&&(this.editor.execute('blockQuote'),R.preventDefault(),V.stop())})}}s.a=S},function(r){'use strict';r.exports={editor:'@ckeditor/ckeditor5-editor-classic/src/classic',moduleName:'ClassicEditor',plugins:['@ckeditor/ckeditor5-presets/src/essentials','@ckeditor/ckeditor5-autoformat/src/autoformat','@ckeditor/ckeditor5-basic-styles/src/bold','@ckeditor/ckeditor5-basic-styles/src/italic','@ckeditor/ckeditor5-block-quote/src/blockquote','@ckeditor/ckeditor5-heading/src/heading','@ckeditor/ckeditor5-image/src/image','@ckeditor/ckeditor5-image/src/imagecaption','@ckeditor/ckeditor5-image/src/imagestyle','@ckeditor/ckeditor5-image/src/imagetoolbar','@ckeditor/ckeditor5-link/src/link','@ckeditor/ckeditor5-list/src/list','@ckeditor/ckeditor5-paragraph/src/paragraph'],config:{toolbar:['headings','bold','italic','link','unlink','bulletedList','numberedList','blockQuote','undo','redo'],image:{toolbar:['imageStyleFull','imageStyleSide','|','imageTextAlternative']}}}},function(r,s,d){'use strict';var u=d(334),f=d(160),h=d(336),w=d(337),C=d(436),T=d(310),P=d.n(T);class S extends u.a{constructor(E,O){super(E,O),this.document.createRoot(),this.data.processor=new f.a,this.ui=new h.a(this,new w.a(this.locale)),this._elementReplacer=new C.a}destroy(){return this.updateEditorElement(),this._elementReplacer.restore(),this.ui.destroy().then(()=>super.destroy())}static create(E,O){return new Promise((V)=>{const R=new this(E,O);V(R.initPlugins().then(()=>R._elementReplacer.replace(E,R.ui.view.element)).then(()=>R.ui.init()).then(()=>R.fire('uiReady')).then(()=>R.editing.view.attachDomRoot(R.ui.view.editableElement)).then(()=>R.loadDataFromEditorElement()).then(()=>{R.fire('dataReady'),R.fire('ready')}).then(()=>R))})}}s.a=S},function(r,s,d){'use strict';function u(R,F){return Array.prototype.concat(...R.map((N)=>[N,F]))}var f=d(73),h=d(375),w=d(2),C=d(416),T=d(407),P=d(80),S=d(6),E=d(312),O=d.n(E);class V extends w.a{static get requires(){return[f.a,h.a]}static get pluginName(){return'heading/heading'}init(){const R=this.editor,F=new P.a,N=this._getLocalizedOptions(),I=[],M=R.t,L=M('Choose heading'),D=M('Heading');for(const z of N){const $=R.commands.get(z.modelElement),K=new C.a({commandName:z.modelElement,label:z.title,class:z.class});K.bind('isActive').to($,'value'),F.add(K),I.push($)}const q=new C.a({withText:!0,items:F,tooltip:D});q.bind('isEnabled').to(...u(I,'isEnabled'),(...z)=>z.some(($)=>$)),q.bind('label').to(...u(I,'value'),(...z)=>{const $=z.findIndex((K)=>K);return N[$]?N[$].title:L}),R.ui.componentFactory.add('headings',(z)=>{const $=d.i(T.a)(q,z);return S.a.extend($.template,{attributes:{class:['ck-heading-dropdown']}}),this.listenTo($,'execute',(K)=>{R.execute(K.source.commandName),R.editing.view.focus()}),$})}_getLocalizedOptions(){const R=this.editor,F=R.t,N={Paragraph:F('Paragraph'),'Heading 1':F('Heading 1'),'Heading 2':F('Heading 2'),'Heading 3':F('Heading 3')};return R.config.get('heading.options').map((I)=>{const M=N[I.title];return M&&M!=I.title&&(I=Object.assign({},I,{title:M})),I})}}s.a=V},function(r,s,d){'use strict';var u=d(2),f=d(171),h=d(541),w=d(382),C=d(39),T=d(315),P=d.n(T);class S extends u.a{static get requires(){return[f.a,h.a,w.a]}static get pluginName(){return'image/image'}init(){const E=this.editor,O=E.plugins.get('ui/contextualtoolbar');O&&this.listenTo(O,'beforeShow',(V,R)=>{const F=E.editing.view.selection.getSelectedElement();F&&d.i(C.a)(F)&&R()})}}s.a=S},function(r,s,d){'use strict';var u=d(2),f=d(377),h=d(313),w=d.n(h);class C extends u.a{static get requires(){return[f.a]}static get pluginName(){return'image/imagecaption'}}s.a=C},function(r,s,d){'use strict';var u=d(2),f=d(381),h=d(21);class w extends u.a{static get requires(){return[f.a]}static get pluginName(){return'image/imagestyle'}init(){const C=this.editor.config.get('image.styles');for(const T of C)this._createButton(T)}_createButton(C){const T=this.editor,P=T.commands.get(C.name);T.ui.componentFactory.add(C.name,(S)=>{const E=new h.a(S);return E.set({label:C.title,icon:C.icon,tooltip:!0}),E.bind('isEnabled').to(P,'isEnabled'),E.bind('isOn').to(P,'value'),this.listenTo(E,'execute',()=>T.execute(C.name)),E})}}s.a=w},function(r,s,d){'use strict';function u(D){return D.getAncestors().find((q)=>q instanceof T.a)}var f=d(2),h=d(362),w=d(38),C=d(387),T=d(174),P=d(417),S=d(176),E=d(21),O=d(388),V=d(302),R=d.n(V),F=d(303),N=d.n(F),I=d(316),M=d.n(I);class L extends f.a{static get requires(){return[C.a,P.a]}static get pluginName(){return'link/link'}init(){this.editor.editing.view.addObserver(h.a),this.formView=this._createForm(),this._balloon=this.editor.plugins.get(P.a),this._createToolbarLinkButton(),this._createToolbarUnlinkButton(),this._attachActions()}_createForm(){const D=this.editor,q=new O.a(D.locale);return q.urlInputView.bind('value').to(D.commands.get('link'),'value'),this.listenTo(q,'submit',()=>{D.execute('link',q.urlInputView.inputView.element.value),this._hidePanel(!0)}),this.listenTo(q,'unlink',()=>{D.execute('unlink'),this._hidePanel(!0)}),this.listenTo(q,'cancel',()=>this._hidePanel(!0)),q.keystrokes.set('Esc',(z,$)=>{this._hidePanel(!0),$()}),q}_createToolbarLinkButton(){const D=this.editor,q=D.commands.get('link'),z=D.t;D.keystrokes.set('CTRL+K',()=>this._showPanel(!0)),D.ui.componentFactory.add('link',($)=>{const K=new E.a($);return K.isEnabled=!0,K.label=z('Link'),K.icon=R.a,K.keystroke='CTRL+K',K.tooltip=!0,K.bind('isEnabled').to(q,'isEnabled'),this.listenTo(K,'execute',()=>this._showPanel(!0)),K})}_createToolbarUnlinkButton(){const D=this.editor,q=D.t,z=D.commands.get('unlink');D.ui.componentFactory.add('unlink',($)=>{const K=new E.a($);return K.isEnabled=!1,K.label=q('Unlink'),K.icon=N.a,K.tooltip=!0,K.bind('isEnabled').to(z,'isEnabled'),this.listenTo(K,'execute',()=>D.execute('unlink')),K})}_attachActions(){const D=this.editor.editing.view;this.listenTo(D,'click',()=>{const q=this._getSelectedLinkElement();q&&this._showPanel()}),this.editor.keystrokes.set('Tab',(q,z)=>{this._balloon.visibleView!==this.formView||this.formView.focusTracker.isFocused||(this.formView.focus(),z())}),this.editor.keystrokes.set('Esc',(q,z)=>{this._balloon.visibleView===this.formView&&(this._hidePanel(),z())}),d.i(S.a)({emitter:this.formView,activator:()=>this._balloon.hasView(this.formView),contextElement:this._balloon.view.element,callback:()=>this._hidePanel()})}_showPanel(D){const q=this.editor,z=q.commands.get('link'),$=q.editing,K=$.view,H=K.selection.isCollapsed,W=this._getSelectedLinkElement();return this.formView.unlinkButtonView.isVisible=!!W,this.formView.urlInputView.inputView.element.value=z.value||'',this.listenTo(K,'render',()=>{const U=this._getSelectedLinkElement(),Z=K.selection.isCollapsed;H&&!Z||W!==U?this._hidePanel(!0):U?this._balloon.updatePosition():this._balloon.updatePosition(this._getBalloonPositionData())}),this._balloon.hasView(this.formView)?(D&&this._balloon.visibleView===this.formView&&this.formView.urlInputView.select(),Promise.resolve()):this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}).then(()=>{D&&this.formView.urlInputView.select()})}_hidePanel(D){this.stopListening(this.editor.editing.view,'render');this._balloon.hasView(this.formView)&&(D&&this.editor.editing.view.focus(),this.stopListening(this.editor.editing.view,'render'),this._balloon.remove(this.formView))}_getBalloonPositionData(){const D=this.editor.editing.view,q=this._getSelectedLinkElement(),z=q?D.domConverter.getCorrespondingDomElement(q):D.domConverter.viewRangeToDom(D.selection.getFirstRange());return{target:z,limiter:D.domConverter.getCorrespondingDomElement(D.selection.editableElement)}}_getSelectedLinkElement(){const D=this.editor.editing.view.selection;if(D.isCollapsed)return u(D.getFirstPosition());const q=D.getFirstRange().getTrimmed(),z=u(q.start),$=u(q.end);return z&&z==$?w.a.createIn(z).getTrimmed().isEqual(q)?z:null:null}}s.a=L},function(r,s,d){'use strict';var u=d(393),f=d(305),h=d.n(f),w=d(304),C=d.n(w),T=d(2),P=d(22),S=d(21);class E extends T.a{static get requires(){return[u.a]}static get pluginName(){return'list/list'}init(){const O=this.editor.t;this._addButton('numberedList',O('Numbered List'),h.a),this._addButton('bulletedList',O('Bulleted List'),C.a),this.listenTo(this.editor.editing.view,'enter',(V,R)=>{const F=this.editor.document,N=F.selection.getLastPosition().parent;F.selection.isCollapsed&&'listItem'==N.name&&N.isEmpty&&(this.editor.execute('outdentList'),R.preventDefault(),V.stop())}),this.listenTo(this.editor.editing.view,'keydown',(V,R)=>{let F;if(R.keystroke==d.i(P.a)('Tab')?F='indentList':R.keystroke==d.i(P.a)('Shift+Tab')&&(F='outdentList'),F){const N=this.editor.commands.get(F);N.isEnabled&&(this.editor.execute(F),R.preventDefault(),V.stop())}})}_addButton(O,V,R){const F=this.editor,N=F.commands.get(O);F.ui.componentFactory.add(O,(I)=>{const M=new S.a(I);return M.set({label:V,icon:R,tooltip:!0}),M.bind('isOn','isEnabled').to(N,'value','isEnabled'),this.listenTo(M,'execute',()=>F.execute(O)),M})}}s.a=E},function(r,s,d){'use strict';var u=d(2),f=d(326),h=d(371),w=d(401),C=d(422);class T extends u.a{static get requires(){return[f.a,h.a,w.a,C.a]}}s.a=T},function(r,s,d){s=r.exports=d(28)(void 0),s.push([r.i,'blockquote{border-left:5px solid #ccc;padding-left:20px;margin-left:0;font-style:italic}',''])},function(r,s,d){s=r.exports=d(28)(void 0),s.push([r.i,'.ck-hidden{display:none!important}.ck-reset,.ck-reset_all,.ck-reset_all *,.ck-reset_all a,.ck-reset_all textarea{box-sizing:border-box;width:auto;height:auto;position:static}svg.ck-icon{min-width:20px;min-height:20px;font-size:1em;vertical-align:middle}svg.ck-icon,svg.ck-icon *{color:inherit;cursor:inherit}svg.ck-icon *{fill:currentColor}[data-ck-tooltip]:after,[data-ck-tooltip]:before{visibility:hidden;opacity:0;display:none;position:absolute;z-index:999;pointer-events:none;-webkit-backface-visibility:hidden}[data-ck-tooltip]:after{content:attr(data-ck-tooltip)}[data-ck-tooltip]:before{content:"";width:0;height:0}.ck-button,a.ck-button{display:inline-block;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.ck-button:after,.ck-button:before,a.ck-button:after,a.ck-button:before{display:block}.ck-button:hover:after,.ck-button:hover:before,a.ck-button:hover:after,a.ck-button:hover:before{visibility:visible;opacity:1}.ck-button .ck-button__label,.ck-button:focus:not(:hover):after,.ck-button:focus:not(:hover):before,a.ck-button .ck-button__label,a.ck-button:focus:not(:hover):after,a.ck-button:focus:not(:hover):before{display:none}.ck-toolbar__separator{display:inline-block}.ck-toolbar__newline{display:block;clear:left}.ck-dropdown{display:inline-block;position:relative}.ck-dropdown:after{content:"";width:0;height:0;pointer-events:none;z-index:1;position:absolute;top:50%;transform:translateY(-50%)}.ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:999;position:absolute;left:0;transform:translateY(100%)}.ck-dropdown__panel-visible{display:inline-block}.ck-label,.ck-list__item{display:block}.cke-voice-label{display:none}.ck-balloon-panel{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;display:none;position:absolute;z-index:999}.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:1}.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:2}.ck-balloon-panel.ck-balloon-panel_arrow_n:before,.ck-balloon-panel.ck-balloon-panel_arrow_ne:before,.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{z-index:1}.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck-balloon-panel.ck-balloon-panel_arrow_nw:after{z-index:2}.ck-balloon-panel.ck-balloon-panel_arrow_s:before,.ck-balloon-panel.ck-balloon-panel_arrow_se:before,.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{z-index:1}.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck-balloon-panel.ck-balloon-panel_arrow_sw:after{z-index:2}.ck-balloon-panel_visible{display:block}.ck-editor .ck-toolbar.ck-toolbar_sticky{position:fixed;top:0}.ck-editor .ck-toolbar.ck-toolbar_sticky.ck-toolbar_sticky_bottom-limit{top:auto;position:absolute}.ck-reset,.ck-reset_all,.ck-reset_all *,.ck-reset_all a,.ck-reset_all textarea{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none}.ck-reset_all,.ck-reset_all *,.ck-reset_all a,.ck-reset_all textarea{border-collapse:collapse;font:normal normal normal 12px Helvetica,Arial,Tahoma,Verdana,Sans-Serif;color:#333;text-align:left;white-space:nowrap;cursor:auto;float:none}.ck-reset_all .ck-rtl *{text-align:right}.ck-reset_all iframe{vertical-align:inherit}.ck-reset_all textarea{white-space:pre-wrap}.ck-reset_all input[type=password],.ck-reset_all input[type=text],.ck-reset_all textarea{cursor:text}.ck-reset_all input[type=password][disabled],.ck-reset_all input[type=text][disabled],.ck-reset_all textarea[disabled]{cursor:default}.ck-reset_all fieldset{padding:10px;border:2px groove #e0dfe3}.ck-reset_all button::-moz-focus-inner{padding:0;border:0}svg.ck-icon{width:1.66667em;height:1.66667em}[data-ck-tooltip]:after,[data-ck-tooltip]:before{left:50%;transition:opacity .2s ease-in-out .2s}[data-ck-tooltip]:after{border-radius:2px;color:#fff;font-size:.7rem;background:#333;padding:.4em .64em}[data-ck-tooltip]:before{border-style:solid}.ck-tooltip_s:after{bottom:-4px;transform:translate(-50%,100%)}.ck-tooltip_s:before{bottom:0;transform:translate(-50%,100%);border-color:transparent transparent #333;border-width:0 5px 5px}.ck-tooltip_n:after{top:-4px;transform:translate(-50%,-100%)}.ck-tooltip_n:before{top:0;transform:translate(-50%,-100%);border-color:#333 transparent transparent;border-width:5px 5px 0}.ck-button,a.ck-button{background:#fff;border:1px solid #bfbfbf;white-space:nowrap;cursor:default;vertical-align:middle;padding:.4em;line-height:1.66667}.ck-button:not(.ck-disabled):focus,.ck-button:not(.ck-disabled):hover,a.ck-button:not(.ck-disabled):focus,a.ck-button:not(.ck-disabled):hover{background:#e6e6e6;border-color:#a6a6a6}.ck-button:not(.ck-disabled):active,a.ck-button:not(.ck-disabled):active{background:#d9d9d9;border-color:#999;box-shadow:inset 0 2px 2px #bfbfbf}.ck-button.ck-rounded-corners,.ck-rounded-corners .ck-button,.ck-rounded-corners a.ck-button,a.ck-button.ck-rounded-corners{border-radius:2px}.ck-button:focus,a.ck-button:focus{outline:none;border:1px solid #6ab5f9;box-shadow:0 0 3px 2px #9bcdfb}.ck-button .ck-icon,a.ck-button .ck-icon{float:left}.ck-button.ck-disabled .ck-icon,a.ck-button.ck-disabled .ck-icon{opacity:.5}.ck-button.ck-button_with-text,a.ck-button.ck-button_with-text{padding:.4em .8em}.ck-button.ck-button_with-text .ck-icon,a.ck-button.ck-button_with-text .ck-icon{margin-left:-.4em;margin-right:.4em}.ck-button.ck-button_with-text .ck-button__label,a.ck-button.ck-button_with-text .ck-button__label{display:block}.ck-button.ck-on,a.ck-button.ck-on{background:#f7f7f7;border-color:#b9b9b9}.ck-button.ck-on:not(.ck-disabled):focus,.ck-button.ck-on:not(.ck-disabled):hover,a.ck-button.ck-on:not(.ck-disabled):focus,a.ck-button.ck-on:not(.ck-disabled):hover{background:#dedede;border-color:#a1a1a1}.ck-button.ck-on:not(.ck-disabled):active,a.ck-button.ck-on:not(.ck-disabled):active{background:#d2d2d2;border-color:#949494;box-shadow:inset 0 2px 2px #b9b9b9}.ck-button-action,a.ck-button-action{background:#61b145;border-color:#498534;text-shadow:0 -1px #4e8e37;color:#fff}.ck-button-action:not(.ck-disabled):focus,.ck-button-action:not(.ck-disabled):hover,a.ck-button-action:not(.ck-disabled):focus,a.ck-button-action:not(.ck-disabled):hover{background:#579f3e;border-color:#3f732d}.ck-button-action:not(.ck-disabled):active,a.ck-button-action:not(.ck-disabled):active{background:#52963b;border-color:#3a6a29;box-shadow:inset 0 2px 2px #498534}.ck-button-action:active,.ck-button-action:focus,.ck-button-action:hover,a.ck-button-action:active,a.ck-button-action:focus,a.ck-button-action:hover{text-shadow:0 -1px #3a6a29}.ck-button-bold,a.ck-button-bold{font-weight:700}.ck-button .ck-icon use,.ck-button .ck-icon use *,a.ck-button .ck-icon use,a.ck-button .ck-icon use *{color:inherit}.ck-button .ck-button__label,a.ck-button .ck-button__label{float:left;line-height:inherit;font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit}.ck-toolbar{line-height:1;padding:.4em;border:1px solid #bfbfbf;white-space:normal;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.ck-toolbar_floating{white-space:nowrap}.ck-rounded-corners .ck-toolbar,.ck-toolbar.ck-rounded-corners{border-radius:2px}.ck-toolbar__separator{width:1px;height:2.28em;vertical-align:middle;background:#bfbfbf}.ck-toolbar__newline{height:.4em}.ck-toolbar>*{margin-right:.4em}.ck-toolbar>:last-child{margin-right:0}.ck-toolbar-container .ck-toolbar{border:0}.ck-dropdown:after{border-style:solid;border-width:.4em .4em 0;border-color:#707070 transparent;right:.8em}.ck-dropdown .ck-button.ck-dropdown__button{padding-right:1.6em}.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled{background:#fff;border-color:#d9d9d9}.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled:not(.ck-disabled):focus,.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled:not(.ck-disabled):hover{background:#fff;border-color:#bfbfbf}.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled:not(.ck-disabled):active{background:#f2f2f2;border-color:#b3b3b3;box-shadow:inset 0 2px 2px #d9d9d9}.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:.5}.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck-dropdown__panel{border:1px solid #b9b9b9;bottom:1px;background:#fff;box-shadow:0 1px 2px 0 rgba(0,0,0,.2)}.ck-dropdown__panel.ck-rounded-corners,.ck-rounded-corners .ck-dropdown__panel{border-radius:2px}.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;list-style-type:none;background:#fff}.ck-list.ck-rounded-corners,.ck-rounded-corners .ck-list{border-radius:2px}.ck-list__item{padding:.64em;cursor:default;min-width:12em}.ck-list__item:focus,.ck-list__item:hover{background:#f7f7f7}.ck-list__item:focus{box-shadow:0 0 3px 2px #9bcdfb;position:relative;z-index:1;outline:none}.ck-list__item:last-of-type{border:none}.ck-list__item_active{background:#1a8bf1;color:#fff}.ck-list__item_active:focus,.ck-list__item_active:hover{background:#0e7ee2}.ck-label{font-weight:700}.ck-input-text{box-shadow:inset 2px 2px 3px #e6e6e6;border:1px solid #b9b9b9;padding:.64em;min-width:250px}.ck-input-text.ck-rounded-corners,.ck-rounded-corners .ck-input-text{border-radius:2px}.ck-input-text:focus{outline:none;border:1px solid #6ab5f9;box-shadow:0 0 3px 2px #9bcdfb,inset 2px 2px 3px #e6e6e6}.ck-balloon-panel{box-shadow:0 1px 2px 0 rgba(0,0,0,.2);min-height:15px;background:#fff;border:1px solid #b9b9b9}.ck-balloon-panel.ck-rounded-corners,.ck-rounded-corners .ck-balloon-panel{border-radius:2px}.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck-balloon-panel.ck-balloon-panel_arrow_n:before,.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck-balloon-panel.ck-balloon-panel_arrow_ne:before,.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{border-width:0 10px 15px}.ck-balloon-panel.ck-balloon-panel_arrow_n:before,.ck-balloon-panel.ck-balloon-panel_arrow_ne:before,.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{border-color:transparent transparent #b9b9b9}.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck-balloon-panel.ck-balloon-panel_arrow_nw:after{border-color:transparent transparent #fff;margin-top:2px}.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck-balloon-panel.ck-balloon-panel_arrow_s:before,.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck-balloon-panel.ck-balloon-panel_arrow_se:before,.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{border-width:15px 10px 0}.ck-balloon-panel.ck-balloon-panel_arrow_s:before,.ck-balloon-panel.ck-balloon-panel_arrow_se:before,.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{border-color:#b9b9b9 transparent transparent}.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck-balloon-panel.ck-balloon-panel_arrow_sw:after{border-color:#fff transparent transparent;margin-bottom:2px}.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:-10px;top:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{left:20px;top:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{right:20px;top:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:-10px;bottom:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck-balloon-panel.ck-balloon-panel_arrow_se:before{left:20px;bottom:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{right:20px;bottom:-15px}.ck-editor-toolbar{border-radius:0}.ck-editor-toolbar .ck-button{border-width:0}.ck-editor-toolbar .ck-button.ck-disabled,.ck-editor-toolbar .ck-button:not(:hover):not(:focus):not(.ck-on){background:#f7f7f7}.ck-editor-toolbar .ck-button.ck-on{background:#dedede;border-color:#a1a1a1}.ck-editor-toolbar .ck-button.ck-on:not(.ck-disabled):focus,.ck-editor-toolbar .ck-button.ck-on:not(.ck-disabled):hover{background:#c6c6c6;border-color:#888}.ck-editor-toolbar .ck-button.ck-on:not(.ck-disabled):active{background:#b9b9b9;border-color:#7c7c7c;box-shadow:inset 0 2px 2px #a1a1a1}.ck-editor-toolbar .ck-dropdown__button{border-width:1px}.ck-editor-toolbar .ck-dropdown__button:not(:hover):not(:focus):not(.ck-on){background:#fff}.ck-toolbar-container .ck-editor-toolbar{background:#f7f7f7}.ck-editor-toolbar-container.ck-balloon-panel_arrow_n:after,.ck-editor-toolbar-container.ck-balloon-panel_arrow_ne:after,.ck-editor-toolbar-container.ck-balloon-panel_arrow_nw:after{border-bottom-color:#f7f7f7}.ck-editor-toolbar-container.ck-balloon-panel_arrow_s:after,.ck-editor-toolbar-container.ck-balloon-panel_arrow_se:after,.ck-editor-toolbar-container.ck-balloon-panel_arrow_sw:after{border-top-color:#f7f7f7}.ck-editor .ck-toolbar.ck-toolbar_sticky{box-shadow:0 1px 2px 0 rgba(0,0,0,.2);border:1px solid #bfbfbf;border-width:0 0 1px;background:#f7f7f7}.ck-editor{position:relative}.ck-editor.ck-rounded-corners,.ck-rounded-corners .ck-editor{border-radius:2px}.ck-editor .ck-editor__top .ck-toolbar{border-top:0;border-left:0;border-right:0}.ck-editor .ck-editor__main{background:#fff}.ck-editor .ck-editor__bottom{border-bottom:0;border-left:0;border-right:0;padding:.8em}.ck-editor .ck-editor__editable.ck-focused{outline:1px solid #6ab5f9;box-shadow:inset 2px 2px 3px #e6e6e6}.ck-editor .ck-editor__editable_inline{overflow:auto;padding:0 .8em}.ck-editor,.ck-editor-bottom{background:#f7f7f7;border:1px solid #b9b9b9}',''])},function(r,s,d){s=r.exports=d(28)(void 0),s.push([r.i,'.ck-placeholder:before{content:attr(data-placeholder);cursor:text;color:#c2c2c2}',''])},function(r,s,d){s=r.exports=d(28)(void 0),s.push([r.i,'.ck-heading_heading1{font-size:1.5em}.ck-heading_heading2{font-size:1.3em}.ck-heading_heading3{font-size:1.1em}[class*=ck-heading_]{line-height:21.6px;padding:9.6px}[class*=ck-heading_heading]{font-weight:700}.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}',''])},function(r,s,d){s=r.exports=d(28)(void 0),s.push([r.i,'.ck-editor__editable .image>figcaption{background-color:#f7f7f7;padding:.8em;font-size:.75rem;color:#858585;outline-offset:-1px}',''])},function(r,s,d){s=r.exports=d(28)(void 0),s.push([r.i,'.cke-text-alternative-form{padding:1.2em;overflow:hidden}.cke-text-alternative-form .ck-label{margin-bottom:.4em}.cke-text-alternative-form__actions{clear:both;padding-top:1.2em}.cke-text-alternative-form__actions .ck-button{float:right}.cke-text-alternative-form__actions .ck-button+.ck-button{margin-right:.64em}.cke-text-alternative-form__actions .ck-button+.ck-button+.ck-button{float:left}',''])},function(r,s,d){s=r.exports=d(28)(void 0),s.push([r.i,'.ck-editor__editable .image{text-align:center;clear:both}.ck-editor__editable .image.image-style-side{float:right;margin-left:.8em;max-width:50%}.ck-editor__editable .image>img{display:block;margin:0 auto;max-width:100%}',''])},function(r,s,d){s=r.exports=d(28)(void 0),s.push([r.i,'.ck-link-form{padding:1.2em;overflow:hidden}.ck-link-form:focus{outline:none}.ck-link-form .ck-label{margin-bottom:.4em}.ck-link-form__actions{clear:both;padding-top:1.2em}.ck-link-form__actions .ck-button{float:right}.ck-link-form__actions .ck-button+.ck-button{margin-right:.64em}.ck-link-form__actions .ck-button+.ck-button+.ck-button{float:left}',''])},function(r,s,d){s=r.exports=d(28)(void 0),s.push([r.i,'.ck-widget{margin:.8em 0;padding:0}.ck-widget.ck-widget_selected,.ck-widget.ck-widget_selected:hover{outline:3px solid #6ab5f9}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected{outline:3px solid #ddd}.ck-widget:hover{outline:3px solid #ffd25c}.ck-widget .ck-editable.ck-editable_focused,.ck-widget .ck-editable:focus{outline:1px solid #6ab5f9;box-shadow:inset 2px 2px 3px #e6e6e6;background-color:#fff}',''])},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>bold</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="bold" sketch:type="MSArtboardGroup" fill="#454545">\n            <g id="icon:bold" sketch:type="MSLayerGroup" transform="translate(4.000000, 3.000000)">\n                <path d="M11.135257,7.40877709 C11.4960763,7.65684034 11.7892376,7.96832419 12.0147496,8.34323798 C12.2402617,8.71815176 12.353016,9.15930309 12.353016,9.66670521 C12.353016,10.2755877 12.2247579,10.7900294 11.968238,11.2100456 C11.711718,11.6300618 11.343857,11.9612776 10.8646439,12.2037031 C10.3572418,12.463042 9.77232867,12.6462677 9.10988702,12.753386 C8.44744538,12.8605042 7.66803104,12.9140625 6.77162064,12.9140625 L0.5390625,12.9140625 L0.5390625,12.254443 C0.713834339,12.2375296 0.933705291,12.2121599 1.19868195,12.1783331 C1.46365861,12.1445063 1.64970326,12.1050423 1.75682149,12.0599399 C1.96542013,11.9753729 2.10777248,11.864028 2.1838828,11.7259018 C2.25999311,11.5877757 2.2980477,11.4087782 2.2980477,11.1889039 L2.2980477,2.73224432 C2.2980477,2.52928347 2.26704026,2.36015197 2.20502445,2.22484474 C2.14300863,2.08953751 1.99360914,1.97114546 1.75682149,1.86966504 C1.58204965,1.79637362 1.37909184,1.73576817 1.14794199,1.68784686 C0.916792141,1.63992554 0.713834339,1.60187096 0.5390625,1.57368195 L0.5390625,0.9140625 L7.05914707,0.9140625 C8.69974724,0.9140625 9.88366774,1.13957117 10.6109441,1.59059527 C11.3382205,2.04161937 11.7018532,2.70686994 11.7018532,3.58636694 C11.7018532,3.99228863 11.6201063,4.34887421 11.4566101,4.65613438 C11.2931138,4.96339455 11.0591486,5.22977666 10.7547073,5.45528872 C10.4784551,5.66388736 10.1486486,5.8442943 9.76527814,5.99651493 C9.38190766,6.14873557 8.97035434,6.27558419 8.53060584,6.37706461 L8.53060584,6.53774115 C8.97035434,6.58284356 9.42700939,6.68009417 9.9005847,6.8294959 C10.37416,6.97889764 10.7857133,7.17198943 11.135257,7.40877709 L11.135257,7.40877709 Z M8.41221261,3.79778343 C8.41221261,3.13252288 8.22475853,2.61385294 7.84984474,2.24175806 C7.47493096,1.86966318 6.91256872,1.68361853 6.16274115,1.68361853 C6.05562292,1.68361853 5.91608943,1.68784681 5.7441365,1.69630351 C5.57218356,1.70476022 5.42419349,1.71180736 5.30016187,1.71744516 L5.30016187,6.16564812 L5.73990817,6.16564812 C6.65323197,6.16564812 7.32693912,5.95282432 7.76104982,5.52717032 C8.19516051,5.10151633 8.41221261,4.52505979 8.41221261,3.79778343 L8.41221261,3.79778343 Z M9.00417878,9.55676863 C9.00417878,8.72237404 8.75611924,8.0824932 8.25999273,7.6371069 C7.76386622,7.1917206 7.05069506,6.96903079 6.12045785,6.96903079 C6.01333962,6.96903079 5.87098728,6.97325908 5.69339654,6.98171578 C5.5158058,6.99017248 5.38472888,6.99721962 5.30016187,7.00285743 L5.30016187,11.3918638 C5.35090208,11.6004624 5.50875814,11.7766411 5.7737348,11.920405 C6.03871146,12.0641689 6.36006132,12.1360498 6.737794,12.1360498 C7.40869235,12.1360498 7.95414144,11.9105411 8.37415764,11.459517 C8.79417383,11.0084929 9.00417878,10.3742498 9.00417878,9.55676863 L9.00417878,9.55676863 Z" id="B" sketch:type="MSShapeGroup"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>italic</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="italic" sketch:type="MSArtboardGroup" fill="#454545">\n            <g id="icon:italic" sketch:type="MSLayerGroup" transform="translate(5.000000, 3.000000)">\n                <path d="M8.82538319,0.9140625 L8.6985333,1.47220203 C8.52376146,1.47783984 8.29543393,1.50320956 8.01354387,1.54831197 C7.73165381,1.59341438 7.52305829,1.63569726 7.38775106,1.67516187 C7.1509634,1.74845328 6.9818319,1.86120762 6.88035148,2.01342825 C6.77887106,2.16564888 6.70558074,2.33196153 6.66047833,2.51237117 L4.63088002,11.2819272 C4.61960442,11.3213918 4.61114784,11.3664935 4.60551004,11.4172337 C4.59987224,11.467974 4.59705338,11.5130757 4.59705338,11.5525403 C4.59705338,11.6822097 4.62524197,11.7921452 4.68161998,11.88235 C4.73799799,11.9725548 4.83947689,12.0514829 4.98605973,12.1191365 C5.07062674,12.1586011 5.2566714,12.2051123 5.54419926,12.2586714 C5.83172712,12.3122305 6.04596036,12.3446474 6.18690539,12.355923 L6.0600555,12.9140625 L0.65625,12.9140625 L0.783099894,12.355923 C0.94095833,12.3446474 1.166467,12.3277342 1.45963266,12.305183 C1.75279833,12.2826318 1.96139385,12.2488055 2.08542548,12.2037031 C2.30529973,12.1247739 2.47161237,12.0162478 2.58436839,11.8781217 C2.69712442,11.7399956 2.77323359,11.5722735 2.8126982,11.3749504 L4.83383985,2.59693776 C4.84511545,2.54619755 4.85357203,2.4954581 4.85920983,2.44471789 C4.86484763,2.39397768 4.86766649,2.34323823 4.86766649,2.29249802 C4.86766649,2.17974199 4.84370619,2.08108195 4.79578488,1.99651493 C4.74786357,1.91194791 4.6477941,1.83583874 4.49557347,1.76818512 C4.34335283,1.70053151 4.13616674,1.63710719 3.87400899,1.57791028 C3.61185123,1.51871337 3.41875943,1.48347764 3.2947278,1.47220203 L3.4215777,0.9140625 L8.82538319,0.9140625 Z" id="I" sketch:type="MSShapeGroup"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="100%" height="100%" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M5.414,6.749l-2.511,-2.512c-0.192,-0.191 -0.192,-0.502 0,-0.694c0.192,-0.192 0.503,-0.192 0.694,0l2.797,2.797c0.695,-0.251 1.407,-0.428 2.127,-0.53c0.366,-0.051 0.734,-0.081 1.103,-0.095c0.137,-0.003 0.275,-0.005 0.412,-0.004c0.371,0.006 0.742,0.029 1.112,0.074c1.109,0.134 2.204,0.449 3.243,0.936c0.743,0.347 1.464,0.782 2.12,1.331c0.276,0.231 0.542,0.484 0.784,0.766c0.18,0.211 0.349,0.439 0.488,0.692c0.169,0.307 0.301,0.664 0.301,1.039c0,0.375 -0.132,0.732 -0.301,1.039c-0.139,0.252 -0.308,0.481 -0.488,0.691c-0.242,0.283 -0.508,0.535 -0.784,0.767c-0.647,0.542 -1.359,0.973 -2.092,1.318l2.196,2.197c0.192,0.191 0.192,0.503 0,0.694c-0.191,0.192 -0.503,0.192 -0.694,0l-2.485,-2.484l-0.008,0.003l-0.931,-0.931l0.009,-0.003l-6.215,-6.215c-0.321,0.131 -0.636,0.278 -0.945,0.444l6.239,6.24l-0.006,0.005l0.78,0.78c-0.388,0.094 -0.78,0.166 -1.174,0.215l-1.11,-1.11l0.011,0l-5.603,-5.603c-0.229,0.157 -0.452,0.328 -0.665,0.514c-0.038,0.032 -0.075,0.065 -0.112,0.098l4.897,4.897l-0.005,0.006l1.276,1.276c-0.494,-0.003 -0.987,-0.042 -1.477,-0.117l-0.479,-0.479l-0.009,0.009l-4.863,-4.863c-0.007,0.01 -0.015,0.021 -0.022,0.031c-0.044,0.065 -0.086,0.131 -0.124,0.2c-0.026,0.047 -0.05,0.095 -0.071,0.145c-0.014,0.031 -0.026,0.063 -0.037,0.096c-0.013,0.042 -0.026,0.087 -0.028,0.133c-0.001,0.024 0.003,0.049 0.008,0.072c0.009,0.041 0.022,0.082 0.036,0.12c0.014,0.036 0.029,0.072 0.046,0.106c0.031,0.065 0.066,0.126 0.103,0.186c0.041,0.067 0.085,0.131 0.131,0.193l3.463,3.594c-0.281,-0.097 -0.56,-0.206 -0.835,-0.326c-0.44,-0.193 -0.872,-0.417 -1.29,-0.674c-0.35,-0.215 -0.69,-0.454 -1.015,-0.721c-0.281,-0.23 -0.551,-0.482 -0.798,-0.764c-0.184,-0.21 -0.357,-0.438 -0.502,-0.69c-0.184,-0.319 -0.329,-0.693 -0.329,-1.089c0,-0.375 0.131,-0.732 0.301,-1.039c0.139,-0.253 0.307,-0.481 0.488,-0.692c0.225,-0.263 0.471,-0.5 0.728,-0.719c0.647,-0.552 1.36,-0.99 2.096,-1.341l0.019,-0.009l0,0Zm6.674,0.401c1.069,0.849 1.755,2.16 1.755,3.63c0,0.833 -0.224,1.648 -0.647,2.362l0.345,0.344c0.015,-0.006 0.03,-0.012 0.046,-0.018c0.695,-0.285 1.372,-0.649 2,-1.112c0.252,-0.186 0.497,-0.388 0.727,-0.613c0.137,-0.134 0.27,-0.277 0.392,-0.431c0.072,-0.091 0.141,-0.185 0.203,-0.286c0.037,-0.06 0.072,-0.121 0.103,-0.186c0.016,-0.034 0.032,-0.07 0.045,-0.106c0.015,-0.039 0.028,-0.079 0.036,-0.12c0.005,-0.023 0.009,-0.048 0.008,-0.072c-0.002,-0.046 -0.014,-0.091 -0.028,-0.133c-0.01,-0.033 -0.023,-0.065 -0.036,-0.096c-0.022,-0.05 -0.046,-0.098 -0.071,-0.145c-0.039,-0.069 -0.081,-0.135 -0.125,-0.2c-0.081,-0.118 -0.17,-0.229 -0.263,-0.335c-0.166,-0.19 -0.345,-0.362 -0.53,-0.523c-0.333,-0.29 -0.689,-0.543 -1.054,-0.768c-0.601,-0.369 -1.232,-0.664 -1.879,-0.891c-0.338,-0.119 -0.681,-0.219 -1.027,-0.301Zm-2.85,0.21c-0.023,0 -0.046,0.001 -0.069,0.002c-0.092,0.01 -0.18,0.041 -0.254,0.097c-0.163,0.123 -0.234,0.34 -0.175,0.535c0.016,0.051 0.04,0.1 0.071,0.144c0.036,0.05 0.082,0.093 0.133,0.126c0.059,0.038 0.124,0.061 0.193,0.073c0.023,0.003 0.022,0.003 0.045,0.005c0.091,0.003 0.181,0.003 0.272,0.012c0.158,0.016 0.315,0.048 0.467,0.094c0.496,0.151 0.937,0.462 1.246,0.878c0.124,0.167 0.224,0.349 0.304,0.541c0.024,0.061 0.043,0.125 0.069,0.185c0.038,0.077 0.089,0.144 0.159,0.194c0.085,0.062 0.188,0.093 0.291,0.093l0.008,0c0.077,-0.002 0.154,-0.021 0.224,-0.059c0.047,-0.026 0.09,-0.059 0.126,-0.099c0.042,-0.045 0.075,-0.098 0.097,-0.155c0.022,-0.057 0.034,-0.119 0.033,-0.18c0,-0.077 -0.022,-0.147 -0.048,-0.219c-0.015,-0.043 -0.031,-0.085 -0.048,-0.127c-0.084,-0.209 -0.189,-0.409 -0.312,-0.596c-0.436,-0.664 -1.102,-1.164 -1.862,-1.395c-0.214,-0.066 -0.434,-0.11 -0.657,-0.132c-0.09,-0.009 -0.181,-0.014 -0.272,-0.016c-0.009,0 -0.018,0 -0.028,-0.001l-0.013,0Z"/></svg>\n'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="100%" height="100%" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve"><path d="M2,16l16,0l0,1l-16,0l0,-1Zm15,-2l-14,0l0,-8l14,0l0,8Zm-1,-7l-12,0l0,6l12,0l0,-6Zm-14,-4l16,0l0,1l-16,0l0,-1Z"/></svg>\n'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="100%" height="100%" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve"><path id="_-Curves-" d="M18,16l-16,0l0,-1l16,0l0,1Zm-11.022,-3l-4.978,0l0,-1l4.978,0l0,1Zm11.022,-7l0,7l-9,0l0,-7l9,0Zm-1,6l0,-5l-7,0l0,5l7,0Zm-10.022,-2l-4.978,0l0,-1l4.978,0l0,1Zm0,-3l-4.978,0l0,-1l4.978,0l0,1Zm11.022,-3l-16,0l0,-1l16,0l0,1Z"/></svg>\n'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>quote</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="quote" sketch:type="MSArtboardGroup" fill="#454545">\n            <g id="icon:blockquote" sketch:type="MSLayerGroup" transform="translate(2.000000, 4.000000)">\n                <path d="M6.04296875,0.887157207 L6.04296875,1.76899314 C4.64843053,2.61665363 3.69824472,3.40277858 3.19238281,4.12739158 C2.82324034,4.66059737 2.63867188,5.28949733 2.63867188,6.01411033 C2.63867188,6.45161252 2.7207023,6.77289837 2.88476562,6.97797752 C3.035157,7.18305667 3.2128896,7.28559471 3.41796875,7.28559471 C3.55468818,7.28559471 3.74609252,7.23774362 3.9921875,7.14204002 C4.36132997,7.01899253 4.66210821,6.95746971 4.89453125,6.95746971 C5.44140898,6.95746971 5.92675569,7.16254578 6.35058594,7.57270408 C6.77441618,7.98286238 6.98632812,8.49555257 6.98632812,9.11079002 C6.98632812,9.80805913 6.77441618,10.3480928 6.35058594,10.7309072 C5.76269237,11.2504411 5.07910546,11.5102041 4.29980469,11.5102041 C3.37011254,11.5102041 2.54297237,11.1205595 1.81835938,10.3412588 C1.09374638,9.561958 0.731445312,8.59810045 0.731445312,7.44965721 C0.731445312,5.83636789 1.3330018,4.36665602 2.53613281,3.04047752 C3.34277747,2.16547314 4.51171109,1.44770688 6.04296875,0.887157207 L6.04296875,0.887157207 Z M14.429297,0.887157207 L14.429297,1.76899314 C13.0347587,2.61665363 12.0845729,3.40277858 11.578711,4.12739158 C11.2095686,4.66059737 11.0250001,5.28949733 11.0250001,6.01411033 C11.0250001,6.45161252 11.1070305,6.77289837 11.2710938,6.97797752 C11.4214852,7.18305667 11.5992178,7.28559471 11.804297,7.28559471 C11.9410164,7.28559471 12.1324207,7.23774362 12.3785157,7.14204002 C12.7476582,7.01899253 13.0484364,6.95746971 13.2808595,6.95746971 C13.8277372,6.95746971 14.3130839,7.16254578 14.7369142,7.57270408 C15.1607444,7.98286238 15.3726563,8.49555257 15.3726563,9.11079002 C15.3726563,9.80805913 15.1607444,10.3480928 14.7369142,10.7309072 C14.1490206,11.2504411 13.4654337,11.5102041 12.6861329,11.5102041 C11.7564408,11.5102041 10.9293006,11.1205595 10.2046876,10.3412588 C9.4800746,9.561958 9.11777353,8.59810045 9.11777353,7.44965721 C9.11777353,5.83636789 9.71933002,4.36665602 10.922461,3.04047752 C11.7291057,2.16547314 12.8980393,1.44770688 14.429297,0.887157207 L14.429297,0.887157207 Z" id="\u2018\u2018" sketch:type="MSShapeGroup" transform="translate(8.052051, 6.198681) rotate(-180.000000) translate(-8.052051, -6.198681) "></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>link</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="link" sketch:type="MSArtboardGroup" fill="#222222">\n            <g id="icon:link" sketch:type="MSLayerGroup">\n                <g id="Rectangle-18-+-Rectangle-18-Copy-+-Path-28" transform="translate(9.646447, 9.853553) rotate(-315.000000) translate(-9.646447, -9.853553) translate(5.646447, 0.853553)" sketch:type="MSShapeGroup">\n                    <path d="M8,6.55919636 L8,4.82450549 C8,2.61334348 6.2104719,0.828427125 4,0.828427125 C1.79353398,0.828427125 -3.20810045e-12,2.61822724 -3.20810045e-12,4.82450549 L-3.20810045e-12,7.75542568 C-3.20810045e-12,9.96658769 1.7895281,11.751504 4,11.751504 C4.5511606,11.751504 5.07655559,11.6398264 5.55466651,11.437876 L5.12132034,11.437876 L5.12132034,10.5346402 C4.77469964,10.6745028 4.39616036,10.751504 4,10.751504 C2.34314575,10.751504 1,9.41562927 1,7.75542568 L1,4.82450549 C1,3.1698171 2.34651712,1.82842712 4,1.82842712 C5.65685425,1.82842712 7,3.1643019 7,4.82450549 L7,6.55919636 L8,6.55919636 Z" id="Shape"></path>\n                    <path d="M2.63603897,6.90151354 C3.06184352,6.74698845 3.52119959,6.66270951 4,6.66270951 C6.2104719,6.66270951 8,8.44762587 8,10.6587879 L8,13.5897081 C8,15.7959863 6.20646602,17.5857864 4,17.5857864 C1.7895281,17.5857864 -2.32347475e-12,15.8008701 -2.32347475e-12,13.5897081 L-2.32347475e-12,11.6627095 L1,11.6627095 L1,13.5897081 C1,15.2499117 2.34314575,16.5857864 4,16.5857864 C5.65348288,16.5857864 7,15.2443965 7,13.5897081 L7,10.6587879 C7,8.99858429 5.65685425,7.66270951 4,7.66270951 C3.5092458,7.66270951 3.04553235,7.78087311 2.63603897,7.99032058 L2.63603897,6.90151354 Z" id="Shape"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>unlink</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="unlink" sketch:type="MSArtboardGroup" fill="#222222">\n            <g id="icon:unlink" sketch:type="MSLayerGroup">\n                <g id="Rectangle-18-+-Rectangle-18-Copy-+-Path-28-Copy" transform="translate(12.828427, 13.035534) rotate(-315.000000) translate(-12.828427, -13.035534) translate(4.328427, 4.035534)" sketch:type="MSShapeGroup">\n                    <path d="M8,6.55919636 L8,4.82450549 C8,2.61334348 6.2104719,0.828427125 4,0.828427125 C1.79353398,0.828427125 -3.20454774e-12,2.61822724 -3.20454774e-12,4.82450549 L-3.20454774e-12,7.75542568 C-3.20454774e-12,9.96658769 1.7895281,11.751504 4,11.751504 C4.5511606,11.751504 5.07655559,11.6398264 5.55466651,11.437876 L5.12132034,11.437876 L5.12132034,10.5346402 C4.77469964,10.6745028 4.39616036,10.751504 4,10.751504 C2.34314575,10.751504 1,9.41562927 1,7.75542568 L1,4.82450549 C1,3.1698171 2.34651712,1.82842712 4,1.82842712 C5.65685425,1.82842712 7,3.1643019 7,4.82450549 L7,6.55919636 L8,6.55919636 Z" id="Shape"></path>\n                    <path d="M12.1301896,9.691731 L12.1301896,6.07623654 L11.1099103,6.07623654 L11.1099103,9.691731 L7.79324873,9.691731 L7.79324873,10.7120103 L11.1099103,10.7120103 L11.1099103,14.3275047 L12.1301896,14.3275047 L12.1301896,10.7120103 L16.0445169,10.7120103 L16.0445169,9.691731 L12.1301896,9.691731 Z M7.52584209,8.6418508 C6.80172121,7.49371533 5.53005392,6.73384534 4.08111717,6.73384534 C3.59260703,6.73384534 3.12393555,6.82077136 2.68949598,6.98014985 L2.68949598,8.10315471 C3.10729359,7.8871288 3.58041083,7.76525387 4.08111717,7.76525387 C5.2472836,7.76525387 6.26112906,8.4209623 6.77783518,9.38985772 L7.52584209,8.6418508 Z M8.16223435,12.3942945 L8.16223435,13.8784107 C8.16223435,16.1539849 6.33232877,18 4.08111717,18 C1.82581847,18 -8.17124146e-14,16.1590221 -8.17124146e-14,13.8784107 L-8.17124146e-14,11.890888 L1.02027929,11.890888 L1.02027929,13.8784107 C1.02027929,15.5907588 2.39066309,16.9685915 4.08111717,16.9685915 C5.76813152,16.9685915 7.14195505,15.5850704 7.14195505,13.8784107 L7.14195505,11.3740152 L8.16223435,12.3942945 Z" id="Shape"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>bulletedlist</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="bulletedlist" sketch:type="MSArtboardGroup" fill="#454545">\n            <g id="icon:bulletedlist" sketch:type="MSLayerGroup" transform="translate(1.000000, 3.000000)">\n                <path d="M5,13 L5,14 L15,14 L15,13 L5,13 L5,13 Z M5,1 L5,2 L17,2 L17,1 L5,1 L5,1 Z M5,7 L5,8 L16,8 L16,7 L5,7 L5,7 Z M0,1.5 C0,0.671572875 0.665797234,0 1.5,0 L1.5,0 C2.32842712,0 3,0.665797234 3,1.5 L3,1.5 C3,2.32842712 2.33420277,3 1.5,3 L1.5,3 C0.671572875,3 0,2.33420277 0,1.5 L0,1.5 Z M0,7.5 C0,6.67157288 0.665797234,6 1.5,6 L1.5,6 C2.32842712,6 3,6.66579723 3,7.5 L3,7.5 C3,8.32842712 2.33420277,9 1.5,9 L1.5,9 C0.671572875,9 0,8.33420277 0,7.5 L0,7.5 Z M0,13.5 C0,12.6715729 0.665797234,12 1.5,12 L1.5,12 C2.32842712,12 3,12.6657972 3,13.5 L3,13.5 C3,14.3284271 2.33420277,15 1.5,15 L1.5,15 C0.671572875,15 0,14.3342028 0,13.5 L0,13.5 Z" id="path4634" sketch:type="MSShapeGroup"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>numberedlist</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="numberedlist" sketch:type="MSArtboardGroup" fill="#454545">\n            <g id="icon:numberedlist" sketch:type="MSLayerGroup" transform="translate(2.000000, 2.000000)">\n                <path d="M5,15 L15,15 L15,14 L5,14 L5,15 Z M4,2 L4,3 L17,3 L17,2 L4,2 L4,2 Z M5,8 L5,9 L16,9 L16,8 L5,8 L5,8 Z" id="path4634" sketch:type="MSShapeGroup"></path>\n                <g id="path4712-path-+-path4712-path-+-path4712-path-copy" sketch:type="MSShapeGroup">\n                    <path d="M0,0.5 C0,0.77699 0.223,1 0.5,1 L1,1 L1,4.5 C1,4.77699 1.223,5 1.5,5 C1.777,5 2,4.77699 2,4.5 L2,0.5 C2,0.223 1.777,0 1.5,0 L0.5,0 C0.223,0 0,0.223 0,0.5 Z" id="path4712-path"></path>\n                    <path d="M0.5,6 C0.223,6 0,6.223 0,6.5 C0,6.77699 0.223,7 0.5,7 L2,7 L2,8 L0.5,8 C0.223,8 0,8.223 0,8.5 L0,10.5 C0,10.77699 0.223,11 0.5,11 L2.5,11 C2.777,11 3,10.77699 3,10.5 C3,10.223 2.777,10 2.5,10 L1,10 L1,9 L2.5,9 C2.5693,9 2.62764,8.994 2.6875,8.9688 C2.81468,8.9278 2.9182,8.82667 2.96875,8.68755 C2.99395,8.62765 2.99995,8.5693 2.99995,8.50005 L2.99995,6.50005 C2.99995,6.43075 2.99395,6.3724 2.96875,6.31255 C2.91825,6.17342 2.81468,6.07227 2.6875,6.0313 C2.6471,6.0142 2.6076,6.006 2.5625,6.0001 L2.5,6.0001 L0.5,6.0001 L0.5,6 Z" id="path4712-path"></path>\n                    <path d="M2.85209534,16.8526748 C2.94267961,16.7627344 3,16.6389489 3,16.5023012 L3,12.4976988 C3,12.3570579 2.94465639,12.2332311 2.85505992,12.1442682 C2.76454727,12.057652 2.64101746,12 2.50461102,12 L0.495388985,12 C0.215752602,12 0,12.2238576 0,12.5 C0,12.7680664 0.221793203,13 0.495388985,13 L2,13 L2,14 L0.495388985,14 C0.215752602,14 0,14.2238576 0,14.5 C0,14.7680664 0.221793203,15 0.495388985,15 L2,15 L2,16 L0.495388985,16 C0.215752602,16 0,16.2238576 0,16.5 C0,16.7680664 0.221793203,17 0.495388985,17 L2.50461102,17 C2.6440432,17 2.76759251,16.9443442 2.85643212,16.854302 Z" id="Rectangle-403"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 3.8.2 (29753) - http://www.bohemiancoding.com/sketch -->\n    <title>redo</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Mockups" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="redo" fill="#454545">\n            <g id="undo">\n                <path d="M10.00002,15.99998 L11,12.0184937 C7.58334,12.0184937 2.38444,12.88666 1,16 C1,10.01667 7.60112,8.03985596 11,8.03985596 C10.99998,7.18907596 9.99999,4.71945 10,4 L18,10 L10.00002,15.99998 Z"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 3.8.2 (29753) - http://www.bohemiancoding.com/sketch -->\n    <title>undo</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Mockups" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="undo" fill="#454545">\n            <g>\n                <path d="M2,10 L9.99998,15.99998 L9,12.0184937 C12.41666,12.0184937 17.61556,12.88666 19,16 C19,10.01667 12.39888,8.03985596 9,8.03985596 C9.00002,7.18907596 10.00001,4.71945 10,4 L2,10 Z"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r){r.exports=function(d){var u='undefined'!=typeof window&&window.location;if(!u)throw new Error('fixUrls requires window.location');if(!d||'string'!=typeof d)return d;var f=u.protocol+'//'+u.host,h=f+u.pathname.replace(/\/[^\/]*$/,'/'),w=d.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(C,T){var P=T.trim().replace(/^"(.*)"$/,function(E,O){return O}).replace(/^'(.*)'$/,function(E,O){return O});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(P))return C;var S;return S=0===P.indexOf('//')?P:0===P.indexOf('/')?f+P:h+P.replace(/^\.\//,''),'url('+JSON.stringify(S)+')'});return w}},function(r,s,d){var u=d(287);'string'==typeof u&&(u=[[r.i,u,'']]);d(29)(u,{});u.locals&&(r.exports=u.locals),!1},function(r,s,d){var u=d(288);'string'==typeof u&&(u=[[r.i,u,'']]);d(29)(u,{});u.locals&&(r.exports=u.locals),!1},function(r,s,d){var u=d(289);'string'==typeof u&&(u=[[r.i,u,'']]);d(29)(u,{});u.locals&&(r.exports=u.locals),!1},function(r,s,d){var u=d(290);'string'==typeof u&&(u=[[r.i,u,'']]);d(29)(u,{});u.locals&&(r.exports=u.locals),!1},function(r,s,d){var u=d(291);'string'==typeof u&&(u=[[r.i,u,'']]);d(29)(u,{});u.locals&&(r.exports=u.locals),!1},function(r,s,d){var u=d(292);'string'==typeof u&&(u=[[r.i,u,'']]);d(29)(u,{});u.locals&&(r.exports=u.locals),!1},function(r,s,d){var u=d(293);'string'==typeof u&&(u=[[r.i,u,'']]);d(29)(u,{});u.locals&&(r.exports=u.locals),!1},function(r,s,d){var u=d(294);'string'==typeof u&&(u=[[r.i,u,'']]);d(29)(u,{});u.locals&&(r.exports=u.locals),!1},function(r,s,d){var u=d(295);'string'==typeof u&&(u=[[r.i,u,'']]);d(29)(u,{});u.locals&&(r.exports=u.locals),!1},function(r){var d=function(){return this}();try{d=d||Function('return this')()||(1,eval)('this')}catch(u){'object'==typeof window&&(d=window)}r.exports=d},function(r,s,d){'use strict';var u=d(3),f=d(61);s.a=class{constructor(w,C,T){let P;if('function'==typeof T)P=T;else{P=(E)=>{const{batch:O}=E;w.execute(T,{batch:O})}}w.document.on('change',(S,E,O)=>{if('insert'!=E)return;const V=O.range.getItems().next().value;if(!(V instanceof f.a))return;const R=V.textNode,F=R.data;if('paragraph'!==R.parent.name||!F)return;const N=C.exec(F);N&&w.document.enqueueChanges(()=>{const I=w.document.batch(),M=u.a.createFromParentsAndOffsets(R.parent,0,R.parent,N[0].length);I.remove(M),P({batch:I,match:N})})})}}},function(r,s,d){'use strict';function u(C){return Array.from(C.getChildren()).reduce((T,P)=>T+P.data,'')}var f=d(111),h=d(101);s.a=class{constructor(C,T,P){this.editor=C;let S,E,O,V;T instanceof RegExp?S=T:O=T,'string'==typeof P?E=P:V=P,O=O||((R)=>{let F;const N=[],I=[];for(;null!==(F=S.exec(R))&&!(F&&4>F.length);){let{index:M,1:L,2:D,3:q}=F;M+=F[0].length-(L+D+q).length;const $=[M,M+L.length],K=[M+L.length+D.length,M+L.length+D.length+q.length];N.push($),N.push(K),I.push([M+L.length,M+L.length+D.length])}return{remove:N,format:I}}),V=V||((R,F)=>{for(const N of F)R.setAttribute(N,E,!0)}),C.document.on('change',(R,F)=>{if('insert'!==F)return;const N=this.editor.document.selection;if(!N.isCollapsed||!N.focus||!N.focus.parent)return;const I=N.focus.parent,M=u(I).slice(0,N.focus.offset),L=O(M),D=[];L.format.forEach(($)=>{void 0===$[0]||void 0===$[1]||D.push(f.a.createFromParentsAndOffsets(I,$[0],I,$[1]))});const q=[];if(L.remove.slice().reverse().forEach(($)=>{void 0===$[0]||void 0===$[1]||q.push(f.a.createFromParentsAndOffsets(I,$[0],I,$[1]))}),!(D.length&&q.length))return;const z=C.document.batch();C.document.enqueueChanges(()=>{const $=d.i(h.a)(E,D,C.document.schema);V(z,$);for(const K of q)z.remove(K)})})}}},function(r,s,d){'use strict';var u=d(2),f=d(44),h=d(34),w=d(156);const C='bold';class T extends u.a{init(){const P=this.editor,S=P.data,E=P.editing;P.document.schema.allow({name:'$inline',attributes:[C],inside:'$block'}),d.i(f.a)().for(S.modelToView,E.modelToView).fromAttribute(C).toElement('strong'),d.i(h.a)().for(S.viewToModel).fromElement('strong').fromElement('b').fromAttribute('style',{'font-weight':'bold'}).toAttribute(C,!0),P.commands.set(C,new w.a(P,C))}}s.a=T},function(r,s,d){'use strict';var u=d(2),f=d(44),h=d(34),w=d(156);const C='italic';class T extends u.a{init(){const P=this.editor,S=P.data,E=P.editing;P.document.schema.allow({name:'$inline',attributes:[C],inside:'$block'}),d.i(f.a)().for(S.modelToView,E.modelToView).fromAttribute(C).toElement('i'),d.i(h.a)().for(S.viewToModel).fromElement('em').fromElement('i').fromAttribute('style',{'font-style':'italic'}).toAttribute(C,!0),P.commands.set(C,new w.a(P,C))}}s.a=T},function(r,s,d){'use strict';function u(O){return'blockQuote'==O.parent.name?O.parent:null}function f(O){let V,R=0;const F=[];for(;R<O.length;){const N=O[R],I=O[R+1];V||(V=C.a.createBefore(N)),I&&N.nextSibling==I||(F.push(new P.a(V,C.a.createAfter(N))),V=null),R++}return F}function h(O,V){const R=O.check({name:'blockQuote',inside:C.a.createBefore(V)}),F=O.check({name:V.name,attributes:Array.from(V.getAttributeKeys()),inside:'blockQuote'});return R&&F}var w=d(11),C=d(1),T=d(5),P=d(3),S=d(66);class E extends w.a{constructor(O){super(O),this.set('value',!1),this.listenTo(O.document,'changesDone',()=>{this.refreshValue(),this.refreshState()})}refreshValue(){const O=d.i(S.a)(this.editor.document.selection.getSelectedBlocks());this.value=!!(O&&u(O))}_doExecute(O={}){const V=this.editor.document,R=V.schema,F=O.batch||V.batch(),N=Array.from(V.selection.getSelectedBlocks());V.enqueueChanges(()=>{if(this.value)this._removeQuote(F,N.filter(u));else{const I=N.filter((M)=>{return u(M)||h(R,M)});this._applyQuote(F,I)}})}_checkEnabled(){if(this.value)return!0;const O=this.editor.document.selection,V=this.editor.document.schema,R=d.i(S.a)(O.getSelectedBlocks());return!!R&&h(V,R)}_removeQuote(O,V){f(V).reverse().forEach((R)=>{if(R.start.isAtStart&&R.end.isAtEnd)return void O.unwrap(R.start.parent);if(R.start.isAtStart){const N=C.a.createBefore(R.start.parent);return void O.move(R,N)}R.end.isAtEnd||O.split(R.end);const F=C.a.createAfter(R.end.parent);O.move(R,F)})}_applyQuote(O,V){const R=[];f(V).reverse().forEach((F)=>{let N=u(F.start);N||(N=new T.a('blockQuote'),O.wrap(F,N)),R.push(N)}),R.reverse().reduce((F,N)=>{return F.nextSibling==N?(O.merge(C.a.createAfter(F)),F):N})}}s.a=E},function(r,s,d){'use strict';var u=d(2),f=d(323),h=d(34),w=d(44);class C extends u.a{init(){const T=this.editor,P=T.document.schema;T.commands.set('blockQuote',new f.a(T)),P.registerItem('blockQuote'),P.allow({name:'blockQuote',inside:'$root'}),P.allow({name:'$block',inside:'blockQuote'}),d.i(h.a)().for(T.data.viewToModel).fromElement('blockquote').toElement('blockQuote'),d.i(w.a)().for(T.data.modelToView,T.editing.modelToView).fromElement('blockQuote').toElement('blockquote')}afterInit(){const T=this.editor.document.schema;T.hasItem('listItem')&&T.allow({name:'listItem',inside:'blockQuote',attributes:['type','indent']})}}s.a=C},function(r,s,d){'use strict';Object.defineProperty(s,'__esModule',{value:!0});var u=d(279),f=d(286),h=d(274),w=d(275),C=d(276),T=d(277),P=d(280),S=d(281),E=d(282),O=d(283),V=d(153),R=d(284),F=d(285),N=d(73);class I extends u.a{}s.ClassicEditor=I,I.build={plugins:[f.a,h.a,w.a,C.a,T.a,P.a,S.a,E.a,O.a,V.a,R.a,F.a,N.a],config:d(278).config}},function(r,s,d){'use strict';var u=d(2),f=d(327),h=d(330),w=d(329),C=d(331),T=d(160);class P extends u.a{static get pluginName(){return'clipboard/clipboard'}init(){const S=this.editor,E=S.document,O=S.editing.view;this._htmlDataProcessor=new T.a,O.addObserver(f.a),this.listenTo(O,'clipboardInput',(R,F)=>{const N=F.dataTransfer;let I='';N.getData('text/html')?I=d.i(w.a)(N.getData('text/html')):N.getData('text/plain')&&(I=d.i(h.a)(N.getData('text/plain'))),I=this._htmlDataProcessor.toView(I),this.fire('inputTransformation',{content:I})},{priority:'low'}),this.listenTo(this,'inputTransformation',(R,F)=>{if(!F.content.isEmpty){const N=this.editor.data,I=N.toModel(F.content,'$clipboardHolder');E.enqueueChanges(()=>{N.insertContent(I,E.selection)})}},{priority:'low'});const V=(R,F)=>{const N=F.dataTransfer,I=S.data.toView(S.data.getSelectedContent(E.selection));F.preventDefault(),O.fire('clipboardOutput',{dataTransfer:N,content:I,method:R.name})};this.listenTo(O,'copy',V,{priority:'low'}),this.listenTo(O,'cut',V,{priority:'low'}),this.listenTo(O,'clipboardOutput',(R,F)=>{F.content.isEmpty||(F.dataTransfer.setData('text/html',this._htmlDataProcessor.toData(F.content)),F.dataTransfer.setData('text/plain',d.i(C.a)(F.content))),'cut'==F.method&&E.enqueueChanges(()=>{S.data.deleteContent(E.selection,E.batch(),{merge:!0})})},{priority:'low'})}}s.a=P},function(r,s,d){'use strict';var u=d(63),f=d(328);class h extends u.a{constructor(w){function C(T,P){P.preventDefault(),w.fire('clipboardInput',{dataTransfer:P.dataTransfer})}super(w),this.domEventType=['paste','copy','cut','drop'],this.listenTo(w,'paste',C,{priority:'low'}),this.listenTo(w,'drop',C,{priority:'low'})}onDomEvent(w){this.fire(w.type,w,{dataTransfer:new f.a(w.clipboardData?w.clipboardData:w.dataTransfer)})}}s.a=h},function(r,s){'use strict';function u(h){const w=h.files?Array.from(h.files):[],C=h.items?Array.from(h.items):[];return w.length?w:C.filter((T)=>'file'===T.kind).map((T)=>T.getAsFile())}class f{constructor(h){this.files=u(h),this._native=h}get types(){return this._native.types}getData(h){return this._native.getData(h)}setData(h,w){this._native.setData(h,w)}}s.a=f},function(r,s){'use strict';s.a=function(f){return f.replace(/<span class="Apple-converted-space">(\s+)<\/span>/g,(h,w)=>{return 1==w.length?' ':w})}},function(r,s){'use strict';s.a=function(f){return f=f.replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n\n/g,'</p><p>').replace(/\n/g,' ').replace(/^\s/,'&nbsp;').replace(/\s$/,'&nbsp;').replace(/\s\s/g,' &nbsp;'),-1<f.indexOf('</p><p>')&&(f=`<p>${f}</p>`),f}},function(r,s){'use strict';function u(h){let w='';if(h.is('text')||h.is('textProxy'))w=h.data;else if(h.is('img')&&h.hasAttribute('alt'))w=h.getAttribute('alt');else{let C=null;for(const T of h.getChildren()){const P=u(T);C&&(C.is('containerElement')||T.is('containerElement'))&&(f.includes(C.name)||f.includes(T.name)?w+='\n':w+='\n\n'),w+=P,C=T}}return w}s.a=u;const f=['figcaption','li']},function(r,s,d){'use strict';var u=d(68);class f extends u.a{constructor(h){super(),this.editor=h}set(h,w){if('string'==typeof w){const C=w;w=()=>{this.editor.execute(C)}}super.set(h,w)}listenTo(h){this._listener.listenTo(h,'keydown',(w,C)=>{const T=this.press(C);T&&C.preventDefault()})}}s.a=f},function(r,s,d){'use strict';var u=d(7),f=d(425),h=d(335),w=d(536),C=d(338),T=d(353),P=d(0),S=d(4);class E{constructor(O){const V=this.constructor.build&&this.constructor.build.plugins;this.config=new f.a(O,this.constructor.build&&this.constructor.build.config),this.config.define('plugins',V),this.plugins=new h.a(this,V),this.commands=new Map,this.locale=new w.a(this.config.get('lang')),this.t=this.locale.t,this.document=new T.a,this.data=new C.a(this.document)}initPlugins(){function V(N,I){return N.reduce((M,L)=>{return L[I]?M.then(L[I].bind(L)):M},Promise.resolve())}const R=this,F=this.config;return function(){const N=F.get('plugins')||[],I=F.get('removePlugins')||[];return R.plugins.load(N,I)}().then((N)=>{return V(N,'init').then(()=>V(N,'afterInit'))}).then(()=>this.fire('pluginsReady'))}destroy(){return this.fire('destroy'),this.stopListening(),Promise.resolve().then(()=>{this.document.destroy(),this.data.destroy()})}execute(O,V){const R=this.commands.get(O);if(!R)throw new P.a('editor-command-not-found: Specified command has not been added to the editor.');R._execute(V)}static create(O){return new Promise((V)=>{const R=new this(O);V(R.initPlugins().then(()=>{R.fire('dataReady'),R.fire('ready')}).then(()=>R))})}}s.a=E,d.i(S.a)(E,u.a)},function(r,s,d){'use strict';var u=d(333),f=d(332),h=d(340),w=d(428),C=d(435);class T extends u.a{constructor(P,S){super(S),this.element=P,this.editing=new h.a(this.document),this.keystrokes=new f.a(this),this.keystrokes.listenTo(this.editing.view)}destroy(){return Promise.resolve().then(()=>this.keystrokes.destroy()).then(()=>this.editing.destroy()).then(super.destroy())}setData(P){this.data.set(P)}getData(){return this.data.get()}updateEditorElement(){d.i(C.a)(this.element,this.getData())}loadDataFromEditorElement(){this.setData(d.i(w.a)(this.element))}static create(P,S){return new Promise((E)=>{const O=new this(P,S);E(O.initPlugins().then(()=>{O.fire('dataReady'),O.fire('ready')}).then(()=>O))})}}s.a=T},function(r,s,d){'use strict';var u=d(0),f=d(43);class h{constructor(w,C=[]){this._editor=w,this._availablePlugins=new Map,this._plugins=new Map;for(const T of C)this._availablePlugins.set(T,T),T.pluginName&&this._availablePlugins.set(T.pluginName,T)}*[Symbol.iterator](){for(const w of this._plugins)'function'==typeof w[0]&&(yield w)}get(w){return this._plugins.get(w)}load(w,C=[]){function T(D){return M.includes(D)||V.get(D)||F.has(D)?void 0:P(D).catch((q)=>{throw f.a.error('plugincollection-load: It was not possible to load the plugin.',{plugin:D}),q})}function P(D){return new Promise((q)=>{F.add(D),D.requires&&D.requires.forEach(($)=>{const K=S($);if(C.includes(K))throw new u.a('plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.',{plugin:K,requiredBy:D});T(K)});const z=new D(R);V._add(D,z),N.push(z),q()})}function S(D){return'function'==typeof D?D:V._availablePlugins.get(D)}function O(D){return D.map((q)=>S(q)).filter((q)=>!!q)}const V=this,R=this._editor,F=new Set,N=[],I=O(w),M=O(C),L=function(D){const q=[];for(const z of D)S(z)||q.push(z);return q.length?q:null}(w);if(L){const D='plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.';return f.a.error(D,{plugins:L}),Promise.reject(new u.a(D,{plugins:L}))}return Promise.all(I.map(T)).then(()=>N)}_add(w,C){this._plugins.set(w,C),w.pluginName&&this._plugins.set(w.pluginName,C)}}s.a=h},function(r,s,d){'use strict';var u=d(403),f=d(67),h=d(418);s.a=class{constructor(C,T){this.editor=C,this.view=T,this.componentFactory=new u.a(C),this.focusTracker=new f.a,T.set('width',C.config.get('ui.width')),T.set('height',C.config.get('ui.height')),T.toolbar.bind('isActive').to(this.focusTracker,'isFocused'),T.toolbar.limiterElement=T.element;const P=C.editing.createRoot('div');T.editable.bind('isReadOnly').to(P),T.editable.bind('isFocused').to(C.editing.view),T.editable.name=P.rootName,this.focusTracker.add(T.editableElement)}init(){const C=this.editor;return this.view.init().then(()=>{return this.view.toolbar.fillFromConfig(C.config.get('toolbar'),this.componentFactory)}).then(()=>{d.i(h.a)({origin:C.editing.view,originFocusTracker:this.focusTracker,originKeystrokeHandler:C.keystrokes,toolbar:this.view.toolbar})})}destroy(){return this.view.destroy()}}},function(r,s,d){'use strict';var u=d(410),f=d(409),h=d(419),w=d(6);class C extends u.a{constructor(T){super(T),this.toolbar=new h.a(T),w.a.extend(this.toolbar.template,{attributes:{class:'ck-editor-toolbar'}}),this.editable=new f.a(T),this.top.add(this.toolbar),this.main.add(this.editable)}get editableElement(){return this.editable.element}}s.a=C},function(r,s,d){'use strict';var u=d(4),f=d(7),h=d(157),w=d(159),C=d(102),T=d(348),P=d(346),S=d(117),E=d(3),O=d(1),V=d(342),R=d(339),F=d(343),N=d(341);class I{constructor(M,L){this.model=M,this.processor=L,this.mapper=new h.a,this.modelToView=new w.a(this.model,{mapper:this.mapper}),this.modelToView.on('insert:$text',d.i(C.j)(),{priority:'lowest'}),this.viewToModel=new T.a({schema:M.schema}),this.viewToModel.on('text',d.i(P.a)(),{priority:'lowest'}),this.viewToModel.on('element',d.i(P.b)(),{priority:'lowest'}),this.viewToModel.on('documentFragment',d.i(P.b)(),{priority:'lowest'}),this.on('insertContent',(D,q)=>d.i(V.a)(this,q.content,q.selection,q.batch)),this.on('deleteContent',(D,q)=>d.i(R.a)(q.selection,q.batch,q.options)),this.on('modifySelection',(D,q)=>d.i(F.a)(this,q.selection,q.options)),this.on('getSelectedContent',(D,q)=>{q.content=d.i(N.a)(q.selection)})}get(M='main'){return this.stringify(this.model.getRoot(M))}stringify(M){const L=this.toView(M);return this.processor.toData(L)}toView(M){const L=E.a.createIn(M),D=new S.a;return this.mapper.bindElements(M,D),this.modelToView.convertInsertion(L),this.mapper.clearBindings(),D}set(M,L='main'){const D=this.model.getRoot(L);this.model.enqueueChanges(()=>{this.model.selection.removeAllRanges(),this.model.selection.clearAttributes(),this.model.batch('transparent').remove(E.a.createIn(D)).insert(O.a.createAt(D,0),this.parse(M))})}parse(M,L='$root'){const D=this.processor.toView(M);return this.toModel(D,L)}toModel(M,L='$root'){return this.viewToModel.convert(M,{context:[L]})}destroy(){}insertContent(M,L,D){this.fire('insertContent',{content:M,selection:L,batch:D})}deleteContent(M,L,D){this.fire('deleteContent',{batch:L,selection:M,options:D})}modifySelection(M,L){this.fire('modifySelection',{selection:M,options:L})}getSelectedContent(M){const L={selection:M};return this.fire('getSelectedContent',L),L.content}}s.a=I,d.i(u.a)(I,f.a)},function(r,s,d){'use strict';function f(E,O,V){const R=O.parent,F=V.parent;if(R!=F&&R.parent&&F.parent&&w(O,V)){for(O=T.a.createAfter(R),V=T.a.createBefore(F),F.isEmpty?E.remove(F):(!V.isEqual(O)&&E.move(F,O),E.merge(O));V.parent.isEmpty;){const N=V.parent;V=T.a.createBefore(N),E.remove(N)}f(E,O,V)}}function h(E,O){const V=E.schema.check({name:'$text',inside:O}),R=E.schema.check({name:'paragraph',inside:O});return!V&&R}function w(E,O){const V=E.root.document.schema,R=new P.a(E,O);for(const F of R.getWalker())if(V.objects.has(F.item.name)||V.limits.has(F.item.name))return!1;return!0}s.a=function(E,O,V={}){if(!E.isCollapsed){const R=E.getFirstRange(),F=R.start,N=C.a.createFromPosition(R.end);if(R.start.isTouching(R.end)||O.remove(R),V.merge&&f(O,F,N),E.collapse(F),h(O.document,F)){const I=new S.a('paragraph');O.insert(F,I),E.collapse(I)}N.detach()}};var C=d(164),T=d(1),P=d(3),S=d(5)},function(r,s,d){'use strict';var u=d(361),f=d(157),h=d(159),w=d(102),C=d(345),T=d(158),P=d(7);s.a=class{constructor(E){this.model=E,this.view=new u.a,this.mapper=new f.a,this.modelToView=new h.a(this.model,{mapper:this.mapper,viewSelection:this.view.selection}),this._listener=Object.create(P.a),this._listener.listenTo(this.model,'change',(O,V,R)=>{this.modelToView.convertChange(V,R)},{priority:'low'}),this._listener.listenTo(this.model,'changesDone',()=>{const O=this.model.selection;this.modelToView.convertSelection(O),this.view.render()},{priority:'low'}),this._listener.listenTo(this.model.markers,'add',(O,V)=>{this.modelToView.convertMarker('addMarker',V.name,V.getRange())}),this._listener.listenTo(this.model.markers,'remove',(O,V)=>{this.modelToView.convertMarker('removeMarker',V.name,V.getRange())}),this._listener.listenTo(this.view,'selectionChange',d.i(C.a)(this.model,this.mapper)),this.modelToView.on('insert:$text',d.i(w.j)(),{priority:'lowest'}),this.modelToView.on('remove',d.i(w.k)(),{priority:'low'}),this.modelToView.on('selection',d.i(T.c)(),{priority:'low'}),this.modelToView.on('selection',d.i(T.d)(),{priority:'low'}),this.modelToView.on('selection',d.i(T.e)(),{priority:'low'}),this.modelToView.on('selection',d.i(T.f)(),{priority:'low'})}createRoot(E,O='main'){const V=this.view.createRoot(E,O),R=this.model.getRoot(O);return this.mapper.bindElements(R,V),V}destroy(){this.view.destroy(),this._listener.stopListening()}}},function(r,s,d){'use strict';function f(S){const E=[];Array.from(S.getItems({direction:'backward'})).map((O)=>w.a.createOn(O)).filter((O)=>{const V=(O.start.isAfter(S.start)||O.start.isEqual(S.start))&&(O.end.isBefore(S.end)||O.end.isEqual(S.end));return V}).forEach((O)=>{E.push(O.start.parent),d.i(P.d)(O)}),E.forEach((O)=>{for(let V=O;V.parent&&V.isEmpty;){const R=w.a.createOn(V);V=V.parent,d.i(P.d)(R)}})}s.a=function(S){const E=new h.a,O=S.getFirstRange();if(!O||O.isCollapsed)return E;const V=O.start.root,R=O.start.getCommonPath(O.end),F=V.getNodeByPath(R);let N=O.start.parent==O.end.parent?O:w.a.createFromParentsAndOffsets(F,O.start.path[R.length],F,O.end.path[R.length]+1);const I=N.end.offset-N.start.offset;for(const M of N.getItems({shallow:!0}))M.is('textProxy')?E.appendChildren(new T.a(M.data,M.getAttributes())):E.appendChildren(M.clone(!0));if(N!=O){const M=O._getTransformedByMove(N.start,C.a.createAt(E,0),I)[0],L=new w.a(C.a.createAt(E),M.start),D=new w.a(M.end,C.a.createAt(E,'end'));f(D),f(L)}return E};var h=d(35),w=d(3),C=d(1),T=d(24),P=d(20)},function(r,s,d){'use strict';s.a=function(S,E,O,V){V||(V=S.model.batch()),O.isCollapsed||S.deleteContent(O,V,{merge:!0});const R=new P(S,V,O.anchor);let F;F=E.is('documentFragment')?E.getChildren():[E],R.handleNodes(F,{isFirst:!0,isLast:!0});const N=R.getSelectionRange();N?O.setRanges([N]):T.a.warn('insertcontent-no-range: Cannot determine a proper selection range after insertion.')};var f=d(1),h=d(164),w=d(5),C=d(3),T=d(43);class P{constructor(S,E,O){this.dataController=S,this.batch=E,this.position=O,this.canMergeWith=new Set([this.position.parent]),this.schema=S.model.schema}handleNodes(S,E){S=Array.from(S);for(let O=0;O<S.length;O++){const V=S[O];this._handleNode(V,{isFirst:0===O&&E.isFirst,isLast:O===S.length-1&&E.isLast})}}getSelectionRange(){return this.nodeToSelect?C.a.createOn(this.nodeToSelect):this.dataController.model.getNearestSelectionRange(this.position)}_handleNode(S,E){if(this._checkIsObject(S))return void this._handleObject(S,E);const O=this._checkAndSplitToAllowedPosition(S,E);return O?void(this._insert(S),this._mergeSiblingsOf(S,E)):void this._handleDisallowedNode(S,E)}_handleObject(S,E){this._checkAndSplitToAllowedPosition(S)?this._insert(S):this._tryAutoparagraphing(S,E)}_handleDisallowedNode(S,E){S.is('element')?this.handleNodes(S.getChildren(),E):this._tryAutoparagraphing(S,E)}_insert(S){if(!this._checkIsAllowed(S,[this.position.parent]))return void T.a.error('insertcontent-wrong-position: The node cannot be inserted on the given position.',{node:S,position:this.position});const E=h.a.createFromPosition(this.position);this.batch.insert(this.position,S),this.position=f.a.createFromPosition(E),E.detach(),this.nodeToSelect=this._checkIsObject(S)&&!this.schema.check({name:'$text',inside:[this.position.parent]})?S:null}_mergeSiblingsOf(S,E){if(S instanceof w.a){const O=E.isFirst&&S.previousSibling instanceof w.a&&this.canMergeWith.has(S.previousSibling),V=E.isLast&&S.nextSibling instanceof w.a&&this.canMergeWith.has(S.nextSibling),R=h.a.createBefore(S),F=h.a.createAfter(S);if(O){const N=h.a.createFromPosition(this.position);this.batch.merge(R),this.position=f.a.createFromPosition(N),N.detach()}if(V){this.position.isEqual(F)||T.a.error('insertcontent-wrong-position-on-merge: The insertion position should equal the merge position'),this.position=f.a.createAt(F.nodeBefore,'end');const N=new h.a(this.position.root,this.position.path,'sticksToPrevious');this.batch.merge(F),this.position=f.a.createFromPosition(N),N.detach()}R.detach(),F.detach()}}_tryAutoparagraphing(S,E){const O=new w.a('paragraph');this._getAllowedIn(O,this.position.parent)&&this._checkIsAllowed(S,[O])&&(O.appendChildren(S),this._handleNode(O,E))}_checkAndSplitToAllowedPosition(S){const E=this._getAllowedIn(S,this.position.parent);if(!E)return!1;for(;E!=this.position.parent;){if(this.schema.limits.has(this.position.parent.name))return!1;if(this.position.isAtStart){const O=this.position.parent;this.position=f.a.createBefore(O),O.isEmpty&&this.batch.remove(O)}else if(this.position.isAtEnd)this.position=f.a.createAfter(this.position.parent);else{const O=f.a.createAfter(this.position.parent);this.batch.split(this.position),this.position=O,this.canMergeWith.add(this.position.nodeAfter)}}return!0}_getAllowedIn(S,E){return this._checkIsAllowed(S,[E])?E:E.parent?this._getAllowedIn(S,E.parent):null}_checkIsAllowed(S,E){return this.schema.check({name:this._getNodeSchemaName(S),attributes:Array.from(S.getAttributeKeys()),inside:E})}_checkIsObject(S){return this.schema.objects.has(this._getNodeSchemaName(S))}_getNodeSchemaName(S){return S.is('text')?'$text':S.name}}},function(r,s,d){'use strict';function f(E,O){if('text'==O.type)return h(E.walker,E.unit);if(O.type==(E.isForward?'elementStart':'elementEnd')){if(E.schema.objects.has(O.item.name))return C.a.createAt(O.item,E.isForward?'after':'before');if(E.schema.check({name:'$text',inside:O.nextPosition}))return O.nextPosition}else{if(E.schema.limits.has(O.item.name))return void E.walker.skip(()=>!0);if(E.schema.check({name:'$text',inside:O.nextPosition}))return O.nextPosition}}function h(E,O){const V=E.position.textNode;if(V){const R=V.data;for(let F=E.position.offset-V.startOffset;d.i(S.a)(R,F)||'character'==O&&d.i(S.b)(R,F);)E.next(),F=E.position.offset-V.startOffset}return E.position}function w(E,O){const V=E.root,R=C.a.createAt(V,O?'end':0);return O?new P.a(E,R):new P.a(R,E)}s.a=function(E,O,V={}){const R=E.model.schema,F='backward'!=V.direction,N=V.unit?V.unit:'character',I=O.focus,M=new T.a({boundaries:w(I,F),singleCharacters:!0,direction:F?'forward':'backward'}),L={walker:M,schema:R,isForward:F,unit:N};for(let D;D=M.next();){if(D.done)return;const q=f(L,D.value);if(q)return void O.setFocus(q)}};var C=d(1),T=d(37),P=d(3),S=d(273)},function(r,s,d){'use strict';var u=d(61);s.a=class{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(h,w){h instanceof u.a&&(h=this._getSymbolForTextProxy(h)),this._consumable.has(h)||this._consumable.set(h,new Map),this._consumable.get(h).set(w,!0)}consume(h,w){return h instanceof u.a&&(h=this._getSymbolForTextProxy(h)),!!this.test(h,w)&&(this._consumable.get(h).set(w,!1),!0)}test(h,w){h instanceof u.a&&(h=this._getSymbolForTextProxy(h));const C=this._consumable.get(h);if(C===void 0)return null;const T=C.get(w);return void 0===T?null:T}revert(h,w){h instanceof u.a&&(h=this._getSymbolForTextProxy(h));const C=this.test(h,w);return!1===C?(this._consumable.get(h).set(w,!0),!0):!0!==C&&null}_getSymbolForTextProxy(h){let w=null;const C=this._textProxyRegistry.get(h.startOffset);if(C){const T=C.get(h.endOffset);T&&(w=T.get(h.parent))}return w||(w=this._addSymbolForTextProxy(h.startOffset,h.endOffset,h.parent)),w}_addSymbolForTextProxy(h,w,C){const T=Symbol('textProxySymbol');let P,S;return P=this._textProxyRegistry.get(h),P||(P=new Map,this._textProxyRegistry.set(h,P)),S=P.get(w),S||(S=new Map,P.set(w,S)),S.set(C,T),T}}},function(r,s,d){'use strict';s.a=function(h,w){return(C,T)=>{const P=T.newSelection,S=new f.a,E=[];for(const O of P.getRanges())E.push(w.toModelRange(O));S.setRanges(E,P.isBackward),S.isEqual(h.selection)||h.enqueueChanges(()=>{h.selection.setTo(S)})}};var f=d(60)},function(r,s,d){'use strict';s.b=function(){return(T,P,S,E)=>{if(!P.output&&S.consume(P.input,{name:!0})){const O=E.convertChildren(P.input,S,P);P.output=new h.a(d.i(C.b)(O))}}},s.a=function(){return(T,P,S,E)=>{const O={name:'$text',inside:P.context};E.schema.check(O)&&S.consume(P.input)&&(P.output=new w.a(P.input.data))}};var h=d(35),w=d(24),C=d(20)},function(r,s,d){'use strict';var u=d(12),f=d(0);class h{constructor(){this._consumables=new Map}add(C,T){let P;return C.is('text')||C.is('documentFragment')?void this._consumables.set(C,!0):void(this._consumables.has(C)?P=this._consumables.get(C):(P=new w,this._consumables.set(C,P)),P.add(T))}test(C,T){const P=this._consumables.get(C);return void 0===P?null:C.is('text')||C.is('documentFragment')?P:P.test(T)}consume(C,T){return!!this.test(C,T)&&(C.is('text')||C.is('documentFragment')?this._consumables.set(C,!1):this._consumables.get(C).consume(T),!0)}revert(C,T){const P=this._consumables.get(C);P!==void 0&&(C.is('text')||C.is('documentFragment')?this._consumables.set(C,!0):P.revert(T))}static consumablesFromElement(C){const T={name:!0,attribute:[],class:[],style:[]},P=C.getAttributeKeys();for(const O of P)'style'!=O&&'class'!=O&&T.attribute.push(O);const S=C.getClassNames();for(const O of S)T.class.push(O);const E=C.getStyleNames();for(const O of E)T.style.push(O);return T}static createFrom(C,T){if(T||(T=new h),C.is('text'))return T.add(C),T;C.is('element')&&T.add(C,h.consumablesFromElement(C)),C.is('documentFragment')&&T.add(C);for(const P of C.getChildren())T=h.createFrom(P,T);return T}}s.a=h;class w{constructor(){this._canConsumeName=null,this._consumables={attribute:new Map,style:new Map,class:new Map}}add(C){for(const T in C.name&&(this._canConsumeName=!0),this._consumables)T in C&&this._add(T,C[T])}test(C){if(C.name&&!this._canConsumeName)return this._canConsumeName;for(const T in this._consumables)if(T in C){const P=this._test(T,C[T]);if(!0!==P)return P}return!0}consume(C){for(const T in C.name&&(this._canConsumeName=!1),this._consumables)T in C&&this._consume(T,C[T])}revert(C){for(const T in C.name&&(this._canConsumeName=!0),this._consumables)T in C&&this._revert(T,C[T])}_add(C,T){const P=d.i(u.a)(T)?T:[T],S=this._consumables[C];for(const E of P){if('attribute'===C&&('class'===E||'style'===E))throw new f.a('viewconsumable-invalid-attribute: Classes and styles should be handled separately.');S.set(E,!0)}}_test(C,T){const P=d.i(u.a)(T)?T:[T],S=this._consumables[C];for(const E of P)if('attribute'===C&&('class'===E||'style'===E)){const O=this._test(E,[...this._consumables[E].keys()]);if(!0!==O)return O}else{const O=S.get(E);if(O===void 0)return null;if(!O)return!1}return!0}_consume(C,T){const P=d.i(u.a)(T)?T:[T],S=this._consumables[C];for(const E of P)'attribute'===C&&('class'===E||'style'===E)?this._consume(E,[...this._consumables[E].keys()]):S.set(E,!1)}_revert(C,T){const P=d.i(u.a)(T)?T:[T],S=this._consumables[C];for(const E of P)if('attribute'===C&&('class'===E||'style'===E))this._revert(E,[...this._consumables[E].keys()]);else{const O=S.get(E);!1===O&&S.set(E,!0)}}}},function(r,s,d){'use strict';function u(N){const I=new Set,M=new Map,L=new C.a({startPosition:w.a.createAt(N,0),ignoreElementEnd:!0});for(const D of L)'$marker'==D.item.name&&I.add(D.item);for(const D of I){const q=D.getAttribute('data-name'),z=w.a.createBefore(D);M.has(q)?M.get(q).end=w.a.createFromPosition(z):M.set(q,new h.a(w.a.createFromPosition(z))),d.i(S.d)(h.a.createOn(D))}return M}var f=d(347),h=d(3),w=d(1),C=d(37),T=d(59),P=d(35),S=d(20),E=d(7),O=d(4),V=d(50),R=d(43);class F{constructor(N={}){this.conversionApi=d.i(V.a)({},N),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this)}convert(N,I={}){this.fire('viewCleanup',N);const M=f.a.createFrom(N);let L=this._convertItem(N,M,I);return L?(L.is('documentFragment')||(L=new P.a([L])),L.markers=u(L),L):new P.a}_convertItem(N,I,M={}){const L=d.i(V.a)({},M,{input:N,output:null});return N.is('element')?this.fire('element:'+N.name,L,I,this.conversionApi):N.is('text')?this.fire('text',L,I,this.conversionApi):this.fire('documentFragment',L,I,this.conversionApi),L.output&&!(L.output instanceof T.a||L.output instanceof P.a)?(R.a.warn('view-conversion-dispatcher-incorrect-result: Dropped incorrect conversion result.',[N,L.output]),null):L.output}_convertChildren(N,I,M={}){const L=Array.from(N.getChildren()),D=L.map((q)=>this._convertItem(q,I,M)).filter((q)=>q instanceof T.a||q instanceof P.a).reduce((q,z)=>{return q.concat(z.is('documentFragment')?Array.from(z.getChildren()):z)},[]);return new P.a(D)}}s.a=F,d.i(O.a)(F,E.a)},function(r,s){'use strict';s.a=class{getHtml(f){const h=document.implementation.createHTMLDocument(''),w=h.createElement('div');return w.appendChild(f),w.innerHTML}}},function(r,s,d){'use strict';var u=d(161),f=d(103),h=d(104),w=d(105),C=d(106),T=d(162),P=d(107),S=d(109),E=d(163),O=d(110)},function(r,s,d){'use strict';function u(Z,G){const J=Z.clone(),Q=J.operations[0];return Q.oldRange&&(Q.oldRange=Q.oldRange.getTransformedByDelta(G)[0]),Q.newRange&&(Q.newRange=Q.newRange.getTransformedByDelta(G)[0]),[J]}function f(Z,G){function J(){const ae=new C.a(Z.position.getShiftedBy(ee),Z.position.getShiftedBy(te)),ne=new S.a(ae,G.key,X,G.value,0);Q.addOperation(ne)}const Q=new R.a,Y=Z.nodes;let X=Y.getNode(0).getAttribute(G.key),ee=0,te=Y.getNode(0).offsetSize;for(let ae=1;ae<Y.length;ae++){const ne=Y.getNode(ae),oe=ne.getAttribute(G.key);oe!=X&&(X!=G.value&&J(),X=oe,ee=te),te+=ne.offsetSize}return J(),Q}function h(){const Z=new V.a;return Z.addOperation(new P.a(0)),Z}var w=d(108),C=d(3),T=d(1),P=d(76),S=d(75),E=d(45),O=d(113),V=d(19),R=d(161),F=d(103),N=d(352),I=d(104),M=d(105),L=d(107),D=d(163),q=d(110),z=d(109),$=d(162),K=d(106),H=d(65);const W=w.a.addTransformationCase,U=w.a.defaultTransform;W(R.a,D.a,(Z,G,J)=>{const Q=U(Z,G,J);return Z.range.containsPosition(G.position)&&Q.push(f(G,Z)),Q}),W(R.a,L.a,(Z,G,J)=>{const Q=new T.a(G.position.root,G.position.path.slice(0,-1)),Y=U(Z,G,J);for(const X of Z.operations)if(X.range.containsPosition(Q)||X.range.start.isEqual(Q)){const ee=new R.a,te=Q.getShiftedBy(1),ae=T.a.createFromPosition(te);ae.path.push(0);const ne=G._cloneOperation.nodes.getNode(0).getAttribute(X.key);ee.addOperation(new S.a(new C.a(te,ae),X.key,ne===void 0?null:ne,X.newValue,0)),Y.push(ee);break}return Y}),W(F.a,I.a,(Z,G,J)=>{return Z.position.isEqual(G.position)?[G.getReversed(),Z.clone()]:U(Z,G,J)}),W(N.a,L.a,u),W(N.a,I.a,u),W(N.a,q.a,u),W(N.a,z.a,u),W(N.a,M.a,u),W(N.a,$.a,u),W(M.a,I.a,(Z,G,J)=>{const Q=Z.sourcePosition.root==G.position.root&&'same'===d.i(H.a)(Z.sourcePosition.getParentPath(),G.position.getParentPath()),Y=Z.sourcePosition.offset<=G.position.offset&&Z.sourcePosition.offset+Z.howMany>G.position.offset;return Q&&Y?[G.getReversed(),Z.clone()]:U(Z,G,J)}),W(I.a,F.a,(Z,G,J)=>{return Z.position.isEqual(G.position)?[h()]:U(Z,G,J)}),W(I.a,M.a,(Z,G,J)=>{const Q=Z.position.root==G.sourcePosition.root&&'same'===d.i(H.a)(Z.position.getParentPath(),G.sourcePosition.getParentPath()),Y=G.sourcePosition.offset<=Z.position.offset&&G.sourcePosition.offset+G.howMany>Z.position.offset;return Q&&Y?[h()]:U(Z,G,J)}),W(L.a,L.a,(Z,G,J)=>{const Q=Z.position.getParentPath(),Y=G.position.getParentPath();if('same'==d.i(H.a)(Q,Y)){if(Z.position.offset==G.position.offset)return[h()];if(Z.position.offset<G.position.offset){const X=Z.clone();return X._moveOperation.howMany=G.position.offset-Z.position.offset,Z._cloneOperation instanceof O.a&&G._cloneOperation instanceof O.a&&Z._cloneOperation.sourcePosition.offset>G._cloneOperation.sourcePosition.offset&&X._cloneOperation.sourcePosition.offset--,[X]}const X=Z.clone();return X._cloneOperation.position.offset++,X._moveOperation.sourcePosition.path[X._moveOperation.sourcePosition.path.length-2]++,X._moveOperation.targetPosition.path[X._moveOperation.targetPosition.path.length-2]++,X._moveOperation.sourcePosition.offset=Z.position.offset-G.position.offset,Z._cloneOperation instanceof O.a&&G._cloneOperation instanceof O.a&&Z._cloneOperation.sourcePosition.offset>G._cloneOperation.sourcePosition.offset&&X._cloneOperation.sourcePosition.offset--,[X]}return U(Z,G,J)}),W(L.a,z.a,(Z,G,J)=>{return'same'===d.i(H.a)(G.position.path,Z.position.getParentPath())?[h()]:U(Z,G,J)}),W(L.a,q.a,(Z,G,J)=>{const Q='same'===d.i(H.a)(Z.position.getParentPath(),G.range.start.getParentPath()),Y=G.range.start.offset<Z.position.offset&&G.range.end.offset>=Z.position.offset;if(Q&&Y)return[h()];if('same'===d.i(H.a)(Z.position.getParentPath(),G.range.end.getShiftedBy(-1).path)){const X=Z.clone(),ee=T.a.createFromPosition(G.range.start);ee.path.push(G.howMany-1);const te=ee.getShiftedBy(1);X._cloneOperation.position=te;const ae=T.a.createFromPosition(ee);ae.path.push(Z.position.offset),X._moveOperation.sourcePosition=ae;const ne=T.a.createFromPosition(te);return ne.path.push(0),X._moveOperation.targetPosition=ne,[X]}return U(Z,G,J)}),W(L.a,R.a,(Z,G)=>{Z=Z.clone();const J=new T.a(Z.position.root,Z.position.path.slice(0,-1));if(Z._cloneOperation instanceof E.a)for(const Q of G.operations)if(Q.range.containsPosition(J)||Q.range.start.isEqual(J)){null===Q.newValue?Z._cloneOperation.nodes.getNode(0).removeAttribute(Q.key):Z._cloneOperation.nodes.getNode(0).setAttribute(Q.key,Q.newValue);break}return[Z]}),W(z.a,L.a,(Z,G,J)=>{if('same'===d.i(H.a)(Z.position.path,G.position.getParentPath())){const Q=[G.getReversed(),Z.clone()];return Q[1].operations[1].targetPosition.path[0]++,Q}return U(Z,G,J)}),W(D.a,R.a,(Z,G)=>{const J=[Z.clone()];return G.range.containsPosition(Z.position)&&J.push(f(Z,G)),J}),W(q.a,L.a,(Z,G,J)=>{const Q='same'===d.i(H.a)(Z.range.start.getParentPath(),G.position.getParentPath()),Y=Z.range.start.offset<G.position.offset&&Z.range.end.offset>=G.position.offset;if(Q&&Y)return[G.getReversed(),Z.clone()];if('same'===d.i(H.a)(G.position.getParentPath(),Z.range.end.getShiftedBy(-1).path)){const X=Z.clone();return X._insertOperation.position.offset++,X._moveOperation.howMany++,X._moveOperation.targetPosition.path[X._moveOperation.targetPosition.path.length-2]++,[X]}return U(Z,G,J)}),W($.a,L.a,(Z,G,J)=>{const Q=new T.a(G.position.root,G.position.path.slice(0,-1)),Y=U(Z,G,J);if(Z.operations[0].position.isEqual(Q)){const X=Z.clone();X.operations[0].position=Z.operations[0].position.getShiftedBy(1),Y.push(X)}return Y}),W(L.a,$.a,(Z,G)=>{Z=Z.clone();const J=new T.a(Z.position.root,Z.position.path.slice(0,-1));return Z._cloneOperation instanceof E.a&&G.operations[0].position.isEqual(J)&&(Z._cloneOperation.nodes.getNode(0).name=G.operations[0].newName),[Z]}),W(K.a,L.a,(Z,G,J)=>{const Q=U(Z,G,J),Y=G._cloneOperation.position;for(const X of Q)for(const ee of X.operations){const te=ee.sourcePosition.getShiftedBy(ee.howMany);te.isEqual(Y)&&(ee.howMany+=1)}return Q}),W(L.a,K.a,(Z,G,J)=>{G=G.clone();const Q=Z._cloneOperation.position;for(const Y of G.operations){const X=Y.sourcePosition.getShiftedBy(Y.howMany);X.isEqual(Q)&&(Y.howMany+=1)}return U(Z,G,J)})},function(r,s,d){'use strict';function u(S,E,O,V){const R=S.document,F=new P,N=new C.a(E,O,V,R.markers,R.version);S.addDelta(F),F.addOperation(N),R.applyOperation(N)}var f=d(19),h=d(17),w=d(16),C=d(112),T=d(0);class P extends f.a{get type(){return'marker'}get _reverseDeltaClass(){return P}static get className(){return'engine.model.delta.MarkerDelta'}}s.a=P,d.i(w.b)('setMarker',function(S,E){const O='string'==typeof S?S:S.name,V=this.document.markers.get(O);if(!E&&!V)throw new T.a('batch-setMarker-no-range: Range parameter is required when adding a new marker.');const R=V?V.getRange():null;return E?u(this,O,R,E):u(this,O,null,R),this}),d.i(w.b)('removeMarker',function(S){const E='string'==typeof S?S:S.name;if(!this.document.markers.has(E))throw new T.a('batch-removeMarker-no-marker: Trying to remove marker that does not exist.');const O=this.document.markers.get(E).getRange();return u(this,E,O,null),this}),h.a.register(P)},function(r,s,d){'use strict';function u($){const K=$.textNode;if(K){const H=K.data,W=$.offset-K.startOffset;return!d.i(D.a)(H,W)&&!d.i(D.b)(H,W)}return!0}function*f($,K){for(let H=!1;!H;){if(H=!0,$){const W=$.next();W.done||(H=!1,yield{walker:$,value:W.value})}if(K){const W=K.next();W.done||(H=!1,yield{walker:K,value:W.value})}}}var h=d(350),w=d(351),C=d(3),T=d(1),P=d(359),S=d(16),E=d(354),O=d(355),V=d(360),R=d(37),F=d(356),N=d(96),I=d(7),M=d(0),L=d(4),D=d(273);const q='$graveyard';class z{constructor(){this.version=0,this.schema=new V.a,this.history=new E.a(this),this.markers=new F.a,this.selection=new O.a(this),this._pendingChanges=[],this.roots=new Map,this.selection.on('change:range',()=>{for(const $ of this.selection.getRanges())if(!this._validateSelectionRange($))throw new M.a('document-selection-wrong-position: Range from document selection starts or ends at incorrect position.',{range:$})}),this.createRoot('$root',q)}get graveyard(){return this.getRoot(q)}applyOperation($){if($.baseVersion!==this.version)throw new M.a('model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.',{operation:$});const K=$._execute();this.version++,this.history.addDelta($.delta),K&&this.fire('change',$.type,K,$.delta.batch,$.delta.type)}batch($){return new S.a(this,$)}createRoot($='$root',K='main'){if(this.roots.has(K))throw new M.a('model-document-createRoot-name-exists: Root with specified name already exists.',{name:K});const H=new P.a(this,$,K);return this.roots.set(K,H),H}destroy(){this.selection.destroy(),this.stopListening()}enqueueChanges($){if(this._pendingChanges.push($),1==this._pendingChanges.length){for(;this._pendingChanges.length;)this._pendingChanges[0](),this._pendingChanges.shift();this.fire('changesDone')}}getRoot($='main'){if(!this.roots.has($))throw new M.a('model-document-getRoot-root-not-exist: Root with specified name does not exist.',{name:$});return this.roots.get($)}hasRoot($){return this.roots.has($)}getRootNames(){return Array.from(this.roots.keys()).filter(($)=>$!=q)}getNearestSelectionRange($,K='both'){if(this.schema.check({name:'$text',inside:$}))return new C.a($);let H,W;('both'==K||'backward'==K)&&(H=new R.a({startPosition:$,direction:'backward'})),('both'==K||'forward'==K)&&(W=new R.a({startPosition:$}));for(const U of f(H,W)){const Z=U.walker==H?'elementEnd':'elementStart',G=U.value;if(G.type==Z&&this.schema.objects.has(G.item.name))return C.a.createOn(G.item);if(this.schema.check({name:'$text',inside:G.nextPosition}))return new C.a(G.nextPosition)}return null}toJSON(){const $=d.i(N.a)(this);return $.selection='[engine.model.LiveSelection]',$}_getDefaultRoot(){for(const $ of this.roots.values())if($!==this.graveyard)return $;return this.graveyard}_getDefaultRange(){const $=this._getDefaultRoot(),K=new T.a($,[0]),H=this.getNearestSelectionRange(K);return H||new C.a(K)}_validateSelectionRange($){return u($.start)&&u($.end)}}s.a=z,d.i(L.a)(z,I.a)},function(r,s,d){'use strict';var u=d(0);s.a=class{constructor(){this._deltas=[],this._historyPoints=new Map}addDelta(h){if(0<h.operations.length&&!this._historyPoints.has(h.baseVersion)){const w=this._deltas.length;this._deltas[w]=h,this._historyPoints.set(h.baseVersion,w)}}*getDeltas(h=0,w=_NumberPOSITIVE_INFINITY){if(0!==this._deltas.length){let C=this._getIndex(h);if(-1!=C)for(;C<this._deltas.length;){const T=this._deltas[C++];if(T.baseVersion>=w)break;yield T}}}getDelta(h){let w=this._historyPoints.get(h);if(w===void 0)return null;const C=[];for(w;w<this._deltas.length;w++){const T=this._deltas[w];if(T.baseVersion!=h)break;C.push(T)}return 0===C.length?null:C}removeDelta(h){this.updateDelta(h,[])}updateDelta(h,w){const C=this.getDelta(h);if(null!==C){for(const P of w)P.baseVersion=h;this._deltas.splice(this._getIndex(h),C.length,...w);const T=w.length-C.length;for(const P of this._historyPoints.keys())P>h&&this._historyPoints.set(P,this._historyPoints.get(P)+T)}}_getIndex(h){const w=this._historyPoints.get(h);if(w===void 0){const C=this._deltas[this._deltas.length-1],T=C.baseVersion+C.operations.length;if(0>h||h>=T)return-1;throw new u.a('model-history-wrong-version: Given base version points to the middle of a delta.')}return w}}},function(r,s,d){'use strict';function u(N){return N instanceof T.a||N instanceof C.a?N.getAttributes():null}var f=d(1),h=d(3),w=d(111),C=d(24),T=d(61),P=d(151),S=d(0),E=d(43),O=d(60);const V='selection:',R=new Set(['addAttribute','removeAttribute','changeAttribute','addRootAttribute','removeRootAttribute','changeRootAttribute']);class F extends O.a{constructor(N){super(),this._document=N,this._attributePriority=new Map,this.listenTo(this._document,'change',(I,M)=>{R.has(M)&&this._updateAttributes(!1)})}get isCollapsed(){const N=this._ranges.length;return!(0!==N)||super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().start}get rangeCount(){return this._ranges.length?this._ranges.length:1}destroy(){for(let N=0;N<this._ranges.length;N++)this._ranges[N].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}addRange(N,I=!1){super.addRange(N,I),this.refreshAttributes()}removeAllRanges(){super.removeAllRanges(),this.refreshAttributes()}setRanges(N,I=!1){super.setRanges(N,I),this.refreshAttributes()}setAttribute(N,I){if(this.isCollapsed&&0===this.anchor.parent.childCount&&this._storeAttribute(N,I),this._setAttribute(N,I)){this.fire('change:attribute',{attributeKeys:[N],directChange:!0})}}removeAttribute(N){if(this.isCollapsed&&0===this.anchor.parent.childCount&&this._removeStoredAttribute(N),this._removeAttribute(N)){this.fire('change:attribute',{attributeKeys:[N],directChange:!0})}}setAttributesTo(N){N=d.i(P.a)(N),this.isCollapsed&&0===this.anchor.parent.childCount&&this._setStoredAttributesTo(N);const I=this._setAttributesTo(N);if(0<I.size){const M=Array.from(I);this.fire('change:attribute',{attributeKeys:M,directChange:!0})}}clearAttributes(){this.setAttributesTo([])}refreshAttributes(){this._updateAttributes(!0)}static createFromSelection(N){const I=new this(N._document);return I.setTo(N),I}_popRange(){this._ranges.pop().detach()}_pushRange(N){const I=this._prepareRange(N);I&&this._ranges.push(I)}_prepareRange(N){if(!(N instanceof h.a))throw new S.a('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');if(N.root==this._document.graveyard)return void E.a.warn('model-selection-range-in-graveyard: Trying to add a Range that is in the graveyard root. Range rejected.');this._checkRange(N);const I=w.a.createFromRange(N);return this.listenTo(I,'change',(M,L)=>{I.root==this._document.graveyard&&this._fixGraveyardSelection(I,L),this.fire('change:range',{directChange:!1})}),I}_updateAttributes(N){const I=d.i(P.a)(this._getSurroundingAttributes()),M=d.i(P.a)(this.getAttributes());if(N)this._attributePriority=new Map,this._attrs=new Map;else for(const[D,q]of this._attributePriority)'low'==q&&(this._attrs.delete(D),this._attributePriority.delete(D));this._setAttributesTo(I,!1);const L=[];for(const[D,q]of this.getAttributes())M.has(D)&&M.get(D)===q||L.push(D);for(const[D]of M)this.hasAttribute(D)||L.push(D);0<L.length&&this.fire('change:attribute',{attributeKeys:L,directChange:!1})}static _getStoreAttributeKey(N){return V+N}_setAttribute(N,I,M=!0){const L=M?'normal':'low';if('low'==L&&'normal'==this._attributePriority.get(N))return!1;const D=super.getAttribute(N);return D!==I&&(this._attrs.set(N,I),this._attributePriority.set(N,L),!0)}_removeAttribute(N,I=!0){const M=I?'normal':'low';return'low'==M&&'normal'==this._attributePriority.get(N)?!1:!!super.hasAttribute(N)&&(this._attrs.delete(N),this._attributePriority.set(N,M),!0)}_setAttributesTo(N,I=!0){const M=new Set;for(const[L,D]of this.getAttributes())N.get(L)!==D&&this._removeAttribute(L,I)&&M.add(L);for(const[L,D]of N){const q=this._setAttribute(L,D,I);q&&M.add(L)}return M}*_getStoredAttributes(){const N=this.getFirstPosition().parent;if(this.isCollapsed&&0===N.childCount)for(const I of N.getAttributeKeys())if(0===I.indexOf(V)){const M=I.substr(V.length);yield[M,N.getAttribute(I)]}}_removeStoredAttribute(N){const I=F._getStoreAttributeKey(N);this._document.batch().removeAttribute(this.anchor.parent,I)}_storeAttribute(N,I){const M=F._getStoreAttributeKey(N);this._document.batch().setAttribute(this.anchor.parent,M,I)}_setStoredAttributesTo(N){const I=this.anchor.parent,M=this._document.batch();for(const[L]of this._getStoredAttributes()){const D=F._getStoreAttributeKey(L);M.removeAttribute(I,D)}for(const[L,D]of N){const q=F._getStoreAttributeKey(L);M.setAttribute(I,q,D)}}_getSurroundingAttributes(){const N=this.getFirstPosition();let I=null;if(!this.isCollapsed){const M=this.getFirstRange();for(const L of M)'text'==L.type&&null==I&&(I=L.item.getAttributes())}else{const M=N.textNode?N.textNode:N.nodeBefore,L=N.textNode?N.textNode:N.nodeAfter;if(I=u(M),I||(I=u(L)),!I)for(let D=M;D&&!I;)D=D.previousSibling,I=u(D);if(!I)for(let D=L;D&&!I;)D=D.nextSibling,I=u(D);I||(I=this._getStoredAttributes())}return I}_fixGraveyardSelection(N,I){const M=N.start.path,L=I.start.path.length-(M.length-2),D=I.start.path.slice(0,L);D[D.length-1]-=M[1];const q=new f.a(I.root,D);let z=this._document.getNearestSelectionRange(q);z||(z=new h.a(new f.a(q.root,[0])));const $=this._prepareRange(z),K=this._ranges.indexOf(N);N.detach(),this._ranges.splice(K,1,$)}}s.a=F},function(r,s,d){'use strict';var u=d(111),f=d(1),h=d(3),w=d(7),C=d(0),T=d(4);class P{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(E){return this._markers.has(E)}get(E){return this._markers.get(E)||null}set(E,O){const V=E instanceof S?E.name:E,R=this._markers.get(V);if(R){const I=R.getRange();if(I.isEqual(O))return R;this.remove(V)}const F=u.a.createFromRange(O),N=new S(V,F);return this._markers.set(V,N),this.fire('add:'+V,N),N}remove(E){const O=E instanceof S?E.name:E,V=this._markers.get(O);return!!V&&(this._markers.delete(O),this.fire('remove:'+O,V),this._destroyMarker(V),!0)}*getMarkersAtPosition(E){for(const O of this)O.getRange().containsPosition(E)&&(yield O)}destroy(){for(const E of this._markers.values())this._destroyMarker(E);this._markers=null,this.stopListening()}*getMarkersGroup(E){for(const O of this._markers.values())O.name.startsWith(E+':')&&(yield O)}_destroyMarker(E){E.stopListening(),E._liveRange.detach(),E._liveRange=null}}s.a=P,d.i(T.a)(P,w.a);class S{constructor(E,O){this.name=E,this._liveRange=O,this._liveRange.delegate('change').to(this)}getStart(){if(!this._liveRange)throw new C.a('marker-destroyed: Operating on destroyed marker instance.');return f.a.createFromPosition(this._liveRange.start)}getEnd(){if(!this._liveRange)throw new C.a('marker-destroyed: Operating on destroyed marker instance.');return f.a.createFromPosition(this._liveRange.end)}getRange(){if(!this._liveRange)throw new C.a('marker-destroyed: Operating on destroyed marker instance.');return h.a.createFromRange(this._liveRange)}}d.i(T.a)(S,w.a)},function(r,s,d){'use strict';var u=d(75),f=d(45),h=d(112),w=d(30),C=d(76),T=d(36),P=d(113),S=d(46),E=d(114),O=d(115);const V={};V[u.a.className]=u.a,V[f.a.className]=f.a,V[h.a.className]=h.a,V[w.a.className]=w.a,V[C.a.className]=C.a,V[T.a.className]=T.a,V[P.a.className]=P.a,V[S.a.className]=S.a,V[E.a.className]=E.a,V[O.a.className]=O.a;s.a=class{static fromJSON(F,N){return V[F.__className].fromJSON(F,N)}}},function(r,s,d){'use strict';function f(L){return[L.clone()]}function h(L,D){for(let q=0;q<D.length;q++)D[q].baseVersion=L+q+1;return D}function w(L,D){return null===L.targetPosition._getTransformedByDeletion(D.sourcePosition,D.howMany)}function C(L){return 0===L.length?null:1==L.length?L[0]:(L[0].end=L[L.length-1].end,L[0])}var T=d(45),P=d(75),S=d(115),E=d(114),O=d(112),V=d(30),R=d(46),F=d(76),N=d(3),I=d(65);s.a=function(L,D,q){let z,$;L instanceof T.a?z=M.InsertOperation:L instanceof P.a?z=M.AttributeOperation:L instanceof S.a?z=M.RootAttributeOperation:L instanceof E.a?z=M.RenameOperation:L instanceof O.a?z=M.MarkerOperation:L instanceof V.a?z=M.MoveOperation:$=f,z&&(D instanceof T.a?$=z.InsertOperation:D instanceof P.a?$=z.AttributeOperation:D instanceof S.a?$=z.RootAttributeOperation:D instanceof E.a?$=z.RenameOperation:D instanceof O.a?$=z.MarkerOperation:D instanceof V.a?$=z.MoveOperation:$=f);const K=$(L,D,q);return h(L.baseVersion,K)};const M={InsertOperation:{InsertOperation(L,D,q){const z=L.clone();return z.position=z.position._getTransformedByInsertion(D.position,D.nodes.maxOffset,!q),[z]},AttributeOperation:f,RootAttributeOperation:f,RenameOperation:f,MarkerOperation:f,MoveOperation(L,D,q){const z=L.clone();return z.position=L.position._getTransformedByMove(D.sourcePosition,D.targetPosition,D.howMany,!q,D.isSticky),[z]}},AttributeOperation:{InsertOperation(L,D){const q=L.range._getTransformedByInsertion(D.position,D.nodes.maxOffset,!0,!1);return q.reverse().map((z)=>{return new P.a(z,L.key,L.oldValue,L.newValue,L.baseVersion)})},AttributeOperation(L,D,q){if(L.key===D.key){const z=L.range.getDifference(D.range).map((K)=>{return new P.a(K,L.key,L.oldValue,L.newValue,L.baseVersion)}),$=L.range.getIntersection(D.range);return $&&(q?z.push(new P.a($,D.key,D.newValue,L.newValue,L.baseVersion)):0===z.length&&z.push(new F.a(0))),z}return[L.clone()]},RootAttributeOperation:f,RenameOperation:f,MarkerOperation:f,MoveOperation(L,D){const q=N.a.createFromPositionAndShift(D.sourcePosition,D.howMany);let z=[];D instanceof R.a&&D._needsHolderElement&&L.range.root==D.targetPosition.root&&L.range.start.path[0]>=D._holderElementOffset&&(L=L.clone(),L.range.start.path[0]++,L.range.end.path[0]++);const $=C(L.range.getDifference(q)),K=L.range.getIntersection(q);return null!==$&&($.start=$.start._getTransformedByDeletion(D.sourcePosition,D.howMany),$.end=$.end._getTransformedByDeletion(D.sourcePosition,D.howMany),z=$._getTransformedByInsertion(D.getMovedRangeStart(),D.howMany,!0,!1).reverse()),null!==K&&(K.start=K.start._getCombined(D.sourcePosition,D.getMovedRangeStart()),K.end=K.end._getCombined(D.sourcePosition,D.getMovedRangeStart()),z.push(K)),z.map((H)=>{return new P.a(H,L.key,L.oldValue,L.newValue,L.baseVersion)})}},RootAttributeOperation:{InsertOperation:f,AttributeOperation:f,RootAttributeOperation(L,D,q){return L.root!==D.root||L.key!==D.key||(L.newValue===D.newValue||q)&&L.newValue!==D.newValue?[L.clone()]:[new F.a(L.baseVersion)]},RenameOperation:f,MarkerOperation:f,MoveOperation:f},RenameOperation:{InsertOperation(L,D){const q=L.clone();return q.position=q.position._getTransformedByInsertion(D.position,D.nodes.maxOffset,!0),[q]},AttributeOperation:f,RootAttributeOperation:f,RenameOperation(L,D,q){const z=L.clone();if(L.position.isEqual(D.position))if(q)z.oldName=D.newName;else return[new F.a(L.baseVersion)];return[z]},MarkerOperation:f,MoveOperation(L,D){const q=L.clone(),z=q.position.isEqual(D.sourcePosition);return q.position=q.position._getTransformedByMove(D.sourcePosition,D.targetPosition,D.howMany,!0,z),[q]}},MarkerOperation:{InsertOperation(L,D){const q=L.clone();return q.oldRange&&(q.oldRange=q.oldRange._getTransformedByInsertion(D.position,D.nodes.maxOffset,!1,!1)[0]),q.newRange&&(q.newRange=q.newRange._getTransformedByInsertion(D.position,D.nodes.maxOffset,!1,!1)[0]),[q]},AttributeOperation:f,RootAttributeOperation:f,RenameOperation:f,MarkerOperation(L,D,q){const z=L.clone();if(L.name==D.name)if(q)z.oldRange=D.newRange;else return[new F.a(L.baseVersion)];return[z]},MoveOperation(L,D){const q=L.clone();if(q.oldRange){const z=q.oldRange._getTransformedByMove(D.sourcePosition,D.targetPosition,D.howMany);q.oldRange=N.a.createFromRanges(z)}if(q.newRange){const z=q.newRange._getTransformedByMove(D.sourcePosition,D.targetPosition,D.howMany);q.newRange=N.a.createFromRanges(z)}return[q]}},MoveOperation:{InsertOperation(L,D,q){let z=N.a.createFromPositionAndShift(L.sourcePosition,L.howMany);z=z._getTransformedByInsertion(D.position,D.nodes.maxOffset,!1,L.isSticky)[0];const $=new L.constructor(z.start,z.end.offset-z.start.offset,L instanceof R.a?L.baseVersion:L.targetPosition._getTransformedByInsertion(D.position,D.nodes.maxOffset,!q),L instanceof R.a?void 0:L.baseVersion);return $.isSticky=L.isSticky,L instanceof R.a&&($._needsHolderElement=L._needsHolderElement,$._holderElementOffset=L._holderElementOffset),[$]},AttributeOperation:f,RootAttributeOperation:f,RenameOperation:f,MarkerOperation:f,MoveOperation(L,D,q){if(w(L,D)&&w(D,L))return[D.getReversed()];if(D instanceof R.a&&D._needsHolderElement){L=L.clone();const Q=L.sourcePosition.path[0],Y=L.targetPosition.path[0];L.sourcePosition.root==D.targetPosition.root&&(Q>D._holderElementOffset||Q==D._holderElementOffset)&&L.sourcePosition.path[0]++,L.targetPosition.root==D.targetPosition.root&&(Y>D._holderElementOffset||Y==D._holderElementOffset&&q)&&L.targetPosition.path[0]++}L instanceof R.a&&!(D instanceof R.a)?q=!0:!(L instanceof R.a)&&D instanceof R.a&&(q=!1);const z=N.a.createFromPositionAndShift(L.sourcePosition,L.howMany),$=N.a.createFromPositionAndShift(D.sourcePosition,D.howMany),K=[],H=C(z.getDifference($));H&&(H.start=H.start._getTransformedByMove(D.sourcePosition,D.targetPosition,D.howMany,!L.isSticky,!1),H.end=H.end._getTransformedByMove(D.sourcePosition,D.targetPosition,D.howMany,L.isSticky,!1),K.push(H));const W=z.getIntersection($),U=d.i(I.a)(L.sourcePosition.getParentPath(),D.sourcePosition.getParentPath()),Z=z.containsPosition(D.targetPosition)||z.start.isEqual(D.targetPosition)&&L.isSticky||z.end.isEqual(D.targetPosition)&&L.isSticky,G=$.containsRange(z)&&($.containsPosition(L.targetPosition)||$.start.isEqual(L.targetPosition)||$.end.isEqual(L.targetPosition));if(null!==W&&('extension'===U||'same'===U&&q||G)&&!Z&&(W.start=W.start._getCombined(D.sourcePosition,D.getMovedRangeStart()),W.end=W.end._getCombined(D.sourcePosition,D.getMovedRangeStart()),H&&z.start.isBefore($.start)?K.push(W):K.unshift(W)),0===K.length)return L instanceof R.a?(L=L.clone(),L.howMany=0,L.sourcePosition=D.targetPosition,[L]):[new F.a(L.baseVersion)];const J=L.targetPosition._getTransformedByMove(D.sourcePosition,D.targetPosition,D.howMany,!q,D.isSticky||G);return K.reverse().map((Q,Y)=>{const X=new L.constructor(Q.start,Q.end.offset-Q.start.offset,L instanceof R.a?L.baseVersion:J,L instanceof R.a?void 0:L.baseVersion);return X.isSticky=L.isSticky,L instanceof R.a&&(X._needsHolderElement=L._needsHolderElement&&0===Y,X._holderElementOffset=L._holderElementOffset),X})}}}},function(r,s,d){'use strict';var u=d(5);class f extends u.a{constructor(h,w,C='main'){super(w),this._doc=h,this.rootName=C}get document(){return this._doc}is(h,w){return w?'rootElement'==h&&w==this.name||super.is(h,w):'rootElement'==h||super.is(h)}toJSON(){return this.rootName}}s.a=f},function(r,s,d){'use strict';function u(O,V,R){for(let F=R.length-1,N=V.length-1;0<=F&&0<=N;){const I=V[N];if(!O.hasItem(I))return!1;const M=O._extensionChains.get(I);if(M.includes(R[F]))F--,N--;else return!1}return!0}var f=d(1),h=d(5),w=d(96),C=d(12),T=d(148),P=d(0);class S{constructor(){this.objects=new Set,this.limits=new Set,this._items=new Map,this._extensionChains=new Map,this.registerItem('$root'),this.registerItem('$block'),this.registerItem('$inline'),this.registerItem('$text','$inline'),this.allow({name:'$block',inside:'$root'}),this.allow({name:'$inline',inside:'$block'}),this.registerItem('$clipboardHolder','$root'),this.allow({name:'$inline',inside:'$clipboardHolder'})}allow(O){this._getItem(O.name).allow(S._normalizeQueryPath(O.inside),O.attributes)}disallow(O){this._getItem(O.name).disallow(S._normalizeQueryPath(O.inside),O.attributes)}requireAttributes(O,V){this._getItem(O).requireAttributes(V)}check(O){if(!this.hasItem(O.name))return!1;d.i(C.a)(O.attributes)?0===O.attributes.length&&O.attributes.push(void 0):O.attributes=[O.attributes];const V=S._normalizeQueryPath(O.inside),R=this._extensionChains.get(O.name).map((F)=>{return this._getItem(F)});if(!this._getItem(O.name)._checkRequiredAttributes(O.attributes))return!1;for(const F of O.attributes)for(const N of R)if(N._hasMatchingPath('disallow',V,F))return!1;for(const F of O.attributes){let N=!1;for(const I of R)if(I._hasMatchingPath('allow',V,F)){N=!0;break}if(!N)return!1}return!0}hasItem(O){return this._items.has(O)}registerItem(O,V){if(this.hasItem(O))throw new P.a('model-schema-item-exists: Item with specified name already exists in schema.');if(!!V&&!this.hasItem(V))throw new P.a('model-schema-no-item: Item with specified name does not exist in schema.');this._items.set(O,new E(this));const R=this.hasItem(V)?this._extensionChains.get(V).concat(O):[O];this._extensionChains.set(O,R)}itemExtends(O,V){if(!this.hasItem(O)||!this.hasItem(V))throw new P.a('model-schema-no-item: Item with specified name does not exist in schema.');const R=this._extensionChains.get(O);return R.some((F)=>F==V)}_getItem(O){if(!this.hasItem(O))throw new P.a('model-schema-no-item: Item with specified name does not exist in schema.');return this._items.get(O)}static _normalizeQueryPath(O){let V=[];if(d.i(C.a)(O))for(const R of O)R instanceof h.a?V.push(R.name):d.i(T.a)(R)&&V.push(R);else if(O instanceof f.a){for(let R=O.parent;null!==R;)V.push(R.name),R=R.parent;V.reverse()}else d.i(T.a)(O)&&(V=O.split(' '));return V}}s.a=S;class E{constructor(O){this._schema=O,this._allowed=[],this._disallowed=[],this._requiredAttributes=[]}allow(O,V){this._addPath('_allowed',O,V)}disallow(O,V){this._addPath('_disallowed',O,V)}requireAttributes(O){this._requiredAttributes.push(O)}_addPath(O,V,R){V=V.slice(),d.i(C.a)(R)||(R=[R]);for(const F of R)this[O].push({path:V,attribute:F})}_getPaths(O,V){const R='allow'===O?this._allowed:this._disallowed,F=[];for(const N of R)N.attribute===V&&F.push(N.path);return F}_checkRequiredAttributes(O){let V=!0;for(const R of this._requiredAttributes){V=!0;for(const F of R)if(-1==O.indexOf(F)){V=!1;break}if(V)break}return V}_hasMatchingPath(O,V,R){const F=this._getPaths(O,R);for(const N of F)if(u(this._schema,V,N))return!0;return!1}toJSON(){const O=d.i(w.a)(this);return O._schema='[model.Schema]',O}}},function(r,s,d){'use strict';var u=d(64),f=d(369),h=d(165),w=d(169),C=d(62),T=d(43),P=d(168),S=d(367),E=d(364),O=d(365),V=d(363),R=d(4),F=d(33);class N{constructor(){this.domRoots=new Map,this.selection=new u.a,this.domConverter=new h.a,this.roots=new Map,this.set('isFocused',!1),this.renderer=new f.a(this.domConverter,this.selection),this.renderer.bind('isFocused').to(this,'isFocused'),this._observers=new Map,this.addObserver(P.a),this.addObserver(S.a),this.addObserver(E.a),this.addObserver(O.a),this.addObserver(V.a),d.i(C.h)(this),this.on('render',()=>{this.disableObservers(),this.renderer.render(),this.enableObservers()})}addObserver(I){let M=this._observers.get(I);if(M)return M;M=new I(this),this._observers.set(I,M);for(const[L,D]of this.domRoots)M.observe(D,L);return M.enable(),M}getObserver(I){return this._observers.get(I)}createRoot(I,M='main'){const L='string'==typeof I?I:I.tagName,D=new w.a(L.toLowerCase(),M);return D.document=this,this.roots.set(M,D),D.on('change:children',(q,z)=>this.renderer.markToSync('children',z)),D.on('change:attributes',(q,z)=>this.renderer.markToSync('attributes',z)),D.on('change:text',(q,z)=>this.renderer.markToSync('text',z)),this.domConverter.isElement(I)&&this.attachDomRoot(I,M),D}attachDomRoot(I,M='main'){const L=this.getRoot(M);this.domRoots.set(M,I),this.domConverter.bindElements(I,L),this.renderer.markToSync('children',L),this.renderer.domDocuments.add(I.ownerDocument);for(const D of this._observers.values())D.observe(I,M)}getRoot(I='main'){return this.roots.get(I)}getDomRoot(I='main'){return this.domRoots.get(I)}render(){this.fire('render')}focus(){if(!this.isFocused){const I=this.selection.editableElement;I?(this.domConverter.focus(I),this.render()):T.a.warn('view-focus-no-selection: There is no selection in any editable to focus.')}}disableObservers(){for(const I of this._observers.values())I.disable()}enableObservers(){for(const I of this._observers.values())I.enable()}destroy(){for(const I of this._observers.values())I.destroy()}}s.a=N,d.i(R.a)(N,F.a)},function(r,s,d){'use strict';var u=d(63);class f extends u.a{constructor(h){super(h),this.domEventType='click'}onDomEvent(h){this.fire(h.type,h)}}s.a=f},function(r,s,d){'use strict';function u(P){return P==w.d.arrowright||P==w.d.arrowleft||P==w.d.arrowup||P==w.d.arrowdown}var f=d(53),h=d(64),w=d(22),C=d(142);class T extends f.a{constructor(P){super(P),this._fireSelectionChangeDoneDebounced=d.i(C.a)((S)=>this.document.fire('selectionChangeDone',S),200)}observe(){const P=this.document;P.on('keydown',(S,E)=>{const O=P.selection;O.isFake&&u(E.keyCode)&&this.isEnabled&&(E.preventDefault(),this._handleSelectionMove(E.keyCode))},{priority:'lowest'})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(P){const S=this.document.selection,E=h.a.createFromSelection(S);E.setFake(!1),(P==w.d.arrowleft||P==w.d.arrowup)&&E.collapseToStart(),(P==w.d.arrowright||P==w.d.arrowdown)&&E.collapseToEnd();const O={oldSelection:S,newSelection:E,domSelection:null};this.document.fire('selectionChange',O),this._fireSelectionChangeDoneDebounced(O)}}s.a=T},function(r,s,d){'use strict';var u=d(63);class f extends u.a{constructor(h){super(h),this.domEventType=['focus','blur'],this.useCapture=!0,h.on('focus',()=>{h.isFocused=!0,this._renderTimeoutId=setTimeout(()=>h.render(),0)}),h.on('blur',(w,C)=>{const T=h.selection.editableElement;(null===T||T===C.target)&&(h.isFocused=!1,h.render())})}onDomEvent(h){this.fire(h.type,h)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}s.a=f},function(r,s,d){'use strict';var u=d(63),f=d(22);class h extends u.a{constructor(w){super(w),this.domEventType='keydown'}onDomEvent(w){this.fire('keydown',w,{keyCode:w.keyCode,altKey:w.altKey,ctrlKey:w.ctrlKey||w.metaKey,shiftKey:w.shiftKey,get keystroke(){return d.i(f.c)(this)}})}}s.a=h},function(r,s,d){'use strict';var u=d(63);class f extends u.a{constructor(h){super(h),this.domEventType='mousedown'}onDomEvent(h){this.fire(h.type,h)}}s.a=f},function(r,s,d){'use strict';var u=d(53),f=d(168),h=d(43),w=d(142);class C extends u.a{constructor(T){super(T),this.mutationObserver=T.getObserver(f.a),this.document=T,this.selection=T.selection,this.domConverter=T.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=d.i(w.a)((P)=>this.document.fire('selectionChangeDone',P),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._loopbackCounter=0}observe(T){const P=T.ownerDocument;this._documents.has(P)||(this.listenTo(P,'selectionchange',()=>{this._handleSelectionChange(P)}),this._documents.add(P))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(T){if(this.isEnabled&&this.document.isFocused){this.mutationObserver.flush();const P=T.defaultView.getSelection(),S=this.domConverter.domSelectionToView(P);if(!this.selection.isEqual(S)){if(60<++this._loopbackCounter)return void h.a.warn('selectionchange-infinite-loop: Selection change observer detected an infinite rendering loop.');const E={oldSelection:this.selection,newSelection:S,domSelection:P};this.document.fire('selectionChange',E),this._fireSelectionChangeDoneDebounced(E)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}s.a=C},function(r,s,d){'use strict';function f(R){const F=R.document;R.removeClass('ck-placeholder'),R.removeAttribute('data-placeholder'),V.has(F)&&V.get(F).delete(R)}function h(R){const F=V.get(R);for(const[N,I]of F)w(N,I)}function w(R,F){const N=R.document;if(N){const I=N.selection,M=I.anchor;return F&&!F()?void R.removeClass('ck-placeholder'):N.isFocused||R.childCount?void(!R.childCount&&M&&M.parent!==R?R.addClass('ck-placeholder'):R.removeClass('ck-placeholder')):void R.addClass('ck-placeholder')}}s.a=function(R,F,N){const I=R.document;if(!I)throw new P.a('view-placeholder-element-is-detached: Provided element is not placed in document.');f(R),V.has(I)||(V.set(I,new Map),O.listenTo(I,'render',()=>h(I),{priority:'high'})),R.setAttribute('data-placeholder',F),V.get(I).set(R,N),w(R,N)};var C=d(50),T=d(7),P=d(0),S=d(311),E=d.n(S);const O={};d.i(C.a)(O,T.a);const V=new WeakMap},function(r,s,d){'use strict';function u(I,M){return!I.isCollapsed&&f(I).isEqual(f(M))}function f(I){const M=C.a.createFromSelection(I),L=M.getRanges(),D=[];for(const q of L)D.push(q.getTrimmed());return M.setRanges(D,M.isBackward),M}var h=d(31),w=d(26),C=d(64),T=d(62),P=d(4),S=d(185),E=d(431),O=d(434),V=d(43),R=d(33),F=d(0);class N{constructor(I,M){this.domDocuments=new Set,this.domConverter=I,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=M,this._inlineFiller=null,this.isFocused=!1,this._fakeSelectionContainer=null}markToSync(I,M){if('text'===I)this.domConverter.getCorrespondingDom(M.parent)&&this.markedTexts.add(M);else{if(!this.domConverter.getCorrespondingDom(M))return;if('attributes'===I)this.markedAttributes.add(M);else if('children'===I)this.markedChildren.add(M);else throw new F.a('view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.')}}render(){let I;this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?I=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(I=this.selection.getFirstPosition(),this.markedChildren.add(I.parent));for(const M of this.markedTexts)!this.markedChildren.has(M.parent)&&this.domConverter.getCorrespondingDom(M.parent)&&this._updateText(M,{inlineFillerPosition:I});for(const M of this.markedAttributes)this._updateAttrs(M);for(const M of this.markedChildren)this._updateChildren(M,{inlineFillerPosition:I});this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear(),this._inlineFiller=this._getInlineFillerNode(I)}_getInlineFillerNode(I){if(!I)return void(this._inlineFiller=null);const M=this.domConverter.viewPositionToDom(I);if(!M||!d.i(T.c)(M.parent))throw new F.a('view-renderer-cannot-find-filler: Cannot find filler node by its position.');return M.parent}_getInlineFillerPosition(){const I=this.selection.getFirstPosition();return I.parent.is('text')?w.a.createBefore(this.selection.getFirstPosition().parent):I}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const I=this.selection.getFirstPosition(),M=this.domConverter.viewPositionToDom(I);return M&&this.domConverter.isText(M.parent)&&d.i(T.c)(M.parent)}_removeInlineFiller(){const I=this._inlineFiller;if(!d.i(T.c)(I))throw new F.a('view-renderer-filler-was-lost: The inline filler node was lost.');d.i(T.f)(I)?I.parentNode.removeChild(I):I.data=I.data.substr(T.d),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const I=this.selection.getFirstPosition(),M=I.parent,L=I.offset;if(!this.domConverter.getCorrespondingDomElement(M.root))return!1;if(!M.is('element'))return!1;if(L===M.getFillerOffset())return!1;const D=I.nodeBefore,q=I.nodeAfter;return D instanceof h.a||q instanceof h.a?!1:!0}_updateText(I,M){const L=this.domConverter.getCorrespondingDom(I),D=this.domConverter.viewToDom(I,L.ownerDocument),q=L.data;let z=D.data;const $=M.inlineFillerPosition;$&&$.parent==I.parent&&$.offset==I.index&&(z=T.i+z),q!=z&&(L.data=z)}_updateAttrs(I){const M=this.domConverter.getCorrespondingDom(I),L=Array.from(M.attributes).map((q)=>q.name),D=I.getAttributeKeys();for(const q of D)M.setAttribute(q,I.getAttribute(q));for(const q of L)I.hasAttribute(q)||M.removeAttribute(q)}_updateChildren(I,M){function L(Z,G){if(Z===G)return!0;return D.isText(Z)&&D.isText(G)?Z.data===G.data:d.i(T.e)(Z,D.blockFiller)&&d.i(T.e)(G,D.blockFiller)}const D=this.domConverter,q=D.getCorrespondingDom(I);if(q){const z=q.ownerDocument,$=M.inlineFillerPosition,K=q.childNodes,H=Array.from(D.viewChildrenToDom(I,z,{bind:!0}));if($&&$.parent==I){const Z=H[$.offset];this.domConverter.isText(Z)?Z.data=T.i+Z.data:H.splice($.offset,0,z.createTextNode(T.i))}const W=d.i(S.a)(K,H,L);let U=0;for(const Z of W)'insert'===Z?(d.i(E.a)(q,U,H[U]),U++):'delete'===Z?(this.domConverter.unbindDomElement(K[U]),d.i(O.a)(K[U])):U++}}_updateSelection(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const I=this.domConverter.getCorrespondingDomElement(this.selection.editableElement);this.isFocused&&I&&(this.selection.isFake?this._updateFakeSelection(I):(this._removeFakeSelection(),this._updateDomSelection(I)))}_updateFakeSelection(I){const M=I.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=M.createElement('div'),this._fakeSelectionContainer.style.position='fixed',this._fakeSelectionContainer.style.top=0,this._fakeSelectionContainer.style.left='-9999px',this._fakeSelectionContainer.appendChild(M.createTextNode('\xA0'))),this._fakeSelectionContainer.parentElement||I.appendChild(this._fakeSelectionContainer);const L=this.selection.fakeSelectionLabel||'\xA0';this._fakeSelectionContainer.firstChild.data=L;const D=M.getSelection();D.removeAllRanges();const q=M.createRange();q.selectNodeContents(this._fakeSelectionContainer),D.addRange(q),this.domConverter.bindFakeSelection(this._fakeSelectionContainer,this.selection)}_updateDomSelection(I){const M=I.ownerDocument.defaultView.getSelection(),L=M&&this.domConverter.domSelectionToView(M);if(!(L&&this.selection.isEqual(L))){if(L&&u(L,this.selection)){const z={oldSelection:L,currentSelection:this.selection};return void V.a.warn('renderer-skipped-selection-rendering: The selection was not rendered due to its similarity to the current one.',z)}const D=this.domConverter.viewPositionToDom(this.selection.anchor),q=this.domConverter.viewPositionToDom(this.selection.focus);M.collapse(D.parent,D.offset),M.extend(q.parent,q.offset)}}_removeDomSelection(){for(const I of this.domDocuments){const M=I.getSelection();if(M.rangeCount){const L=I.activeElement,D=this.domConverter.getCorrespondingViewElement(L);L&&D&&I.getSelection().removeAllRanges()}}}_removeFakeSelection(){const I=this._fakeSelectionContainer;I&&I.remove()}_updateFocus(){if(this.isFocused){const I=this.selection.editableElement;I&&this.domConverter.focus(I)}}}s.a=N,d.i(P.a)(N,R.a)},function(r,s,d){'use strict';var u=d(0);class f{constructor(h,w,C){if(this.textNode=h,0>w||w>h.data.length)throw new u.a('view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>C||w+C>h.data.length)throw new u.a('view-textproxy-wrong-length: Given length value is incorrect.');this.data=h.data.substring(w,w+C),this.offsetInText=w}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(h){return'textProxy'==h}getAncestors(h={includeNode:!1,parentFirst:!1}){const w=[];for(let C=h.includeNode?this.textNode:this.parent;null!==C;)w[h.parentFirst?'push':'unshift'](C),C=C.parent;return w}}s.a=f},function(r,s,d){'use strict';var u=d(2),f=d(372),h=d(373);class w extends u.a{static get pluginName(){return'enter/enter'}init(){const C=this.editor,T=C.editing.view;T.addObserver(h.a),C.commands.set('enter',new f.a(C)),this.listenTo(T,'enter',(P,S)=>{C.execute('enter'),S.preventDefault()},{priority:'low'})}}s.a=w},function(r,s,d){'use strict';function u(T,P,S,E){const O=S.isCollapsed,V=S.getFirstRange(),R=V.start.parent,F=V.end.parent;if(!(E.limits.has(R.name)||E.limits.has(F.name))){if(R.root==R)return void(O||T.deleteContent(S,P));if(O)f(P,S,V.start);else{const N=V.start.isAtStart&&V.end.isAtEnd;T.deleteContent(S,P,{merge:N}),N||(R==F?f(P,S,S.focus):S.collapse(F))}}}function f(T,P,S){if(S.isAtEnd){const E=S.parent,O=new E.constructor(E.name,E.getAttributes());T.insert(w.a.createAfter(S.parent),O)}else T.split(S);P.collapse(S.parent.nextSibling)}var h=d(11),w=d(1);class C extends h.a{_doExecute(){const T=this.editor.document,P=T.batch();T.enqueueChanges(()=>{u(this.editor.data,P,T.selection,T.schema),this.fire('afterExecute',{batch:P})})}}s.a=C},function(r,s,d){'use strict';var u=d(53),f=d(118),h=d(22);class w extends u.a{constructor(C){super(C),C.on('keydown',(T,P)=>{this.isEnabled&&P.keyCode==h.d.enter&&C.fire('enter',new f.a(C,P.domEvent))})}observe(){}}s.a=w},function(r,s,d){'use strict';var u=d(3),f=d(11),h=d(60),w=d(1),C=d(66);class T extends f.a{constructor(P,S){super(P),Object.assign(this,S),this.set('value',!1),this.listenTo(P.document,'changesDone',()=>{this.refreshValue(),this.refreshState()})}_doExecute(P={}){const S=this.editor,E=S.document,O=this.value;E.enqueueChanges(()=>{const V=P.batch||E.batch();for(const R of E.selection.getSelectedBlocks())if(!O)R.is(this.modelElement)||V.rename(R,this.modelElement);else if(R.is(this.modelElement)){const F=new h.a;F.addRange(u.a.createIn(R)),S.execute('paragraph',{selection:F,batch:V})}})}refreshValue(){const P=d.i(C.a)(this.editor.document.selection.getSelectedBlocks());this.value=!!P&&P.is(this.modelElement)}_checkEnabled(){const P=d.i(C.a)(this.editor.document.selection.getSelectedBlocks());return!!P&&this.editor.document.schema.check({name:this.modelElement,inside:w.a.createBefore(P)})}}s.a=T},function(r,s,d){'use strict';var u=d(2),f=d(44),h=d(34),w=d(73),C=d(374);const T='paragraph';class P extends u.a{constructor(S){super(S),S.config.define('heading',{options:[{modelElement:'paragraph',title:'Paragraph',class:'ck-heading_paragraph'},{modelElement:'heading1',viewElement:'h2',title:'Heading 1',class:'ck-heading_heading1'},{modelElement:'heading2',viewElement:'h3',title:'Heading 2',class:'ck-heading_heading2'},{modelElement:'heading3',viewElement:'h4',title:'Heading 3',class:'ck-heading_heading3'}]})}static get requires(){return[w.a]}init(){const S=this.editor,E=S.data,O=S.editing,V=S.config.get('heading.options');for(const R of V)R.modelElement!==T&&(S.document.schema.registerItem(R.modelElement,'$block'),d.i(f.a)().for(E.modelToView,O.modelToView).fromElement(R.modelElement).toElement(R.viewElement),d.i(h.a)().for(E.viewToModel).fromElement(R.viewElement).toElement(R.modelElement),S.commands.set(R.modelElement,new C.a(S,R)))}afterInit(){const S=this.editor,E=S.commands.get('enter'),O=S.config.get('heading.options');E&&this.listenTo(E,'afterExecute',(V,R)=>{const F=S.document.selection.getFirstPosition().parent,N=R.batch,I=O.some((M)=>F.is(M.modelElement));I&&!F.is(T)&&0===F.childCount&&N.rename(F,T)})}}s.a=P},function(r,s,d){'use strict';function h(V,R,F,N){const I=V.name.split(':'),M=I[0]+':'+I[1];if(F.consume(R.item,M)){const L=N.mapper.toViewElement(R.item),D=L.getChild(0);'removeAttribute'==I[0]?D.removeAttribute(R.attributeKey):D.setAttribute(R.attributeKey,R.attributeNewValue)}}function C(V,R,F){R=R.slice();for(const N={name:V.name,attributes:V.attributes,inside:R};R.length&&!F.check(N);){const I=R.pop(),M='string'==typeof I?I:I.name;if(F.limits.has(M))return null}return R.length?R:null}s.d=function(){return(V,R,F,N)=>{if(F.test(R.input,{name:!0,class:'image'})&&N.schema.check({name:'image',inside:R.context,attributes:'src'})){const I=Array.from(R.input.getChildren()).find((D)=>D.is('img'));if(I&&I.hasAttribute('src')&&F.test(I,{name:!0})){const M=N.convertItem(I,F,R);R.context.push(M);const L=N.convertChildren(R.input,F,R);R.context.pop(),E.a.insert(P.a.createAt(M),L),R.output=M}}}},s.a=function(V,R){for(const F of V)F.on(`addAttribute:${R}:image`,h),F.on(`changeAttribute:${R}:image`,h),F.on(`removeAttribute:${R}:image`,h)},s.b=function(V,R,F,N){const I=R.input;if(F.test(I,{name:!0,attribute:['src']})){const M=C({name:'image',attributes:['src']},R.context,N.schema);if(M){const L=Object.assign({},R);L.context=M,R.output=N.convertItem(I,F,L),O.add(R.output)}}},s.c=function(V,R){if(R.output&&R.output.is('element')){const F=[];for(let N=R.output.childCount-1;0<=N;N--){const I=R.output.getChild(N);if(O.has(I)){const M=R.output.childCount-N-1;let L=null;0<M&&(L=R.output.clone(!1),L.appendChildren(R.output.removeChildren(N+1,M))),I.remove(),F.shift(),L&&F.unshift(L),F.unshift(I),0<R.output.childCount&&F.unshift(R.output)}}F.length&&(R.output=new S.a(F))}};var P=d(1),S=d(35),E=d(20);const O=new WeakSet},function(r,s,d){'use strict';function u(L,D,q,z){if('insert'===D){const $=new T.a({boundaries:q.range,ignoreElementEnd:!0});for(const K of $){const H=K.item;'elementStart'==K.type&&d.i(N.b)(H)&&!d.i(I.c)(H)&&z.document.enqueueChanges(()=>{d.i(I.c)(H)||z.insert(V.a.createAt(H,'end'),new P.a('caption'))})}}}function f(L,D=!0){return(q,z,$,K)=>{const H=z.item;if((H.childCount||D)&&d.i(N.b)(H.parent)){if(!$.consume(z.item,'insert'))return;const W=K.mapper.toViewElement(z.range.start.parent),U=L instanceof E.a?L.clone(!0):L();H.childCount||U.addClass('ck-hidden'),h(U,z.item,W,K.mapper)}}}function h(L,D,q,z){const $=R.a.createAt(q,'end');O.a.insert($,L),z.bindElements(D,L)}function w(L){const D=L.getAncestors({includeNode:!0}),q=D.find((z)=>'caption'==z.name);return q&&q.parent&&'image'==q.parent.name?q:null}var C=d(2),T=d(37),P=d(5),S=d(47),E=d(25),O=d(79),V=d(1),R=d(26),F=d(34),N=d(39),I=d(378);class M extends C.a{init(){const L=this.editor,D=L.document,q=L.editing.view,z=D.schema,$=L.data,K=L.editing,H=L.t;this._createCaption=d.i(I.a)(q,H('Enter image caption')),z.registerItem('caption','$block'),z.allow({name:'$inline',inside:'caption'}),z.allow({name:'caption',inside:'image'}),z.limits.add('caption'),D.on('change',u),d.i(F.a)().for($.viewToModel).from(I.b).toElement('caption'),$.modelToView.on('insert:caption',f(new S.a('figcaption'),!1)),K.modelToView.on('insert:caption',f(this._createCaption)),K.modelToView.on('insert',(W,U)=>this._fixCaptionVisibility(U.item),{priority:'high'}),K.modelToView.on('remove',(W,U)=>this._fixCaptionVisibility(U.sourcePosition.parent),{priority:'high'}),this.listenTo(q,'render',()=>this._updateCaptionVisibility(),{priority:'high'})}_updateCaptionVisibility(){const L=this.editor.editing.mapper,D=this.editor.editing.view.selection,q=D.getSelectedElement();let z;if(this._lastSelectedCaption&&!this._lastSelectedCaption.childCount&&this._lastSelectedCaption.addClass('ck-hidden'),q&&d.i(N.a)(q)){const $=L.toModelElement(q),K=d.i(I.c)($);z=L.toViewElement(K)}d.i(I.d)(D.editableElement)&&(z=D.editableElement),z&&(z.removeClass('ck-hidden'),this._lastSelectedCaption=z)}_fixCaptionVisibility(L){const D=w(L),q=this.editor.editing.mapper;if(D){const z=q.toViewElement(D);z&&(D.childCount?z.removeClass('ck-hidden'):z.addClass('ck-hidden'))}}}s.a=M},function(r,s,d){'use strict';s.a=function(O,V){return()=>{const R=new T.a('figcaption');return R.document=O,R.setCustomProperty(E,!0),d.i(P.a)(R,V),d.i(S.c)(R)}},s.d=function(O){return!!O.getCustomProperty(E)},s.c=function(O){for(const V of O.getChildren())if(V instanceof C.a&&'caption'==V.name)return V;return null},s.b=function(O){const V=O.parent;return'figcaption'==O.name&&V&&'figure'==V.name&&V.hasClass('image')?{name:!0}:null};var C=d(5),T=d(77),P=d(368),S=d(152);const E=Symbol('imageCaption')},function(r,s,d){'use strict';function h(S,E,O,V){const R=E.input,F=E.output;if(O.test(R,{class:S.className})&&d.i(P.b)(F)){const N=[...F.getAttributeKeys(),'imageStyle'];V.schema.check({name:'image',inside:E.context,attributes:N})&&(O.consume(R,{class:S.className}),F.setAttribute('imageStyle',S.value))}}function w(S,E){for(const O of E)if(O.value===S)return O}function C(S,E,O){return E&&('changeAttribute'==S||'removeAttribute'==S)&&(O.removeClass(E.className),!0)}function T(S,E,O){return E&&('addAttribute'==S||'changeAttribute'==S)&&(O.addClass(E.className),!0)}s.a=function(S){return(E,O,V,R)=>{const F=E.name.split(':')[0],N=F+':imageStyle';if(V.test(O.item,N)){const I=w(O.attributeNewValue,S),M=w(O.attributeOldValue,S),L=R.mapper.toViewElement(O.item);(C(F,M,L)||T(F,I,L))&&V.consume(O.item,N)}}},s.b=function(S){const E=S.filter((O)=>null!==O.value);return(O,V,R,F)=>{for(const N of E)h(N,V,R,F)}};var P=d(39)},function(r,s,d){'use strict';var u=d(11),f=d(39);class h extends u.a{constructor(w,C){super(w),this.set('value',!1),this.style=C,this.listenTo(w.document,'changesDone',()=>{this._updateValue(),this.refreshState()})}_updateValue(){const w=this.editor.document,C=w.selection.getSelectedElement();return C?void(null===this.style.value?this.value=!C.hasAttribute('imageStyle'):this.value=C.getAttribute('imageStyle')==this.style.value):void(this.value=!1)}_checkEnabled(){const w=this.editor.document.selection.getSelectedElement();return d.i(f.b)(w)}_doExecute(w={}){if(this.value)return;const C=this.editor,T=C.document,P=T.selection,S=P.getSelectedElement();T.enqueueChanges(()=>{const E=w.batch||T.batch();E.setAttribute(S,'imageStyle',this.style.value)})}}s.a=h},function(r,s,d){'use strict';var u=d(2),f=d(380),h=d(171),w=d(379),C=d(299),T=d.n(C),P=d(300),S=d.n(P);class E extends u.a{static get requires(){return[h.a]}init(){const O=this.editor,V=O.t,R=O.document,F=R.schema,N=O.data,I=O.editing;O.config.define('image.styles',[{name:'imageStyleFull',title:V('Full size image'),icon:T.a,value:null},{name:'imageStyleSide',title:V('Side image'),icon:S.a,value:'side',className:'image-style-side'}]);const M=O.config.get('image.styles');F.allow({name:'image',attributes:'imageStyle',inside:'$root'});const L=d.i(w.a)(M);I.modelToView.on('addAttribute:imageStyle:image',L),N.modelToView.on('addAttribute:imageStyle:image',L),I.modelToView.on('changeAttribute:imageStyle:image',L),N.modelToView.on('changeAttribute:imageStyle:image',L),I.modelToView.on('removeAttribute:imageStyle:image',L),N.modelToView.on('removeAttribute:imageStyle:image',L),N.viewToModel.on('element:figure',d.i(w.b)(M),{priority:'low'});for(const D of M)O.commands.set(D.name,new f.a(O,D))}}s.a=E},function(r,s,d){'use strict';var u=d(2),f=d(21),h=d(384),w=d(402),C=d(176),T=d(153),P=d(385),S=d(172),E=d(298),O=d.n(E),V=d(314),R=d.n(V);class F extends u.a{static get requires(){return[h.a]}static get pluginName(){return'image/imagetextalternative'}init(){return this._createButton(),this._createBalloonPanel().then((N)=>{this.balloonPanel=N,this.form=N.content.get(0)})}_createButton(){const N=this.editor,I=N.commands.get('imageTextAlternative'),M=N.t;N.ui.componentFactory.add('imageTextAlternative',(L)=>{const D=new f.a(L);return D.set({label:M('Change image text alternative'),icon:O.a,tooltip:!0}),D.bind('isEnabled').to(I,'isEnabled'),this.listenTo(D,'execute',()=>this._showBalloonPanel()),D})}_createBalloonPanel(){const N=this.editor,I=new S.a(N),M=new P.a(N.locale);this.listenTo(M,'submit',()=>{N.execute('imageTextAlternative',{newValue:M.lebeledInput.inputView.element.value}),this._hideBalloonPanel()});const L=N.plugins.get(T.a);return L&&this.listenTo(I,'change:isVisible',()=>{I.isVisible?(L.hide(),L.isEnabled=!1):(L.show(),L.isEnabled=!0)}),this.listenTo(M,'cancel',()=>this._hideBalloonPanel()),d.i(w.a)({emitter:I,activator:()=>I.isVisible,callback:()=>this._hideBalloonPanel()}),d.i(C.a)({emitter:I,activator:()=>I.isVisible,contextElement:I.element,callback:()=>this._hideBalloonPanel()}),Promise.all([I.content.add(M),N.ui.view.body.add(I)]).then(()=>I)}_showBalloonPanel(){const N=this.editor,I=N.commands.get('imageTextAlternative');this.form.lebeledInput.value=I.value||'',this.balloonPanel.attach(),this.form.lebeledInput.select()}_hideBalloonPanel(){const N=this.editor;this.balloonPanel.detach(),N.editing.view.focus()}}s.a=F},function(r,s,d){'use strict';var u=d(11),f=d(39);class h extends u.a{constructor(w){super(w),this.set('value',!1),this.listenTo(w.document,'changesDone',()=>{this._updateValue(),this.refreshState()})}_updateValue(){const w=this.editor.document,C=w.selection.getSelectedElement();this.value=d.i(f.b)(C)&&C.hasAttribute('alt')&&C.getAttribute('alt')}_checkEnabled(){const w=this.editor.document.selection.getSelectedElement();return d.i(f.b)(w)}_doExecute(w){const C=this.editor,T=C.document,P=T.selection.getSelectedElement();T.enqueueChanges(()=>{const S=w.batch||T.batch();S.setAttribute(P,'alt',w.newValue)})}}s.a=h},function(r,s,d){'use strict';var u=d(383),f=d(2);class h extends f.a{init(){this.editor.commands.set('imageTextAlternative',new u.a(this.editor))}}s.a=h},function(r,s,d){'use strict';var u=d(9),f=d(21),h=d(6),w=d(180),C=d(179),T=d(178);class P extends u.a{constructor(S){super(S);const E=this.locale.t;this.lebeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(E('Save')),this.saveButtonView.type='submit',this.cancelButtonView=this._createButton(E('Cancel'),'cancel'),h.a.extend(this.saveButtonView.template,{attributes:{class:['ck-button-action']}}),this.template=new h.a({tag:'form',attributes:{class:['cke-text-alternative-form']},children:[this.lebeledInput,{tag:'div',attributes:{class:['cke-text-alternative-form__actions']},children:[this.saveButtonView,this.cancelButtonView]}]}),d.i(T.a)({view:this})}_createButton(S,E){const O=new f.a(this.locale);return O.label=S,O.withText=!0,E&&O.delegate('execute').to(this,E),O}_createLabeledInputView(){const S=this.locale.t,E=new w.a(this.locale,C.a);return E.label=S('Text alternative'),E}}s.a=P},function(r,s,d){'use strict';var u=d(11),f=d(24),h=d(3),w=d(101),C=d(155),T=d(173);class P extends u.a{constructor(S){super(S),this.set('value',void 0),this.listenTo(S.document,'changesDone',()=>{this.refreshState(),this.refreshValue()})}refreshValue(){this.value=this.editor.document.selection.getAttribute('linkHref')}_checkEnabled(){const S=this.editor.document;return d.i(C.a)('linkHref',S.selection,S.schema)}_doExecute(S){const E=this.editor.document,O=E.selection;E.enqueueChanges(()=>{const V=E.batch();if(O.isCollapsed){const R=O.getFirstPosition(),F=R.parent;if(O.hasAttribute('linkHref')){const N=d.i(T.a)(O.getFirstPosition(),O.getAttribute('linkHref'));V.setAttribute(N,'linkHref',S),O.setRanges([N])}else if(E.schema.check({name:'$text',attributes:'linkHref',inside:F.name})){const N=new f.a(S,{linkHref:S});V.insert(R,N),O.setRanges([h.a.createOn(N)])}}else{const R=d.i(w.a)('linkHref',O.getRanges(),E.schema);for(const F of R)V.setAttribute(F,'linkHref',S)}})}}s.a=P},function(r,s,d){'use strict';var u=d(2),f=d(44),h=d(34),w=d(174),C=d(386),T=d(389);class P extends u.a{init(){const S=this.editor,E=S.data,O=S.editing;S.document.schema.allow({name:'$inline',attributes:'linkHref',inside:'$block'}),d.i(f.a)().for(E.modelToView,O.modelToView).fromAttribute('linkHref').toElement((V)=>new w.a('a',{href:V})),d.i(h.a)().for(E.viewToModel).fromElement('a').toAttribute((V)=>({key:'linkHref',value:V.getAttribute('href')})),S.commands.set('link',new C.a(S)),S.commands.set('unlink',new T.a(S))}}s.a=P},function(r,s,d){'use strict';var u=d(9),f=d(6),h=d(120),w=d(21),C=d(180),T=d(179),P=d(178),S=d(67),E=d(119),O=d(68);class V extends u.a{constructor(R){super(R);const F=R.t;this.focusTracker=new S.a,this.keystrokes=new O.a,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(F('Save')),this.saveButtonView.type='submit',this.cancelButtonView=this._createButton(F('Cancel'),'cancel'),this.unlinkButtonView=this._createButton(F('Unlink'),'unlink'),this._focusables=new h.a,this._focusCycler=new E.a({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:'shift + tab',focusNext:'tab'}}),f.a.extend(this.saveButtonView.template,{attributes:{class:['ck-button-action']}}),this.template=new f.a({tag:'form',attributes:{class:['ck-link-form'],tabindex:'-1'},children:[this.urlInputView,{tag:'div',attributes:{class:['ck-link-form__actions']},children:[this.saveButtonView,this.cancelButtonView,this.unlinkButtonView]}]}),d.i(P.a)({view:this});const N=[this.urlInputView,this.saveButtonView,this.cancelButtonView,this.unlinkButtonView];N.forEach((I)=>{this._focusables.add(I),this.focusTracker.add(I.element)})}init(){return this.keystrokes.listenTo(this.element),super.init()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const R=this.locale.t,F=new C.a(this.locale,T.a);return F.label=R('Link URL'),F.inputView.placeholder=R('http://example.com'),F}_createButton(R,F){const N=new w.a(this.locale);return N.label=R,N.withText=!0,F&&N.delegate('execute').to(this,F),N}}s.a=V},function(r,s,d){'use strict';var u=d(11),f=d(173);class h extends u.a{constructor(w){super(w),this.listenTo(w.document,'changesDone',()=>{this.refreshState()})}_doExecute(){const w=this.editor.document,C=w.selection;w.enqueueChanges(()=>{const T=C.isCollapsed?[d.i(f.a)(C.getFirstPosition(),C.getAttribute('linkHref'))]:C.getRanges(),P=w.batch();for(const S of T)P.removeAttribute(S,'linkHref')})}_checkEnabled(){return this.editor.document.selection.hasAttribute('linkHref')}}s.a=h},function(r,s,d){'use strict';function F(ee,te,ae){let ne=ee.nodeAfter;ne&&'listItem'==ne.name&&te.enqueueChanges(()=>{const oe=ne.previousSibling,ie=oe&&oe.is('listItem')?oe.getAttribute('indent')+1:0;let re=ne.getAttribute('indent')-ie;const se=[];for(;ne&&'listItem'==ne.name&&ne.getAttribute('indent')>ie;){re>ne.getAttribute('indent')&&(re=ne.getAttribute('indent'));const le=ne.getAttribute('indent')-re;se.push({item:ne,indent:le}),ne=ne.nextSibling}if(0<se.length)for(const le of se.reverse())ae.setAttribute(le.item,'indent',le.indent)})}function N(ee,te,ae,ne){let oe=ee[te?'nodeBefore':'nodeAfter'];oe&&oe.is('listItem')&&0!==oe.getAttribute('indent')&&ae.enqueueChanges(()=>{const ie=$(oe,!te);if(ie&&ie!=oe)for(const re=ie.getAttribute('indent'),se=ie.getAttribute('type');oe&&oe.is('listItem')&&oe.getAttribute('indent')>=re;)oe.getAttribute('type')!=se&&oe.getAttribute('indent')==re&&ne.setAttribute(oe,'type',se),oe=oe[te?'previousSibling':'nextSibling']})}function M(ee,te){const ae='numbered'==ee.getAttribute('type')?'ol':'ul',ne=new K.a,oe=new G.a(ae,null);return oe.appendChildren(ne),te.bindElements(ee,ne),ne}function L(ee,te){const ae=te.getNext?'nextSibling':'previousSibling',ne=te.getNext?'nodeAfter':'nodeBefore',oe=!!te.checkAllSiblings,ie=!!te.sameIndent,re=!!te.biggerIndent,se=!!te.smallerIndent,le=!!te.isMapped,de=ee instanceof W.a?ee.getAttribute('indent'):te.indent;for(let ce=ee instanceof W.a?ee[ae]:ee[ne];ce&&'listItem'==ce.name;){const ue=ce.getAttribute('indent');if(ie&&de==ue||re&&de<ue||se&&de>ue){if(!le||te.mapper.toViewElement(ce))return ce;ce=ce[ae];continue}if(!oe)return null;ce=ce[ae]}return null}function D(ee,te){return ee&&te&&('ul'==ee.name||'ol'==ee.name)&&ee.name==te.name?X.a.mergeContainers(J.a.createAfter(ee)):null}function q(ee,te,ae,ne){const oe=te.parent;let ie,re=L(ee,{sameIndent:!0,smallerIndent:!0,checkAllSiblings:!0});if(re&&re.getAttribute('indent')==ee.getAttribute('indent')){const le=ae.toViewElement(re);ie=X.a.breakContainer(J.a.createAfter(le))}else re=ee.previousSibling,ie=re&&'listItem'==re.name?re.getAttribute('indent')<ee.getAttribute('indent')?ae.toViewPosition(U.a.createAt(re,'end')):ne.parent.is('ul')||ne.parent.is('ol')?X.a.breakContainer(ne):ne:ae.toViewPosition(U.a.createBefore(ee));X.a.insert(ie,oe);const se=L(ee,{biggerIndent:!0,getNext:!0,isMapped:!0,mapper:ae});if(se){const le=ae.toViewElement(se);X.a.breakContainer(J.a.createBefore(le));const de=J.a.createBefore(le.parent),ce=$(se,!1),ue=ae.toViewElement(ce),me=X.a.breakContainer(J.a.createAfter(ue)),pe=new Q.a(de,me),ge=J.a.createAt(te,'end');X.a.move(pe,ge)}D(oe,oe.nextSibling),D(oe.previousSibling,oe)}function z(ee,te,ae,ne,oe){const ie=L(te,{sameIndent:!0,smallerIndent:!0,checkAllSiblings:!0,indent:ee}),re=ie?ie.getAttribute('indent'):null;let se;if(!ie)se=ae;else if(re==ee){const le=oe.toViewElement(ie).parent;se=J.a.createAfter(le)}else{const le=U.a.createAt(ie,'end');se=oe.toViewPosition(le)}for(const le of[...ne.getChildren()])(le.is('ul')||le.is('ol'))&&(se=X.a.move(Q.a.createOn(le),se).end,D(le,le.nextSibling),D(le.previousSibling,le))}function $(ee,te){const ae=ee.getAttribute('indent'),ne=te?'previousSibling':'nextSibling';let oe=ee;for(;ee[ne]&&ee[ne].is('listItem')&&ee[ne].getAttribute('indent')>=ae;)ee=ee[ne],ee.getAttribute('indent')==ae&&(oe=ee);return oe}s.e=function(ee,te,ae,ne){if(ae.test(te.item,'insert')&&ae.test(te.item,'addAttribute:type')&&ae.test(te.item,'addAttribute:indent')){ae.consume(te.item,'insert'),ae.consume(te.item,'addAttribute:type'),ae.consume(te.item,'addAttribute:indent');const oe=te.item,ie=M(oe,ne.mapper),re=ne.mapper.toViewPosition(U.a.createBefore(oe));q(oe,ie,ne.mapper,re)}},s.f=function(ee,te,ae,ne){if(!ae.consume(te.item,'changeAttribute:type'))return;const oe=ne.mapper.toViewElement(te.item);X.a.breakContainer(J.a.createBefore(oe)),X.a.breakContainer(J.a.createAfter(oe));let ie=oe.parent;const re='numbered'==te.attributeNewValue?'ol':'ul';ie=X.a.rename(ie,re),D(ie,ie.nextSibling),D(ie.previousSibling,ie)},s.g=function(ee,te,ae,ne){if(ae.consume(te.item,'remove')){const oe=ne.mapper.toViewPosition(te.sourcePosition),ie=oe.nodeAfter.is('li')?oe.nodeAfter:oe.nodeAfter.getChild(0);X.a.breakContainer(J.a.createBefore(ie)),X.a.breakContainer(J.a.createAfter(ie));const re=ie.parent,se=re.previousSibling,le=Q.a.createOn(re);X.a.remove(le),se&&se.nextSibling&&D(se,se.nextSibling),z(te.item.getAttribute('indent')+1,te.sourcePosition,le.start,ie,ne.mapper),'$graveyard'==te.item.root.rootName&&ne.mapper.unbindModelElement(te.item)}},s.i=function(ee,te,ae,ne){if(!ae.consume(te.item,'changeAttribute:indent'))return;const oe=ne.mapper.toViewElement(te.item);X.a.breakContainer(J.a.createBefore(oe)),X.a.breakContainer(J.a.createAfter(oe));const ie=oe.parent,re=ie.previousSibling,se=Q.a.createOn(ie);X.a.remove(se);let le;re&&re.nextSibling&&(le=D(re,re.nextSibling)),le||(le=se.start),z(te.attributeOldValue+1,te.range.start,se.start,oe,ne.mapper),q(te.item,oe,ne.mapper,le)},s.d=function(ee,te,ae,ne){if('listItem'!=te.item.name){let oe=ne.mapper.toViewPosition(te.range.start);const ie=[];for(;('ul'==oe.parent.name||'ol'==oe.parent.name)&&(oe=X.a.breakContainer(oe),'li'==oe.parent.name);){const re=oe,se=J.a.createAt(oe.parent,'end');if(!re.isEqual(se)){const le=X.a.remove(new Q.a(re,se));ie.push(le)}oe=J.a.createAfter(oe.parent)}if(0<ie.length){for(let re=0;re<ie.length;re++){const se=oe.nodeBefore,le=X.a.insert(oe,ie[re]);if(oe=le.end,0<re){const de=D(se,se.nextSibling);de&&de.parent==se&&oe.offset--}}D(oe.nodeBefore,oe.nodeAfter)}}},s.h=function(ee,te,ae,ne){if(!te.item.is('listItem')){const oe=ne.mapper.toViewPosition(te.sourcePosition),ie=oe.nodeBefore,re=oe.nodeAfter;D(ie,re)}},s.l=function(ee,te,ae,ne){if(ae.consume(te.input,{name:!0})){const oe=new W.a('listItem');te.indent=te.indent?te.indent:0;const ie='ul'==te.input.parent.name?'bulleted':'numbered';oe.setAttribute('type',ie),oe.setAttribute('indent',te.indent),te.context.push(oe),te.indent++;const re=new H.a;re.appendChildren(oe);for(const se of te.input.getChildren()){const le=ne.convertItem(se,ae,te);'ul'==se.name||'ol'==se.name?re.appendChildren(Array.from(le.getChildren())):Z.a.insert(U.a.createAt(oe,'end'),le)}te.indent--,te.context.pop(),te.output=re}},s.j=function(ee,te,ae){if(ae.test(te.input,{name:!0})){const ne=Array.from(te.input.getChildren());for(const oe of ne)oe.is('li')||oe.remove()}},s.k=function(ee,te,ae){if(ae.test(te.input,{name:!0})){if(0===te.input.childCount)return;const ne=[...te.input.getChildren()];let oe=!1,ie=!0;for(const re of ne)!oe||re.is('ul')||re.is('ol')||re.remove(),re.is('text')?(ie&&(re.data=re.data.replace(/^\s+/,'')),(!re.nextSibling||re.nextSibling.is('ul')||re.nextSibling.is('ol'))&&(re.data=re.data.replace(/\s+$/,''))):(re.is('ul')||re.is('ol'))&&(oe=!0),ie=!1}},s.b=function(ee,te){const ae=te.modelPosition.nodeBefore;if(ae&&ae.is('listItem')){const ne=te.mapper.toViewElement(ae),oe=ne.getAncestors().find((re)=>re.is('ul')||re.is('ol')),ie=new Y.a({startPosition:J.a.createAt(ne,0)});for(const re of ie)if('elementStart'==re.type&&re.item.is('li')){te.viewPosition=re.previousPosition;break}else if('elementEnd'==re.type&&re.item==oe){te.viewPosition=re.nextPosition;break}}},s.c=function(ee,te){const ae=te.viewPosition,ne=ae.parent,oe=te.mapper;if('ul'==ne.name||'ol'==ne.name){if(!ae.isAtEnd){const ie=oe.toModelElement(ae.nodeAfter);te.modelPosition=U.a.createBefore(ie)}else{const ie=oe.toModelElement(ae.nodeBefore),re=oe.getModelLength(ae.nodeBefore);te.modelPosition=U.a.createBefore(ie).getShiftedBy(re)}ee.stop()}else if('li'==ne.name&&ae.nodeBefore&&('ul'==ae.nodeBefore.name||'ol'==ae.nodeBefore.name)){const ie=oe.toModelElement(ne);let re=1,se=ae.nodeBefore;for(;se&&(se.is('ul')||se.is('ol'));)re+=oe.getModelLength(se),se=se.previousSibling;te.modelPosition=U.a.createBefore(ie).getShiftedBy(re),ee.stop()}},s.a=function(ee){return(te,ae,ne,oe)=>{if('remove'==ae)F(ne.sourcePosition,ee,oe),N(ne.sourcePosition,!1,ee,oe);else if('move'==ae)F(ne.sourcePosition,ee,oe),N(ne.sourcePosition,!1,ee,oe),F(ne.range.start,ee,oe),N(ne.range.start,!1,ee,oe),F(ne.range.end,ee,oe),N(ne.range.end,!0,ee,oe);else if('rename'==ae&&'listItem'==ne.oldName&&'listItem'!=ne.newName){const ie=ne.element;ee.enqueueChanges(()=>{oe.removeAttribute(ie,'indent').removeAttribute(ie,'type')});const re=U.a.createAfter(ne.element);F(re,ee,oe)}else'insert'==ae&&(F(ne.range.start,ee,oe),N(ne.range.start,!1,ee,oe),F(ne.range.end,ee,oe),N(ne.range.end,!0,ee,oe))}},s.m=function(ee,te){let ae=te.content.getChild(0);if(ae.is('listItem')){const ne=te.selection.getFirstPosition();let oe=null;if(ne.parent.is('listItem')?oe=ne.parent:ne.nodeBefore&&ne.nodeBefore.is('listItem')&&(oe=ne.nodeBefore),oe){const ie=oe.getAttribute('indent');if(0<ie)for(;ae&&ae.is('listItem');)ae.setAttribute('indent',ae.getAttribute('indent')+ie),ae=ae.nextSibling}}};var K=d(394),H=d(35),W=d(5),U=d(1),Z=d(20),G=d(47),J=d(26),Q=d(38),Y=d(54),X=d(79)},function(r,s,d){'use strict';function u(T,P){const S=f(T,!1);if(S)return void P.setAttribute(T,'type',S.getAttribute('type'));const E=f(T,!0);E&&P.setAttribute(T,'type',E.getAttribute('type'))}function f(T,P){for(let S=T[P?'nextSibling':'previousSibling'];S&&S.is('listItem')&&S.getAttribute('indent')>=T.getAttribute('indent');){if(S.getAttribute('indent')==T.getAttribute('indent'))return S;S=S[P?'nextSibling':'previousSibling']}return null}var h=d(11),w=d(66);class C extends h.a{constructor(T,P){super(T),this._indentBy='forward'==P?1:-1,this.listenTo(T.document,'changesDone',()=>{this.refreshState()})}_doExecute(){const T=this.editor.document,P=T.batch();let S=Array.from(T.selection.getSelectedBlocks());T.enqueueChanges(()=>{const E=S[S.length-1];for(let O=E.nextSibling;O&&'listItem'==O.name&&O.getAttribute('indent')>E.getAttribute('indent');)S.push(O),O=O.nextSibling;0>this._indentBy&&(S=S.reverse());for(const V of S){const R=V.getAttribute('indent')+this._indentBy;0>R?P.rename(V,'paragraph'):P.setAttribute(V,'indent',R)}0>this._indentBy&&(S=S.reverse());for(const V of S)u(V,P)})}_checkEnabled(){const T=d.i(w.a)(this.editor.document.selection.getSelectedBlocks());if(!T||!T.is('listItem'))return!1;if(0<this._indentBy){const P=T.getAttribute('indent'),S=T.getAttribute('type');for(let E=T.previousSibling;E&&E.is('listItem')&&E.getAttribute('indent')>=P;){if(E.getAttribute('indent')==P)return E.getAttribute('type')==S;E=E.previousSibling}return!1}return!0}}s.a=C},function(r,s,d){'use strict';function u(T,P,S){const E=P?T[0]:T[T.length-1];if(E.is('listItem'))for(let O=E[P?'previousSibling':'nextSibling'],V=E.getAttribute('indent');O&&O.is('listItem')&&O.getAttribute('indent')>=S;)V>O.getAttribute('indent')&&(V=O.getAttribute('indent')),O.getAttribute('indent')==V&&T[P?'unshift':'push'](O),O=O[P?'previousSibling':'nextSibling']}var f=d(11),h=d(1),w=d(66);class C extends f.a{constructor(T,P){super(T),this.type='bulleted'==P?'bulleted':'numbered',this.set('value',!1),this.listenTo(T.document,'changesDone',()=>{this.refreshValue(),this.refreshState()})}refreshValue(){const T=d.i(w.a)(this.editor.document.selection.getSelectedBlocks());this.value=T&&T.is('listItem')&&T.getAttribute('type')==this.type}_doExecute(T={}){const P=this.editor.document,S=Array.from(P.selection.getSelectedBlocks()),E=!0===this.value;P.enqueueChanges(()=>{const O=T.batch||P.batch();if(E){let V=S[S.length-1].nextSibling,R=_NumberPOSITIVE_INFINITY,F=[];for(;V&&'listItem'==V.name&&0!==V.getAttribute('indent');){const N=V.getAttribute('indent');N<R&&(R=N);const I=N-R;F.push({element:V,indent:I}),V=V.nextSibling}F=F.reverse();for(const N of F)O.setAttribute(N.element,'indent',N.indent)}if(!E){let V=_NumberPOSITIVE_INFINITY;for(const R of S)R.is('listItem')&&R.getAttribute('indent')<V&&(V=R.getAttribute('indent'));V=0===V?1:V,u(S,!0,V),u(S,!1,V)}for(const V of S.reverse())E&&'listItem'==V.name?O.rename(V,'paragraph'):E||'listItem'==V.name?E||'listItem'!=V.name||V.getAttribute('type')==this.type||O.setAttribute(V,'type',this.type):O.setAttribute(V,'type',this.type).setAttribute(V,'indent',0).rename(V,'listItem')})}_checkEnabled(){if(this.value)return!0;const T=this.editor.document.selection,P=this.editor.document.schema,S=d.i(w.a)(T.getSelectedBlocks());return!!S&&P.check({name:'listItem',attributes:['type','indent'],inside:h.a.createBefore(S)})}}s.a=C},function(r,s,d){'use strict';function u(S){let E=1;for(const O of S.getChildren())if('ul'==O.name||'ol'==O.name)for(const V of O.getChildren())E+=u(V);return E}var f=d(392),h=d(391),w=d(2),C=d(73),T=d(390);class P extends w.a{static get requires(){return[C.a]}init(){const S=this.editor,E=S.document.schema;E.registerItem('listItem','$block'),E.allow({name:'listItem',inside:'$root',attributes:['type','indent']}),E.requireAttributes('listItem',['type','indent']);const O=S.data,V=S.editing;this.editor.document.on('change',d.i(T.a)(this.editor.document),{priority:'high'}),this.editor.document.on('change',(R,F,N)=>{if('move'==F)for(const I of N.range.getItems())I.is('listItem')&&V.mapper.unbindModelElement(I)},{priority:'high'}),V.mapper.registerViewToModelLength('li',u),O.mapper.registerViewToModelLength('li',u),V.mapper.on('modelToViewPosition',T.b),V.mapper.on('viewToModelPosition',T.c),O.mapper.on('modelToViewPosition',T.b),V.modelToView.on('insert',T.d,{priority:'high'}),V.modelToView.on('insert:listItem',T.e),O.modelToView.on('insert',T.d,{priority:'high'}),O.modelToView.on('insert:listItem',T.e),V.modelToView.on('changeAttribute:type:listItem',T.f),O.modelToView.on('changeAttribute:type:listItem',T.f),V.modelToView.on('remove:listItem',T.g),V.modelToView.on('remove',T.h,{priority:'low'}),O.modelToView.on('remove:listItem',T.g),O.modelToView.on('remove',T.h,{priority:'low'}),V.modelToView.on('changeAttribute:indent:listItem',T.i),O.modelToView.on('changeAttribute:indent:listItem',T.i),O.viewToModel.on('element:ul',T.j,{priority:'high'}),O.viewToModel.on('element:ol',T.j,{priority:'high'}),O.viewToModel.on('element:li',T.k,{priority:'high'}),O.viewToModel.on('element:li',T.l),O.on('insertContent',T.m,{priority:'high'}),S.commands.set('numberedList',new f.a(S,'numbered')),S.commands.set('bulletedList',new f.a(S,'bulleted')),S.commands.set('indentList',new h.a(S,'forward')),S.commands.set('outdentList',new h.a(S,'backward'))}}s.a=P},function(r,s,d){'use strict';function u(){const w=!this.isEmpty&&('ul'==this.getChild(0).name||'ol'==this.getChild(0).name);return this.isEmpty||w?0:null}var f=d(47);class h extends f.a{constructor(w,C){super('li',w,C),this.getFillerOffset=u}}s.a=h},function(r,s,d){'use strict';var u=d(11),f=d(1),h=d(66);class w extends u.a{constructor(C){super(C),this.set('value',!1),this.listenTo(C.document,'changesDone',()=>{this.refreshValue(),this.refreshState()})}_doExecute(C={}){const T=this.editor.document;T.enqueueChanges(()=>{const P=C.batch||T.batch(),S=(C.selection||T.selection).getSelectedBlocks();for(const E of S)E.is('paragraph')||P.rename(E,'paragraph')})}refreshValue(){const C=d.i(h.a)(this.editor.document.selection.getSelectedBlocks());this.value=!!C&&C.is('paragraph')}_checkEnabled(){const C=d.i(h.a)(this.editor.document.selection.getSelectedBlocks());return!!C&&this.editor.document.schema.check({name:'paragraph',inside:f.a.createBefore(C)})}}s.a=w},function(r,s,d){'use strict';var u=d(2),f=d(397),h=d(398);class w extends u.a{static get pluginName(){return'typing/delete'}init(){const C=this.editor,T=C.editing.view;T.addObserver(h.a),C.commands.set('forwardDelete',new f.a(C,'forward')),C.commands.set('delete',new f.a(C,'backward')),this.listenTo(T,'delete',(P,S)=>{C.execute('forward'==S.direction?'forwardDelete':'delete',{unit:S.unit}),S.preventDefault()})}}s.a=w},function(r,s,d){'use strict';var u=d(11),f=d(60),h=d(175),w=d(184);class C extends u.a{constructor(T,P){super(T),this.direction=P,this._buffer=new h.a(T.document,T.config.get('typing.undoStep'))}_doExecute(T={}){const P=this.editor.document,S=this.editor.data;P.enqueueChanges(()=>{this._buffer.lock();const E=f.a.createFromSelection(P.selection);if(E.isCollapsed&&S.modifySelection(E,{direction:this.direction,unit:T.unit}),E.isCollapsed)return;let O=0;E.getFirstRange().getMinimalFlatRanges().forEach((V)=>{O+=d.i(w.a)(V.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),S.deleteContent(E,this._buffer.batch,{merge:!0}),this._buffer.input(O),P.selection.setRanges(E.getRanges(),E.isBackward),this._buffer.unlock()})}}s.a=C},function(r,s,d){'use strict';var u=d(53),f=d(118),h=d(22);class w extends u.a{constructor(C){super(C),C.on('keydown',(T,P)=>{const S={};if(P.keyCode==h.d.delete)S.direction='forward',S.unit='character';else if(P.keyCode==h.d.backspace)S.direction='backward',S.unit='codePoint';else return;S.unit=P.altKey?'word':S.unit,C.fire('delete',new f.a(C,P.domEvent,S))})}observe(){}}s.a=w},function(r,s,d){'use strict';function u(N){return!!N.ctrlKey||F.includes(N.keyCode)}function f(N,I){return N instanceof T.a&&I instanceof T.a?N.data===I.data:N===I}var h=d(2),w=d(3),C=d(26),T=d(31),P=d(185),S=d(426),E=d(22),O=d(400);class V extends h.a{static get pluginName(){return'typing/input'}init(){const N=this.editor,I=N.editing.view,M=new O.a(N,N.config.get('typing.undoStep')||20);N.commands.set('input',M),this.listenTo(I,'keydown',(L,D)=>{this._handleKeydown(D,M.buffer)},{priority:'lowest'}),this.listenTo(I,'mutations',(L,D,q)=>{this._handleMutations(D,q)})}_handleKeydown(N,I){const M=this.editor.document;u(N)||M.selection.isCollapsed||(I.lock(),M.enqueueChanges(()=>{this.editor.data.deleteContent(M.selection,I.batch)}),I.unlock())}_handleMutations(N,I){new R(this.editor).handle(N,I)}}s.a=V;class R{constructor(N){this.editor=N,this.editing=this.editor.editing}handle(N,I){for(const M of N)this._handleTextMutation(M,I),this._handleTextNodeInsertion(M)}_handleTextMutation(N,I){if('text'!=N.type)return;const M=N.newText.replace(/\u00A0/g,' '),L=N.oldText.replace(/\u00A0/g,' '),D=d.i(P.a)(L,M);let q=null,z=null;for(let J=0;J<D.length;J++){const Q=D[J];'equal'!=Q&&(q=null==q?J:q,z=J)}let $=0,K=0;for(let J=q;J<=z;J++)'insert'!=D[J]&&$++,'delete'!=D[J]&&K++;let H=null;I&&(H=this.editing.mapper.toModelRange(I.getFirstRange()));const W=new C.a(N.node,q),U=this.editing.mapper.toModelPosition(W),Z=w.a.createFromPositionAndShift(U,$),G=M.substr(q,K);this.editor.execute('input',{text:G,range:Z,resultRange:H})}_handleTextNodeInsertion(N){if('children'==N.type&&1==N.newChildren.length-N.oldChildren.length){const I=d.i(P.a)(N.oldChildren,N.newChildren,f),M=d.i(S.a)(I,N.newChildren);if(!(1<M.length)){const L=M[0];if(L.values[0]instanceof T.a){const D=new C.a(N.node,L.index),q=this.editing.mapper.toModelPosition(D),z=L.values[0].data;this.editor.execute('input',{text:z.replace(/\u00A0/g,' '),range:new w.a(q)})}}}}}const F=[d.i(E.c)('arrowUp'),d.i(E.c)('arrowRight'),d.i(E.c)('arrowDown'),d.i(E.c)('arrowLeft'),9,16,17,18,20,27,33,34,35,36,229];for(let N=112;135>=N;N++)F.push(N)},function(r,s,d){'use strict';var u=d(11),f=d(175);class h extends u.a{constructor(w,C){super(w),this._buffer=new f.a(w.document,C)}destroy(){super.destroy(),this._buffer.destroy(),this._buffer=null}get buffer(){return this._buffer}_doExecute(w={}){const C=this.editor.document,T=w.text||'',P=T.length,S=w.range||C.selection.getFirstRange(),E=w.resultRange;C.enqueueChanges(()=>{const O=S.isCollapsed;this._buffer.lock(),O||this._buffer.batch.remove(S),this._buffer.batch.weakInsert(S.start,T),E?this.editor.data.model.selection.setRanges([E]):O&&this.editor.data.model.selection.collapse(S.start.getShiftedBy(P)),this._buffer.unlock(),this._buffer.input(P)})}}s.a=h},function(r,s,d){'use strict';var u=d(2),f=d(399),h=d(396);class w extends u.a{static get requires(){return[f.a,h.a]}static get pluginName(){return'typing/typing'}}s.a=w},function(r,s,d){'use strict';s.a=function({emitter:h,activator:w,callback:C}){h.listenTo(document,'keydown',(T,{keyCode:P})=>{P==f.d.esc&&w()&&C()})};var f=d(22)},function(r,s,d){'use strict';var u=d(0);s.a=class{constructor(h){this.editor=h,this._components=new Map}add(h,w){if(this._components.get(h))throw new u.a('componentfactory-item-exists: The item already exists in the component factory.',{name:h});this._components.set(h,w)}create(h){const w=this._components.get(h);if(!w)throw new u.a('componentfactory-item-missing: There is no such UI component in the factory.',{name:h});return w(this.editor.locale)}}},function(r,s,d){'use strict';s.a=function(C,T){const P=new f.a(T);P.bind('label','isOn','isEnabled','withText','keystroke','tooltip').to(C);const S=new w.a(T);return new h.a(T,P,S)};var f=d(21),h=d(406),w=d(405)},function(r,s,d){'use strict';var u=d(9),f=d(6);class h extends u.a{constructor(w){super(w);const C=this.bindTemplate;this.set('isVisible',!1),this.children=this.createCollection(),this.template=new f.a({tag:'div',attributes:{class:['ck-reset','ck-dropdown__panel',C.if('isVisible','ck-dropdown__panel-visible')]},children:this.children})}}s.a=h},function(r,s,d){'use strict';var u=d(9),f=d(6),h=d(67),w=d(68);class C extends u.a{constructor(T,P,S){super(T),f.a.extend(P.template,{attributes:{class:['ck-dropdown__button']}}),this.buttonView=P,this.panelView=S,this.set('isOpen',!1),this.focusTracker=new h.a,this.keystrokes=new w.a,this.template=new f.a({tag:'div',attributes:{class:['ck-dropdown']},children:[P,S]}),this.listenTo(P,'execute',()=>{this.isOpen=!this.isOpen}),S.bind('isVisible').to(this,'isOpen')}init(){this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);const T=(P,S)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,S())};return this.keystrokes.set('arrowdown',(P,S)=>{this.isOpen||(this.isOpen=!0,S())}),this.keystrokes.set('arrowright',(P,S)=>{this.isOpen&&S()}),this.keystrokes.set('arrowleft',T),this.keystrokes.set('esc',T),super.init()}focus(){this.buttonView.focus()}}s.a=C},function(r,s,d){'use strict';function f(T){T.listenTo(document,'click',(P,{target:S})=>{T.element==S||T.element.contains(S)||(T.isOpen=!1)})}s.a=function(T,P){const S=d.i(C.a)(T,P),E=S.listView=new h.a(P);return E.items.bindTo(T.items).using((O)=>{const V=new w.a(P);return V.bind(...Object.keys(O)).to(O),V}),E.items.delegate('execute').to(S),S.panelView.children.add(E),S.on('change:isOpen',(O,V,R)=>{R?f(S):S.stopListening(document)}),S.on('execute',()=>{S.isOpen=!1}),S.keystrokes.set('arrowdown',(O,V)=>{S.isOpen&&(E.focus(),V())}),S.keystrokes.set('arrowup',(O,V)=>{S.isOpen&&(E.focusLast(),V())}),S};var h=d(415),w=d(414),C=d(404)},function(r,s,d){'use strict';var u=d(9),f=d(6);class h extends u.a{constructor(w,C){super(w);const T=this.bindTemplate;C&&(this.element=this.editableElement=C),this.template=new f.a({tag:'div',attributes:{class:[T.to('isFocused',(P)=>P?'ck-focused':'ck-blurred'),'ck-editor__editable'],contenteditable:T.to('isReadOnly',(P)=>!P)}}),this.set('isReadOnly',!1),this.set('isFocused',!1),this.externalElement=C}init(){return this.externalElement?this.template.apply(this.externalElement):this.editableElement=this.element,super.init()}destroy(){return this.externalElement&&this.template.revert(this.externalElement),super.destroy()}}s.a=h},function(r,s,d){'use strict';var u=d(408),f=d(6);class h extends u.a{constructor(w,C){super(w,C);const T=this.bindTemplate,P=this.t;this.set('name',null);f.a.extend(this.template,{attributes:{role:'textbox','aria-label':T.to('name',(E)=>{return P('Rich Text Editor, %0',[E])}),class:'ck-editor__editable_inline'}})}}s.a=h},function(r,s,d){'use strict';var u=d(411),f=d(72),h=d(6);class w extends u.a{constructor(C){super(C);const T=this.t,P=d.i(f.a)();this.set('width',null),this.set('height',null),this.top=this.createCollection(),this.main=this.createCollection(),this.template=new h.a({tag:'div',attributes:{class:['ck-reset','ck-editor','ck-rounded-corners'],role:'application',dir:'ltr',lang:C.lang,'aria-labelledby':`cke-editor__aria-label_${P}`},children:[{tag:'span',attributes:{id:`cke-editor__aria-label_${P}`,class:'cke-voice-label'},children:[T('Rich Text Editor')]},{tag:'div',attributes:{class:'ck-editor__top ck-reset_all',role:'presentation'},children:this.top},{tag:'div',attributes:{class:'ck-editor__main',role:'presentation'},children:this.main}]})}}s.a=w},function(r,s,d){'use strict';var u=d(9),f=d(6);class h extends u.a{constructor(w){super(w),this.body=this.createCollection()}init(){return Promise.resolve().then(()=>this._renderBodyCollection()).then(()=>super.init())}destroy(){return this._bodyCollectionContainer.remove(),super.destroy()}_renderBodyCollection(){const w=this._bodyCollectionContainer=new f.a({tag:'div',attributes:{class:['ck-body','ck-rounded-corners','ck-reset_all']},children:this.body}).render();document.body.appendChild(w)}}s.a=h},function(r,s,d){'use strict';var u=d(9),f=d(6);class h extends u.a{constructor(){super();const w=this.bindTemplate;this.set('content'),this.set('viewBox','0 0 20 20'),this.template=new f.a({tag:'svg',ns:'http://www.w3.org/2000/svg',attributes:{class:'ck-icon',viewBox:w.to('viewBox')}}),this.on('change:content',(C,T,P)=>{for(const S=new DOMParser().parseFromString(P.trim(),'image/svg+xml').firstChild;0<S.childNodes.length;)this.element.appendChild(S.childNodes[0])})}}s.a=h},function(r,s,d){'use strict';var u=d(9),f=d(6);class h extends u.a{constructor(w){super(w),this.set('text'),this.set('for');const C=this.bindTemplate;this.template=new f.a({tag:'label',attributes:{class:['ck-label'],for:C.to('for')},children:[{text:C.to('text')}]})}}s.a=h},function(r,s,d){'use strict';var u=d(9),f=d(6);class h extends u.a{constructor(){super(),this.set('tabindex',-1);const w=this.bindTemplate;this.template=new f.a({tag:'li',attributes:{class:['ck-list__item',w.to('class'),w.if('isActive','ck-list__item_active')],style:w.to('style'),tabindex:w.to('tabindex')},children:[{text:w.to('label')}],on:{click:w.to('execute')}})}focus(){this.element.focus()}}s.a=h},function(r,s,d){'use strict';var u=d(9),f=d(6),h=d(67),w=d(119),C=d(68);class T extends u.a{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new h.a,this.keystrokes=new C.a,this._focusCycler=new w.a({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:'arrowup',focusNext:'arrowdown'}}),this.template=new f.a({tag:'ul',attributes:{class:['ck-reset','ck-list']},children:this.items}),this.items.on('add',(P,S)=>{this.focusTracker.add(S.element)}),this.items.on('remove',(P,S)=>{this.focusTracker.remove(S.element)})}init(){return this.keystrokes.listenTo(this.element),super.init()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}s.a=T},function(r,s,d){'use strict';var u=d(50),f=d(4),h=d(33);class w{constructor(C,T){T&&d.i(u.a)(this,T),C&&this.set(C)}}s.a=w,d.i(f.a)(w,h.a)},function(r,s,d){'use strict';var u=d(2),f=d(181),h=d(0);class w extends u.a{static get pluginName(){return'ui/contextualballoon'}init(){return this.view=new f.a,this._stack=new Map,this.editor.ui.focusTracker.add(this.view.element),this.editor.ui.view.body.add(this.view)}get visibleView(){const C=this._stack.get(this.view.content.get(0));return C?C.view:null}hasView(C){return this._stack.has(C)}add(C){if(this.hasView(C.view))throw new h.a('contextualballoon-add-view-exist: Cannot add configuration of the same view twice.');return this.visibleView&&this.view.content.remove(this.visibleView),this._stack.set(C.view,C),this._show(C)}remove(C){if(!this.hasView(C))throw new h.a('contextualballoon-remove-view-not-exist: Cannot remove configuration of not existing view.');let T=Promise.resolve();if(this.visibleView===C){this.view.content.remove(C),this._stack.delete(C);const P=Array.from(this._stack.values()).pop();P?T=this._show(P):this.view.hide()}else this._stack.delete(C);return T}updatePosition(C){C&&(this._stack.values().next().value.position=C),this.view.attachTo(this._getBalloonPosition())}_show({view:C,balloonClassName:T=''}){return this.view.className=T,this.view.content.add(C).then(()=>{this.view.pin(this._getBalloonPosition())})}_getBalloonPosition(){return this._stack.values().next().value.position}destroy(){this.editor.ui.view.body.remove(this.view),this.view.destroy(),this._stack.clear(),super.destroy()}}s.a=w},function(r,s){'use strict';s.a=function({origin:f,originKeystrokeHandler:h,originFocusTracker:w,toolbar:C}){w.add(C.element),h.set('Alt+F10',(T,P)=>{w.isFocused&&!C.focusTracker.isFocused&&(C.focus(),P())}),C.keystrokes.set('Esc',(T,P)=>{C.focusTracker.isFocused&&(f.focus(),P())})}},function(r,s,d){'use strict';var u=d(40),f=d(6),h=d(182),w=d(188);const C=d.i(w.a)('px');class T extends h.a{constructor(P){super(P);const S=this.bindTemplate;this.set('isActive',!1),this.set('isSticky',!1),this.set('limiterElement',null),this.set('limiterOffset',50),this.set('_marginLeft',null),this.set('_isStickyToTheLimiter',!1),f.a.extend(this.template,{attributes:{class:[S.if('isSticky','ck-toolbar_sticky'),S.if('_isStickyToTheLimiter','ck-toolbar_sticky_bottom-limit')],style:{width:S.to('isSticky',(E)=>{return E?C(this._elementPlaceholder.getBoundingClientRect().width):null}),bottom:S.to('_isStickyToTheLimiter',(E)=>{return E?C(this.limiterOffset):null}),marginLeft:S.to('_marginLeft')}}}),this._elementPlaceholder=new f.a({tag:'div',attributes:{class:['ck-toolbar__placeholder'],style:{display:S.to('isSticky',(E)=>E?'block':'none'),height:S.to('isSticky',(E)=>{return E?C(this._toolbarRect.height):null})}}}).render()}init(){super.init(),this.element.parentNode.insertBefore(this._elementPlaceholder,this.element),this.listenTo(u.a.window,'scroll',()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,'change:isActive',()=>{this._checkIfShouldBeSticky()})}destroy(){return super.destroy().then(()=>{this._elementPlaceholder.remove()})}_checkIfShouldBeSticky(){const P=this._limiterRect=this.limiterElement.getBoundingClientRect(),S=this._toolbarRect=this.element.getBoundingClientRect();this.isSticky=this.isActive&&0>P.top&&this._toolbarRect.height+this.limiterOffset<P.height,this.isSticky?(this._isStickyToTheLimiter=P.bottom<S.height+this.limiterOffset,this._marginLeft=this._isStickyToTheLimiter?null:C(-u.a.window.scrollX)):(this._isStickyToTheLimiter=!1,this._marginLeft=null)}}s.a=T},function(r,s,d){'use strict';var u=d(9),f=d(6);class h extends u.a{constructor(w){super(w),this.template=new f.a({tag:'span',attributes:{class:['ck-toolbar__separator']}})}}s.a=h},function(r,s,d){'use strict';var u=d(183),f=d(108);class h extends u.a{_doExecute(){const w=this._stack.pop();this.editor.document.enqueueChanges(()=>{const C=w.batch.deltas[w.batch.deltas.length-1],T=C.baseVersion+C.operations.length,P=Array.from(this.editor.document.history.getDeltas(T)).filter((S)=>{return!this._createdBatches.has(S.batch)});this._restoreSelection(w.selection.ranges,w.selection.isBackward,P),this._redo(w.batch)}),this.refreshState()}_redo(w){const C=this.editor.document,T=C.batch();this._createdBatches.add(T);const P=w.deltas.slice();P.reverse();for(const S of P){const E=S.baseVersion+S.operations.length;let O=[S.getReversed()];for(const V of C.history.getDeltas(E))this._createdBatches.has(V.batch)||(O=f.a.transformDeltaSets(O,[V],!0).deltasA);for(const V of O){V.baseVersion=C.version,T.addDelta(V);for(const R of V.operations)C.applyOperation(R)}}}}s.a=h},function(r,s,d){'use strict';var u=d(2),f=d(424),h=d(21),w=d(307),C=d.n(w),T=d(306),P=d.n(T);class S extends u.a{static get requires(){return[f.a]}static get pluginName(){return'undo/undo'}init(){const E=this.editor,O=E.t;this._addButton('undo',O('Undo'),'CTRL+Z',C.a),this._addButton('redo',O('Redo'),'CTRL+Y',P.a),E.keystrokes.set('CTRL+Z','undo'),E.keystrokes.set('CTRL+Y','redo'),E.keystrokes.set('CTRL+SHIFT+Z','redo')}_addButton(E,O,V,R){const F=this.editor,N=F.commands.get(E);F.ui.componentFactory.add(E,(I)=>{const M=new h.a(I);return M.set({label:O,icon:R,keystroke:V,tooltip:!0}),M.bind('isEnabled').to(N,'isEnabled'),this.listenTo(M,'execute',()=>F.execute(E)),M})}}s.a=S},function(r,s,d){'use strict';var u=d(183),f=d(108);class h extends u.a{_doExecute(w=null){const C=w?this._stack.findIndex((P)=>P.batch==w):this._stack.length-1,T=this._stack.splice(C,1)[0];this.editor.document.enqueueChanges(()=>{const P=this._undo(T.batch),S=this.editor.document.history.getDeltas(T.batch.baseVersion);this._restoreSelection(T.selection.ranges,T.selection.isBackward,S),this.fire('revert',T.batch,P)}),this.refreshState()}_getItemIndexFromBaseVersion(w){for(let C=0;C<this._stack.length;C++)if(this._stack[C].batch.baseVersion==w)return C;return null}_undo(w){const C=this.editor.document,T=C.batch();this._createdBatches.add(T);const P=C.history,S=w.deltas.slice();S.reverse();for(const E of S){const O=E.baseVersion,V=O+E.operations.length,R=P.getDelta(O);if(null===R)continue;R.reverse();let F=[];for(const I of R)F.push(I.getReversed());const N={};for(const I of P.getDeltas(V)){const M=this._getItemIndexFromBaseVersion(I.baseVersion);null!==M&&(this._stack[M].selection.ranges=d.i(u.b)(this._stack[M].selection.ranges,F));const L=f.a.transformDeltaSets(F,[I],!0);F=L.deltasA;const D=L.deltasB;N[I.baseVersion]||(N[I.baseVersion]=[]);const q=N[I.baseVersion].concat(D);N[I.baseVersion]=q}for(const I of F){I.baseVersion=C.version,T.addDelta(I);for(const M of I.operations)C.applyOperation(M)}P.removeDelta(O);for(const I of F)P.removeDelta(I.baseVersion);for(const I in N)P.updateDelta(+I,N[I])}return T}}s.a=h},function(r,s,d){'use strict';var u=d(2),f=d(423),h=d(421);class w extends u.a{constructor(C){super(C),this._batchRegistry=new WeakSet}init(){this._undoCommand=new f.a(this.editor),this._redoCommand=new h.a(this.editor),this.editor.commands.set('undo',this._undoCommand),this.editor.commands.set('redo',this._redoCommand),this.listenTo(this.editor.document,'change',(C,T,P,S)=>{this._batchRegistry.has(S)||'transparent'==S.type||(this._redoCommand._createdBatches.has(S)?this._undoCommand.addBatch(S):!this._undoCommand._createdBatches.has(S)&&(this._undoCommand.addBatch(S),this._redoCommand.clearStack()),this._batchRegistry.add(S))},{priority:'highest'}),this.listenTo(this._undoCommand,'revert',(C,T,P)=>{this._redoCommand.addBatch(P)})}}s.a=w},function(r,s,d){'use strict';var u=d(99);s.a=class{constructor(h,w){this._config={},w&&this.define(w),h&&this._setObjectToTarget(this._config,h)}set(h,w){this._setToTarget(this._config,h,w)}define(h,w){this._setToTarget(this._config,h,w,!0)}get(h){return this._getFromSource(this._config,h)}_setToTarget(h,w,C,T=!1){if(d.i(u.a)(w))return void this._setObjectToTarget(h,w,T);const P=w.split('.');w=P.pop();for(const S of P)d.i(u.a)(h[S])||(h[S]={}),h=h[S];return d.i(u.a)(C)?(d.i(u.a)(h[w])||(h[w]={}),h=h[w],void this._setObjectToTarget(h,C,T)):void(T&&'undefined'!=typeof h[w]||(h[w]=C))}_getFromSource(h,w){const C=w.split('.');w=C.pop();for(const T of C){if(!d.i(u.a)(h[T])){h=null;break}h=h[T]}return h?h[w]:void 0}_setObjectToTarget(h,w,C){Object.keys(w).forEach((T)=>{this._setToTarget(h,T,w[T],C)})}}},function(r,s){'use strict';s.a=function(f,h){function w(){S&&(T.push(S),S=null)}function C(E){return S&&S.type==E}const T=[];let P=0,S;return f.forEach((E)=>{'equal'==E?(w(),P++):'insert'==E?(C('insert')?S.values.push(h[P]):(w(),S={type:'insert',index:P,values:[h[P]]}),P++):C('delete')?S.howMany++:(w(),S={type:'delete',index:P,howMany:1})}),w(),T}},function(r,s,d){'use strict';s.a=function(h,w){const C=d.i(f.a)(h),T=d.i(f.a)(w);let P=0;for(;C[P]==T[P]&&C[P];)P++;return 0==P?null:C[P-1]};var f=d(186)},function(r,s){'use strict';s.a=function(f){return f instanceof HTMLTextAreaElement?f.value:f.innerHTML}},function(r,s,d){'use strict';s.a=function(h){for(;h&&'html'!=h.tagName.toLowerCase();){if('static'!=f.a.window.getComputedStyle(h).position)return h;h=h.parentElement}return null};var f=d(40)},function(r,s){'use strict';s.a=function(f){let h=0;for(;f.previousSibling;)f=f.previousSibling,h++;return h}},function(r,s){'use strict';s.a=function(f,h,w){f.insertBefore(w,f.childNodes[h]||null)}},function(r,s,d){'use strict';function f(S,E,O){const{left:V,top:R,name:F}=S(E,O);return[F,O.clone().moveTo(V,R)]}function h(S,E,O,V,R){let F=0,N=0,I,M;const L=O.getArea();return S.some((D)=>{function q(){N=H,F=K,I=$,M=z}const[z,$]=f(D,E,O);let K,H;if(V)if(R){const W=V.getIntersection(R);K=W?W.getIntersectionArea($):0}else K=V.getIntersectionArea($);return R&&(H=R.getIntersectionArea($)),R&&!V?H>N&&q():!R&&V?K>F&&q():H>N&&K>=F?q():H>=N&&K>F&&q(),K===L}),I?[M,I]:null}function w({left:S,top:E}){const{scrollX:O,scrollY:V}=C.a.window;return{left:S+O,top:E+V}}s.a=function({element:S,target:E,positions:O,limiter:V,fitInViewport:R}){'function'==typeof E&&(E=E());const F=d.i(P.a)(S.parentElement),N=new T.a(S),I=new T.a(E);let M,L;if(!V&&!R)[L,M]=f(O[0],I,N);else{const z=V&&new T.a(V).getVisible(),$=R&&T.a.getViewportRect();[L,M]=h(O,I,N,z,$)||f(O[0],I,N)}let{left:D,top:q}=w(M);if(F){const z=w(new T.a(F)),$=C.a.window.getComputedStyle(F);D-=z.left,q-=z.top,D+=F.scrollLeft,q+=F.scrollTop,D-=parseInt($.borderLeftWidth,10),q-=parseInt($.borderTopWidth,10)}return{left:D,top:q,name:L}};var C=d(40),T=d(433),P=d(429)},function(r,s,d){'use strict';function u(P,S){for(const E of T)P[E]=S[E]}var f=d(40),h=d(187),w=d(232);class C{constructor(P){if(Object.defineProperty(this,'_source',{value:P._source||P,writable:!1,enumerable:!1}),d.i(w.a)(P))u(this,P.getBoundingClientRect());else if(!d.i(h.a)(P))u(this,P);else if(P.collapsed){const S=P.getClientRects();S.length?u(this,S[0]):(u(this,P.startContainer.getBoundingClientRect()),this.width=0)}else u(this,P.getBoundingClientRect())}clone(){return new C(this)}moveTo(P,S){return this.top=S,this.right=P+this.width,this.bottom=S+this.height,this.left=P,this}moveBy(P,S){return this.top+=S,this.right+=P,this.left+=P,this.bottom+=S,this}getIntersection(P){const S={top:_Mathmax(this.top,P.top),right:_Mathmin(this.right,P.right),bottom:_Mathmin(this.bottom,P.bottom),left:_Mathmax(this.left,P.left)};return S.width=S.right-S.left,S.height=S.bottom-S.top,0>S.width||0>S.height?null:new C(S)}getIntersectionArea(P){const S=this.getIntersection(P);return S?S.getArea():0}getArea(){return this.width*this.height}getVisible(){const P=this._source;let S=this.clone();if(P!=f.a.document.body)for(let E=P.parentNode||P.commonAncestorContainer;E&&E!=f.a.document.body;){const O=new C(E),V=S.getIntersection(O);if(V)V.getArea()<S.getArea()&&(S=V);else return null;E=E.parentNode}return S}static getViewportRect(){const{innerWidth:P,innerHeight:S}=f.a.window;return new C({top:0,right:P,bottom:S,left:0,width:P,height:S})}}s.a=C;const T=['top','right','bottom','left','width','height']},function(r,s){'use strict';s.a=function(f){const h=f.parentNode;h&&h.removeChild(f)}},function(r,s){'use strict';s.a=function(f,h){f instanceof HTMLTextAreaElement&&(f.value=h),f.innerHTML=h}},function(r,s){'use strict';s.a=class{constructor(){this._replacedElements=[]}replace(f,h){this._replacedElements.push({element:f,newElement:h}),f.style.display='none',h&&f.parentNode.insertBefore(h,f.nextSibling)}restore(){this._replacedElements.forEach(({element:f,newElement:h})=>{f.style.display='',h&&h.remove()}),this._replacedElements=[]}}},function(r,s){'use strict';const f=navigator.userAgent.toLowerCase(),h={mac:function(w){return-1<w.indexOf('macintosh')}(f)};s.a=h},function(r,s,d){'use strict';var u=d(539);s.a=class{constructor(h,w){this.source=h,this.name=w,this.path=[],this.stop=d.i(u.a)(),this.off=d.i(u.a)()}}},function(r,s,d){'use strict';var u=d(55),f=d(32),h=d.i(u.a)(f.a,'DataView');s.a=h},function(r,s,d){'use strict';function u(P){var S=-1,E=P?P.length:0;for(this.clear();++S<E;){var O=P[S];this.set(O[0],O[1])}}var f=d(486),h=d(487),w=d(488),C=d(489),T=d(490);u.prototype.clear=f.a,u.prototype['delete']=h.a,u.prototype.get=w.a,u.prototype.has=C.a,u.prototype.set=T.a,s.a=u},function(r,s,d){'use strict';var u=d(55),f=d(32),h=d.i(u.a)(f.a,'Promise');s.a=h},function(r,s,d){'use strict';var u=d(32),f=u.a.Reflect;s.a=f},function(r,s,d){'use strict';var u=d(55),f=d(32),h=d.i(u.a)(f.a,'WeakMap');s.a=h},function(r,s){'use strict';s.a=function(f,h){return f.set(h[0],h[1]),f}},function(r,s){'use strict';s.a=function(f,h){return f.add(h),f}},function(r,s){'use strict';s.a=function(f,h){for(var w=-1,C=f.length;++w<C&&!(!1===h(f[w],w,f)););return f}},function(r,s){'use strict';s.a=function(f,h){for(var w=-1,C=f.length;++w<C;)if(h(f[w],w,f))return!0;return!1}},function(r,s,d){'use strict';var f=d(138),h=d(71);s.a=function(w,C){return w&&d.i(f.a)(C,d.i(h.a)(C),w)}},function(r,s,d){'use strict';var f=d(225);s.a=function(h,w){for(var C=-1,P=w.length,S=Array(P);++C<P;)S[C]=null==h?void 0:d.i(f.a)(h,w[C]);return S}},function(r,s){'use strict';s.a=function(f,h,w){return f===f&&(void 0!==w&&(f=f<=w?f:w),void 0!==h&&(f=f>=h?f:h)),f}},function(r,s,d){'use strict';var f=d(14),h=Object.create;s.a=function(w){return d.i(f.a)(w)?h(w):{}}},function(r,s,d){'use strict';var f=d(15),h=d(533);s.a=function(w,C,T,P){var S=w.length;for(T=d.i(f.a)(T),0>T&&(T=-T>S?0:S+T),P=void 0===P||P>S?S:d.i(f.a)(P),0>P&&(P+=S),P=T>P?0:d.i(h.a)(P);T<P;)w[T++]=C;return w}},function(r,s,d){'use strict';var f=d(85),h=d(12);s.a=function(w,C,T){var P=C(w);return d.i(h.a)(w)?P:d.i(f.a)(P,T(w))}},function(r,s){'use strict';s.a=function(f,h){return h in Object(f)}},function(r,s){'use strict';s.a=function(f,h,w,C){for(var T=w-1,P=f.length;++T<P;)if(C(f[T],h))return T;return-1}},function(r,s,d){'use strict';var f=d(122),h=d(202),w=d(480),C=d(481),T=d(140),P=d(12),S=d(91),E=d(525),V='[object Arguments]',R='[object Array]',F='[object Object]',N=Object.prototype,I=N.hasOwnProperty;s.a=function(M,L,D,q,z,$){var K=d.i(P.a)(M),H=d.i(P.a)(L),W=R,U=R;K||(W=d.i(T.a)(M),W=W==V?F:W),H||(U=d.i(T.a)(L),U=U==V?F:U);var Z=W==F&&!d.i(S.a)(M),G=U==F&&!d.i(S.a)(L),J=W==U;if(J&&!Z)return $||($=new f.a),K||d.i(E.a)(M)?d.i(h.a)(M,L,D,q,z,$):d.i(w.a)(M,L,W,D,q,z,$);if(!(z&2)){var Q=Z&&I.call(M,'__wrapped__'),Y=G&&I.call(L,'__wrapped__');if(Q||Y){var X=Q?M.value():M,ee=Y?L.value():L;return $||($=new f.a),D(X,ee,q,z,$)}}return!!J&&($||($=new f.a),d.i(C.a)(M,L,D,q,z,$))}},function(r,s,d){'use strict';var f=d(122),h=d(129);s.a=function(T,P,S,E){var O=S.length,V=O,R=!E;if(null==T)return!V;for(T=Object(T);O--;){var F=S[O];if(R&&F[2]?F[1]!==T[F[0]]:!(F[0]in T))return!1}for(;++O<V;){F=S[O];var N=F[0],I=T[N],M=F[1];if(!(R&&F[2])){var L=new f.a;if(E)var D=E(I,M,N,T,P,L);if(void 0===D?!d.i(h.a)(M,I,E,1|2,L):!D)return!1}else if(void 0===I&&!(N in T))return!1}return!0}},function(r,s){'use strict';var f=Object.keys;s.a=function(h){return f(Object(h))}},function(r,s,d){'use strict';function u(P){P=null==P?P:Object(P);var S=[];for(var E in P)S.push(E);return S}var f=d(442),h=d(496),w=Object.prototype,C=f.a?f.a.enumerate:void 0,T=w.propertyIsEnumerable;C&&!T.call({valueOf:1},'valueOf')&&(u=function(P){return d.i(h.a)(C(P))}),s.a=u},function(r,s,d){'use strict';var f=d(457),h=d(484),w=d(207);s.a=function(C){var T=d.i(h.a)(C);return 1==T.length&&T[0][2]?d.i(w.a)(T[0][0],T[0][1]):function(P){return P===C||d.i(f.a)(P,C,T)}}},function(r,s,d){'use strict';var f=d(129),h=d(225),w=d(522),C=d(56),T=d(206),P=d(207),S=d(57);s.a=function(V,R){return d.i(C.a)(V)&&d.i(T.a)(R)?d.i(P.a)(d.i(S.a)(V),R):function(F){var N=d.i(h.a)(F,V);return N===void 0&&N===R?d.i(w.a)(F,V):d.i(f.a)(R,N,void 0,1|2)}}},function(r,s,d){'use strict';var f=d(42);s.a=function(h,w){var C=h.length;if(C)return w+=0>w?C:0,d.i(f.a)(w,C)?h[w]:void 0}},function(r,s,d){'use strict';var f=d(126);s.a=function(h){return function(w){return d.i(f.a)(w,h)}}},function(r,s,d){'use strict';var f=d(69),h=d(89),w=d(42),C=d(56),T=d(14),P=d(57);s.a=function(S,E,O,V){E=d.i(C.a)(E,S)?[E]:d.i(h.a)(E);for(var R=-1,F=E.length,I=S,M;null!=I&&++R<F;){if(M=d.i(P.a)(E[R]),d.i(T.a)(I)){var L=O;if(R!=F-1){var D=I[M];L=V?V(D,M,I):void 0,void 0===L&&(L=null==D?d.i(w.a)(E[R+1])?[]:{}:D)}d.i(f.a)(I,M,L)}I=I[M]}return S}},function(r,s,d){'use strict';var f=d(27);s.a=function(h,w){return d.i(f.a)(w,function(C){return[C,h[C]]})}},function(r,s,d){'use strict';var f=d(123),h=d(52),C=f.a?f.a.prototype:void 0,T=C?C.toString:void 0;s.a=function(P){if('string'==typeof P)return P;if(d.i(h.a)(P))return T?T.call(P):'';var S=P+'';return'0'==S&&1/P==-(1/0)?'-0':S}},function(r,s){'use strict';s.a=function(f){return f&&f.Object===Object?f:null}},function(r,s){'use strict';s.a=function(f,h){if(h)return f.slice();var w=new f.constructor(f.length);return f.copy(w),w}},function(r,s,d){'use strict';var f=d(137);s.a=function(h,w){var C=w?d.i(f.a)(h.buffer):h.buffer;return new h.constructor(C,h.byteOffset,h.byteLength)}},function(r,s,d){'use strict';var f=d(444),h=d(193),w=d(141);s.a=function(C,T,P){var S=T?P(d.i(w.a)(C),!0):d.i(w.a)(C);return d.i(h.a)(S,f.a,new C.constructor)}},function(r,s){'use strict';var f=/\w*$/;s.a=function(h){var w=new h.constructor(h.source,f.exec(h));return w.lastIndex=h.lastIndex,w}},function(r,s,d){'use strict';var f=d(445),h=d(193),w=d(95);s.a=function(C,T,P){var S=T?P(d.i(w.a)(C),!0):d.i(w.a)(C);return d.i(h.a)(S,f.a,new C.constructor)}},function(r,s,d){'use strict';var f=d(123),h=f.a?f.a.prototype:void 0,w=h?h.valueOf:void 0;s.a=function(C){return w?Object(w.call(C)):{}}},function(r,s,d){'use strict';var f=d(137);s.a=function(h,w){var C=w?d.i(f.a)(h.buffer):h.buffer;return new h.constructor(C,h.byteOffset,h.length)}},function(r,s,d){'use strict';var f=d(52);s.a=function(h,w){if(h!==w){var C=h!==void 0,T=null===h,P=h===h,S=d.i(f.a)(h),E=w!==void 0,O=null===w,V=w===w,R=d.i(f.a)(w);if(!O&&!R&&!S&&h>w||S&&E&&V&&!O&&!R||T&&E&&V||!C&&V||!P)return 1;if(!T&&!S&&!R&&h<w||R&&C&&P&&!T&&!S||O&&C&&P||!E&&P||!V)return-1}return 0}},function(r,s,d){'use strict';var f=d(138),h=d(203);s.a=function(w,C){return d.i(f.a)(w,d.i(h.a)(w),C)}},function(r,s,d){'use strict';var f=d(92),h=d(8);s.a=function(w){return d.i(h.a)(function(C,T){var P=-1,S=T.length,E=1<S?T[S-1]:void 0,O=2<S?T[2]:void 0;for(E=3<w.length&&'function'==typeof E?(S--,E):void 0,O&&d.i(f.a)(T[0],T[1],O)&&(E=3>S?void 0:E,S=1),C=Object(C);++P<S;){var V=T[P];V&&w(C,V,P,E)}return C})}},function(r,s,d){'use strict';var u=d(190),f=d(528),h=d(95),C=u.a&&1/d.i(h.a)(new u.a([,-0]))[1]==1/0?function(T){return new u.a(T)}:f.a;s.a=C},function(r,s,d){'use strict';var f=d(465),h=d(140),w=d(141),C=d(510);s.a=function(S){return function(E){var O=d.i(h.a)(E);return O=='[object Map]'?d.i(w.a)(E):O=='[object Set]'?d.i(C.a)(E):d.i(f.a)(E,S(E))}}},function(r,s,d){'use strict';var f=d(123),h=d(191),w=d(202),C=d(141),T=d(95),z=f.a?f.a.prototype:void 0,$=z?z.valueOf:void 0;s.a=function(K,H,W,U,Z,G,J){switch(W){case'[object DataView]':if(K.byteLength!=H.byteLength||K.byteOffset!=H.byteOffset)return!1;K=K.buffer,H=H.buffer;case'[object ArrayBuffer]':return K.byteLength==H.byteLength&&U(new h.a(K),new h.a(H));case'[object Boolean]':case'[object Date]':return+K==+H;case'[object Error]':return K.name==H.name&&K.message==H.message;case'[object Number]':return K==+K?K==+H:H!=+H;case'[object RegExp]':case'[object String]':return K==H+'';case'[object Map]':var Q=C.a;case'[object Set]':var Y=G&2;if(Q||(Q=T.a),K.size!=H.size&&!Y)return!1;var X=J.get(K);return X?X==H:(G|=1,J.set(K,H),d.i(w.a)(Q(K),Q(H),U,Z,G,J));case'[object Symbol]':if($)return $.call(K)==$.call(H);}return!1}},function(r,s,d){'use strict';var f=d(196),h=d(71);s.a=function(C,T,P,S,E,O){var V=E&2,R=d.i(h.a)(C),F=R.length,N=d.i(h.a)(T),I=N.length;if(F!=I&&!V)return!1;for(var M=F,L;M--;)if(L=R[M],V?!(L in T):!d.i(f.a)(T,L))return!1;var D=O.get(C);if(D)return D==T;var q=!0;O.set(C,T);for(var z=V;++M<F;){L=R[M];var $=C[L],K=T[L];if(S)var H=V?S(K,$,L,T,C,O):S($,K,L,C,T,O);if(void 0===H?!($===K||P($,K,S,E,O)):!H){q=!1;break}z||(z='constructor'==L)}if(q&&!z){var W=C.constructor,U=T.constructor;W!=U&&'constructor'in C&&'constructor'in T&&!('function'==typeof W&&W instanceof W&&'function'==typeof U&&U instanceof U)&&(q=!1)}return O['delete'](C),q}},function(r,s,d){'use strict';var f=d(453),h=d(203),w=d(71);s.a=function(C){return d.i(f.a)(C,w.a,h.a)}},function(r,s,d){'use strict';var u=d(130),f=d.i(u.a)('length');s.a=f},function(r,s,d){'use strict';var f=d(206),h=d(534);s.a=function(w){for(var C=d.i(h.a)(w),T=C.length;T--;)C[T][2]=d.i(f.a)(C[T][1]);return C}},function(r,s,d){'use strict';var f=d(89),h=d(146),w=d(12),C=d(42),T=d(56),P=d(98),S=d(148),E=d(57);s.a=function(O,V,R){V=d.i(T.a)(V,O)?[V]:d.i(f.a)(V);for(var N=-1,I=V.length,F,M;++N<I&&(M=d.i(E.a)(V[N]),!!(F=null!=O&&R(O,M)));)O=O[M];if(F)return F;var I=O?O.length:0;return!!I&&d.i(P.a)(I)&&d.i(C.a)(M,I)&&(d.i(w.a)(O)||d.i(S.a)(O)||d.i(h.a)(O))}},function(r,s,d){'use strict';var f=d(94);s.a=function(){this.__data__=f.a?d.i(f.a)(null):{}}},function(r,s){'use strict';s.a=function(f){return this.has(f)&&delete this.__data__[f]}},function(r,s,d){'use strict';var f=d(94),w=Object.prototype,C=w.hasOwnProperty;s.a=function(T){var P=this.__data__;if(f.a){var S=P[T];return S==='__lodash_hash_undefined__'?void 0:S}return C.call(P,T)?P[T]:void 0}},function(r,s,d){'use strict';var f=d(94),h=Object.prototype,w=h.hasOwnProperty;s.a=function(C){var T=this.__data__;return f.a?T[C]!==void 0:w.call(T,C)}},function(r,s,d){'use strict';var f=d(94);s.a=function(w,C){var T=this.__data__;return T[w]=f.a&&void 0===C?'__lodash_hash_undefined__':C,this}},function(r,s){'use strict';var f=Object.prototype,h=f.hasOwnProperty;s.a=function(w){var C=w.length,T=w.constructor(C);return C&&'string'==typeof w[0]&&h.call(w,'index')&&(T.index=w.index,T.input=w.input),T}},function(r,s,d){'use strict';var f=d(137),h=d(469),w=d(470),C=d(471),T=d(472),P=d(473),S=d(474);s.a=function(J,Q,Y,X){var ee=J.constructor;return Q==='[object ArrayBuffer]'?d.i(f.a)(J):Q==='[object Boolean]'||Q==='[object Date]'?new ee(+J):Q==='[object DataView]'?d.i(h.a)(J,X):Q==='[object Float32Array]'||Q==='[object Float64Array]'||Q==='[object Int8Array]'||Q==='[object Int16Array]'||Q==='[object Int32Array]'||Q==='[object Uint8Array]'||Q==='[object Uint8ClampedArray]'||Q==='[object Uint16Array]'||Q==='[object Uint32Array]'?d.i(S.a)(J,X):Q==='[object Map]'?d.i(w.a)(J,X,Y):Q==='[object Number]'||Q==='[object String]'?new ee(J):Q==='[object RegExp]'?d.i(C.a)(J):Q==='[object Set]'?d.i(T.a)(J,X,Y):Q==='[object Symbol]'?d.i(P.a)(J):void 0}},function(r,s,d){'use strict';var f=d(451),h=d(139),w=d(93);s.a=function(C){return'function'!=typeof C.constructor||d.i(w.a)(C)?{}:d.i(f.a)(d.i(h.a)(C))}},function(r,s,d){'use strict';var f=d(146),h=d(12);s.a=function(w){return d.i(h.a)(w)||d.i(f.a)(w)}},function(r,s){'use strict';s.a=function(f){var h=typeof f;return'string'==h||'number'==h||'symbol'==h||'boolean'==h?'__proto__'!==f:null===f}},function(r,s){'use strict';s.a=function(f){for(var w=[],h;!(h=f.next()).done;)w.push(h.value);return w}},function(r,s){'use strict';s.a=function(){this.__data__=[]}},function(r,s,d){'use strict';var f=d(86),h=Array.prototype,w=h.splice;s.a=function(C){var T=this.__data__,P=d.i(f.a)(T,C);if(0>P)return!1;var S=T.length-1;return P==S?T.pop():w.call(T,P,1),!0}},function(r,s,d){'use strict';var f=d(86);s.a=function(h){var w=this.__data__,C=d.i(f.a)(w,h);return 0>C?void 0:w[C][1]}},function(r,s,d){'use strict';var f=d(86);s.a=function(h){return-1<d.i(f.a)(this.__data__,h)}},function(r,s,d){'use strict';var f=d(86);s.a=function(h,w){var C=this.__data__,T=d.i(f.a)(C,h);return 0>T?C.push([h,w]):C[T][1]=w,this}},function(r,s,d){'use strict';var f=d(440),h=d(82),w=d(189);s.a=function(){this.__data__={hash:new f.a,map:new(w.a||h.a),string:new f.a}}},function(r,s,d){'use strict';var f=d(90);s.a=function(h){return d.i(f.a)(this,h)['delete'](h)}},function(r,s,d){'use strict';var f=d(90);s.a=function(h){return d.i(f.a)(this,h).get(h)}},function(r,s,d){'use strict';var f=d(90);s.a=function(h){return d.i(f.a)(this,h).has(h)}},function(r,s,d){'use strict';var f=d(90);s.a=function(h,w){return d.i(f.a)(this,h).set(h,w),this}},function(r,s,d){'use strict';var f=d(126),h=d(41);s.a=function(w,C){return 1==C.length?w:d.i(f.a)(w,d.i(h.a)(C,0,-1))}},function(r,s){'use strict';s.a=function(h){return this.__data__.set(h,'__lodash_hash_undefined__'),this}},function(r,s){'use strict';s.a=function(f){return this.__data__.has(f)}},function(r,s){'use strict';s.a=function(f){var h=-1,w=Array(f.size);return f.forEach(function(C){w[++h]=[C,C]}),w}},function(r,s,d){'use strict';var f=d(82);s.a=function(){this.__data__=new f.a}},function(r,s){'use strict';s.a=function(f){return this.__data__['delete'](f)}},function(r,s){'use strict';s.a=function(f){return this.__data__.get(f)}},function(r,s){'use strict';s.a=function(f){return this.__data__.has(f)}},function(r,s,d){'use strict';var f=d(82),h=d(121);s.a=function(C,T){var P=this.__data__;return P instanceof f.a&&P.__data__.length==200&&(P=this.__data__=new h.a(P.__data__)),P.set(C,T),this}},function(r,s,d){'use strict';var u=d(527),f=d(535),h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,w=/\\(\\)?/g,C=d.i(u.a)(function(T){var P=[];return d.i(f.a)(T).replace(h,function(S,E,O,V){P.push(O?V.replace(w,'$1'):E||S)}),P});s.a=C},function(r,s,d){'use strict';var u=d(209),f=d(210),h=d(211),w=d(212),C=d(213),T=d(214),P=d(143),S=d(144),E=d(215),O=d(216),V=d(217),R=d(218),F=d(219),N=d(220),I=d(221),M=d(222),L=d(223),D=d(224),q=d(145),z=d(227),$=d(228),K=d(229),H=d(230),W=d(231),U=d(234),Z=d(18),G=d(235),J=d(236),Q=d(237),Y=d(149),X=d(238),ee=d(239),te=d(240),ae=d(241),ne=d(242),oe=d(243),ie=d(244),re=d(245),se=d(246),le=d(247),de=d(248),ce=d(249),ue=d(250),me=d(251),pe=d(252),ge=d(253),fe=d(254),he=d(255),be=d(256),_e=d(258),ke=d(259),we=d(260),ye=d(261),ve=d(262),xe=d(263),Ce=d(100),Te=d(150),Ae=d(264),Pe=d(265),Se=d(266),Ee=d(267),Oe=d(268),Ve=d(269),Re=d(270),Fe=d(271);s.a={chunk:u.a,compact:f.a,concat:h.a,difference:w.a,differenceBy:C.a,differenceWith:T.a,drop:P.a,dropRight:S.a,dropRightWhile:E.a,dropWhile:O.a,fill:V.a,findIndex:R.a,findLastIndex:F.a,first:N.a,flatten:I.a,flattenDeep:M.a,flattenDepth:L.a,fromPairs:D.a,head:q.a,indexOf:z.a,initial:$.a,intersection:K.a,intersectionBy:H.a,intersectionWith:W.a,join:U.a,last:Z.a,lastIndexOf:G.a,nth:J.a,pull:Q.a,pullAll:Y.a,pullAllBy:X.a,pullAllWith:ee.a,pullAt:te.a,remove:ae.a,reverse:ne.a,slice:oe.a,sortedIndex:ie.a,sortedIndexBy:re.a,sortedIndexOf:se.a,sortedLastIndex:le.a,sortedLastIndexBy:de.a,sortedLastIndexOf:ce.a,sortedUniq:ue.a,sortedUniqBy:me.a,tail:pe.a,take:ge.a,takeRight:fe.a,takeRightWhile:he.a,takeWhile:be.a,union:_e.a,unionBy:ke.a,unionWith:we.a,uniq:ye.a,uniqBy:ve.a,uniqWith:xe.a,unzip:Ce.a,unzipWith:Te.a,without:Ae.a,xor:Pe.a,xorBy:Se.a,xorWith:Ee.a,zip:Oe.a,zipObject:Ve.a,zipObjectDeep:Re.a,zipWith:Fe.a}},function(r,s,d){'use strict';var u=d(209),f=d(210),h=d(211),w=d(212),C=d(213),T=d(214),P=d(143),S=d(144),E=d(215),O=d(216),V=d(217),R=d(218),F=d(219),N=d(220),I=d(221),M=d(222),L=d(223),D=d(224),q=d(145),z=d(227),$=d(228),K=d(229),H=d(230),W=d(231),U=d(234),Z=d(18),G=d(235),J=d(236),Q=d(237),Y=d(149),X=d(238),ee=d(239),te=d(240),ae=d(241),ne=d(242),oe=d(243),ie=d(244),re=d(245),se=d(246),le=d(247),de=d(248),ce=d(249),ue=d(250),me=d(251),pe=d(252),ge=d(253),fe=d(254),he=d(255),be=d(256),_e=d(258),ke=d(259),we=d(260),ye=d(261),ve=d(262),xe=d(263),Ce=d(100),Te=d(150),Ae=d(264),Pe=d(265),Se=d(266),Ee=d(267),Oe=d(268),Ve=d(269),Re=d(270),Fe=d(271),Ne=d(517);d.d(s,'a',function(){return Ne.a})},function(r,s,d){'use strict';var u=d(69),f=d(138),h=d(477),w=d(97),C=d(93),T=d(526),P=Object.prototype,S=P.propertyIsEnumerable,E=!S.call({valueOf:1},'valueOf'),O=d.i(h.a)(function(V,R){if(E||d.i(C.a)(R)||d.i(w.a)(R))return void d.i(f.a)(R,d.i(T.a)(R),V);for(var F in R)d.i(u.a)(V,F,R[F])});s.a=O},function(r,s,d){'use strict';var f=d(194);s.a=function(h,w){return d.i(f.a)(h,!0,!0,w)}},function(r,s){'use strict';s.a=function(f){return function(){return f}}},function(r,s,d){'use strict';var f=d(454),h=d(485);s.a=function(w,C){return null!=w&&d.i(h.a)(w,C,f.a)}},function(r,s,d){'use strict';(function(u){var f=d(521),h=d(32),w={'function':!0,object:!0},C=w[typeof exports]&&exports&&!exports.nodeType?exports:void 0,T=w[typeof u]&&u&&!u.nodeType?u:void 0,P=T&&T.exports===C?C:void 0,S=P?h.a.Buffer:void 0,E=S?function(O){return O instanceof S}:d.i(f.a)(!1);s.a=E}).call(s,d(154)(r))},function(r,s,d){'use strict';var f=d(129);s.a=function(h,w){return d.i(f.a)(h,w)}},function(r,s,d){'use strict';var f=d(98),h=d(51),J={};J['[object Float32Array]']=J['[object Float64Array]']=J['[object Int8Array]']=J['[object Int16Array]']=J['[object Int32Array]']=J['[object Uint8Array]']=J['[object Uint8ClampedArray]']=J['[object Uint16Array]']=J['[object Uint32Array]']=!0,J['[object Arguments]']=J['[object Array]']=J['[object ArrayBuffer]']=J['[object Boolean]']=J['[object DataView]']=J['[object Date]']=J['[object Error]']=J['[object Function]']=J['[object Map]']=J['[object Number]']=J['[object Object]']=J['[object RegExp]']=J['[object Set]']=J['[object String]']=J['[object WeakMap]']=!1;var Q=Object.prototype,Y=Q.toString;s.a=function(X){return d.i(h.a)(X)&&d.i(f.a)(X.length)&&!!J[Y.call(X)]}},function(r,s,d){'use strict';var f=d(459),h=d(204),w=d(42),C=d(93),T=Object.prototype,P=T.hasOwnProperty;s.a=function(S){for(var E=-1,O=d.i(C.a)(S),V=d.i(f.a)(S),R=V.length,F=d.i(h.a)(S),I=F||[],M=I.length,L;++E<R;)L=V[E],!!F&&('length'==L||d.i(w.a)(L,M))||'constructor'==L&&(O||!P.call(S,L))||I.push(L);return I}},function(r,s,d){'use strict';function u(w,C){if('function'!=typeof w||C&&'function'!=typeof C)throw new TypeError(h);var T=function(){var P=arguments,S=C?C.apply(this,P):P[0],E=T.cache;if(E.has(S))return E.get(S);var O=w.apply(this,P);return T.cache=E.set(S,O),O};return T.cache=new(u.Cache||f.a),T}var f=d(121),h='Expected a function';u.Cache=f.a,s.a=u},function(r,s){'use strict';s.a=function(){}},function(r,s){'use strict';var u=Date.now;s.a=u},function(r,s,d){'use strict';var f=d(130),h=d(463),w=d(56),C=d(57);s.a=function(T){return d.i(w.a)(T)?d.i(f.a)(d.i(C.a)(T)):d.i(h.a)(T)}},function(r,s,d){'use strict';var f=d(142),h=d(14);s.a=function(C,T,P){var S=!0,E=!0;if('function'!=typeof C)throw new TypeError('Expected a function');return d.i(h.a)(P)&&(S='leading'in P?!!P.leading:S,E='trailing'in P?!!P.trailing:E),d.i(f.a)(C,T,{leading:S,maxWait:T,trailing:E})}},function(r,s,d){'use strict';var f=d(257),h=1/0;s.a=function(C){if(!C)return 0===C?C:0;if(C=d.i(f.a)(C),C===h||C===-h){var T=0>C?-1:1;return T*1.7976931348623157e308}return C===C?C:0}},function(r,s,d){'use strict';var f=d(450),h=d(15);s.a=function(C){return C?d.i(f.a)(d.i(h.a)(C),0,4294967295):0}},function(r,s,d){'use strict';var u=d(479),f=d(71),h=d.i(u.a)(f.a);s.a=h},function(r,s,d){'use strict';var f=d(466);s.a=function(h){return null==h?'':d.i(f.a)(h)}},function(r,s,d){'use strict';var u=d(540);s.a=class{constructor(h){this.lang=h||'en',this.t=(...w)=>this._t(...w)}_t(h,w){let C=d.i(u.a)(this.lang,h);return w&&(C=C.replace(/%(\d+)/g,(T,P)=>{return P<w.length?w[P]:T})),C}}},function(r,s){'use strict';s.a=function(f,h){if(f.size!=h.size)return!1;for(const w of f.entries()){const C=JSON.stringify(w[1]),T=JSON.stringify(h.get(w[0]));if(C!==T)return!1}return!0}},function(r,s){'use strict';const u={get(f){return'number'==typeof f?f:this[f]||this.normal},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};s.a=u},function(r,s){'use strict';s.a=function(){return function f(){f.called=!0}}},function(r,s){'use strict';function h(T,P){return T in C&&P in C[T]}s.a=function(T,P){return h(T,P)?C[T][P]:P.replace(/ \[context: [^\]]+\]$/,'')};let C={}},function(r,s,d){'use strict';function u(M){return M==R.d.arrowright||M==R.d.arrowleft||M==R.d.arrowup||M==R.d.arrowdown}function f(M){return M==R.d.delete||M==R.d.backspace}function h(M){for(;M;){if(M instanceof E.a&&!(M instanceof O.a))return!0;M=M.parent}return!1}var w=d(2),C=d(366),T=d(3),P=d(60),S=d(5),E=d(77),O=d(169),V=d(152),R=d(22),F=d(317),N=d.n(F);class I extends w.a{static get pluginName(){return'widget/widget'}init(){const M=this.editor.editing.view;let L;this.editor.editing.modelToView.on('selection',(D,q,z,$)=>{L&&L.hasClass(V.d)&&L.removeClass(V.d);const K=$.viewSelection,H=K.getSelectedElement();H&&d.i(V.b)(H)&&(K.setFake(!0,{label:d.i(V.e)(H)}),H.addClass(V.d),L=H)},{priority:'low'}),M.addObserver(C.a),this.listenTo(M,'mousedown',(...D)=>this._onMousedown(...D)),this.listenTo(M,'keydown',(...D)=>this._onKeydown(...D),{priority:'high'})}_onMousedown(M,L){const D=this.editor,q=D.editing.view;let z=L.target;if(h(z))return;if(!d.i(V.b)(z)&&(z=z.findAncestor(V.b),!z))return;L.preventDefault(),q.isFocused||q.focus();const $=D.editing.mapper.toModelElement(z);D.document.enqueueChanges(()=>{this._setSelectionOverElement($)})}_onKeydown(M,L){const D=L.keyCode,q=D==R.d.delete||D==R.d.arrowdown||D==R.d.arrowright;(f(D)&&this._handleDelete(q)||u(D)&&this._handleArrowKeys(q))&&(L.preventDefault(),M.stop())}_handleDelete(M){const L=this.editor.document,D=L.selection;if(!D.isCollapsed)return;const q=this._getObjectElementNextToSelection(M);if(q)return L.enqueueChanges(()=>{const z=D.anchor.parent;if(z.isEmpty){const $=L.batch();$.remove(z)}this._setSelectionOverElement(q)}),!0}_handleArrowKeys(M){const L=this.editor.document,D=L.schema,q=L.selection,z=q.getSelectedElement();if(z&&D.objects.has(z.name)){const K=M?q.getLastPosition():q.getFirstPosition(),H=L.getNearestSelectionRange(K,M?'forward':'backward');return H&&L.enqueueChanges(()=>{q.setRanges([H])}),!0}if(!q.isCollapsed)return;const $=this._getObjectElementNextToSelection(M);if($ instanceof S.a&&L.schema.objects.has($.name))return L.enqueueChanges(()=>{this._setSelectionOverElement($)}),!0}_setSelectionOverElement(M){this.editor.document.selection.setRanges([T.a.createOn(M)])}_getObjectElementNextToSelection(M){const L=this.editor.document,D=L.schema,q=L.selection,z=this.editor.data,$=P.a.createFromSelection(q);z.modifySelection($,{direction:M?'forward':'backward'});const K=M?$.focus.nodeBefore:$.focus.nodeAfter;return K instanceof S.a&&D.objects.has(K.name)?K:null}}s.a=I}])});
//# sourceMappingURL=ckeditor.js.map