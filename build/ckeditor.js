/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
var _Mathpow=Math.pow,_NumberPOSITIVE_INFINITY=Number.POSITIVE_INFINITY,_Mathfloor=Math.floor,_StringfromCharCode=String.fromCharCode,_Mathmax=Math.max,_Mathmin=Math.min;(function(u,f){if('object'==typeof exports&&'object'==typeof module)module.exports=f();else if('function'==typeof define&&define.amd)define([],f);else{var h=f();for(var w in h)('object'==typeof exports?exports:u)[w]=h[w]}})(this,function(){return function(r){function u(h){if(f[h])return f[h].exports;var w=f[h]={i:h,l:!1,exports:{}};return r[h].call(w.exports,w,w.exports,u),w.l=!0,w.exports}var f={};return u.m=r,u.c=f,u.i=function(h){return h},u.d=function(h,w,C){u.o(h,w)||Object.defineProperty(h,w,{configurable:!1,enumerable:!0,get:C})},u.n=function(h){var w=h&&h.__esModule?function(){return h['default']}:function(){return h};return u.d(w,'a',w),w},u.o=function(h,w){return Object.prototype.hasOwnProperty.call(h,w)},u.p='',u(u.s=304)}([function(r,u){'use strict';class h extends Error{constructor(w,C){C&&(w+=' '+JSON.stringify(C)),super(w),this.name='CKEditorError',this.data=C}static isCKEditorError(w){return w instanceof h}}u.a=h},function(r,u,f){'use strict';var h=f(35),w=f(19),C=f(64),T=f(0),P=f(24);class S{constructor(E,O){if(!E.is('element')&&!E.is('documentFragment'))throw new T.a('model-position-root-invalid: Position root invalid.');if(!(O instanceof Array)||0===O.length)throw new T.a('model-position-path-incorrect: Position path must be an Array with at least one item.',{path:O});O=E.getPath().concat(O),E=E.root,this.root=E,this.path=O}get offset(){return f.i(w.a)(this.path)}set offset(E){this.path[this.path.length-1]=E}get parent(){let E=this.root;for(let O=0;O<this.path.length-1;O++)E=E.getChild(E.offsetToIndex(this.path[O]));return E}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){let E=this.parent.getChild(this.index);return E instanceof P.a&&E.startOffset<this.offset?E:null}get nodeAfter(){return null===this.textNode?this.parent.getChild(this.index):null}get nodeBefore(){return null===this.textNode?this.parent.getChild(this.index-1):null}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(E){if(this.root!=E.root)return'different';const O=f.i(C.a)(this.path,E.path);return'same'===O?'same':'prefix'===O?'before':'extension'===O?'after':this.path[O]<E.path[O]?'before':'after'}getLastMatchingPosition(E,O={}){O.startPosition=this;const R=new h.a(O);return R.skip(E),R.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){return this.parent.is('documentFragment')?[this.parent]:this.parent.getAncestors({includeNode:!0})}getCommonPath(E){if(this.root!=E.root)return[];let O=f.i(C.a)(this.path,E.path),R='string'==typeof O?_Mathmin(this.path.length,E.path.length):O;return this.path.slice(0,R)}getShiftedBy(E){let O=S.createFromPosition(this),R=O.offset+E;return O.offset=0>R?0:R,O}isAfter(E){return'after'==this.compareWith(E)}isBefore(E){return'before'==this.compareWith(E)}isEqual(E){return'same'==this.compareWith(E)}isTouching(E){let O=null,R=null,V=this.compareWith(E);switch(V){case'same':return!0;case'before':O=S.createFromPosition(this),R=S.createFromPosition(E);break;case'after':O=S.createFromPosition(E),R=S.createFromPosition(this);break;default:return!1;}for(let F=O.parent;O.path.length+R.path.length;){if(O.isEqual(R))return!0;if(O.path.length>R.path.length){if(O.offset!==F.maxOffset)return!1;O.path=O.path.slice(0,-1),F=F.parent,O.offset++}else{if(0!==R.offset)return!1;R.path=R.path.slice(0,-1)}}}_getTransformedByDeletion(E,O){let R=S.createFromPosition(this);if(this.root!=E.root)return R;if('same'==f.i(C.a)(E.getParentPath(),this.getParentPath())){if(E.offset<this.offset){if(E.offset+O>this.offset)return null;R.offset-=O}}else if('prefix'==f.i(C.a)(E.getParentPath(),this.getParentPath())){const V=E.path.length-1;if(E.offset<=this.path[V]){if(E.offset+O>this.path[V])return null;R.path[V]-=O}}return R}_getTransformedByInsertion(E,O,R){let V=S.createFromPosition(this);if(this.root!=E.root)return V;if('same'==f.i(C.a)(E.getParentPath(),this.getParentPath()))(E.offset<this.offset||E.offset==this.offset&&R)&&(V.offset+=O);else if('prefix'==f.i(C.a)(E.getParentPath(),this.getParentPath())){const F=E.path.length-1;E.offset<=this.path[F]&&(V.path[F]+=O)}return V}_getTransformedByMove(E,O,R,V,F){let I=this._getTransformedByDeletion(E,R);return O=O._getTransformedByDeletion(E,R),I=null===I||F&&I.isEqual(E)?this._getCombined(E,O):I._getTransformedByInsertion(O,R,V),I}_getCombined(E,O){const R=E.path.length-1;let V=S.createFromPosition(O);return V.offset=V.offset+this.path[R]-E.offset,V.path=V.path.concat(this.path.slice(R+1)),V}static createAt(E,O){if(E instanceof S)return this.createFromPosition(E);const R=E;if('end'==O)O=R.maxOffset;else{if('before'==O)return this.createBefore(R);if('after'==O)return this.createAfter(R);O||(O=0)}return this.createFromParentAndOffset(R,O)}static createAfter(E){if(!E.parent)throw new T.a('model-position-after-root: You can not make position after root.',{root:E});return this.createFromParentAndOffset(E.parent,E.endOffset)}static createBefore(E){if(!E.parent)throw new T.a('model-position-before-root: You can not make position before root.',{root:E});return this.createFromParentAndOffset(E.parent,E.startOffset)}static createFromParentAndOffset(E,O){if(!E.is('element')&&!E.is('documentFragment'))throw new T.a('model-position-parent-incorrect: Position parent have to be a element or document fragment.');const R=E.getPath();return R.push(O),new this(E.root,R)}static createFromPosition(E){return new this(E.root,E.path.slice())}static fromJSON(E,O){if('$graveyard'===E.root)return new S(O.graveyard,E.path);if(!O.hasRoot(E.root))throw new T.a('model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.',{rootName:E.root});return new S(O.getRoot(E.root),E.path)}}u.a=S},function(r,u,f){'use strict';var h=f(1),w=f(35),C=f(0);class T{constructor(P,S=null){this.start=h.a.createFromPosition(P),this.end=S?h.a.createFromPosition(S):h.a.createFromPosition(P)}*[Symbol.iterator](){yield*new w.a({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}containsPosition(P){return P.isAfter(this.start)&&P.isBefore(this.end)}containsRange(P){return this.containsPosition(P.start)&&this.containsPosition(P.end)}isEqual(P){return this.start.isEqual(P.start)&&this.end.isEqual(P.end)}isIntersecting(P){return this.start.isBefore(P.end)&&this.end.isAfter(P.start)}getDifference(P){const S=[];return this.isIntersecting(P)?(this.containsPosition(P.start)&&S.push(new T(this.start,P.start)),this.containsPosition(P.end)&&S.push(new T(P.end,this.end))):S.push(T.createFromRange(this)),S}getIntersection(P){if(this.isIntersecting(P)){let S=this.start,E=this.end;return this.containsPosition(P.start)&&(S=P.start),this.containsPosition(P.end)&&(E=P.end),new T(S,E)}return null}getMinimalFlatRanges(){const P=[],S=this.start.getCommonPath(this.end).length;let E=h.a.createFromPosition(this.start),O=E.parent;for(;E.path.length>S+1;){let R=O.maxOffset-E.offset;0!=R&&P.push(new T(E,E.getShiftedBy(R))),E.path=E.path.slice(0,-1),E.offset++,O=O.parent}for(;E.path.length<=this.end.path.length;){let R=this.end.path[E.path.length-1],V=R-E.offset;0!=V&&P.push(new T(E,E.getShiftedBy(V))),E.offset=R,E.path.push(0)}return P}getWalker(P={}){return P.boundaries=this,new w.a(P)}*getItems(P={}){P.boundaries=this,P.ignoreElementEnd=!0;const S=new w.a(P);for(let E of S)yield E.item}*getPositions(P={}){P.boundaries=this;const S=new w.a(P);yield S.position;for(let E of S)yield E.nextPosition}getTransformedByDelta(P){let S=[T.createFromRange(this)];const E=new Set(['insert','move','remove','reinsert']);for(let O of P.operations)if(E.has(O.type))for(let R=0;R<S.length;R++){const V=S[R]._getTransformedByDocumentChange(O.type,P.type,O.targetPosition||O.position,O.howMany||O.nodes.maxOffset,O.sourcePosition);S.splice(R,1,...V),R+=V.length-1}return S}getTransformedByDeltas(P){let S=[T.createFromRange(this)];for(let E of P)for(let O=0,R;O<S.length;O++)R=S[O].getTransformedByDelta(E),S.splice(O,1,...R),O+=R.length-1;for(let E=0;E<S.length;E++){const O=S[E];for(let R=E+1;R<S.length;R++){const V=S[R];(O.containsRange(V)||V.containsRange(O)||O.isEqual(V))&&S.splice(R,1)}}return S}_getTransformedByDocumentChange(P,S,E,O,R){if('insert'==P)return this._getTransformedByInsertion(E,O,!1,!1);const V=T.createFromPositionAndShift(R,O);if('merge'==S&&this.isCollapsed&&(this.start.isEqual(V.start)||this.start.isEqual(V.end)))return[new T(E.getShiftedBy(this.start.offset))];if('move'==P){if(V.containsPosition(this.start)&&this.containsPosition(V.end)&&this.end.isAfter(E)){let F=this.start._getCombined(R,E._getTransformedByDeletion(R,O));const I=this.end._getTransformedByMove(R,E,O,!1,!1);return[new T(F,I)]}if(V.containsPosition(this.end)&&this.containsPosition(V.start)&&this.start.isBefore(E)){const F=this.start._getTransformedByMove(R,E,O,!0,!1);let I=this.end._getCombined(R,E._getTransformedByDeletion(R,O));return[new T(F,I)]}}return this._getTransformedByMove(R,E,O)}_getTransformedByInsertion(P,S,E=!1,O=!1){if(E&&this.containsPosition(P))return[new T(this.start,P),new T(P._getTransformedByInsertion(P,S,!0),this.end._getTransformedByInsertion(P,S,this.isCollapsed))];const R=T.createFromRange(this);let V=!!R.isCollapsed||!O,F=!!R.isCollapsed||O;return R.start=R.start._getTransformedByInsertion(P,S,V),R.end=R.end._getTransformedByInsertion(P,S,F),[R]}_getTransformedByMove(P,S,E){if(this.isCollapsed){const M=this.start._getTransformedByMove(P,S,E,!0,!1);return[new T(M)]}let O;const R=new T(P,P.getShiftedBy(E)),V=this.getDifference(R);let F=null;const I=this.getIntersection(R);1==V.length?F=new T(V[0].start._getTransformedByDeletion(P,E),V[0].end._getTransformedByDeletion(P,E)):2==V.length&&(F=new T(this.start,this.end._getTransformedByDeletion(P,E)));const N=S._getTransformedByDeletion(P,E);return O=F?F._getTransformedByInsertion(N,E,null!==I):[],I&&O.push(new T(I.start._getCombined(R.start,N),I.end._getCombined(R.start,N))),O}static createFromPositionAndShift(P,S){const E=P,O=P.getShiftedBy(S);return 0<S?new this(E,O):new this(O,E)}static createFromParentsAndOffsets(P,S,E,O){return new this(h.a.createFromParentAndOffset(P,S),h.a.createFromParentAndOffset(E,O))}static createFromRange(P){return new this(P.start,P.end)}static createIn(P){return this.createFromParentsAndOffsets(P,0,P,P.maxOffset)}static createOn(P){return this.createFromPositionAndShift(h.a.createBefore(P),P.offsetSize)}static createFromRanges(P){if(0===P.length)throw new C.a('range-create-from-ranges-empty-array: At least one range has to be passed.');else if(1==P.length)return this.createFromRange(P[0]);const S=P[0];P.sort((R,V)=>R.start.isAfter(V.start));const E=P.indexOf(S),O=new this(S.start,S.end);for(let R=E-1;0<=R&&P[R].end.isEqual(O.start);R++)O.start=h.a.createFromPosition(P[R].start);for(let R=E+1;R<P.length&&P[R].start.isEqual(O.end);R++)O.end=h.a.createFromPosition(P[R].end);return O}static fromJSON(P,S){return new this(h.a.fromJSON(P.start,S),h.a.fromJSON(P.end,S))}}u.a=T},function(r,u,f){'use strict';var h=f(31),w=f(4);class C{constructor(T){this.editor=T}init(){}afterInit(){}destroy(){}}u.a=C,f.i(w.a)(C,h.a)},function(r,u){'use strict';u.a=function(w,...C){C.forEach((T)=>{Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T)).forEach((P)=>{if(!(P in w.prototype)){const S=Object.getOwnPropertyDescriptor(T,P);S.enumerable=!1,Object.defineProperty(w.prototype,P,S)}})})}},function(r,u,f){'use strict';function h(E){return'string'==typeof E?[new T.a(E)]:(f.i(P.a)(E)||(E=[E]),Array.from(E).map((O)=>'string'==typeof O?new T.a(O):O))}var w=f(58),C=f(73),T=f(24),P=f(43);class S extends w.a{constructor(E,O,R){super(O),this.name=E,this._children=new C.a,R&&this.insertChildren(0,R)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(E,O=null){return O?'element'==E&&O==this.name:'element'==E||E==this.name}getChild(E){return this._children.getNode(E)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(E){return this._children.getNodeIndex(E)}getChildStartOffset(E){return this._children.getNodeStartOffset(E)}clone(E=!1){const O=E?Array.from(this._children).map((R)=>R.clone()):Array.from(this._children);return new S(this.name,this.getAttributes(),O)}offsetToIndex(E){return this._children.offsetToIndex(E)}appendChildren(E){this.insertChildren(this.childCount,E)}insertChildren(E,O){O=h(O);for(let R of O)R.parent=this;this._children.insertNodes(E,O)}removeChildren(E,O=1){const R=this._children.removeNodes(E,O);for(let V of R)V.parent=null;return R}getNodeByPath(E){let O=this;for(const R of E)O=O.getChild(R);return O}toJSON(){let E=super.toJSON();if(E.name=this.name,0<this._children.length){E.children=[];for(let O of this._children)E.children.push(O.toJSON())}return E}static fromJSON(E){let O=null;if(E.children){O=[];for(let R of E.children)R.name?O.push(S.fromJSON(R)):O.push(T.a.fromJSON(R))}return new S(E.name,E.attributes,O)}}u.a=S},function(r,u,f){'use strict';function h(le){return!!le&&((le.value&&(le=le.value),Array.isArray(le))?le.some(h):!!(le instanceof ie))}function w(le,de){return le.map((ce)=>{return ce instanceof ie?ce.getValue(de):ce})}function C(le,de,{node:ce}){let ue=w(le,ce);ue=1==le.length&&le[0]instanceof se?ue[0]:ue.reduce(M,''),$(ue)?de.remove():de.set(ue)}function T(le){return{set(de){le.textContent=de},remove(){le.textContent=''}}}function P(le,de,ce){return{set(ue){le.setAttributeNS(ce,de,ue)},remove(){le.removeAttributeNS(ce,de)}}}function S(le,de){return{set(ce){le.style[de]=ce},remove(){le.style[de]=null}}}function E(le){const de=f.i(ee.a)(le,(ce)=>{if(ce&&(ce instanceof ie||U(ce)||q(ce)||K(ce)))return ce});return de}function O(le){if('string'==typeof le?le=F(le):le.text&&I(le),le.on&&(le.eventListeners=V(le.on),delete le.on),!le.text){le.attributes&&R(le.attributes);const de=new J.a;if(le.children)if(K(le.children))de.add(le.children);else for(let ce of le.children)U(ce)||q(ce)?de.add(ce):de.add(new oe(ce));le.children=de}return le}function R(le){for(let de in le)le[de].value&&(le[de].value=[].concat(le[de].value)),N(le,de)}function V(le){for(let de in le)N(le,de);return le}function F(le){return{text:[le]}}function I(le){Array.isArray(le.text)||(le.text=[le.text])}function N(le,de){Array.isArray(le[de])||(le[de]=[le[de]])}function M(le,de){return $(de)?le:$(le)?de:`${le} ${de}`}function D(le,de){for(let ce in de)le[ce]?le[ce].push(...de[ce]):le[ce]=de[ce]}function z(le,de){if(de.attributes&&(!le.attributes&&(le.attributes={}),D(le.attributes,de.attributes)),de.eventListeners&&(!le.eventListeners&&(le.eventListeners={}),D(le.eventListeners,de.eventListeners)),de.text&&le.text.push(...de.text),de.children&&de.children.length){if(le.children.length!=de.children.length)throw new W.a('ui-template-extend-children-mismatch: The number of children in extended definition does not match.');let ce=0;for(let ue of de.children)z(le.children.get(ce++),ue)}}function $(le){return!le&&0!==le}function q(le){return le instanceof X.a}function U(le){return le instanceof oe}function K(le){return le instanceof Q.a}function H(){return{children:[],bindings:[],attributes:{}}}function Y(le){return'class'==le||'style'==le}var W=f(0),Z=f(4),G=f(7),J=f(79),X=f(9),Q=f(120),ee=f(513),te=f(15),ae=f(48);class oe{constructor(le){Object.assign(this,O(E(le))),this._isRendered=!1,this._revertData=null}render(){const le=this._renderNode({intoFragment:!0});return this._isRendered=!0,le}apply(le){return this._revertData=H(),this._renderNode({node:le,isApplying:!0,revertData:this._revertData}),le}revert(le){if(!this._revertData)throw new W.a('ui-template-revert-not-applied: Attempting reverting a template which has not been applied yet.');this._revertTemplateFromNode(le,this._revertData)}static bind(le,de){return{to(ce,ue){return new re({eventNameOrFunction:ce,attribute:ce,observable:le,emitter:de,callback:ue})},if(ce,ue,pe){return new se({observable:le,emitter:de,attribute:ce,valueIfTrue:ue,callback:pe})}}}static extend(le,de){le._isRendered&&ae.a.warn('template-extend-render: Attempting to extend a template which has already been rendered.'),z(le,O(E(de)))}_renderNode(le){let de;if(de=le.node?this.tag&&this.text:this.tag?this.text:!this.text,de)throw new W.a('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering new Node.');return this.text?this._renderText(le):this._renderElement(le)}_renderElement(le){let de=le.node;return de||(de=le.node=document.createElementNS(this.ns||'http://www.w3.org/1999/xhtml',this.tag)),this._renderAttributes(le),this._renderElementChildren(le),this._setUpListeners(le),de}_renderText(le){let de=le.node;return de?le.revertData.text=de.textContent:de=le.node=document.createTextNode(''),h(this.text)?this._bindToObservable({schema:this.text,updater:T(de),data:le}):de.textContent=this.text.join(''),de}_renderAttributes(le){let de,ce,ue,pe;if(this.attributes){const me=le.node,ge=le.revertData;for(de in this.attributes)if(ue=me.getAttribute(de),ce=this.attributes[de],ge&&(ge.attributes[de]=ue),pe=f.i(te.a)(ce[0])&&ce[0].ns?ce[0].ns:null,h(ce)){const fe=pe?ce[0].value:ce;ge&&Y(de)&&fe.unshift(ue),this._bindToObservable({schema:fe,updater:P(me,de,pe),data:le})}else'style'==de&&'string'!=typeof ce[0]?this._renderStyleAttribute(ce[0],le):(ge&&ue&&Y(de)&&ce.unshift(ue),ce=ce.map((fe)=>fe?fe.value||fe:fe).reduce((fe,he)=>fe.concat(he),[]).reduce(M,''),$(ce)||me.setAttributeNS(pe,de,ce))}}_renderStyleAttribute(le,de){const ce=de.node;for(let ue in le){const pe=le[ue];h(pe)?this._bindToObservable({schema:[pe],updater:S(ce,ue),data:de}):ce.style[ue]=pe}}_renderElementChildren(le){const de=le.node,ce=le.intoFragment?document.createDocumentFragment():de,ue=le.isApplying;let pe=0;for(let me of this.children)if(K(me)){if(!ue){me.setParent(de);for(let ge of me)ce.appendChild(ge.element)}}else if(q(me))ue||ce.appendChild(me.element);else if(ue){const ge=le.revertData,fe=H();ge.children.push(fe),me._renderNode({node:ce.childNodes[pe++],isApplying:!0,revertData:fe})}else ce.appendChild(me.render());le.intoFragment&&de.appendChild(ce)}_setUpListeners(le){if(this.eventListeners)for(let de in this.eventListeners){const ce=this.eventListeners[de].map((ue)=>{const[pe,me]=de.split('@');return ue.activateDomEventListener(pe,me,le)});le.revertData&&le.revertData.bindings.push(ce)}}_bindToObservable({schema:le,updater:de,data:ce}){const ue=ce.revertData;C(le,de,ce);const pe=le.filter((me)=>!$(me)).filter((me)=>me.observable).map((me)=>me.activateAttributeListener(le,de,ce));ue&&ue.bindings.push(pe)}_revertTemplateFromNode(le,de){for(let ce of de.bindings)for(let ue of ce)ue();if(de.text)return void(le.textContent=de.text);for(let ce in de.attributes){const ue=de.attributes[ce];null===ue?le.removeAttribute(ce):le.setAttribute(ce,ue)}for(let ce=0;ce<de.children.length;++ce)this._revertTemplateFromNode(le.childNodes[ce],de.children[ce])}}u.a=oe,f.i(Z.a)(oe,G.a);class ie{constructor(le){Object.assign(this,le)}getValue(le){const de=this.observable[this.attribute];return this.callback?this.callback(de,le):de}activateAttributeListener(le,de,ce){const ue=()=>C(le,de,ce);return this.emitter.listenTo(this.observable,'change:'+this.attribute,ue),()=>{this.emitter.stopListening(this.observable,'change:'+this.attribute,ue)}}}class re extends ie{activateDomEventListener(le,de,ce){const ue=(pe,me)=>{(!de||me.target.matches(de))&&('function'==typeof this.eventNameOrFunction?this.eventNameOrFunction(me):this.observable.fire(this.eventNameOrFunction,me))};return this.emitter.listenTo(ce.node,le,ue),()=>{this.emitter.stopListening(ce.node,le,ue)}}}class se extends ie{getValue(le){const de=super.getValue(le);return!$(de)&&(this.valueIfTrue||!0)}}},function(r,u,f){'use strict';function w(z,$){z[M]||(z[M]=$||f.i(F.a)())}function C(z){return z[M]}function T(z){return z._events||Object.defineProperty(z,'_events',{value:{}}),z._events}function P(){return{callbacks:[],childEvents:[]}}function S(z,$){const q=T(z);if(q[$])return;let U=$,K=null;const H=[];for(;''!==U&&!q[U];)q[U]=P(),H.push(q[U]),K&&q[U].childEvents.push(K),K=U,U=U.substr(0,U.lastIndexOf(':'));if(''!==U){for(let Y of H)Y.callbacks=q[U].callbacks.slice();q[U].childEvents.push(K)}}function E(z,$){const q=T(z)[$];if(!q)return[];let U=[q.callbacks];for(let K=0,H;K<q.childEvents.length;K++)H=E(z,q.childEvents[K]),U=U.concat(H);return U}function O(z,$){let q;return z._events&&(q=z._events[$])&&q.callbacks.length?q.callbacks:-1<$.indexOf(':')?O(z,$.substr(0,$.lastIndexOf(':'))):null}function R(z,$,q){for(let[U,K]of z){K?'function'==typeof K&&(K=K($.name)):K=$.name;const H=new V.a($.source,K);H.path=[...$.path],U.fire(H,...q)}}var V=f(431),F=f(71),I=f(532);u.b=function(z,$){return z[N]&&z[N][$]?z[N][$].emitter:null},u.c=w;const N=Symbol('listeningTo'),M=Symbol('emitterId'),D={on(z,$,q={}){S(this,z);const U=E(this,z),K=I.a.get(q.priority);$={callback:$,context:q.context||this,priority:K};for(let H of U){let Y=!1;for(let W=0;W<H.length;W++)if(H[W].priority<K){H.splice(W,0,$),Y=!0;break}Y||H.push($)}},once(z,$,q){this.on(z,function(K){K.off(),$.apply(this,arguments)},q)},off(z,$,q){const U=E(this,z);for(let K of U)for(let H=0;H<K.length;H++)K[H].callback==$&&(q&&q!=K[H].context||(K.splice(H,1),H--))},listenTo(z,$,q,U){let K,H,Y,W;this[N]||(this[N]={}),K=this[N],C(z)||w(z),H=C(z),(Y=K[H])||(Y=K[H]={emitter:z,callbacks:{}}),(W=Y.callbacks[$])||(W=Y.callbacks[$]=[]),W.push(q),z.on($,q,U)},stopListening(z,$,q){let U=this[N],K=z&&C(z),H=U&&K&&U[K],Y=H&&$&&H.callbacks[$];if(U&&(!z||H)&&(!$||Y))if(q)z.off($,q);else if(Y){for(;q=Y.pop();)z.off($,q);delete H.callbacks[$]}else if(H){for($ in H.callbacks)this.stopListening(z,$);delete U[K]}else{for(K in U)this.stopListening(U[K].emitter);delete this[N]}},fire(z,...$){const q=z instanceof V.a?z:new V.a(this,z),U=q.name;let K=O(this,U);if(q.path.push(this),K){const H=[q,...$];K=Array.from(K);for(let Y=0;Y<K.length&&(K[Y].callback.apply(K[Y].context,H),q.off.called&&(delete q.off.called,this.off(U,K[Y].callback,K[Y].context)),!q.stop.called);Y++);}if(this._delegations){const H=this._delegations.get(U),Y=this._delegations.get('*');H&&R(H,q,$),Y&&R(Y,q,$)}},delegate(...z){return{to:($,q)=>{this._delegations||(this._delegations=new Map);for(let U of z){let K=this._delegations.get(U);K?K.set($,q):this._delegations.set(U,new Map([[$,q]]))}}}},stopDelegating(z,$){if(this._delegations)if(!z)this._delegations.clear();else if(!$)this._delegations.delete(z);else{const q=this._delegations.get(z);q&&q.delete($)}}};u.a=D},function(r,u,f){'use strict';var w=f(195),C=f(16),P=_Mathmax;u.a=function(S,E){if('function'!=typeof S)throw new TypeError('Expected a function');return E=P(void 0===E?S.length-1:f.i(C.a)(E),0),function(){for(var O=arguments,R=-1,V=P(O.length-E,0),F=Array(V);++R<V;)F[R]=O[E+R];switch(E){case 0:return S.call(this,F);case 1:return S.call(this,O[0],F);case 2:return S.call(this,O[0],O[1],F);}var I=Array(E+1);for(R=-1;++R<E;)I[R]=O[R];return I[E]=F,f.i(w.a)(S,this,I)}}},function(r,u,f){'use strict';var h=f(0),w=f(120),C=f(6),T=f(80),P=f(31),S=f(79),E=f(4),O=f(43);class R{constructor(V){this.locale=V,this.t=V&&V.t,this.set('ready',!1),this._viewCollections=new S.a,this._unboundChildren=this.createCollection(),this._viewCollections.on('add',(F,I)=>{I.locale=V})}get element(){return this._element?this._element:this.template?(this._addTemplateChildren(),this._element=this.template.render()):null}set element(V){this._element=V}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=C.a.bind(this,this)}createCollection(){const V=new w.a;return this._viewCollections.add(V),V}addChildren(V){f.i(O.a)(V)||(V=[V]);for(let F of V)this._unboundChildren.add(F)}init(){if(this.ready)throw new h.a('ui-view-init-reinit: This View has already been initialized.');return Promise.resolve().then(()=>{return Promise.all(this._viewCollections.map((V)=>V.init()))}).then(()=>{this.ready=!0})}destroy(){this.stopListening();const V=this._viewCollections.map((F)=>F.destroy());return this._unboundChildren.clear(),this._viewCollections.clear(),this.element=this.template=this.locale=this.t=this._viewCollections=this._unboundChildren=null,Promise.all(V)}_addTemplateChildren(){const V=(F)=>{if(F.children)for(let I of F.children)I instanceof R?this.addChildren(I):V(I)};V(this.template)}}u.a=R,f.i(E.a)(R,T.a),f.i(E.a)(R,P.a)},function(r,u,f){'use strict';var w=f(453),C=f(454),T=f(229),P=f(11),S=f(524);u.a=function(E){return'function'==typeof E?E:null==E?T.a:'object'==typeof E?f.i(P.a)(E)?f.i(C.a)(E[0],E[1]):f.i(w.a)(E):f.i(S.a)(E)}},function(r,u){'use strict';var h=Array.isArray;u.a=h},function(r,u,f){'use strict';function h(P,S){S.isEnabled=!1}var w=f(31),C=f(4);class T{constructor(P){this.editor=P,this.set('isEnabled',!0),this._checkEnabled&&this.on('refreshState',(S,E)=>{E.isEnabled=this._checkEnabled()})}destroy(){this.stopListening()}refreshState(){const P={isEnabled:!0};this.fire('refreshState',P),this.isEnabled=P.isEnabled}_execute(P){this.isEnabled&&this._doExecute(P)}_disable(){this.on('refreshState',h),this.refreshState()}_enable(){this.off('refreshState',h),this.refreshState()}_doExecute(){}}u.a=T,f.i(C.a)(T,w.a)},function(r,u,f){'use strict';function w(q){if(!q.isFlat)throw new z.a('model-writer-remove-range-not-flat: Trying to remove a range that starts and ends in different element.');const U=q.start.parent;O(q.start),O(q.end);const K=U.removeChildren(q.start.index,q.end.index-q.start.index);return E(U,q.start.index),K}function S(q){const U=[];q instanceof Array||(q=[q]);for(let K=0;K<q.length;K++)if('string'==typeof q[K])U.push(new F.a(q[K]));else if(q[K]instanceof I.a)U.push(new F.a(q[K].data,q[K].getAttributes()));else if(q[K]instanceof M.a||q[K]instanceof D.a)for(let H of q[K])U.push(H);else q[K]instanceof V.a&&U.push(q[K]);for(let K=1;K<U.length;K++){const H=U[K],Y=U[K-1];H instanceof F.a&&Y instanceof F.a&&R(H,Y)&&(U.splice(K-1,2,new F.a(Y.data+H.data,Y.getAttributes())),K--)}return U}function E(q,U){const K=q.getChild(U-1),H=q.getChild(U);if(K&&H&&K.is('text')&&H.is('text')&&R(K,H)){const Y=new F.a(K.data+H.data,K.getAttributes());q.removeChildren(U-1,2),q.insertChildren(U-1,Y)}}function O(q){const U=q.textNode,K=q.parent;if(U){const H=q.offset-U.startOffset,Y=U.index;K.removeChildren(Y,1);const W=new F.a(U.data.substr(0,H),U.getAttributes()),Z=new F.a(U.data.substr(H),U.getAttributes());K.insertChildren(Y,[W,Z])}}function R(q,U){const K=q.getAttributes(),H=U.getAttributes();for(let Y of K){if(Y[1]!==U.getAttribute(Y[0]))return!1;H.next()}return H.next().done}var V=f(58),F=f(24),I=f(60),N=f(2),M=f(51),D=f(73),z=f(0);u.c=w,u.b=S;u.a={insert:function(q,U){U=S(U);const K=U.reduce((W,Z)=>W+Z.offsetSize,0),H=q.parent;O(q);const Y=q.index;return H.insertChildren(Y,U),E(H,Y+U.length),E(H,Y),new N.a(q,q.getShiftedBy(K))},remove:w,move:function(q,U){if(!q.isFlat)throw new z.a('model-writer-move-range-not-flat: Trying to move a range that starts and ends in different element.');const K=this.remove(q);return U=U._getTransformedByDeletion(q.start,q.end.offset-q.start.offset),this.insert(U,K)},setAttribute:function(q,U,K){O(q.start),O(q.end);for(let H of q.getItems()){let Y=H.is('textProxy')?H.textNode:H;null===K?Y.removeAttribute(U):Y.setAttribute(U,K),E(Y.parent,Y.index)}E(q.end.parent,q.end.index)},removeAttribute:function(q,U){this.setAttribute(q,U,null)},normalizeNodes:S}},function(r,u,f){'use strict';var w=f(97),C=f(46);u.a=function(T){return f.i(C.a)(T)&&f.i(w.a)(T)}},function(r,u){'use strict';u.a=function(w){var C=typeof w;return!!w&&('object'==C||'function'==C)}},function(r,u,f){'use strict';var w=f(526);u.a=function(C){var T=f.i(w.a)(C),P=T%1;return T===T?P?T-P:T:0}},function(r,u,f){'use strict';var w=f(0);u.b=function(T,P){if(C.prototype[T])throw new w.a('model-batch-register-taken: This batch method name is already taken.',{name:T});C.prototype[T]=P};class C{constructor(T,P='default'){this.document=T,this.deltas=[],this.type=P}get baseVersion(){return 0<this.deltas.length?this.deltas[0].baseVersion:null}addDelta(T){return T.batch=this,this.deltas.push(T),T}*getOperations(){for(let T of this.deltas)yield*T.operations}}u.a=C},function(r,u,f){'use strict';var h=f(0),w=f(355);const C=new Map;u.a=class{static fromJSON(P,S){if(!C.has(P.__className))throw new h.a('delta-fromjson-no-deserializer: This delta has no defined deserializer',{name:P.__className});let E=C.get(P.__className),O=new E;for(let R of P.operations)O.addOperation(w.a.fromJSON(R,S));return O}static register(P){C.set(P.className,P)}}},function(r,u){'use strict';u.a=function(w){var C=w?w.length:0;return C?w[C-1]:void 0}},function(r,u,f){'use strict';var h=f(96),w=f(18);class C{constructor(){this.batch=null,this.operations=[]}get baseVersion(){return 0<this.operations.length?this.operations[0].baseVersion:null}set baseVersion(T){for(let P of this.operations)P.baseVersion=T++}get _reverseDeltaClass(){return C}addOperation(T){return T.delta=this,this.operations.push(T),T}clone(){let T=new this.constructor;for(let P of this.operations)T.addOperation(P.clone());return T}getReversed(){let T=new this._reverseDeltaClass;for(let P of this.operations)T.addOperation(P.getReversed());T.operations.reverse();for(let P=0;P<T.operations.length;P++)T.operations[P].baseVersion=this.operations[this.operations.length-1].baseVersion+P+1;return T}toJSON(){let T=f.i(h.a)(this);return T.__className=this.constructor.className,delete T.batch,T}static get className(){return'engine.model.delta.Delta'}static get _priority(){return 0}}u.a=C,w.a.register(C)},function(r,u,f){'use strict';function h(F,I){const N=/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g;let M;for(F.clear();null!==(M=N.exec(I));)F.set(M[1],M[2].trim())}function w(F,I){const N=I.split(/\s+/);F.clear(),N.forEach((M)=>F.add(M))}function C(F){return'string'==typeof F?[new P.a(F)]:(f.i(E.a)(F)||(F=[F]),Array.from(F).map((I)=>'string'==typeof I?new P.a(I):I))}var T=f(77),P=f(29),S=f(274),E=f(43),O=f(99),R=f(171);class V extends T.a{constructor(F,I,N){if(super(),this.name=F,this._attrs=f.i(O.a)(I)?f.i(S.a)(I):new Map(I),this._children=[],N&&this.insertChildren(0,N),this._classes=new Set,this._attrs.has('class')){const M=this._attrs.get('class');w(this._classes,M),this._attrs.delete('class')}this._styles=new Map,this._attrs.has('style')&&(h(this._styles,this._attrs.get('style')),this._attrs.delete('style')),this._customProperties=new Map}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}is(F,I=null){return I?'element'==F&&I==this.name:'element'==F||F==this.name}clone(F){const I=[];if(F)for(let M of this.getChildren())I.push(M.clone(F));const N=new this.constructor(this.name,this._attrs,I);return N._classes=new Set(this._classes),N._styles=new Map(this._styles),N._customProperties=new Map(this._customProperties),N.getFillerOffset=this.getFillerOffset,N}appendChildren(F){return this.insertChildren(this.childCount,F)}getChild(F){return this._children[F]}getChildIndex(F){return this._children.indexOf(F)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){0<this._classes.size&&(yield'class'),0<this._styles.size&&(yield'style');for(let F of this._attrs.keys())yield F}*getAttributes(){yield*this._attrs.entries(),0<this._classes.size&&(yield['class',this.getAttribute('class')]),0<this._styles.size&&(yield['style',this.getAttribute('style')])}getAttribute(F){if('class'==F)return 0<this._classes.size?[...this._classes].join(' '):void 0;if('style'==F){if(0<this._styles.size){let I='';for(let[N,M]of this._styles)I+=`${N}:${M};`;return I}return}return this._attrs.get(F)}hasAttribute(F){return'class'==F?0<this._classes.size:'style'==F?0<this._styles.size:this._attrs.has(F)}setAttribute(F,I){this._fireChange('attributes',this),'class'==F?w(this._classes,I):'style'==F?h(this._styles,I):this._attrs.set(F,I)}insertChildren(F,I){this._fireChange('children',this);let N=0;I=C(I);for(let M of I)M.parent=this,this._children.splice(F,0,M),F++,N++;return N}removeAttribute(F){return this._fireChange('attributes',this),'class'==F?!!(0<this._classes.size)&&(this._classes.clear(),!0):'style'==F?!!(0<this._styles.size)&&(this._styles.clear(),!0):this._attrs.delete(F)}removeChildren(F,I=1){this._fireChange('children',this);for(let N=F;N<F+I;N++)this._children[N].parent=null;return this._children.splice(F,I)}isSimilar(F){if(!(F instanceof V))return!1;if(this===F)return!0;if(this.name!=F.name)return!1;if(this._attrs.size!==F._attrs.size||this._classes.size!==F._classes.size||this._styles.size!==F._styles.size)return!1;for(let[I,N]of this._attrs)if(!F._attrs.has(I)||F._attrs.get(I)!==N)return!1;for(let I of this._classes)if(!F._classes.has(I))return!1;for(let[I,N]of this._styles)if(!F._styles.has(I)||F._styles.get(I)!==N)return!1;return!0}addClass(...F){this._fireChange('attributes',this),F.forEach((I)=>this._classes.add(I))}removeClass(...F){this._fireChange('attributes',this),F.forEach((I)=>this._classes.delete(I))}hasClass(...F){for(let I of F)if(!this._classes.has(I))return!1;return!0}getClassNames(){return this._classes.keys()}setStyle(F,I){if(this._fireChange('attributes',this),f.i(O.a)(F)){const N=Object.keys(F);for(let M of N)this._styles.set(M,F[M])}else this._styles.set(F,I)}getStyle(F){return this._styles.get(F)}getStyleNames(){return this._styles.keys()}hasStyle(...F){for(let I of F)if(!this._styles.has(I))return!1;return!0}removeStyle(...F){this._fireChange('attributes',this),F.forEach((I)=>this._styles.delete(I))}findAncestor(...F){const I=new R.a(...F);for(let N=this.parent;N;){if(I.match(N))return N;N=N.parent}return null}setCustomProperty(F,I){this._customProperties.set(F,I)}getCustomProperty(F){return this._customProperties.get(F)}removeCustomProperty(F){return this._customProperties.delete(F)}*getCustomProperties(){yield*this._customProperties.entries()}}u.a=V},function(r,u,f){'use strict';function h(R){let V;if('string'!=typeof R)V=R.keyCode+(R.altKey?O.alt:0)+(R.ctrlKey?O.ctrl:0)+(R.shiftKey?O.shift:0);else if(V=O[R.toLowerCase()],!V)throw new S.a('keyboard-unknown-key: Unknown key name.',{key:R});return V}function P(R){return R.split(/\s*\+\s*/)}var S=f(0),E=f(430);u.c=h,u.d=function(R){return'string'==typeof R&&(R=P(R)),R.map((V)=>'string'==typeof V?h(V):V).reduce((V,F)=>F+V,0)},u.a=function(R){const V=P(R);return E.a.mac&&'ctrl'==V[0].toLowerCase()?'\u2318'+(V[1]||''):R};const O=function(){const R={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let V=65;90>=V;V++){const F=_StringfromCharCode(V);R[F.toLowerCase()]=V}for(let V=48;57>=V;V++)R[V-48]=V;for(let V=112;123>=V;V++)R['f'+(V-111)]=V;return R}();u.b=O},function(r,u,f){'use strict';function h(T,P,S,E,O){var R=-1,V=T.length;for(S||(S=C.a),O||(O=[]);++R<V;){var F=T[R];0<P&&S(F)?1<P?h(F,P-1,S,E,O):f.i(w.a)(O,F):!E&&(O[O.length]=F)}return O}var w=f(85),C=f(487);u.a=h},function(r,u,f){'use strict';var h=f(58);class w extends h.a{constructor(C,T){super(T),this.data=C||''}get offsetSize(){return this.data.length}is(C){return'text'==C}clone(){return new w(this.data,this.getAttributes())}toJSON(){let C=super.toJSON();return C.data=this.data,C}static fromJSON(C){return new w(C.data,C.attributes)}}u.a=w},function(r,u,f){'use strict';var h=f(53),w=f(64),C=f(0),T=f(76);class P{constructor(S,E){this.parent=S,this.offset=E}get nodeAfter(){return this.parent.is('text')?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is('text')?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const S=this.parent.is('text')?this.parent.data.length:this.parent.childCount;return this.offset===S}get root(){return this.parent.root}get editableElement(){let S=this.parent;for(;!(S instanceof T.a);)if(S.parent)S=S.parent;else return null;return S}getShiftedBy(S){let E=P.createFromPosition(this),O=E.offset+S;return E.offset=0>O?0:O,E}getLastMatchingPosition(S,E={}){E.startPosition=this;const O=new h.a(E);return O.skip(S),O.position}getAncestors(){return this.parent.is('documentFragment')?[this.parent]:this.parent.getAncestors({includeNode:!0})}isEqual(S){return this.parent==S.parent&&this.offset==S.offset}isBefore(S){return'before'==this.compareWith(S)}isAfter(S){return'after'==this.compareWith(S)}compareWith(S){if(this.isEqual(S))return'same';if(this.parent===S.parent)return 0>this.offset-S.offset?'before':'after';const E=this.getAncestors(),O=S.getAncestors(),R=f.i(w.a)(E,O);let V;switch(R){case 0:return'different';case'prefix':V=E.length-1;break;case'extension':V=O.length-1;break;default:V=R-1;}const F=E[V],I=E[V+1],N=O[V+1];if(F===this.parent){const D=this.offset-N.index;return 0>=D?'before':'after'}if(F===S.parent){const D=I.index-S.offset;return 0>D?'before':'after'}const M=I.index-N.index;return 0>M?'before':'after'}static createAt(S,E){if(S instanceof P)return this.createFromPosition(S);let O=S;if('end'==E)E=O.is('text')?O.data.length:O.childCount;else{if('before'==E)return this.createBefore(O);if('after'==E)return this.createAfter(O);E||(E=0)}return new P(O,E)}static createAfter(S){if(S.is('textProxy'))return new P(S.textNode,S.offsetInText+S.data.length);if(!S.parent)throw new C.a('view-position-after-root: You can not make position after root.',{root:S});return new P(S.parent,S.index+1)}static createBefore(S){if(S.is('textProxy'))return new P(S.textNode,S.offsetInText);if(!S.parent)throw new C.a('view-position-before-root: You can not make position before root.',{root:S});return new P(S.parent,S.index)}static createFromPosition(S){return new this(S.parent,S.offset)}}u.a=P},function(r,u,f){'use strict';var h=f(9),w=f(6),C=f(406),T=f(22);class P extends h.a{constructor(S){super(S),this.set('label'),this.set('keystroke'),this.set('tooltip'),this.set('type','button'),this.set('isOn',!1),this.set('isEnabled',!0),this.set('withText',!1),this.set('icon'),this.set('tabindex',-1),this.bind('_tooltipString').to(this,'tooltip',this,'label',this,'keystroke',this._getTooltipString.bind(this));const E=this.bindTemplate;this.template=new w.a({tag:'button',attributes:{class:['ck-button',E.if('_tooltipString','ck-tooltip_s'),E.to('isEnabled',(O)=>O?'ck-enabled':'ck-disabled'),E.to('isOn',(O)=>O?'ck-on':'ck-off'),E.if('withText','ck-button_with-text')],type:E.to('type',(O)=>O?O:'button'),'data-ck-tooltip':[E.to('_tooltipString')],tabindex:E.to('tabindex')},children:[{tag:'span',attributes:{class:['ck-button__label']},children:[{text:E.to('label')}]}],on:{mousedown:E.to((O)=>{O.preventDefault()}),click:E.to((O)=>{this.isEnabled?this.fire('execute'):O.preventDefault()})}})}init(){let S=Promise.resolve();if(this.icon&&!this.iconView){const E=this.iconView=new C.a;E.bind('content').to(this,'icon'),this.element.insertBefore(E.element,this.element.firstChild),S=S.then(()=>this.addChildren(E))}return S.then(()=>super.init())}focus(){this.element.focus()}_getTooltipString(S,E,O){if(S){if('string'==typeof S)return S;if(O&&(O=f.i(T.a)(O)),S instanceof Function)return S(E,O);if(!0===S)return`${E}${O?` (${O})`:''}`}return!1}}u.a=P},function(r,u){'use strict';u.a=function(w,C){for(var T=-1,P=w.length,S=Array(P);++T<P;)S[T]=C(w[T],T,w);return S}},function(r,u,f){'use strict';var h=f(34),w=f(1),C=f(2),T=f(0),P=f(64),S=f(13);class E extends h.a{constructor(O,R,V,F){super(F),this.sourcePosition=w.a.createFromPosition(O),this.howMany=R,this.targetPosition=w.a.createFromPosition(V),this.isSticky=!1}get type(){return'move'}clone(){const O=new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion);return O.isSticky=this.isSticky,O}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){let O=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);const R=new this.constructor(this.getMovedRangeStart(),this.howMany,O,this.baseVersion+1);return R.isSticky=this.isSticky,R}_execute(){let O=this.sourcePosition.parent,R=this.targetPosition.parent,V=this.sourcePosition.offset,F=this.targetPosition.offset;if(!O||!R)throw new T.a('move-operation-position-invalid: Source position or target position is invalid.');else if(V+this.howMany>O.maxOffset)throw new T.a('move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.');else if(O===R&&V<F&&F<V+this.howMany)throw new T.a('move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.');else if(this.sourcePosition.root==this.targetPosition.root&&'prefix'==f.i(P.a)(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){let N=this.sourcePosition.path.length-1;if(this.targetPosition.path[N]>=V&&this.targetPosition.path[N]<V+this.howMany)throw new T.a('move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.')}const I=S.a.move(C.a.createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition);return{sourcePosition:this.sourcePosition,range:I}}static get className(){return'engine.model.operation.MoveOperation'}static fromJSON(O,R){let V=w.a.fromJSON(O.sourcePosition,R),F=w.a.fromJSON(O.targetPosition,R);const I=new this(V,O.howMany,F,O.baseVersion);return O.isSticky&&(I.isSticky=!0),I}}u.a=E},function(r,u,f){'use strict';var h=f(77);class w extends h.a{constructor(C){super(),this._data=C}clone(){return new w(this.data)}is(C){return'text'==C}get data(){return this._data}set data(C){this._fireChange('text',this),this._data=C}isSimilar(C){return!!(C instanceof w)&&(this===C||this.data===C.data)}}u.a=w},function(r,u,f){'use strict';(function(h,w){var C=f(460),T={'function':!0,object:!0},P=T[typeof exports]&&exports&&!exports.nodeType?exports:void 0,S=T[typeof h]&&h&&!h.nodeType?h:void 0,E=f.i(C.a)(P&&S&&'object'==typeof w&&w),O=f.i(C.a)(T[typeof self]&&self),R=f.i(C.a)(T[typeof window]&&window),V=f.i(C.a)(T[typeof this]&&this),F=E||R!==(V&&V.window)&&R||O||V||Function('return this')();u.a=F}).call(u,f(158)(r),f(157))},function(r,u,f){'use strict';function h($){N in $||(Object.defineProperty($,N,{value:new Map}),Object.defineProperty($,M,{value:new Map}),Object.defineProperty($,D,{value:new Map}))}function w(...$){const q=T(...$),U=Array.from(this._bindings.keys()),K=U.length;if(!q.callback&&1<q.to.length)throw new V.a('observable-bind-to-no-callback: Binding multiple observables only possible with callback.');if(1<K&&q.callback)throw new V.a('observable-bind-to-extra-callback: Cannot bind multiple attributes and use a callback in one binding.');q.to.forEach((H)=>{if(H.attrs.length&&H.attrs.length!==K)throw new V.a('observable-bind-to-attrs-length: The number of attributes must match.');H.attrs.length||(H.attrs=this._bindAttrs)}),this._to=q.to,q.callback&&(this._bindings.get(U[0]).callback=q.callback),O(this._observable,this._to),S(this),this._bindAttrs.forEach((H)=>{E(this._observable,H)})}function C($){return $.every((q)=>'string'==typeof q)}function T(...$){if(!$.length)throw new V.a('observable-bind-to-parse-error: Invalid argument syntax in `to()`.');const q={to:[]};let U;return'function'==typeof $[$.length-1]&&(q.callback=$.pop()),$.forEach((K)=>{if('string'==typeof K)U.attrs.push(K);else if('object'==typeof K)U={observable:K,attrs:[]},q.to.push(U);else throw new V.a('observable-bind-to-parse-error: Invalid argument syntax in `to()`.')}),q}function P($,q,U,K){const H=$[M],Y=H.get(U),W=Y||{};W[K]||(W[K]=new Set),W[K].add(q),Y||H.set(U,W)}function S($){let q;$._bindings.forEach((U,K)=>{$._to.forEach((H)=>{q=H.attrs[U.callback?0:$._bindAttrs.indexOf(K)],U.to.push([H.observable,q]),P($._observable,U,H.observable,q)})})}function E($,q){const U=$[D],K=U.get(q);let H;K.callback?H=K.callback.apply($,K.to.map((Y)=>Y[0][Y[1]])):(H=K.to[0],H=H[0][H[1]]),$.hasOwnProperty(q)?$[q]=H:$.set(q,H)}function O($,q){q.forEach((U)=>{const K=$[M];let H;K.get(U.observable)||$.listenTo(U.observable,'change',(Y,W)=>{H=K.get(U.observable)[W],H&&H.forEach((Z)=>{E($,Z.attr)})})})}var R=f(7),V=f(0),F=f(45),I=f(15);const N=Symbol('attributes'),M=Symbol('boundObservables'),D=Symbol('boundAttributes'),z={set($,q){if(f.i(I.a)($))return void Object.keys($).forEach((K)=>{this.set(K,$[K])},this);h(this);const U=this[N];if($ in this&&!U.has($))throw new V.a('observable-set-cannot-override: Cannot override an existing property.');Object.defineProperty(this,$,{enumerable:!0,configurable:!0,get(){return U.get($)},set(K){const H=U.get($);H===K&&U.has($)||(U.set($,K),this.fire('change:'+$,$,K,H))}}),this[$]=q},bind(...$){if(!$.length||!C($))throw new V.a('observable-bind-wrong-attrs: All attributes must be strings.');if(new Set($).size!==$.length)throw new V.a('observable-bind-duplicate-attrs: Attributes must be unique.');h(this);const q=this[D];$.forEach((K)=>{if(q.has(K))throw new V.a('observable-bind-rebind: Cannot bind the same attribute more that once.')});const U=new Map;return $.forEach((K)=>{const H={attr:K,to:[]};q.set(K,H),U.set(K,H)}),{to:w,_observable:this,_bindAttrs:$,_to:[],_bindings:U}},unbind(...$){if(!(N in this))return;const q=this[D],U=this[M];if($.length){if(!C($))throw new V.a('observable-unbind-wrong-attrs: Attributes must be strings.');$.forEach((K)=>{const H=q.get(K);let Y,W,Z,G;H.to.forEach((J)=>{Y=J[0],W=J[1],Z=U.get(Y),G=Z[W],G.delete(H),G.size||delete Z[W],Object.keys(Z).length||(U.delete(Y),this.stopListening(Y,'change'))}),q.delete(K)})}else U.forEach((K,H)=>{this.stopListening(H,'change')}),U.clear(),q.clear()}};u.a=z,f.i(F.a)(z,R.a)},function(r,u,f){(function(h){function w(T,P){var S=T[1]||'',E=T[3];if(!E)return S;if(P){var O=C(E),R=E.sources.map(function(V){return'/*# sourceURL='+E.sourceRoot+V+' */'});return[S].concat(R).concat([O]).join('\n')}return[S].join('\n')}function C(T){var P=new h(JSON.stringify(T)).toString('base64');return'/*# '+('sourceMappingURL=data:application/json;charset=utf-8;base64,'+P)+' */'}r.exports=function(T){var P=[];return P.toString=function(){return this.map(function(E){var O=w(E,T);return E[2]?'@media '+E[2]+'{'+O+'}':O}).join('')},P.i=function(S,E){'string'==typeof S&&(S=[[null,S,'']]);for(var O={},R=0,V;R<this.length;R++)V=this[R][0],'number'==typeof V&&(O[V]=!0);for(R=0;R<S.length;R++){var F=S[R];'number'==typeof F[0]&&O[F[0]]||(E&&!F[2]?F[2]=E:E&&(F[2]='('+F[2]+') and ('+E+')'),P.push(F))}},P}}).call(u,f(306).Buffer)},function(r,u,f){function h(H,Y){for(var W=0;W<H.length;W++){var Z=H[W],G=I[Z.id];if(G){G.refs++;for(var J=0;J<G.parts.length;J++)G.parts[J](Z.parts[J]);for(;J<Z.parts.length;J++)G.parts.push(O(Z.parts[J],Y))}else{for(var X=[],J=0;J<Z.parts.length;J++)X.push(O(Z.parts[J],Y));I[Z.id]={id:Z.id,refs:1,parts:X}}}}function w(H){for(var Y=[],W={},Z=0;Z<H.length;Z++){var G=H[Z],J=G[0],X=G[1],Q=G[2],ee=G[3],te={css:X,media:Q,sourceMap:ee};W[J]?W[J].parts.push(te):Y.push(W[J]={id:J,parts:[te]})}return Y}function C(H,Y){var W=D(H.insertInto);if(!W)throw new Error('Couldn\'t find a style target. This probably means that the value for the \'insertInto\' parameter is invalid.');var Z=q[q.length-1];if('top'===H.insertAt)Z?Z.nextSibling?W.insertBefore(Y,Z.nextSibling):W.appendChild(Y):W.insertBefore(Y,W.firstChild),q.push(Y);else if('bottom'===H.insertAt)W.appendChild(Y);else throw new Error('Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.')}function T(H){H.parentNode.removeChild(H);var Y=q.indexOf(H);0<=Y&&q.splice(Y,1)}function P(H){var Y=document.createElement('style');return H.attrs.type='text/css',E(Y,H.attrs),C(H,Y),Y}function S(H){var Y=document.createElement('link');return H.attrs.type='text/css',H.attrs.rel='stylesheet',E(Y,H.attrs),C(H,Y),Y}function E(H,Y){Object.keys(Y).forEach(function(W){H.setAttribute(W,Y[W])})}function O(H,Y){var W,Z,G;if(Y.singleton){var J=$++;W=z||(z=P(Y)),Z=R.bind(null,W,J,!1),G=R.bind(null,W,J,!0)}else H.sourceMap&&'function'==typeof URL&&'function'==typeof URL.createObjectURL&&'function'==typeof URL.revokeObjectURL&&'function'==typeof Blob&&'function'==typeof btoa?(W=S(Y),Z=F.bind(null,W,Y),G=function(){T(W),W.href&&URL.revokeObjectURL(W.href)}):(W=P(Y),Z=V.bind(null,W),G=function(){T(W)});return Z(H),function(Q){if(Q){if(Q.css===H.css&&Q.media===H.media&&Q.sourceMap===H.sourceMap)return;Z(H=Q)}else G()}}function R(H,Y,W,Z){var G=W?'':Z.css;if(H.styleSheet)H.styleSheet.cssText=K(Y,G);else{var J=document.createTextNode(G),X=H.childNodes;X[Y]&&H.removeChild(X[Y]),X.length?H.insertBefore(J,X[Y]):H.appendChild(J)}}function V(H,Y){var W=Y.css,Z=Y.media;if(Z&&H.setAttribute('media',Z),H.styleSheet)H.styleSheet.cssText=W;else{for(;H.firstChild;)H.removeChild(H.firstChild);H.appendChild(document.createTextNode(W))}}function F(H,Y,W){var Z=W.css,G=W.sourceMap,J=Y.convertToAbsoluteUrls===void 0&&G;(Y.convertToAbsoluteUrls||J)&&(Z=U(Z)),G&&(Z+='\n/*# sourceMappingURL=data:application/json;base64,'+btoa(unescape(encodeURIComponent(JSON.stringify(G))))+' */');var X=new Blob([Z],{type:'text/css'}),Q=H.href;H.href=URL.createObjectURL(X),Q&&URL.revokeObjectURL(Q)}var I={},M=function(H){var Y;return function(){return'undefined'==typeof Y&&(Y=H.apply(this,arguments)),Y}}(function(){return window&&document&&document.all&&!window.atob}),D=function(H){var Y={};return function(W){return'undefined'==typeof Y[W]&&(Y[W]=H.call(this,W)),Y[W]}}(function(H){return document.querySelector(H)}),z=null,$=0,q=[],U=f(317);r.exports=function(H,Y){if('undefined'!=typeof DEBUG&&DEBUG&&'object'!=typeof document)throw new Error('The style-loader cannot be used in a non-browser environment');Y=Y||{},Y.attrs='object'==typeof Y.attrs?Y.attrs:{},'undefined'==typeof Y.singleton&&(Y.singleton=M()),'undefined'==typeof Y.insertInto&&(Y.insertInto='head'),'undefined'==typeof Y.insertAt&&(Y.insertAt='bottom');var W=w(H);return h(W,Y),function(G){for(var J=[],X=0;X<W.length;X++){var Q=W[X],ee=I[Q.id];ee.refs--,J.push(ee)}if(G){var te=w(G);h(te,Y)}for(var X=0,ee;X<J.length;X++)if(ee=J[X],0===ee.refs){for(var ae=0;ae<ee.parts.length;ae++)ee.parts[ae]();delete I[ee.id]}}};var K=function(){var H=[];return function(Y,W){return H[Y]=W,H.filter(Boolean).join('\n')}}()},function(r,u,f){'use strict';var h=f(96);class w{constructor(C){this.baseVersion=C}toJSON(){const C=f.i(h.a)(this,!0);return C.__className=this.constructor.className,delete C.delta,C}static get className(){return'engine.model.operation.Operation'}static fromJSON(C){return new this(C.baseVersion)}}u.a=w},function(r,u,f){'use strict';function h(O,R,V,F,I){return{done:!1,value:{type:O,item:R,previousPosition:V,nextPosition:F,length:I}}}var w=f(24),C=f(60),T=f(5),P=f(1),S=f(0);class E{constructor(O={}){if(!O.boundaries&&!O.startPosition)throw new S.a('model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');const R=O.direction||'forward';if('forward'!=R&&'backward'!=R)throw new S.a('model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:R});this.direction=R,this.boundaries=O.boundaries||null,this.position=O.startPosition?P.a.createFromPosition(O.startPosition):P.a.createFromPosition(this.boundaries['backward'==this.direction?'end':'start']),this.singleCharacters=!!O.singleCharacters,this.shallow=!!O.shallow,this.ignoreElementEnd=!!O.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(O){let R,V,F,I;do F=this.position,I=this._visitedParent,({done:R,value:V}=this.next());while(!R&&O(V));R||(this.position=F,this._visitedParent=I)}next(){return'forward'==this.direction?this._next():this._previous()}_next(){const O=this.position,R=P.a.createFromPosition(this.position),V=this._visitedParent;if(null===V.parent&&R.offset===V.maxOffset)return{done:!0};if(V===this._boundaryEndParent&&R.offset==this.boundaries.end.offset)return{done:!0};const F=R.textNode?R.textNode:R.nodeAfter;if(F instanceof T.a)return this.shallow?R.offset++:(R.path.push(0),this._visitedParent=F),this.position=R,h('elementStart',F,O,R,1);if(F instanceof w.a){let I,N;if(this.singleCharacters)I=1;else{let D=F.endOffset;this._boundaryEndParent==V&&this.boundaries.end.offset<D&&(D=this.boundaries.end.offset),I=D-R.offset}N=R.offset-F.startOffset;const M=new C.a(F,N,I);return R.offset+=I,this.position=R,h('text',M,O,R,I)}return R.path.pop(),R.offset++,this.position=R,this._visitedParent=V.parent,this.ignoreElementEnd?this._next():h('elementEnd',V,O,R)}_previous(){const O=this.position,R=P.a.createFromPosition(this.position),V=this._visitedParent;if(null===V.parent&&0===R.offset)return{done:!0};if(V==this._boundaryStartParent&&R.offset==this.boundaries.start.offset)return{done:!0};const F=R.textNode?R.textNode:R.nodeBefore;if(F instanceof T.a)return R.offset--,this.shallow?(this.position=R,h('elementStart',F,O,R,1)):(R.path.push(F.maxOffset),this.position=R,this._visitedParent=F,this.ignoreElementEnd?this._previous():h('elementEnd',F,O,R));if(F instanceof w.a){let I,N;if(this.singleCharacters)I=1;else{let D=F.startOffset;this._boundaryStartParent==V&&this.boundaries.start.offset>D&&(D=this.boundaries.start.offset),I=R.offset-D}N=R.offset-F.startOffset;const M=new C.a(F,N-I,I);return R.offset-=I,this.position=R,h('text',M,O,R,I)}return R.path.pop(),this.position=R,this._visitedParent=V.parent,h('elementStart',V,O,R,1)}}u.a=E},function(r,u,f){'use strict';function h(P){return P.item.is('attributeElement')||P.item.is('uiElement')}var w=f(25),C=f(53);class T{constructor(P,S=null){this.start=w.a.createFromPosition(P),this.end=S?w.a.createFromPosition(S):w.a.createFromPosition(P)}*[Symbol.iterator](){yield*new C.a({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let P=this.start.getLastMatchingPosition(h,{direction:'backward'}),S=this.end.getLastMatchingPosition(h);return P.parent.is('text')&&P.isAtStart&&(P=w.a.createBefore(P.parent)),S.parent.is('text')&&S.isAtEnd&&(S=w.a.createAfter(S.parent)),new T(P,S)}getTrimmed(){let P=this.start.getLastMatchingPosition(h),S=this.end.getLastMatchingPosition(h,{direction:'backward'}),E=P.nodeAfter,O=S.nodeBefore;return E&&E.is('text')&&(P=new w.a(E,0)),O&&O.is('text')&&(S=new w.a(O,O.data.length)),new T(P,S)}isEqual(P){return this==P||this.start.isEqual(P.start)&&this.end.isEqual(P.end)}containsPosition(P){return P.isAfter(this.start)&&P.isBefore(this.end)}containsRange(P){return this.containsPosition(P.start)&&this.containsPosition(P.end)}getDifference(P){const S=[];return this.isIntersecting(P)?(this.containsPosition(P.start)&&S.push(new T(this.start,P.start)),this.containsPosition(P.end)&&S.push(new T(P.end,this.end))):S.push(T.createFromRange(this)),S}getIntersection(P){if(this.isIntersecting(P)){let S=this.start,E=this.end;return this.containsPosition(P.start)&&(S=P.start),this.containsPosition(P.end)&&(E=P.end),new T(S,E)}return null}getWalker(P={}){return P.boundaries=this,new C.a(P)}*getItems(P={}){P.boundaries=this,P.ignoreElementEnd=!0;const S=new C.a(P);for(let E of S)yield E.item}*getPositions(P={}){P.boundaries=this;const S=new C.a(P);yield S.position;for(let E of S)yield E.nextPosition}isIntersecting(P){return this.start.isBefore(P.end)&&this.end.isAfter(P.start)}static createFromParentsAndOffsets(P,S,E,O){return new this(new w.a(P,S),new w.a(E,O))}static createFromRange(P){return new this(P.start,P.end)}static createFromPositionAndShift(P,S){const E=P,O=P.getShiftedBy(S);return 0<S?new this(E,O):new this(O,E)}static createIn(P){return this.createFromParentsAndOffsets(P,0,P,P.childCount)}static createOn(P){return this.createFromPositionAndShift(w.a.createBefore(P),1)}}u.a=T},function(r,u){'use strict';u.a=function(w,C,T){var P=-1,S=w.length;0>C&&(C=-C>S?0:S+C),T=T>S?S:T,0>T&&(T+=S),S=C>T?0:T-C>>>0,C>>>=0;for(var E=Array(S);++P<S;)E[P]=w[P+C];return E}},function(r,u){'use strict';var C=/^(?:0|[1-9]\d*)$/;u.a=function(T,P){return P=null==P?9007199254740991:P,!!P&&('number'==typeof T||C.test(T))&&-1<T&&0==T%1&&T<P}},function(r,u,f){'use strict';var h=f(34),w=f(1),C=f(73),T=f(40),P=f(13),S=f(24),E=f(5);class O extends h.a{constructor(R,V,F){super(F),this.position=w.a.createFromPosition(R),this.nodes=new C.a(f.i(P.b)(V))}get type(){return'insert'}clone(){const R=new C.a([...this.nodes].map((V)=>V.clone(!0)));return new O(this.position,R,this.baseVersion)}getReversed(){return new T.a(this.position,this.nodes.maxOffset,this.baseVersion+1)}_execute(){const R=this.nodes;this.nodes=new C.a([...R].map((F)=>F.clone(!0)));const V=P.a.insert(this.position,R);return{range:V}}static get className(){return'engine.model.operation.InsertOperation'}static fromJSON(R,V){let F=[];for(let I of R.nodes)I.name?F.push(E.a.fromJSON(I)):F.push(S.a.fromJSON(I));return new O(w.a.fromJSON(R.position,V),F,R.baseVersion)}}u.a=O},function(r,u,f){'use strict';var h=f(28),w=f(1),C=f(5),T=f(113);class P extends h.a{constructor(S,E,O){const R=S.root.document.graveyard,V=new w.a(R,[R.maxOffset,0]);super(S,E,V,O),this._needsHolderElement=!0}get type(){return'remove'}get _holderElementOffset(){return this.targetPosition.path[0]}set _holderElementOffset(S){this.targetPosition.path[0]=S}getReversed(){return new T.a(this.targetPosition,this.howMany,this.sourcePosition,this.baseVersion+1)}clone(){let S=new P(this.sourcePosition,this.howMany,this.baseVersion);return S.targetPosition=w.a.createFromPosition(this.targetPosition),S}_execute(){if(this._needsHolderElement){const S=this.targetPosition.root,E=new C.a('$graveyardHolder');S.insertChildren(this._holderElementOffset,E),this.sourcePosition.root==S&&this.sourcePosition.path[0]>=this._holderElementOffset&&this.sourcePosition.path[0]++}return super._execute()}static get className(){return'engine.model.operation.RemoveOperation'}static fromJSON(S,E){let O=w.a.fromJSON(S.sourcePosition,E);const R=new P(O,S.howMany,S.baseVersion);return R.targetPosition=w.a.fromJSON(S.targetPosition,E),R._needsHolderElement=S._needsHolderElement,R}}u.a=P},function(r,u,f){'use strict';function h(){return 0===this.childCount?0:null}var w=f(21);class C extends w.a{constructor(T,P,S){super(T,P,S),this.getFillerOffset=h}is(T,P=null){return P?'containerElement'==T&&P==this.name||super.is(T,P):'containerElement'==T||super.is(T)}}u.a=C},function(r,u,f){'use strict';var T=f(153),P=f(5);u.c=function(E,O){return E.setCustomProperty(S,!0),f.i(T.a)(E,{label:function(){const V=E.getChild(0),F=V.getAttribute('alt');return F?`${F} ${O}`:O}})},u.a=function(E){return!!E.getCustomProperty(S)&&f.i(T.b)(E)},u.b=function(E){return E instanceof P.a&&'image'==E.name};const S=Symbol('isImage')},function(r,u){'use strict';u.a=function(w){return!!(w&&w[Symbol.iterator])}},function(r,u,f){'use strict';var w=f(83),C=f(125),T=f(126),P=f(136),S=f(471),E=f(95);u.a=function(R,V,F){var I=-1,N=C.a,M=R.length,D=!0,z=[],$=z;if(F)D=!1,N=T.a;else if(M>=200){var q=V?null:f.i(S.a)(R);if(q)return f.i(E.a)(q);D=!1,N=P.a,$=new w.a}else $=V?[]:z;outer:for(;++I<M;){var U=R[I],K=V?V(U):U;if(U=F||0!==U?U:0,D&&K===K){for(var H=$.length;H--;)if($[H]===K)continue outer;V&&$.push(K),z.push(U)}else N($,K,F)||($!==z&&$.push(K),z.push(U))}return z}},function(r,u,f){'use strict';var h=f(512);f.d(u,'a',function(){return h.a})},function(r,u){'use strict';u.a=function(w){return!!w&&'object'==typeof w}},function(r,u,f){'use strict';var w=f(46),T=Object.prototype,P=T.toString;u.a=function(S){return'symbol'==typeof S||f.i(w.a)(S)&&P.call(S)=='[object Symbol]'}},function(r,u){'use strict';const h={error(w,C){console.error(w,C)},warn(w,C){console.warn(w,C)}};u.a=h},function(r,u,f){'use strict';var w=f(102),C=f(162),T=f(116),P=f(41),S=f(174),E=f(0);u.a=function(){return new O};class O{constructor(){this._dispatchers=[],this._from=null}for(...R){return this._dispatchers=R,this}fromElement(R){return this._from={type:'element',name:R,priority:null},this}fromAttribute(R){return this._from={type:'attribute',key:R,priority:null},this}fromMarker(R){return this._from={type:'marker',name:R,priority:null},this}withPriority(R){return this._from.priority=R,this}toElement(R){const V=null===this._from.priority?'normal':this._from.priority;for(let F of this._dispatchers)'element'==this._from.type?(R='string'==typeof R?new P.a(R):R,F.on('insert:'+this._from.name,f.i(w.a)(R),{priority:V})):'attribute'==this._from.type?(R='string'==typeof R?new T.a(R):R,F.on('addAttribute:'+this._from.key,f.i(w.b)(R),{priority:V}),F.on('changeAttribute:'+this._from.key,f.i(w.b)(R),{priority:V}),F.on('removeAttribute:'+this._from.key,f.i(w.c)(R),{priority:V}),F.on('selectionAttribute:'+this._from.key,f.i(C.a)(R),{priority:V})):(R='string'==typeof R?new T.a(R):R,F.on('addMarker:'+this._from.name,f.i(w.d)(R),{priority:V}),F.on('removeMarker:'+this._from.name,f.i(w.e)(R),{priority:V}),F.on('selectionMarker:'+this._from.name,f.i(C.b)(R),{priority:V}))}toStamp(R){for(let V of this._dispatchers){if('marker'!=this._from.type)throw new E.a('build-model-converter-non-marker-to-stamp: To-stamp conversion is supported only from model markers.');const F=null===this._from.priority?'normal':this._from.priority;R='string'==typeof R?new S.a(R):R,V.on('addMarker:'+this._from.name,f.i(w.f)(R),{priority:F}),V.on('removeMarker:'+this._from.name,f.i(w.g)(R),{priority:F})}}toAttribute(R,V){if('attribute'!=this._from.type)throw new E.a('build-model-converter-non-attribute-to-attribute: To-attribute conversion is supported only from model attributes.');let F=R?'string'==typeof R?V?function(){return{key:R,value:V}}:function(I){return{key:R,value:I}}:R:void 0;for(let I of this._dispatchers){const N={priority:this._from.priority||'normal'};I.on('addAttribute:'+this._from.key,f.i(w.h)(F),N),I.on('changeAttribute:'+this._from.key,f.i(w.h)(F),N),I.on('removeAttribute:'+this._from.key,f.i(w.i)(F),N)}}}},function(r,u,f){'use strict';function h(V,F,I,N){if(f.i(O.a)(V)){for(let z of V)h(z,F,I,N);return}const M=Array.from(V.getAttributeKeys());M.push(F.key);const D={name:V.name||'$text',attributes:M,inside:I.context};N.schema.check(D)&&V.setAttribute(F.key,F.value)}var C=f(171),T=f(5),P=f(1),S=f(13),E=f(0),O=f(43);u.a=function(){return new R};class R{constructor(){this._dispatchers=[],this._from=[]}for(...V){return this._dispatchers=V,this}fromElement(V){return this.from({name:V})}fromAttribute(V,F=/.*/){let I={};return I[V]=F,this.from(I)}from(V){return V instanceof C.a||(V=new C.a(V)),this._from.push({matcher:V,consume:!1,priority:null}),this}consuming(V){let F=this._from[this._from.length-1];return F.consume=V,this}withPriority(V){let F=this._from[this._from.length-1];return F.priority=V,this}toElement(V){this._setCallback(function(I){return(N,M,D,z)=>{let $=I.matcher.matchAll(M.input);if($)for(let q of $){const U=V instanceof Function?V(M.input):new T.a(V),K=Array.from(U.getAttributeKeys());if(!z.schema.check({name:U.name,attributes:K,inside:M.context}))continue;if(!D.consume(M.input,I.consume||q.match))continue;M.context.push(U);const H=z.convertChildren(M.input,D,M),Y=P.a.createAt(U,'end');S.a.insert(Y,H),M.context.pop(),M.output=U;break}}},'normal')}toAttribute(V,F){this._setCallback(function(N){return(M,D,z,$)=>{let q=N.matcher.matchAll(D.input);if(q)for(let U of q){if(!z.consume(D.input,N.consume||U.match))continue;D.output||(D.output=$.convertChildren(D.input,z,D));let K=V instanceof Function?V(D.input):{key:V,value:F};h(D.output,K,D,$);break}}},'low')}toMarker(V){this._setCallback(function(I){return(N,M,D)=>{const z=I.matcher.matchAll(M.input);if(!z)return;let $;if($=V instanceof Function?V(M.input):new T.a('$marker',{'data-name':M.input.getAttribute('data-name')}),'$marker'!=$.name||'string'!=typeof $.getAttribute('data-name'))throw new E.a('build-view-converter-invalid-marker: Invalid model element to mark marker range.');for(const q of z)if(D.consume(M.input,I.consume||q.match)){M.output=$;break}}},'normal')}_setCallback(V,F){for(let I of this._from){const N=I.matcher.getElementName(),M=N?'element:'+N:'element',D=V(I),z=null===I.priority?F:I.priority;for(let $ of this._dispatchers)$.on(M,D,{priority:z})}}}},function(r,u,f){'use strict';function h(E){return'string'==typeof E?[new T.a(E)]:(f.i(P.a)(E)||(E=[E]),Array.from(E).map((O)=>'string'==typeof O?new T.a(O):O))}var w=f(73),C=f(5),T=f(24),P=f(43);class S{constructor(E){this.markers=new Map,this._children=new w.a,E&&this.insertChildren(0,E)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(E){return'documentFragment'==E}getChild(E){return this._children.getNode(E)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(E){return this._children.getNodeIndex(E)}getChildStartOffset(E){return this._children.getNodeStartOffset(E)}getPath(){return[]}offsetToIndex(E){return this._children.offsetToIndex(E)}appendChildren(E){this.insertChildren(this.childCount,E)}insertChildren(E,O){O=h(O);for(let R of O)R.parent=this;this._children.insertNodes(E,O)}removeChildren(E,O=1){const R=this._children.removeNodes(E,O);for(let V of R)V.parent=null;return R}toJSON(){let E=[];for(let O of this._children)E.push(O.toJSON());return E}static fromJSON(E){let O=[];for(let R of E)R.name?O.push(C.a.fromJSON(R)):O.push(T.a.fromJSON(R));return new S(O)}}u.a=S},function(r,u,f){'use strict';var h=f(80),w=f(4);class C{constructor(T){this.document=T,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}}u.a=C,f.i(w.a)(C,h.a)},function(r,u,f){'use strict';var h=f(21),w=f(29),C=f(368),T=f(25),P=f(0);class S{constructor(E={}){if(!E.boundaries&&!E.startPosition)throw new P.a('view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');if(E.direction&&'forward'!=E.direction&&'backward'!=E.direction)throw new P.a('view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:E.direction});this.boundaries=E.boundaries||null,this.position=E.startPosition?T.a.createFromPosition(E.startPosition):T.a.createFromPosition(E.boundaries['backward'==E.direction?'end':'start']),this.direction=E.direction||'forward',this.singleCharacters=!!E.singleCharacters,this.shallow=!!E.shallow,this.ignoreElementEnd=!!E.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(E){let O,R,V;do V=this.position,({done:O,value:R}=this.next());while(!O&&E(R));O||(this.position=V)}next(){return'forward'==this.direction?this._next():this._previous()}_next(){let E=T.a.createFromPosition(this.position);const O=this.position,R=E.parent;if(null===R.parent&&E.offset===R.childCount)return{done:!0};if(R===this._boundaryEndParent&&E.offset==this.boundaries.end.offset)return{done:!0};let V;if(R instanceof w.a){if(E.isAtEnd)return this.position=T.a.createAfter(R),this._next();V=R.data[E.offset]}else V=R.getChild(E.offset);if(V instanceof h.a)return this.shallow?E.offset++:E=new T.a(V,0),this.position=E,this._formatReturnValue('elementStart',V,O,E,1);if(V instanceof w.a){if(this.singleCharacters)return E=new T.a(V,0),this.position=E,this._next();let F=V.data.length,I=V;return V==this._boundaryEndParent?(F=this.boundaries.end.offset,I=new C.a(V,0,F),E=T.a.createAfter(I)):E.offset++,this.position=E,this._formatReturnValue('text',I,O,E,F)}if('string'==typeof V){let F;if(this.singleCharacters)F=1;else{const N=R===this._boundaryEndParent?this.boundaries.end.offset:R.data.length;F=N-E.offset}const I=new C.a(R,E.offset,F);return E.offset+=F,this.position=E,this._formatReturnValue('text',I,O,E,F)}return E=T.a.createAfter(R),this.position=E,this.ignoreElementEnd?this._next():this._formatReturnValue('elementEnd',R,O,E)}_previous(){let E=T.a.createFromPosition(this.position);const O=this.position,R=E.parent;if(null===R.parent&&0===E.offset)return{done:!0};if(R==this._boundaryStartParent&&E.offset==this.boundaries.start.offset)return{done:!0};let V;if(R instanceof w.a){if(E.isAtStart)return this.position=T.a.createBefore(R),this._previous();V=R.data[E.offset-1]}else V=R.getChild(E.offset-1);if(V instanceof h.a)return this.shallow?(E.offset--,this.position=E,this._formatReturnValue('elementStart',V,O,E,1)):(E=new T.a(V,V.childCount),this.position=E,this.ignoreElementEnd?this._previous():this._formatReturnValue('elementEnd',V,O,E));if(V instanceof w.a){if(this.singleCharacters)return E=new T.a(V,V.data.length),this.position=E,this._previous();let F=V.data.length,I=V;if(V==this._boundaryStartParent){const N=this.boundaries.start.offset;I=new C.a(V,N,V.data.length-N),F=I.data.length,E=T.a.createBefore(I)}else E.offset--;return this.position=E,this._formatReturnValue('text',I,O,E,F)}if('string'==typeof V){let F;if(!this.singleCharacters){const N=R===this._boundaryStartParent?this.boundaries.start.offset:0;F=E.offset-N}else F=1;E.offset-=F;const I=new C.a(R,E.offset,F);return this.position=E,this._formatReturnValue('text',I,O,E,F)}return E=T.a.createBefore(R),this.position=E,this._formatReturnValue('elementStart',R,O,E,1)}_formatReturnValue(E,O,R,V,F){return O instanceof C.a&&(O.offsetInText+O.data.length==O.textNode.data.length&&('forward'!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?R=T.a.createAfter(O.textNode):(V=T.a.createAfter(O.textNode),this.position=V)),0===O.offsetInText&&('backward'!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?R=T.a.createBefore(O.textNode):(V=T.a.createBefore(O.textNode),this.position=V))),{done:!1,value:{type:E,item:O,previousPosition:R,nextPosition:V,length:F}}}}u.a=S},function(r,u,f){'use strict';var w=f(235);u.a=function(C,T){var P=C[T];return f.i(w.a)(P)?P:void 0}},function(r,u,f){'use strict';var w=f(11),C=f(47),T=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,P=/^\w*$/;u.a=function(S,E){if(f.i(w.a)(S))return!1;var O=typeof S;return'number'==O||'symbol'==O||'boolean'==O||null==S||f.i(C.a)(S)||P.test(S)||!T.test(S)||null!=E&&S in Object(E)}},function(r,u,f){'use strict';var w=f(47);u.a=function(T){if('string'==typeof T||f.i(w.a)(T))return T;var P=T+'';return'0'==P&&1/T==-(1/0)?'-0':P}},function(r,u){'use strict';u.a=function(w,C){return w===C||w!==w&&C!==C}},function(r,u,f){'use strict';var h=f(152),w=f(0);class C{constructor(T){this.parent=null,this._attrs=f.i(h.a)(T)}get index(){let T;if(!this.parent)return null;if(null===(T=this.parent.getChildIndex(this)))throw new w.a('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return T}get startOffset(){let T;if(!this.parent)return null;if(null===(T=this.parent.getChildStartOffset(this)))throw new w.a('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return T}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const T=this.index;return null!==T&&this.parent.getChild(T+1)||null}get previousSibling(){const T=this.index;return null!==T&&this.parent.getChild(T-1)||null}get root(){let T=this;for(;T.parent;)T=T.parent;return T}get document(){return this.root==this?null:this.root.document||null}clone(){return new C(this._attrs)}getPath(){const T=[];for(let P=this;P.parent;)T.unshift(P.startOffset),P=P.parent;return T}getAncestors(T={includeNode:!1,parentFirst:!1}){const P=[];for(let S=T.includeNode?this:this.parent;S;)P[T.parentFirst?'push':'unshift'](S),S=S.parent;return P}remove(){this.parent.removeChildren(this.index)}hasAttribute(T){return this._attrs.has(T)}getAttribute(T){return this._attrs.get(T)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}setAttribute(T,P){this._attrs.set(T,P)}setAttributesTo(T){this._attrs=f.i(h.a)(T)}removeAttribute(T){return this._attrs.delete(T)}clearAttributes(){this._attrs.clear()}toJSON(){let T={};return this._attrs.size&&(T.attributes=[...this._attrs]),T}}u.a=C},function(r,u,f){'use strict';function h(I,N){return!N.has(I)&&(N.add(I),I.document.schema.itemExtends(I.name,'$block')&&I.parent)}function w(I,N){const M=I.parent.getAncestors({parentFirst:!0,includeNode:!0}),D=M.find((z)=>h(z,N));return M.forEach((z)=>N.add(z)),D}var C=f(1),T=f(5),P=f(2),S=f(7),E=f(0),O=f(4),R=f(152),V=f(531);class F{constructor(){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map}get anchor(){if(0<this._ranges.length){const I=this._ranges[this._ranges.length-1];return this._lastRangeBackward?I.end:I.start}return null}get focus(){if(0<this._ranges.length){const I=this._ranges[this._ranges.length-1];return this._lastRangeBackward?I.start:I.end}return null}get isCollapsed(){const I=this._ranges.length;return!(1!==I)&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(I){if(this.rangeCount!=I.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(I.anchor)||!this.focus.isEqual(I.focus))return!1;for(let N of this._ranges){let M=!1;for(let D of I._ranges)if(N.isEqual(D)){M=!0;break}if(!M)return!1}return!0}*getRanges(){for(let I of this._ranges)yield P.a.createFromRange(I)}getFirstRange(){let I=null;for(let N of this._ranges)(!I||N.start.isBefore(I.start))&&(I=N);return I?P.a.createFromRange(I):null}getLastRange(){let I=null;for(let N of this._ranges)(!I||N.end.isAfter(I.end))&&(I=N);return I?P.a.createFromRange(I):null}getFirstPosition(){const I=this.getFirstRange();return I?C.a.createFromPosition(I.start):null}getLastPosition(){const I=this.getLastRange();return I?C.a.createFromPosition(I.end):null}addRange(I,N=!1){this._pushRange(I),this._lastRangeBackward=!!N,this.fire('change:range',{directChange:!0})}removeAllRanges(){0<this._ranges.length&&(this._removeAllRanges(),this.fire('change:range',{directChange:!0}))}setRanges(I,N=!1){I=Array.from(I);const M=I.some((D)=>{if(!(D instanceof P.a))throw new E.a('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');return this._ranges.every((z)=>{return!z.isEqual(D)})});if(I.length!==this._ranges.length||M){this._removeAllRanges();for(let D of I)this._pushRange(D);this._lastRangeBackward=!!N,this.fire('change:range',{directChange:!0})}}setTo(I){this.setRanges(I.getRanges(),I.isBackward)}collapse(I,N){const M=C.a.createAt(I,N),D=new P.a(M,M);this.setRanges([D])}collapseToStart(){const I=this.getFirstPosition();null!==I&&this.setRanges([new P.a(I,I)])}collapseToEnd(){const I=this.getLastPosition();null!==I&&this.setRanges([new P.a(I,I)])}setFocus(I,N){if(null===this.anchor)throw new E.a('model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.');const M=C.a.createAt(I,N);if('same'!=M.compareWith(this.focus)){const D=this.anchor;this._ranges.length&&this._popRange(),'before'==M.compareWith(D)?this.addRange(new P.a(M,D),!0):this.addRange(new P.a(D,M))}}getAttribute(I){return this._attrs.get(I)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(I){return this._attrs.has(I)}clearAttributes(){if(0<this._attrs.size){const I=Array.from(this._attrs.keys());this._attrs.clear(),this.fire('change:attribute',{attributeKeys:I,directChange:!0})}}removeAttribute(I){this.hasAttribute(I)&&(this._attrs.delete(I),this.fire('change:attribute',{attributeKeys:[I],directChange:!0}))}setAttribute(I,N){this.getAttribute(I)!==N&&(this._attrs.set(I,N),this.fire('change:attribute',{attributeKeys:[I],directChange:!0}))}setAttributesTo(I){if(I=f.i(R.a)(I),!f.i(V.a)(I,this._attrs)){const N=new Set(Array.from(I.keys()).concat(Array.from(this._attrs.keys())));for(let[M,D]of I)this._attrs.get(M)===D&&N.delete(M);this._attrs=I,this.fire('change:attribute',{attributeKeys:Array.from(N),directChange:!0})}}getSelectedElement(){if(1!==this.rangeCount)return null;const I=this.getFirstRange(),N=I.start.nodeAfter,M=I.end.nodeBefore;return N instanceof T.a&&N==M?N:null}*getSelectedBlocks(){const I=new WeakSet;for(const N of this.getRanges()){const M=w(N.start,I);M&&(yield M);for(const z of N.getWalker())'elementEnd'==z.type&&h(z.item,I)&&(yield z.item);const D=w(N.end,I);D&&(yield D)}}static createFromSelection(I){const N=new this;return N.setTo(I),N}_pushRange(I){if(!(I instanceof P.a))throw new E.a('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');this._checkRange(I),this._ranges.push(P.a.createFromRange(I))}_checkRange(I){for(let N=0;N<this._ranges.length;N++)if(I.isIntersecting(this._ranges[N]))throw new E.a('model-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:I,intersectingRange:this._ranges[N]})}_popRange(){this._ranges.pop()}_removeAllRanges(){for(;0<this._ranges.length;)this._popRange()}}u.a=F,f.i(O.a)(F,S.a)},function(r,u,f){'use strict';var h=f(0);class w{constructor(C,T,P){if(this.textNode=C,0>T||T>C.offsetSize)throw new h.a('model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>P||T+P>C.offsetSize)throw new h.a('model-textproxy-wrong-length: Given length value is incorrect.');this.data=C.data.substring(T,T+P),this.offsetInText=T}get startOffset(){return null===this.textNode.startOffset?null:this.textNode.startOffset+this.offsetInText}get offsetSize(){return this.data.length}get endOffset(){return null===this.startOffset?null:this.startOffset+this.offsetSize}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(C){return'textProxy'==C}getPath(){const C=this.textNode.getPath();return 0<C.length&&(C[C.length-1]+=this.offsetInText),C}getAncestors(C={includeNode:!1,parentFirst:!1}){const T=[];for(let P=C.includeNode?this:this.parent;P;)T[C.parentFirst?'push':'unshift'](P),P=P.parent;return T}hasAttribute(C){return this.textNode.hasAttribute(C)}getAttribute(C){return this.textNode.getAttribute(C)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}u.a=w},function(r,u,f){'use strict';function h(N){return N instanceof Text&&N.data.substr(0,V)===F}function S(N,M){if(M.keyCode==E.b.arrowleft){const D=M.domTarget.ownerDocument.defaultView.getSelection();if(1==D.rangeCount&&D.getRangeAt(0).collapsed){const z=D.getRangeAt(0).startContainer,$=D.getRangeAt(0).startOffset;if(h(z)&&$<=V){const q=new Range;q.setStart(z,0),q.collapse(!0),D.removeAllRanges(),D.addRange(q)}}}}var E=f(22);f.d(u,'i',function(){return F}),u.c=h,u.f=function(N){return N.data.length==V&&h(N)},u.g=function(N){return h(N)?N.data.slice(V):N.data},u.e=function(N,M){let D=I.get(M);return D||(D=M(window.document),I.set(M,D)),N.isEqualNode(D)},u.h=function(N){N.on('keydown',S)};u.b=(N)=>{const M=N.createElement('br');return M.dataset.ckeFiller=!0,M};u.a=(N)=>N.createTextNode('\xA0');const V=7;u.d=V;let F='';for(let N=0;N<V;N++)F+='\u200B';const I=new WeakMap},function(r,u,f){'use strict';var h=f(52),w=f(118);class C extends h.a{constructor(T){super(T),this.useCapture=!1}observe(T){const P='string'==typeof this.domEventType?[this.domEventType]:this.domEventType;P.forEach((S)=>{this.listenTo(T,S,(E,O)=>{this.isEnabled&&this.onDomEvent(O)},{useCapture:this.useCapture})})}fire(T,P,S){this.isEnabled&&this.document.fire(T,new w.a(this.document,P,S))}}u.a=C},function(r,u,f){'use strict';var h=f(0),w=f(36),C=f(25),T=f(4),P=f(7),S=f(21);class E{constructor(){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel=''}setFake(O=!0,R={}){this._isFake=O,this._fakeSelectionLabel=O?R.label||'':'',this.fire('change')}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const O=this._ranges[this._ranges.length-1],R=this._lastRangeBackward?O.end:O.start;return C.a.createFromPosition(R)}get focus(){if(!this._ranges.length)return null;const O=this._ranges[this._ranges.length-1],R=this._lastRangeBackward?O.start:O.end;return C.a.createFromPosition(R)}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}addRange(O,R){if(!(O instanceof w.a))throw new h.a('view-selection-invalid-range: Invalid Range.');this._pushRange(O),this._lastRangeBackward=!!R,this.fire('change')}*getRanges(){for(let O of this._ranges)yield w.a.createFromRange(O)}getFirstRange(){let O=null;for(let R of this._ranges)(!O||R.start.isBefore(O.start))&&(O=R);return O?w.a.createFromRange(O):null}getLastRange(){let O=null;for(let R of this._ranges)(!O||R.end.isAfter(O.end))&&(O=R);return O?w.a.createFromRange(O):null}getFirstPosition(){const O=this.getFirstRange();return O?C.a.createFromPosition(O.start):null}getLastPosition(){const O=this.getLastRange();return O?C.a.createFromPosition(O.end):null}isEqual(O){if(this.isFake!=O.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=O.fakeSelectionLabel)return!1;if(this.rangeCount!=O.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(O.anchor)||!this.focus.isEqual(O.focus))return!1;for(let R of this._ranges){let V=!1;for(let F of O._ranges)if(R.isEqual(F)){V=!0;break}if(!V)return!1}return!0}removeAllRanges(){this._ranges.length&&(this._ranges=[],this.fire('change'))}setRanges(O,R){this._ranges=[];for(let V of O){if(!(V instanceof w.a))throw new h.a('view-selection-invalid-range: Invalid Range.');this._pushRange(V)}this._lastRangeBackward=!!R,this.fire('change')}setTo(O){this._isFake=O._isFake,this._fakeSelectionLabel=O._fakeSelectionLabel,this.setRanges(O.getRanges(),O.isBackward)}collapse(O,R){const V=C.a.createAt(O,R),F=new w.a(V,V);this.setRanges([F])}collapseToStart(){const O=this.getFirstPosition();null!==O&&this.setRanges([new w.a(O,O)])}collapseToEnd(){const O=this.getLastPosition();null!==O&&this.setRanges([new w.a(O,O)])}setFocus(O,R){if(null===this.anchor)throw new h.a('view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.');const V=C.a.createAt(O,R);if('same'!=V.compareWith(this.focus)){const F=this.anchor;this._ranges.pop(),'before'==V.compareWith(F)?this.addRange(new w.a(V,F),!0):this.addRange(new w.a(F,V))}}getSelectedElement(){if(1!==this.rangeCount)return null;const O=this.getFirstRange(),R=O.start.nodeAfter,V=O.end.nodeBefore;return R instanceof S.a&&R==V?R:null}static createFromSelection(O){const R=new E;return R.setTo(O),R}_pushRange(O){for(let R of this._ranges)if(O.isIntersecting(R))throw new h.a('view-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:O,intersectingRange:R});this._ranges.push(w.a.createFromRange(O))}}u.a=E,f.i(T.a)(E,P.a)},function(r,u){'use strict';u.a=function(w,C){const T=_Mathmin(w.length,C.length);for(let P=0;P<T;P++)if(w[P]!=C[P])return P;return w.length==C.length?'same':w.length<C.length?'prefix':'extension'}},function(r,u){'use strict';u.a={window,document}},function(r,u,f){'use strict';var h=f(80),w=f(31),C=f(0),T=f(4);class P{constructor(){this.set('isFocused',!1),this.focusedElement=null,this._elements=new Set,this._nextEventLoopTimeout=null}add(S){if(this._elements.has(S))throw new C.a('focusTracker-add-element-already-exist');this.listenTo(S,'focus',()=>this._focus(S),{useCapture:!0}),this.listenTo(S,'blur',()=>this._blur(),{useCapture:!0}),this._elements.add(S)}remove(S){S===this.focusedElement&&this._blur(S),this._elements.has(S)&&(this.stopListening(S),this._elements.delete(S))}_focus(S){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=S,this.isFocused=!0}_blur(){this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}u.a=P,f.i(T.a)(P,h.a),f.i(T.a)(P,w.a)},function(r,u,f){'use strict';var h=f(80),w=f(22);u.a=class{constructor(){this._listener=Object.create(h.a),this._keystrokes=new Map}listenTo(T){this._listener.listenTo(T,'keydown',(P,S)=>{this.press(S)})}set(T,P){const S=f.i(w.d)(T),E=this._keystrokes.get(S);E?E.push(P):this._keystrokes.set(S,[P])}press(T){const P=f.i(w.c)(T),S=this._keystrokes.get(P);if(!S)return!1;for(let E of S)E(T,()=>{T.preventDefault(),T.stopPropagation()});return!0}destroy(){this._keystrokes=new Map,this._listener.stopListening()}}},function(r,u,f){'use strict';var w=f(57),C=Object.prototype,T=C.hasOwnProperty;u.a=function(P,S,E){var O=P[S];T.call(P,S)&&f.i(w.a)(O,E)&&(E!==void 0||S in P)||(P[S]=E)}},function(r,u,f){'use strict';var w=f(83),C=f(125),T=f(126),P=f(27),S=f(134),E=f(136);u.a=function(R,V,F,I){var N=-1,M=C.a,D=!0,z=R.length,$=[],q=V.length;if(!z)return $;F&&(V=f.i(P.a)(V,f.i(S.a)(F))),I?(M=T.a,D=!1):V.length>=200&&(M=E.a,D=!1,V=new w.a(V));outer:for(;++N<z;){var U=R[N],K=F?F(U):U;if(U=I||0!==U?U:0,D&&K===K){for(var H=q;H--;)if(V[H]===K)continue outer;$.push(U)}else M(V,K,I)||$.push(U)}return $}},function(r,u,f){'use strict';var w=f(199),C=f(451),T=f(207),P=f(97),S=f(38),E=f(93);u.a=function(O){var R=f.i(E.a)(O);if(!(R||f.i(P.a)(O)))return f.i(C.a)(O);var V=f.i(T.a)(O),I=V||[],N=I.length;for(var M in O)!f.i(w.a)(O,M)||!!V&&('length'==M||f.i(S.a)(M,N))||R&&'constructor'==M||I.push(M);return I}},function(r,u){'use strict';u.a=function(){let w='e';for(let C=0;8>C;C++)w+=_Mathfloor(65536*(1+Math.random())).toString(16).substring(1);return w}},function(r,u,f){'use strict';function h(q,U,K,H,Y){if(H.test(K.input)&&q.schema.check({name:'paragraph',inside:K.context})){const W=new E.a('paragraph');$.add(W),K.context.push(W);const Z=Y.convertItem(K.input,H,K);Z&&(K.output=W,W.appendChildren(Z)),K.context.pop()}}function w(q,U,K,H,Y){if(z.paragraphLikeElements.has(K.input.name)&&H.test(K.input,{name:!0})&&!T(K.input)&&q.schema.check({name:'paragraph',inside:K.context})){H.consume(K.input,{name:!0});const W=new E.a('paragraph');K.context.push(W);const Z=Y.convertChildren(K.input,H,K);W.appendChildren(I.a.normalizeNodes(Z)),K.context.pop(),K.output=W}}function C(q,U){if(!U.output)return;let K;for(K=f.i(D.a)(U.output)?U.output[0]:U.output.getChild(0);K&&K.nextSibling;){const H=K.nextSibling;$.has(K)&&$.has(H)?(I.a.insert(O.a.createAt(K,'end'),Array.from(H.getChildren())),I.a.remove(R.a.createOn(H))):K=K.nextSibling}}function T(q){const U=F.a.createIn(q);for(const K of U)if(K.item instanceof V.a&&z.paragraphLikeElements.has(K.item.name))return!0;return!1}var P=f(390),S=f(3),E=f(5),O=f(1),R=f(2),V=f(21),F=f(36),I=f(13),N=f(49),M=f(50),D=f(11);class z extends S.a{static get pluginName(){return'paragraph/paragraph'}init(){const q=this.editor,U=q.document,K=q.data,H=q.editing;U.schema.registerItem('paragraph','$block'),f.i(N.a)().for(K.modelToView,H.modelToView).fromElement('paragraph').toElement('p'),f.i(M.a)().for(K.viewToModel).fromElement('p').toElement('paragraph'),K.viewToModel.on('text',(Y,W,Z,G)=>{h(U,Y,W,Z,G)},{priority:'lowest'}),K.viewToModel.on('element',C,{priority:'lowest'}),K.viewToModel.on('documentFragment',C,{priority:'lowest'}),K.viewToModel.on('element',(Y,W,Z,G)=>{w(U,Y,W,Z,G)},{priority:'low'}),q.commands.set('paragraph',new P.a(q))}}u.a=z,z.paragraphLikeElements=new Set(['blockquote','dd','div','dt','h1','h2','h3','h4','h5','h6','li','p','td']);const $=new WeakSet},function(r,u,f){'use strict';var h=f(58),w=f(0);class C{constructor(T){this._nodes=[],T&&this.insertNodes(0,T)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((T,P)=>T+P.offsetSize,0)}getNode(T){return this._nodes[T]||null}getNodeIndex(T){const P=this._nodes.indexOf(T);return-1==P?null:P}getNodeStartOffset(T){const P=this.getNodeIndex(T);return null===P?null:this._nodes.slice(0,P).reduce((S,E)=>S+E.offsetSize,0)}indexToOffset(T){if(T==this._nodes.length)return this.maxOffset;const P=this._nodes[T];if(!P)throw new w.a('model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.');return this.getNodeStartOffset(P)}offsetToIndex(T){let P=0;for(let S of this._nodes){if(T>=P&&T<P+S.offsetSize)return this.getNodeIndex(S);P+=S.offsetSize}if(P!=T)throw new w.a('model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.');return this.length}insertNodes(T,P){for(let S of P)if(!(S instanceof h.a))throw new w.a('model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.');this._nodes.splice(T,0,...P)}removeNodes(T,P=1){return this._nodes.splice(T,P)}toJSON(){return this._nodes.map((T)=>T.toJSON())}}u.a=C},function(r,u,f){'use strict';var h=f(34),w=f(2),C=f(0),T=f(13),P=f(518);class S extends h.a{constructor(E,O,R,V,F){super(F),this.range=w.a.createFromRange(E),this.key=O,this.oldValue=R===void 0?null:R,this.newValue=V===void 0?null:V}get type(){return null===this.oldValue?'addAttribute':null===this.newValue?'removeAttribute':'changeAttribute'}clone(){return new S(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new S(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_execute(){for(let E of this.range.getItems()){if(null!==this.oldValue&&!f.i(P.a)(E.getAttribute(this.key),this.oldValue))throw new C.a('attribute-operation-wrong-old-value: Changed node has different attribute value than operation\'s old attribute value.',{item:E,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&E.hasAttribute(this.key))throw new C.a('attribute-operation-attribute-exists: The attribute with given key already exists.',{node:E,key:this.key});if(f.i(P.a)(this.oldValue,this.newValue))return}return T.a.setAttribute(this.range,this.key,this.newValue),{range:this.range,key:this.key,oldValue:this.oldValue,newValue:this.newValue}}static get className(){return'engine.model.operation.AttributeOperation'}static fromJSON(E,O){return new S(w.a.fromJSON(E.range,O),E.key,E.oldValue,E.newValue,E.baseVersion)}}u.a=S},function(r,u,f){'use strict';var h=f(34);class w extends h.a{clone(){return new w(this.baseVersion)}getReversed(){return new w(this.baseVersion+1)}_execute(){}static get className(){return'engine.model.operation.NoOperation'}}u.a=w},function(r,u,f){'use strict';var h=f(41),w=f(0),C=f(4),T=f(31);const P=Symbol('document');class S extends h.a{constructor(E,O,R){super(E,O,R),this.set('isReadOnly',!1),this.set('isFocused',!1)}get document(){return this.getCustomProperty(P)}set document(E){if(this.getCustomProperty(P))throw new w.a('view-editableelement-document-already-set: View document is already set.');this.setCustomProperty(P,E),this.bind('isFocused').to(E,'isFocused',(O)=>O&&E.selection.editableElement==this),this.listenTo(E,'render',()=>{this.isFocused=E.isFocused&&E.selection.editableElement==this},{priority:'high'})}}u.a=S,f.i(C.a)(S,T.a)},function(r,u,f){'use strict';var h=f(0),w=f(7),C=f(4);class T{constructor(){this.parent=null}get index(){let P;if(!this.parent)return null;if(-1==(P=this.parent.getChildIndex(this)))throw new h.a('view-node-not-found-in-parent: The node\'s parent does not contain this node.');return P}get nextSibling(){const P=this.index;return null!==P&&this.parent.getChild(P+1)||null}get previousSibling(){const P=this.index;return null!==P&&this.parent.getChild(P-1)||null}get root(){let P=this;for(;P.parent;)P=P.parent;return P}get document(){return this.parent instanceof T?this.parent.document:null}getAncestors(P={includeNode:!1,parentFirst:!1}){const S=[];for(let E=P.includeNode?this:this.parent;E;)S[P.parentFirst?'push':'unshift'](E),E=E.parent;return S}remove(){this.parent.removeChildren(this.index)}_fireChange(P,S){this.fire('change:'+P,S),this.parent&&this.parent._fireChange(P,S)}}u.a=T,f.i(C.a)(T,w.a)},function(r,u,f){'use strict';function C(pe){const me=pe.offset,ge=pe.parent;if(ge.is('text'))return pe;if(ge.is('attributeElement')&&0===ge.childCount){const be=ge.parent,_e=ge.index;return ge.remove(),C(new Q.a(be,_e))}const fe=ge.getChild(me-1),he=ge.getChild(me);if(!fe||!he)return pe;if(fe.is('text')&&he.is('text'))return H(fe,he);if(fe.is('attributeElement')&&he.is('attributeElement')&&fe.isSimilar(he)){const be=fe.childCount;return fe.appendChildren(he.getChildren()),he.remove(),C(new Q.a(fe,be))}return pe}function S(pe,me){me=f.i(de.a)(me)?[...me]:[me],G(me);const ge=M(pe);if(!ge)throw new se.a('view-writer-invalid-position-container');const fe=z(pe,!0),he=ge.insertChildren(fe.offset,me),be=fe.getShiftedBy(he),_e=C(fe);if(0===he)return new ie.a(_e,_e);_e.isEqual(fe)||be.offset--;const ke=C(be);return new ie.a(_e,ke)}function E(pe){if(X(pe),pe.isCollapsed)return new le.a;const{start:me,end:ge}=D(pe,!0),fe=me.parent,he=ge.offset-me.offset,be=fe.removeChildren(me.offset,he),_e=C(me);return pe.start=_e,pe.end=Q.a.createFromPosition(_e),new le.a(be)}function R(pe,me){let ge;if(me.isAfter(pe.end)){me=z(me,!0);const fe=me.parent,he=fe.childCount;pe=D(pe,!0),ge=E(pe),me.offset+=fe.childCount-he}else ge=E(pe);return S(me,ge)}function V(pe,me){if(!(me instanceof te.a))throw new se.a('view-writer-wrap-invalid-attribute');if(X(pe),pe.isCollapsed)return pe;if(pe.end.isEqual(pe.start.getShiftedBy(1))){const we=pe.start.nodeAfter;if(we instanceof te.a&&Y(me,we))return pe}if(Z(pe)&&Y(me,pe.start.parent)){const we=pe.start.parent.parent,ve=pe.start.parent.index;return ie.a.createFromParentsAndOffsets(we,ve,we,ve+1)}const{start:ge,end:fe}=D(pe,!0),he=ge.parent,be=$(he,ge.offset,fe.offset,me),_e=q(he,be.start.offset,be.end.offset,me),ke=C(_e.start);ke.isEqual(_e.start)||_e.end.offset--;const ye=C(_e.end);return new ie.a(ke,ye)}function M(pe){let me=pe.parent;for(;!J(me);){if(!me)return;me=me.parent}return me}function D(pe,me=!1){const ge=pe.start,fe=pe.end;if(X(pe),pe.isCollapsed){const ke=z(pe.start,me);return new ie.a(ke,ke)}const he=z(fe,me),be=he.parent.childCount,_e=z(ge,me);return he.offset+=he.parent.childCount-be,new ie.a(_e,he)}function z(pe,me=!1){const ge=pe.offset,fe=pe.parent;if(pe.parent.is('emptyElement'))throw new se.a('view-writer-cannot-break-empty-element');if(pe.parent.is('uiElement'))throw new se.a('view-writer-cannot-break-ui-element');if(!me&&fe.is('text')&&J(fe.parent))return Q.a.createFromPosition(pe);if(J(fe))return Q.a.createFromPosition(pe);if(fe.is('text'))return z(K(pe),me);const he=fe.childCount;if(ge==he){const be=new Q.a(fe.parent,fe.index+1);return z(be,me)}if(0===ge){const be=new Q.a(fe.parent,fe.index);return z(be,me)}const be=fe.index+1,_e=fe.clone();fe.parent.insertChildren(be,_e);const ke=fe.childCount-ge,ye=fe.removeChildren(ge,ke);_e.appendChildren(ye);const we=new Q.a(fe.parent,be);return z(we,me)}function $(pe,me,ge,fe){let he=me;const be=[];for(;he<ge;){const ke=pe.getChild(he);if(ke.isSimilar(fe)){const ye=ke.getChildren(),we=ke.childCount;ke.remove(),pe.insertChildren(he,ye),be.push(new Q.a(pe,he),new Q.a(pe,he+we)),he+=we,ge+=we-1}else ke.is('attributeElement')&&$(ke,0,ke.childCount,fe),he++}let _e=0;for(let ke of be){if(ke.offset-=_e,ke.offset==me||ke.offset==ge)continue;const ye=C(ke);ye.isEqual(ke)||(_e++,ge--)}return ie.a.createFromParentsAndOffsets(pe,me,pe,ge)}function q(pe,me,ge,fe){let he=me;const be=[];for(;he<ge;){const ke=pe.getChild(he),ye=ke.is('text'),we=ke.is('attributeElement'),ve=ke.is('emptyElement'),xe=ke.is('uiElement');if(ye||ve||xe||we&&fe.priority<=ke.priority){const Ce=fe.clone();ke.remove(),Ce.appendChildren(ke),pe.insertChildren(he,Ce),be.push(new Q.a(pe,he))}else we&&q(ke,0,ke.childCount,fe);he++}let _e=0;for(let ke of be){if(ke.offset-=_e,ke.offset==me)continue;const ye=C(ke);ye.isEqual(ke)||(_e++,ge--)}return ie.a.createFromParentsAndOffsets(pe,me,pe,ge)}function U(pe){const me=pe.nodeBefore;if(me&&me.is('text'))return new Q.a(me,me.data.length);const ge=pe.nodeAfter;return ge&&ge.is('text')?new Q.a(ge,0):pe}function K(pe){if(pe.offset==pe.parent.data.length)return new Q.a(pe.parent.parent,pe.parent.index+1);if(0===pe.offset)return new Q.a(pe.parent.parent,pe.parent.index);const me=pe.parent.data.slice(pe.offset);return pe.parent.data=pe.parent.data.slice(0,pe.offset),pe.parent.parent.insertChildren(pe.parent.index+1,new oe.a(me)),new Q.a(pe.parent.parent,pe.parent.index+1)}function H(pe,me){const ge=pe.data.length;return pe.data+=me.data,me.remove(),new Q.a(pe,ge)}function Y(pe,me){if(pe.name!==me.name||pe.priority!==me.priority)return!1;for(let ge of pe.getAttributeKeys())if('class'!==ge&&'style'!==ge&&me.hasAttribute(ge)&&me.getAttribute(ge)!==pe.getAttribute(ge))return!1;for(let ge of pe.getStyleNames())if(me.hasStyle(ge)&&me.getStyle(ge)!==pe.getStyle(ge))return!1;for(let ge of pe.getAttributeKeys())'class'!==ge&&'style'!==ge&&(me.hasAttribute(ge)||me.setAttribute(ge,pe.getAttribute(ge)));for(let ge of pe.getStyleNames())me.hasStyle(ge)||me.setStyle(ge,pe.getStyle(ge));for(let ge of pe.getClassNames())me.hasClass(ge)||me.addClass(ge);return!0}function W(pe,me){if(pe.name!==me.name||pe.priority!==me.priority)return!1;for(let ge of pe.getAttributeKeys())if('class'!==ge&&'style'!==ge&&(!me.hasAttribute(ge)||me.getAttribute(ge)!==pe.getAttribute(ge)))return!1;if(!me.hasClass(...pe.getClassNames()))return!1;for(let ge of pe.getStyleNames())if(!me.hasStyle(ge)||me.getStyle(ge)!==pe.getStyle(ge))return!1;for(let ge of pe.getAttributeKeys())'class'!==ge&&'style'!==ge&&me.removeAttribute(ge);return me.removeClass(...pe.getClassNames()),me.removeStyle(...pe.getStyleNames()),!0}function Z(pe){return pe.start.parent==pe.end.parent&&pe.start.parent.is('attributeElement')&&0===pe.start.offset&&pe.end.offset===pe.start.parent.childCount}function G(pe){for(let me of pe){if(!ue.some((ge)=>me instanceof ge))throw new se.a('view-writer-insert-invalid-node');me.is('text')||G(me.getChildren())}}function J(pe){return pe&&(pe.is('containerElement')||pe.is('documentFragment'))}function X(pe){const me=M(pe.start),ge=M(pe.end);if(!me||!ge||me!==ge)throw new se.a('view-writer-invalid-range-container')}var Q=f(25),ee=f(41),te=f(116),ae=f(170),ne=f(174),oe=f(29),ie=f(36),re=f(53),se=f(0),le=f(117),de=f(43);u.a={breakAttributes:function(pe){return pe instanceof Q.a?z(pe):D(pe)},breakContainer:function(pe){const me=pe.parent;if(!me.is('containerElement'))throw new se.a('view-writer-break-non-container-element: Trying to break an element which is not a container element.');if(!me.parent)throw new se.a('view-writer-break-root: Trying to break root element.');if(pe.isAtStart)return Q.a.createBefore(me);if(!pe.isAtEnd){const ge=me.clone(!1);S(Q.a.createAfter(me),ge);const fe=new ie.a(pe,Q.a.createAt(me,'end')),he=new Q.a(ge,0);R(fe,he)}return Q.a.createAfter(me)},mergeAttributes:C,mergeContainers:function(pe){const me=pe.nodeBefore,ge=pe.nodeAfter;if(!me||!ge||!me.is('containerElement')||!ge.is('containerElement'))throw new se.a('view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.');const fe=me.getChild(me.childCount-1),he=fe instanceof oe.a?Q.a.createAt(fe,'end'):Q.a.createAt(me,'end');return R(ie.a.createIn(ge),Q.a.createAt(me,'end')),E(ie.a.createOn(ge)),he},insert:S,remove:E,clear:function(pe,me){X(pe);const ge=pe.getWalker({direction:'backward',ignoreElementEnd:!0});for(const fe of ge){const he=fe.item;let be;if(he.is('element')&&me.isSimilar(he))be=ie.a.createOn(he);else if(!fe.nextPosition.isAfter(pe.start)&&(he.is('text')||he.is('textProxy'))){const _e=he.getAncestors().find((ke)=>{return ke.is('element')&&me.isSimilar(ke)});_e&&(be=ie.a.createIn(_e))}be&&(be.end.isAfter(pe.end)&&(be.end=pe.end),be.start.isBefore(pe.start)&&(be.start=pe.start),E(be))}},move:R,wrap:V,wrapPosition:function(pe,me){if(!(me instanceof te.a))throw new se.a('view-writer-wrap-invalid-attribute');if(me.isSimilar(pe.parent))return U(Q.a.createFromPosition(pe));pe.parent.is('text')&&(pe=K(pe));const ge=new te.a;ge.priority=_NumberPOSITIVE_INFINITY,ge.isSimilar=()=>!1,pe.parent.insertChildren(pe.offset,ge);const fe=new ie.a(pe,pe.getShiftedBy(1));V(fe,me);const he=new Q.a(ge.parent,ge.index);ge.remove();const be=he.nodeBefore,_e=he.nodeAfter;return be instanceof oe.a&&_e instanceof oe.a?H(be,_e):U(he)},unwrap:function(pe,me){if(!(me instanceof te.a))throw new se.a('view-writer-unwrap-invalid-attribute');if(X(pe),pe.isCollapsed)return pe;if(pe.end.isEqual(pe.start.getShiftedBy(1))){const ye=pe.start.nodeAfter;if(!me.isSimilar(ye)&&ye instanceof te.a&&W(me,ye))return pe}const{start:ge,end:fe}=D(pe,!0),he=ge.parent,be=$(he,ge.offset,fe.offset,me),_e=C(be.start);_e.isEqual(be.start)||be.end.offset--;const ke=C(be.end);return new ie.a(_e,ke)},rename:function(pe,me){const ge=new ee.a(me,pe.getAttributes());return S(Q.a.createAfter(pe),ge),R(ie.a.createIn(pe),Q.a.createAt(ge)),E(ie.a.createOn(pe)),ge},breakViewRangePerContainer:function(pe){const me=[],ge=new re.a({boundaries:pe});let fe=pe.start;for(let he of ge)he.item.is('containerElement')&&(fe.isEqual(he.previousPosition)||me.push(new ie.a(fe,he.previousPosition)),fe=he.nextPosition);return me.push(new ie.a(fe,pe.end)),me}};const ue=[oe.a,te.a,ee.a,ae.a,ne.a]},function(r,u,f){'use strict';var h=f(7),w=f(0),C=f(71),T=f(4);class P{constructor(S){this._items=[],this._itemMap=new Map,this._idProperty=S&&S.idProperty||'id',this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap}get length(){return this._items.length}add(S,E){let O;const R=this._idProperty;if(R in S){if(O=S[R],'string'!=typeof O)throw new w.a('collection-add-invalid-id');if(this.get(O))throw new w.a('collection-add-item-already-exists')}else S[R]=O=f.i(C.a)();if(void 0===E)E=this._items.length;else if(E>this._items.length||0>E)throw new w.a('collection-add-item-invalid-index');return this._items.splice(E,0,S),this._itemMap.set(O,S),this.fire('add',S,E),this}get(S){let E;if('string'==typeof S)E=this._itemMap.get(S);else if('number'==typeof S)E=this._items[S];else throw new w.a('collection-get-invalid-arg: Index or id must be given.');return E||null}getIndex(S){let E;return E='string'==typeof S?this._itemMap.get(S):S,this._items.indexOf(E)}remove(S){let V=!1,E,O,R;const F=this._idProperty;if('string'==typeof S?(O=S,R=this._itemMap.get(O),V=!R,R&&(E=this._items.indexOf(R))):'number'==typeof S?(E=S,R=this._items[E],V=!R,R&&(O=R[F])):(R=S,O=R[F],E=this._items.indexOf(R),V=-1==E||!this._itemMap.get(O)),V)throw new w.a('collection-remove-404: Item not found.');this._items.splice(E,1),this._itemMap.delete(O);const I=this._bindToInternalToExternalMap.get(R);return this._bindToInternalToExternalMap.delete(R),this._bindToExternalToInternalMap.delete(I),this.fire('remove',R),R}map(S,E){return this._items.map(S,E)}find(S,E){return this._items.find(S,E)}filter(S,E){return this._items.filter(S,E)}clear(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}bindTo(S){if(this._bindToCollection)throw new w.a('collection-bind-to-rebind: The collection cannot be bound more than once.');return this._bindToCollection=S,{as:(E)=>{this._setUpBindToBinding((O)=>new E(O))},using:(E)=>{'function'==typeof E?this._setUpBindToBinding((O)=>E(O)):this._setUpBindToBinding((O)=>O[E])}}}_setUpBindToBinding(S){const E=this._bindToCollection,O=(R,V,F)=>{const I=E._bindToCollection==this,N=E._bindToInternalToExternalMap.get(V);if(I&&N)this._bindToExternalToInternalMap.set(V,N),this._bindToInternalToExternalMap.set(N,V);else{const M=S(V);this._bindToExternalToInternalMap.set(V,M),this._bindToInternalToExternalMap.set(M,V),this.add(M,F)}};for(let R of E)O(null,R);this.listenTo(E,'add',O),this.listenTo(E,'remove',(R,V)=>{const F=this._bindToExternalToInternalMap.get(V);F&&this.remove(F)})}[Symbol.iterator](){return this._items[Symbol.iterator]()}}u.a=P,f.i(T.a)(P,h.a)},function(r,u,f){'use strict';function h(R){return R['data-ck-expando']||(R['data-ck-expando']=f.i(T.a)())}function w(R){return R&&f.i(S.a)(R.addEventListener)}var C=f(7),T=f(71),P=f(45),S=f(235);const E=f.i(P.a)({},C.a,{listenTo(...R){const V=R[0];w(V)&&(R[0]=this._getProxyEmitter(V)||new O(V)),C.a.listenTo.apply(this,R)},stopListening(...R){const V=R[0];if(w(V)){let F=this._getProxyEmitter(V);if(!F)return;R[0]=F}C.a.stopListening.apply(this,R)},_getProxyEmitter(R){return f.i(C.b)(this,h(R))}});u.a=E;class O{constructor(R){f.i(C.c)(this,h(R)),this._domNode=R}}f.i(P.a)(O.prototype,C.a,{on(R,V,F={}){if(C.a.on.apply(this,arguments),!(this._domListeners&&this._domListeners[R])){const I=this._createDomListener(R);this._domNode.addEventListener(R,I,!!F.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[R]=I}},off(R){C.a.off.apply(this,arguments);let V;!this._domListeners[R]||(V=this._events[R])&&V.callbacks.length||this._domListeners[R].removeListener()},_createDomListener(R){const V=(F)=>{this.fire(R,F)};return V.removeListener=()=>{this._domNode.removeEventListener(R,V),delete this._domListeners[R]},V}})},function(r,u){'use strict';u.a=function(w){const C=w.next();return C.done?null:C.value}},function(r,u,f){'use strict';function h(E){var O=-1,R=E?E.length:0;for(this.clear();++O<R;){var V=E[O];this.set(V[0],V[1])}}var w=f(490),C=f(491),T=f(492),P=f(493),S=f(494);h.prototype.clear=w.a,h.prototype['delete']=C.a,h.prototype.get=T.a,h.prototype.has=P.a,h.prototype.set=S.a,u.a=h},function(r,u,f){'use strict';function h(P){var S=-1,E=P?P.length:0;for(this.__data__=new w.a;++S<E;)this.add(P[S])}var w=f(122),C=f(501),T=f(502);h.prototype.add=h.prototype.push=C.a,h.prototype.has=T.a,u.a=h},function(r,u){'use strict';u.a=function(w,C){for(var T=-1,P=w.length,S=0,E=[],O;++T<P;)O=w[T],C(O,T,w)&&(E[S++]=O);return E}},function(r,u){'use strict';u.a=function(w,C){for(var T=-1,P=C.length,S=w.length;++T<P;)w[S+T]=C[T];return w}},function(r,u,f){'use strict';var w=f(57);u.a=function(C,T){for(var P=C.length;P--;)if(f.i(w.a)(C[P][0],T))return P;return-1}},function(r,u,f){'use strict';var w=f(133),C=f(229),T=f(47);u.a=function(E,O,R){var V=0,F=E?E.length:V;if('number'==typeof O&&O===O&&F<=4294967295>>>1){for(;V<F;){var I=V+F>>>1,N=E[I];null!==N&&!f.i(T.a)(N)&&(R?N<=O:N<O)?V=I+1:F=I}return F}return f.i(w.a)(E,O,C.a,R)}},function(r,u,f){'use strict';var w=f(37);u.a=function(C,T,P,S){for(var E=C.length,O=S?E:-1;(S?O--:++O<E)&&T(C[O],O,C););return P?f.i(w.a)(C,S?0:O,S?O+1:E):f.i(w.a)(C,S?O+1:0,S?E:O)}},function(r,u,f){'use strict';var w=f(11),C=f(509);u.a=function(T){return f.i(w.a)(T)?T:f.i(C.a)(T)}},function(r,u,f){'use strict';var w=f(488);u.a=function(C,T){var P=C.__data__;return f.i(w.a)(T)?P['string'==typeof T?'string':'hash']:P.map}},function(r,u){'use strict';u.a=function(w){var C=!1;if(null!=w&&'function'!=typeof w.toString)try{C=!!(w+'')}catch(T){}return C}},function(r,u,f){'use strict';var w=f(57),C=f(97),T=f(38),P=f(15);u.a=function(S,E,O){if(!f.i(P.a)(O))return!1;var R=typeof E;return!('number'==R?!(f.i(C.a)(O)&&f.i(T.a)(E,O.length)):!('string'==R&&E in O))&&f.i(w.a)(O[E],S)}},function(r,u){'use strict';var w=Object.prototype;u.a=function(C){var T=C&&C.constructor,P='function'==typeof T&&T.prototype||w;return C===P}},function(r,u,f){'use strict';var h=f(54),w=f.i(h.a)(Object,'create');u.a=w},function(r,u){'use strict';u.a=function(w){var C=-1,T=Array(w.size);return w.forEach(function(P){T[++C]=P}),T}},function(r,u,f){'use strict';var w=f(197);u.a=function(C){return f.i(w.a)(C,!1,!0)}},function(r,u,f){'use strict';var w=f(476),C=f(148),T=f(98);u.a=function(P){return null!=P&&f.i(T.a)(f.i(w.a)(P))&&!f.i(C.a)(P)}},function(r,u){'use strict';u.a=function(C){return'number'==typeof C&&-1<C&&0==C%1&&C<=9007199254740991}},function(r,u,f){'use strict';var w=f(140),C=f(91),T=f(46),S=Object.prototype,E=Function.prototype.toString,O=S.hasOwnProperty,R=E.call(Object),V=S.toString;u.a=function(F){if(!f.i(T.a)(F)||V.call(F)!='[object Object]'||f.i(C.a)(F))return!1;var I=f.i(w.a)(F);if(null===I)return!0;var N=O.call(I,'constructor')&&I.constructor;return'function'==typeof N&&N instanceof N&&E.call(N)==R}},function(r,u,f){'use strict';var w=f(84),C=f(27),T=f(131),P=f(202),S=f(14);u.a=function(O){if(!(O&&O.length))return[];var R=0;return O=f.i(w.a)(O,function(V){if(f.i(S.a)(V))return R=_Mathmax(V.length,R),!0}),f.i(P.a)(R,function(V){return f.i(C.a)(O,f.i(T.a)(V))})}},function(r,u,f){'use strict';var w=f(35),C=f(2),T=f(1);u.a=function(P,S,E){const O=[];for(let R of S){const V=new w.a({boundaries:R,mergeCharacters:!0});let F=V.next(),I=R.start,N=R.start,M=R.end;for(;!F.done;){const D=F.value.item.name||'$text',z=T.a.createBefore(F.value.item);E.check({name:D,inside:z,attributes:P})||(!N.isEqual(I)&&O.push(new C.a(N,I)),N=V.position),I=V.position,F=V.next()}N&&!N.isEqual(M)&&O.push(new C.a(N,M))}return O}},function(r,u,f){'use strict';function F(U,K){const H=new $.a({startPosition:U,singleCharacters:!0});let Y=0;for(let W of H)if('text'==W.type&&(Y++,Y==K))return H.position}function N(U){const K=U.split(':');return K[0]+':'+K[1]}var M=f(21),D=f(29),z=f(36),$=f(53),q=f(78);u.a=function(U){return(K,H,Y,W)=>{const Z=U instanceof M.a?U.clone(!0):U(H,Y,W);if(Z&&Y.consume(H.item,'insert')){const G=W.mapper.toViewPosition(H.range.start);W.mapper.bindElements(H.item,Z),q.a.insert(G,Z)}}},u.j=function(){return(U,K,H,Y)=>{if(H.consume(K.item,'insert')){const W=Y.mapper.toViewPosition(K.range.start),Z=new D.a(K.item.data);q.a.insert(W,Z)}}},u.f=function(U){return(K,H,Y,W)=>{let Z,G;if((U instanceof M.a?(Z=U.clone(!0),G=U.clone(!0)):(H.isOpening=!0,Z=U(H,Y,W),H.isOpening=!1,G=U(H,Y,W)),Z&&G)&&Y.consume(H.range,'addMarker')){const J=W.mapper;q.a.insert(J.toViewPosition(H.range.start),Z),H.range.isCollapsed||q.a.insert(J.toViewPosition(H.range.end),G)}}},u.h=function(U){return U=U||((K,H)=>({value:K,key:H})),(K,H,Y,W)=>{if(Y.consume(H.item,N(K.name))){const{key:Z,value:G}=U(H.attributeNewValue,H.attributeKey,H,Y,W);W.mapper.toViewElement(H.item).setAttribute(Z,G)}}},u.i=function(U){return U=U||((K,H)=>({key:H})),(K,H,Y,W)=>{if(Y.consume(H.item,N(K.name))){const{key:Z}=U(H.attributeOldValue,H.attributeKey,H,Y,W);W.mapper.toViewElement(H.item).removeAttribute(Z)}}},u.b=function(U){return(K,H,Y,W)=>{const Z=U instanceof M.a?U.clone(!0):U(H.attributeNewValue,H,Y,W);if(!Z)return;if(!Y.consume(H.item,N(K.name)))return;let G=W.mapper.toViewRange(H.range);if(null!==H.attributeOldValue&&!(U instanceof M.a)){const J=U(H.attributeOldValue,H,Y,W);G=q.a.unwrap(G,J)}q.a.wrap(G,Z)}},u.c=function(U){return(K,H,Y,W)=>{const Z=U instanceof M.a?U.clone(!0):U(H.attributeOldValue,H,Y,W);if(Z&&Y.consume(H.item,N(K.name))){const G=W.mapper.toViewRange(H.range);q.a.unwrap(G,Z)}}},u.d=function(U){return(K,H,Y,W)=>{const Z=U instanceof M.a?U.clone(!0):U(H,Y,W);if(Z&&Y.consume(H.range,'addMarker')){const G=W.mapper.toViewRange(H.range),J=q.a.breakViewRangePerContainer(G);for(let X of J)q.a.wrap(X,Z)}}},u.e=function(U){return(K,H,Y,W)=>{const Z=U instanceof M.a?U.clone(!0):U(H,Y,W);if(Z&&Y.consume(H.range,'removeMarker')){const G=W.mapper.toViewRange(H.range),J=q.a.breakViewRangePerContainer(G);for(let X of J)q.a.unwrap(X,Z)}}},u.k=function(){return(U,K,H,Y)=>{if(!H.consume(K.item,'remove'))return;const W=Y.mapper.toViewPosition(K.sourcePosition);let Z;if(K.item.is('element'))Z=z.a.createOn(W.nodeAfter);else{const G=F(W,K.item.offsetSize);Z=new z.a(W,G)}q.a.remove(Z.getTrimmed()),'$graveyard'==K.item.root.rootName&&Y.mapper.unbindModelElement(K.item)}},u.g=function(U){return(K,H,Y,W)=>{let Z,G;if((U instanceof M.a?(Z=U.clone(!0),G=U.clone(!0)):(H.isOpening=!0,Z=U(H,Y,W),H.isOpening=!1,G=U(H,Y,W)),Z&&G)&&Y.consume(H.range,'removeMarker')){const J=W.mapper.toViewRange(H.range);q.a.clear(J.getEnlarged(),G),Z.isSimilar(G)||q.a.clear(J.getEnlarged(),Z)}}}},function(r,u,f){'use strict';var h=f(20),w=f(106),C=f(18),T=f(39),P=f(17),S=f(13),E=f(51),O=f(2),R=f(1);class V extends h.a{get type(){return'insert'}get position(){return this._insertOperation?this._insertOperation.position:null}get nodes(){return this._insertOperation?this._insertOperation.nodes:null}get _insertOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return w.a}static get className(){return'engine.model.delta.InsertDelta'}static get _priority(){return 20}}u.a=V,f.i(P.b)('insert',function(F,I){const N=f.i(S.b)(I);if(0===N.length)return this;const M=new V,D=new T.a(F,N,this.document.version);if(this.addDelta(M),M.addOperation(D),this.document.applyOperation(D),I instanceof E.a)for(const[z,$]of I.markers){const q=R.a.createAt($.root),U=new O.a($.start._getCombined(q,F),$.end._getCombined(q,F));this.setMarker(z,U)}return this}),C.a.register(V)},function(r,u,f){'use strict';var h=f(20),w=f(18),C=f(107),T=f(17),P=f(1),S=f(5),E=f(40),O=f(28),R=f(0);class V extends h.a{get type(){return'merge'}get position(){return this._removeOperation?this._removeOperation.sourcePosition:null}getReversed(){let F=super.getReversed();return 0<F.operations.length&&(F.operations[1].isSticky=!1),F}get _removeOperation(){return this.operations[1]||null}get _reverseDeltaClass(){return C.a}static get className(){return'engine.model.delta.MergeDelta'}}u.a=V,f.i(T.b)('merge',function(F){const I=new V;this.addDelta(I);const N=F.nodeBefore,M=F.nodeAfter;if(!(N instanceof S.a))throw new R.a('batch-merge-no-element-before: Node before merge position must be an element.');if(!(M instanceof S.a))throw new R.a('batch-merge-no-element-after: Node after merge position must be an element.');const D=P.a.createFromParentAndOffset(M,0),z=P.a.createFromParentAndOffset(N,N.maxOffset),$=new O.a(D,M.maxOffset,z,this.document.version);$.isSticky=!0,I.addOperation($),this.document.applyOperation($);const q=new E.a(F,1,this.document.version);return I.addOperation(q),this.document.applyOperation(q),this}),w.a.register(V)},function(r,u,f){'use strict';function h(V,F,I,N,M){const D=new P.a(I,N,M,V.document.version);F.addOperation(D),V.document.applyOperation(D)}var w=f(20),C=f(18),T=f(17),P=f(28),S=f(1),E=f(2),O=f(0);class R extends w.a{get type(){return'move'}get howMany(){return this._moveOperation?this._moveOperation.howMany:null}get sourcePosition(){return this._moveOperation?this._moveOperation.sourcePosition:null}get targetPosition(){return this._moveOperation?this._moveOperation.targetPosition:null}get _moveOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return R}static get className(){return'engine.model.delta.MoveDelta'}static get _priority(){return 20}}u.a=R,f.i(T.b)('move',function(V,F){const I=new R;if(this.addDelta(I),V instanceof E.a){if(!V.isFlat)throw new O.a('batch-move-range-not-flat: Range to move is not flat.');h(this,I,V.start,V.end.offset-V.start.offset,F)}else h(this,I,S.a.createBefore(V),1,F);return this}),C.a.register(R)},function(r,u,f){'use strict';function h(R,V,F,I){const N=new P.a(F,I,R.document.version);V.addOperation(N),R.document.applyOperation(N)}var w=f(105),C=f(17),T=f(18),P=f(40),S=f(1),E=f(2);class O extends w.a{static get className(){return'engine.model.delta.RemoveDelta'}}u.a=O,f.i(C.b)('remove',function(R){const V=new O;if(this.addDelta(V),R instanceof E.a){let F=R.getMinimalFlatRanges().reverse();for(let I of F)h(this,V,I.start,I.end.offset-I.start.offset)}else h(this,V,S.a.createBefore(R),1);return this}),T.a.register(O)},function(r,u,f){'use strict';var h=f(20),w=f(18),C=f(17),T=f(1),P=f(5),S=f(39),E=f(28),O=f(0),R=f(104);class V extends h.a{get type(){return'split'}get position(){return this._moveOperation?this._moveOperation.sourcePosition:null}getReversed(){let F=super.getReversed();return 0<F.operations.length&&(F.operations[0].isSticky=!0),F}get _cloneOperation(){return this.operations[0]||null}get _moveOperation(){return this.operations[1]||null}get _reverseDeltaClass(){return R.a}static get className(){return'engine.model.delta.SplitDelta'}static get _priority(){return 5}}u.a=V,f.i(C.b)('split',function(F){const I=new V;this.addDelta(I);const N=F.parent;if(!N.parent)throw new O.a('batch-split-root: Root element can not be split.');const M=new P.a(N.name,N.getAttributes()),D=new S.a(T.a.createAfter(N),M,this.document.version);I.addOperation(D),this.document.applyOperation(D);const z=new E.a(F,N.maxOffset-F.offset,T.a.createFromParentAndOffset(M,0),this.document.version);return z.isSticky=!0,I.addOperation(z),this.document.applyOperation(z),this}),w.a.register(V)},function(r,u,f){'use strict';function h(D,z,$){const q=P(D,z)||C,U=q(D,z,$),K=N.a.last(z.operations).baseVersion;return w(K,U)}function w(D,z){for(let $ of z)for(let q of $.operations)q.baseVersion=++D;return z}function C(D,z,$){$=S(D.constructor,z.constructor,$);const q=new D.constructor;let U=z.operations,K=[];for(let H of D.operations){const Y=[H];for(let W of U)for(let Z=0;Z<Y.length;Z++){const G=Y[Z];Array.prototype.push.apply(K,f.i(F.a)(W,G,!$));const J=f.i(F.a)(G,W,$);Array.prototype.splice.apply(Y,[Z,1].concat(J)),Z+=J.length-1}U=K,K=[];for(let W of Y)q.addOperation(W)}return[q]}function P(D,z){let $=M.get(D.constructor);if(!$||!$.get(z.constructor)){const q=M.keys();for(let U of q)if(D instanceof U&&M.get(U).get(z.constructor)){$=M.get(U);break}}return $?$.get(z.constructor):void 0}function S(D,z,$){return!!(D._priority>z._priority)||!(D._priority<z._priority)&&$}function O(D){return D.reduce((z,$)=>{return z+$.operations.length},0)}function R(D,z){const $=D[D.length-1];let q=$.operations.length+$.baseVersion,U=new V.a;for(let K=0;K<z;K++)U.addOperation(new I.a(q++));D.push(U)}var V=f(20),F=f(356),I=f(75),N=f(511);u.c=C,u.b=function(D,z,$){let q=M.get(D);q||(q=new Map,M.set(D,q)),q.set(z,$)},u.a=function(D,z,$){let q=Array.from(D),U=Array.from(z);for(let Y=0,W;Y<q.length;Y++){W=[q[Y]];for(let Z=0,G;Z<U.length;Z++){G=[U[Z]];for(let J=0;J<W.length;J++)for(let X=0;X<G.length;X++){let Q=h(W[J],G[X],$),ee=h(G[X],W[J],!$);W.splice(J,1,...Q),J+=Q.length-1,G.splice(X,1,...ee),X+=ee.length-1}U.splice(Z,1,...G),Z+=G.length-1}q.splice(Y,1,...W),Y+=W.length-1}const K=O(q)-O(D),H=O(U)-O(z);return H<K?R(U,K-H):K<H&&R(q,H-K),{deltasA:q,deltasB:U}};const M=new Map},function(r,u,f){'use strict';var h=f(20),w=f(18),C=f(110),T=f(17),P=f(1),S=f(40),E=f(28),O=f(0);class R extends h.a{get type(){return'unwrap'}get position(){return this._moveOperation?this._moveOperation.targetPosition:null}get _moveOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return C.a}static get className(){return'engine.model.delta.UnwrapDelta'}static get _priority(){return 10}}u.a=R,f.i(T.b)('unwrap',function(V){if(null===V.parent)throw new O.a('batch-unwrap-element-no-parent: Trying to unwrap an element which has no parent.');const F=new R;this.addDelta(F);let I=P.a.createFromParentAndOffset(V,0);const N=new E.a(I,V.maxOffset,P.a.createBefore(V),this.document.version);N.isSticky=!0,F.addOperation(N),this.document.applyOperation(N);const M=new S.a(P.a.createBefore(V),1,this.document.version);return F.addOperation(M),this.document.applyOperation(M),this}),w.a.register(R)},function(r,u,f){'use strict';var h=f(20),w=f(18),C=f(109),T=f(17),P=f(1),S=f(2),E=f(5),O=f(39),R=f(28),V=f(0);class F extends h.a{get type(){return'wrap'}get range(){let I=this._moveOperation;return I?S.a.createFromPositionAndShift(I.sourcePosition,I.howMany):null}get howMany(){let I=this.range;return I?I.end.offset-I.start.offset:0}get _insertOperation(){return this.operations[0]||null}get _moveOperation(){return this.operations[1]||null}get _reverseDeltaClass(){return C.a}static get className(){return'engine.model.delta.WrapDelta'}static get _priority(){return 10}}u.a=F,f.i(T.b)('wrap',function(I,N){if(!I.isFlat)throw new V.a('batch-wrap-range-not-flat: Range to wrap is not flat.');let M=N instanceof E.a?N:new E.a(N);if(0<M.childCount)throw new V.a('batch-wrap-element-not-empty: Element to wrap with is not empty.');if(null!==M.parent)throw new V.a('batch-wrap-element-attached: Element to wrap with is already attached to tree model.');const D=new F;this.addDelta(D);let z=new O.a(I.end,M,this.document.version);D.addOperation(z),this.document.applyOperation(z);let $=P.a.createFromParentAndOffset(M,0),q=new R.a(I.start,I.end.offset-I.start.offset,$,this.document.version);return D.addOperation(q),this.document.applyOperation(q),this}),w.a.register(F)},function(r,u,f){'use strict';function h(){const E=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document,'change',(O,R,V,F,I)=>{E.has(R)&&w.call(this,R,I,V.range,V.sourcePosition)},{priority:'high'})}function w(E,O,R,V){const F=R.end.offset-R.start.offset;let I=R.start;'move'==E&&(I=I._getTransformedByInsertion(V,F));const N=this._getTransformedByDocumentChange(E,O,I,F,V);'move'==E&&3==N.length&&(N[2]=R);const M=C.a.createFromRanges(N);if(!M.isEqual(this)){const D=C.a.createFromRange(this);this.start=M.start,this.end=M.end,this.fire('change',D)}}var C=f(2),T=f(7),P=f(4);class S extends C.a{constructor(E,O){super(E,O),h.call(this)}detach(){this.stopListening()}}u.a=S,f.i(P.a)(S,T.a)},function(r,u,f){'use strict';var h=f(34),w=f(2);class C extends h.a{constructor(T,P,S,E,O){super(O),this.name=T,this.oldRange=P?w.a.createFromRange(P):null,this.newRange=S?w.a.createFromRange(S):null,this._markers=E}get type(){return'marker'}clone(){return new C(this.name,this.oldRange,this.newRange,this._markers,this.baseVersion)}getReversed(){return new C(this.name,this.newRange,this.oldRange,this._markers,this.baseVersion+1)}_execute(){const T=this.newRange?'set':'remove';return this._markers[T](this.name,this.newRange),{name:this.name,type:T}}toJSON(){const T=super.toJSON();return delete T._markers,T}static get className(){return'engine.model.operation.MarkerOperation'}static fromJSON(T,P){return new C(T.name,T.oldRange?w.a.fromJSON(T.oldRange,P):null,T.newRange?w.a.fromJSON(T.newRange,P):null,P.markers,T.baseVersion)}}u.a=C},function(r,u,f){'use strict';var h=f(28),w=f(40);class C extends h.a{get position(){return this.targetPosition}set position(T){this.targetPosition=T}get type(){return'reinsert'}getReversed(){const T=new w.a(this.targetPosition,this.howMany,this.baseVersion+1);return T.targetPosition=this.sourcePosition,T._needsHolderElement=!1,T}static get className(){return'engine.model.operation.ReinsertOperation'}}u.a=C},function(r,u,f){'use strict';var h=f(34),w=f(5),C=f(0),T=f(1);class P extends h.a{constructor(S,E,O,R){super(R),this.position=S,this.oldName=E,this.newName=O}get type(){return'rename'}clone(){return new P(T.a.createFromPosition(this.position),this.oldName,this.newName,this.baseVersion)}getReversed(){return new P(T.a.createFromPosition(this.position),this.newName,this.oldName,this.baseVersion+1)}_execute(){const S=this.position.nodeAfter;if(!(S instanceof w.a))throw new C.a('rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.');else if(S.name!==this.oldName)throw new C.a('rename-operation-wrong-name: Element to change has different name than operation\'s old name.');return this.oldName==this.newName?void 0:(S.name=this.newName,{element:S,oldName:this.oldName})}static get className(){return'engine.model.operation.RenameOperation'}static fromJSON(S,E){return new P(T.a.fromJSON(S.position,E),S.oldName,S.newName,S.baseVersion)}}u.a=P},function(r,u,f){'use strict';var h=f(34),w=f(0);class C extends h.a{constructor(T,P,S,E,O){super(O),this.root=T,this.key=P,this.oldValue=S,this.newValue=E}get type(){return null===this.oldValue?'addRootAttribute':null===this.newValue?'removeRootAttribute':'changeRootAttribute'}clone(){return new C(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new C(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_execute(){if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new w.a('rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation\'s old attribute value.',{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new w.a('rootattribute-operation-attribute-exists: The attribute with given key already exists.',{root:this.root,key:this.key});return null===this.newValue?this.root.removeAttribute(this.key):this.root.setAttribute(this.key,this.newValue),{root:this.root,key:this.key,oldValue:this.oldValue,newValue:this.newValue}}static get className(){return'engine.model.operation.RootAttributeOperation'}static fromJSON(T,P){if(!P.hasRoot(T.root))throw new w.a('rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.',{rootName:T});return new C(P.getRoot(T.root),T.key,T.oldValue,T.newValue,T.baseVersion)}}u.a=C},function(r,u,f){'use strict';function h(){if(this.childCount)return null;let P=this.parent;for(;P&&P.is('attributeElement');){if(1<P.childCount)return null;P=P.parent}return!P||1<P.childCount?null:0}var w=f(21);const C=10;class T extends w.a{constructor(P,S,E){super(P,S,E),this.priority=C,this.getFillerOffset=h}is(P,S=null){return S?'attributeElement'==P&&S==this.name||super.is(P,S):'attributeElement'==P||super.is(P)}clone(P){const S=super.clone(P);return S.priority=this.priority,S}isSimilar(P){return super.isSimilar(P)&&this.priority==P.priority}}u.a=T,T.DEFAULT_PRIORITY=C},function(r,u,f){'use strict';function h(E){return'string'==typeof E?[new w.a(E)]:(f.i(T.a)(E)||(E=[E]),Array.from(E).map((O)=>'string'==typeof O?new w.a(O):O))}var w=f(29),C=f(4),T=f(43),P=f(7);class S{constructor(E){this._children=[],E&&this.insertChildren(0,E)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(E){return'documentFragment'==E}appendChildren(E){return this.insertChildren(this.childCount,E)}getChild(E){return this._children[E]}getChildIndex(E){return this._children.indexOf(E)}getChildren(){return this._children[Symbol.iterator]()}insertChildren(E,O){this._fireChange('children',this);let R=0;O=h(O);for(let V of O)V.parent=this,this._children.splice(E,0,V),E++,R++;return R}removeChildren(E,O=1){this._fireChange('children',this);for(let R=E;R<E+O;R++)this._children[R].parent=null;return this._children.splice(E,O)}_fireChange(E,O){this.fire('change:'+E,O)}}u.a=S,f.i(C.a)(S,P.a)},function(r,u,f){'use strict';var h=f(45);class w{constructor(C,T,P){this.document=C,this.domEvent=T,this.domTarget=T.target,f.i(h.a)(this,P)}get target(){return this.document.domConverter.getCorrespondingViewElement(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}u.a=w},function(r,u){'use strict';function h(C){return C.focus}class w{constructor(C){if(Object.assign(this,C),C.actions&&C.keystrokeHandler)for(let T in C.actions){let P=C.actions[T];'string'==typeof P&&(P=[P]);for(let S of P)C.keystrokeHandler.set(S,(E,O)=>{this[T](),O()})}}get first(){return this.focusables.find(h)||null}get last(){return this.focusables.filter(h).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let C=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((T,P)=>{const S=T.element===this.focusTracker.focusedElement;return S&&(C=P),S}),C)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(C){C&&C.focus()}_getFocusableItem(C){const T=this.current,P=this.focusables.length;if(!P||null===T)return null;let S=(T+P+C)%P;do{let E=this.focusables.get(S);if(h(E))return E;S=(S+P+C)%P}while(S!==T);return null}}u.a=w},function(r,u,f){'use strict';function h(E){return E.every((O)=>'string'==typeof O)}var w=f(0),C=f(31),T=f(79),P=f(4);class S extends T.a{constructor(E){super({idProperty:'viewUid'}),this.on('add',(O,R,V)=>{R.element&&this._parentElement&&this._parentElement.insertBefore(R.element,this._parentElement.children[V])}),this.on('remove',(O,R)=>{R.element&&this._parentElement&&R.element.remove()}),this.locale=E,this.set('ready',!1),this._parentElement=null}init(){if(this.ready)throw new w.a('ui-viewcollection-init-reinit: This ViewCollection has already been initialized.');return Promise.all(this.map((E)=>E.init())).then(()=>{this.ready=!0})}destroy(){let E=[];for(let O of this)E.push(O.destroy());return Promise.all(E)}add(E,O){super.add(E,O);let R=Promise.resolve();return this.ready&&!E.ready&&(R=R.then(()=>{return E.init()})),R}setParent(E){this._parentElement=E}delegate(...E){if(!E.length||!h(E))throw new w.a('ui-viewcollection-delegate-wrong-events: All event names must be strings.');return{to:(O)=>{for(let R of this)for(let V of E)R.delegate(V).to(O);this.on('add',(R,V)=>{for(let F of E)V.delegate(F).to(O)}),this.on('remove',(R,V)=>{for(let F of E)V.stopDelegating(F,O)})}}}}u.a=S,f.i(P.a)(T.a,C.a)},function(r,u,f){'use strict';function h(P,S){let E=w([P],S);E.sort((O,R)=>O.start.isBefore(R.start)?-1:1);for(let O=1;O<E.length;O++){let R=E[O-1],V=E[O];R.end.isTouching(V.start)&&(R.end=V.end,E.splice(O,1),O--)}return E}function w(P,S){for(let E of S)for(let O of E.operations)for(let R=0;R<P.length;R++){let V;switch(O.type){case'insert':V=P[R]._getTransformedByInsertion(O.position,O.nodes.maxOffset,!0);break;case'move':case'remove':case'reinsert':V=P[R]._getTransformedByMove(O.sourcePosition,O.targetPosition,O.howMany,!0);}V&&(P.splice(R,1,...V),R=R+V.length-1)}return P}var C=f(12);u.b=w;class T extends C.a{constructor(P){super(P),this._stack=[],this._createdBatches=new WeakSet,this.refreshState()}addBatch(P){const S={ranges:Array.from(this.editor.document.selection.getRanges()),isBackward:this.editor.document.selection.isBackward};this._stack.push({batch:P,selection:S}),this.refreshState()}clearStack(){this._stack=[],this.refreshState()}_checkEnabled(){return 0<this._stack.length}_restoreSelection(P,S,E){const O=this.editor.document,R=[];for(let V of P){const F=h(V,E),I=F.find((N)=>N.start.root!=O.graveyard);I&&R.push(I)}R.length&&O.selection.setRanges(R,S)}}u.a=T},function(r,u,f){'use strict';function h(E){var O=-1,R=E?E.length:0;for(this.clear();++O<R;){var V=E[O];this.set(V[0],V[1])}}var w=f(495),C=f(496),T=f(497),P=f(498),S=f(499);h.prototype.clear=w.a,h.prototype['delete']=C.a,h.prototype.get=T.a,h.prototype.has=P.a,h.prototype.set=S.a,u.a=h},function(r,u,f){'use strict';function h(O){this.__data__=new w.a(O)}var w=f(82),C=f(504),T=f(505),P=f(506),S=f(507),E=f(508);h.prototype.clear=C.a,h.prototype['delete']=T.a,h.prototype.get=P.a,h.prototype.has=S.a,h.prototype.set=E.a,u.a=h},function(r,u,f){'use strict';var h=f(30),w=h.a.Symbol;u.a=w},function(r,u,f){'use strict';var w=f(128);u.a=function(C,T){return!!C.length&&-1<f.i(w.a)(C,T,0)}},function(r,u){'use strict';u.a=function(w,C,T){for(var P=-1,S=w.length;++P<S;)if(T(C,w[P]))return!0;return!1}},function(r,u,f){'use strict';var w=f(89),C=f(55),T=f(56);u.a=function(P,S){S=f.i(C.a)(S,P)?[S]:f.i(w.a)(S);for(var E=0,O=S.length;null!=P&&E<O;)P=P[f.i(T.a)(S[E++])];return E&&E==O?P:void 0}},function(r,u,f){'use strict';var w=f(208);u.a=function(C,T,P){if(T!==T)return f.i(w.a)(C,P);for(var S=P-1,E=C.length;++S<E;)if(C[S]===T)return S;return-1}},function(r,u,f){'use strict';var w=f(83),C=f(125),T=f(126),P=f(27),S=f(134),E=f(136);u.a=function(R,V,F){for(var I=F?T.a:C.a,N=R[0].length,M=R.length,D=M,z=Array(M),$=Infinity,q=[],U;D--;)U=R[D],D&&V&&(U=f.i(P.a)(U,f.i(S.a)(V))),$=_Mathmin(U.length,$),z[D]=!F&&(V||120<=N&&120<=U.length)?new w.a(D&&U):void 0;U=R[0];var K=-1,H=z[0];outer:for(;++K<N&&q.length<$;){var Y=U[K],W=V?V(Y):Y;if(Y=F||0!==Y?Y:0,H?!f.i(E.a)(H,W):!I(q,W,F)){for(D=M;--D;){var Z=z[D];if(Z?!f.i(E.a)(Z,W):!I(R[D],W,F))continue outer}H&&H.push(W),q.push(Y)}}return q}},function(r,u,f){'use strict';function h(P,S,E,O,R){return!(P!==S)||(null!=P&&null!=S&&(f.i(C.a)(P)||f.i(T.a)(S))?f.i(w.a)(P,S,h,E,O,R):P!==P&&S!==S)}var w=f(449),C=f(15),T=f(46);u.a=h},function(r,u){'use strict';u.a=function(w){return function(C){return null==C?void 0:C[w]}}},function(r,u,f){'use strict';var w=f(27),C=f(128),T=f(448),P=f(134),S=Array.prototype,E=S.splice;u.a=function(O,R,V,F){var I=F?T.a:C.a,N=-1,M=R.length,D=O;for(V&&(D=f.i(w.a)(O,f.i(P.a)(V)));++N<M;)for(var z=0,$=R[N],q=V?V($):$;-1<(z=I(D,q,z,F));)D!==O&&E.call(D,z,1),E.call(O,z,1);return O}},function(r,u,f){'use strict';var w=f(47);u.a=function(E,O,R,V){O=R(O);for(var F=0,I=E?E.length:0,N=O!==O,M=null===O,D=f.i(w.a)(O),z=void 0===O;F<I;){var $=_Mathfloor((F+I)/2),q=R(E[$]),U=q!==void 0,K=null===q,H=q===q,Y=f.i(w.a)(q);if(N)var W=V||H;else W=z?H&&(V||U):M?H&&U&&(V||!K):D?H&&U&&!K&&(V||!Y):K||Y?!1:V?q<=O:q<O;W?F=$+1:I=$}return _Mathmin(I,4294967295-1)}},function(r,u){'use strict';u.a=function(w){return function(C){return w(C)}}},function(r,u,f){'use strict';var w=f(85),C=f(69),T=f(44);u.a=function(P,S,E){for(var O=-1,R=P.length,V;++O<R;)V=V?f.i(w.a)(f.i(C.a)(V,P[O],S,E),f.i(C.a)(P[O],V,S,E)):P[O];return V&&V.length?f.i(T.a)(V,S,E):[]}},function(r,u){'use strict';u.a=function(w,C){return w.has(C)}},function(r,u,f){'use strict';var w=f(14);u.a=function(C){return f.i(w.a)(C)?C:[]}},function(r,u,f){'use strict';var w=f(194);u.a=function(C){var T=new C.constructor(C.byteLength);return new w.a(T).set(new w.a(C)),T}},function(r,u,f){'use strict';var w=f(68);u.a=function(C,T,P,S){P||(P={});for(var E=-1,O=T.length;++E<O;){var R=T[E],V=S?S(P[R],C[R],R,P,C):C[R];f.i(w.a)(P,R,V)}return P}},function(r,u){'use strict';var w=Object.getPrototypeOf;u.a=function(C){return w(Object(C))}},function(r,u,f){'use strict';function h(H){return D.call(H)}var w=f(432),C=f(192),T=f(434),P=f(193),S=f(436),E=f(211),O='[object Map]',V='[object Promise]',F='[object Set]',I='[object WeakMap]',N='[object DataView]',M=Object.prototype,D=M.toString,z=f.i(E.a)(w.a),$=f.i(E.a)(C.a),q=f.i(E.a)(T.a),U=f.i(E.a)(P.a),K=f.i(E.a)(S.a);(w.a&&h(new w.a(new ArrayBuffer(1)))!=N||C.a&&h(new C.a)!=O||T.a&&h(T.a.resolve())!=V||P.a&&h(new P.a)!=F||S.a&&h(new S.a)!=I)&&(h=function(H){var Y=D.call(H),W=Y=='[object Object]'?H.constructor:void 0,Z=W?f.i(E.a)(W):void 0;if(Z)switch(Z){case z:return N;case $:return O;case q:return V;case U:return F;case K:return I;}return Y}),u.a=h},function(r,u){'use strict';u.a=function(w){var C=-1,T=Array(w.size);return w.forEach(function(P,S){T[++C]=[S,P]}),T}},function(r,u,f){'use strict';var w=f(15),C=f(523),T=f(259);u.a=function(O,R,V){function F(te){var ae=K,ne=H;return K=H=void 0,J=te,W=O.apply(ne,ae),W}function I(te){return J=te,Z=setTimeout(D,R),X?F(te):W}function N(te){var ae=te-G,ne=te-J,oe=R-ae;return Q?_Mathmin(oe,Y-ne):oe}function M(te){var ae=te-G,ne=te-J;return!G||ae>=R||0>ae||Q&&ne>=Y}function D(){var te=f.i(C.a)();return M(te)?z(te):void(Z=setTimeout(D,N(te)))}function z(te){return(clearTimeout(Z),Z=void 0,ee&&K)?F(te):(K=H=void 0,W)}function U(){var te=f.i(C.a)(),ae=M(te);if(K=arguments,H=this,G=te,ae){if(void 0===Z)return I(G);if(Q)return clearTimeout(Z),Z=setTimeout(D,R),F(G)}return void 0===Z&&(Z=setTimeout(D,R)),W}var G=0,J=0,X=!1,Q=!1,ee=!0,K,H,Y,W,Z;if('function'!=typeof O)throw new TypeError('Expected a function');return R=f.i(T.a)(R)||0,f.i(w.a)(V)&&(X=!!V.leading,Q='maxWait'in V,Y=Q?_Mathmax(f.i(T.a)(V.maxWait)||0,R):Y,ee='trailing'in V?!!V.trailing:ee),U.cancel=function(){void 0!==Z&&clearTimeout(Z),G=J=0,K=H=Z=void 0},U.flush=function(){return void 0===Z?W:z(f.i(C.a)())},U}},function(r,u,f){'use strict';var w=f(37),C=f(16);u.a=function(T,P,S){var E=T?T.length:0;return E?(P=S||void 0===P?1:f.i(C.a)(P),f.i(w.a)(T,0>P?0:P,E)):[]}},function(r,u,f){'use strict';var w=f(37),C=f(16);u.a=function(T,P,S){var E=T?T.length:0;return E?(P=S||void 0===P?1:f.i(C.a)(P),P=E-P,f.i(w.a)(T,0,0>P?0:P)):[]}},function(r,u){'use strict';u.a=function(w){return w&&w.length?w[0]:void 0}},function(r,u,f){'use strict';var w=f(14),T=Object.prototype,P=T.hasOwnProperty,S=T.toString,E=T.propertyIsEnumerable;u.a=function(O){return f.i(w.a)(O)&&P.call(O,'callee')&&(!E.call(O,'callee')||S.call(O)=='[object Arguments]')}},function(r,u,f){'use strict';var w=f(15),P=Object.prototype,S=P.toString;u.a=function(E){var O=f.i(w.a)(E)?S.call(E):'';return O=='[object Function]'||O=='[object GeneratorFunction]'}},function(r,u,f){'use strict';var w=f(11),C=f(46),P=Object.prototype,S=P.toString;u.a=function(E){return'string'==typeof E||!f.i(w.a)(E)&&f.i(C.a)(E)&&S.call(E)=='[object String]'}},function(r,u,f){'use strict';var w=f(132);u.a=function(C,T){return C&&C.length&&T&&T.length?f.i(w.a)(C,T):C}},function(r,u,f){'use strict';var w=f(195),C=f(27),T=f(100);u.a=function(P,S){if(!(P&&P.length))return[];var E=f.i(T.a)(P);return null==S?E:f.i(C.a)(E,function(O){return f.i(w.a)(S,void 0,O)})}},function(r,u,f){'use strict';var w=f(99),C=f(274);u.a=function(T){return f.i(w.a)(T)?f.i(C.a)(T):new Map(T)}},function(r,u){'use strict';function C(F,I){F.setCustomProperty(O,I)}function S(){return null}u.b=function(F){return!!F.getCustomProperty(E)},u.a=function(F,I){return I=I||{},F.setAttribute('contenteditable',!1),F.getFillerOffset=S,F.addClass(R),F.setCustomProperty(E,!0),I.label&&C(F,I.label),F},u.e=function(F){const I=F.getCustomProperty(O);return I?'function'==typeof I?I():I:''},u.c=function(F){return F.setAttribute('contenteditable','true'),F.addClass('ck-editable'),F.on('change:isFocused',(I,N,M)=>{M?F.addClass('ck-editable_focused'):F.removeClass('ck-editable_focused')}),F};const E=Symbol('isWidget'),O=Symbol('label'),R='ck-widget';u.d='ck-widget_selected'},function(r,u,f){'use strict';var h=f(6),w=f(3),C=f(187),T=f(42),P=f(177);class S extends w.a{static get pluginName(){return'image/imagetoolbar'}constructor(E){super(E),E.config.set('image.defaultToolbar',[]),this.isEnabled=!0}afterInit(){const E=this.editor,O=E.config.get('image.toolbar')||E.config.get('image.defaultToolbar');if(O.length){const R=this._panel=new P.a(E),V=[],F=new C.a;return h.a.extend(R.template,{attributes:{class:['ck-toolbar__container']}}),V.push(R.content.add(F)),V.push(F.fillFromConfig(O,E.ui.componentFactory)),V.push(E.ui.view.body.add(R)),this.listenTo(this.editor.editing.view,'render',()=>{this.isEnabled&&this.show()},{priority:'low'}),this.listenTo(E.ui.focusTracker,'change:isFocused',(I,N,M,D)=>{!D&&M&&this.isEnabled&&this.show()}),Promise.all(V)}}show(){const E=this.editor.editing.view.selection.getSelectedElement();E&&f.i(T.a)(E)&&this._panel.attach()}hide(){this._panel.detach()}}u.a=S},function(r,u,f){'use strict';var h=f(3),w=f(49),C=f(50),T=f(160);const P='bold';class S extends h.a{init(){const E=this.editor,O=E.data,R=E.editing;E.document.schema.allow({name:'$inline',attributes:[P]}),f.i(w.a)().for(O.modelToView,R.modelToView).fromAttribute(P).toElement('strong'),f.i(C.a)().for(O.viewToModel).fromElement('strong').fromElement('b').fromAttribute('style',{'font-weight':'bold'}).toAttribute(P,!0),E.commands.set(P,new T.a(E,P))}}u.a=S},function(r,u,f){'use strict';var h=f(3),w=f(49),C=f(50),T=f(160);const P='italic';class S extends h.a{init(){const E=this.editor,O=E.data,R=E.editing;E.document.schema.allow({name:'$inline',attributes:[P]}),f.i(w.a)().for(O.modelToView,R.modelToView).fromAttribute(P).toElement('em'),f.i(C.a)().for(O.viewToModel).fromElement('em').fromElement('i').fromAttribute('style',{'font-style':'italic'}).toAttribute(P,!0),E.commands.set(P,new T.a(E,P))}}u.a=S},function(r){var f=function(){return this}();try{f=f||Function('return this')()||(1,eval)('this')}catch(h){'object'==typeof window&&(f=window)}r.exports=f},function(r){r.exports=function(f){if(!f.webpackPolyfill){var h=Object.create(f);h.children||(h.children=[]),Object.defineProperty(h,'loaded',{enumerable:!0,get:function(){return h.l}}),Object.defineProperty(h,'id',{enumerable:!0,get:function(){return h.i}}),Object.defineProperty(h,'exports',{enumerable:!0}),h.webpackPolyfill=1}return h}},function(r,u,f){'use strict';var w=f(35);u.a=function(C,T,P){if(T.isCollapsed)return P.check({name:'$text',inside:T.getFirstPosition(),attributes:C});const S=T.getRanges();for(let E of S){const O=new w.a({boundaries:E,mergeCharacters:!0});for(let R=O.position,V=O.next();!V.done;){const F=V.value.item.name||'$text';if(P.check({name:F,inside:R,attributes:C}))return!0;R=O.position,V=O.next()}}return!1}},function(r,u,f){'use strict';var h=f(12),w=f(101),C=f(159);class T extends h.a{constructor(P,S){super(P),this.attributeKey=S,this.set('value',!1),this.listenTo(this.editor.document.selection,'change:attribute',()=>{this.value=this.editor.document.selection.hasAttribute(this.attributeKey)})}_checkEnabled(){const P=this.editor.document;return f.i(C.a)(this.attributeKey,P.selection,P.schema)}_doExecute(P={}){const S=this.editor.document,E=S.selection,O=P.forceValue===void 0?!this.value:P.forceValue;S.enqueueChanges(()=>{if(E.isCollapsed)O?E.setAttribute(this.attributeKey,!0):E.removeAttribute(this.attributeKey);else{const R=f.i(w.a)(this.attributeKey,E.getRanges(),S.schema),V=P.batch||S.batch();for(let F of R)O?V.setAttribute(F,this.attributeKey,O):V.removeAttribute(F,this.attributeKey)}})}}u.a=T},function(r,u,f){'use strict';var h=f(1),w=f(2),C=f(25),T=f(36),P=f(29),S=f(7),E=f(4);class O{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this.on('modelToViewPosition',(R,V)=>{if(!V.viewPosition){let F=this._modelToViewMapping.get(V.modelPosition.parent);V.viewPosition=this._findPositionIn(F,V.modelPosition.offset)}},{priority:'low'}),this.on('viewToModelPosition',(R,V)=>{if(V.modelPosition)return;let F=V.viewPosition.parent,I=this._viewToModelMapping.get(F);for(;!I;)F=F.parent,I=this._viewToModelMapping.get(F);let N=this._toModelOffset(V.viewPosition.parent,V.viewPosition.offset,F);V.modelPosition=h.a.createFromParentAndOffset(I,N)},{priority:'low'})}bindElements(R,V){this._modelToViewMapping.set(R,V),this._viewToModelMapping.set(V,R)}unbindViewElement(R){const V=this.toModelElement(R);this._unbindElements(V,R)}unbindModelElement(R){const V=this.toViewElement(R);this._unbindElements(R,V)}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap}toModelElement(R){return this._viewToModelMapping.get(R)}toViewElement(R){return this._modelToViewMapping.get(R)}toModelRange(R){return new w.a(this.toModelPosition(R.start),this.toModelPosition(R.end))}toViewRange(R){return new T.a(this.toViewPosition(R.start),this.toViewPosition(R.end))}toModelPosition(R){const V={viewPosition:R,mapper:this};return this.fire('viewToModelPosition',V),V.modelPosition}toViewPosition(R){const V={modelPosition:R,mapper:this};return this.fire('modelToViewPosition',V),V.viewPosition}registerViewToModelLength(R,V){this._viewToModelLengthCallbacks.set(R,V)}_toModelOffset(R,V,F){if(F!=R){const N=this._toModelOffset(R.parent,R.index,F),M=this._toModelOffset(R,V,R);return N+M}if(R.is('text'))return V;let I=0;for(let N=0;N<V;N++)I+=this.getModelLength(R.getChild(N));return I}_unbindElements(R,V){this._viewToModelMapping.delete(V),this._modelToViewMapping.delete(R)}getModelLength(R){if(this._viewToModelLengthCallbacks.get(R.name)){const V=this._viewToModelLengthCallbacks.get(R.name);return V(R)}if(this._viewToModelMapping.has(R))return 1;if(R.is('text'))return R.data.length;if(R.is('uiElement'))return 0;let V=0;for(let F of R.getChildren())V+=this.getModelLength(F);return V}_findPositionIn(R,V){let F,I=0,N=0,M=0;if(R.is('text'))return new C.a(R,V);for(;N<V;)F=R.getChild(M),I=this.getModelLength(F),N+=I,M++;return N==V?this._moveViewPositionToTextNode(new C.a(R,M)):this._findPositionIn(F,V-(N-I))}_moveViewPositionToTextNode(R){const V=R.nodeBefore,F=R.nodeAfter;if(V instanceof P.a)return new C.a(V,V.data.length);return F instanceof P.a?new C.a(F,0):R}}u.a=O,f.i(E.a)(O,S.a)},function(r,u,f){'use strict';function P(F,I,N,M,D){if(!F.isCollapsed)return;if(!M.consume(F,D))return;let z=I.getFirstPosition();z=V.a.wrapPosition(z,N),I.removeAllRanges(),I.addRange(new R.a(z,z))}var O=f(21),R=f(36),V=f(78);u.e=function(){return(F,I,N,M)=>{const D=I.selection;if(!D.isCollapsed&&N.consume(D,'selection')){M.viewSelection.removeAllRanges();for(let z of D.getRanges()){const $=M.mapper.toViewRange(z);M.viewSelection.addRange($,D.isBackward)}}}},u.f=function(){return(F,I,N,M)=>{const D=I.selection;if(D.isCollapsed&&N.consume(D,'selection')){const z=D.getFirstPosition(),$=M.mapper.toViewPosition(z),q=V.a.breakAttributes($);M.viewSelection.removeAllRanges(),M.viewSelection.addRange(new R.a(q,q))}}},u.a=function(F){return(I,N,M,D)=>{const z=F instanceof O.a?F.clone(!0):F(N.value,N,N.selection,M,D);if(z){const $='selectionAttribute:'+N.key;P(N.selection,D.viewSelection,z,M,$)}}},u.b=function(F){return(I,N,M,D)=>{const z=F instanceof O.a?F.clone(!0):F(N,M,D);if(z){const $='selectionMarker:'+N.name;P(N.selection,D.viewSelection,z,M,$)}}},u.c=function(){return(F,I,N,M)=>{for(let D of M.viewSelection.getRanges())D.isCollapsed&&D.end.parent.document&&V.a.mergeAttributes(D.start);M.viewSelection.removeAllRanges()}},u.d=function(){return(F,I,N,M)=>M.viewSelection.setFake(!1)}},function(r,u,f){'use strict';var h=f(342),w=f(2),C=f(1),T=f(51),P=f(7),S=f(4),E=f(45);class O{constructor(R,V={}){this._modelDocument=R,this.conversionApi=f.i(E.a)({dispatcher:this},V)}convertChange(R,V){'remove'!==R&&V.range&&'$graveyard'==V.range.root.rootName||'remove'==R&&'$graveyard'==V.sourcePosition.root.rootName||'rename'==R&&'$graveyard'==V.element.root.rootName||('insert'==R||'reinsert'==R?this.convertInsertion(V.range):'move'==R?this.convertMove(V.sourcePosition,V.range):'remove'==R?this.convertRemove(V.sourcePosition,V.range):'addAttribute'==R||'removeAttribute'==R||'changeAttribute'==R?this.convertAttribute(R,V.range,V.key,V.oldValue,V.newValue):'rename'==R&&this.convertRename(V.element,V.oldName))}convertInsertion(R){const V=this._createInsertConsumable(R);for(let F of R){const I=F.item,N=w.a.createFromPositionAndShift(F.previousPosition,F.length),M={item:I,range:N};this._testAndFire('insert',M,V);for(let D of I.getAttributeKeys())M.attributeKey=D,M.attributeOldValue=null,M.attributeNewValue=I.getAttribute(D),this._testAndFire(`addAttribute:${D}`,M,V)}for(let F of this._modelDocument.markers){const I=F.getRange();I.containsPosition(R.start)&&this.convertMarker('addMarker',F.name,I.getIntersection(R)),(R.containsRange(I)||R.isEqual(I))&&this.convertMarker('addMarker',F.name,I)}}convertMove(R,V){if(V.start.isBefore(R)){this.convertInsertion(V);const F=R._getTransformedByInsertion(V.start,V.end.offset-V.start.offset);this.convertRemove(F,V)}else this.convertRemove(R,V),this.convertInsertion(V)}convertRemove(R,V){const F=this._createConsumableForRange(V,'remove');for(let I of V.getItems({shallow:!0})){this._testAndFire(`remove`,{sourcePosition:R,item:I},F)}}convertAttribute(R,V,F,I,N){const M=this._createConsumableForRange(V,R+':'+F);for(let D of V){const z=D.item,$=w.a.createFromPositionAndShift(D.previousPosition,D.length);this._testAndFire(`${R}:${F}`,{item:z,range:$,attributeKey:F,attributeOldValue:I,attributeNewValue:N},M)}}convertRename(R,V){const F=R.clone(!0);F.name=V,this.conversionApi.mapper.bindElements(F,this.conversionApi.mapper.toViewElement(R));const I=new T.a;I.appendChildren(F),this.convertRemove(C.a.createBefore(R),w.a.createOn(F)),this.convertInsertion(w.a.createOn(R))}convertSelection(R){const V=Array.from(this._modelDocument.markers.getMarkersAtPosition(R.getFirstPosition())),F=this._createSelectionConsumable(R,V);this.fire('selection',{selection:R},F,this.conversionApi);for(let I of V){const N={selection:R,name:I.name};F.test(R,'selectionMarker:'+I.name)&&this.fire('selectionMarker:'+I.name,N,F,this.conversionApi)}for(let I of R.getAttributeKeys()){const N={selection:R,key:I,value:R.getAttribute(I)};F.test(R,'selectionAttribute:'+N.key)&&this.fire('selectionAttribute:'+N.key,N,F,this.conversionApi)}}convertMarker(R,V,F){if(F.root.document&&'$graveyard'!=F.root.rootName){const I=this._createMarkerConsumable(R,F);this.fire(R+':'+V,{name:V,range:F},I,this.conversionApi)}}_createInsertConsumable(R){const V=new h.a;for(let F of R){const I=F.item;V.add(I,'insert');for(let N of I.getAttributeKeys())V.add(I,'addAttribute:'+N)}return V}_createConsumableForRange(R,V){const F=new h.a;for(let I of R.getItems())F.add(I,V);return F}_createSelectionConsumable(R,V){const F=new h.a;F.add(R,'selection');for(let I of V)F.add(R,'selectionMarker:'+I.name);for(let I of R.getAttributeKeys())F.add(R,'selectionAttribute:'+I);return F}_createMarkerConsumable(R,V){const F=new h.a;return F.add(V,R),F}_testAndFire(R,V,F){if(F.test(V.item,R)){const I=V.item.name||'$text';this.fire(R+':'+I,V,F,this.conversionApi)}}}u.a=O,f.i(S.a)(O,P.a)},function(r,u,f){'use strict';var h=f(347),w=f(169),C=f(61);u.a=class{constructor(){this._domParser=new DOMParser,this._domConverter=new w.a({blockFiller:C.a}),this._htmlWriter=new h.a}toData(P){const S=this._domConverter.viewToDom(P,document);return this._htmlWriter.getHtml(S)}toView(P){const S=this._toDom(P);return this._domConverter.domToView(S)}_toDom(P){const S=this._domParser.parseFromString(P,'text/html'),E=S.createDocumentFragment(),O=S.body.childNodes;for(;0<O.length;)E.appendChild(O[0]);return E}}},function(r,u,f){'use strict';function h(N,M,D,z){z instanceof V.a?C(N,N.document,M,D,z):w(N,N.document,M,D,z)}function w(N,M,D,z,$){const q=$.getAttribute(D);let U,K;const H=$.is('rootElement')?new I:new F;q!=z&&(N.addDelta(H),$.is('rootElement')?K=new O.a($,D,q,z,M.version):(U=$.is('element')?new V.a(R.a.createBefore($),R.a.createFromParentAndOffset($,0)):new V.a(R.a.createBefore($),R.a.createAfter($)),K=new E.a(U,D,q,z,M.version)),H.addOperation(K),M.applyOperation(K))}function C(N,M,D,z,$){function q(){0===U.operations.length&&N.addDelta(U);let Z=new V.a(K,H);const G=new E.a(Z,D,Y,z,M.version);U.addOperation(G),M.applyOperation(G)}const U=new F;let K=$.start,H,Y,W;for(let Z of $)W=Z.item.getAttribute(D),H&&Y!=W&&(Y!=z&&q(),K=H),H=Z.nextPosition,Y=W;H instanceof R.a&&H!=K&&Y!=z&&q()}var T=f(20),P=f(18),S=f(17),E=f(74),O=f(115),R=f(1),V=f(2);class F extends T.a{get type(){return'attribute'}get key(){return this.operations[0]?this.operations[0].key:null}get value(){return this.operations[0]?this.operations[0].newValue:null}get range(){if(this._range)return this._range;let N=null,M=null;for(let D of this.operations)(null==N||N.isAfter(D.range.start))&&(N=D.range.start),(null==M||M.isBefore(D.range.end))&&(M=D.range.end);return N&&M?(this._range=new V.a(N,M),this._range):null}get _reverseDeltaClass(){return F}static get className(){return'engine.model.delta.AttributeDelta'}static get _priority(){return 20}}u.a=F;class I extends T.a{static get className(){return'engine.model.delta.RootAttributeDelta'}}f.i(S.b)('setAttribute',function(N,M,D){return h(this,M,D,N),this}),f.i(S.b)('removeAttribute',function(N,M){return h(this,M,null,N),this}),P.a.register(F),P.a.register(I)},function(r,u,f){'use strict';function h(V,F,I){F.addOperation(I),V.document.applyOperation(I)}var w=f(20),C=f(18),T=f(17),P=f(114),S=f(5),E=f(1),O=f(0);class R extends w.a{get type(){return'rename'}get _reverseDeltaClass(){return R}static get className(){return'engine.model.delta.RenameDelta'}}u.a=R,f.i(T.b)('rename',function(V,F){if(!(V instanceof S.a))throw new O.a('batch-rename-not-element-instance: Trying to rename an object which is not an instance of Element.');const I=new R;return this.addDelta(I),h(this,I,new P.a(E.a.createBefore(V),V.name,F,this.document.version)),this}),C.a.register(R)},function(r,u,f){'use strict';var h=f(103),w=f(17),C=f(18),T=f(39),P=f(13);class S extends h.a{static get className(){return'engine.model.delta.WeakInsertDelta'}}u.a=S,f.i(w.b)('weakInsert',function(E,O){const R=new S;this.addDelta(R),O=f.i(P.b)(O);for(let F of O)F.setAttributesTo(this.document.selection.getAttributes());const V=new T.a(E,O,this.document.version);return R.addOperation(V),this.document.applyOperation(V),this}),C.a.register(S)},function(r,u,f){'use strict';function h(){const R=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document,'change',(V,F,I)=>{R.has(F)&&w.call(this,F,I.range,I.sourcePosition)},{priority:'high'})}function w(R,V,F){let I=V.end.offset-V.start.offset,N;switch(R){case'insert':let M='sticksToNext'==this.stickiness;N=this._getTransformedByInsertion(V.start,I,M);break;case'move':case'remove':case'reinsert':let D=T.a.createFromPositionAndShift(F,I),z=D.containsPosition(this)||D.start.isEqual(this)&&'sticksToNext'==this.stickiness||D.end.isEqual(this)&&'sticksToPrevious'==this.stickiness;if(z)N=this._getCombined(F,V.start);else{let $='sticksToNext'==this.stickiness;N=this._getTransformedByMove(F,V.start,I,$)}}if(!this.isEqual(N)){const M=C.a.createFromPosition(this);this.path=N.path,this.root=N.root,this.fire('change',M)}}var C=f(1),T=f(2),P=f(7),S=f(4),E=f(0);class O extends C.a{constructor(R,V,F){if(super(R,V),!this.root.is('rootElement'))throw new E.a('model-liveposition-root-not-rootelement: LivePosition root has to be an instance of RootElement.');this.stickiness=F||'sticksToNext',h.call(this)}detach(){this.stopListening()}}u.a=O,f.i(S.a)(O,P.a)},function(r,u,f){'use strict';function h(M,D,z){let $=f.i(F.a)(M);return z&&($=$.slice($.indexOf(z)+1)),$.some((q)=>q.tagName&&D.includes(q.tagName.toLowerCase()))}var w=f(29),C=f(21),T=f(25),P=f(36),S=f(63),E=f(117),O=f(53),R=f(61),V=f(422),F=f(190),I=f(419);u.a=class{constructor(M={}){this.blockFiller=M.blockFiller||R.b,this.preElements=['pre'],this.blockElements=['p','div','h1','h2','h3','h4','h5','h6'],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}bindFakeSelection(M,D){this._fakeSelectionMapping.set(M,S.a.createFromSelection(D))}fakeSelectionToView(M){return this._fakeSelectionMapping.get(M)}bindElements(M,D){this._domToViewMapping.set(M,D),this._viewToDomMapping.set(D,M)}unbindDomElement(M){const D=this._domToViewMapping.get(M);if(D){this._domToViewMapping.delete(M),this._viewToDomMapping.delete(D);for(let z of M.childNodes)this.unbindDomElement(z)}}bindDocumentFragments(M,D){this._domToViewMapping.set(M,D),this._viewToDomMapping.set(D,M)}viewToDom(M,D,z={}){if(M.is('text')){const $=this._processDataFromViewText(M);return D.createTextNode($)}if(this.getCorrespondingDom(M))return this.getCorrespondingDom(M);let $;if(M.is('documentFragment'))$=D.createDocumentFragment(),z.bind&&this.bindDocumentFragments($,M);else{$=D.createElement(M.name),z.bind&&this.bindElements($,M);for(let q of M.getAttributeKeys())$.setAttribute(q,M.getAttribute(q))}if(z.withChildren||void 0===z.withChildren)for(let q of this.viewChildrenToDom(M,D,z))$.appendChild(q);return $}*viewChildrenToDom(M,D,z={}){let $=M.getFillerOffset&&M.getFillerOffset(),q=0;for(let U of M.getChildren())$===q&&(yield this.blockFiller(D)),yield this.viewToDom(U,D,z),q++;$===q&&(yield this.blockFiller(D))}viewRangeToDom(M){const D=this.viewPositionToDom(M.start),z=this.viewPositionToDom(M.end),$=new Range;return $.setStart(D.parent,D.offset),$.setEnd(z.parent,z.offset),$}viewPositionToDom(M){const D=M.parent;if(D.is('text')){const z=this.getCorrespondingDomText(D);if(!z)return null;let $=M.offset;return f.i(R.c)(z)&&($+=R.d),{parent:z,offset:$}}let z,$,q;if(0===M.offset){if(z=this.getCorrespondingDom(M.parent),!z)return null;q=z.childNodes[0]}else{if($=this.getCorrespondingDom(M.nodeBefore),!$)return null;z=$.parentNode,q=$.nextSibling}if(this.isText(q)&&f.i(R.c)(q))return{parent:q,offset:R.d};const U=$?f.i(V.a)($)+1:0;return{parent:z,offset:U}}domToView(M,D={}){if(f.i(R.e)(M,this.blockFiller))return null;if(this.isText(M)){if(f.i(R.f)(M))return null;const z=this._processDataFromDomText(M);return''===z?null:new w.a(z)}if(this.getCorrespondingView(M))return this.getCorrespondingView(M);let z;if(this.isDocumentFragment(M))z=new E.a,D.bind&&this.bindDocumentFragments(M,z);else{const $=D.keepOriginalCase?M.tagName:M.tagName.toLowerCase();z=new C.a($),D.bind&&this.bindElements(M,z);const q=M.attributes;for(let U=q.length-1;0<=U;U--)z.setAttribute(q[U].name,q[U].value)}if(D.withChildren||void 0===D.withChildren)for(let $ of this.domChildrenToView(M,D))z.appendChildren($);return z}*domChildrenToView(M,D={}){for(let z=0;z<M.childNodes.length;z++){const $=M.childNodes[z],q=this.domToView($,D);null!==q&&(yield q)}}domSelectionToView(M){if(1===M.rangeCount){let $=M.getRangeAt(0).startContainer;this.isText($)&&($=$.parentNode);const q=this.fakeSelectionToView($);if(q)return q}const D=new S.a,z=this.isDomSelectionBackward(M);for(let $=0;$<M.rangeCount;$++){const q=M.getRangeAt($),U=this.domRangeToView(q);U&&D.addRange(U,z)}return D}domRangeToView(M){const D=this.domPositionToView(M.startContainer,M.startOffset),z=this.domPositionToView(M.endContainer,M.endOffset);return D&&z?new P.a(D,z):null}domPositionToView(M,D){if(f.i(R.e)(M,this.blockFiller))return this.domPositionToView(M.parentNode,f.i(V.a)(M));if(this.isText(M)){if(f.i(R.f)(M))return this.domPositionToView(M.parentNode,f.i(V.a)(M));const z=this.getCorrespondingViewText(M);let $=D;return z?(f.i(R.c)(M)&&($-=R.d,$=0>$?0:$),new T.a(z,$)):null}if(0===D){const z=this.getCorrespondingView(M);if(z)return new T.a(z,0)}else{const z=this.getCorrespondingView(M.childNodes[D-1]);if(z&&z.parent)return new T.a(z.parent,z.index+1)}return null}getCorrespondingView(M){if(this.isElement(M))return this.getCorrespondingViewElement(M);return this.isDocumentFragment(M)?this.getCorrespondingViewDocumentFragment(M):this.isText(M)?this.getCorrespondingViewText(M):null}getCorrespondingViewElement(M){return this._domToViewMapping.get(M)}getCorrespondingViewDocumentFragment(M){return this._domToViewMapping.get(M)}getCorrespondingViewText(M){if(f.i(R.f)(M))return null;const D=M.previousSibling;if(D){if(!this.isElement(D))return null;const z=this.getCorrespondingViewElement(D);if(z){const $=z.nextSibling;return $ instanceof w.a?z.nextSibling:null}}else{const z=this.getCorrespondingViewElement(M.parentNode);if(z){const $=z.getChild(0);return $ instanceof w.a?$:null}}return null}getCorrespondingDom(M){if(M instanceof C.a)return this.getCorrespondingDomElement(M);return M instanceof E.a?this.getCorrespondingDomDocumentFragment(M):M instanceof w.a?this.getCorrespondingDomText(M):null}getCorrespondingDomElement(M){return this._viewToDomMapping.get(M)}getCorrespondingDomDocumentFragment(M){return this._viewToDomMapping.get(M)}getCorrespondingDomText(M){const D=M.previousSibling;return D&&this.getCorrespondingDom(D)?this.getCorrespondingDom(D).nextSibling:!D&&M.parent&&this.getCorrespondingDom(M.parent)?this.getCorrespondingDom(M.parent).childNodes[0]:null}focus(M){const D=this.getCorrespondingDomElement(M);D&&D.ownerDocument.activeElement!==D&&D.focus()}isText(M){return M&&M.nodeType==Node.TEXT_NODE}isElement(M){return M&&M.nodeType==Node.ELEMENT_NODE}isDocumentFragment(M){return M&&M.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isDomSelectionBackward(M){if(M.isCollapsed)return!1;const D=new Range;D.setStart(M.anchorNode,M.anchorOffset),D.setEnd(M.focusNode,M.focusOffset);const z=D.collapsed;return D.detach(),z}_processDataFromViewText(M){let D=M.data;if(M.getAncestors().some((K)=>this.preElements.includes(K.name)))return D;const z=this._getTouchingViewTextNode(M,!1),$=this._getTouchingViewTextNode(M,!0);let q=D.match(/ *$/)[0],U=D.substr(0,D.length-q.length);if(z&&' '!=z.data.charAt(z.data.length-1)||(U=U.replace(/^ /,'\xA0')),U=U.replace(/  /g,' \xA0'),0<q.length){let K=!1;$?(' '==$.data.charAt(0)||'\xA0'==$.data.charAt(0))&&0==q.length%2&&(K=!0):q.length%2&&(K=!0),K&&(q='\xA0'+q.substr(0,q.length-1)),q=q.replace(/  /g,' \xA0')}return U+q}_getTouchingViewTextNode(M,D){if(!M.parent)return null;const z=new O.a({startPosition:D?T.a.createAfter(M):T.a.createBefore(M),direction:D?'forward':'backward'});for(let $ of z){if($.item.is('containerElement'))return null;if($.item.is('text'))return $.item}return null}_processDataFromDomText(M){let D=f.i(R.g)(M);if(h(M,this.preElements))return D;D=D.replace(/[^\S\u00A0]{2,}/g,' ');const z=this._getTouchingDomTextNode(M,!1),$=this._getTouchingDomTextNode(M,!0);return(!z||/[^\S\u00A0]/.test(z.data.charAt(z.data.length-1)))&&(D=D.replace(/^ /,'')),$||(D=D.replace(/ $/,'')),D=D.replace(/ \u00A0/g,'  '),(!z||/[^\S\u00A0]/.test(z.data.charAt(z.data.length-1)))&&(D=D.replace(/^\u00A0/,' ')),$&&'\xA0'!=$.data.charAt(0)||(D=D.replace(/\u00A0( *)$/,' $1')),D}_getTouchingDomTextNode(M,D){if(!M.parentNode)return null;const z=D?'nextNode':'previousNode',$=M.ownerDocument,q=$.createTreeWalker($.childNodes[0],NodeFilter.SHOW_TEXT);q.currentNode=M;const U=q[z]();if(null!==U){const K=f.i(I.a)(M,U);if(K&&!h(M,this.blockElements,K)&&!h(U,this.blockElements,K))return U}return null}}},function(r,u,f){'use strict';function h(){return null}var w=f(21),C=f(0),T=f(77);class P extends w.a{constructor(S,E,O){super(S,E,O),this.getFillerOffset=h}is(S,E=null){return E?'emptyElement'==S&&E==this.name||super.is(S,E):'emptyElement'==S||super.is(S)}insertChildren(S,E){if(E&&(E instanceof T.a||0<Array.from(E).length))throw new C.a('view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.')}}u.a=P},function(r,u){'use strict';function h(E,O){if('function'==typeof O)return O(E);const R={};return O.name&&(R.name=w(O.name,E.name),!R.name)?null:O.attribute&&(R.attribute=C(O.attribute,E),!R.attribute)?null:O.class&&(R.class=T(O.class,E),!R.class)?!1:O.style&&(R.style=P(O.style,E),!R.style)?!1:R}function w(E,O){return E instanceof RegExp?E.test(O):E===O}function C(E,O){const R=[];for(let V in E){const F=E[V];if(O.hasAttribute(V)){const I=O.getAttribute(V);if(F instanceof RegExp){if(F.test(I))R.push(V);else return null;}else if(I===F)R.push(V);else return null}else return null}return R}function T(E,O){const R=[];for(let V of E)if(V instanceof RegExp){const F=O.getClassNames();for(let I of F)V.test(I)&&R.push(I);if(0===R.length)return null}else if(O.hasClass(V))R.push(V);else return null;return R}function P(E,O){const R=[];for(let V in E){const F=E[V];if(O.hasStyle(V)){const I=O.getStyle(V);if(F instanceof RegExp){if(F.test(I))R.push(V);else return null;}else if(I===F)R.push(V);else return null}else return null}return R}u.a=class{constructor(...E){this._patterns=[],this.add(...E)}add(...E){for(let O of E)('string'==typeof O||O instanceof RegExp)&&(O={name:O}),O.class&&('string'==typeof O.class||O.class instanceof RegExp)&&(O.class=[O.class]),this._patterns.push(O)}match(...E){for(let O of E)for(let R of this._patterns){const V=h(O,R);if(V)return{element:O,pattern:R,match:V}}return null}matchAll(...E){const O=[];for(let R of E)for(let V of this._patterns){const F=h(R,V);F&&O.push({element:R,pattern:V,match:F})}return 0<O.length?O:null}getElementName(){if(1!==this._patterns.length)return null;const E=this._patterns[0],O=E.name;return'function'!=typeof E&&O&&!(O instanceof RegExp)?O:null}}},function(r,u,f){'use strict';var h=f(52),w=f(63),C=f(61);class T extends h.a{constructor(P){super(P),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=P.domConverter,this.renderer=P.renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(P){this._domElements.push(P),this.isEnabled&&this._mutationObserver.observe(P,this._config)}enable(){super.enable();for(let P of this._domElements)this._mutationObserver.observe(P,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(P){if(0===P.length)return;const S=this.domConverter,E=new Map,O=new Set;for(let I of P)if('childList'===I.type){const N=S.getCorrespondingViewElement(I.target);N&&!this._isBogusBrMutation(I)&&O.add(N)}for(let I of P)if('characterData'===I.type){const N=S.getCorrespondingViewText(I.target);N&&!O.has(N.parent)?E.set(N,{type:'text',oldText:N.data,newText:f.i(C.g)(I.target),node:N}):!N&&f.i(C.c)(I.target)&&O.add(S.getCorrespondingViewElement(I.target.parentNode))}const R=[];for(let I of E.values())this.renderer.markToSync('text',I.node),R.push(I);for(let I of O){const N=S.getCorrespondingDomElement(I),M=I.getChildren(),D=S.domChildrenToView(N);this.renderer.markToSync('children',I),R.push({type:'children',oldChildren:Array.from(M),newChildren:Array.from(D),node:I})}const V=P[0].target.ownerDocument.getSelection();let F=null;if(V&&V.anchorNode){const I=S.domPositionToView(V.anchorNode,V.anchorOffset),N=S.domPositionToView(V.focusNode,V.focusOffset);I&&N&&(F=new w.a,F.collapse(I),F.setFocus(N))}this.document.fire('mutations',R,F),this.document.render()}_isBogusBrMutation(P){let S=null;return null===P.nextSibling&&0===P.removedNodes.length&&1==P.addedNodes.length&&(S=this.domConverter.domToView(P.addedNodes[0],{withChildren:!1})),S&&S.is('element','br')}}u.a=T},function(r,u,f){'use strict';var h=f(76);const w=Symbol('rootName');class C extends h.a{constructor(T){super(T),this.rootName='main'}is(T,P=null){return P?'rootElement'==T&&P==this.name||super.is(T,P):'rootElement'==T||super.is(T)}get rootName(){return this.getCustomProperty(w)}set rootName(T){this.setCustomProperty(w,T)}}u.a=C},function(r,u,f){'use strict';function h(){return null}var w=f(21),C=f(0),T=f(77);class P extends w.a{constructor(S,E,O){super(S,E,O),this.getFillerOffset=h}is(S,E=null){return E?'uiElement'==S&&E==this.name||super.is(S,E):'uiElement'==S||super.is(S)}insertChildren(S,E){if(E&&(E instanceof T.a||0<Array.from(E).length))throw new C.a('view-uielement-cannot-add: Cannot add child nodes to UIElement instance.')}}u.a=P},function(r,u,f){'use strict';var h=f(3),w=f(49),C=f(50),T=f(72),P=f(371);const S='paragraph';class E extends h.a{constructor(O){super(O),O.config.define('heading',{options:[{modelElement:'paragraph',title:'Paragraph',class:'ck-heading_paragraph'},{modelElement:'heading1',viewElement:'h2',title:'Heading 1',class:'ck-heading_heading1'},{modelElement:'heading2',viewElement:'h3',title:'Heading 2',class:'ck-heading_heading2'},{modelElement:'heading3',viewElement:'h4',title:'Heading 3',class:'ck-heading_heading3'}]})}static get requires(){return[T.a]}init(){const O=this.editor,R=O.data,V=O.editing,F=O.config.get('heading.options');for(let I of F)I.modelElement!==S&&(O.document.schema.registerItem(I.modelElement,'$block'),f.i(w.a)().for(R.modelToView,V.modelToView).fromElement(I.modelElement).toElement(I.viewElement),f.i(C.a)().for(R.viewToModel).fromElement(I.viewElement).toElement(I.modelElement),O.commands.set(I.modelElement,new P.a(O,I)))}afterInit(){const O=this.editor,R=O.commands.get('enter'),V=O.config.get('heading.options');R&&this.listenTo(R,'afterExecute',(F,I)=>{const N=O.document.selection.getFirstPosition().parent,M=I.batch,D=V.some((z)=>N.is(z.modelElement));D&&!N.is(S)&&0===N.childCount&&M.rename(N,S)})}}u.a=E},function(r,u,f){'use strict';function h(){return new S.a('figure',{class:'image'},new E.a('img'))}var w=f(3),C=f(49),T=f(372),P=f(42),S=f(41),E=f(170);class O extends w.a{init(){const R=this.editor,V=R.document,F=V.schema,I=R.data,N=R.editing,M=R.t;F.registerItem('image'),F.requireAttributes('image',['src']),F.allow({name:'image',attributes:['alt','src'],inside:'$root'}),F.objects.add('image'),f.i(C.a)().for(I.modelToView).fromElement('image').toElement(()=>h()),f.i(C.a)().for(N.modelToView).fromElement('image').toElement(()=>f.i(P.c)(h(),M('image widget'))),f.i(T.a)([N.modelToView,I.modelToView],'src'),f.i(T.a)([N.modelToView,I.modelToView],'alt'),I.viewToModel.on('element:figure',f.i(T.b)())}}u.a=O},function(r,u,f){'use strict';var h=f(525),w=f(65),C=f(186),T=f(42);const P=C.a.arrowVerticalOffset,S={south(O,R){return{top:O.bottom+P,left:O.left+O.width/2-R.width/2,name:'s'}},north(O,R){return{top:O.top-R.height-P,left:O.left+O.width/2-R.width/2,name:'n'}}};class E extends C.a{constructor(O){super(O.locale),this.editor=O;const R=O.editing.view;this.listenTo(O.ui.focusTracker,'change:isFocused',(V,F,I,N)=>{N&&!I&&this.detach()}),O.listenTo(R,'render',()=>{const V=R.selection.getSelectedElement();V&&f.i(T.a)(V)||this.detach()},{priority:'low'}),this._throttledAttach=f.i(h.a)(()=>{this._attach()},100)}init(){return this.editor.ui.focusTracker.add(this.element),super.init()}attach(){this._attach(),this.editor.ui.view.listenTo(w.a.window,'scroll',this._throttledAttach),this.editor.ui.view.listenTo(w.a.window,'resize',this._throttledAttach)}detach(){this.hide(),this.editor.ui.view.stopListening(w.a.window,'scroll',this._throttledAttach),this.editor.ui.view.stopListening(w.a.window,'resize',this._throttledAttach)}_attach(){const O=this.editor.editing.view;this.attachTo({target:O.domConverter.viewRangeToDom(O.selection.getFirstRange()),positions:[S.north,S.south]})}}u.a=E},function(r,u,f){'use strict';function w(P,S,E){let O=P.textNode||(E?P.nodeBefore:P.nodeAfter),R=null;for(;O&&O.getAttribute('linkHref')==S;)R=O,O=E?O.previousSibling:O.nextSibling;return R?T.a.createAt(R,E?'before':'after'):P}var C=f(2),T=f(1);u.a=function(P,S){return new C.a(w(P,S,!0),w(P,S,!1))}},function(r,u,f){'use strict';var h=f(116);class w extends h.a{}u.a=w},function(r,u,f){'use strict';function h(O){let R=1;for(let V of O.getChildren())if('ul'==V.name||'ol'==V.name)for(let F of V.getChildren())R+=h(F);return R}var w=f(388),C=f(387),T=f(3),P=f(72),S=f(386);class E extends T.a{static get requires(){return[P.a]}init(){const O=this.editor,R=O.document.schema;R.registerItem('listItem','$block'),R.allow({name:'listItem',inside:'$root',attributes:['type','indent']}),R.requireAttributes('listItem',['type','indent']);const V=O.data,F=O.editing;this.editor.document.on('change',f.i(S.a)(this.editor.document),{priority:'high'}),this.editor.document.on('change',(I,N,M)=>{if('move'==N)for(let D of M.range.getItems())D.is('listItem')&&F.mapper.unbindModelElement(D)},{priority:'high'}),F.mapper.registerViewToModelLength('li',h),V.mapper.registerViewToModelLength('li',h),F.mapper.on('modelToViewPosition',S.b),F.mapper.on('viewToModelPosition',S.c),V.mapper.on('modelToViewPosition',S.b),F.modelToView.on('insert',S.d,{priority:'high'}),F.modelToView.on('insert:listItem',S.e),V.modelToView.on('insert',S.d,{priority:'high'}),V.modelToView.on('insert:listItem',S.e),F.modelToView.on('changeAttribute:type:listItem',S.f),V.modelToView.on('changeAttribute:type:listItem',S.f),F.modelToView.on('remove:listItem',S.g),F.modelToView.on('remove',S.h,{priority:'low'}),V.modelToView.on('remove:listItem',S.g),V.modelToView.on('remove',S.h,{priority:'low'}),F.modelToView.on('changeAttribute:indent:listItem',S.i),V.modelToView.on('changeAttribute:indent:listItem',S.i),V.viewToModel.on('element:ul',S.j,{priority:'high'}),V.viewToModel.on('element:ol',S.j,{priority:'high'}),V.viewToModel.on('element:li',S.k,{priority:'high'}),V.viewToModel.on('element:li',S.l),O.commands.set('numberedList',new w.a(O,'numbered')),O.commands.set('bulletedList',new w.a(O,'bulleted')),O.commands.set('indentList',new C.a(O,'forward')),O.commands.set('outdentList',new C.a(O,'backward'))}}u.a=E},function(r,u,f){'use strict';var h=f(188);class w{constructor(C,T=20){this.document=C,this.size=0,this.limit=T,this.isLocked=!1,this._changeCallback=(P,S,E,O)=>{this._onBatch(O)},this._selectionChangeCallback=()=>{this._reset()},C.on('change',this._changeCallback),C.selection.on('change:range',this._selectionChangeCallback),C.selection.on('change:attribute',this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.document.batch()),this._batch}input(C){this.size+=C,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.document.off('change',this._changeCallback),this.document.selection.off('change:range',this._selectionChangeCallback),this.document.selection.off('change:attribute',this._selectionChangeCallback)}_onBatch(C){'transparent'!=C.type&&C!==this._batch&&1>=f.i(h.a)(C.getOperations())&&this._reset(!0)}_reset(C){(!this.isLocked||C)&&(this._batch=null,this.size=0)}}u.a=w},function(r,u){'use strict';u.a=function({emitter:w,activator:C,callback:T,contextElement:P}){w.listenTo(document,'mouseup',(S,{target:E})=>{C()&&!P.contains(E)&&T()})}},function(r,u){'use strict';u.a=function({view:w}){w.listenTo(w.element,'submit',(C,T)=>{T.preventDefault(),w.fire('submit')},{useCapture:!0})}},function(r,u,f){'use strict';var h=f(9),w=f(6);class C extends h.a{constructor(T){super(T),this.set('value'),this.set('id');const P=this.bindTemplate;this.template=new w.a({tag:'input',attributes:{type:'text',class:['ck-input','ck-input-text'],id:P.to('id')}}),this.on('change:value',(S,E,O)=>this.element.value=O||'')}select(){this.element.select()}focus(){this.element.focus()}}u.a=C},function(r,u,f){'use strict';var h=f(9),w=f(6),C=f(71),T=f(407);class P extends h.a{constructor(S,E){super(S);const O=`ck-input-${f.i(C.a)()}`;this.set('label'),this.set('value'),this.labelView=this._createLabelView(O),this.inputView=this._createInputView(E,O),this.template=new w.a({tag:'div',children:[this.labelView,this.inputView]})}_createLabelView(S){const E=new T.a(this.locale);return E.for=S,E.bind('text').to(this,'label'),E}_createInputView(S,E){const O=new S(this.locale);return O.id=E,O.bind('value').to(this),O}select(){this.inputView.select()}focus(){this.inputView.focus()}}u.a=P},function(r,u,f){'use strict';var h=f(9),w=f(6),C=f(425),T=f(191);const P=f.i(T.a)('px');class S extends h.a{constructor(E){super(E);const O=this.bindTemplate;this.set('top',0),this.set('left',0),this.set('position','se'),this.set('isVisible',!1),this.content=this.createCollection(),this.template=new w.a({tag:'div',attributes:{class:['ck-balloon-panel',O.to('position',(R)=>`ck-balloon-panel_arrow_${R}`),O.if('isVisible','ck-balloon-panel_visible')],style:{top:O.to('top',P),left:O.to('left',P),maxWidth:O.to('maxWidth',P)},tabindex:-1},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(E){this.show();const O=S.defaultPositions,R=Object.assign({},{element:this.element,positions:[O.se,O.sw,O.ne,O.nw],limiter:document.body,fitInViewport:!0},E),{top:V,left:F,name:I}=f.i(C.a)(R);Object.assign(this,{top:V,left:F,position:I})}}u.a=S,S.arrowHorizontalOffset=30,S.arrowVerticalOffset=15,S.defaultPositions={se:(E)=>({top:E.bottom+S.arrowVerticalOffset,left:E.left+E.width/2-S.arrowHorizontalOffset,name:'se'}),sw:(E,O)=>({top:E.bottom+S.arrowVerticalOffset,left:E.left+E.width/2-O.width+S.arrowHorizontalOffset,name:'sw'}),ne:(E,O)=>({top:E.top-O.height-S.arrowVerticalOffset,left:E.left+E.width/2-S.arrowHorizontalOffset,name:'ne'}),nw:(E,O)=>({top:E.top-O.height-S.arrowVerticalOffset,left:E.left+E.width/2-O.width+S.arrowHorizontalOffset,name:'nw'})}},function(r,u,f){'use strict';var h=f(9),w=f(6),C=f(66),T=f(119),P=f(67),S=f(413);class E extends h.a{constructor(O){super(O),this.items=this.createCollection(),this.focusTracker=new C.a,this.keystrokes=new P.a,this._focusCycler=new T.a({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:['arrowleft','arrowup'],focusNext:['arrowright','arrowdown']}}),this.template=new w.a({tag:'div',attributes:{class:['ck-toolbar']},children:this.items}),this.items.on('add',(R,V)=>{this.focusTracker.add(V.element)}),this.items.on('remove',(R,V)=>{this.focusTracker.remove(V.element)})}init(){return this.keystrokes.listenTo(this.element),super.init()}focus(){this._focusCycler.focusFirst()}fillFromConfig(O,R){return O?Promise.all(O.map((V)=>{const F='|'==V?new S.a:R.create(V);return this.items.add(F)})):Promise.resolve()}}u.a=E},function(r,u){'use strict';u.a=function(w){let C=0;for(let T of w)C++;return C}},function(r,u){'use strict';u.a=function(w,C,T){function P(D){const z=(I[D-1]===void 0?-1:I[D-1])+1,$=I[D+1]===void 0?-1:I[D+1],q=z>$?-1:1;F[D+q]&&(F[D]=F[D+q].slice(0)),F[D]||(F[D]=[]),F[D].push(z>$?S:E);let U=_Mathmax(z,$),K=U-D;for(;K<O&&U<R&&T(w[K],C[U]);)K++,U++,F[D].push('equal');return U}T=T||function(D,z){return D===z};let S,E;if(C.length<w.length){let D=w;w=C,C=D,S='delete',E='insert'}else S='insert',E='delete';const O=w.length,R=C.length,V=R-O,F={},I={};let N=0,M;do{for(M=-N;M<V;M++)I[M]=P(M);for(M=V+N;M>V;M--)I[M]=P(M);I[V]=P(V),N++}while(I[V]!==R);return F[V].slice(1)}},function(r,u){'use strict';u.a=function(w){const C=[];for(;w&&w.nodeType!=Node.DOCUMENT_NODE;)C.unshift(w),w=w.parentNode;return C}},function(r,u){'use strict';u.a=function(w){return(C)=>C+w}},function(r,u,f){'use strict';var h=f(54),w=f(30),C=f.i(h.a)(w.a,'Map');u.a=C},function(r,u,f){'use strict';var h=f(54),w=f(30),C=f.i(h.a)(w.a,'Set');u.a=C},function(r,u,f){'use strict';var h=f(30),w=h.a.Uint8Array;u.a=w},function(r,u){'use strict';u.a=function(w,C,T){var P=T.length;return 0===P?w.call(C):1===P?w.call(C,T[0]):2===P?w.call(C,T[0],T[1]):3===P?w.call(C,T[0],T[1],T[2]):w.apply(C,T)}},function(r,u){'use strict';u.a=function(w,C,T,P){var S=-1,E=w.length;for(P&&E&&(T=w[++S]);++S<E;)T=C(T,w[S],S,w);return T}},function(r,u,f){'use strict';function h(be,_e,ke,ye,we,ve,xe){var Ce;if(ye&&(Ce=ve?ye(be,we,ve,xe):ye(be)),void 0!==Ce)return Ce;if(!f.i($.a)(be))return be;var Ae=f.i(M.a)(be);if(!Ae){var Te=f.i(V.a)(be),Pe=Te==Z||Te==G;if(f.i(D.a)(be))return f.i(S.a)(be,_e);if(Te==Q||Te==U||Pe&&!ve){if(f.i(z.a)(be))return ve?be:{};if(Ce=f.i(N.a)(Pe?{}:be),!_e)return f.i(O.a)(be,f.i(P.a)(Ce,be))}else{if(!he[Te])return ve?be:{};Ce=f.i(I.a)(be,Te,h,_e)}}else if(Ce=f.i(F.a)(be),!_e)return f.i(E.a)(be,Ce);xe||(xe=new w.a);var Se=xe.get(be);if(Se)return Se;if(xe.set(be,Ce),!Ae)var Ee=ke?f.i(R.a)(be):f.i(q.a)(be);return f.i(C.a)(Ee||be,function(Oe,Re){Ee&&(Re=Oe,Oe=be[Re]),f.i(T.a)(Ce,Re,h(Oe,_e,ke,ye,Re,be,xe))}),Ce}var w=f(123),C=f(439),T=f(68),P=f(441),S=f(461),E=f(204),O=f(469),R=f(475),V=f(141),F=f(484),I=f(485),N=f(486),M=f(11),D=f(516),z=f(91),$=f(15),q=f(70),U='[object Arguments]',Z='[object Function]',G='[object GeneratorFunction]',Q='[object Object]',he={};he[U]=he['[object Array]']=he['[object ArrayBuffer]']=he['[object DataView]']=he['[object Boolean]']=he['[object Date]']=he['[object Float32Array]']=he['[object Float64Array]']=he['[object Int8Array]']=he['[object Int16Array]']=he['[object Int32Array]']=he['[object Map]']=he['[object Number]']=he[Q]=he['[object RegExp]']=he['[object Set]']=he['[object String]']=he['[object Symbol]']=he['[object Uint8Array]']=he['[object Uint8ClampedArray]']=he['[object Uint16Array]']=he['[object Uint32Array]']=!0,he['[object Error]']=he[Z]=he['[object WeakMap]']=!1,u.a=h},function(r,u){'use strict';u.a=function(w,C,T){for(var P=w.length,S=T?P:-1;T?S--:++S<P;)if(C(w[S],S,w))return S;return-1}},function(r,u,f){'use strict';var w=f(140),C=Object.prototype,T=C.hasOwnProperty;u.a=function(P,S){return T.call(P,S)||'object'==typeof P&&S in P&&null===f.i(w.a)(P)}},function(r,u,f){'use strict';var w=f(89),C=f(38),T=f(55),P=f(19),S=f(500),E=f(56),O=Array.prototype,R=O.splice;u.a=function(V,F){for(var I=V?F.length:0,N=I-1,M;I--;)if(M=F[I],I==N||M!==D){var D=M;if(f.i(C.a)(M))R.call(V,M,1);else if(!f.i(T.a)(M,V)){var z=f.i(w.a)(M),$=f.i(S.a)(V,z);null!=$&&delete $[f.i(E.a)(f.i(P.a)(z))]}else delete V[f.i(E.a)(M)]}return V}},function(r,u,f){'use strict';var w=f(57);u.a=function(C,T){for(var P=-1,S=C.length,E=0,O=[];++P<S;){var R=C[P],V=T?T(R):R;if(!P||!f.i(w.a)(V,F)){var F=V;O[E++]=0===R?0:R}}return O}},function(r,u){'use strict';u.a=function(w,C){for(var T=-1,P=Array(w);++T<w;)P[T]=C(T);return P}},function(r,u){'use strict';u.a=function(w,C,T){for(var P=-1,S=w.length,E=C.length,O={},R;++P<S;)R=P<E?C[P]:void 0,T(O,w[P],R);return O}},function(r,u){'use strict';u.a=function(w,C){var T=-1,P=w.length;for(C||(C=Array(P));++T<P;)C[T]=w[T];return C}},function(r,u,f){'use strict';var w=f(83),C=f(440);u.a=function(S,E,O,R,V,F){var I=V&2,N=S.length,M=E.length;if(N!=M&&!(I&&M>N))return!1;var D=F.get(S);if(D)return D==E;var z=-1,$=!0,q=V&1?new w.a:void 0;for(F.set(S,E);++z<N;){var U=S[z],K=E[z];if(R)var H=I?R(K,U,z,E,S,F):R(U,K,z,S,E,F);if(void 0!==H){if(H)continue;$=!1;break}if(q){if(!f.i(C.a)(E,function(Y,W){if(!q.has(W)&&(U===Y||O(U,Y,R,V,F)))return q.add(W)})){$=!1;break}}else if(!(U===K||O(U,K,R,V,F))){$=!1;break}}return F['delete'](S),$}},function(r,u){'use strict';function h(C){return w(Object(C))}var w=Object.getOwnPropertySymbols;w||(h=function(){return[]}),u.a=h},function(r,u,f){'use strict';var w=f(202),C=f(147),T=f(11),P=f(98),S=f(149);u.a=function(E){var O=E?E.length:void 0;return f.i(P.a)(O)&&(f.i(T.a)(E)||f.i(S.a)(E)||f.i(C.a)(E))?f.i(w.a)(O,String):null}},function(r,u){'use strict';u.a=function(w,C,T){for(var P=w.length,S=C+(T?0:-1),E;T?S--:++S<P;)if(E=w[S],E!==E)return S;return-1}},function(r,u,f){'use strict';var w=f(15);u.a=function(C){return C===C&&!f.i(w.a)(C)}},function(r,u){'use strict';u.a=function(w,C){return function(T){return null!=T&&T[w]===C&&(C!==void 0||w in Object(T))}}},function(r,u){'use strict';var w=Function.prototype.toString;u.a=function(C){if(null!=C){try{return w.call(C)}catch(T){}try{return C+''}catch(T){}}return''}},function(r,u,f){'use strict';var w=f(37),C=f(92),T=f(16),P=Math.ceil;u.a=function(E,O,R){O=(R?f.i(C.a)(E,O,R):void 0===O)?1:_Mathmax(f.i(T.a)(O),0);var V=E?E.length:0;if(!V||1>O)return[];for(var F=0,I=0,N=Array(P(V/O));F<V;)N[I++]=f.i(w.a)(E,F,F+=O);return N}},function(r,u){'use strict';u.a=function(w){for(var C=-1,T=w?w.length:0,P=0,S=[],E;++C<T;)E=w[C],E&&(S[P++]=E);return S}},function(r,u,f){'use strict';var w=f(85),C=f(23),T=f(204),P=f(11);u.a=function(){for(var S=arguments.length,E=Array(S?S-1:0),O=arguments[0],R=S;R--;)E[R-1]=arguments[R];return S?f.i(w.a)(f.i(P.a)(O)?f.i(T.a)(O):[O],f.i(C.a)(E,1)):[]}},function(r,u,f){'use strict';var h=f(69),w=f(23),C=f(14),T=f(8),P=f.i(T.a)(function(S,E){return f.i(C.a)(S)?f.i(h.a)(S,f.i(w.a)(E,1,C.a,!0)):[]});u.a=P},function(r,u,f){'use strict';var h=f(69),w=f(23),C=f(10),T=f(14),P=f(19),S=f(8),E=f.i(S.a)(function(O,R){var V=f.i(P.a)(R);return f.i(T.a)(V)&&(V=void 0),f.i(T.a)(O)?f.i(h.a)(O,f.i(w.a)(R,1,T.a,!0),f.i(C.a)(V)):[]});u.a=E},function(r,u,f){'use strict';var h=f(69),w=f(23),C=f(14),T=f(19),P=f(8),S=f.i(P.a)(function(E,O){var R=f.i(T.a)(O);return f.i(C.a)(R)&&(R=void 0),f.i(C.a)(E)?f.i(h.a)(E,f.i(w.a)(O,1,C.a,!0),void 0,R):[]});u.a=S},function(r,u,f){'use strict';var w=f(10),C=f(88);u.a=function(T,P){return T&&T.length?f.i(C.a)(T,f.i(w.a)(P,3),!0,!0):[]}},function(r,u,f){'use strict';var w=f(10),C=f(88);u.a=function(T,P){return T&&T.length?f.i(C.a)(T,f.i(w.a)(P,3),!0):[]}},function(r,u,f){'use strict';var w=f(445),C=f(92);u.a=function(T,P,S,E){var O=T?T.length:0;return O?(S&&'number'!=typeof S&&f.i(C.a)(T,P,S)&&(S=0,E=O),f.i(w.a)(T,P,S,E)):[]}},function(r,u,f){'use strict';var w=f(198),C=f(10);u.a=function(T,P){return T&&T.length?f.i(w.a)(T,f.i(C.a)(P,3)):-1}},function(r,u,f){'use strict';var w=f(198),C=f(10);u.a=function(T,P){return T&&T.length?f.i(w.a)(T,f.i(C.a)(P,3),!0):-1}},function(r,u,f){'use strict';var h=f(146);f.d(u,'a',function(){return h.a})},function(r,u,f){'use strict';var w=f(23);u.a=function(C){var T=C?C.length:0;return T?f.i(w.a)(C,1):[]}},function(r,u,f){'use strict';var w=f(23);u.a=function(T){var P=T?T.length:0;return P?f.i(w.a)(T,1/0):[]}},function(r,u,f){'use strict';var w=f(23),C=f(16);u.a=function(T,P){var S=T?T.length:0;return S?(P=void 0===P?1:f.i(C.a)(P),f.i(w.a)(T,P)):[]}},function(r,u){'use strict';u.a=function(w){for(var C=-1,T=w?w.length:0,P={},S;++C<T;)S=w[C],P[S[0]]=S[1];return P}},function(r,u,f){'use strict';var w=f(127);u.a=function(C,T,P){var S=null==C?void 0:f.i(w.a)(C,T);return S===void 0?P:S}},function(r,u){'use strict';u.a=function(w){return w}},function(r,u,f){'use strict';var w=f(128),C=f(16);u.a=function(P,S,E){var O=P?P.length:0;return O?(E=f.i(C.a)(E),0>E&&(E=_Mathmax(O+E,0)),f.i(w.a)(P,S,E)):-1}},function(r,u,f){'use strict';var w=f(145);u.a=function(C){return f.i(w.a)(C,1)}},function(r,u,f){'use strict';var h=f(27),w=f(129),C=f(137),T=f(8),P=f.i(T.a)(function(S){var E=f.i(h.a)(S,C.a);return E.length&&E[0]===S[0]?f.i(w.a)(E):[]});u.a=P},function(r,u,f){'use strict';var h=f(27),w=f(129),C=f(10),T=f(137),P=f(19),S=f(8),E=f.i(S.a)(function(O){var R=f.i(P.a)(O),V=f.i(h.a)(O,T.a);return R===f.i(P.a)(V)?R=void 0:V.pop(),V.length&&V[0]===O[0]?f.i(w.a)(V,f.i(C.a)(R)):[]});u.a=E},function(r,u,f){'use strict';var h=f(27),w=f(129),C=f(137),T=f(19),P=f(8),S=f.i(P.a)(function(E){var O=f.i(T.a)(E),R=f.i(h.a)(E,C.a);return O===f.i(T.a)(R)?O=void 0:R.pop(),R.length&&R[0]===E[0]?f.i(w.a)(R,void 0,O):[]});u.a=S},function(r,u,f){'use strict';var w=f(148),C=f(91),T=f(15),P=f(211),S=/[\\^$.*+?()[\]{}|]/g,E=/^\[object .+?Constructor\]$/,O=Object.prototype,R=Function.prototype.toString,V=O.hasOwnProperty,F=RegExp('^'+R.call(V).replace(S,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$');u.a=function(I){if(!f.i(T.a)(I))return!1;var N=f.i(w.a)(I)||f.i(C.a)(I)?F:E;return N.test(f.i(P.a)(I))}},function(r,u){'use strict';var w=Array.prototype,C=w.join;u.a=function(T,P){return T?C.call(T,P):''}},function(r,u,f){'use strict';var w=f(208),C=f(16);u.a=function(S,E,O){var R=S?S.length:0;if(!R)return-1;var V=R;if(void 0!==O&&(V=f.i(C.a)(O),V=(0>V?_Mathmax(R+V,0):_Mathmin(V,R-1))+1),E!==E)return f.i(w.a)(S,V,!0);for(;V--;)if(S[V]===E)return V;return-1}},function(r,u,f){'use strict';var w=f(455),C=f(16);u.a=function(T,P){return T&&T.length?f.i(w.a)(T,f.i(C.a)(P)):void 0}},function(r,u,f){'use strict';var h=f(150),w=f(8),C=f.i(w.a)(h.a);u.a=C},function(r,u,f){'use strict';var w=f(10),C=f(132);u.a=function(T,P,S){return T&&T.length&&P&&P.length?f.i(C.a)(T,P,f.i(w.a)(S)):T}},function(r,u,f){'use strict';var w=f(132);u.a=function(C,T,P){return C&&C.length&&T&&T.length?f.i(w.a)(C,T,void 0,P):C}},function(r,u,f){'use strict';var h=f(27),w=f(442),C=f(23),T=f(200),P=f(468),S=f(38),E=f(8),O=f.i(E.a)(function(R,V){V=f.i(C.a)(V,1);var F=R?R.length:0,I=f.i(w.a)(R,V);return f.i(T.a)(R,f.i(h.a)(V,function(N){return f.i(S.a)(N,F)?+N:N}).sort(P.a)),I});u.a=O},function(r,u,f){'use strict';var w=f(10),C=f(200);u.a=function(T,P){var S=[];if(!(T&&T.length))return S;var E=-1,O=[],R=T.length;for(P=f.i(w.a)(P,3);++E<R;){var V=T[E];P(V,E,T)&&(S.push(V),O.push(E))}return f.i(C.a)(T,O),S}},function(r,u){'use strict';var w=Array.prototype,C=w.reverse;u.a=function(T){return T?C.call(T):T}},function(r,u,f){'use strict';var w=f(37),C=f(92),T=f(16);u.a=function(P,S,E){var O=P?P.length:0;return O?(E&&'number'!=typeof E&&f.i(C.a)(P,S,E)?(S=0,E=O):(S=null==S?0:f.i(T.a)(S),E=void 0===E?O:f.i(T.a)(E)),f.i(w.a)(P,S,E)):[]}},function(r,u,f){'use strict';var w=f(87);u.a=function(C,T){return f.i(w.a)(C,T)}},function(r,u,f){'use strict';var w=f(10),C=f(133);u.a=function(T,P,S){return f.i(C.a)(T,P,f.i(w.a)(S))}},function(r,u,f){'use strict';var w=f(87),C=f(57);u.a=function(T,P){var S=T?T.length:0;if(S){var E=f.i(w.a)(T,P);if(E<S&&f.i(C.a)(T[E],P))return E}return-1}},function(r,u,f){'use strict';var w=f(87);u.a=function(C,T){return f.i(w.a)(C,T,!0)}},function(r,u,f){'use strict';var w=f(10),C=f(133);u.a=function(T,P,S){return f.i(C.a)(T,P,f.i(w.a)(S),!0)}},function(r,u,f){'use strict';var w=f(87),C=f(57);u.a=function(T,P){var S=T?T.length:0;if(S){var E=f.i(w.a)(T,P,!0)-1;if(f.i(C.a)(T[E],P))return E}return-1}},function(r,u,f){'use strict';var w=f(201);u.a=function(C){return C&&C.length?f.i(w.a)(C):[]}},function(r,u,f){'use strict';var w=f(10),C=f(201);u.a=function(T,P){return T&&T.length?f.i(C.a)(T,f.i(w.a)(P)):[]}},function(r,u,f){'use strict';var w=f(144);u.a=function(C){return f.i(w.a)(C,1)}},function(r,u,f){'use strict';var w=f(37),C=f(16);u.a=function(T,P,S){return T&&T.length?(P=S||void 0===P?1:f.i(C.a)(P),f.i(w.a)(T,0,0>P?0:P)):[]}},function(r,u,f){'use strict';var w=f(37),C=f(16);u.a=function(T,P,S){var E=T?T.length:0;return E?(P=S||void 0===P?1:f.i(C.a)(P),P=E-P,f.i(w.a)(T,0>P?0:P,E)):[]}},function(r,u,f){'use strict';var w=f(10),C=f(88);u.a=function(T,P){return T&&T.length?f.i(C.a)(T,f.i(w.a)(P,3),!1,!0):[]}},function(r,u,f){'use strict';var w=f(10),C=f(88);u.a=function(T,P){return T&&T.length?f.i(C.a)(T,f.i(w.a)(P,3)):[]}},function(r,u,f){'use strict';var w=f(148),C=f(15),T=f(47),P=0/0,S=/^\s+|\s+$/g,E=/^[-+]0x[0-9a-f]+$/i,O=/^0b[01]+$/i,R=/^0o[0-7]+$/i,V=parseInt;u.a=function(F){if('number'==typeof F)return F;if(f.i(T.a)(F))return P;if(f.i(C.a)(F)){var I=f.i(w.a)(F.valueOf)?F.valueOf():F;F=f.i(C.a)(I)?I+'':I}if('string'!=typeof F)return 0===F?F:+F;F=F.replace(S,'');var N=O.test(F);return N||R.test(F)?V(F.slice(2),N?2:8):E.test(F)?P:+F}},function(r,u,f){'use strict';var h=f(23),w=f(44),C=f(14),T=f(8),P=f.i(T.a)(function(S){return f.i(w.a)(f.i(h.a)(S,1,C.a,!0))});u.a=P},function(r,u,f){'use strict';var h=f(23),w=f(10),C=f(44),T=f(14),P=f(19),S=f(8),E=f.i(S.a)(function(O){var R=f.i(P.a)(O);return f.i(T.a)(R)&&(R=void 0),f.i(C.a)(f.i(h.a)(O,1,T.a,!0),f.i(w.a)(R))});u.a=E},function(r,u,f){'use strict';var h=f(23),w=f(44),C=f(14),T=f(19),P=f(8),S=f.i(P.a)(function(E){var O=f.i(T.a)(E);return f.i(C.a)(O)&&(O=void 0),f.i(w.a)(f.i(h.a)(E,1,C.a,!0),void 0,O)});u.a=S},function(r,u,f){'use strict';var w=f(44);u.a=function(C){return C&&C.length?f.i(w.a)(C):[]}},function(r,u,f){'use strict';var w=f(10),C=f(44);u.a=function(T,P){return T&&T.length?f.i(C.a)(T,f.i(w.a)(P)):[]}},function(r,u,f){'use strict';var w=f(44);u.a=function(C,T){return C&&C.length?f.i(w.a)(C,void 0,T):[]}},function(r,u,f){'use strict';var h=f(69),w=f(14),C=f(8),T=f.i(C.a)(function(P,S){return f.i(w.a)(P)?f.i(h.a)(P,S):[]});u.a=T},function(r,u,f){'use strict';var h=f(84),w=f(135),C=f(14),T=f(8),P=f.i(T.a)(function(S){return f.i(w.a)(f.i(h.a)(S,C.a))});u.a=P},function(r,u,f){'use strict';var h=f(84),w=f(10),C=f(135),T=f(14),P=f(19),S=f(8),E=f.i(S.a)(function(O){var R=f.i(P.a)(O);return f.i(T.a)(R)&&(R=void 0),f.i(C.a)(f.i(h.a)(O,T.a),f.i(w.a)(R))});u.a=E},function(r,u,f){'use strict';var h=f(84),w=f(135),C=f(14),T=f(19),P=f(8),S=f.i(P.a)(function(E){var O=f.i(T.a)(E);return f.i(C.a)(O)&&(O=void 0),f.i(w.a)(f.i(h.a)(E,C.a),void 0,O)});u.a=S},function(r,u,f){'use strict';var h=f(8),w=f(100),C=f.i(h.a)(w.a);u.a=C},function(r,u,f){'use strict';var w=f(68),C=f(203);u.a=function(T,P){return f.i(C.a)(T||[],P||[],w.a)}},function(r,u,f){'use strict';var w=f(457),C=f(203);u.a=function(T,P){return f.i(C.a)(T||[],P||[],w.a)}},function(r,u,f){'use strict';var h=f(8),w=f(151),C=f.i(h.a)(function(T){var P=T.length,S=1<P?T[P-1]:void 0;return S='function'==typeof S?(T.pop(),S):void 0,f.i(w.a)(T,S)});u.a=C},function(r,u){'use strict';u.a=function(w){const C=new Map;for(let T in w)C.set(T,w[T]);return C}},function(r,u){'use strict';function h(S){return!!S&&1==S.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(S)}function w(S){return!!S&&1==S.length&&/[\ud800-\udbff]/.test(S)}function C(S){return!!S&&1==S.length&&/[\udc00-\udfff]/.test(S)}u.a=function(S,E){return w(S.charAt(E-1))&&C(S.charAt(E))},u.b=function(S,E){return h(S.charAt(E))}},function(r,u,f){'use strict';var h=f(302),w=f(303),C=f(3),T=f(175),P=f(180),S=f(155),E=f(156);class O extends C.a{static get requires(){return[T.a,P.a,S.a,E.a]}static get pluginName(){return'autoformat/autoformat'}init(){this._addListAutoformats(),this._addHeadingAutoformats(),this._addInlineAutoformats()}_addListAutoformats(){new h.a(this.editor,/^[\*\-]\s$/,'bulletedList'),new h.a(this.editor,/^\d+[\.|)]?\s$/,'numberedList')}_addHeadingAutoformats(){new h.a(this.editor,/^(#{1,3})\s$/,(R)=>{const{batch:V,match:F}=R,I=F[1].length;this.editor.execute(`heading${I}`,{batch:V})})}_addInlineAutoformats(){new w.a(this.editor,/(\*\*)([^\*]+)(\*\*)$/g,'bold'),new w.a(this.editor,/(__)([^_]+)(__)$/g,'bold'),new w.a(this.editor,/(?:^|[^\*])(\*)([^\*_]+)(\*)$/g,'italic'),new w.a(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,'italic')}}u.a=O},function(r,u,f){'use strict';var h=f(3),w=f(155),C=f(26),T=f(291),P=f.n(T);class S extends h.a{static get requires(){return[w.a]}static get pluginName(){return'basic-styles/bold'}init(){const E=this.editor,O=E.t,R=E.commands.get('bold'),V='CTRL+B';E.ui.componentFactory.add('bold',(F)=>{const I=new C.a(F);return I.set({label:O('Bold'),icon:P.a,keystroke:V,tooltip:!0}),I.bind('isOn','isEnabled').to(R,'value','isEnabled'),this.listenTo(I,'execute',()=>E.execute('bold')),I}),E.keystrokes.set(V,'bold')}}u.a=S},function(r,u,f){'use strict';var h=f(3),w=f(156),C=f(26),T=f(292),P=f.n(T);class S extends h.a{static get requires(){return[w.a]}static get pluginName(){return'basic-styles/italic'}init(){const E=this.editor,O=E.t,R=E.commands.get('italic'),V='CTRL+I';E.ui.componentFactory.add('italic',(F)=>{const I=new C.a(F);return I.set({label:O('Italic'),icon:P.a,keystroke:V,tooltip:!0}),I.bind('isOn','isEnabled').to(R,'value','isEnabled'),this.listenTo(I,'execute',()=>E.execute('italic')),I}),E.keystrokes.set(V,'italic')}}u.a=S},function(r){'use strict';r.exports={toolbar:['headings','bold','italic','link','unlink','bulletedList','numberedList','undo','redo']}},function(r,u,f){'use strict';var h=f(3),w=f(326),C=f(329),T=f(328),P=f(164);class S extends h.a{static get pluginName(){return'clipboard/clipboard'}init(){const E=this.editor,O=E.document,R=E.editing.view;this._htmlDataProcessor=new P.a,R.addObserver(w.a),this.listenTo(R,'paste',(F,I)=>{const N=I.dataTransfer;let M='';N.getData('text/html')?M=f.i(T.a)(N.getData('text/html')):N.getData('text/plain')&&(M=f.i(C.a)(N.getData('text/plain'))),M=this._htmlDataProcessor.toView(M),I.preventDefault(),R.fire('clipboardInput',{dataTransfer:N,content:M})},{priority:'low'}),this.listenTo(R,'clipboardInput',(F,I)=>{if(!I.content.isEmpty){const N=this.editor.data,M=N.toModel(I.content,'$clipboardHolder');O.enqueueChanges(()=>{N.insertContent(M,O.selection)})}},{priority:'low'});const V=(F,I)=>{const N=I.dataTransfer,M=E.data.toView(E.data.getSelectedContent(O.selection));I.preventDefault(),R.fire('clipboardOutput',{dataTransfer:N,content:M,method:F.name})};this.listenTo(R,'copy',V,{priority:'low'}),this.listenTo(R,'cut',V,{priority:'low'}),this.listenTo(R,'clipboardOutput',(F,I)=>{I.content.isEmpty||I.dataTransfer.setData('text/html',this._htmlDataProcessor.toData(I.content)),'cut'==I.method&&O.enqueueChanges(()=>{E.data.deleteContent(O.selection,O.batch(),{merge:!0})})},{priority:'low'})}}u.a=S},function(r,u,f){'use strict';var h=f(332),w=f(164),C=f(334),T=f(335),P=f(429),S=f(318),E=f.n(S);class O extends h.a{constructor(R,V){super(R,V),this.document.createRoot(),this.data.processor=new w.a,this.ui=new C.a(this,new T.a(this.locale)),this._elementReplacer=new P.a}destroy(){return this.updateEditorElement(),this._elementReplacer.restore(),this.ui.destroy().then(()=>super.destroy())}static create(R,V){return new Promise((F)=>{const I=new this(R,V);F(I.initPlugins().then(()=>I._elementReplacer.replace(R,I.ui.view.element)).then(()=>I.ui.init()).then(()=>I.fire('uiReady')).then(()=>I.editing.view.attachDomRoot(I.ui.view.editableElement)).then(()=>I.loadDataFromEditorElement()).then(()=>{I.fire('dataReady'),I.fire('ready')}).then(()=>I))})}}u.a=O},function(r,u,f){'use strict';var h=f(3),w=f(369),C=f(370);class T extends h.a{static get pluginName(){return'enter/enter'}init(){const P=this.editor,S=P.editing.view;S.addObserver(C.a),P.commands.set('enter',new w.a(P)),this.listenTo(S,'enter',(E,O)=>{P.execute('enter'),O.preventDefault()},{priority:'low'})}}u.a=T},function(r,u,f){'use strict';function h(I,N){return Array.prototype.concat(...I.map((M)=>[M,N]))}var w=f(72),C=f(175),T=f(3),P=f(410),S=f(401),E=f(79),O=f(6),R=f(320),V=f.n(R);class F extends T.a{static get requires(){return[w.a,C.a]}static get pluginName(){return'heading/heading'}init(){const I=this.editor,N=new E.a,M=this._getLocalizedOptions(),D=[],z=I.t,$=z('Choose heading'),q=z('Heading');for(let K of M){const H=I.commands.get(K.modelElement),Y=new P.a({commandName:K.modelElement,label:K.title,class:K.class});Y.bind('isActive').to(H,'value'),N.add(Y),D.push(H)}const U=new P.a({withText:!0,items:N,tooltip:q});U.bind('isEnabled').to(...h(D,'isEnabled'),(...K)=>K.some((H)=>H)),U.bind('label').to(...h(D,'value'),(...K)=>{const H=K.findIndex((Y)=>Y);return M[H]?M[H].title:$}),I.ui.componentFactory.add('headings',(K)=>{const H=f.i(S.a)(U,K);return O.a.extend(H.template,{attributes:{class:['ck-heading-dropdown']}}),this.listenTo(H,'execute',(Y)=>{I.execute(Y.source.commandName),I.editing.view.focus()}),H})}_getLocalizedOptions(){const I=this.editor,N=I.t,M={Paragraph:N('Paragraph'),'Heading 1':N('Heading 1'),'Heading 2':N('Heading 2'),'Heading 3':N('Heading 3')};return I.config.get('heading.options').map((D)=>{const z=M[D.title];return z&&z!=D.title&&(D=Object.assign({},D,{title:z})),D})}}u.a=F},function(r,u,f){'use strict';var h=f(3),w=f(176),C=f(535),T=f(378),P=f(323),S=f.n(P);class E extends h.a{static get requires(){return[w.a,C.a,T.a]}static get pluginName(){return'image/image'}}u.a=E},function(r,u,f){'use strict';var h=f(3),w=f(373),C=f(321),T=f.n(C);class P extends h.a{static get requires(){return[w.a]}static get pluginName(){return'image/imagecaption'}}u.a=P},function(r,u,f){'use strict';var h=f(3),w=f(377),C=f(26);class T extends h.a{static get requires(){return[w.a]}static get pluginName(){return'image/imagestyle'}init(){const P=this.editor.config.get('image.styles');for(let E of P)this._createButton(E);const S=this.editor.config.get('image.defaultToolbar');S&&(S.length&&S.push('|'),P.forEach((E)=>S.push(E.name)))}_createButton(P){const S=this.editor,E=S.commands.get(P.name);S.ui.componentFactory.add(P.name,(O)=>{const R=new C.a(O);return R.set({label:P.title,icon:P.icon,tooltip:!0}),R.bind('isEnabled').to(E,'isEnabled'),R.bind('isOn').to(E,'value'),this.listenTo(R,'execute',()=>S.execute(P.name)),R})}}u.a=T},function(r,u,f){'use strict';function h($){return $.parent.getAncestors().find((q)=>q instanceof P.a)}var w=f(3),C=f(360),T=f(383),P=f(179),S=f(182),E=f(26),O=f(186),R=f(384),V=f(296),F=f.n(V),I=f(297),N=f.n(I),M=f(324),D=f.n(M);class z extends w.a{static get requires(){return[T.a]}static get pluginName(){return'link/link'}init(){this.editor.editing.view.addObserver(C.a),this.balloonPanelView=this._createBalloonPanel(),this.formView=this._createForm(),this._createToolbarLinkButton(),this._createToolbarUnlinkButton()}_createToolbarLinkButton(){const $=this.editor,q=$.commands.get('link'),U=$.t;$.keystrokes.set('CTRL+K',()=>this._showPanel()),$.ui.componentFactory.add('link',(K)=>{const H=new E.a(K);return H.isEnabled=!0,H.label=U('Link'),H.icon=F.a,H.keystroke='CTRL+K',H.tooltip=!0,H.bind('isEnabled').to(q,'isEnabled'),this.listenTo(H,'execute',()=>this._showPanel()),H})}_createToolbarUnlinkButton(){const $=this.editor,q=$.t,U=$.commands.get('unlink');$.ui.componentFactory.add('unlink',(K)=>{const H=new E.a(K);return H.isEnabled=!1,H.label=q('Unlink'),H.icon=N.a,H.tooltip=!0,H.bind('isEnabled').to(U,'isEnabled'),this.listenTo(H,'execute',()=>$.execute('unlink')),H})}_createBalloonPanel(){const $=this.editor,q=$.editing.view,U=new O.a($.locale);return U.maxWidth=300,$.ui.focusTracker.add(U.element),this.listenTo(q,'click',()=>{const K=q.selection,H=h(K.getFirstPosition());K.isCollapsed&&H&&(this._attachPanelToElement(),this.listenTo(q,'render',()=>{const Y=h(K.getFirstPosition());K.isCollapsed&&H===Y?this._attachPanelToElement(H):this._hidePanel()}),this.listenTo(U,'change:isVisible',()=>this.stopListening(q,'render')))}),$.keystrokes.set('Tab',(K,H)=>{U.isVisible&&!this.formView.focusTracker.isFocused&&(this.formView.focus(),H())}),$.keystrokes.set('Esc',(K,H)=>{U.isVisible&&(this._hidePanel(!0),H())}),f.i(S.a)({emitter:U,activator:()=>U.isVisible,contextElement:U.element,callback:()=>this._hidePanel()}),$.ui.view.body.add(U),U}_createForm(){const $=this.editor,q=new R.a($.locale);return q.urlInputView.bind('value').to($.commands.get('link'),'value'),this.listenTo(q,'submit',()=>{$.execute('link',q.urlInputView.inputView.element.value),this._hidePanel(!0)}),this.listenTo(q,'unlink',()=>{$.execute('unlink'),this._hidePanel(!0)}),q.keystrokes.set('Esc',(U,K)=>{this._hidePanel(!0),K()}),this.listenTo(q,'cancel',()=>this._hidePanel(!0)),this.balloonPanelView.content.add(q),q}_attachPanelToElement($){const q=this.editor.editing.view,U=$||h(q.selection.getFirstPosition()),K=U?q.domConverter.getCorrespondingDomElement(U):q.domConverter.viewRangeToDom(q.selection.getFirstRange());this.balloonPanelView.attachTo({target:K,limiter:q.domConverter.getCorrespondingDomElement(q.selection.editableElement)})}_hidePanel($){this.balloonPanelView.hide(),$&&this.editor.editing.view.focus()}_showPanel(){this._attachPanelToElement(),this.formView.urlInputView.select()}}u.a=z},function(r,u,f){'use strict';var h=f(180),w=f(299),C=f.n(w),T=f(298),P=f.n(T),S=f(3),E=f(22),O=f(26);class R extends S.a{static get requires(){return[h.a]}static get pluginName(){return'list/list'}init(){const V=this.editor.t;this._addButton('numberedList',V('Numbered List'),C.a),this._addButton('bulletedList',V('Bulleted List'),P.a),this.listenTo(this.editor.editing.view,'enter',(F,I)=>{const N=this.editor.document,M=N.selection.getLastPosition().parent;N.selection.isCollapsed&&'listItem'==M.name&&M.isEmpty&&(this.editor.execute('outdentList'),I.preventDefault(),F.stop())}),this.listenTo(this.editor.editing.view,'keydown',(F,I)=>{let N;if(I.keystroke==f.i(E.d)('Tab')?N='indentList':I.keystroke==f.i(E.d)('Shift+Tab')&&(N='outdentList'),N){const M=this.editor.commands.get(N);M.isEnabled&&(this.editor.execute(N),I.preventDefault(),F.stop())}})}_addButton(V,F,I){const N=this.editor,M=N.commands.get(V);N.ui.componentFactory.add(V,(D)=>{const z=new O.a(D);return z.set({label:F,icon:I,tooltip:!0}),z.bind('isOn','isEnabled').to(M,'value','isEnabled'),this.listenTo(z,'execute',()=>N.execute(V)),z})}}u.a=R},function(r,u,f){'use strict';var h=f(3),w=f(394),C=f(391);class T extends h.a{static get requires(){return[w.a,C.a]}static get pluginName(){return'typing/typing'}}u.a=T},function(r,u,f){'use strict';var h=f(3),w=f(416),C=f(26),T=f(301),P=f.n(T),S=f(300),E=f.n(S);class O extends h.a{static get requires(){return[w.a]}static get pluginName(){return'undo/undo'}init(){const R=this.editor,V=R.t;this._addButton('undo',V('Undo'),'CTRL+Z',P.a),this._addButton('redo',V('Redo'),'CTRL+Y',E.a),R.keystrokes.set('CTRL+Z','undo'),R.keystrokes.set('CTRL+Y','redo'),R.keystrokes.set('CTRL+SHIFT+Z','redo')}_addButton(R,V,F,I){const N=this.editor,M=N.commands.get(R);N.ui.componentFactory.add(R,(D)=>{const z=new C.a(D);return z.set({label:V,icon:I,keystroke:F,tooltip:!0}),z.bind('isEnabled').to(M,'isEnabled'),this.listenTo(z,'execute',()=>N.execute(R)),z})}}u.a=O},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>bold</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="bold" sketch:type="MSArtboardGroup" fill="#454545">\n            <g id="icon:bold" sketch:type="MSLayerGroup" transform="translate(4.000000, 3.000000)">\n                <path d="M11.135257,7.40877709 C11.4960763,7.65684034 11.7892376,7.96832419 12.0147496,8.34323798 C12.2402617,8.71815176 12.353016,9.15930309 12.353016,9.66670521 C12.353016,10.2755877 12.2247579,10.7900294 11.968238,11.2100456 C11.711718,11.6300618 11.343857,11.9612776 10.8646439,12.2037031 C10.3572418,12.463042 9.77232867,12.6462677 9.10988702,12.753386 C8.44744538,12.8605042 7.66803104,12.9140625 6.77162064,12.9140625 L0.5390625,12.9140625 L0.5390625,12.254443 C0.713834339,12.2375296 0.933705291,12.2121599 1.19868195,12.1783331 C1.46365861,12.1445063 1.64970326,12.1050423 1.75682149,12.0599399 C1.96542013,11.9753729 2.10777248,11.864028 2.1838828,11.7259018 C2.25999311,11.5877757 2.2980477,11.4087782 2.2980477,11.1889039 L2.2980477,2.73224432 C2.2980477,2.52928347 2.26704026,2.36015197 2.20502445,2.22484474 C2.14300863,2.08953751 1.99360914,1.97114546 1.75682149,1.86966504 C1.58204965,1.79637362 1.37909184,1.73576817 1.14794199,1.68784686 C0.916792141,1.63992554 0.713834339,1.60187096 0.5390625,1.57368195 L0.5390625,0.9140625 L7.05914707,0.9140625 C8.69974724,0.9140625 9.88366774,1.13957117 10.6109441,1.59059527 C11.3382205,2.04161937 11.7018532,2.70686994 11.7018532,3.58636694 C11.7018532,3.99228863 11.6201063,4.34887421 11.4566101,4.65613438 C11.2931138,4.96339455 11.0591486,5.22977666 10.7547073,5.45528872 C10.4784551,5.66388736 10.1486486,5.8442943 9.76527814,5.99651493 C9.38190766,6.14873557 8.97035434,6.27558419 8.53060584,6.37706461 L8.53060584,6.53774115 C8.97035434,6.58284356 9.42700939,6.68009417 9.9005847,6.8294959 C10.37416,6.97889764 10.7857133,7.17198943 11.135257,7.40877709 L11.135257,7.40877709 Z M8.41221261,3.79778343 C8.41221261,3.13252288 8.22475853,2.61385294 7.84984474,2.24175806 C7.47493096,1.86966318 6.91256872,1.68361853 6.16274115,1.68361853 C6.05562292,1.68361853 5.91608943,1.68784681 5.7441365,1.69630351 C5.57218356,1.70476022 5.42419349,1.71180736 5.30016187,1.71744516 L5.30016187,6.16564812 L5.73990817,6.16564812 C6.65323197,6.16564812 7.32693912,5.95282432 7.76104982,5.52717032 C8.19516051,5.10151633 8.41221261,4.52505979 8.41221261,3.79778343 L8.41221261,3.79778343 Z M9.00417878,9.55676863 C9.00417878,8.72237404 8.75611924,8.0824932 8.25999273,7.6371069 C7.76386622,7.1917206 7.05069506,6.96903079 6.12045785,6.96903079 C6.01333962,6.96903079 5.87098728,6.97325908 5.69339654,6.98171578 C5.5158058,6.99017248 5.38472888,6.99721962 5.30016187,7.00285743 L5.30016187,11.3918638 C5.35090208,11.6004624 5.50875814,11.7766411 5.7737348,11.920405 C6.03871146,12.0641689 6.36006132,12.1360498 6.737794,12.1360498 C7.40869235,12.1360498 7.95414144,11.9105411 8.37415764,11.459517 C8.79417383,11.0084929 9.00417878,10.3742498 9.00417878,9.55676863 L9.00417878,9.55676863 Z" id="B" sketch:type="MSShapeGroup"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>italic</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="italic" sketch:type="MSArtboardGroup" fill="#454545">\n            <g id="icon:italic" sketch:type="MSLayerGroup" transform="translate(5.000000, 3.000000)">\n                <path d="M8.82538319,0.9140625 L8.6985333,1.47220203 C8.52376146,1.47783984 8.29543393,1.50320956 8.01354387,1.54831197 C7.73165381,1.59341438 7.52305829,1.63569726 7.38775106,1.67516187 C7.1509634,1.74845328 6.9818319,1.86120762 6.88035148,2.01342825 C6.77887106,2.16564888 6.70558074,2.33196153 6.66047833,2.51237117 L4.63088002,11.2819272 C4.61960442,11.3213918 4.61114784,11.3664935 4.60551004,11.4172337 C4.59987224,11.467974 4.59705338,11.5130757 4.59705338,11.5525403 C4.59705338,11.6822097 4.62524197,11.7921452 4.68161998,11.88235 C4.73799799,11.9725548 4.83947689,12.0514829 4.98605973,12.1191365 C5.07062674,12.1586011 5.2566714,12.2051123 5.54419926,12.2586714 C5.83172712,12.3122305 6.04596036,12.3446474 6.18690539,12.355923 L6.0600555,12.9140625 L0.65625,12.9140625 L0.783099894,12.355923 C0.94095833,12.3446474 1.166467,12.3277342 1.45963266,12.305183 C1.75279833,12.2826318 1.96139385,12.2488055 2.08542548,12.2037031 C2.30529973,12.1247739 2.47161237,12.0162478 2.58436839,11.8781217 C2.69712442,11.7399956 2.77323359,11.5722735 2.8126982,11.3749504 L4.83383985,2.59693776 C4.84511545,2.54619755 4.85357203,2.4954581 4.85920983,2.44471789 C4.86484763,2.39397768 4.86766649,2.34323823 4.86766649,2.29249802 C4.86766649,2.17974199 4.84370619,2.08108195 4.79578488,1.99651493 C4.74786357,1.91194791 4.6477941,1.83583874 4.49557347,1.76818512 C4.34335283,1.70053151 4.13616674,1.63710719 3.87400899,1.57791028 C3.61185123,1.51871337 3.41875943,1.48347764 3.2947278,1.47220203 L3.4215777,0.9140625 L8.82538319,0.9140625 Z" id="I" sketch:type="MSShapeGroup"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="100%" height="100%" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M5.414,6.749l-2.511,-2.512c-0.192,-0.191 -0.192,-0.502 0,-0.694c0.192,-0.192 0.503,-0.192 0.694,0l2.797,2.797c0.695,-0.251 1.407,-0.428 2.127,-0.53c0.366,-0.051 0.734,-0.081 1.103,-0.095c0.137,-0.003 0.275,-0.005 0.412,-0.004c0.371,0.006 0.742,0.029 1.112,0.074c1.109,0.134 2.204,0.449 3.243,0.936c0.743,0.347 1.464,0.782 2.12,1.331c0.276,0.231 0.542,0.484 0.784,0.766c0.18,0.211 0.349,0.439 0.488,0.692c0.169,0.307 0.301,0.664 0.301,1.039c0,0.375 -0.132,0.732 -0.301,1.039c-0.139,0.252 -0.308,0.481 -0.488,0.691c-0.242,0.283 -0.508,0.535 -0.784,0.767c-0.647,0.542 -1.359,0.973 -2.092,1.318l2.196,2.197c0.192,0.191 0.192,0.503 0,0.694c-0.191,0.192 -0.503,0.192 -0.694,0l-2.485,-2.484l-0.008,0.003l-0.931,-0.931l0.009,-0.003l-6.215,-6.215c-0.321,0.131 -0.636,0.278 -0.945,0.444l6.239,6.24l-0.006,0.005l0.78,0.78c-0.388,0.094 -0.78,0.166 -1.174,0.215l-1.11,-1.11l0.011,0l-5.603,-5.603c-0.229,0.157 -0.452,0.328 -0.665,0.514c-0.038,0.032 -0.075,0.065 -0.112,0.098l4.897,4.897l-0.005,0.006l1.276,1.276c-0.494,-0.003 -0.987,-0.042 -1.477,-0.117l-0.479,-0.479l-0.009,0.009l-4.863,-4.863c-0.007,0.01 -0.015,0.021 -0.022,0.031c-0.044,0.065 -0.086,0.131 -0.124,0.2c-0.026,0.047 -0.05,0.095 -0.071,0.145c-0.014,0.031 -0.026,0.063 -0.037,0.096c-0.013,0.042 -0.026,0.087 -0.028,0.133c-0.001,0.024 0.003,0.049 0.008,0.072c0.009,0.041 0.022,0.082 0.036,0.12c0.014,0.036 0.029,0.072 0.046,0.106c0.031,0.065 0.066,0.126 0.103,0.186c0.041,0.067 0.085,0.131 0.131,0.193l3.463,3.594c-0.281,-0.097 -0.56,-0.206 -0.835,-0.326c-0.44,-0.193 -0.872,-0.417 -1.29,-0.674c-0.35,-0.215 -0.69,-0.454 -1.015,-0.721c-0.281,-0.23 -0.551,-0.482 -0.798,-0.764c-0.184,-0.21 -0.357,-0.438 -0.502,-0.69c-0.184,-0.319 -0.329,-0.693 -0.329,-1.089c0,-0.375 0.131,-0.732 0.301,-1.039c0.139,-0.253 0.307,-0.481 0.488,-0.692c0.225,-0.263 0.471,-0.5 0.728,-0.719c0.647,-0.552 1.36,-0.99 2.096,-1.341l0.019,-0.009l0,0Zm6.674,0.401c1.069,0.849 1.755,2.16 1.755,3.63c0,0.833 -0.224,1.648 -0.647,2.362l0.345,0.344c0.015,-0.006 0.03,-0.012 0.046,-0.018c0.695,-0.285 1.372,-0.649 2,-1.112c0.252,-0.186 0.497,-0.388 0.727,-0.613c0.137,-0.134 0.27,-0.277 0.392,-0.431c0.072,-0.091 0.141,-0.185 0.203,-0.286c0.037,-0.06 0.072,-0.121 0.103,-0.186c0.016,-0.034 0.032,-0.07 0.045,-0.106c0.015,-0.039 0.028,-0.079 0.036,-0.12c0.005,-0.023 0.009,-0.048 0.008,-0.072c-0.002,-0.046 -0.014,-0.091 -0.028,-0.133c-0.01,-0.033 -0.023,-0.065 -0.036,-0.096c-0.022,-0.05 -0.046,-0.098 -0.071,-0.145c-0.039,-0.069 -0.081,-0.135 -0.125,-0.2c-0.081,-0.118 -0.17,-0.229 -0.263,-0.335c-0.166,-0.19 -0.345,-0.362 -0.53,-0.523c-0.333,-0.29 -0.689,-0.543 -1.054,-0.768c-0.601,-0.369 -1.232,-0.664 -1.879,-0.891c-0.338,-0.119 -0.681,-0.219 -1.027,-0.301Zm-2.85,0.21c-0.023,0 -0.046,0.001 -0.069,0.002c-0.092,0.01 -0.18,0.041 -0.254,0.097c-0.163,0.123 -0.234,0.34 -0.175,0.535c0.016,0.051 0.04,0.1 0.071,0.144c0.036,0.05 0.082,0.093 0.133,0.126c0.059,0.038 0.124,0.061 0.193,0.073c0.023,0.003 0.022,0.003 0.045,0.005c0.091,0.003 0.181,0.003 0.272,0.012c0.158,0.016 0.315,0.048 0.467,0.094c0.496,0.151 0.937,0.462 1.246,0.878c0.124,0.167 0.224,0.349 0.304,0.541c0.024,0.061 0.043,0.125 0.069,0.185c0.038,0.077 0.089,0.144 0.159,0.194c0.085,0.062 0.188,0.093 0.291,0.093l0.008,0c0.077,-0.002 0.154,-0.021 0.224,-0.059c0.047,-0.026 0.09,-0.059 0.126,-0.099c0.042,-0.045 0.075,-0.098 0.097,-0.155c0.022,-0.057 0.034,-0.119 0.033,-0.18c0,-0.077 -0.022,-0.147 -0.048,-0.219c-0.015,-0.043 -0.031,-0.085 -0.048,-0.127c-0.084,-0.209 -0.189,-0.409 -0.312,-0.596c-0.436,-0.664 -1.102,-1.164 -1.862,-1.395c-0.214,-0.066 -0.434,-0.11 -0.657,-0.132c-0.09,-0.009 -0.181,-0.014 -0.272,-0.016c-0.009,0 -0.018,0 -0.028,-0.001l-0.013,0Z" style="fill:#3a3a3a;"/></svg>\n'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="100%" height="100%" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve"><path d="M2,16l16,0l0,1l-16,0l0,-1Zm15,-2l-14,0l0,-8l14,0l0,8Zm-1,-7l-12,0l0,6l12,0l0,-6Zm-14,-4l16,0l0,1l-16,0l0,-1Z" style="fill:#343434;"/></svg>\n'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="100%" height="100%" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve"><path id="_-Curves-" d="M18,16l-16,0l0,-1l16,0l0,1Zm-11.022,-3l-4.978,0l0,-1l4.978,0l0,1Zm11.022,-7l0,7l-9,0l0,-7l9,0Zm-1,6l0,-5l-7,0l0,5l7,0Zm-10.022,-2l-4.978,0l0,-1l4.978,0l0,1Zm0,-3l-4.978,0l0,-1l4.978,0l0,1Zm11.022,-3l-16,0l0,-1l16,0l0,1Z" style="fill:#343434;"/></svg>\n'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>link</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="link" sketch:type="MSArtboardGroup" fill="#222222">\n            <g id="icon:link" sketch:type="MSLayerGroup">\n                <g id="Rectangle-18-+-Rectangle-18-Copy-+-Path-28" transform="translate(9.646447, 9.853553) rotate(-315.000000) translate(-9.646447, -9.853553) translate(5.646447, 0.853553)" sketch:type="MSShapeGroup">\n                    <path d="M8,6.55919636 L8,4.82450549 C8,2.61334348 6.2104719,0.828427125 4,0.828427125 C1.79353398,0.828427125 -3.20810045e-12,2.61822724 -3.20810045e-12,4.82450549 L-3.20810045e-12,7.75542568 C-3.20810045e-12,9.96658769 1.7895281,11.751504 4,11.751504 C4.5511606,11.751504 5.07655559,11.6398264 5.55466651,11.437876 L5.12132034,11.437876 L5.12132034,10.5346402 C4.77469964,10.6745028 4.39616036,10.751504 4,10.751504 C2.34314575,10.751504 1,9.41562927 1,7.75542568 L1,4.82450549 C1,3.1698171 2.34651712,1.82842712 4,1.82842712 C5.65685425,1.82842712 7,3.1643019 7,4.82450549 L7,6.55919636 L8,6.55919636 Z" id="Shape"></path>\n                    <path d="M2.63603897,6.90151354 C3.06184352,6.74698845 3.52119959,6.66270951 4,6.66270951 C6.2104719,6.66270951 8,8.44762587 8,10.6587879 L8,13.5897081 C8,15.7959863 6.20646602,17.5857864 4,17.5857864 C1.7895281,17.5857864 -2.32347475e-12,15.8008701 -2.32347475e-12,13.5897081 L-2.32347475e-12,11.6627095 L1,11.6627095 L1,13.5897081 C1,15.2499117 2.34314575,16.5857864 4,16.5857864 C5.65348288,16.5857864 7,15.2443965 7,13.5897081 L7,10.6587879 C7,8.99858429 5.65685425,7.66270951 4,7.66270951 C3.5092458,7.66270951 3.04553235,7.78087311 2.63603897,7.99032058 L2.63603897,6.90151354 Z" id="Shape"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>unlink</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="unlink" sketch:type="MSArtboardGroup" fill="#222222">\n            <g id="icon:unlink" sketch:type="MSLayerGroup">\n                <g id="Rectangle-18-+-Rectangle-18-Copy-+-Path-28-Copy" transform="translate(12.828427, 13.035534) rotate(-315.000000) translate(-12.828427, -13.035534) translate(4.328427, 4.035534)" sketch:type="MSShapeGroup">\n                    <path d="M8,6.55919636 L8,4.82450549 C8,2.61334348 6.2104719,0.828427125 4,0.828427125 C1.79353398,0.828427125 -3.20454774e-12,2.61822724 -3.20454774e-12,4.82450549 L-3.20454774e-12,7.75542568 C-3.20454774e-12,9.96658769 1.7895281,11.751504 4,11.751504 C4.5511606,11.751504 5.07655559,11.6398264 5.55466651,11.437876 L5.12132034,11.437876 L5.12132034,10.5346402 C4.77469964,10.6745028 4.39616036,10.751504 4,10.751504 C2.34314575,10.751504 1,9.41562927 1,7.75542568 L1,4.82450549 C1,3.1698171 2.34651712,1.82842712 4,1.82842712 C5.65685425,1.82842712 7,3.1643019 7,4.82450549 L7,6.55919636 L8,6.55919636 Z" id="Shape"></path>\n                    <path d="M12.1301896,9.691731 L12.1301896,6.07623654 L11.1099103,6.07623654 L11.1099103,9.691731 L7.79324873,9.691731 L7.79324873,10.7120103 L11.1099103,10.7120103 L11.1099103,14.3275047 L12.1301896,14.3275047 L12.1301896,10.7120103 L16.0445169,10.7120103 L16.0445169,9.691731 L12.1301896,9.691731 Z M7.52584209,8.6418508 C6.80172121,7.49371533 5.53005392,6.73384534 4.08111717,6.73384534 C3.59260703,6.73384534 3.12393555,6.82077136 2.68949598,6.98014985 L2.68949598,8.10315471 C3.10729359,7.8871288 3.58041083,7.76525387 4.08111717,7.76525387 C5.2472836,7.76525387 6.26112906,8.4209623 6.77783518,9.38985772 L7.52584209,8.6418508 Z M8.16223435,12.3942945 L8.16223435,13.8784107 C8.16223435,16.1539849 6.33232877,18 4.08111717,18 C1.82581847,18 -8.17124146e-14,16.1590221 -8.17124146e-14,13.8784107 L-8.17124146e-14,11.890888 L1.02027929,11.890888 L1.02027929,13.8784107 C1.02027929,15.5907588 2.39066309,16.9685915 4.08111717,16.9685915 C5.76813152,16.9685915 7.14195505,15.5850704 7.14195505,13.8784107 L7.14195505,11.3740152 L8.16223435,12.3942945 Z" id="Shape"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>bulletedlist</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="bulletedlist" sketch:type="MSArtboardGroup" fill="#454545">\n            <g id="icon:bulletedlist" sketch:type="MSLayerGroup" transform="translate(1.000000, 3.000000)">\n                <path d="M5,13 L5,14 L15,14 L15,13 L5,13 L5,13 Z M5,1 L5,2 L17,2 L17,1 L5,1 L5,1 Z M5,7 L5,8 L16,8 L16,7 L5,7 L5,7 Z M0,1.5 C0,0.671572875 0.665797234,0 1.5,0 L1.5,0 C2.32842712,0 3,0.665797234 3,1.5 L3,1.5 C3,2.32842712 2.33420277,3 1.5,3 L1.5,3 C0.671572875,3 0,2.33420277 0,1.5 L0,1.5 Z M0,7.5 C0,6.67157288 0.665797234,6 1.5,6 L1.5,6 C2.32842712,6 3,6.66579723 3,7.5 L3,7.5 C3,8.32842712 2.33420277,9 1.5,9 L1.5,9 C0.671572875,9 0,8.33420277 0,7.5 L0,7.5 Z M0,13.5 C0,12.6715729 0.665797234,12 1.5,12 L1.5,12 C2.32842712,12 3,12.6657972 3,13.5 L3,13.5 C3,14.3284271 2.33420277,15 1.5,15 L1.5,15 C0.671572875,15 0,14.3342028 0,13.5 L0,13.5 Z" id="path4634" sketch:type="MSShapeGroup"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>numberedlist</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="numberedlist" sketch:type="MSArtboardGroup" fill="#454545">\n            <g id="icon:numberedlist" sketch:type="MSLayerGroup" transform="translate(2.000000, 2.000000)">\n                <path d="M5,15 L15,15 L15,14 L5,14 L5,15 Z M4,2 L4,3 L17,3 L17,2 L4,2 L4,2 Z M5,8 L5,9 L16,9 L16,8 L5,8 L5,8 Z" id="path4634" sketch:type="MSShapeGroup"></path>\n                <g id="path4712-path-+-path4712-path-+-path4712-path-copy" sketch:type="MSShapeGroup">\n                    <path d="M0,0.5 C0,0.77699 0.223,1 0.5,1 L1,1 L1,4.5 C1,4.77699 1.223,5 1.5,5 C1.777,5 2,4.77699 2,4.5 L2,0.5 C2,0.223 1.777,0 1.5,0 L0.5,0 C0.223,0 0,0.223 0,0.5 Z" id="path4712-path"></path>\n                    <path d="M0.5,6 C0.223,6 0,6.223 0,6.5 C0,6.77699 0.223,7 0.5,7 L2,7 L2,8 L0.5,8 C0.223,8 0,8.223 0,8.5 L0,10.5 C0,10.77699 0.223,11 0.5,11 L2.5,11 C2.777,11 3,10.77699 3,10.5 C3,10.223 2.777,10 2.5,10 L1,10 L1,9 L2.5,9 C2.5693,9 2.62764,8.994 2.6875,8.9688 C2.81468,8.9278 2.9182,8.82667 2.96875,8.68755 C2.99395,8.62765 2.99995,8.5693 2.99995,8.50005 L2.99995,6.50005 C2.99995,6.43075 2.99395,6.3724 2.96875,6.31255 C2.91825,6.17342 2.81468,6.07227 2.6875,6.0313 C2.6471,6.0142 2.6076,6.006 2.5625,6.0001 L2.5,6.0001 L0.5,6.0001 L0.5,6 Z" id="path4712-path"></path>\n                    <path d="M2.85209534,16.8526748 C2.94267961,16.7627344 3,16.6389489 3,16.5023012 L3,12.4976988 C3,12.3570579 2.94465639,12.2332311 2.85505992,12.1442682 C2.76454727,12.057652 2.64101746,12 2.50461102,12 L0.495388985,12 C0.215752602,12 0,12.2238576 0,12.5 C0,12.7680664 0.221793203,13 0.495388985,13 L2,13 L2,14 L0.495388985,14 C0.215752602,14 0,14.2238576 0,14.5 C0,14.7680664 0.221793203,15 0.495388985,15 L2,15 L2,16 L0.495388985,16 C0.215752602,16 0,16.2238576 0,16.5 C0,16.7680664 0.221793203,17 0.495388985,17 L2.50461102,17 C2.6440432,17 2.76759251,16.9443442 2.85643212,16.854302 Z" id="Rectangle-403"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 3.8.2 (29753) - http://www.bohemiancoding.com/sketch -->\n    <title>redo</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Mockups" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="redo" fill="#454545">\n            <g id="undo">\n                <path d="M10.00002,15.99998 L11,12.0184937 C7.58334,12.0184937 2.38444,12.88666 1,16 C1,10.01667 7.60112,8.03985596 11,8.03985596 C10.99998,7.18907596 9.99999,4.71945 10,4 L18,10 L10.00002,15.99998 Z"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r){r.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 3.8.2 (29753) - http://www.bohemiancoding.com/sketch -->\n    <title>undo</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Mockups" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="undo" fill="#454545">\n            <g>\n                <path d="M2,10 L9.99998,15.99998 L9,12.0184937 C12.41666,12.0184937 17.61556,12.88666 19,16 C19,10.01667 12.39888,8.03985596 9,8.03985596 C9.00002,7.18907596 10.00001,4.71945 10,4 L2,10 Z"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(r,u,f){'use strict';var h=f(2),w=f(60);u.a=class{constructor(T,P,S){let E;if('function'==typeof S)E=S;else{E=(R)=>{const{batch:V}=R;T.execute(S,{batch:V})}}T.document.on('change',(O,R,V)=>{if('insert'!=R)return;const F=V.range.getItems().next().value;if(!(F instanceof w.a))return;const I=F.textNode,N=I.data;if('paragraph'!==I.parent.name||!N)return;const M=P.exec(N);M&&T.document.enqueueChanges(()=>{const D=T.document.batch(),z=h.a.createFromParentsAndOffsets(I.parent,0,I.parent,M[0].length);D.remove(z),E({batch:D,match:M})})})}}},function(r,u,f){'use strict';function h(P){return Array.from(P.getChildren()).reduce((S,E)=>S+E.data,'')}var w=f(111),C=f(101);u.a=class{constructor(P,S,E){this.editor=P;let O,R,V,F;S instanceof RegExp?O=S:V=S,'string'==typeof E?R=E:F=E,V=V||((I)=>{let N,M=[],D=[];for(;null!==(N=O.exec(I))&&!(N&&4>N.length);){let{index:z,1:$,2:q,3:U}=N;z+=N[0].length-($+q+U).length;const H=[z,z+$.length],Y=[z+$.length+q.length,z+$.length+q.length+U.length];M.push(H),M.push(Y),D.push([z+$.length,z+$.length+q.length])}return{remove:M,format:D}}),F=F||((I,N)=>{for(let M of N)I.setAttribute(M,R,!0)}),P.document.on('change',(I,N)=>{if('insert'!==N)return;const M=this.editor.document.selection;if(!M.isCollapsed||!M.focus||!M.focus.parent)return;const D=M.focus.parent,z=h(D).slice(0,M.focus.offset),$=V(z),q=[];$.format.forEach((H)=>{void 0===H[0]||void 0===H[1]||q.push(w.a.createFromParentsAndOffsets(D,H[0],D,H[1]))});const U=[];if($.remove.slice().reverse().forEach((H)=>{void 0===H[0]||void 0===H[1]||U.push(w.a.createFromParentsAndOffsets(D,H[0],D,H[1]))}),!(q.length&&U.length))return;const K=P.document.batch();P.document.enqueueChanges(()=>{const H=f.i(C.a)(R,q,P.document.schema);F(K,H);for(let Y of U)K.remove(Y)})})}}},function(r,u,f){'use strict';Object.defineProperty(u,'__esModule',{value:!0});var h=f(281),w=f(276),C=f(277),T=f(278),P=f(280),S=f(282),E=f(283),O=f(284),R=f(285),V=f(286),F=f(154),I=f(287),N=f(288),M=f(72),D=f(289),z=f(290);class $ extends h.a{}u.ClassicEditor=$,$.build={plugins:[w.a,C.a,T.a,P.a,S.a,E.a,O.a,R.a,V.a,F.a,I.a,N.a,M.a,D.a,z.a],config:f(279)}},function(r,u){'use strict';function h(N){var M=N.length;if(0<M%4)throw new Error('Invalid string. Length must be a multiple of 4');return'='===N[M-2]?2:'='===N[M-1]?1:0}function T(N){return E[63&N>>18]+E[63&N>>12]+E[63&N>>6]+E[63&N]}function P(N,M,D){for(var $=[],q=M,z;q<D;q+=3)z=(N[q]<<16)+(N[q+1]<<8)+N[q+2],$.push(T(z));return $.join('')}u.byteLength=function(N){return 3*N.length/4-h(N)},u.toByteArray=function(N){var K=N.length,M,D,z,$,q,U;q=h(N),U=new R(3*K/4-q),z=0<q?K-4:K;var H=0;for(M=0,D=0;M<z;M+=4,D+=3)$=O[N.charCodeAt(M)]<<18|O[N.charCodeAt(M+1)]<<12|O[N.charCodeAt(M+2)]<<6|O[N.charCodeAt(M+3)],U[H++]=255&$>>16,U[H++]=255&$>>8,U[H++]=255&$;return 2===q?($=O[N.charCodeAt(M)]<<2|O[N.charCodeAt(M+1)]>>4,U[H++]=255&$):1===q&&($=O[N.charCodeAt(M)]<<10|O[N.charCodeAt(M+1)]<<4|O[N.charCodeAt(M+2)]>>2,U[H++]=255&$>>8,U[H++]=255&$),U},u.fromByteArray=function(N){for(var D=N.length,z=D%3,$='',q=[],U=16383,K=0,H=D-z,M;K<H;K+=U)q.push(P(N,K,K+U>H?H:K+U));return 1==z?(M=N[D-1],$+=E[M>>2],$+=E[63&M<<4],$+='=='):2==z&&(M=(N[D-2]<<8)+N[D-1],$+=E[M>>10],$+=E[63&M>>4],$+=E[63&M<<2],$+='='),q.push($),q.join('')};for(var E=[],O=[],R='undefined'==typeof Uint8Array?Array:Uint8Array,V='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',F=0,I=V.length;F<I;++F)E[F]=V[F],O[V.charCodeAt(F)]=F;O['-'.charCodeAt(0)]=62,O['_'.charCodeAt(0)]=63},function(r,u,f){'use strict';(function(h){function C(){return P.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function T(Te,Pe){if(C()<Pe)throw new RangeError('Invalid typed array length');return P.TYPED_ARRAY_SUPPORT?(Te=new Uint8Array(Pe),Te.__proto__=P.prototype):(null===Te&&(Te=new P(Pe)),Te.length=Pe),Te}function P(Te,Pe,Se){if(!P.TYPED_ARRAY_SUPPORT&&!(this instanceof P))return new P(Te,Pe,Se);if('number'==typeof Te){if('string'==typeof Pe)throw new Error('If encoding is specified then the first argument must be a string');return R(this,Te)}return S(this,Te,Pe,Se)}function S(Te,Pe,Se,Ee){if('number'==typeof Pe)throw new TypeError('"value" argument must not be a number');return'undefined'!=typeof ArrayBuffer&&Pe instanceof ArrayBuffer?I(Te,Pe,Se,Ee):'string'==typeof Pe?V(Te,Pe,Se):N(Te,Pe)}function E(Te){if('number'!=typeof Te)throw new TypeError('"size" argument must be a number');else if(0>Te)throw new RangeError('"size" argument must not be negative')}function O(Te,Pe,Se,Ee){return E(Pe),0>=Pe?T(Te,Pe):void 0===Se?T(Te,Pe):'string'==typeof Ee?T(Te,Pe).fill(Se,Ee):T(Te,Pe).fill(Se)}function R(Te,Pe){if(E(Pe),Te=T(Te,0>Pe?0:0|M(Pe)),!P.TYPED_ARRAY_SUPPORT)for(var Se=0;Se<Pe;++Se)Te[Se]=0;return Te}function V(Te,Pe,Se){if(('string'!=typeof Se||''===Se)&&(Se='utf8'),!P.isEncoding(Se))throw new TypeError('"encoding" must be a valid string encoding');var Ee=0|z(Pe,Se);Te=T(Te,Ee);var Oe=Te.write(Pe,Se);return Oe!==Ee&&(Te=Te.slice(0,Oe)),Te}function F(Te,Pe){var Se=0>Pe.length?0:0|M(Pe.length);Te=T(Te,Se);for(var Ee=0;Ee<Se;Ee+=1)Te[Ee]=255&Pe[Ee];return Te}function I(Te,Pe,Se,Ee){if(Pe.byteLength,0>Se||Pe.byteLength<Se)throw new RangeError('\'offset\' is out of bounds');if(Pe.byteLength<Se+(Ee||0))throw new RangeError('\'length\' is out of bounds');return Pe=void 0===Se&&void 0===Ee?new Uint8Array(Pe):void 0===Ee?new Uint8Array(Pe,Se):new Uint8Array(Pe,Se,Ee),P.TYPED_ARRAY_SUPPORT?(Te=Pe,Te.__proto__=P.prototype):Te=F(Te,Pe),Te}function N(Te,Pe){if(P.isBuffer(Pe)){var Se=0|M(Pe.length);return(Te=T(Te,Se),0===Te.length)?Te:(Pe.copy(Te,0,0,Se),Te)}if(Pe){if('undefined'!=typeof ArrayBuffer&&Pe.buffer instanceof ArrayBuffer||'length'in Pe)return'number'!=typeof Pe.length||ye(Pe.length)?T(Te,0):F(Te,Pe);if('Buffer'===Pe.type&&xe(Pe.data))return F(Te,Pe.data)}throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')}function M(Te){if(Te>=C())throw new RangeError('Attempt to allocate Buffer larger than maximum size: 0x'+C().toString(16)+' bytes');return 0|Te}function z(Te,Pe){if(P.isBuffer(Te))return Te.length;if('undefined'!=typeof ArrayBuffer&&'function'==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(Te)||Te instanceof ArrayBuffer))return Te.byteLength;'string'!=typeof Te&&(Te=''+Te);var Se=Te.length;if(0===Se)return 0;for(var Ee=!1;;)switch(Pe){case'ascii':case'latin1':case'binary':return Se;case'utf8':case'utf-8':case void 0:return fe(Te).length;case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return 2*Se;case'hex':return Se>>>1;case'base64':return _e(Te).length;default:if(Ee)return fe(Te).length;Pe=(''+Pe).toLowerCase(),Ee=!0;}}function $(Te,Pe,Se){var Ee=!1;if((void 0===Pe||0>Pe)&&(Pe=0),Pe>this.length)return'';if((void 0===Se||Se>this.length)&&(Se=this.length),0>=Se)return'';if(Se>>>=0,Pe>>>=0,Se<=Pe)return'';for(Te||(Te='utf8');;)switch(Te){case'hex':return ne(this,Pe,Se);case'utf8':case'utf-8':return Q(this,Pe,Se);case'ascii':return te(this,Pe,Se);case'latin1':case'binary':return ae(this,Pe,Se);case'base64':return X(this,Pe,Se);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return oe(this,Pe,Se);default:if(Ee)throw new TypeError('Unknown encoding: '+Te);Te=(Te+'').toLowerCase(),Ee=!0;}}function q(Te,Pe,Se){var Ee=Te[Pe];Te[Pe]=Te[Se],Te[Se]=Ee}function U(Te,Pe,Se,Ee,Oe){if(0===Te.length)return-1;if('string'==typeof Se?(Ee=Se,Se=0):2147483647<Se?Se=2147483647:-2147483648>Se&&(Se=-2147483648),Se=+Se,isNaN(Se)&&(Se=Oe?0:Te.length-1),0>Se&&(Se=Te.length+Se),Se>=Te.length){if(Oe)return-1;Se=Te.length-1}else if(0>Se)if(Oe)Se=0;else return-1;if('string'==typeof Pe&&(Pe=P.from(Pe,Ee)),P.isBuffer(Pe))return 0===Pe.length?-1:K(Te,Pe,Se,Ee,Oe);if('number'==typeof Pe)return Pe&=255,P.TYPED_ARRAY_SUPPORT&&'function'==typeof Uint8Array.prototype.indexOf?Oe?Uint8Array.prototype.indexOf.call(Te,Pe,Se):Uint8Array.prototype.lastIndexOf.call(Te,Pe,Se):K(Te,[Pe],Se,Ee,Oe);throw new TypeError('val must be string, number or Buffer')}function K(Te,Pe,Se,Ee,Oe){function Re(De,je){return 1==Ve?De[je]:De.readUInt16BE(je*Ve)}var Ve=1,Fe=Te.length,Ie=Pe.length;if(void 0!==Ee&&(Ee=(Ee+'').toLowerCase(),'ucs2'===Ee||'ucs-2'===Ee||'utf16le'===Ee||'utf-16le'===Ee)){if(2>Te.length||2>Pe.length)return-1;Ve=2,Fe/=2,Ie/=2,Se/=2}var Be;if(Oe){var Ne=-1;for(Be=Se;Be<Fe;Be++)if(Re(Te,Be)!==Re(Pe,-1==Ne?0:Be-Ne))-1!=Ne&&(Be-=Be-Ne),Ne=-1;else if(-1==Ne&&(Ne=Be),Be-Ne+1===Ie)return Ne*Ve}else for(Se+Ie>Fe&&(Se=Fe-Ie),Be=Se;0<=Be;Be--){for(var Me=!0,Le=0;Le<Ie;Le++)if(Re(Te,Be+Le)!==Re(Pe,Le)){Me=!1;break}if(Me)return Be}return-1}function H(Te,Pe,Se,Ee){Se=+Se||0;var Oe=Te.length-Se;Ee?(Ee=+Ee,Ee>Oe&&(Ee=Oe)):Ee=Oe;var Re=Pe.length;if(0!=Re%2)throw new TypeError('Invalid hex string');Ee>Re/2&&(Ee=Re/2);for(var Ve=0,Fe;Ve<Ee;++Ve){if(Fe=parseInt(Pe.substr(2*Ve,2),16),isNaN(Fe))return Ve;Te[Se+Ve]=Fe}return Ve}function Y(Te,Pe,Se,Ee){return ke(fe(Pe,Te.length-Se),Te,Se,Ee)}function W(Te,Pe,Se,Ee){return ke(he(Pe),Te,Se,Ee)}function Z(Te,Pe,Se,Ee){return W(Te,Pe,Se,Ee)}function G(Te,Pe,Se,Ee){return ke(_e(Pe),Te,Se,Ee)}function J(Te,Pe,Se,Ee){return ke(be(Pe,Te.length-Se),Te,Se,Ee)}function X(Te,Pe,Se){return 0===Pe&&Se===Te.length?we.fromByteArray(Te):we.fromByteArray(Te.slice(Pe,Se))}function Q(Te,Pe,Se){Se=_Mathmin(Te.length,Se);for(var Ee=[],Oe=Pe;Oe<Se;){var Re=Te[Oe],Ve=null,Fe=239<Re?4:223<Re?3:191<Re?2:1;if(Oe+Fe<=Se){var Ie,Be,Ne,Me;1==Fe?128>Re&&(Ve=Re):2==Fe?(Ie=Te[Oe+1],128==(192&Ie)&&(Me=(31&Re)<<6|63&Ie,127<Me&&(Ve=Me))):3==Fe?(Ie=Te[Oe+1],Be=Te[Oe+2],128==(192&Ie)&&128==(192&Be)&&(Me=(15&Re)<<12|(63&Ie)<<6|63&Be,2047<Me&&(55296>Me||57343<Me)&&(Ve=Me))):4==Fe?(Ie=Te[Oe+1],Be=Te[Oe+2],Ne=Te[Oe+3],128==(192&Ie)&&128==(192&Be)&&128==(192&Ne)&&(Me=(15&Re)<<18|(63&Ie)<<12|(63&Be)<<6|63&Ne,65535<Me&&1114112>Me&&(Ve=Me))):void 0}null===Ve?(Ve=65533,Fe=1):65535<Ve&&(Ve-=65536,Ee.push(55296|1023&Ve>>>10),Ve=56320|1023&Ve),Ee.push(Ve),Oe+=Fe}return ee(Ee)}function ee(Te){var Pe=Te.length;if(Pe<=Ce)return _StringfromCharCode.apply(String,Te);for(var Se='',Ee=0;Ee<Pe;)Se+=_StringfromCharCode.apply(String,Te.slice(Ee,Ee+=Ce));return Se}function te(Te,Pe,Se){var Ee='';Se=_Mathmin(Te.length,Se);for(var Oe=Pe;Oe<Se;++Oe)Ee+=_StringfromCharCode(127&Te[Oe]);return Ee}function ae(Te,Pe,Se){var Ee='';Se=_Mathmin(Te.length,Se);for(var Oe=Pe;Oe<Se;++Oe)Ee+=_StringfromCharCode(Te[Oe]);return Ee}function ne(Te,Pe,Se){var Ee=Te.length;(!Pe||0>Pe)&&(Pe=0),(!Se||0>Se||Se>Ee)&&(Se=Ee);for(var Oe='',Re=Pe;Re<Se;++Re)Oe+=ge(Te[Re]);return Oe}function oe(Te,Pe,Se){for(var Ee=Te.slice(Pe,Se),Oe='',Re=0;Re<Ee.length;Re+=2)Oe+=_StringfromCharCode(Ee[Re]+256*Ee[Re+1]);return Oe}function ie(Te,Pe,Se){if(0!=Te%1||0>Te)throw new RangeError('offset is not uint');if(Te+Pe>Se)throw new RangeError('Trying to access beyond buffer length')}function re(Te,Pe,Se,Ee,Oe,Re){if(!P.isBuffer(Te))throw new TypeError('"buffer" argument must be a Buffer instance');if(Pe>Oe||Pe<Re)throw new RangeError('"value" argument is out of bounds');if(Se+Ee>Te.length)throw new RangeError('Index out of range')}function se(Te,Pe,Se,Ee){0>Pe&&(Pe=65535+Pe+1);for(var Oe=0,Re=_Mathmin(Te.length-Se,2);Oe<Re;++Oe)Te[Se+Oe]=(Pe&255<<8*(Ee?Oe:1-Oe))>>>8*(Ee?Oe:1-Oe)}function le(Te,Pe,Se,Ee){0>Pe&&(Pe=4294967295+Pe+1);for(var Oe=0,Re=_Mathmin(Te.length-Se,4);Oe<Re;++Oe)Te[Se+Oe]=255&Pe>>>8*(Ee?Oe:3-Oe)}function de(Te,Pe,Se,Ee){if(Se+Ee>Te.length)throw new RangeError('Index out of range');if(0>Se)throw new RangeError('Index out of range')}function ce(Te,Pe,Se,Ee,Oe){return Oe||de(Te,Pe,Se,4,3.4028234663852886e38,-3.4028234663852886e38),ve.write(Te,Pe,Se,Ee,23,4),Se+4}function ue(Te,Pe,Se,Ee,Oe){return Oe||de(Te,Pe,Se,8,1.7976931348623157e308,-1.7976931348623157e308),ve.write(Te,Pe,Se,Ee,52,8),Se+8}function pe(Te){if(Te=me(Te).replace(Ae,''),2>Te.length)return'';for(;0!=Te.length%4;)Te+='=';return Te}function me(Te){return Te.trim?Te.trim():Te.replace(/^\s+|\s+$/g,'')}function ge(Te){return 16>Te?'0'+Te.toString(16):Te.toString(16)}function fe(Te,Pe){Pe=Pe||Infinity;for(var Ee=Te.length,Oe=null,Re=[],Ve=0,Se;Ve<Ee;++Ve){if(Se=Te.charCodeAt(Ve),55295<Se&&57344>Se){if(!Oe){if(56319<Se){-1<(Pe-=3)&&Re.push(239,191,189);continue}else if(Ve+1===Ee){-1<(Pe-=3)&&Re.push(239,191,189);continue}Oe=Se;continue}if(56320>Se){-1<(Pe-=3)&&Re.push(239,191,189),Oe=Se;continue}Se=(Oe-55296<<10|Se-56320)+65536}else Oe&&-1<(Pe-=3)&&Re.push(239,191,189);if(Oe=null,128>Se){if(0>(Pe-=1))break;Re.push(Se)}else if(2048>Se){if(0>(Pe-=2))break;Re.push(192|Se>>6,128|63&Se)}else if(65536>Se){if(0>(Pe-=3))break;Re.push(224|Se>>12,128|63&Se>>6,128|63&Se)}else if(1114112>Se){if(0>(Pe-=4))break;Re.push(240|Se>>18,128|63&Se>>12,128|63&Se>>6,128|63&Se)}else throw new Error('Invalid code point')}return Re}function he(Te){for(var Pe=[],Se=0;Se<Te.length;++Se)Pe.push(255&Te.charCodeAt(Se));return Pe}function be(Te,Pe){for(var Re=[],Ve=0,Se,Ee,Oe;Ve<Te.length&&!(0>(Pe-=2));++Ve)Se=Te.charCodeAt(Ve),Ee=Se>>8,Oe=Se%256,Re.push(Oe),Re.push(Ee);return Re}function _e(Te){return we.toByteArray(pe(Te))}function ke(Te,Pe,Se,Ee){for(var Oe=0;Oe<Ee&&!(Oe+Se>=Pe.length||Oe>=Te.length);++Oe)Pe[Oe+Se]=Te[Oe];return Oe}function ye(Te){return Te!==Te}var we=f(305),ve=f(315),xe=f(316);u.Buffer=P,u.SlowBuffer=function(Te){return+Te!=Te&&(Te=0),P.alloc(+Te)},u.INSPECT_MAX_BYTES=50,P.TYPED_ARRAY_SUPPORT=h.TYPED_ARRAY_SUPPORT===void 0?function(){try{var Te=new Uint8Array(1);return Te.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===Te.foo()&&'function'==typeof Te.subarray&&0===Te.subarray(1,1).byteLength}catch(Pe){return!1}}():h.TYPED_ARRAY_SUPPORT,u.kMaxLength=C(),P.poolSize=8192,P._augment=function(Te){return Te.__proto__=P.prototype,Te},P.from=function(Te,Pe,Se){return S(null,Te,Pe,Se)},P.TYPED_ARRAY_SUPPORT&&(P.prototype.__proto__=Uint8Array.prototype,P.__proto__=Uint8Array,'undefined'!=typeof Symbol&&Symbol.species&&P[Symbol.species]===P&&Object.defineProperty(P,Symbol.species,{value:null,configurable:!0})),P.alloc=function(Te,Pe,Se){return O(null,Te,Pe,Se)},P.allocUnsafe=function(Te){return R(null,Te)},P.allocUnsafeSlow=function(Te){return R(null,Te)},P.isBuffer=function(Pe){return!!(null!=Pe&&Pe._isBuffer)},P.compare=function(Pe,Se){if(!P.isBuffer(Pe)||!P.isBuffer(Se))throw new TypeError('Arguments must be Buffers');if(Pe===Se)return 0;for(var Ee=Pe.length,Oe=Se.length,Re=0,Ve=_Mathmin(Ee,Oe);Re<Ve;++Re)if(Pe[Re]!==Se[Re]){Ee=Pe[Re],Oe=Se[Re];break}return Ee<Oe?-1:Oe<Ee?1:0},P.isEncoding=function(Pe){switch((Pe+'').toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return!0;default:return!1;}},P.concat=function(Pe,Se){if(!xe(Pe))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Pe.length)return P.alloc(0);var Ee;if(Se===void 0)for(Se=0,Ee=0;Ee<Pe.length;++Ee)Se+=Pe[Ee].length;var Oe=P.allocUnsafe(Se),Re=0;for(Ee=0;Ee<Pe.length;++Ee){var Ve=Pe[Ee];if(!P.isBuffer(Ve))throw new TypeError('"list" argument must be an Array of Buffers');Ve.copy(Oe,Re),Re+=Ve.length}return Oe},P.byteLength=z,P.prototype._isBuffer=!0,P.prototype.swap16=function(){var Pe=this.length;if(0!=Pe%2)throw new RangeError('Buffer size must be a multiple of 16-bits');for(var Se=0;Se<Pe;Se+=2)q(this,Se,Se+1);return this},P.prototype.swap32=function(){var Pe=this.length;if(0!=Pe%4)throw new RangeError('Buffer size must be a multiple of 32-bits');for(var Se=0;Se<Pe;Se+=4)q(this,Se,Se+3),q(this,Se+1,Se+2);return this},P.prototype.swap64=function(){var Pe=this.length;if(0!=Pe%8)throw new RangeError('Buffer size must be a multiple of 64-bits');for(var Se=0;Se<Pe;Se+=8)q(this,Se,Se+7),q(this,Se+1,Se+6),q(this,Se+2,Se+5),q(this,Se+3,Se+4);return this},P.prototype.toString=function(){var Pe=0|this.length;return 0==Pe?'':0===arguments.length?Q(this,0,Pe):$.apply(this,arguments)},P.prototype.equals=function(Pe){if(!P.isBuffer(Pe))throw new TypeError('Argument must be a Buffer');return this===Pe||0===P.compare(this,Pe)},P.prototype.inspect=function(){var Pe='',Se=u.INSPECT_MAX_BYTES;return 0<this.length&&(Pe=this.toString('hex',0,Se).match(/.{2}/g).join(' '),this.length>Se&&(Pe+=' ... ')),'<Buffer '+Pe+'>'},P.prototype.compare=function(Pe,Se,Ee,Oe,Re){if(!P.isBuffer(Pe))throw new TypeError('Argument must be a Buffer');if(void 0===Se&&(Se=0),void 0===Ee&&(Ee=Pe?Pe.length:0),void 0===Oe&&(Oe=0),void 0===Re&&(Re=this.length),0>Se||Ee>Pe.length||0>Oe||Re>this.length)throw new RangeError('out of range index');if(Oe>=Re&&Se>=Ee)return 0;if(Oe>=Re)return-1;if(Se>=Ee)return 1;if(Se>>>=0,Ee>>>=0,Oe>>>=0,Re>>>=0,this===Pe)return 0;for(var Ve=Re-Oe,Fe=Ee-Se,Ie=_Mathmin(Ve,Fe),Be=this.slice(Oe,Re),Ne=Pe.slice(Se,Ee),Me=0;Me<Ie;++Me)if(Be[Me]!==Ne[Me]){Ve=Be[Me],Fe=Ne[Me];break}return Ve<Fe?-1:Fe<Ve?1:0},P.prototype.includes=function(Pe,Se,Ee){return-1!==this.indexOf(Pe,Se,Ee)},P.prototype.indexOf=function(Pe,Se,Ee){return U(this,Pe,Se,Ee,!0)},P.prototype.lastIndexOf=function(Pe,Se,Ee){return U(this,Pe,Se,Ee,!1)},P.prototype.write=function(Pe,Se,Ee,Oe){if(void 0===Se)Oe='utf8',Ee=this.length,Se=0;else if(void 0===Ee&&'string'==typeof Se)Oe=Se,Ee=this.length,Se=0;else if(isFinite(Se))Se|=0,isFinite(Ee)?(Ee|=0,void 0===Oe&&(Oe='utf8')):(Oe=Ee,Ee=void 0);else throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');var Re=this.length-Se;if((void 0===Ee||Ee>Re)&&(Ee=Re),0<Pe.length&&(0>Ee||0>Se)||Se>this.length)throw new RangeError('Attempt to write outside buffer bounds');Oe||(Oe='utf8');for(var Ve=!1;;)switch(Oe){case'hex':return H(this,Pe,Se,Ee);case'utf8':case'utf-8':return Y(this,Pe,Se,Ee);case'ascii':return W(this,Pe,Se,Ee);case'latin1':case'binary':return Z(this,Pe,Se,Ee);case'base64':return G(this,Pe,Se,Ee);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return J(this,Pe,Se,Ee);default:if(Ve)throw new TypeError('Unknown encoding: '+Oe);Oe=(''+Oe).toLowerCase(),Ve=!0;}},P.prototype.toJSON=function(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}};var Ce=4096;P.prototype.slice=function(Pe,Se){var Ee=this.length;Pe=~~Pe,Se=Se===void 0?Ee:~~Se,0>Pe?(Pe+=Ee,0>Pe&&(Pe=0)):Pe>Ee&&(Pe=Ee),0>Se?(Se+=Ee,0>Se&&(Se=0)):Se>Ee&&(Se=Ee),Se<Pe&&(Se=Pe);var Oe;if(P.TYPED_ARRAY_SUPPORT)Oe=this.subarray(Pe,Se),Oe.__proto__=P.prototype;else{var Re=Se-Pe;Oe=new P(Re,void 0);for(var Ve=0;Ve<Re;++Ve)Oe[Ve]=this[Ve+Pe]}return Oe},P.prototype.readUIntLE=function(Pe,Se,Ee){Pe|=0,Se|=0,Ee||ie(Pe,Se,this.length);for(var Oe=this[Pe],Re=1,Ve=0;++Ve<Se&&(Re*=256);)Oe+=this[Pe+Ve]*Re;return Oe},P.prototype.readUIntBE=function(Pe,Se,Ee){Pe|=0,Se|=0,Ee||ie(Pe,Se,this.length);for(var Oe=this[Pe+--Se],Re=1;0<Se&&(Re*=256);)Oe+=this[Pe+--Se]*Re;return Oe},P.prototype.readUInt8=function(Pe,Se){return Se||ie(Pe,1,this.length),this[Pe]},P.prototype.readUInt16LE=function(Pe,Se){return Se||ie(Pe,2,this.length),this[Pe]|this[Pe+1]<<8},P.prototype.readUInt16BE=function(Pe,Se){return Se||ie(Pe,2,this.length),this[Pe]<<8|this[Pe+1]},P.prototype.readUInt32LE=function(Pe,Se){return Se||ie(Pe,4,this.length),(this[Pe]|this[Pe+1]<<8|this[Pe+2]<<16)+16777216*this[Pe+3]},P.prototype.readUInt32BE=function(Pe,Se){return Se||ie(Pe,4,this.length),16777216*this[Pe]+(this[Pe+1]<<16|this[Pe+2]<<8|this[Pe+3])},P.prototype.readIntLE=function(Pe,Se,Ee){Pe|=0,Se|=0,Ee||ie(Pe,Se,this.length);for(var Oe=this[Pe],Re=1,Ve=0;++Ve<Se&&(Re*=256);)Oe+=this[Pe+Ve]*Re;return Re*=128,Oe>=Re&&(Oe-=_Mathpow(2,8*Se)),Oe},P.prototype.readIntBE=function(Pe,Se,Ee){Pe|=0,Se|=0,Ee||ie(Pe,Se,this.length);for(var Oe=Se,Re=1,Ve=this[Pe+--Oe];0<Oe&&(Re*=256);)Ve+=this[Pe+--Oe]*Re;return Re*=128,Ve>=Re&&(Ve-=_Mathpow(2,8*Se)),Ve},P.prototype.readInt8=function(Pe,Se){return Se||ie(Pe,1,this.length),128&this[Pe]?-1*(255-this[Pe]+1):this[Pe]},P.prototype.readInt16LE=function(Pe,Se){Se||ie(Pe,2,this.length);var Ee=this[Pe]|this[Pe+1]<<8;return 32768&Ee?4294901760|Ee:Ee},P.prototype.readInt16BE=function(Pe,Se){Se||ie(Pe,2,this.length);var Ee=this[Pe+1]|this[Pe]<<8;return 32768&Ee?4294901760|Ee:Ee},P.prototype.readInt32LE=function(Pe,Se){return Se||ie(Pe,4,this.length),this[Pe]|this[Pe+1]<<8|this[Pe+2]<<16|this[Pe+3]<<24},P.prototype.readInt32BE=function(Pe,Se){return Se||ie(Pe,4,this.length),this[Pe]<<24|this[Pe+1]<<16|this[Pe+2]<<8|this[Pe+3]},P.prototype.readFloatLE=function(Pe,Se){return Se||ie(Pe,4,this.length),ve.read(this,Pe,!0,23,4)},P.prototype.readFloatBE=function(Pe,Se){return Se||ie(Pe,4,this.length),ve.read(this,Pe,!1,23,4)},P.prototype.readDoubleLE=function(Pe,Se){return Se||ie(Pe,8,this.length),ve.read(this,Pe,!0,52,8)},P.prototype.readDoubleBE=function(Pe,Se){return Se||ie(Pe,8,this.length),ve.read(this,Pe,!1,52,8)},P.prototype.writeUIntLE=function(Pe,Se,Ee,Oe){if(Pe=+Pe,Se|=0,Ee|=0,!Oe){var Re=_Mathpow(2,8*Ee)-1;re(this,Pe,Se,Ee,Re,0)}var Ve=1,Fe=0;for(this[Se]=255&Pe;++Fe<Ee&&(Ve*=256);)this[Se+Fe]=255&Pe/Ve;return Se+Ee},P.prototype.writeUIntBE=function(Pe,Se,Ee,Oe){if(Pe=+Pe,Se|=0,Ee|=0,!Oe){var Re=_Mathpow(2,8*Ee)-1;re(this,Pe,Se,Ee,Re,0)}var Ve=Ee-1,Fe=1;for(this[Se+Ve]=255&Pe;0<=--Ve&&(Fe*=256);)this[Se+Ve]=255&Pe/Fe;return Se+Ee},P.prototype.writeUInt8=function(Pe,Se,Ee){return Pe=+Pe,Se|=0,Ee||re(this,Pe,Se,1,255,0),P.TYPED_ARRAY_SUPPORT||(Pe=_Mathfloor(Pe)),this[Se]=255&Pe,Se+1},P.prototype.writeUInt16LE=function(Pe,Se,Ee){return Pe=+Pe,Se|=0,Ee||re(this,Pe,Se,2,65535,0),P.TYPED_ARRAY_SUPPORT?(this[Se]=255&Pe,this[Se+1]=Pe>>>8):se(this,Pe,Se,!0),Se+2},P.prototype.writeUInt16BE=function(Pe,Se,Ee){return Pe=+Pe,Se|=0,Ee||re(this,Pe,Se,2,65535,0),P.TYPED_ARRAY_SUPPORT?(this[Se]=Pe>>>8,this[Se+1]=255&Pe):se(this,Pe,Se,!1),Se+2},P.prototype.writeUInt32LE=function(Pe,Se,Ee){return Pe=+Pe,Se|=0,Ee||re(this,Pe,Se,4,4294967295,0),P.TYPED_ARRAY_SUPPORT?(this[Se+3]=Pe>>>24,this[Se+2]=Pe>>>16,this[Se+1]=Pe>>>8,this[Se]=255&Pe):le(this,Pe,Se,!0),Se+4},P.prototype.writeUInt32BE=function(Pe,Se,Ee){return Pe=+Pe,Se|=0,Ee||re(this,Pe,Se,4,4294967295,0),P.TYPED_ARRAY_SUPPORT?(this[Se]=Pe>>>24,this[Se+1]=Pe>>>16,this[Se+2]=Pe>>>8,this[Se+3]=255&Pe):le(this,Pe,Se,!1),Se+4},P.prototype.writeIntLE=function(Pe,Se,Ee,Oe){if(Pe=+Pe,Se|=0,!Oe){var Re=_Mathpow(2,8*Ee-1);re(this,Pe,Se,Ee,Re-1,-Re)}var Ve=0,Fe=1,Ie=0;for(this[Se]=255&Pe;++Ve<Ee&&(Fe*=256);)0>Pe&&0==Ie&&0!==this[Se+Ve-1]&&(Ie=1),this[Se+Ve]=255&(Pe/Fe>>0)-Ie;return Se+Ee},P.prototype.writeIntBE=function(Pe,Se,Ee,Oe){if(Pe=+Pe,Se|=0,!Oe){var Re=_Mathpow(2,8*Ee-1);re(this,Pe,Se,Ee,Re-1,-Re)}var Ve=Ee-1,Fe=1,Ie=0;for(this[Se+Ve]=255&Pe;0<=--Ve&&(Fe*=256);)0>Pe&&0==Ie&&0!==this[Se+Ve+1]&&(Ie=1),this[Se+Ve]=255&(Pe/Fe>>0)-Ie;return Se+Ee},P.prototype.writeInt8=function(Pe,Se,Ee){return Pe=+Pe,Se|=0,Ee||re(this,Pe,Se,1,127,-128),P.TYPED_ARRAY_SUPPORT||(Pe=_Mathfloor(Pe)),0>Pe&&(Pe=255+Pe+1),this[Se]=255&Pe,Se+1},P.prototype.writeInt16LE=function(Pe,Se,Ee){return Pe=+Pe,Se|=0,Ee||re(this,Pe,Se,2,32767,-32768),P.TYPED_ARRAY_SUPPORT?(this[Se]=255&Pe,this[Se+1]=Pe>>>8):se(this,Pe,Se,!0),Se+2},P.prototype.writeInt16BE=function(Pe,Se,Ee){return Pe=+Pe,Se|=0,Ee||re(this,Pe,Se,2,32767,-32768),P.TYPED_ARRAY_SUPPORT?(this[Se]=Pe>>>8,this[Se+1]=255&Pe):se(this,Pe,Se,!1),Se+2},P.prototype.writeInt32LE=function(Pe,Se,Ee){return Pe=+Pe,Se|=0,Ee||re(this,Pe,Se,4,2147483647,-2147483648),P.TYPED_ARRAY_SUPPORT?(this[Se]=255&Pe,this[Se+1]=Pe>>>8,this[Se+2]=Pe>>>16,this[Se+3]=Pe>>>24):le(this,Pe,Se,!0),Se+4},P.prototype.writeInt32BE=function(Pe,Se,Ee){return Pe=+Pe,Se|=0,Ee||re(this,Pe,Se,4,2147483647,-2147483648),0>Pe&&(Pe=4294967295+Pe+1),P.TYPED_ARRAY_SUPPORT?(this[Se]=Pe>>>24,this[Se+1]=Pe>>>16,this[Se+2]=Pe>>>8,this[Se+3]=255&Pe):le(this,Pe,Se,!1),Se+4},P.prototype.writeFloatLE=function(Pe,Se,Ee){return ce(this,Pe,Se,!0,Ee)},P.prototype.writeFloatBE=function(Pe,Se,Ee){return ce(this,Pe,Se,!1,Ee)},P.prototype.writeDoubleLE=function(Pe,Se,Ee){return ue(this,Pe,Se,!0,Ee)},P.prototype.writeDoubleBE=function(Pe,Se,Ee){return ue(this,Pe,Se,!1,Ee)},P.prototype.copy=function(Pe,Se,Ee,Oe){if(Ee||(Ee=0),Oe||0===Oe||(Oe=this.length),Se>=Pe.length&&(Se=Pe.length),Se||(Se=0),0<Oe&&Oe<Ee&&(Oe=Ee),Oe===Ee)return 0;if(0===Pe.length||0===this.length)return 0;if(0>Se)throw new RangeError('targetStart out of bounds');if(0>Ee||Ee>=this.length)throw new RangeError('sourceStart out of bounds');if(0>Oe)throw new RangeError('sourceEnd out of bounds');Oe>this.length&&(Oe=this.length),Pe.length-Se<Oe-Ee&&(Oe=Pe.length-Se+Ee);var Re=Oe-Ee,Ve;if(this===Pe&&Ee<Se&&Se<Oe)for(Ve=Re-1;0<=Ve;--Ve)Pe[Ve+Se]=this[Ve+Ee];else if(1e3>Re||!P.TYPED_ARRAY_SUPPORT)for(Ve=0;Ve<Re;++Ve)Pe[Ve+Se]=this[Ve+Ee];else Uint8Array.prototype.set.call(Pe,this.subarray(Ee,Ee+Re),Se);return Re},P.prototype.fill=function(Pe,Se,Ee,Oe){if('string'==typeof Pe){if('string'==typeof Se?(Oe=Se,Se=0,Ee=this.length):'string'==typeof Ee&&(Oe=Ee,Ee=this.length),1===Pe.length){var Re=Pe.charCodeAt(0);256>Re&&(Pe=Re)}if(void 0!==Oe&&'string'!=typeof Oe)throw new TypeError('encoding must be a string');if('string'==typeof Oe&&!P.isEncoding(Oe))throw new TypeError('Unknown encoding: '+Oe)}else'number'==typeof Pe&&(Pe&=255);if(0>Se||this.length<Se||this.length<Ee)throw new RangeError('Out of range index');if(Ee<=Se)return this;Se>>>=0,Ee=Ee===void 0?this.length:Ee>>>0,Pe||(Pe=0);var Ve;if('number'==typeof Pe)for(Ve=Se;Ve<Ee;++Ve)this[Ve]=Pe;else{var Fe=P.isBuffer(Pe)?Pe:fe(new P(Pe,Oe).toString()),Ie=Fe.length;for(Ve=0;Ve<Ee-Se;++Ve)this[Ve+Se]=Fe[Ve%Ie]}return this};var Ae=/[^+\/0-9A-Za-z-_]/g}).call(u,f(157))},function(r,u,f){u=r.exports=f(32)(void 0),u.push([r.i,'@charset "UTF-8";\n/**\n * Makes element unselectable.\n */\n/**\n * A class which hides an element in DOM.\n */\n.ck-hidden {\n  display: none; }\n\n/**\n * Wraps (S)CSS into .ck-editor namespace.\n */\n/**\n * Resets an element, ignoring its children.\n */\n.ck-reset, .ck-reset_all, .ck-reset_all *, .ck-reset_all a, .ck-reset_all textarea {\n  box-sizing: border-box;\n  width: auto;\n  height: auto;\n  position: static; }\n\n/**\n * Resets an element AND its children.\n */\n/**\n * Default width/height of an icon.\n */\nsvg.ck-icon {\n  min-width: 20px;\n  min-height: 20px;\n  font-size: 1em;\n  vertical-align: middle;\n  color: inherit;\n  cursor: inherit; }\n  svg.ck-icon * {\n    cursor: inherit;\n    color: inherit;\n    fill: currentColor; }\n\n/**\n * Applies styles to the main part of the tooltip.\n */\n/**\n * Applies styles to the arrow part of the tooltip.\n */\n/**\n * Applies styles to both arrow and main part of the tooltip.\n */\n/**\n * Enables the tooltip, which is the tooltip is in DOM but\n * not yet displayed.\n */\n/**\n * Disables the tooltip making it disappear from DOM.\n */\n/**\n * Shows the tooltip, which is already in DOM.\n * Requires `ck-tooltip_enabled` first.\n */\n[data-ck-tooltip]::after {\n  visibility: hidden;\n  opacity: 0;\n  display: none;\n  position: absolute;\n  z-index: 999;\n  pointer-events: none;\n  -webkit-backface-visibility: hidden; }\n\n[data-ck-tooltip]::before {\n  visibility: hidden;\n  opacity: 0;\n  display: none;\n  position: absolute;\n  z-index: 999;\n  pointer-events: none;\n  -webkit-backface-visibility: hidden; }\n\n[data-ck-tooltip]::after {\n  content: attr(data-ck-tooltip); }\n\n[data-ck-tooltip]::before {\n  content: "";\n  width: 0;\n  height: 0; }\n\n.ck-button,\na.ck-button {\n  display: inline-block;\n  position: relative;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none; }\n  .ck-button::after,\n  a.ck-button::after {\n    display: block; }\n  .ck-button::before,\n  a.ck-button::before {\n    display: block; }\n  .ck-button.ck-button_with-text .ck-button__label,\n  a.ck-button.ck-button_with-text .ck-button__label {\n    display: block; }\n  .ck-button:hover::after,\n  a.ck-button:hover::after {\n    visibility: visible;\n    opacity: 1; }\n  .ck-button:hover::before,\n  a.ck-button:hover::before {\n    visibility: visible;\n    opacity: 1; }\n  .ck-button:focus:not(:hover)::after,\n  a.ck-button:focus:not(:hover)::after {\n    display: none; }\n  .ck-button:focus:not(:hover)::before,\n  a.ck-button:focus:not(:hover)::before {\n    display: none; }\n  .ck-button .ck-button__label,\n  a.ck-button .ck-button__label {\n    display: none; }\n\n.ck-toolbar {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none; }\n  .ck-toolbar__separator {\n    display: inline-block; }\n  .ck-toolbar__newline {\n    display: block;\n    clear: left; }\n\n.ck-dropdown {\n  display: inline-block;\n  position: relative; }\n  .ck-dropdown::after {\n    content: \'\';\n    width: 0;\n    height: 0;\n    pointer-events: none;\n    z-index: 1;\n    position: absolute;\n    top: 50%;\n    transform: translate(0, -50%); }\n\n.ck-dropdown__panel {\n  -webkit-backface-visibility: hidden;\n  display: none;\n  z-index: 999;\n  position: absolute;\n  left: 0px;\n  transform: translateY(100%); }\n  .ck-dropdown__panel-visible {\n    display: inline-block; }\n\n.ck-list {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none; }\n  .ck-list__item {\n    display: block; }\n\n.ck-label {\n  display: block; }\n\n.cke-voice-label {\n  display: none; }\n\n.ck-balloon-panel {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  display: none;\n  position: absolute;\n  z-index: 999; }\n  .ck-balloon-panel:before, .ck-balloon-panel:after {\n    content: "";\n    position: absolute; }\n  .ck-balloon-panel:before {\n    z-index: 1; }\n  .ck-balloon-panel:after {\n    z-index: 2; }\n  .ck-balloon-panel_arrow_s:before, .ck-balloon-panel_arrow_se:before, .ck-balloon-panel_arrow_sw:before {\n    z-index: 1; }\n  .ck-balloon-panel_arrow_s:after, .ck-balloon-panel_arrow_se:after, .ck-balloon-panel_arrow_sw:after {\n    z-index: 2; }\n  .ck-balloon-panel_arrow_n:before, .ck-balloon-panel_arrow_ne:before, .ck-balloon-panel_arrow_nw:before {\n    z-index: 1; }\n  .ck-balloon-panel_arrow_n:after, .ck-balloon-panel_arrow_ne:after, .ck-balloon-panel_arrow_nw:after {\n    z-index: 2; }\n  .ck-balloon-panel_visible {\n    display: block; }\n\n.ck-floating-panel {\n  position: absolute;\n  display: none; }\n  .ck-floating-panel_active {\n    display: block; }\n\n.ck-editor .ck-toolbar.ck-toolbar_sticky {\n  position: fixed;\n  top: 0; }\n  .ck-editor .ck-toolbar.ck-toolbar_sticky.ck-toolbar_sticky_bottom-limit {\n    top: auto;\n    position: absolute; }\n\n/**\n * Colors configured by the user.\n *\n * @type Map\n * @example\n *\t\t$ck-colors: ( \'foreground\': red );\n * @see $_ck-colors\n */\n/**\n * Internal map with default colors.\n *\n * @type Map\n * @see ck-color-add\n */\n/**\n * Returns a color of given name and lightness offset.\n *\n * @param {String} $name [ \'background\' ] - Name of the color.\n * @param {Number} $offset [ 0 ] - Offset of the lightness.\n * @return {String}\n * @see $_ck-colors\n */\n/**\n * Returns a border\u2013color for a given name and lightness offset.\n *\n * @param {String} $name [ \'background\' ] - Name of the color.\n * @param {Number} $offset [ 0 ] - Offset of the lightness.\n * @return {String}\n * @see $ck-color\n */\n/**\n * Adds a color to internal color map.\n *\n * @example\n *\t\t@include ck-color-add( ( \'special\': yellow, \'hover\': #00FF00 ) );\n * @param {Map} $map - A map with new colors.\n * @see $_ck-colors\n */\n/**\n * Base font size.\n *\n * @see $ck-font-sizes\n */\n/**\n * Base font face.\n *\n */\n/**\n * Base font sizes for scaling.\n *\n * @see ck-font-size\n */\n/**\n * Returns font-size in units for given level.\n *\n * @param {Number} $level [ 0 ] - Size of the font.\n * @return {String}\n * @see $ck-font-sizes\n * @see $ck-font-size-base\n */\n/**\n * Default border-radius value.\n *\n */\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n/**\n * Default spacing value ("unit").\n *\n */\n/**\n * Internal map with default spacings.\n *\n * @type Map\n * @see ck-spacing\n */\n/**\n * Returns a spacing value with units for given name.\n *\n * @param {String} $spacing [ \'standard\' ] - Spacing level.\n * @return {String}\n * @see $ck-def-spacing\n * @see $ck-def-spacings\n */\n/**\n * A visual style of focused element\'s outer shadow.\n */\n/**\n * A visual style of focused element\'s border or outline.\n */\n/**\n * A class which indicates that an element holding it is disabled.\n */\n.ck-disabled {\n  opacity: .5; }\n\n/**\n * A visual style of focused element\'s border or outline.\n */\n/**\n * Brings visual styling for :focus state.\n */\n/**\n * A visual style of element\'s inner shadow (i.e. input).\n */\n/**\n * A visual style of element\'s drop shadow (i.e. panel).\n */\n/**\n * A helper to combine multiple shadows.\n */\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n/**\n * Resets an element, ignoring its children.\n */\n.ck-reset, .ck-reset_all, .ck-reset_all *, .ck-reset_all a, .ck-reset_all textarea {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  background: transparent;\n  text-decoration: none;\n  vertical-align: middle;\n  transition: none; }\n\n/**\n * Resets an element AND its children.\n */\n.ck-reset_all, .ck-reset_all *, .ck-reset_all a, .ck-reset_all textarea {\n  border-collapse: collapse;\n  font: normal normal normal 12px Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\n  color: #333333;\n  text-align: left;\n  white-space: nowrap;\n  cursor: auto;\n  float: none; }\n\n.ck-reset_all .ck-rtl * {\n  text-align: right; }\n\n.ck-reset_all iframe {\n  vertical-align: inherit; }\n\n.ck-reset_all textarea {\n  white-space: pre-wrap; }\n\n.ck-reset_all textarea,\n.ck-reset_all input[type="text"],\n.ck-reset_all input[type="password"] {\n  cursor: text; }\n\n.ck-reset_all textarea[disabled],\n.ck-reset_all input[type="text"][disabled],\n.ck-reset_all input[type="password"][disabled] {\n  cursor: default; }\n\n.ck-reset_all fieldset {\n  padding: 10px;\n  border: 2px groove #E0DFE3; }\n\n.ck-reset_all button::-moz-focus-inner {\n  padding: 0;\n  border: 0; }\n\nsvg.ck-icon {\n  width: 1.66667em;\n  height: 1.66667em; }\n\n[data-ck-tooltip]::after {\n  left: 50%;\n  transition: opacity .2s ease-in-out .2s; }\n\n[data-ck-tooltip]::before {\n  left: 50%;\n  transition: opacity .2s ease-in-out .2s; }\n\n[data-ck-tooltip]::after {\n  border-radius: 2px;\n  color: white;\n  font-size: 0.7rem;\n  background: #333333;\n  padding: 0.4em 0.64em; }\n\n[data-ck-tooltip]::before {\n  border-style: solid; }\n\n/**\n * A class once applied displays the tooltip south of the element.\n *\n *       [element]\n *           ^\n *     +-----------+\n *     |  Tooltip  |\n *     +-----------+\n */\n.ck-tooltip_s::after {\n  bottom: -4px;\n  transform: translate(-50%, 100%); }\n\n.ck-tooltip_s::before {\n  bottom: 0;\n  transform: translate(-50%, 100%);\n  border-color: transparent transparent #333333 transparent;\n  border-width: 0 5px 5px 5px; }\n\n/**\n * A class once applied displays the tooltip north of the element.\n *\n *     +-----------+\n *     |  Tooltip  |\n *     +-----------+\n *           V\n *       [element]\n */\n.ck-tooltip_n::after {\n  top: -4px;\n  transform: translate(-50%, -100%); }\n\n.ck-tooltip_n::before {\n  top: 0;\n  transform: translate(-50%, -100%);\n  border-color: #333333 transparent transparent transparent;\n  border-width: 5px 5px 0 5px; }\n\n/**\n * Implements a button of given background color.\n *\n * @param {String} $color - Background color of the button.\n */\n/**\n * Implements button states.\n *\n * @param {String} $color - Background color of the button.\n */\n/**\n * A helper to define button\u2013specific icon styles.\n *\n */\n.ck-button,\na.ck-button {\n  background: white;\n  border-color: #bfbfbf;\n  border-width: 1px;\n  border-style: solid;\n  white-space: nowrap;\n  cursor: default;\n  vertical-align: middle;\n  padding: 0.4em;\n  line-height: 1.66667; }\n  .ck-button:not(.ck-disabled):hover, .ck-button:not(.ck-disabled):focus,\n  a.ck-button:not(.ck-disabled):hover,\n  a.ck-button:not(.ck-disabled):focus {\n    background: #e6e6e6;\n    border-color: #a6a6a6; }\n  .ck-button:not(.ck-disabled):active,\n  a.ck-button:not(.ck-disabled):active {\n    background: #d9d9d9;\n    border-color: #999999;\n    box-shadow: inset 0 2px 2px #bfbfbf; }\n  .ck-button.ck-rounded-corners,\n  .ck-rounded-corners .ck-button,\n  a.ck-button.ck-rounded-corners,\n  .ck-rounded-corners\n  a.ck-button {\n    border-radius: 2px; }\n  .ck-button:focus,\n  a.ck-button:focus {\n    outline: none;\n    border: 1px solid #6ab5f9;\n    box-shadow: 0 0 3px 2px #9bcdfb; }\n  .ck-button .ck-icon,\n  a.ck-button .ck-icon {\n    float: left; }\n  .ck-button.ck-button_with-text,\n  a.ck-button.ck-button_with-text {\n    padding: 0.4em 0.8em; }\n    .ck-button.ck-button_with-text .ck-icon,\n    a.ck-button.ck-button_with-text .ck-icon {\n      margin-left: -0.4em;\n      margin-right: 0.4em; }\n    .ck-button.ck-button_with-text .ck-button__label,\n    a.ck-button.ck-button_with-text .ck-button__label {\n      display: block; }\n  .ck-button.ck-on,\n  a.ck-button.ck-on {\n    background: #f7f7f7;\n    border-color: #b9b9b9; }\n    .ck-button.ck-on:not(.ck-disabled):hover, .ck-button.ck-on:not(.ck-disabled):focus,\n    a.ck-button.ck-on:not(.ck-disabled):hover,\n    a.ck-button.ck-on:not(.ck-disabled):focus {\n      background: #dedede;\n      border-color: #a1a1a1; }\n    .ck-button.ck-on:not(.ck-disabled):active,\n    a.ck-button.ck-on:not(.ck-disabled):active {\n      background: #d2d2d2;\n      border-color: #949494;\n      box-shadow: inset 0 2px 2px #b9b9b9; }\n  .ck-button-action,\n  a.ck-button-action {\n    background: #61b145;\n    border-color: #498534;\n    text-shadow: 0 -1px #4e8e37;\n    color: white; }\n    .ck-button-action:not(.ck-disabled):hover, .ck-button-action:not(.ck-disabled):focus,\n    a.ck-button-action:not(.ck-disabled):hover,\n    a.ck-button-action:not(.ck-disabled):focus {\n      background: #579f3e;\n      border-color: #3f732d; }\n    .ck-button-action:not(.ck-disabled):active,\n    a.ck-button-action:not(.ck-disabled):active {\n      background: #52963b;\n      border-color: #3a6a29;\n      box-shadow: inset 0 2px 2px #498534; }\n    .ck-button-action:hover, .ck-button-action:focus, .ck-button-action:active,\n    a.ck-button-action:hover,\n    a.ck-button-action:focus,\n    a.ck-button-action:active {\n      text-shadow: 0 -1px #3a6a29; }\n  .ck-button-bold,\n  a.ck-button-bold {\n    font-weight: bold; }\n  .ck-button .ck-icon use,\n  .ck-button .ck-icon use *,\n  a.ck-button .ck-icon use,\n  a.ck-button .ck-icon use * {\n    color: inherit; }\n  .ck-button .ck-button__label,\n  a.ck-button .ck-button__label {\n    float: left;\n    line-height: inherit;\n    font-size: inherit;\n    font-weight: inherit;\n    color: inherit;\n    cursor: inherit; }\n\n.ck-toolbar {\n  line-height: 1;\n  padding: 0.4em;\n  border: 1px solid #bfbfbf;\n  white-space: initial;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none; }\n  .ck-toolbar.ck-rounded-corners,\n  .ck-rounded-corners .ck-toolbar {\n    border-radius: 2px; }\n  .ck-toolbar__separator {\n    width: 1px;\n    height: calc( 1em + 2 * 0.64em);\n    vertical-align: middle;\n    background: #bfbfbf; }\n  .ck-toolbar__newline {\n    height: 0.4em; }\n  .ck-toolbar > * {\n    margin-right: 0.4em; }\n  .ck-toolbar > *:last-child {\n    margin-right: 0; }\n\n.ck-dropdown::after {\n  border-style: solid;\n  border-width: .4em .4em 0 .4em;\n  border-color: #707070 transparent;\n  right: 0.8em; }\n\n.ck-dropdown .ck-button.ck-dropdown__button {\n  padding-right: 1.6em; }\n  .ck-dropdown .ck-button.ck-dropdown__button .ck-button__label {\n    width: 7em;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n\n.ck-dropdown__panel {\n  border: 1px solid #b9b9b9;\n  bottom: 1px;\n  background: white;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2); }\n  .ck-dropdown__panel.ck-rounded-corners,\n  .ck-rounded-corners .ck-dropdown__panel {\n    border-radius: 2px; }\n\n.ck-list {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  list-style-type: none;\n  background: white; }\n  .ck-list.ck-rounded-corners,\n  .ck-rounded-corners .ck-list {\n    border-radius: 2px; }\n  .ck-list__item {\n    padding: 0.64em;\n    cursor: default;\n    min-width: 12em; }\n    .ck-list__item:hover, .ck-list__item:focus {\n      background: #f7f7f7; }\n    .ck-list__item:focus {\n      box-shadow: 0 0 3px 2px #9bcdfb;\n      position: relative;\n      z-index: 1;\n      outline: none; }\n    .ck-list__item:last-of-type {\n      border: none; }\n    .ck-list__item_active {\n      background: #1a8bf1;\n      color: white; }\n      .ck-list__item_active:hover, .ck-list__item_active:focus {\n        background: #0e7ee2; }\n\n.ck-label {\n  font-weight: bold; }\n\n.ck-input-text {\n  box-shadow: 2px 2px 3px #e6e6e6 inset;\n  border: 1px solid #b9b9b9;\n  padding: 0.64em;\n  min-width: 250px; }\n  .ck-input-text.ck-rounded-corners,\n  .ck-rounded-corners .ck-input-text {\n    border-radius: 2px; }\n  .ck-input-text:focus {\n    outline: none;\n    border: 1px solid #6ab5f9;\n    box-shadow: 0 0 3px 2px #9bcdfb, 2px 2px 3px #e6e6e6 inset; }\n\n.ck-balloon-panel {\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);\n  min-width: 50px;\n  min-height: 15px;\n  background: white;\n  border: 1px solid #b9b9b9; }\n  .ck-balloon-panel.ck-rounded-corners,\n  .ck-rounded-corners .ck-balloon-panel {\n    border-radius: 2px; }\n  .ck-balloon-panel:before, .ck-balloon-panel:after {\n    width: 0;\n    height: 0;\n    border-style: solid; }\n  .ck-balloon-panel_arrow_s:before, .ck-balloon-panel_arrow_s:after, .ck-balloon-panel_arrow_se:before, .ck-balloon-panel_arrow_se:after, .ck-balloon-panel_arrow_sw:before, .ck-balloon-panel_arrow_sw:after {\n    border-width: 0 10px 15px 10px; }\n  .ck-balloon-panel_arrow_s:before, .ck-balloon-panel_arrow_se:before, .ck-balloon-panel_arrow_sw:before {\n    border-color: transparent transparent #b9b9b9 transparent; }\n  .ck-balloon-panel_arrow_s:after, .ck-balloon-panel_arrow_se:after, .ck-balloon-panel_arrow_sw:after {\n    border-color: transparent transparent white transparent;\n    margin-top: 2px; }\n  .ck-balloon-panel_arrow_n:before, .ck-balloon-panel_arrow_n:after, .ck-balloon-panel_arrow_ne:before, .ck-balloon-panel_arrow_ne:after, .ck-balloon-panel_arrow_nw:before, .ck-balloon-panel_arrow_nw:after {\n    border-width: 15px 10px 0 10px; }\n  .ck-balloon-panel_arrow_n:before, .ck-balloon-panel_arrow_ne:before, .ck-balloon-panel_arrow_nw:before {\n    border-color: #b9b9b9 transparent transparent; }\n  .ck-balloon-panel_arrow_n:after, .ck-balloon-panel_arrow_ne:after, .ck-balloon-panel_arrow_nw:after {\n    border-color: white transparent transparent transparent;\n    margin-bottom: 2px; }\n  .ck-balloon-panel_arrow_s:before, .ck-balloon-panel_arrow_s:after {\n    left: 50%;\n    margin-left: -10px;\n    top: -15px; }\n  .ck-balloon-panel_arrow_se:before, .ck-balloon-panel_arrow_se:after {\n    left: 20px;\n    top: -15px; }\n  .ck-balloon-panel_arrow_sw:before, .ck-balloon-panel_arrow_sw:after {\n    right: 20px;\n    top: -15px; }\n  .ck-balloon-panel_arrow_n:before, .ck-balloon-panel_arrow_n:after {\n    left: 50%;\n    margin-left: -10px;\n    bottom: -15px; }\n  .ck-balloon-panel_arrow_ne:before, .ck-balloon-panel_arrow_ne:after {\n    left: 20px;\n    bottom: -15px; }\n  .ck-balloon-panel_arrow_nw:before, .ck-balloon-panel_arrow_nw:after {\n    right: 20px;\n    bottom: -15px; }\n\n.ck-floating-panel {\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #bfbfbf;\n  background: #f7f7f7; }\n  .ck-floating-panel.ck-rounded-corners,\n  .ck-rounded-corners .ck-floating-panel {\n    border-radius: 2px; }\n\n.ck-toolbar__container {\n  background: #f7f7f7; }\n  .ck-toolbar__container .ck-toolbar {\n    border-radius: 0;\n    border: 0; }\n    .ck-toolbar__container .ck-toolbar .ck-button {\n      border-width: 0; }\n      .ck-toolbar__container .ck-toolbar .ck-button:not(:hover):not(:focus):not(.ck-on), .ck-toolbar__container .ck-toolbar .ck-button.ck-disabled {\n        background: #f7f7f7; }\n      .ck-toolbar__container .ck-toolbar .ck-button.ck-on {\n        background: #dedede;\n        border-color: #a1a1a1; }\n        .ck-toolbar__container .ck-toolbar .ck-button.ck-on:not(.ck-disabled):hover, .ck-toolbar__container .ck-toolbar .ck-button.ck-on:not(.ck-disabled):focus {\n          background: #c6c6c6;\n          border-color: #888888; }\n        .ck-toolbar__container .ck-toolbar .ck-button.ck-on:not(.ck-disabled):active {\n          background: #b9b9b9;\n          border-color: #7c7c7c;\n          box-shadow: inset 0 2px 2px #a1a1a1; }\n    .ck-toolbar__container .ck-toolbar .ck-dropdown__button {\n      border-width: 1px; }\n      .ck-toolbar__container .ck-toolbar .ck-dropdown__button:not(:hover):not(:focus):not(.ck-on) {\n        background: white; }\n  .ck-toolbar__container.ck-balloon-panel_arrow_s:after, .ck-toolbar__container.ck-balloon-panel_arrow_se:after, .ck-toolbar__container.ck-balloon-panel_arrow_sw:after {\n    border-bottom-color: #f7f7f7; }\n  .ck-toolbar__container.ck-balloon-panel_arrow_n:after, .ck-toolbar__container.ck-balloon-panel_arrow_ne:after, .ck-toolbar__container.ck-balloon-panel_arrow_nw:after {\n    border-top-color: #f7f7f7; }\n\n.ck-editor .ck-toolbar.ck-toolbar_sticky {\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #bfbfbf;\n  border-width: 0 0 1px;\n  background: #f7f7f7; }\n\n.ck-editor {\n  position: relative; }\n  .ck-editor.ck-rounded-corners,\n  .ck-rounded-corners .ck-editor {\n    border-radius: 2px; }\n  .ck-editor .ck-editor__top .ck-toolbar {\n    border-radius: 0;\n    border-top: 0;\n    border-left: 0;\n    border-right: 0; }\n    .ck-editor .ck-editor__top .ck-toolbar .ck-button {\n      border-width: 0; }\n      .ck-editor .ck-editor__top .ck-toolbar .ck-button:not(:hover):not(:focus):not(.ck-on), .ck-editor .ck-editor__top .ck-toolbar .ck-button.ck-disabled {\n        background: #f7f7f7; }\n      .ck-editor .ck-editor__top .ck-toolbar .ck-button.ck-on {\n        background: #dedede;\n        border-color: #a1a1a1; }\n        .ck-editor .ck-editor__top .ck-toolbar .ck-button.ck-on:not(.ck-disabled):hover, .ck-editor .ck-editor__top .ck-toolbar .ck-button.ck-on:not(.ck-disabled):focus {\n          background: #c6c6c6;\n          border-color: #888888; }\n        .ck-editor .ck-editor__top .ck-toolbar .ck-button.ck-on:not(.ck-disabled):active {\n          background: #b9b9b9;\n          border-color: #7c7c7c;\n          box-shadow: inset 0 2px 2px #a1a1a1; }\n    .ck-editor .ck-editor__top .ck-toolbar .ck-dropdown__button {\n      border-width: 1px; }\n      .ck-editor .ck-editor__top .ck-toolbar .ck-dropdown__button:not(:hover):not(:focus):not(.ck-on) {\n        background: white; }\n  .ck-editor .ck-editor__main {\n    background: white; }\n  .ck-editor .ck-editor__bottom {\n    border-bottom: 0;\n    border-left: 0;\n    border-right: 0;\n    padding: 0.8em; }\n  .ck-editor .ck-editor__editable.ck-focused {\n    outline: 1px solid #6ab5f9;\n    box-shadow: 2px 2px 3px #e6e6e6 inset; }\n  .ck-editor .ck-editor__editable_inline {\n    overflow: auto;\n    padding: 0 0.8em; }\n\n.ck-editor,\n.ck-editor-bottom {\n  background: #f7f7f7;\n  border: 1px solid #b9b9b9; }\n',''])},function(r,u,f){u=r.exports=f(32)(void 0),u.push([r.i,'.ck-placeholder::before {\n  content: attr(data-placeholder);\n  cursor: text;\n  color: #c2c2c2; }\n',''])},function(r,u,f){u=r.exports=f(32)(void 0),u.push([r.i,'/**\n * Default spacing value ("unit").\n *\n */\n/**\n * Internal map with default spacings.\n *\n * @type Map\n * @see ck-spacing\n */\n/**\n * Returns a spacing value with units for given name.\n *\n * @param {String} $spacing [ \'standard\' ] - Spacing level.\n * @return {String}\n * @see $ck-def-spacing\n * @see $ck-def-spacings\n */\n/**\n * Base font size.\n *\n * @see $ck-font-sizes\n */\n/**\n * Base font face.\n *\n */\n/**\n * Base font sizes for scaling.\n *\n * @see ck-font-size\n */\n/**\n * Returns font-size in units for given level.\n *\n * @param {Number} $level [ 0 ] - Size of the font.\n * @return {String}\n * @see $ck-font-sizes\n * @see $ck-font-size-base\n */\n.ck-heading_heading1 {\n  font-size: 1.5em; }\n\n.ck-heading_heading2 {\n  font-size: 1.3em; }\n\n.ck-heading_heading3 {\n  font-size: 1.1em; }\n\n[class*="ck-heading_"] {\n  line-height: 21.6px;\n  padding: 9.6px; }\n\n[class*="ck-heading_heading"] {\n  font-weight: bold; }\n\n.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label {\n  width: 8em; }\n',''])},function(r,u,f){u=r.exports=f(32)(void 0),u.push([r.i,'@charset "UTF-8";\n/**\n * Colors configured by the user.\n *\n * @type Map\n * @example\n *\t\t$ck-colors: ( \'foreground\': red );\n * @see $_ck-colors\n */\n/**\n * Internal map with default colors.\n *\n * @type Map\n * @see ck-color-add\n */\n/**\n * Returns a color of given name and lightness offset.\n *\n * @param {String} $name [ \'background\' ] - Name of the color.\n * @param {Number} $offset [ 0 ] - Offset of the lightness.\n * @return {String}\n * @see $_ck-colors\n */\n/**\n * Returns a border\u2013color for a given name and lightness offset.\n *\n * @param {String} $name [ \'background\' ] - Name of the color.\n * @param {Number} $offset [ 0 ] - Offset of the lightness.\n * @return {String}\n * @see $ck-color\n */\n/**\n * Adds a color to internal color map.\n *\n * @example\n *\t\t@include ck-color-add( ( \'special\': yellow, \'hover\': #00FF00 ) );\n * @param {Map} $map - A map with new colors.\n * @see $_ck-colors\n */\n/**\n * Default spacing value ("unit").\n *\n */\n/**\n * Internal map with default spacings.\n *\n * @type Map\n * @see ck-spacing\n */\n/**\n * Returns a spacing value with units for given name.\n *\n * @param {String} $spacing [ \'standard\' ] - Spacing level.\n * @return {String}\n * @see $ck-def-spacing\n * @see $ck-def-spacings\n */\n/**\n * Base font size.\n *\n * @see $ck-font-sizes\n */\n/**\n * Base font face.\n *\n */\n/**\n * Base font sizes for scaling.\n *\n * @see ck-font-size\n */\n/**\n * Returns font-size in units for given level.\n *\n * @param {Number} $level [ 0 ] - Size of the font.\n * @return {String}\n * @see $ck-font-sizes\n * @see $ck-font-size-base\n */\n.ck-editor__editable .image > figcaption {\n  background-color: #f7f7f7;\n  padding: 0.8em;\n  font-size: 0.75rem;\n  color: #858585;\n  outline-offset: -1px; }\n',''])},function(r,u,f){u=r.exports=f(32)(void 0),u.push([r.i,'/**\n * Default spacing value ("unit").\n *\n */\n/**\n * Internal map with default spacings.\n *\n * @type Map\n * @see ck-spacing\n */\n/**\n * Returns a spacing value with units for given name.\n *\n * @param {String} $spacing [ \'standard\' ] - Spacing level.\n * @return {String}\n * @see $ck-def-spacing\n * @see $ck-def-spacings\n */\n.cke-text-alternative-form {\n  padding: 1.2em;\n  overflow: hidden; }\n  .cke-text-alternative-form .ck-label {\n    margin-bottom: 0.4em; }\n  .cke-text-alternative-form__actions {\n    clear: both;\n    padding-top: 1.2em; }\n    .cke-text-alternative-form__actions .ck-button {\n      float: right; }\n      .cke-text-alternative-form__actions .ck-button + .ck-button {\n        margin-right: 0.64em; }\n        .cke-text-alternative-form__actions .ck-button + .ck-button + .ck-button {\n          float: left; }\n',''])},function(r,u,f){u=r.exports=f(32)(void 0),u.push([r.i,'.ck-editor__editable .image {\n  text-align: center;\n  clear: both; }\n  .ck-editor__editable .image.image-style-side {\n    float: right;\n    margin-left: 0.8em;\n    max-width: 50%; }\n\n.ck-editor__editable .image > img {\n  display: block;\n  margin: 0 auto;\n  max-width: 100%; }\n',''])},function(r,u,f){u=r.exports=f(32)(void 0),u.push([r.i,'/**\n * Default spacing value ("unit").\n *\n */\n/**\n * Internal map with default spacings.\n *\n * @type Map\n * @see ck-spacing\n */\n/**\n * Returns a spacing value with units for given name.\n *\n * @param {String} $spacing [ \'standard\' ] - Spacing level.\n * @return {String}\n * @see $ck-def-spacing\n * @see $ck-def-spacings\n */\n.ck-link-form {\n  padding: 1.2em;\n  overflow: hidden; }\n  .ck-link-form .ck-label {\n    margin-bottom: 0.4em; }\n  .ck-link-form__actions {\n    clear: both;\n    padding-top: 1.2em; }\n    .ck-link-form__actions .ck-button {\n      float: right; }\n      .ck-link-form__actions .ck-button + .ck-button {\n        margin-right: 0.64em; }\n        .ck-link-form__actions .ck-button + .ck-button + .ck-button {\n          float: left; }\n',''])},function(r,u,f){u=r.exports=f(32)(void 0),u.push([r.i,'@charset "UTF-8";\n/**\n * Colors configured by the user.\n *\n * @type Map\n * @example\n *\t\t$ck-colors: ( \'foreground\': red );\n * @see $_ck-colors\n */\n/**\n * Internal map with default colors.\n *\n * @type Map\n * @see ck-color-add\n */\n/**\n * Returns a color of given name and lightness offset.\n *\n * @param {String} $name [ \'background\' ] - Name of the color.\n * @param {Number} $offset [ 0 ] - Offset of the lightness.\n * @return {String}\n * @see $_ck-colors\n */\n/**\n * Returns a border\u2013color for a given name and lightness offset.\n *\n * @param {String} $name [ \'background\' ] - Name of the color.\n * @param {Number} $offset [ 0 ] - Offset of the lightness.\n * @return {String}\n * @see $ck-color\n */\n/**\n * Adds a color to internal color map.\n *\n * @example\n *\t\t@include ck-color-add( ( \'special\': yellow, \'hover\': #00FF00 ) );\n * @param {Map} $map - A map with new colors.\n * @see $_ck-colors\n */\n/**\n * A visual style of element\'s inner shadow (i.e. input).\n */\n/**\n * A visual style of element\'s drop shadow (i.e. panel).\n */\n/**\n * A helper to combine multiple shadows.\n */\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n/**\n * A visual style of focused element\'s outer shadow.\n */\n/**\n * A visual style of focused element\'s border or outline.\n */\n/**\n * A class which indicates that an element holding it is disabled.\n */\n.ck-disabled {\n  opacity: .5; }\n\n/**\n * A visual style of focused element\'s border or outline.\n */\n/**\n * Brings visual styling for :focus state.\n */\n/**\n * Default spacing value ("unit").\n *\n */\n/**\n * Internal map with default spacings.\n *\n * @type Map\n * @see ck-spacing\n */\n/**\n * Returns a spacing value with units for given name.\n *\n * @param {String} $spacing [ \'standard\' ] - Spacing level.\n * @return {String}\n * @see $ck-def-spacing\n * @see $ck-def-spacings\n */\n.ck-widget {\n  margin: 0.8em 0;\n  padding: 0; }\n  .ck-widget.ck-widget_selected, .ck-widget.ck-widget_selected:hover {\n    outline: 3px solid #6ab5f9; }\n  .ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected {\n    outline: 3px solid #dddddd; }\n  .ck-widget:hover {\n    outline: 3px solid #ffd25c; }\n  .ck-widget .ck-editable.ck-editable_focused, .ck-widget .ck-editable:focus {\n    outline: 1px solid #6ab5f9;\n    box-shadow: 2px 2px 3px #e6e6e6 inset;\n    background-color: white; }\n',''])},function(r,u){u.read=function(f,h,w,C,T){var P,S,E=8*T-C-1,O=(1<<E)-1,R=O>>1,V=-7,F=w?T-1:0,I=w?-1:1,N=f[h+F];for(F+=I,P=N&(1<<-V)-1,N>>=-V,V+=E;0<V;P=256*P+f[h+F],F+=I,V-=8);for(S=P&(1<<-V)-1,P>>=-V,V+=C;0<V;S=256*S+f[h+F],F+=I,V-=8);if(0===P)P=1-R;else{if(P===O)return S?NaN:(N?-1:1)*Infinity;S+=_Mathpow(2,C),P-=R}return(N?-1:1)*S*_Mathpow(2,P-C)},u.write=function(f,h,w,C,T,P){var S,E,O,R=8*P-T-1,V=(1<<R)-1,F=V>>1,I=23===T?5.960464477539063e-8-6.617444900424222e-24:0,N=C?0:P-1,M=C?1:-1,D=0>h||0===h&&0>1/h?1:0;for(h=Math.abs(h),isNaN(h)||h===Infinity?(E=isNaN(h)?1:0,S=V):(S=_Mathfloor(Math.log(h)/Math.LN2),1>h*(O=_Mathpow(2,-S))&&(S--,O*=2),h+=1<=S+F?I/O:I*_Mathpow(2,1-F),2<=h*O&&(S++,O/=2),S+F>=V?(E=0,S=V):1<=S+F?(E=(h*O-1)*_Mathpow(2,T),S+=F):(E=h*_Mathpow(2,F-1)*_Mathpow(2,T),S=0));8<=T;f[w+N]=255&E,N+=M,E/=256,T-=8);for(S=S<<T|E,R+=T;0<R;f[w+N]=255&S,N+=M,S/=256,R-=8);f[w+N-M]|=128*D}},function(r){var f={}.toString;r.exports=Array.isArray||function(h){return'[object Array]'==f.call(h)}},function(r){r.exports=function(f){var h='undefined'!=typeof window&&window.location;if(!h)throw new Error('fixUrls requires window.location');if(!f||'string'!=typeof f)return f;var w=h.protocol+'//'+h.host,C=w+h.pathname.replace(/\/[^\/]*$/,'/'),T=f.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(P,S){var E=S.trim().replace(/^"(.*)"$/,function(R,V){return V}).replace(/^'(.*)'$/,function(R,V){return V});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(E))return P;var O;return O=0===E.indexOf('//')?E:0===E.indexOf('/')?w+E:C+E.replace(/^\.\//,''),'url('+JSON.stringify(O)+')'});return T}},function(r,u,f){var h=f(307);'string'==typeof h&&(h=[[r.i,h,'']]);f(33)(h,{});h.locals&&(r.exports=h.locals),!1},function(r,u,f){var h=f(308);'string'==typeof h&&(h=[[r.i,h,'']]);f(33)(h,{});h.locals&&(r.exports=h.locals),!1},function(r,u,f){var h=f(309);'string'==typeof h&&(h=[[r.i,h,'']]);f(33)(h,{});h.locals&&(r.exports=h.locals),!1},function(r,u,f){var h=f(310);'string'==typeof h&&(h=[[r.i,h,'']]);f(33)(h,{});h.locals&&(r.exports=h.locals),!1},function(r,u,f){var h=f(311);'string'==typeof h&&(h=[[r.i,h,'']]);f(33)(h,{});h.locals&&(r.exports=h.locals),!1},function(r,u,f){var h=f(312);'string'==typeof h&&(h=[[r.i,h,'']]);f(33)(h,{});h.locals&&(r.exports=h.locals),!1},function(r,u,f){var h=f(313);'string'==typeof h&&(h=[[r.i,h,'']]);f(33)(h,{});h.locals&&(r.exports=h.locals),!1},function(r,u,f){var h=f(314);'string'==typeof h&&(h=[[r.i,h,'']]);f(33)(h,{});h.locals&&(r.exports=h.locals),!1},function(r,u,f){'use strict';var h=f(62),w=f(327);class C extends h.a{constructor(T){super(T),this.domEventType=['paste','copy','cut']}onDomEvent(T){this.fire(T.type,T,{dataTransfer:new w.a(T.clipboardData)})}}u.a=C},function(r,u){'use strict';u.a=class{constructor(w){this._native=w}getData(w){return this._native.getData(w)}setData(w,C){this._native.setData(w,C)}}},function(r,u){'use strict';u.a=function(w){return w.replace(/<span class="Apple-converted-space">(\s+)<\/span>/g,(C,T)=>{return 1==T.length?' ':T})}},function(r,u){'use strict';u.a=function(w){return w=w.replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n\n/g,'</p><p>').replace(/\n/g,' ').replace(/^\s/,'&nbsp;').replace(/\s$/,'&nbsp;').replace(/\s\s/g,' &nbsp;'),-1<w.indexOf('</p><p>')&&(w=`<p>${w}</p>`),w}},function(r,u,f){'use strict';var h=f(67);class w extends h.a{constructor(C){super(),this.editor=C}set(C,T){if('string'==typeof T){const P=T;T=()=>{this.editor.execute(P)}}super.set(C,T)}listenTo(C){this._listener.listenTo(C,'keydown',(T,P)=>{const S=this.press(P);S&&P.preventDefault()})}}u.a=w},function(r,u,f){'use strict';var h=f(7),w=f(417),C=f(333),T=f(530),P=f(336),S=f(351),E=f(0),O=f(4);class R{constructor(V){const F=this.constructor.build&&this.constructor.build.plugins;this.config=new w.a(V,this.constructor.build&&this.constructor.build.config),this.config.define('plugins',F),this.plugins=new C.a(this,F),this.commands=new Map,this.locale=new T.a(this.config.get('lang')),this.t=this.locale.t,this.document=new S.a,this.data=new P.a(this.document)}initPlugins(){function F(M,D){return M.reduce((z,$)=>{return z.then($[D].bind($))},Promise.resolve())}const I=this,N=this.config;return function(){const M=N.get('plugins')||[],D=N.get('removePlugins')||[];return I.plugins.load(M,D)}().then((M)=>{return F(M,'init').then(()=>F(M,'afterInit'))}).then(()=>this.fire('pluginsReady'))}destroy(){return this.fire('destroy'),this.stopListening(),Promise.resolve().then(()=>{this.document.destroy(),this.data.destroy()})}execute(V,F){let I=this.commands.get(V);if(!I)throw new E.a('editor-command-not-found: Specified command has not been added to the editor.');I._execute(F)}static create(V){return new Promise((F)=>{const I=new this(V);F(I.initPlugins().then(()=>{I.fire('dataReady'),I.fire('ready')}).then(()=>I))})}}u.a=R,f.i(O.a)(R,h.a)},function(r,u,f){'use strict';var h=f(331),w=f(330),C=f(338),T=f(420),P=f(428);class S extends h.a{constructor(E,O){super(O),this.element=E,this.editing=new C.a(this.document),this.keystrokes=new w.a(this),this.keystrokes.listenTo(this.editing.view)}destroy(){return Promise.resolve().then(()=>this.keystrokes.destroy()).then(()=>this.editing.destroy()).then(super.destroy())}setData(E){this.data.set(E)}getData(){return this.data.get()}updateEditorElement(){f.i(P.a)(this.element,this.getData())}loadDataFromEditorElement(){this.setData(f.i(T.a)(this.element))}static create(E,O){return new Promise((R)=>{const V=new this(E,O);R(V.initPlugins().then(()=>{V.fire('dataReady'),V.fire('ready')}).then(()=>V))})}}u.a=S},function(r,u,f){'use strict';var h=f(3),w=f(0),C=f(48);class T{constructor(P,S=[]){this._editor=P,this._availablePlugins=new Map,this._plugins=new Map;for(const E of S)this._availablePlugins.set(E,E),E.pluginName&&this._availablePlugins.set(E.pluginName,E)}*[Symbol.iterator](){for(const P of this._plugins)'function'==typeof P[0]&&(yield P)}get(P){return this._plugins.get(P)}load(P,S=[]){function E(K){return q.includes(K)||N.get(K)||D.has(K)?void 0:O(K).catch((H)=>{throw C.a.error('plugincollection-load: It was not possible to load the plugin.',{plugin:K}),H})}function O(K){return new Promise((H)=>{D.add(K),V(K),K.requires&&K.requires.forEach((W)=>{const Z=R(W);if(S.includes(Z))throw new w.a('plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.',{plugin:Z,requiredBy:K});E(Z)});const Y=new K(M);N._add(K,Y),z.push(Y),H()})}function R(K){return'function'==typeof K?K:N._availablePlugins.get(K)}function V(K){if(!(K.prototype instanceof h.a))throw new w.a('plugincollection-instance: The loaded plugin module is not an instance of Plugin.',{plugin:K})}function I(K){return K.map((H)=>R(H)).filter((H)=>!!H)}const N=this,M=this._editor,D=new Set,z=[],$=I(P),q=I(S),U=function(K){const H=[];for(const Y of K)R(Y)||H.push(Y);return H.length?H:null}(P);if(U){const K='plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.';return C.a.error(K,{plugins:U}),Promise.reject(new w.a(K,{plugins:U}))}return Promise.all($.map(E)).then(()=>z)}_add(P,S){this._plugins.set(P,S),P.pluginName&&this._plugins.set(P.pluginName,S)}}u.a=T},function(r,u,f){'use strict';var h=f(397),w=f(66),C=f(411);u.a=class{constructor(P,S){this.editor=P,this.view=S,this.componentFactory=new h.a(P),this.focusTracker=new w.a,S.set('width',P.config.get('ui.width')),S.set('height',P.config.get('ui.height')),S.toolbar.bind('isActive').to(this.focusTracker,'isFocused'),S.toolbar.limiterElement=S.element;const E=P.editing.createRoot('div');S.editable.bind('isReadOnly').to(E),S.editable.bind('isFocused').to(P.editing.view),S.editable.name=E.rootName,this.focusTracker.add(S.editableElement)}init(){const P=this.editor;return this.view.init().then(()=>{return this.view.toolbar.fillFromConfig(P.config.get('toolbar'),this.componentFactory)}).then(()=>{f.i(C.a)({origin:P.editing.view,originFocusTracker:this.focusTracker,originKeystrokeHandler:P.keystrokes,toolbar:this.view.toolbar})})}destroy(){return this.view.destroy()}}},function(r,u,f){'use strict';var h=f(404),w=f(403),C=f(412);class T extends h.a{constructor(P){super(P),this.toolbar=new C.a(P),this.editable=new w.a(P),this.top.add(this.toolbar),this.main.add(this.editable)}get editableElement(){return this.editable.element}}u.a=T},function(r,u,f){'use strict';var h=f(4),w=f(7),C=f(161),T=f(163),P=f(102),S=f(346),E=f(344),O=f(117),R=f(2),V=f(1),F=f(340),I=f(337),N=f(341),M=f(339);class D{constructor(z,$){this.model=z,this.processor=$,this.mapper=new C.a,this.modelToView=new T.a(this.model,{mapper:this.mapper}),this.modelToView.on('insert:$text',f.i(P.j)(),{priority:'lowest'}),this.viewToModel=new S.a({schema:z.schema}),this.viewToModel.on('text',f.i(E.a)(),{priority:'lowest'}),this.viewToModel.on('element',f.i(E.b)(),{priority:'lowest'}),this.viewToModel.on('documentFragment',f.i(E.b)(),{priority:'lowest'}),this.on('insertContent',(q,U)=>f.i(F.a)(this,U.content,U.selection,U.batch)),this.on('deleteContent',(q,U)=>f.i(I.a)(U.selection,U.batch,U.options)),this.on('modifySelection',(q,U)=>f.i(N.a)(this,U.selection,U.options)),this.on('getSelectedContent',(q,U)=>{U.content=f.i(M.a)(U.selection)})}get(z='main'){return this.stringify(this.model.getRoot(z))}stringify(z){const $=this.toView(z);return this.processor.toData($)}toView(z){const $=R.a.createIn(z),q=new O.a;return this.mapper.bindElements(z,q),this.modelToView.convertInsertion($),this.mapper.clearBindings(),q}set(z,$='main'){const q=this.model.getRoot($);this.model.enqueueChanges(()=>{this.model.selection.removeAllRanges(),this.model.selection.clearAttributes(),this.model.batch('transparent').remove(R.a.createIn(q)).insert(V.a.createAt(q,0),this.parse(z))})}parse(z,$='$root'){const q=this.processor.toView(z);return this.toModel(q,$)}toModel(z,$='$root'){return this.viewToModel.convert(z,{context:[$]})}destroy(){}insertContent(z,$,q){this.fire('insertContent',{content:z,selection:$,batch:q})}deleteContent(z,$,q){this.fire('deleteContent',{batch:$,selection:z,options:q})}modifySelection(z,$){this.fire('modifySelection',{selection:z,options:$})}getSelectedContent(z){const $={selection:z};return this.fire('getSelectedContent',$),$.content}}u.a=D,f.i(h.a)(D,w.a)},function(r,u,f){'use strict';function w(R,V,F){const I=V.parent,N=F.parent;if(I!=N&&I.parent&&N.parent&&T(V,F)){for(V=S.a.createAfter(I),F=S.a.createBefore(N),N.isEmpty?R.remove(N):(!F.isEqual(V)&&R.move(N,V),R.merge(V));F.parent.isEmpty;){const M=F.parent;F=S.a.createBefore(M),R.remove(M)}w(R,V,F)}}function C(R,V){const F=R.schema.check({name:'$text',inside:V}),I=R.schema.check({name:'paragraph',inside:V});return!F&&I}function T(R,V){const F=R.root.document.schema,I=new E.a(R,V);for(const N of I.getWalker())if(F.objects.has(N.item.name)||F.limits.has(N.item.name))return!1;return!0}var P=f(168),S=f(1),E=f(2),O=f(5);u.a=function(R,V,F={}){if(!R.isCollapsed){const I=R.getFirstRange(),N=I.start,M=P.a.createFromPosition(I.end);if(I.start.isTouching(I.end)||V.remove(I),F.merge&&w(V,N,M),R.collapse(N),C(V.document,N)){const D=new O.a('paragraph');V.insert(N,D),R.collapse(D)}M.detach()}}},function(r,u,f){'use strict';var h=f(359),w=f(161),C=f(163),T=f(102),P=f(343),S=f(162),E=f(7);u.a=class{constructor(R){this.model=R,this.view=new h.a,this.mapper=new w.a,this.modelToView=new C.a(this.model,{mapper:this.mapper,viewSelection:this.view.selection}),this._listener=Object.create(E.a),this._listener.listenTo(this.model,'change',(V,F,I)=>{this.modelToView.convertChange(F,I)},{priority:'low'}),this._listener.listenTo(this.model,'changesDone',()=>{const V=this.model.selection;this.modelToView.convertSelection(V),this.view.render()},{priority:'low'}),this._listener.listenTo(this.model.markers,'add',(V,F)=>{this.modelToView.convertMarker('addMarker',F.name,F.getRange())}),this._listener.listenTo(this.model.markers,'remove',(V,F)=>{this.modelToView.convertMarker('removeMarker',F.name,F.getRange())}),this._listener.listenTo(this.view,'selectionChange',f.i(P.a)(this.model,this.mapper)),this.modelToView.on('insert:$text',f.i(T.j)(),{priority:'lowest'}),this.modelToView.on('remove',f.i(T.k)(),{priority:'low'}),this.modelToView.on('selection',f.i(S.c)(),{priority:'low'}),this.modelToView.on('selection',f.i(S.d)(),{priority:'low'}),this.modelToView.on('selection',f.i(S.e)(),{priority:'low'}),this.modelToView.on('selection',f.i(S.f)(),{priority:'low'})}createRoot(R,V='main'){const F=this.view.createRoot(R,V),I=this.model.getRoot(V);return this.mapper.bindElements(I,F),F}destroy(){this.view.destroy(),this._listener.stopListening()}}},function(r,u,f){'use strict';function w(O){const R=[];Array.from(O.getItems({direction:'backward'})).map((V)=>T.a.createOn(V)).filter((V)=>{const F=(V.start.isAfter(O.start)||V.start.isEqual(O.start))&&(V.end.isBefore(O.end)||V.end.isEqual(O.end));return F}).forEach((V)=>{R.push(V.start.parent),f.i(E.c)(V)}),R.forEach((V)=>{for(let F=V;F.parent&&F.isEmpty;){const I=T.a.createOn(F);F=F.parent,f.i(E.c)(I)}})}var C=f(51),T=f(2),P=f(1),S=f(24),E=f(13);u.a=function(O){const R=new C.a,V=O.getFirstRange();if(!V||V.isCollapsed)return R;const F=V.start.root,I=V.start.getCommonPath(V.end),N=F.getNodeByPath(I);let M=V.start.parent==V.end.parent?V:T.a.createFromParentsAndOffsets(N,V.start.path[I.length],N,V.end.path[I.length]+1);const D=M.end.offset-M.start.offset;for(const z of M.getItems({shallow:!0}))z.is('textProxy')?R.appendChildren(new S.a(z.data,z.getAttributes())):R.appendChildren(z.clone(!0));if(M!=V){const z=V._getTransformedByMove(M.start,P.a.createAt(R,0),D)[0],$=new T.a(P.a.createAt(R),z.start),q=new T.a(z.end,P.a.createAt(R,'end'));w(q),w($)}return R}},function(r,u,f){'use strict';var w=f(1),C=f(168),T=f(5),P=f(2),S=f(48);u.a=function(O,R,V,F){F||(F=O.model.batch()),V.isCollapsed||O.deleteContent(V,F,{merge:!0});const I=new E(O,F,V.anchor);let N;N=R.is('documentFragment')?R.getChildren():[R],I.handleNodes(N,{isFirst:!0,isLast:!0});const M=I.getSelectionRange();M?V.setRanges([M]):S.a.warn('insertcontent-no-range: Cannot determine a proper selection range after insertion.')};class E{constructor(O,R,V){this.dataController=O,this.batch=R,this.position=V,this.canMergeWith=new Set([this.position.parent]),this.schema=O.model.schema}handleNodes(O,R){O=Array.from(O);for(let V=0;V<O.length;V++){const F=O[V];this._handleNode(F,{isFirst:0===V&&R.isFirst,isLast:V===O.length-1&&R.isLast})}}getSelectionRange(){return this.nodeToSelect?P.a.createOn(this.nodeToSelect):this.dataController.model.getNearestSelectionRange(this.position)}_handleNode(O,R){if(this._checkIsObject(O))return void this._handleObject(O,R);const V=this._checkAndSplitToAllowedPosition(O,R);return V?void(this._insert(O),this._mergeSiblingsOf(O,R)):void this._handleDisallowedNode(O,R)}_handleObject(O,R){this._checkAndSplitToAllowedPosition(O)?this._insert(O):this._tryAutoparagraphing(O,R)}_handleDisallowedNode(O,R){O.is('element')?this.handleNodes(O.getChildren(),R):this._tryAutoparagraphing(O,R)}_insert(O){if(!this._checkIsAllowed(O,[this.position.parent]))return void S.a.error('insertcontent-wrong-position: The node cannot be inserted on the given position.',{node:O,position:this.position});const R=C.a.createFromPosition(this.position);this.batch.insert(this.position,O),this.position=w.a.createFromPosition(R),R.detach(),this.nodeToSelect=this._checkIsObject(O)&&!this.schema.check({name:'$text',inside:[this.position.parent]})?O:null}_mergeSiblingsOf(O,R){if(O instanceof T.a){const V=R.isFirst&&O.previousSibling instanceof T.a&&this.canMergeWith.has(O.previousSibling),F=R.isLast&&O.nextSibling instanceof T.a&&this.canMergeWith.has(O.nextSibling),I=C.a.createBefore(O),N=C.a.createAfter(O);if(V){const M=C.a.createFromPosition(this.position);this.batch.merge(I),this.position=w.a.createFromPosition(M),M.detach()}if(F){let M;this.position.isEqual(N)||S.a.error('insertcontent-wrong-position-on-merge: The insertion position should equal the merge position'),this.position=w.a.createAt(N.nodeBefore,'end'),M=new C.a(this.position.root,this.position.path,'sticksToPrevious'),this.batch.merge(N),this.position=w.a.createFromPosition(M),M.detach()}I.detach(),N.detach()}}_tryAutoparagraphing(O,R){const V=new T.a('paragraph');this._getAllowedIn(V,this.position.parent)&&this._checkIsAllowed(O,[V])&&(V.appendChildren(O),this._handleNode(V,R))}_checkAndSplitToAllowedPosition(O){const R=this._getAllowedIn(O,this.position.parent);if(!R)return!1;for(;R!=this.position.parent;){if(this.schema.limits.has(this.position.parent.name))return!1;if(this.position.isAtStart){const V=this.position.parent;this.position=w.a.createBefore(V),V.isEmpty&&this.batch.remove(V)}else if(this.position.isAtEnd)this.position=w.a.createAfter(this.position.parent);else{const V=w.a.createAfter(this.position.parent);this.batch.split(this.position),this.position=V,this.canMergeWith.add(this.position.nodeAfter)}}return!0}_getAllowedIn(O,R){return this._checkIsAllowed(O,[R])?R:R.parent?this._getAllowedIn(O,R.parent):null}_checkIsAllowed(O,R){return this.schema.check({name:this._getNodeSchemaName(O),attributes:Array.from(O.getAttributeKeys()),inside:R})}_checkIsObject(O){return this.schema.objects.has(this._getNodeSchemaName(O))}_getNodeSchemaName(O){return O.is('text')?'$text':O.name}}},function(r,u,f){'use strict';function w(R,V){if('text'==V.type)return C(R.walker,R.unit);if(V.type==(R.isForward?'elementStart':'elementEnd')){if(R.schema.objects.has(V.item.name))return P.a.createAt(V.item,R.isForward?'after':'before');if(R.schema.check({name:'$text',inside:V.nextPosition}))return V.nextPosition}else{if(R.schema.limits.has(V.item.name))return void R.walker.skip(()=>!0);if(R.schema.check({name:'$text',inside:V.nextPosition}))return V.nextPosition}}function C(R,V){const F=R.position.textNode;if(F){const I=F.data;for(let N=R.position.offset-F.startOffset;f.i(O.a)(I,N)||'character'==V&&f.i(O.b)(I,N);)R.next(),N=R.position.offset-F.startOffset}return R.position}function T(R,V){const F=R.root,I=P.a.createAt(F,V?'end':0);return V?new E.a(R,I):new E.a(I,R)}var P=f(1),S=f(35),E=f(2),O=f(275);u.a=function(R,V,F={}){const I=R.model.schema,N='backward'!=F.direction,M=F.unit?F.unit:'character',D=V.focus,z=new S.a({boundaries:T(D,N),singleCharacters:!0,direction:N?'forward':'backward'}),$={walker:z,schema:I,isForward:N,unit:M};for(let q;q=z.next();){if(q.done)return;const U=w($,q.value);if(U)return void V.setFocus(U)}}},function(r,u,f){'use strict';var h=f(60);u.a=class{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(C,T){C instanceof h.a&&(C=this._getSymbolForTextProxy(C)),this._consumable.has(C)||this._consumable.set(C,new Map),this._consumable.get(C).set(T,!0)}consume(C,T){return C instanceof h.a&&(C=this._getSymbolForTextProxy(C)),!!this.test(C,T)&&(this._consumable.get(C).set(T,!1),!0)}test(C,T){C instanceof h.a&&(C=this._getSymbolForTextProxy(C));const P=this._consumable.get(C);if(P===void 0)return null;const S=P.get(T);return void 0===S?null:S}revert(C,T){C instanceof h.a&&(C=this._getSymbolForTextProxy(C));const P=this.test(C,T);return!1===P?(this._consumable.get(C).set(T,!0),!0):!0!==P&&null}_getSymbolForTextProxy(C){let T=null;const P=this._textProxyRegistry.get(C.startOffset);if(P){const S=P.get(C.endOffset);S&&(T=S.get(C.parent))}return T||(T=this._addSymbolForTextProxy(C.startOffset,C.endOffset,C.parent)),T}_addSymbolForTextProxy(C,T,P){const S=Symbol();let E,O;return E=this._textProxyRegistry.get(C),E||(E=new Map,this._textProxyRegistry.set(C,E)),O=E.get(T),O||(O=new Map,E.set(T,O)),O.set(P,S),S}}},function(r,u,f){'use strict';var w=f(59);u.a=function(C,T){return(P,S)=>{const E=S.newSelection,O=new w.a,R=[];for(let V of E.getRanges())R.push(T.toModelRange(V));O.setRanges(R,E.isBackward),O.isEqual(C.selection)||C.enqueueChanges(()=>{C.selection.setTo(O)})}}},function(r,u,f){'use strict';var C=f(51),T=f(24),P=f(13);u.b=function(){return(S,E,O,R)=>{if(!E.output&&O.consume(E.input,{name:!0})){const V=R.convertChildren(E.input,O,E);E.output=new C.a(f.i(P.b)(V))}}},u.a=function(){return(S,E,O,R)=>{const V={name:'$text',inside:E.context};R.schema.check(V)&&O.consume(E.input)&&(E.output=new T.a(E.input.data))}}},function(r,u,f){'use strict';var h=f(11),w=f(0);class C{constructor(){this._consumables=new Map}add(P,S){let E;return P.is('text')||P.is('documentFragment')?void this._consumables.set(P,!0):void(this._consumables.has(P)?E=this._consumables.get(P):(E=new T,this._consumables.set(P,E)),E.add(S))}test(P,S){const E=this._consumables.get(P);return void 0===E?null:P.is('text')||P.is('documentFragment')?E:E.test(S)}consume(P,S){return!!this.test(P,S)&&(P.is('text')||P.is('documentFragment')?this._consumables.set(P,!1):this._consumables.get(P).consume(S),!0)}revert(P,S){const E=this._consumables.get(P);E!==void 0&&(P.is('text')||P.is('documentFragment')?this._consumables.set(P,!0):E.revert(S))}static consumablesFromElement(P){const S={name:!0,attribute:[],class:[],style:[]},E=P.getAttributeKeys();for(let V of E)'style'!=V&&'class'!=V&&S.attribute.push(V);const O=P.getClassNames();for(let V of O)S.class.push(V);const R=P.getStyleNames();for(let V of R)S.style.push(V);return S}static createFrom(P,S){if(S||(S=new C),P.is('text'))return S.add(P),S;P.is('element')&&S.add(P,C.consumablesFromElement(P)),P.is('documentFragment')&&S.add(P);for(let E of P.getChildren())S=C.createFrom(E,S);return S}}u.a=C;class T{constructor(){this._canConsumeName=null,this._consumables={attribute:new Map,style:new Map,class:new Map}}add(P){for(let S in P.name&&(this._canConsumeName=!0),this._consumables)S in P&&this._add(S,P[S])}test(P){if(P.name&&!this._canConsumeName)return this._canConsumeName;for(let S in this._consumables)if(S in P){const E=this._test(S,P[S]);if(!0!==E)return E}return!0}consume(P){for(let S in P.name&&(this._canConsumeName=!1),this._consumables)S in P&&this._consume(S,P[S])}revert(P){for(let S in P.name&&(this._canConsumeName=!0),this._consumables)S in P&&this._revert(S,P[S])}_add(P,S){const E=f.i(h.a)(S)?S:[S],O=this._consumables[P];for(let R of E){if('attribute'===P&&('class'===R||'style'===R))throw new w.a('viewconsumable-invalid-attribute: Classes and styles should be handled separately.');O.set(R,!0)}}_test(P,S){const E=f.i(h.a)(S)?S:[S],O=this._consumables[P];for(let R of E)if('attribute'===P&&('class'===R||'style'===R)){const V=this._test(R,[...this._consumables[R].keys()]);if(!0!==V)return V}else{const V=O.get(R);if(V===void 0)return null;if(!V)return!1}return!0}_consume(P,S){const E=f.i(h.a)(S)?S:[S],O=this._consumables[P];for(let R of E)'attribute'===P&&('class'===R||'style'===R)?this._consume(R,[...this._consumables[R].keys()]):O.set(R,!1)}_revert(P,S){const E=f.i(h.a)(S)?S:[S],O=this._consumables[P];for(let R of E)if('attribute'===P&&('class'===R||'style'===R))this._revert(R,[...this._consumables[R].keys()]);else{const V=O.get(R);!1===V&&O.set(R,!0)}}}},function(r,u,f){'use strict';function h(N){const M=new Set,D=new Map,z=new O.a({startPosition:E.a.createAt(N,0),ignoreElementEnd:!0});for(const $ of z)'$marker'==$.item.name&&M.add($.item);for(const $ of M){const q=$.getAttribute('data-name'),U=E.a.createBefore($);D.has(q)?D.get(q).end=E.a.createFromPosition(U):D.set(q,new S.a(E.a.createFromPosition(U))),f.i(F.c)(S.a.createOn($))}return D}var w=f(345),C=f(7),T=f(4),P=f(45),S=f(2),E=f(1),O=f(35),R=f(58),V=f(51),F=f(13);class I{constructor(N={}){this.conversionApi=f.i(P.a)({},N),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this)}convert(N,M={}){this.fire('viewCleanup',N);const D=w.a.createFrom(N),z=this._convertItem(N,D,M);if(!(z instanceof R.a||z instanceof V.a))return z;let $=z;return $.is('documentFragment')||($=new V.a([$])),$.markers=h($),$}_convertItem(N,M,D={}){const z=f.i(P.a)({},D,{input:N,output:null});return N.is('element')?this.fire('element:'+N.name,z,M,this.conversionApi):N.is('text')?this.fire('text',z,M,this.conversionApi):this.fire('documentFragment',z,M,this.conversionApi),z.output}_convertChildren(N,M,D={}){const z=Array.from(N.getChildren()),$=z.map((q)=>this._convertItem(q,M,D));return $.reduce((q,U)=>U?q.concat(U):q,[])}}u.a=I,f.i(T.a)(I,C.a)},function(r,u){'use strict';u.a=class{getHtml(w){const C=document.implementation.createHTMLDocument(''),T=C.createElement('div');return T.appendChild(w),T.innerHTML}}},function(r,u,f){'use strict';var h=f(165),w=f(103),C=f(104),T=f(105),P=f(106),S=f(166),E=f(107),O=f(109),R=f(167),V=f(110)},function(r,u,f){'use strict';function h(Z,G){const J=Z.clone(),X=J.operations[0];return X.oldRange=X.oldRange.getTransformedByDelta(G)[0],X.newRange=X.newRange.getTransformedByDelta(G)[0],[J]}function w(Z,G){function J(){const ne=new P.a(Z.position.getShiftedBy(te),Z.position.getShiftedBy(ae)),oe=new O.a(ne,G.key,ee,G.value,0);X.addOperation(oe)}const X=new I.a,Q=Z.nodes;let ee=Q.getNode(0).getAttribute(G.key),te=0,ae=Q.getNode(0).offsetSize;for(let ne=1;ne<Q.length;ne++){const oe=Q.getNode(ne),ie=oe.getAttribute(G.key);ie!=ee&&(ee!=G.value&&J(),ee=ie,te=ae),ae+=oe.offsetSize}return J(),X}function C(){let Z=new F.a;return Z.addOperation(new E.a(0)),Z}var T=f(108),P=f(2),S=f(1),E=f(75),O=f(74),R=f(39),V=f(113),F=f(20),I=f(165),N=f(103),M=f(350),D=f(104),z=f(105),$=f(107),q=f(167),U=f(110),K=f(109),H=f(166),Y=f(106),W=f(64);f.i(T.b)(I.a,q.a,(Z,G,J)=>{const X=f.i(T.c)(Z,G,J);return Z.range.containsPosition(G.position)&&X.push(w(G,Z)),X}),f.i(T.b)(I.a,$.a,(Z,G,J)=>{const X=new S.a(G.position.root,G.position.path.slice(0,-1)),Q=f.i(T.c)(Z,G,J);for(let ee of Z.operations)if(ee.range.containsPosition(X)||ee.range.start.isEqual(X)){const te=new I.a,ae=X.getShiftedBy(1),ne=S.a.createFromPosition(ae);ne.path.push(0);const oe=G._cloneOperation.nodes.getNode(0).getAttribute(ee.key);te.addOperation(new O.a(new P.a(ae,ne),ee.key,oe===void 0?null:oe,ee.newValue,0)),Q.push(te);break}return Q}),f.i(T.b)(N.a,D.a,(Z,G,J)=>{return Z.position.isEqual(G.position)?[G.getReversed(),Z.clone()]:f.i(T.c)(Z,G,J)}),f.i(T.b)(M.a,$.a,h),f.i(T.b)(M.a,D.a,h),f.i(T.b)(M.a,U.a,h),f.i(T.b)(M.a,K.a,h),f.i(T.b)(M.a,z.a,h),f.i(T.b)(M.a,H.a,h),f.i(T.b)(z.a,D.a,(Z,G,J)=>{const X=Z.sourcePosition.root==G.position.root&&'same'===f.i(W.a)(Z.sourcePosition.getParentPath(),G.position.getParentPath()),Q=Z.sourcePosition.offset<=G.position.offset&&Z.sourcePosition.offset+Z.howMany>G.position.offset;return X&&Q?[G.getReversed(),Z.clone()]:f.i(T.c)(Z,G,J)}),f.i(T.b)(D.a,N.a,(Z,G,J)=>{return Z.position.isEqual(G.position)?[C()]:f.i(T.c)(Z,G,J)}),f.i(T.b)(D.a,z.a,(Z,G,J)=>{const X=Z.position.root==G.sourcePosition.root&&'same'===f.i(W.a)(Z.position.getParentPath(),G.sourcePosition.getParentPath()),Q=G.sourcePosition.offset<=Z.position.offset&&G.sourcePosition.offset+G.howMany>Z.position.offset;return X&&Q?[C()]:f.i(T.c)(Z,G,J)}),f.i(T.b)($.a,$.a,(Z,G,J)=>{const X=Z.position.getParentPath(),Q=G.position.getParentPath();if('same'==f.i(W.a)(X,Q)){if(Z.position.offset==G.position.offset)return[C()];if(Z.position.offset<G.position.offset){const ee=Z.clone();return ee._moveOperation.howMany=G.position.offset-Z.position.offset,Z._cloneOperation instanceof V.a&&G._cloneOperation instanceof V.a&&Z._cloneOperation.sourcePosition.offset>G._cloneOperation.sourcePosition.offset&&ee._cloneOperation.sourcePosition.offset--,[ee]}const ee=Z.clone();return ee._cloneOperation.position.offset++,ee._moveOperation.sourcePosition.path[ee._moveOperation.sourcePosition.path.length-2]++,ee._moveOperation.targetPosition.path[ee._moveOperation.targetPosition.path.length-2]++,ee._moveOperation.sourcePosition.offset=Z.position.offset-G.position.offset,Z._cloneOperation instanceof V.a&&G._cloneOperation instanceof V.a&&Z._cloneOperation.sourcePosition.offset>G._cloneOperation.sourcePosition.offset&&ee._cloneOperation.sourcePosition.offset--,[ee]}return f.i(T.c)(Z,G,J)}),f.i(T.b)($.a,K.a,(Z,G,J)=>{return'same'===f.i(W.a)(G.position.path,Z.position.getParentPath())?[C()]:f.i(T.c)(Z,G,J)}),f.i(T.b)($.a,U.a,(Z,G,J)=>{const X='same'===f.i(W.a)(Z.position.getParentPath(),G.range.start.getParentPath()),Q=G.range.start.offset<Z.position.offset&&G.range.end.offset>=Z.position.offset;if(X&&Q)return[C()];if('same'===f.i(W.a)(Z.position.getParentPath(),G.range.end.getShiftedBy(-1).path)){const ee=Z.clone(),te=S.a.createFromPosition(G.range.start);te.path.push(G.howMany-1);const ae=te.getShiftedBy(1);ee._cloneOperation.position=ae;const ne=S.a.createFromPosition(te);ne.path.push(Z.position.offset),ee._moveOperation.sourcePosition=ne;const oe=S.a.createFromPosition(ae);return oe.path.push(0),ee._moveOperation.targetPosition=oe,[ee]}return f.i(T.c)(Z,G,J)}),f.i(T.b)($.a,I.a,(Z,G)=>{Z=Z.clone();const J=new S.a(Z.position.root,Z.position.path.slice(0,-1));if(Z._cloneOperation instanceof R.a)for(let X of G.operations)if(X.range.containsPosition(J)||X.range.start.isEqual(J)){null===X.newValue?Z._cloneOperation.nodes.getNode(0).removeAttribute(X.key):Z._cloneOperation.nodes.getNode(0).setAttribute(X.key,X.newValue);break}return[Z]}),f.i(T.b)(K.a,$.a,(Z,G,J)=>{if('same'===f.i(W.a)(Z.position.path,G.position.getParentPath())){const X=[G.getReversed(),Z.clone()];return X[1].operations[1].targetPosition.path[0]++,X}return f.i(T.c)(Z,G,J)}),f.i(T.b)(q.a,I.a,(Z,G)=>{const J=[Z.clone()];return G.range.containsPosition(Z.position)&&J.push(w(Z,G)),J}),f.i(T.b)(U.a,$.a,(Z,G,J)=>{const X='same'===f.i(W.a)(Z.range.start.getParentPath(),G.position.getParentPath()),Q=Z.range.start.offset<G.position.offset&&Z.range.end.offset>=G.position.offset;if(X&&Q)return[G.getReversed(),Z.clone()];if('same'===f.i(W.a)(G.position.getParentPath(),Z.range.end.getShiftedBy(-1).path)){const ee=Z.clone();return ee._insertOperation.position.offset++,ee._moveOperation.howMany++,ee._moveOperation.targetPosition.path[ee._moveOperation.targetPosition.path.length-2]++,[ee]}return f.i(T.c)(Z,G,J)}),f.i(T.b)(H.a,$.a,(Z,G,J)=>{const X=new S.a(G.position.root,G.position.path.slice(0,-1)),Q=f.i(T.c)(Z,G,J);if(Z.operations[0].position.isEqual(X)){const ee=Z.clone();ee.operations[0].position=Z.operations[0].position.getShiftedBy(1),Q.push(ee)}return Q}),f.i(T.b)($.a,H.a,(Z,G)=>{Z=Z.clone();const J=new S.a(Z.position.root,Z.position.path.slice(0,-1));return Z._cloneOperation instanceof R.a&&G.operations[0].position.isEqual(J)&&(Z._cloneOperation.nodes.getNode(0).name=G.operations[0].newName),[Z]}),f.i(T.b)(Y.a,$.a,(Z,G,J)=>{const X=f.i(T.c)(Z,G,J),Q=G._cloneOperation.position;for(let ee of X)for(let te of ee.operations){const ae=te.sourcePosition.getShiftedBy(te.howMany);ae.isEqual(Q)&&(te.howMany+=1)}return X}),f.i(T.b)($.a,Y.a,(Z,G,J)=>{G=G.clone();const X=Z._cloneOperation.position;for(let Q of G.operations){const ee=Q.sourcePosition.getShiftedBy(Q.howMany);ee.isEqual(X)&&(Q.howMany+=1)}return f.i(T.c)(Z,G,J)})},function(r,u,f){'use strict';function h(O,R,V,F){const I=O.document,N=new E,M=new P.a(R,V,F,I.markers,I.version);O.addDelta(N),N.addOperation(M),I.applyOperation(M)}var w=f(20),C=f(18),T=f(17),P=f(112),S=f(0);class E extends w.a{get type(){return'marker'}get _reverseDeltaClass(){return E}static get className(){return'engine.model.delta.MarkerDelta'}}u.a=E,f.i(T.b)('setMarker',function(O,R){const V='string'==typeof O?O:O.name,F=this.document.markers.get(V);if(!R&&!F)throw new S.a('batch-setMarker-no-range: Range parameter is required when adding a new marker.');const I=F?F.getRange():null;return R?h(this,V,I,R):h(this,V,null,I),this}),f.i(T.b)('removeMarker',function(O){const R='string'==typeof O?O:O.name;if(!this.document.markers.has(R))throw new S.a('batch-removeMarker-no-marker: Trying to remove marker that does not exist.');const V=this.document.markers.get(R).getRange();return h(this,R,V,null),this}),C.a.register(E)},function(r,u,f){'use strict';function h(H){const Y=H.textNode;if(Y){const W=Y.data,Z=H.offset-Y.startOffset;return!f.i(q.a)(W,Z)&&!f.i(q.b)(W,Z)}return!0}function*w(H,Y){for(let W=!1;!W;){if(W=!0,H){const Z=H.next();Z.done||(W=!1,yield{walker:H,value:Z.value})}if(Y){const Z=Y.next();Z.done||(W=!1,yield{walker:Y,value:Z.value})}}}var C=f(348),T=f(349),P=f(2),S=f(1),E=f(357),O=f(17),R=f(352),V=f(353),F=f(358),I=f(35),N=f(354),M=f(96),D=f(7),z=f(0),$=f(4),q=f(275);const U='$graveyard';class K{constructor(){this.version=0,this.schema=new F.a,this.history=new R.a(this),this.markers=new N.a,this.selection=new V.a(this),this._pendingChanges=[],this.roots=new Map,this.selection.on('change:range',()=>{for(let H of this.selection.getRanges())if(!this._validateSelectionRange(H))throw new z.a('document-selection-wrong-position: Range from document selection starts or ends at incorrect position.',{range:H})}),this.createRoot('$root',U)}get graveyard(){return this.getRoot(U)}applyOperation(H){if(H.baseVersion!==this.version)throw new z.a('model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.',{operation:H});let Y=H._execute();this.version++,this.history.addDelta(H.delta),Y&&this.fire('change',H.type,Y,H.delta.batch,H.delta.type)}batch(H){return new O.a(this,H)}createRoot(H='$root',Y='main'){if(this.roots.has(Y))throw new z.a('model-document-createRoot-name-exists: Root with specified name already exists.',{name:Y});const W=new E.a(this,H,Y);return this.roots.set(Y,W),W}destroy(){this.selection.destroy(),this.stopListening()}enqueueChanges(H){if(this._pendingChanges.push(H),1==this._pendingChanges.length){for(;this._pendingChanges.length;)this._pendingChanges[0](),this._pendingChanges.shift();this.fire('changesDone')}}getRoot(H='main'){if(!this.roots.has(H))throw new z.a('model-document-getRoot-root-not-exist: Root with specified name does not exist.',{name:H});return this.roots.get(H)}hasRoot(H){return this.roots.has(H)}getRootNames(){return Array.from(this.roots.keys()).filter((H)=>H!=U)}getNearestSelectionRange(H,Y='both'){if(this.schema.check({name:'$text',inside:H}))return new P.a(H);let W,Z;('both'==Y||'backward'==Y)&&(W=new I.a({startPosition:H,direction:'backward'})),('both'==Y||'forward'==Y)&&(Z=new I.a({startPosition:H}));for(let G of w(W,Z)){const J=G.walker==W?'elementEnd':'elementStart',X=G.value;if(X.type==J&&this.schema.objects.has(X.item.name))return P.a.createOn(X.item);if(this.schema.check({name:'$text',inside:X.nextPosition}))return new P.a(X.nextPosition)}return null}toJSON(){const H=f.i(M.a)(this);return H.selection='[engine.model.LiveSelection]',H}_getDefaultRoot(){for(let H of this.roots.values())if(H!==this.graveyard)return H;return this.graveyard}_getDefaultRange(){const H=this._getDefaultRoot(),Y=new S.a(H,[0]),W=this.getNearestSelectionRange(Y);return W||new P.a(Y)}_validateSelectionRange(H){return h(H.start)&&h(H.end)}}u.a=K,f.i($.a)(K,D.a)},function(r,u,f){'use strict';var h=f(0);u.a=class{constructor(){this._deltas=[],this._historyPoints=new Map}addDelta(C){if(0<C.operations.length&&!this._historyPoints.has(C.baseVersion)){const T=this._deltas.length;this._deltas[T]=C,this._historyPoints.set(C.baseVersion,T)}}*getDeltas(C=0,T=_NumberPOSITIVE_INFINITY){if(0!==this._deltas.length){let P=this._getIndex(C);if(-1!=P)for(;P<this._deltas.length;){const S=this._deltas[P++];if(S.baseVersion>=T)break;yield S}}}getDelta(C){let T=this._historyPoints.get(C);if(T===void 0)return null;const P=[];for(T;T<this._deltas.length;T++){const S=this._deltas[T];if(S.baseVersion!=C)break;P.push(S)}return 0===P.length?null:P}removeDelta(C){this.updateDelta(C,[])}updateDelta(C,T){const P=this.getDelta(C);if(null!==P){for(let E of T)E.baseVersion=C;this._deltas.splice(this._getIndex(C),P.length,...T);const S=T.length-P.length;for(let E of this._historyPoints.keys())E>C&&this._historyPoints.set(E,this._historyPoints.get(E)+S)}}_getIndex(C){let T=this._historyPoints.get(C);if(T===void 0){const P=this._deltas[this._deltas.length-1],S=P.baseVersion+P.operations.length;if(0>C||C>=S)return-1;throw new h.a('model-history-wrong-version: Given base version points to the middle of a delta.')}return T}}},function(r,u,f){'use strict';function h(M){return M instanceof S.a||M instanceof P.a?M.getAttributes():null}var w=f(1),C=f(2),T=f(111),P=f(24),S=f(60),E=f(152),O=f(0),R=f(48),V=f(59);const F='selection:',I=new Set(['addAttribute','removeAttribute','changeAttribute','addRootAttribute','removeRootAttribute','changeRootAttribute']);class N extends V.a{constructor(M){super(),this._document=M,this._attributePriority=new Map,this.listenTo(this._document,'change',(D,z)=>{I.has(z)&&this._updateAttributes(!1)})}get isCollapsed(){const M=this._ranges.length;return!(0!==M)||super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().start}get rangeCount(){return this._ranges.length?this._ranges.length:1}destroy(){for(let M=0;M<this._ranges.length;M++)this._ranges[M].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}addRange(M,D=!1){super.addRange(M,D),this.refreshAttributes()}removeAllRanges(){super.removeAllRanges(),this.refreshAttributes()}setRanges(M,D=!1){super.setRanges(M,D),this.refreshAttributes()}setAttribute(M,D){if(this.isCollapsed&&0===this.anchor.parent.childCount&&this._storeAttribute(M,D),this._setAttribute(M,D)){this.fire('change:attribute',{attributeKeys:[M],directChange:!0})}}removeAttribute(M){if(this.isCollapsed&&0===this.anchor.parent.childCount&&this._removeStoredAttribute(M),this._removeAttribute(M)){this.fire('change:attribute',{attributeKeys:[M],directChange:!0})}}setAttributesTo(M){M=f.i(E.a)(M),this.isCollapsed&&0===this.anchor.parent.childCount&&this._setStoredAttributesTo(M);const D=this._setAttributesTo(M);if(0<D.size){const z=Array.from(D);this.fire('change:attribute',{attributeKeys:z,directChange:!0})}}clearAttributes(){this.setAttributesTo([])}refreshAttributes(){this._updateAttributes(!0)}static createFromSelection(M){const D=new this(M._document);return D.setTo(M),D}_popRange(){this._ranges.pop().detach()}_pushRange(M){const D=this._prepareRange(M);D&&this._ranges.push(D)}_prepareRange(M){if(!(M instanceof C.a))throw new O.a('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');if(M.root==this._document.graveyard)return void R.a.warn('model-selection-range-in-graveyard: Trying to add a Range that is in the graveyard root. Range rejected.');this._checkRange(M);const D=T.a.createFromRange(M);return this.listenTo(D,'change',(z,$)=>{D.root==this._document.graveyard&&this._fixGraveyardSelection(D,$),this.fire('change:range',{directChange:!1})}),D}_updateAttributes(M){const D=f.i(E.a)(this._getSurroundingAttributes()),z=f.i(E.a)(this.getAttributes());if(M)this._attributePriority=new Map,this._attrs=new Map;else for(let[q,U]of this._attributePriority)'low'==U&&(this._attrs.delete(q),this._attributePriority.delete(q));this._setAttributesTo(D,!1);const $=[];for(let[q,U]of this.getAttributes())z.has(q)&&z.get(q)===U||$.push(q);for(let[q]of z)this.hasAttribute(q)||$.push(q);0<$.length&&this.fire('change:attribute',{attributeKeys:$,directChange:!1})}static _getStoreAttributeKey(M){return F+M}_setAttribute(M,D,z=!0){const $=z?'normal':'low';if('low'==$&&'normal'==this._attributePriority.get(M))return!1;const q=super.getAttribute(M);return q!==D&&(this._attrs.set(M,D),this._attributePriority.set(M,$),!0)}_removeAttribute(M,D=!0){const z=D?'normal':'low';return'low'==z&&'normal'==this._attributePriority.get(M)?!1:!!super.hasAttribute(M)&&(this._attrs.delete(M),this._attributePriority.set(M,z),!0)}_setAttributesTo(M,D=!0){const z=new Set;for(let[$,q]of this.getAttributes())M.get($)!==q&&this._removeAttribute($,D)&&z.add($);for(let[$,q]of M){const U=this._setAttribute($,q,D);U&&z.add($)}return z}*_getStoredAttributes(){const M=this.getFirstPosition().parent;if(this.isCollapsed&&0===M.childCount)for(let D of M.getAttributeKeys())if(0===D.indexOf(F)){const z=D.substr(F.length);yield[z,M.getAttribute(D)]}}_removeStoredAttribute(M){const D=N._getStoreAttributeKey(M);this._document.batch().removeAttribute(this.anchor.parent,D)}_storeAttribute(M,D){const z=N._getStoreAttributeKey(M);this._document.batch().setAttribute(this.anchor.parent,z,D)}_setStoredAttributesTo(M){const D=this.anchor.parent,z=this._document.batch();for(let[$]of this._getStoredAttributes()){const q=N._getStoreAttributeKey($);z.removeAttribute(D,q)}for(let[$,q]of M){const U=N._getStoreAttributeKey($);z.setAttribute(D,U,q)}}_getSurroundingAttributes(){const M=this.getFirstPosition();let D=null;if(!this.isCollapsed){const z=this.getFirstRange();for(let $ of z)'text'==$.type&&null==D&&(D=$.item.getAttributes())}else{const z=M.textNode?M.textNode:M.nodeBefore,$=M.textNode?M.textNode:M.nodeAfter;if(D=h(z),D||(D=h($)),!D)for(let q=z;q&&!D;)q=q.previousSibling,D=h(q);if(!D)for(let q=$;q&&!D;)q=q.nextSibling,D=h(q);D||(D=this._getStoredAttributes())}return D}_fixGraveyardSelection(M,D){const z=M.start.path,$=D.start.path.length-(z.length-2),q=D.start.path.slice(0,$);q[q.length-1]-=z[1];const U=new w.a(D.root,q);let K=this._document.getNearestSelectionRange(U);K||(K=new C.a(new w.a(U.root,[0])));const H=this._prepareRange(K),Y=this._ranges.indexOf(M);M.detach(),this._ranges.splice(Y,1,H)}}u.a=N},function(r,u,f){'use strict';var h=f(111),w=f(1),C=f(2),T=f(7),P=f(0),S=f(4);class E{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(R){return this._markers.has(R)}get(R){return this._markers.get(R)||null}set(R,V){const F=R instanceof O?R.name:R,I=this._markers.get(F);if(I){const D=I.getRange();if(D.isEqual(V))return I;this.remove(F)}const N=h.a.createFromRange(V),M=new O(F,N);return this._markers.set(F,M),this.fire('add',M),M}remove(R){const V=R instanceof O?R.name:R,F=this._markers.get(V);return!!F&&(this._markers.delete(V),this.fire('remove',F),this._destroyMarker(F),!0)}*getMarkersAtPosition(R){for(let V of this)V.getRange().containsPosition(R)&&(yield V)}destroy(){for(let R of this._markers.values())this._destroyMarker(R);this._markers=null,this.stopListening()}*getMarkersGroup(R){for(let V of this._markers.values())V.name.startsWith(R+':')&&(yield V)}_destroyMarker(R){R.stopListening(),R._liveRange.detach(),R._liveRange=null}}u.a=E,f.i(S.a)(E,T.a);class O{constructor(R,V){this.name=R,this._liveRange=V,this._liveRange.delegate('change').to(this)}getStart(){if(!this._liveRange)throw new P.a('marker-destroyed: Operating on destroyed marker instance.');return w.a.createFromPosition(this._liveRange.start)}getEnd(){if(!this._liveRange)throw new P.a('marker-destroyed: Operating on destroyed marker instance.');return w.a.createFromPosition(this._liveRange.end)}getRange(){if(!this._liveRange)throw new P.a('marker-destroyed: Operating on destroyed marker instance.');return C.a.createFromRange(this._liveRange)}}f.i(S.a)(O,T.a)},function(r,u,f){'use strict';var h=f(74),w=f(39),C=f(112),T=f(28),P=f(75),S=f(34),E=f(113),O=f(40),R=f(114),V=f(115);const F={};F[h.a.className]=h.a,F[w.a.className]=w.a,F[C.a.className]=C.a,F[T.a.className]=T.a,F[P.a.className]=P.a,F[S.a.className]=S.a,F[E.a.className]=E.a,F[O.a.className]=O.a,F[R.a.className]=R.a,F[V.a.className]=V.a;u.a=class{static fromJSON(N,M){return F[N.__className].fromJSON(N,M)}}},function(r,u,f){'use strict';function w($){return[$.clone()]}function C($,q){for(let U=0;U<q.length;U++)q[U].baseVersion=$+U+1;return q}function T($,q){return null===$.targetPosition._getTransformedByDeletion(q.sourcePosition,q.howMany)}function P($){return 0===$.length?null:1==$.length?$[0]:($[0].end=$[$.length-1].end,$[0])}var S=f(39),E=f(74),O=f(115),R=f(114),V=f(112),F=f(28),I=f(40),N=f(75),M=f(2),D=f(64);u.a=function($,q,U){let K,H;$ instanceof S.a?K=z.InsertOperation:$ instanceof E.a?K=z.AttributeOperation:$ instanceof O.a?K=z.RootAttributeOperation:$ instanceof R.a?K=z.RenameOperation:$ instanceof V.a?K=z.MarkerOperation:$ instanceof F.a?K=z.MoveOperation:H=w,K&&(q instanceof S.a?H=K.InsertOperation:q instanceof E.a?H=K.AttributeOperation:q instanceof O.a?H=K.RootAttributeOperation:q instanceof R.a?H=K.RenameOperation:q instanceof V.a?H=K.MarkerOperation:q instanceof F.a?H=K.MoveOperation:H=w);let Y=H($,q,U);return C($.baseVersion,Y)};const z={InsertOperation:{InsertOperation($,q,U){const K=$.clone();return K.position=K.position._getTransformedByInsertion(q.position,q.nodes.maxOffset,!U),[K]},AttributeOperation:w,RootAttributeOperation:w,RenameOperation:w,MarkerOperation:w,MoveOperation($,q,U){const K=$.clone();return K.position=$.position._getTransformedByMove(q.sourcePosition,q.targetPosition,q.howMany,!U,q.isSticky),[K]}},AttributeOperation:{InsertOperation($,q){const U=$.range._getTransformedByInsertion(q.position,q.nodes.maxOffset,!0,!1);return U.reverse().map((K)=>{return new E.a(K,$.key,$.oldValue,$.newValue,$.baseVersion)})},AttributeOperation($,q,U){if($.key===q.key){let K=$.range.getDifference(q.range).map((Y)=>{return new E.a(Y,$.key,$.oldValue,$.newValue,$.baseVersion)});const H=$.range.getIntersection(q.range);return H&&(U?K.push(new E.a(H,q.key,q.newValue,$.newValue,$.baseVersion)):0===K.length&&K.push(new N.a(0))),K}return[$.clone()]},RootAttributeOperation:w,RenameOperation:w,MarkerOperation:w,MoveOperation($,q){const U=M.a.createFromPositionAndShift(q.sourcePosition,q.howMany);let K=[];q instanceof I.a&&q._needsHolderElement&&$.range.root==q.targetPosition.root&&$.range.start.path[0]>=q._holderElementOffset&&($=$.clone(),$.range.start.path[0]++,$.range.end.path[0]++);const H=P($.range.getDifference(U)),Y=$.range.getIntersection(U);return null!==H&&(H.start=H.start._getTransformedByDeletion(q.sourcePosition,q.howMany),H.end=H.end._getTransformedByDeletion(q.sourcePosition,q.howMany),K=H._getTransformedByInsertion(q.getMovedRangeStart(),q.howMany,!0,!1).reverse()),null!==Y&&(Y.start=Y.start._getCombined(q.sourcePosition,q.getMovedRangeStart()),Y.end=Y.end._getCombined(q.sourcePosition,q.getMovedRangeStart()),K.push(Y)),K.map((W)=>{return new E.a(W,$.key,$.oldValue,$.newValue,$.baseVersion)})}},RootAttributeOperation:{InsertOperation:w,AttributeOperation:w,RootAttributeOperation($,q,U){return $.root!==q.root||$.key!==q.key||($.newValue===q.newValue||U)&&$.newValue!==q.newValue?[$.clone()]:[new N.a($.baseVersion)]},RenameOperation:w,MarkerOperation:w,MoveOperation:w},RenameOperation:{InsertOperation($,q){const U=$.clone();return U.position=U.position._getTransformedByInsertion(q.position,q.nodes.maxOffset,!0),[U]},AttributeOperation:w,RootAttributeOperation:w,RenameOperation($,q,U){const K=$.clone();if($.position.isEqual(q.position))if(U)K.oldName=q.newName;else return[new N.a($.baseVersion)];return[K]},MarkerOperation:w,MoveOperation($,q){const U=$.clone(),K=U.position.isEqual(q.sourcePosition);return U.position=U.position._getTransformedByMove(q.sourcePosition,q.targetPosition,q.howMany,!0,K),[U]}},MarkerOperation:{InsertOperation($,q){const U=$.clone();return U.oldRange&&(U.oldRange=U.oldRange._getTransformedByInsertion(q.position,q.nodes.maxOffset,!1,!1)[0]),U.newRange&&(U.newRange=U.newRange._getTransformedByInsertion(q.position,q.nodes.maxOffset,!1,!1)[0]),[U]},AttributeOperation:w,RootAttributeOperation:w,RenameOperation:w,MarkerOperation($,q,U){const K=$.clone();if($.name==q.name)if(U)K.oldRange=q.newRange;else return[new N.a($.baseVersion)];return[K]},MoveOperation($,q){const U=$.clone();if(U.oldRange){const K=U.oldRange._getTransformedByMove(q.sourcePosition,q.targetPosition,q.howMany);U.oldRange=M.a.createFromRanges(K)}if(U.newRange){const K=U.newRange._getTransformedByMove(q.sourcePosition,q.targetPosition,q.howMany);U.newRange=M.a.createFromRanges(K)}return[U]}},MoveOperation:{InsertOperation($,q,U){let K=M.a.createFromPositionAndShift($.sourcePosition,$.howMany);K=K._getTransformedByInsertion(q.position,q.nodes.maxOffset,!1,$.isSticky)[0];let H=new $.constructor(K.start,K.end.offset-K.start.offset,$ instanceof I.a?$.baseVersion:$.targetPosition._getTransformedByInsertion(q.position,q.nodes.maxOffset,!U),$ instanceof I.a?void 0:$.baseVersion);return H.isSticky=$.isSticky,$ instanceof I.a&&(H._needsHolderElement=$._needsHolderElement,H._holderElementOffset=$._holderElementOffset),[H]},AttributeOperation:w,RootAttributeOperation:w,RenameOperation:w,MarkerOperation:w,MoveOperation($,q,U){if(T($,q)&&T(q,$))return[q.getReversed()];if($ instanceof I.a&&q instanceof I.a){const ee=$.targetPosition.path[0],te=q.targetPosition.path[0];(ee>te||ee==te&&U)&&($=$.clone(),$.targetPosition.path[0]++)}$ instanceof I.a&&!(q instanceof I.a)?U=!0:!($ instanceof I.a)&&q instanceof I.a&&(U=!1);const K=M.a.createFromPositionAndShift($.sourcePosition,$.howMany),H=M.a.createFromPositionAndShift(q.sourcePosition,q.howMany);let Y=[],W=P(K.getDifference(H));W&&(W.start=W.start._getTransformedByMove(q.sourcePosition,q.targetPosition,q.howMany,!$.isSticky,!1),W.end=W.end._getTransformedByMove(q.sourcePosition,q.targetPosition,q.howMany,$.isSticky,!1),Y.push(W));const Z=K.getIntersection(H);let G=f.i(D.a)($.sourcePosition.getParentPath(),q.sourcePosition.getParentPath()),J=K.containsPosition(q.targetPosition)||K.start.isEqual(q.targetPosition)&&$.isSticky||K.end.isEqual(q.targetPosition)&&$.isSticky,X=H.containsRange(K)&&(H.containsPosition($.targetPosition)||H.start.isEqual($.targetPosition)||H.end.isEqual($.targetPosition));if(null!==Z&&('extension'===G||'same'===G&&U||X)&&!J&&(Z.start=Z.start._getCombined(q.sourcePosition,q.getMovedRangeStart()),Z.end=Z.end._getCombined(q.sourcePosition,q.getMovedRangeStart()),W&&K.start.isBefore(H.start)?Y.push(Z):Y.unshift(Z)),0===Y.length)return $ instanceof I.a?($=$.clone(),$.howMany=0,$.sourcePosition=q.targetPosition,[$]):[new N.a($.baseVersion)];let Q=$.targetPosition._getTransformedByMove(q.sourcePosition,q.targetPosition,q.howMany,!U,q.isSticky||X);return Y.reverse().map((ee,te)=>{let ae=new $.constructor(ee.start,ee.end.offset-ee.start.offset,$ instanceof I.a?$.baseVersion:Q,$ instanceof I.a?void 0:$.baseVersion);return ae.isSticky=$.isSticky,$ instanceof I.a&&(ae._needsHolderElement=$._needsHolderElement&&0===te,ae._holderElementOffset=$._holderElementOffset),ae})}}}},function(r,u,f){'use strict';var h=f(5);class w extends h.a{constructor(C,T,P='main'){super(T),this._doc=C,this.rootName=P}get document(){return this._doc}is(C,T){return T?'rootElement'==C&&T==this.name||super.is(C,T):'rootElement'==C||super.is(C)}toJSON(){return this.rootName}}u.a=w},function(r,u,f){'use strict';function h(V,F,I){for(let N=I.length-1,M=F.length-1;0<=N&&0<=M;){const D=F[M];if(!V.hasItem(D))return!1;const z=V._extensionChains.get(D);if(z.includes(I[N]))N--,M--;else return!1}return!0}var w=f(1),C=f(5),T=f(96),P=f(11),S=f(149),E=f(0);class O{constructor(){this.objects=new Set,this.limits=new Set,this._items=new Map,this._extensionChains=new Map,this.registerItem('$root'),this.registerItem('$block'),this.registerItem('$inline'),this.registerItem('$text','$inline'),this.allow({name:'$block',inside:'$root'}),this.allow({name:'$inline',inside:'$block'}),this.registerItem('$clipboardHolder','$root'),this.allow({name:'$inline',inside:'$clipboardHolder'})}allow(V){this._getItem(V.name).allow(O._normalizeQueryPath(V.inside),V.attributes)}disallow(V){this._getItem(V.name).disallow(O._normalizeQueryPath(V.inside),V.attributes)}requireAttributes(V,F){this._getItem(V).requireAttributes(F)}check(V){if(!this.hasItem(V.name))return!1;f.i(P.a)(V.attributes)?0===V.attributes.length&&V.attributes.push(void 0):V.attributes=[V.attributes];const F=O._normalizeQueryPath(V.inside),I=this._extensionChains.get(V.name).map((N)=>{return this._getItem(N)});if(!this._getItem(V.name)._checkRequiredAttributes(V.attributes))return!1;for(let N of V.attributes)for(let M of I)if(M._hasMatchingPath('disallow',F,N))return!1;for(let N of V.attributes){let M=!1;for(let D of I)if(D._hasMatchingPath('allow',F,N)){M=!0;break}if(!M)return!1}return!0}hasItem(V){return this._items.has(V)}registerItem(V,F){if(this.hasItem(V))throw new E.a('model-schema-item-exists: Item with specified name already exists in schema.');if(!!F&&!this.hasItem(F))throw new E.a('model-schema-no-item: Item with specified name does not exist in schema.');this._items.set(V,new R(this));const I=this.hasItem(F)?this._extensionChains.get(F).concat(V):[V];this._extensionChains.set(V,I)}itemExtends(V,F){if(!this.hasItem(V)||!this.hasItem(F))throw new E.a('model-schema-no-item: Item with specified name does not exist in schema.');const I=this._extensionChains.get(V);return I.some((N)=>N==F)}_getItem(V){if(!this.hasItem(V))throw new E.a('model-schema-no-item: Item with specified name does not exist in schema.');return this._items.get(V)}static _normalizeQueryPath(V){let F=[];if(f.i(P.a)(V))for(let I of V)I instanceof C.a?F.push(I.name):f.i(S.a)(I)&&F.push(I);else if(V instanceof w.a){for(let I=V.parent;null!==I;)F.push(I.name),I=I.parent;F.reverse()}else f.i(S.a)(V)&&(F=V.split(' '));return F}}u.a=O;class R{constructor(V){this._schema=V,this._allowed=[],this._disallowed=[],this._requiredAttributes=[]}allow(V,F){this._addPath('_allowed',V,F)}disallow(V,F){this._addPath('_disallowed',V,F)}requireAttributes(V){this._requiredAttributes.push(V)}_addPath(V,F,I){F=F.slice(),f.i(P.a)(I)||(I=[I]);for(let N of I)this[V].push({path:F,attribute:N})}_getPaths(V,F){const I='allow'===V?this._allowed:this._disallowed,N=[];for(let M of I)M.attribute===F&&N.push(M.path);return N}_checkRequiredAttributes(V){let F=!0;for(let I of this._requiredAttributes){F=!0;for(let N of I)if(-1==V.indexOf(N)){F=!1;break}if(F)break}return F}_hasMatchingPath(V,F,I){const N=this._getPaths(V,I);for(const M of N)if(h(this._schema,F,M))return!0;return!1}toJSON(){const V=f.i(T.a)(this);return V._schema='[model.Schema]',V}}},function(r,u,f){'use strict';var h=f(63),w=f(367),C=f(169),T=f(173),P=f(61),S=f(48),E=f(172),O=f(365),R=f(362),V=f(363),F=f(361),I=f(4),N=f(31);class M{constructor(){this.domRoots=new Map,this.selection=new h.a,this.domConverter=new C.a,this.roots=new Map,this.set('isFocused',!1),this.renderer=new w.a(this.domConverter,this.selection),this.renderer.bind('isFocused').to(this,'isFocused'),this._observers=new Map,this.addObserver(E.a),this.addObserver(O.a),this.addObserver(R.a),this.addObserver(V.a),this.addObserver(F.a),f.i(P.h)(this),this.on('render',()=>{this.disableObservers(),this.renderer.render(),this.enableObservers()})}addObserver(D){let z=this._observers.get(D);if(z)return z;z=new D(this),this._observers.set(D,z);for(let[$,q]of this.domRoots)z.observe(q,$);return z.enable(),z}getObserver(D){return this._observers.get(D)}createRoot(D,z='main'){const $='string'==typeof D?D:D.tagName,q=new T.a($.toLowerCase(),z);return q.document=this,this.roots.set(z,q),q.on('change:children',(U,K)=>this.renderer.markToSync('children',K)),q.on('change:attributes',(U,K)=>this.renderer.markToSync('attributes',K)),q.on('change:text',(U,K)=>this.renderer.markToSync('text',K)),this.domConverter.isElement(D)&&this.attachDomRoot(D,z),q}attachDomRoot(D,z='main'){const $=this.getRoot(z);this.domRoots.set(z,D),this.domConverter.bindElements(D,$),this.renderer.markToSync('children',$),this.renderer.domDocuments.add(D.ownerDocument);for(let q of this._observers.values())q.observe(D,z)}getRoot(D='main'){return this.roots.get(D)}getDomRoot(D='main'){return this.domRoots.get(D)}render(){this.fire('render')}focus(){if(!this.isFocused){const D=this.selection.editableElement;D?(this.domConverter.focus(D),this.render()):S.a.warn('view-focus-no-selection: There is no selection in any editable to focus.')}}disableObservers(){for(let D of this._observers.values())D.disable()}enableObservers(){for(let D of this._observers.values())D.enable()}destroy(){for(let D of this._observers.values())D.destroy()}}u.a=M,f.i(I.a)(M,N.a)},function(r,u,f){'use strict';var h=f(62);class w extends h.a{constructor(C){super(C),this.domEventType='click'}onDomEvent(C){this.fire(C.type,C)}}u.a=w},function(r,u,f){'use strict';function h(E){return E==T.b.arrowright||E==T.b.arrowleft||E==T.b.arrowup||E==T.b.arrowdown}var w=f(52),C=f(63),T=f(22),P=f(143);class S extends w.a{constructor(E){super(E),this._fireSelectionChangeDoneDebounced=f.i(P.a)((O)=>this.document.fire('selectionChangeDone',O),200)}observe(){const E=this.document;E.on('keydown',(O,R)=>{const V=E.selection;V.isFake&&h(R.keyCode)&&this.isEnabled&&(R.preventDefault(),this._handleSelectionMove(R.keyCode))},{priority:'lowest'})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(E){const O=this.document.selection,R=C.a.createFromSelection(O);R.setFake(!1),(E==T.b.arrowleft||E==T.b.arrowup)&&R.collapseToStart(),(E==T.b.arrowright||E==T.b.arrowdown)&&R.collapseToEnd();const V={oldSelection:O,newSelection:R,domSelection:null};this.document.fire('selectionChange',V),this._fireSelectionChangeDoneDebounced(V)}}u.a=S},function(r,u,f){'use strict';var h=f(62);class w extends h.a{constructor(C){super(C),this.domEventType=['focus','blur'],this.useCapture=!0,C.on('focus',()=>{C.isFocused=!0,this._renderTimeoutId=setTimeout(()=>C.render(),0)}),C.on('blur',(T,P)=>{const S=C.selection.editableElement;(null===S||S===P.target)&&(C.isFocused=!1,C.render())})}onDomEvent(C){this.fire(C.type,C)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}u.a=w},function(r,u,f){'use strict';var h=f(62),w=f(22);class C extends h.a{constructor(T){super(T),this.domEventType='keydown'}onDomEvent(T){this.fire('keydown',T,{keyCode:T.keyCode,altKey:T.altKey,ctrlKey:T.ctrlKey||T.metaKey,shiftKey:T.shiftKey,get keystroke(){return f.i(w.c)(this)}})}}u.a=C},function(r,u,f){'use strict';var h=f(62);class w extends h.a{constructor(C){super(C),this.domEventType='mousedown'}onDomEvent(C){this.fire(C.type,C)}}u.a=w},function(r,u,f){'use strict';var h=f(52),w=f(172),C=f(48),T=f(143);class P extends h.a{constructor(S){super(S),this.mutationObserver=S.getObserver(w.a),this.document=S,this.selection=S.selection,this.domConverter=S.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=f.i(T.a)((E)=>this.document.fire('selectionChangeDone',E),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._loopbackCounter=0}observe(S){const E=S.ownerDocument;this._documents.has(E)||(this.listenTo(E,'selectionchange',()=>{this._handleSelectionChange(E)}),this._documents.add(E))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(S){if(this.isEnabled&&this.document.isFocused){this.mutationObserver.flush();const E=S.defaultView.getSelection(),O=this.domConverter.domSelectionToView(E);if(!this.selection.isEqual(O)){if(60<++this._loopbackCounter)return void C.a.warn('selectionchange-infinite-loop: Selection change observer detected an infinite rendering loop.');const R={oldSelection:this.selection,newSelection:O,domSelection:E};this.document.fire('selectionChange',R),this._fireSelectionChangeDoneDebounced(R)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}u.a=P},function(r,u,f){'use strict';function w(I){const N=I.document;I.removeClass('ck-placeholder'),I.removeAttribute('data-placeholder'),F.has(N)&&F.get(N).delete(I)}function C(I){const N=F.get(I);for(let[M,D]of N)T(M,D)}function T(I,N){const M=I.document;if(M){const D=M.selection,z=D.anchor;return N&&!N()?void I.removeClass('ck-placeholder'):M.isFocused||I.childCount?void(!I.childCount&&z&&z.parent!==I?I.addClass('ck-placeholder'):I.removeClass('ck-placeholder')):void I.addClass('ck-placeholder')}}var P=f(45),S=f(7),E=f(0),O=f(319),R=f.n(O);u.a=function(I,N,M){const D=I.document;if(!D)throw new E.a('view-placeholder-element-is-detached: Provided element is not placed in document.');w(I),F.has(D)||(F.set(D,new Map),V.listenTo(D,'render',()=>C(D),{priority:'high'})),I.setAttribute('data-placeholder',N),F.get(D).set(I,M),T(I,M)};const V={};f.i(P.a)(V,S.a);const F=new WeakMap},function(r,u,f){'use strict';function h(D,z){return!D.isCollapsed&&w(D).isEqual(w(z))}function w(D){const z=P.a.createFromSelection(D),$=z.getRanges();let q=[];for(let U of $)q.push(U.getTrimmed());return z.setRanges(q,z.isBackward),z}var C=f(29),T=f(25),P=f(63),S=f(61),E=f(4),O=f(189),R=f(423),V=f(427),F=f(48),I=f(31),N=f(0);class M{constructor(D,z){this.domDocuments=new Set,this.domConverter=D,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=z,this._inlineFiller=null,this.isFocused=!1,this._fakeSelectionContainer=null}markToSync(D,z){if('text'===D)this.domConverter.getCorrespondingDom(z.parent)&&this.markedTexts.add(z);else{if(!this.domConverter.getCorrespondingDom(z))return;if('attributes'===D)this.markedAttributes.add(z);else if('children'===D)this.markedChildren.add(z);else throw new N.a('view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.')}}render(){let D;this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?D=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(D=this.selection.getFirstPosition(),this.markedChildren.add(D.parent));for(let z of this.markedTexts)!this.markedChildren.has(z.parent)&&this.domConverter.getCorrespondingDom(z.parent)&&this._updateText(z,{inlineFillerPosition:D});for(let z of this.markedAttributes)this._updateAttrs(z);for(let z of this.markedChildren)this._updateChildren(z,{inlineFillerPosition:D});this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear(),this._inlineFiller=this._getInlineFillerNode(D)}_getInlineFillerNode(D){if(!D)return void(this._inlineFiller=null);const z=this.domConverter.viewPositionToDom(D);if(!z||!f.i(S.c)(z.parent))throw new N.a('view-renderer-cannot-find-filler: Cannot find filler node by its position.');return z.parent}_getInlineFillerPosition(){const D=this.selection.getFirstPosition();return D.parent.is('text')?T.a.createBefore(this.selection.getFirstPosition().parent):D}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const D=this.selection.getFirstPosition(),z=this.domConverter.viewPositionToDom(D);return z&&this.domConverter.isText(z.parent)&&f.i(S.c)(z.parent)}_removeInlineFiller(){const D=this._inlineFiller;if(!f.i(S.c)(D))throw new N.a('view-renderer-filler-was-lost: The inline filler node was lost.');f.i(S.f)(D)?D.parentNode.removeChild(D):D.data=D.data.substr(S.d),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const D=this.selection.getFirstPosition(),z=D.parent,$=D.offset;if(!this.domConverter.getCorrespondingDomElement(z.root))return!1;if(!z.is('element'))return!1;if($===z.getFillerOffset())return!1;const q=D.nodeBefore,U=D.nodeAfter;return q instanceof C.a||U instanceof C.a?!1:!0}_updateText(D,z){const $=this.domConverter.getCorrespondingDom(D),q=this.domConverter.viewToDom(D,$.ownerDocument),U=$.data;let K=q.data;const H=z.inlineFillerPosition;H&&H.parent==D.parent&&H.offset==D.index&&(K=S.i+K),U!=K&&($.data=K)}_updateAttrs(D){const z=this.domConverter.getCorrespondingDom(D),$=Array.from(z.attributes).map((U)=>U.name),q=D.getAttributeKeys();for(let U of q)z.setAttribute(U,D.getAttribute(U));for(let U of $)D.hasAttribute(U)||z.removeAttribute(U)}_updateChildren(D,z){function $(J,X){if(J===X)return!0;return q.isText(J)&&q.isText(X)?J.data===X.data:f.i(S.e)(J,q.blockFiller)&&f.i(S.e)(X,q.blockFiller)}const q=this.domConverter,U=q.getCorrespondingDom(D);if(U){const K=U.ownerDocument,H=z.inlineFillerPosition,Y=U.childNodes,W=Array.from(q.viewChildrenToDom(D,K,{bind:!0}));if(H&&H.parent==D){const J=W[H.offset];this.domConverter.isText(J)?J.data=S.i+J.data:W.splice(H.offset,0,K.createTextNode(S.i))}const Z=f.i(O.a)(Y,W,$);let G=0;for(let J of Z)'insert'===J?(f.i(R.a)(U,G,W[G]),G++):'delete'===J?(this.domConverter.unbindDomElement(Y[G]),f.i(V.a)(Y[G])):G++}}_updateSelection(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const D=this.domConverter.getCorrespondingDomElement(this.selection.editableElement);this.isFocused&&D&&(this.selection.isFake?this._updateFakeSelection(D):(this._removeFakeSelection(),this._updateDomSelection(D)))}_updateFakeSelection(D){const z=D.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=z.createElement('div'),this._fakeSelectionContainer.style.position='fixed',this._fakeSelectionContainer.style.top=0,this._fakeSelectionContainer.style.left='-9999px',this._fakeSelectionContainer.appendChild(z.createTextNode('\xA0'))),this._fakeSelectionContainer.parentElement||D.appendChild(this._fakeSelectionContainer);const $=this.selection.fakeSelectionLabel||'\xA0';this._fakeSelectionContainer.firstChild.data=$;const q=z.getSelection();q.removeAllRanges();const U=new Range;U.selectNodeContents(this._fakeSelectionContainer),q.addRange(U),this.domConverter.bindFakeSelection(this._fakeSelectionContainer,this.selection)}_updateDomSelection(D){const z=D.ownerDocument.defaultView.getSelection(),$=z&&this.domConverter.domSelectionToView(z);if(!($&&this.selection.isEqual($))){if($&&h($,this.selection)){const K={oldSelection:$,currentSelection:this.selection};return void F.a.warn('renderer-skipped-selection-rendering: The selection was not rendered due to its similarity to the current one.',K)}const q=this.domConverter.viewPositionToDom(this.selection.anchor),U=this.domConverter.viewPositionToDom(this.selection.focus);z.collapse(q.parent,q.offset),z.extend(U.parent,U.offset)}}_removeDomSelection(){for(let D of this.domDocuments){const z=D.getSelection();if(z.rangeCount){const $=D.activeElement,q=this.domConverter.getCorrespondingViewElement($);$&&q&&D.getSelection().removeAllRanges()}}}_removeFakeSelection(){const D=this._fakeSelectionContainer;D&&D.remove()}_updateFocus(){if(this.isFocused){const D=this.selection.editableElement;D&&this.domConverter.focus(D)}}}u.a=M,f.i(E.a)(M,I.a)},function(r,u,f){'use strict';var h=f(0);class w{constructor(C,T,P){if(this.textNode=C,0>T||T>C.data.length)throw new h.a('view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>P||T+P>C.data.length)throw new h.a('view-textproxy-wrong-length: Given length value is incorrect.');this.data=C.data.substring(T,T+P),this.offsetInText=T}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(C){return'textProxy'==C}getAncestors(C={includeNode:!1,parentFirst:!1}){const T=[];for(let P=C.includeNode?this.textNode:this.parent;null!==P;)T[C.parentFirst?'push':'unshift'](P),P=P.parent;return T}}u.a=w},function(r,u,f){'use strict';function h(S,E,O,R){const V=O.isCollapsed,F=O.getFirstRange(),I=F.start.parent,N=F.end.parent;if(!(R.limits.has(I.name)||R.limits.has(N.name))){if(I.root==I)return void(V||S.deleteContent(O,E));if(V)w(E,O,F.start);else{const M=F.start.isAtStart&&F.end.isAtEnd;S.deleteContent(O,E,{merge:M}),M||(I==N?w(E,O,O.focus):O.collapse(N))}}}function w(S,E,O){if(O.isAtEnd){const R=O.parent,V=new R.constructor(R.name,R.getAttributes());S.insert(T.a.createAfter(O.parent),V)}else S.split(O);E.collapse(O.parent.nextSibling)}var C=f(12),T=f(1);class P extends C.a{_doExecute(){const S=this.editor.document,E=S.batch();S.enqueueChanges(()=>{h(this.editor.data,E,S.selection,S.schema),this.fire('afterExecute',{batch:E})})}}u.a=P},function(r,u,f){'use strict';var h=f(52),w=f(118),C=f(22);class T extends h.a{constructor(P){super(P),P.on('keydown',(S,E)=>{this.isEnabled&&E.keyCode==C.b.enter&&P.fire('enter',new w.a(P,E.domEvent))})}observe(){}}u.a=T},function(r,u,f){'use strict';var h=f(2),w=f(12),C=f(59),T=f(1),P=f(81);class S extends w.a{constructor(E,O){super(E),Object.assign(this,O),this.set('value',!1),this.listenTo(E.document,'changesDone',()=>{this.refreshValue(),this.refreshState()})}_doExecute(E={}){const O=this.editor,R=O.document,V=this.value;R.enqueueChanges(()=>{const F=E.batch||R.batch();for(let I of R.selection.getSelectedBlocks())if(!V)I.is(this.modelElement)||F.rename(I,this.modelElement);else if(I.is(this.modelElement)){const N=new C.a;N.addRange(h.a.createIn(I)),O.execute('paragraph',{selection:N,batch:F})}})}refreshValue(){const E=f.i(P.a)(this.editor.document.selection.getSelectedBlocks());this.value=!!E&&E.is(this.modelElement)}_checkEnabled(){const E=f.i(P.a)(this.editor.document.selection.getSelectedBlocks());return!!E&&this.editor.document.schema.check({name:this.modelElement,inside:T.a.createBefore(E)})}}u.a=S},function(r,u,f){'use strict';function C(E,O,R,V){const F=E.name.split(':'),I=F[0]+':'+F[1];if(R.consume(O.item,I)){const N=V.mapper.toViewElement(O.item),M=N.getChild(0);'removeAttribute'==F[0]?M.removeAttribute(O.attributeKey):M.setAttribute(O.attributeKey,O.attributeNewValue)}}var T=f(5),P=f(1),S=f(13);u.b=function(){return(E,O,R,V)=>{const F=O.input;if(R.test(F,{name:!0,class:'image'})&&V.schema.check({name:'image',inside:O.context,attributes:'src'})){const I=F.getChild(0);if(I&&'img'==I.name&&R.test(I,{name:!0,attribute:'src'})){R.consume(F,{name:!0,class:'image'}),R.consume(I,{name:!0,attribute:'src'});const N=new T.a('image',{src:I.getAttribute('src')});R.consume(I,{attribute:['alt']})&&N.setAttribute('alt',I.getAttribute('alt')),O.context.push(N);const M=V.convertChildren(F,R,O),D=P.a.createAt(N,'end');S.a.insert(D,M),O.context.pop(),O.output=N}}}},u.a=function(E,O){for(let R of E)R.on(`addAttribute:${O}:image`,C),R.on(`changeAttribute:${O}:image`,C),R.on(`removeAttribute:${O}:image`,C)}},function(r,u,f){'use strict';function h($,q,U,K){if('insert'===q){const H=new S.a({boundaries:U.range,ignoreElementEnd:!0});for(let Y of H){const W=Y.item;'elementStart'==Y.type&&f.i(M.b)(W)&&!f.i(D.c)(W)&&K.document.enqueueChanges(()=>{f.i(D.c)(W)||K.insert(F.a.createAt(W,'end'),new E.a('caption'))})}}}function w($,q=!0){return(U,K,H,Y)=>{const W=K.item;if((W.childCount||q)&&f.i(M.b)(W.parent)){if(!H.consume(K.item,'insert'))return;const Z=Y.mapper.toViewElement(K.range.start.parent),G=$ instanceof R.a?$.clone(!0):$();W.childCount||G.addClass('ck-hidden'),C(G,K.item,Z,Y.mapper)}}}function C($,q,U,K){const H=I.a.createAt(U,'end');V.a.insert(H,$),K.bindElements(q,$)}function T($){const q=$.getAncestors({includeNode:!0}),U=q.find((K)=>'caption'==K.name);return U&&U.parent&&'image'==U.parent.name?U:null}var P=f(3),S=f(35),E=f(5),O=f(41),R=f(21),V=f(78),F=f(1),I=f(25),N=f(50),M=f(42),D=f(374);class z extends P.a{init(){const $=this.editor,q=$.document,U=$.editing.view,K=q.schema,H=$.data,Y=$.editing,W=$.t;this._createCaption=f.i(D.a)(U,W('Enter image caption')),K.registerItem('caption'),K.allow({name:'$inline',inside:'caption'}),K.allow({name:'caption',inside:'image'}),K.limits.add('caption'),q.on('change',h),f.i(N.a)().for(H.viewToModel).from(D.b).toElement('caption'),H.modelToView.on('insert:caption',w(new O.a('figcaption'),!1)),Y.modelToView.on('insert:caption',w(this._createCaption)),Y.modelToView.on('insert',(Z,G)=>this._fixCaptionVisibility(G.item),{priority:'high'}),Y.modelToView.on('remove',(Z,G)=>this._fixCaptionVisibility(G.sourcePosition.parent),{priority:'high'}),this.listenTo(U,'render',()=>this._updateCaptionVisibility(),{priority:'high'})}_updateCaptionVisibility(){const $=this.editor.editing.mapper,q=this.editor.editing.view.selection,U=q.getSelectedElement();let K;if(this._lastSelectedCaption&&!this._lastSelectedCaption.childCount&&this._lastSelectedCaption.addClass('ck-hidden'),U&&f.i(M.a)(U)){const H=$.toModelElement(U),Y=f.i(D.c)(H);K=$.toViewElement(Y)}f.i(D.d)(q.editableElement)&&(K=q.editableElement),K&&(K.removeClass('ck-hidden'),this._lastSelectedCaption=K)}_fixCaptionVisibility($){const q=T($),U=this.editor.editing.mapper;if(q){const K=U.toViewElement(q);K&&(q.childCount?K.removeClass('ck-hidden'):K.addClass('ck-hidden'))}}}u.a=z},function(r,u,f){'use strict';var P=f(5),S=f(76),E=f(366),O=f(153);u.a=function(V,F){return()=>{const I=new S.a('figcaption');return I.document=V,I.setCustomProperty(R,!0),f.i(E.a)(I,F),f.i(O.c)(I)}},u.d=function(V){return!!V.getCustomProperty(R)},u.c=function(V){for(let F of V.getChildren())if(F instanceof P.a&&'caption'==F.name)return F;return null},u.b=function(V){const F=V.parent;return'figcaption'==V.name&&F&&'figure'==F.name&&F.hasClass('image')?{name:!0}:null};const R=Symbol('imageCaption')},function(r,u,f){'use strict';function C(O,R,V,F){const I=R.input,N=R.output;if(V.test(I,{class:O.className})&&f.i(E.b)(N)){const M=[...N.getAttributeKeys(),'imageStyle'];F.schema.check({name:'image',inside:R.context,attributes:M})&&(V.consume(I,{class:O.className}),N.setAttribute('imageStyle',O.value))}}function T(O,R){for(let V of R)if(V.value===O)return V}function P(O,R,V){return R&&('changeAttribute'==O||'removeAttribute'==O)&&(V.removeClass(R.className),!0)}function S(O,R,V){return R&&('addAttribute'==O||'changeAttribute'==O)&&(V.addClass(R.className),!0)}var E=f(42);u.a=function(O){return(R,V,F,I)=>{const N=R.name.split(':')[0],M=N+':imageStyle';if(F.test(V.item,M)){const D=T(V.attributeNewValue,O),z=T(V.attributeOldValue,O),$=I.mapper.toViewElement(V.item);(P(N,z,$)||S(N,D,$))&&F.consume(V.item,M)}}},u.b=function(O){const R=O.filter((V)=>null!==V.value);return(V,F,I,N)=>{for(let M of R)C(M,F,I,N)}}},function(r,u,f){'use strict';var h=f(12),w=f(42);class C extends h.a{constructor(T,P){super(T),this.set('value',!1),this.style=P,this.listenTo(T.document,'changesDone',()=>{this._updateValue(),this.refreshState()})}_updateValue(){const T=this.editor.document,P=T.selection.getSelectedElement();return P?void(null===this.style.value?this.value=!P.hasAttribute('imageStyle'):this.value=P.getAttribute('imageStyle')==this.style.value):void(this.value=!1)}_checkEnabled(){const T=this.editor.document.selection.getSelectedElement();return f.i(w.b)(T)}_doExecute(T={}){if(this.value)return;const P=this.editor,S=P.document,E=S.selection,O=E.getSelectedElement();S.enqueueChanges(()=>{const R=T.batch||S.batch();R.setAttribute(O,'imageStyle',this.style.value)})}}u.a=C},function(r,u,f){'use strict';var h=f(3),w=f(376),C=f(176),T=f(375),P=f(294),S=f.n(P),E=f(295),O=f.n(E);class R extends h.a{static get requires(){return[C.a]}init(){const V=this.editor,F=V.t,I=V.document,N=I.schema,M=V.data,D=V.editing;V.config.define('image.styles',[{name:'imageStyleFull',title:F('Full size image'),icon:S.a,value:null},{name:'imageStyleSide',title:F('Side image'),icon:O.a,value:'side',className:'image-style-side'}]);const z=V.config.get('image.styles');N.allow({name:'image',attributes:'imageStyle',inside:'$root'});const $=f.i(T.a)(z);D.modelToView.on('addAttribute:imageStyle:image',$),M.modelToView.on('addAttribute:imageStyle:image',$),D.modelToView.on('changeAttribute:imageStyle:image',$),M.modelToView.on('changeAttribute:imageStyle:image',$),D.modelToView.on('removeAttribute:imageStyle:image',$),M.modelToView.on('removeAttribute:imageStyle:image',$),M.viewToModel.on('element:figure',f.i(T.b)(z),{priority:'low'});for(let q of z)V.commands.set(q.name,new w.a(V,q))}}u.a=R},function(r,u,f){'use strict';var h=f(3),w=f(26),C=f(380),T=f(396),P=f(182),S=f(154),E=f(381),O=f(177),R=f(293),V=f.n(R),F=f(322),I=f.n(F);class N extends h.a{static get requires(){return[C.a]}static get pluginName(){return'image/imagetextalternative'}init(){this._createButton();const M=this.editor.config.get('image.defaultToolbar');return M&&(M.length&&M.push('|'),M.push('imageTextAlternative')),this._createBalloonPanel().then((D)=>{this.balloonPanel=D,this.form=D.content.get(0)})}_createButton(){const M=this.editor,D=M.commands.get('imageTextAlternative'),z=M.t;M.ui.componentFactory.add('imageTextAlternative',($)=>{const q=new w.a($);return q.set({label:z('Change image text alternative'),icon:V.a,tooltip:!0}),q.bind('isEnabled').to(D,'isEnabled'),this.listenTo(q,'execute',()=>this._showBalloonPanel()),q})}_createBalloonPanel(){const M=this.editor,D=new O.a(M),z=new E.a(M.locale);this.listenTo(z,'submit',()=>{M.execute('imageTextAlternative',{newValue:z.lebeledInput.inputView.element.value}),this._hideBalloonPanel()});const $=M.plugins.get(S.a);return $&&this.listenTo(D,'change:isVisible',()=>{D.isVisible?($.hide(),$.isEnabled=!1):($.show(),$.isEnabled=!0)}),this.listenTo(z,'cancel',()=>this._hideBalloonPanel()),f.i(T.a)({emitter:D,activator:()=>D.isVisible,callback:()=>this._hideBalloonPanel()}),f.i(P.a)({emitter:D,activator:()=>D.isVisible,contextElement:D.element,callback:()=>this._hideBalloonPanel()}),Promise.all([D.content.add(z),M.ui.view.body.add(D)]).then(()=>D)}_showBalloonPanel(){const M=this.editor,D=M.commands.get('imageTextAlternative');this.form.lebeledInput.value=D.value||'',this.balloonPanel.attach(),this.form.lebeledInput.select()}_hideBalloonPanel(){const M=this.editor;this.balloonPanel.detach(),M.editing.view.focus()}}u.a=N},function(r,u,f){'use strict';var h=f(12),w=f(42);class C extends h.a{constructor(T){super(T),this.set('value',!1),this.listenTo(T.document,'changesDone',()=>{this._updateValue(),this.refreshState()})}_updateValue(){const T=this.editor.document,P=T.selection.getSelectedElement();this.value=f.i(w.b)(P)&&P.hasAttribute('alt')&&P.getAttribute('alt')}_checkEnabled(){const T=this.editor.document.selection.getSelectedElement();return f.i(w.b)(T)}_doExecute(T){const P=this.editor,S=P.document,E=S.selection.getSelectedElement();S.enqueueChanges(()=>{const O=T.batch||S.batch();O.setAttribute(E,'alt',T.newValue)})}}u.a=C},function(r,u,f){'use strict';var h=f(379),w=f(3);class C extends w.a{init(){this.editor.commands.set('imageTextAlternative',new h.a(this.editor))}}u.a=C},function(r,u,f){'use strict';var h=f(9),w=f(26),C=f(6),T=f(185),P=f(184),S=f(183);class E extends h.a{constructor(O){super(O);const R=this.locale.t;this.lebeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(R('Save')),this.saveButtonView.type='submit',this.cancelButtonView=this._createButton(R('Cancel'),'cancel'),C.a.extend(this.saveButtonView.template,{attributes:{class:['ck-button-action']}}),this.template=new C.a({tag:'form',attributes:{class:['cke-text-alternative-form']},children:[this.lebeledInput,{tag:'div',attributes:{class:['cke-text-alternative-form__actions']},children:[this.saveButtonView,this.cancelButtonView]}]}),f.i(S.a)({view:this})}_createButton(O,R){const V=new w.a(this.locale);return V.label=O,V.withText=!0,R&&V.delegate('execute').to(this,R),V}_createLabeledInputView(){const O=this.locale.t,R=new T.a(this.locale,P.a);return R.label=O('Text alternative'),R}}u.a=E},function(r,u,f){'use strict';var h=f(12),w=f(24),C=f(2),T=f(101),P=f(159),S=f(178);class E extends h.a{constructor(O){super(O),this.set('value',void 0),this.listenTo(this.editor.document.selection,'change:attribute',()=>{this.value=this.editor.document.selection.getAttribute('linkHref')})}_checkEnabled(){const O=this.editor.document;return f.i(P.a)('linkHref',O.selection,O.schema)}_doExecute(O){const R=this.editor.document,V=R.selection;R.enqueueChanges(()=>{const F=R.batch();if(V.isCollapsed){const I=V.getFirstPosition(),N=I.parent;if(V.hasAttribute('linkHref')){const M=f.i(S.a)(V.getFirstPosition(),V.getAttribute('linkHref'));F.setAttribute(M,'linkHref',O),V.setRanges([M])}else if(R.schema.check({name:'$text',attributes:'linkHref',inside:N.name})){const M=new w.a(O,{linkHref:O});F.insert(I,M),V.setRanges([C.a.createOn(M)])}}else{const I=f.i(T.a)('linkHref',V.getRanges(),R.schema);for(let N of I)F.setAttribute(N,'linkHref',O)}})}}u.a=E},function(r,u,f){'use strict';var h=f(3),w=f(49),C=f(50),T=f(179),P=f(382),S=f(385);class E extends h.a{init(){const O=this.editor,R=O.data,V=O.editing;O.document.schema.allow({name:'$inline',attributes:'linkHref'}),f.i(w.a)().for(R.modelToView,V.modelToView).fromAttribute('linkHref').toElement((F)=>new T.a('a',{href:F})),f.i(C.a)().for(R.viewToModel).fromElement('a').toAttribute((F)=>({key:'linkHref',value:F.getAttribute('href')})),O.commands.set('link',new P.a(O)),O.commands.set('unlink',new S.a(O))}}u.a=E},function(r,u,f){'use strict';var h=f(9),w=f(6),C=f(120),T=f(26),P=f(185),S=f(184),E=f(183),O=f(66),R=f(119),V=f(67);class F extends h.a{constructor(I){super(I);const N=I.t;this.focusTracker=new O.a,this.keystrokes=new V.a,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(N('Save')),this.saveButtonView.type='submit',this.cancelButtonView=this._createButton(N('Cancel'),'cancel'),this.unlinkButtonView=this._createButton(N('Unlink'),'unlink'),this._focusables=new C.a,this._focusCycler=new R.a({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:'shift + tab',focusNext:'tab'}}),w.a.extend(this.saveButtonView.template,{attributes:{class:['ck-button-action']}}),this.template=new w.a({tag:'form',attributes:{class:['ck-link-form']},children:[this.urlInputView,{tag:'div',attributes:{class:['ck-link-form__actions']},children:[this.saveButtonView,this.cancelButtonView,this.unlinkButtonView]}]}),f.i(E.a)({view:this});const M=[this.urlInputView,this.saveButtonView,this.cancelButtonView,this.unlinkButtonView];M.forEach((D)=>{this._focusables.add(D),this.focusTracker.add(D.element)})}init(){return this.keystrokes.listenTo(this.element),super.init()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const I=this.locale.t,N=new P.a(this.locale,S.a);return N.label=I('Link URL'),N}_createButton(I,N){const M=new T.a(this.locale);return M.label=I,M.withText=!0,N&&M.delegate('execute').to(this,N),M}}u.a=F},function(r,u,f){'use strict';var h=f(12),w=f(178);class C extends h.a{constructor(T){super(T),this.listenTo(T.document.selection,'change:attribute',()=>this.refreshState())}_doExecute(){const T=this.editor.document,P=T.selection;T.enqueueChanges(()=>{const S=P.isCollapsed?[f.i(w.a)(P.getFirstPosition(),P.getAttribute('linkHref'))]:P.getRanges(),E=T.batch();for(let O of S)E.removeAttribute(O,'linkHref')})}_checkEnabled(){return this.editor.document.selection.hasAttribute('linkHref')}}u.a=C},function(r,u,f){'use strict';function N(te,ae,ne){const oe=te.nodeBefore;let ie=te.nodeAfter;if(ie&&'listItem'==ie.name){const re=oe&&oe.is('listItem')?oe.getAttribute('indent')+1:0;let se=ie.getAttribute('indent')-re;const le=[];for(;ie&&'listItem'==ie.name&&ie.getAttribute('indent')>re;){se>ie.getAttribute('indent')&&(se=ie.getAttribute('indent'));const de=ie.getAttribute('indent')-se;le.push({item:ie,indent:de}),ie=ie.nextSibling}0<le.length&&ae.enqueueChanges(()=>{for(let de of le.reverse())ne.setAttribute(de.item,'indent',de.indent)})}}function M(te,ae,ne,oe){let ie=te[ae?'nodeBefore':'nodeAfter'];if(!ie||!ie.is('listItem')||0===ie.getAttribute('indent'))return;const re=K(ie,!ae);if(!re||re==ie)return;const se=re.getAttribute('indent'),le=re.getAttribute('type');ne.enqueueChanges(()=>{for(;ie&&ie.is('listItem')&&ie.getAttribute('indent')>=se;)ie.getAttribute('type')!=le&&ie.getAttribute('indent')==se&&oe.setAttribute(ie,'type',le),ie=ie[ae?'previousSibling':'nextSibling']})}function D(te,ae){const ne='numbered'==te.getAttribute('type')?'ol':'ul',oe=new H.a,ie=new G.a(ne,null);return ie.appendChildren(oe),ae.bindElements(te,oe),oe}function z(te,ae){const ne=ae.getNext?'nextSibling':'previousSibling',oe=ae.getNext?'nodeAfter':'nodeBefore',ie=!!ae.checkAllSiblings,re=!!ae.sameIndent,se=!!ae.biggerIndent,le=!!ae.smallerIndent,de=!!ae.isMapped,ce=te instanceof Y.a?te.getAttribute('indent'):ae.indent;for(let ue=te instanceof Y.a?te[ne]:te[oe],pe;ue&&'listItem'==ue.name;){if(pe=ue.getAttribute('indent'),re&&ce==pe||se&&ce<pe||le&&ce>pe){if(!de||ae.mapper.toViewElement(ue))return ue;ue=ue[ne];continue}if(!ie)return null;ue=ue[ne]}return null}function $(te,ae){return te&&ae&&('ul'==te.name||'ol'==te.name)&&te.name==ae.name?ee.a.mergeContainers(J.a.createAfter(te)):null}function q(te,ae,ne,oe){const ie=ae.parent;let re,se=z(te,{sameIndent:!0,smallerIndent:!0,checkAllSiblings:!0});if(se&&se.getAttribute('indent')==te.getAttribute('indent')){let de=ne.toViewElement(se);re=ee.a.breakContainer(J.a.createAfter(de))}else se=te.previousSibling,re=se&&'listItem'==se.name?se.getAttribute('indent')<te.getAttribute('indent')?ne.toViewPosition(W.a.createAt(se,'end')):oe.parent.is('ul')||oe.parent.is('ol')?ee.a.breakContainer(oe):oe:ne.toViewPosition(W.a.createBefore(te));ee.a.insert(re,ie);const le=z(te,{biggerIndent:!0,getNext:!0,isMapped:!0,mapper:ne});if(le){let de=ne.toViewElement(le);ee.a.breakContainer(J.a.createBefore(de));const ce=J.a.createBefore(de.parent),ue=K(le,!1),pe=ne.toViewElement(ue),me=ee.a.breakContainer(J.a.createAfter(pe)),ge=new X.a(ce,me),fe=J.a.createAt(ae,'end');ee.a.move(ge,fe)}$(ie,ie.nextSibling),$(ie.previousSibling,ie)}function U(te,ae,ne,oe,ie){const re=z(ae,{sameIndent:!0,smallerIndent:!0,checkAllSiblings:!0,indent:te}),se=re?re.getAttribute('indent'):null;let le;if(!re)le=ne;else if(se==te){const de=ie.toViewElement(re).parent;le=J.a.createAfter(de)}else{const de=W.a.createAt(re,'end');le=ie.toViewPosition(de)}for(let de of[...oe.getChildren()])(de.is('ul')||de.is('ol'))&&(le=ee.a.move(X.a.createOn(de),le).end,$(de,de.nextSibling),$(de.previousSibling,de))}function K(te,ae){const ne=te.getAttribute('indent'),oe=ae?'previousSibling':'nextSibling';let ie=te;for(;te[oe]&&te[oe].is('listItem')&&te[oe].getAttribute('indent')>=ne;)te=te[oe],te.getAttribute('indent')==ne&&(ie=te);return ie}var H=f(389),Y=f(5),W=f(1),Z=f(13),G=f(41),J=f(25),X=f(36),Q=f(53),ee=f(78);u.e=function(te,ae,ne,oe){if(ne.test(ae.item,'insert')&&ne.test(ae.item,'addAttribute:type')&&ne.test(ae.item,'addAttribute:indent')){ne.consume(ae.item,'insert'),ne.consume(ae.item,'addAttribute:type'),ne.consume(ae.item,'addAttribute:indent');const ie=ae.item,re=D(ie,oe.mapper);q(ie,re,oe.mapper)}},u.f=function(te,ae,ne,oe){if(!ne.consume(ae.item,'changeAttribute:type'))return;const ie=oe.mapper.toViewElement(ae.item);ee.a.breakContainer(J.a.createBefore(ie)),ee.a.breakContainer(J.a.createAfter(ie));let re=ie.parent;const se='numbered'==ae.attributeNewValue?'ol':'ul';re=ee.a.rename(re,se),$(re,re.nextSibling),$(re.previousSibling,re)},u.g=function(te,ae,ne,oe){if(ne.consume(ae.item,'remove')){const ie=oe.mapper.toViewPosition(ae.sourcePosition),re=ie.nodeAfter.is('li')?ie.nodeAfter:ie.nodeAfter.getChild(0);ee.a.breakContainer(J.a.createBefore(re)),ee.a.breakContainer(J.a.createAfter(re));const se=re.parent,le=se.previousSibling,de=X.a.createOn(se);ee.a.remove(de),le&&le.nextSibling&&$(le,le.nextSibling),U(ae.item.getAttribute('indent')+1,ae.sourcePosition,de.start,re,oe.mapper),'$graveyard'==ae.item.root.rootName&&oe.mapper.unbindModelElement(ae.item)}},u.i=function(te,ae,ne,oe){if(!ne.consume(ae.item,'changeAttribute:indent'))return;const ie=oe.mapper.toViewElement(ae.item);ee.a.breakContainer(J.a.createBefore(ie)),ee.a.breakContainer(J.a.createAfter(ie));const re=ie.parent,se=re.previousSibling,le=X.a.createOn(re);ee.a.remove(le);let de;se&&se.nextSibling&&(de=$(se,se.nextSibling)),de||(de=le.start),U(ae.attributeOldValue+1,ae.range.start,le.start,ie,oe.mapper),q(ae.item,ie,oe.mapper,de)},u.d=function(te,ae,ne,oe){if('listItem'!=ae.item.name){let ie=oe.mapper.toViewPosition(ae.range.start);const re=[];for(;('ul'==ie.parent.name||'ol'==ie.parent.name)&&(ie=ee.a.breakContainer(ie),'li'==ie.parent.name);){const se=ie,le=J.a.createAt(ie.parent,'end');if(!se.isEqual(le)){const de=ee.a.remove(new X.a(se,le));re.push(de)}ie=J.a.createAfter(ie.parent)}if(0<re.length){for(let se=0;se<re.length;se++){const le=ie.nodeBefore,de=ee.a.insert(ie,re[se]);if(ie=de.end,0<se){let ce=$(le,le.nextSibling);ce&&ce.parent==le&&ie.offset--}}$(ie.nodeBefore,ie.nodeAfter)}}},u.h=function(te,ae,ne,oe){if(!ae.item.is('listItem')){const ie=oe.mapper.toViewPosition(ae.sourcePosition),re=ie.nodeBefore,se=ie.nodeAfter;$(re,se)}},u.l=function(te,ae,ne,oe){if(ne.consume(ae.input,{name:!0})){const ie=new Y.a('listItem');ae.indent=ae.indent?ae.indent:0;const re='ul'==ae.input.parent.name?'bulleted':'numbered';ie.setAttribute('type',re),ie.setAttribute('indent',ae.indent),ae.context.push(ie),ae.indent++;let se=[ie];for(let le of ae.input.getChildren()){const de=oe.convertItem(le,ne,ae);'ul'==le.name||'ol'==le.name?se=se.concat(Array.from(de.getChildren())):Z.a.insert(W.a.createAt(ie,'end'),de)}ae.indent--,ae.context.pop(),ae.output=se}},u.j=function(te,ae,ne){if(ne.test(ae.input,{name:!0})){const oe=Array.from(ae.input.getChildren());for(let ie of oe)ie.is('li')||ie.remove()}},u.k=function(te,ae,ne){if(ne.test(ae.input,{name:!0})){if(0===ae.input.childCount)return;const oe=[...ae.input.getChildren()];let ie=!1,re=!0;for(let se of oe)!ie||se.is('ul')||se.is('ol')||se.remove(),se.is('text')?(re&&(se.data=se.data.replace(/^\s+/,'')),(!se.nextSibling||se.nextSibling.is('ul')||se.nextSibling.is('ol'))&&(se.data=se.data.replace(/\s+$/,''))):(se.is('ul')||se.is('ol'))&&(ie=!0),re=!1}},u.b=function(te,ae){const ne=ae.modelPosition.nodeBefore;if(ne&&ne.is('listItem')){const oe=ae.mapper.toViewElement(ne),ie=oe.getAncestors().find((se)=>se.is('ul')||se.is('ol')),re=new Q.a({startPosition:J.a.createAt(oe,0)});for(let se of re)if('elementStart'==se.type&&se.item.is('li')){ae.viewPosition=se.previousPosition;break}else if('elementEnd'==se.type&&se.item==ie){ae.viewPosition=se.nextPosition;break}}},u.c=function(te,ae){const ne=ae.viewPosition,oe=ne.parent,ie=ae.mapper;if('ul'==oe.name||'ol'==oe.name){if(!ne.isAtEnd){const re=ie.toModelElement(ne.nodeAfter);ae.modelPosition=W.a.createBefore(re)}else{const re=ie.toModelElement(ne.nodeBefore),se=ie.getModelLength(ne.nodeBefore);ae.modelPosition=W.a.createBefore(re).getShiftedBy(se)}te.stop()}else if('li'==oe.name&&ne.nodeBefore&&('ul'==ne.nodeBefore.name||'ol'==ne.nodeBefore.name)){const re=ie.toModelElement(oe);let se=1,le=ne.nodeBefore;for(;le&&(le.is('ul')||le.is('ol'));)se+=ie.getModelLength(le),le=le.previousSibling;ae.modelPosition=W.a.createBefore(re).getShiftedBy(se),te.stop()}},u.a=function(te){return(ae,ne,oe,ie)=>{if('remove'==ne)N(oe.sourcePosition,te,ie),M(oe.sourcePosition,!1,te,ie);else if('move'==ne)N(oe.sourcePosition,te,ie),M(oe.sourcePosition,!1,te,ie),N(oe.range.start,te,ie),M(oe.range.start,!1,te,ie),N(oe.range.end,te,ie),M(oe.range.end,!0,te,ie);else if('rename'==ne&&'listItem'==oe.oldName&&'listItem'!=oe.newName){const re=oe.element;te.enqueueChanges(()=>{ie.removeAttribute(re,'indent').removeAttribute(re,'type')});const se=W.a.createAfter(oe.element);N(se,te,ie)}else'insert'==ne&&(N(oe.range.start,te,ie),M(oe.range.start,!1,te,ie),N(oe.range.end,te,ie),M(oe.range.end,!0,te,ie))}}},function(r,u,f){'use strict';function h(S,E){const O=w(S,!1);if(O)return void E.setAttribute(S,'type',O.getAttribute('type'));const R=w(S,!0);R&&E.setAttribute(S,'type',R.getAttribute('type'))}function w(S,E){for(let O=S[E?'nextSibling':'previousSibling'];O&&O.is('listItem')&&O.getAttribute('indent')>=S.getAttribute('indent');){if(O.getAttribute('indent')==S.getAttribute('indent'))return O;O=O[E?'nextSibling':'previousSibling']}return null}var C=f(12),T=f(81);class P extends C.a{constructor(S,E){super(S),this._indentBy='forward'==E?1:-1,this.listenTo(S.document,'changesDone',()=>{this.refreshState()})}_doExecute(){const S=this.editor.document,E=S.batch();let O=Array.from(S.selection.getSelectedBlocks());S.enqueueChanges(()=>{const R=O[O.length-1];for(let V=R.nextSibling;V&&'listItem'==V.name&&V.getAttribute('indent')>R.getAttribute('indent');)O.push(V),V=V.nextSibling;0>this._indentBy&&(O=O.reverse());for(let F of O){const I=F.getAttribute('indent')+this._indentBy;0>I?E.rename(F,'paragraph'):E.setAttribute(F,'indent',I)}0>this._indentBy&&(O=O.reverse());for(let F of O)h(F,E)})}_checkEnabled(){const S=f.i(T.a)(this.editor.document.selection.getSelectedBlocks());if(!S||!S.is('listItem'))return!1;if(0<this._indentBy){const E=S.getAttribute('indent'),O=S.getAttribute('type');for(let R=S.previousSibling;R&&R.is('listItem')&&R.getAttribute('indent')>=E;){if(R.getAttribute('indent')==E)return R.getAttribute('type')==O;R=R.previousSibling}return!1}return!0}}u.a=P},function(r,u,f){'use strict';function h(S,E,O){const R=E?S[0]:S[S.length-1];if(R.is('listItem'))for(let V=R[E?'previousSibling':'nextSibling'],F=R.getAttribute('indent');V&&V.is('listItem')&&V.getAttribute('indent')>=O;)F>V.getAttribute('indent')&&(F=V.getAttribute('indent')),V.getAttribute('indent')==F&&S[E?'unshift':'push'](V),V=V[E?'previousSibling':'nextSibling']}var w=f(12),C=f(1),T=f(81);class P extends w.a{constructor(S,E){super(S),this.type='bulleted'==E?'bulleted':'numbered',this.set('value',!1),this.listenTo(S.document,'changesDone',()=>{this.refreshValue(),this.refreshState()})}refreshValue(){const S=f.i(T.a)(this.editor.document.selection.getSelectedBlocks());this.value=S&&S.is('listItem')&&S.getAttribute('type')==this.type}_doExecute(S={}){const E=this.editor.document,O=Array.from(E.selection.getSelectedBlocks()),R=!0===this.value;E.enqueueChanges(()=>{const V=S.batch||E.batch();if(R){let F=O[O.length-1].nextSibling,I=_NumberPOSITIVE_INFINITY,N=[];for(;F&&'listItem'==F.name&&0!==F.getAttribute('indent');){const M=F.getAttribute('indent');M<I&&(I=M);const D=M-I;N.push({element:F,indent:D}),F=F.nextSibling}N=N.reverse();for(let M of N)V.setAttribute(M.element,'indent',M.indent)}if(!R){let F=_NumberPOSITIVE_INFINITY;for(let I of O)I.is('listItem')&&I.getAttribute('indent')<F&&(F=I.getAttribute('indent'));F=0===F?1:F,h(O,!0,F),h(O,!1,F)}for(let F of O.reverse())R&&'listItem'==F.name?V.rename(F,'paragraph'):R||'listItem'==F.name?R||'listItem'!=F.name||F.getAttribute('type')==this.type||V.setAttribute(F,'type',this.type):V.setAttribute(F,'type',this.type).setAttribute(F,'indent',0).rename(F,'listItem')})}_checkEnabled(){if(this.value)return!0;const S=this.editor.document.selection,E=this.editor.document.schema,O=f.i(T.a)(S.getSelectedBlocks());return!!O&&E.check({name:'listItem',attributes:['type','indent'],inside:C.a.createBefore(O)})}}u.a=P},function(r,u,f){'use strict';function h(){const T=!this.isEmpty&&('ul'==this.getChild(0).name||'ol'==this.getChild(0).name);return this.isEmpty||T?0:null}var w=f(41);class C extends w.a{constructor(T,P){super('li',T,P),this.getFillerOffset=h}}u.a=C},function(r,u,f){'use strict';var h=f(12),w=f(1),C=f(81);class T extends h.a{constructor(P){super(P),this.set('value',!1),this.listenTo(P.document,'changesDone',()=>{this.refreshValue(),this.refreshState()})}_doExecute(P={}){const S=this.editor.document;S.enqueueChanges(()=>{const E=P.batch||S.batch(),O=(P.selection||S.selection).getSelectedBlocks();for(let R of O)R.is('paragraph')||E.rename(R,'paragraph')})}refreshValue(){const P=f.i(C.a)(this.editor.document.selection.getSelectedBlocks());this.value=!!P&&P.is('paragraph')}_checkEnabled(){const P=f.i(C.a)(this.editor.document.selection.getSelectedBlocks());return!!P&&this.editor.document.schema.check({name:'paragraph',inside:w.a.createBefore(P)})}}u.a=T},function(r,u,f){'use strict';var h=f(3),w=f(392),C=f(393);class T extends h.a{static get pluginName(){return'typing/delete'}init(){const P=this.editor,S=P.editing.view;S.addObserver(C.a),P.commands.set('forwardDelete',new w.a(P,'forward')),P.commands.set('delete',new w.a(P,'backward')),this.listenTo(S,'delete',(E,O)=>{P.execute('forward'==O.direction?'forwardDelete':'delete',{unit:O.unit}),O.preventDefault()})}}u.a=T},function(r,u,f){'use strict';var h=f(12),w=f(59),C=f(181),T=f(188);class P extends h.a{constructor(S,E){super(S),this.direction=E,this._buffer=new C.a(S.document,S.config.get('typing.undoStep'))}_doExecute(S={}){const E=this.editor.document,O=this.editor.data;E.enqueueChanges(()=>{this._buffer.lock();const R=w.a.createFromSelection(E.selection);if(R.isCollapsed&&O.modifySelection(R,{direction:this.direction,unit:S.unit}),R.isCollapsed)return;let V=0;R.getFirstRange().getMinimalFlatRanges().forEach((F)=>{V+=f.i(T.a)(F.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),O.deleteContent(R,this._buffer.batch,{merge:!0}),this._buffer.input(V),E.selection.setRanges(R.getRanges(),R.isBackward),this._buffer.unlock()})}}u.a=P},function(r,u,f){'use strict';var h=f(52),w=f(118),C=f(22);class T extends h.a{constructor(P){super(P),P.on('keydown',(S,E)=>{const O={};if(E.keyCode==C.b.delete)O.direction='forward',O.unit='character';else if(E.keyCode==C.b.backspace)O.direction='backward',O.unit='codePoint';else return;O.unit=E.altKey?'word':O.unit,P.fire('delete',new w.a(P,E.domEvent,O))})}observe(){}}u.a=T},function(r,u,f){'use strict';function h(M){return!!M.ctrlKey||N.includes(M.keyCode)}function w(M,D){return M instanceof S.a&&D instanceof S.a?M.data===D.data:M===D}var C=f(3),T=f(2),P=f(25),S=f(29),E=f(189),O=f(418),R=f(22),V=f(395);class F extends C.a{static get pluginName(){return'typing/input'}init(){const M=this.editor,D=M.editing.view,z=new V.a(M,M.config.get('typing.undoStep')||20);M.commands.set('input',z),this.listenTo(D,'keydown',($,q)=>{this._handleKeydown(q,z.buffer)},{priority:'lowest'}),this.listenTo(D,'mutations',($,q,U)=>{this._handleMutations(q,U)})}_handleKeydown(M,D){const z=this.editor.document;h(M)||z.selection.isCollapsed||(D.lock(),z.enqueueChanges(()=>{this.editor.data.deleteContent(z.selection,D.batch)}),D.unlock())}_handleMutations(M,D){new I(this.editor).handle(M,D)}}u.a=F;class I{constructor(M){this.editor=M,this.editing=this.editor.editing}handle(M,D){for(let z of M)this._handleTextMutation(z,D),this._handleTextNodeInsertion(z)}_handleTextMutation(M,D){if('text'!=M.type)return;const z=M.newText.replace(/\u00A0/g,' '),$=M.oldText.replace(/\u00A0/g,' '),q=f.i(E.a)($,z);let U=null,K=null;for(let Q=0;Q<q.length;Q++){const ee=q[Q];'equal'!=ee&&(U=null==U?Q:U,K=Q)}let H=0,Y=0;for(let Q=U;Q<=K;Q++)'insert'!=q[Q]&&H++,'delete'!=q[Q]&&Y++;let W=null;D&&(W=this.editing.mapper.toModelRange(D.getFirstRange()));const Z=new P.a(M.node,U),G=this.editing.mapper.toModelPosition(Z),J=T.a.createFromPositionAndShift(G,H),X=z.substr(U,Y);this.editor.execute('input',{text:X,range:J,resultRange:W})}_handleTextNodeInsertion(M){if('children'==M.type&&1==M.newChildren.length-M.oldChildren.length){const D=f.i(E.a)(M.oldChildren,M.newChildren,w),z=f.i(O.a)(D,M.newChildren);if(!(1<z.length)){const $=z[0];if($.values[0]instanceof S.a){const q=new P.a(M.node,$.index),U=this.editing.mapper.toModelPosition(q),K=$.values[0].data;this.editor.execute('input',{text:K.replace(/\u00A0/g,' '),range:new T.a(U)})}}}}}const N=[f.i(R.c)('arrowUp'),f.i(R.c)('arrowRight'),f.i(R.c)('arrowDown'),f.i(R.c)('arrowLeft'),9,16,17,18,20,27,33,34,35,36,229];for(let M=112;135>=M;M++)N.push(M)},function(r,u,f){'use strict';var h=f(12),w=f(181);class C extends h.a{constructor(T,P){super(T),this._buffer=new w.a(T.document,P)}destroy(){super.destroy(),this._buffer.destroy(),this._buffer=null}get buffer(){return this._buffer}_doExecute(T={}){const P=this.editor.document,S=T.text||'',E=S.length,O=T.range||P.selection.getFirstRange(),R=T.resultRange;P.enqueueChanges(()=>{const V=O.isCollapsed;this._buffer.lock(),V||this._buffer.batch.remove(O),this._buffer.batch.weakInsert(O.start,S),R?this.editor.data.model.selection.setRanges([R]):V&&this.editor.data.model.selection.collapse(O.start.getShiftedBy(E)),this._buffer.unlock(),this._buffer.input(E)})}}u.a=C},function(r,u,f){'use strict';var w=f(22);u.a=function({emitter:C,activator:T,callback:P}){C.listenTo(document,'keydown',(S,{keyCode:E})=>{E==w.b.esc&&T()&&P()})}},function(r,u,f){'use strict';var h=f(0);u.a=class{constructor(C){this.editor=C,this._components=new Map}add(C,T){if(this._components.get(C))throw new h.a('componentfactory-item-exists: The item already exists in the component factory.',{name:C});this._components.set(C,T)}create(C){const T=this._components.get(C);if(!T)throw new h.a('componentfactory-item-missing: There is no such UI component in the factory.',{name:C});return T(this.editor.locale)}}},function(r,u,f){'use strict';var w=f(26),C=f(400),T=f(399);u.a=function(P,S){const E=new w.a(S);E.bind('label','isOn','isEnabled','withText','keystroke','tooltip').to(P);const O=new T.a(S);return new C.a(S,E,O)}},function(r,u,f){'use strict';var h=f(9),w=f(6);class C extends h.a{constructor(T){super(T);const P=this.bindTemplate;this.set('isVisible',!1),this.children=this.createCollection(),this.template=new w.a({tag:'div',attributes:{class:['ck-reset','ck-dropdown__panel',P.if('isVisible','ck-dropdown__panel-visible')]},children:this.children})}}u.a=C},function(r,u,f){'use strict';var h=f(9),w=f(6),C=f(66),T=f(67);class P extends h.a{constructor(S,E,O){super(S),w.a.extend(E.template,{attributes:{class:['ck-dropdown__button']}}),this.buttonView=E,this.panelView=O,this.set('isOpen',!1),this.focusTracker=new C.a,this.keystrokes=new T.a,this.template=new w.a({tag:'div',attributes:{class:['ck-dropdown']},children:[E,O]}),this.listenTo(E,'execute',()=>this.isOpen=!this.isOpen),O.bind('isVisible').to(this,'isOpen')}init(){this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);const S=(E,O)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,O())};return this.keystrokes.set('arrowdown',(E,O)=>{this.isOpen||(this.isOpen=!0,O())}),this.keystrokes.set('arrowright',(E,O)=>{this.isOpen&&O()}),this.keystrokes.set('arrowleft',S),this.keystrokes.set('esc',S),super.init()}focus(){this.buttonView.focus()}}u.a=P},function(r,u,f){'use strict';function w(S){S.listenTo(document,'click',(E,{target:O})=>{S.element==O||S.element.contains(O)||(S.isOpen=!1)})}var C=f(409),T=f(408),P=f(398);u.a=function(S,E){const O=f.i(P.a)(S,E),R=O.listView=new C.a(E);return R.items.bindTo(S.items).using((V)=>{const F=new T.a(E);return F.bind(...Object.keys(V)).to(V),F}),R.items.delegate('execute').to(O),O.panelView.children.add(R),O.on('change:isOpen',(V,F,I)=>{I?w(O):O.stopListening(document)}),O.on('execute',()=>{O.isOpen=!1}),O.keystrokes.set('arrowdown',(V,F)=>{O.isOpen&&(R.focus(),F())}),O.keystrokes.set('arrowup',(V,F)=>{O.isOpen&&(R.focusLast(),F())}),O}},function(r,u,f){'use strict';var h=f(9),w=f(6);class C extends h.a{constructor(T,P){super(T);const S=this.bindTemplate;P&&(this.element=this.editableElement=P),this.template=new w.a({tag:'div',attributes:{class:[S.to('isFocused',(E)=>E?'ck-focused':'ck-blurred'),'ck-editor__editable'],contenteditable:S.to('isReadOnly',(E)=>!E)}}),this.set('isReadOnly',!1),this.set('isFocused',!1),this.externalElement=P}init(){return this.externalElement?this.template.apply(this.externalElement):this.editableElement=this.element,super.init()}destroy(){return this.externalElement&&this.template.revert(this.externalElement),super.destroy()}}u.a=C},function(r,u,f){'use strict';var h=f(402),w=f(6);class C extends h.a{constructor(T,P){super(T,P);const S=this.bindTemplate,E=this.t;this.set('name',null);w.a.extend(this.template,{attributes:{role:'textbox','aria-label':S.to('name',(R)=>{return E('Rich Text Editor, %0',[R])}),class:'ck-editor__editable_inline'}})}}u.a=C},function(r,u,f){'use strict';var h=f(405),w=f(71),C=f(6);class T extends h.a{constructor(P){super(P);const S=this.t,E=f.i(w.a)();this.set('width',null),this.set('height',null),this.top=this.createCollection(),this.main=this.createCollection(),this.template=new C.a({tag:'div',attributes:{class:['ck-reset','ck-editor','ck-rounded-corners'],role:'application',dir:'ltr',lang:P.lang,'aria-labelledby':`cke-editor__aria-label_${E}`},children:[{tag:'span',attributes:{id:`cke-editor__aria-label_${E}`,class:'cke-voice-label'},children:[S('Rich Text Editor')]},{tag:'div',attributes:{class:'ck-editor__top ck-reset_all',role:'presentation'},children:this.top},{tag:'div',attributes:{class:'ck-editor__main',role:'presentation'},children:this.main}]})}}u.a=T},function(r,u,f){'use strict';var h=f(9),w=f(6);class C extends h.a{constructor(T){super(T),this.body=this.createCollection()}init(){return Promise.resolve().then(()=>this._renderBodyCollection()).then(()=>super.init())}destroy(){return this._bodyCollectionContainer.remove(),super.destroy()}_renderBodyCollection(){const T=this._bodyCollectionContainer=new w.a({tag:'div',attributes:{class:['ck-body','ck-rounded-corners','ck-reset_all']},children:this.body}).render();document.body.appendChild(T)}}u.a=C},function(r,u,f){'use strict';var h=f(9),w=f(6);class C extends h.a{constructor(){super();const T=this.bindTemplate;this.set('content'),this.set('viewBox','0 0 20 20'),this.template=new w.a({tag:'svg',ns:'http://www.w3.org/2000/svg',attributes:{class:'ck-icon',viewBox:T.to('viewBox')}}),this.on('change:content',(P,S,E)=>{for(const O=new DOMParser().parseFromString(E.trim(),'image/svg+xml').firstChild;0<O.childNodes.length;)this.element.appendChild(O.childNodes[0])})}}u.a=C},function(r,u,f){'use strict';var h=f(9),w=f(6);class C extends h.a{constructor(T){super(T),this.set('text'),this.set('for');const P=this.bindTemplate;this.template=new w.a({tag:'label',attributes:{class:['ck-label'],for:P.to('for')},children:[{text:P.to('text')}]})}}u.a=C},function(r,u,f){'use strict';var h=f(9),w=f(6);class C extends h.a{constructor(){super(),this.set('tabindex',-1);const T=this.bindTemplate;this.template=new w.a({tag:'li',attributes:{class:['ck-list__item',T.to('class'),T.if('isActive','ck-list__item_active')],style:T.to('style'),tabindex:T.to('tabindex')},children:[{text:T.to('label')}],on:{click:T.to('execute')}})}focus(){this.element.focus()}}u.a=C},function(r,u,f){'use strict';var h=f(9),w=f(6),C=f(66),T=f(119),P=f(67);class S extends h.a{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new C.a,this.keystrokes=new P.a,this._focusCycler=new T.a({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:'arrowup',focusNext:'arrowdown'}}),this.template=new w.a({tag:'ul',attributes:{class:['ck-reset','ck-list']},children:this.items}),this.items.on('add',(E,O)=>{this.focusTracker.add(O.element)}),this.items.on('remove',(E,O)=>{this.focusTracker.remove(O.element)})}init(){return this.keystrokes.listenTo(this.element),super.init()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}u.a=S},function(r,u,f){'use strict';var h=f(45),w=f(4),C=f(31);class T{constructor(P,S){S&&f.i(h.a)(this,S),P&&this.set(P)}}u.a=T,f.i(w.a)(T,C.a)},function(r,u){'use strict';u.a=function({origin:w,originKeystrokeHandler:C,originFocusTracker:T,toolbar:P}){T.add(P.element),C.set('Alt+F10',(S,E)=>{T.isFocused&&!P.focusTracker.isFocused&&(P.focus(),E())}),P.keystrokes.set('Esc',(S,E)=>{P.focusTracker.isFocused&&(w.focus(),E())})}},function(r,u,f){'use strict';var h=f(65),w=f(6),C=f(187),T=f(191);const P=f.i(T.a)('px');class S extends C.a{constructor(E){super(E);const O=this.bindTemplate;this.set('isActive',!1),this.set('isSticky',!1),this.set('limiterElement',null),this.set('limiterOffset',50),this.set('_marginLeft',null),this.set('_isStickyToTheLimiter',!1),w.a.extend(this.template,{attributes:{class:[O.if('isSticky','ck-toolbar_sticky'),O.if('_isStickyToTheLimiter','ck-toolbar_sticky_bottom-limit')],style:{width:O.to('isSticky',(R)=>{return R?P(this._elementPlaceholder.getBoundingClientRect().width):null}),bottom:O.to('_isStickyToTheLimiter',(R)=>{return R?P(this.limiterOffset):null}),marginLeft:O.to('_marginLeft')}}}),this._elementPlaceholder=new w.a({tag:'div',attributes:{class:['ck-toolbar__placeholder'],style:{display:O.to('isSticky',(R)=>R?'block':'none'),height:O.to('isSticky',(R)=>{return R?P(this._toolbarRect.height):null})}}}).render()}init(){super.init(),this.element.parentNode.insertBefore(this._elementPlaceholder,this.element),this.listenTo(h.a.window,'scroll',()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,'change:isActive',()=>{this._checkIfShouldBeSticky()})}destroy(){return super.destroy().then(()=>{this._elementPlaceholder.remove()})}_checkIfShouldBeSticky(){const E=this._limiterRect=this.limiterElement.getBoundingClientRect(),O=this._toolbarRect=this.element.getBoundingClientRect();this.isSticky=this.isActive&&0>E.top&&this._toolbarRect.height+this.limiterOffset<E.height,this.isSticky?(this._isStickyToTheLimiter=E.bottom<O.height+this.limiterOffset,this._marginLeft=this._isStickyToTheLimiter?null:P(-h.a.window.scrollX)):(this._isStickyToTheLimiter=!1,this._marginLeft=null)}}u.a=S},function(r,u,f){'use strict';var h=f(9),w=f(6);class C extends h.a{constructor(T){super(T),this.template=new w.a({tag:'span',attributes:{class:['ck-toolbar__separator']}})}}u.a=C},function(r,u,f){'use strict';var h=f(121),w=f(108);class C extends h.a{_doExecute(){const T=this._stack.pop();this.editor.document.enqueueChanges(()=>{const P=T.batch.deltas[T.batch.deltas.length-1],S=P.baseVersion+P.operations.length,E=Array.from(this.editor.document.history.getDeltas(S)).filter((O)=>{return!this._createdBatches.has(O.batch)});this._restoreSelection(T.selection.ranges,T.selection.isBackward,E),this._redo(T.batch)}),this.refreshState()}_redo(T){const P=this.editor.document,S=P.batch();this._createdBatches.add(S);const E=T.deltas.slice();E.reverse();for(let O of E){const R=O.baseVersion+O.operations.length;let V=[O.getReversed()];for(let F of P.history.getDeltas(R))this._createdBatches.has(F.batch)||(V=f.i(w.a)(V,[F],!0).deltasA);for(let F of V){F.baseVersion=P.version,S.addDelta(F);for(let I of F.operations)P.applyOperation(I)}}}}u.a=C},function(r,u,f){'use strict';var h=f(121),w=f(108);class C extends h.a{_doExecute(T=null){let P=T?this._stack.findIndex((E)=>E.batch==T):this._stack.length-1;const S=this._stack.splice(P,1)[0];this.editor.document.enqueueChanges(()=>{const E=this._undo(S.batch),O=this.editor.document.history.getDeltas(S.batch.baseVersion);this._restoreSelection(S.selection.ranges,S.selection.isBackward,O),this.fire('revert',S.batch,E)}),this.refreshState()}_getItemIndexFromBaseVersion(T){for(let P=0;P<this._stack.length;P++)if(this._stack[P].batch.baseVersion==T)return P;return null}_undo(T){const P=this.editor.document,S=P.batch();this._createdBatches.add(S);const E=P.history,O=T.deltas.slice();O.reverse();for(let R of O){const V=R.baseVersion,F=V+R.operations.length,I=E.getDelta(V);if(null===I)continue;I.reverse();let N=[];for(let D of I)N.push(D.getReversed());const M={};for(let D of E.getDeltas(F)){const z=this._getItemIndexFromBaseVersion(D.baseVersion);null!==z&&(this._stack[z].selection.ranges=f.i(h.b)(this._stack[z].selection.ranges,N));const $=f.i(w.a)(N,[D],!0);N=$.deltasA;const q=$.deltasB;M[D.baseVersion]||(M[D.baseVersion]=[]),M[D.baseVersion]=M[D.baseVersion].concat(q)}for(let D of N){D.baseVersion=P.version,S.addDelta(D);for(let z of D.operations)P.applyOperation(z)}E.removeDelta(V);for(let D of N)E.removeDelta(D.baseVersion);for(let D in M)E.updateDelta(+D,M[D])}return S}}u.a=C},function(r,u,f){'use strict';var h=f(3),w=f(415),C=f(414);class T extends h.a{constructor(P){super(P),this._batchRegistry=new WeakSet}init(){this._undoCommand=new w.a(this.editor),this._redoCommand=new C.a(this.editor),this.editor.commands.set('undo',this._undoCommand),this.editor.commands.set('redo',this._redoCommand),this.listenTo(this.editor.document,'change',(P,S,E,O)=>{this._batchRegistry.has(O)||'transparent'==O.type||(this._redoCommand._createdBatches.has(O)?this._undoCommand.addBatch(O):!this._undoCommand._createdBatches.has(O)&&(this._undoCommand.addBatch(O),this._redoCommand.clearStack()),this._batchRegistry.add(O))},{priority:'highest'}),this.listenTo(this._undoCommand,'revert',(P,S,E)=>{this._redoCommand.addBatch(E)})}}u.a=T},function(r,u,f){'use strict';var h=f(99);u.a=class{constructor(C,T){this._config={},T&&this.define(T),C&&this._setObjectToTarget(this._config,C)}set(C,T){this._setToTarget(this._config,C,T)}define(C,T){this._setToTarget(this._config,C,T,!0)}get(C){return this._getFromSource(this._config,C)}_setToTarget(C,T,P,S=!1){if(f.i(h.a)(T))return void this._setObjectToTarget(C,T,S);const E=T.split('.');T=E.pop();for(let O of E)f.i(h.a)(C[O])||(C[O]={}),C=C[O];return f.i(h.a)(P)?(f.i(h.a)(C[T])||(C[T]={}),C=C[T],void this._setObjectToTarget(C,P,S)):void(S&&'undefined'!=typeof C[T]||(C[T]=P))}_getFromSource(C,T){const P=T.split('.');T=P.pop();for(let S of P){if(!f.i(h.a)(C[S])){C=null;break}C=C[S]}return C?C[T]:void 0}_setObjectToTarget(C,T,P){Object.keys(T).forEach((S)=>{this._setToTarget(C,S,T[S],P)})}}},function(r,u){'use strict';u.a=function(w,C){function T(){O&&(S.push(O),O=null)}function P(R){return O&&O.type==R}const S=[];let E=0,O;return w.forEach((R)=>{'equal'==R?(T(),E++):'insert'==R?(P('insert')?O.values.push(C[E]):(T(),O={type:'insert',index:E,values:[C[E]]}),E++):P('delete')?O.howMany++:(T(),O={type:'delete',index:E,howMany:1})}),T(),S}},function(r,u,f){'use strict';var w=f(190);u.a=function(C,T){const P=f.i(w.a)(C),S=f.i(w.a)(T);let E=0;for(;P[E]==S[E]&&P[E];)E++;return 0==E?null:P[E-1]}},function(r,u){'use strict';u.a=function(w){return w instanceof HTMLTextAreaElement?w.value:w.innerHTML}},function(r,u,f){'use strict';var w=f(65);u.a=function(C){for(;C&&'html'!=C.tagName.toLowerCase();){if('static'!=w.a.window.getComputedStyle(C).position)return C;C=C.parentElement}return null}},function(r,u){'use strict';u.a=function(w){let C=0;for(;w.previousSibling;)w=w.previousSibling,C++;return C}},function(r,u){'use strict';u.a=function(w,C,T){w.insertBefore(T,w.childNodes[C]||null)}},function(r,u){'use strict';u.a=function(w){return'[object Range]'==Object.prototype.toString.apply(w)}},function(r,u,f){'use strict';function w(O,R,V){const{left:F,top:I,name:N}=O(R,V);return[N,V.clone().moveTo(F,I)]}function C(O,R,V,F,I){let N=0,M=0,D,z;const $=V.getArea();return O.some((q)=>{function U(){M=W,N=Y,D=H,z=K}const[K,H]=w(q,R,V);let Y,W;if(F)if(I){const Z=F.getIntersection(I);Y=Z?Z.getIntersectionArea(H):0}else Y=F.getIntersectionArea(H);return I&&(W=I.getIntersectionArea(H)),I&&!F?W>M&&U():!I&&F?Y>N&&U():W>M&&Y>=N?U():W>=M&&Y>N&&U(),Y===$}),D?[z,D]:null}function T({left:O,top:R}){const{scrollX:V,scrollY:F}=P.a.window;return{left:O+V,top:R+F}}var P=f(65),S=f(426),E=f(421);u.a=function({element:O,target:R,positions:V,limiter:F,fitInViewport:I}){const N=f.i(E.a)(O.parentElement),M=new S.a(O),D=new S.a(R);let z,$;if(!F&&!I)[$,z]=w(V[0],D,M);else{const K=F&&new S.a(F),H=I&&S.a.getViewportRect();[$,z]=C(V,D,M,K,H)||w(V[0],D,M)}let{left:q,top:U}=T(z);if(N){const K=T(new S.a(N)),H=P.a.window.getComputedStyle(N);q-=K.left,U-=K.top,q+=N.scrollLeft,U+=N.scrollTop,q-=parseInt(H.borderLeftWidth,10),U-=parseInt(H.borderTopWidth,10)}return{left:q,top:U,name:$}}},function(r,u,f){'use strict';var h=f(65),w=f(424),C=f(517);const T=['top','right','bottom','left','width','height'];class P{constructor(S){(f.i(C.a)(S)||f.i(w.a)(S))&&(S=S.getBoundingClientRect()),T.forEach((E)=>this[E]=S[E])}clone(){return new P(this)}moveTo(S,E){return this.top=E,this.right=S+this.width,this.bottom=E+this.height,this.left=S,this}moveBy(S,E){return this.top+=E,this.right+=S,this.left+=S,this.bottom+=E,this}getIntersection(S){const E={top:_Mathmax(this.top,S.top),right:_Mathmin(this.right,S.right),bottom:_Mathmin(this.bottom,S.bottom),left:_Mathmax(this.left,S.left)};return E.width=E.right-E.left,E.height=E.bottom-E.top,0>E.width||0>E.height?null:new P(E)}getIntersectionArea(S){const E=this.getIntersection(S);return E?E.getArea():0}getArea(){return this.width*this.height}static getViewportRect(){const{innerWidth:S,innerHeight:E}=h.a.window;return new P({top:0,right:S,bottom:E,left:0,width:S,height:E})}}u.a=P},function(r,u){'use strict';u.a=function(w){const C=w.parentNode;C&&C.removeChild(w)}},function(r,u){'use strict';u.a=function(w,C){w instanceof HTMLTextAreaElement&&(w.value=C),w.innerHTML=C}},function(r,u){'use strict';u.a=class{constructor(){this._replacedElements=[]}replace(w,C){this._replacedElements.push({element:w,newElement:C}),w.style.display='none',C&&w.parentNode.insertBefore(C,w.nextSibling)}restore(){this._replacedElements.forEach(({element:w,newElement:C})=>{w.style.display='',C&&C.remove()}),this._replacedElements=[]}}},function(r,u){'use strict';const w=navigator.userAgent.toLowerCase(),C={mac:function(T){return-1<T.indexOf('macintosh')}(w)};u.a=C},function(r,u,f){'use strict';var h=f(533);u.a=class{constructor(C,T){this.source=C,this.name=T,this.path=[],this.stop=f.i(h.a)(),this.off=f.i(h.a)()}}},function(r,u,f){'use strict';var h=f(54),w=f(30),C=f.i(h.a)(w.a,'DataView');u.a=C},function(r,u,f){'use strict';function h(E){var O=-1,R=E?E.length:0;for(this.clear();++O<R;){var V=E[O];this.set(V[0],V[1])}}var w=f(479),C=f(480),T=f(481),P=f(482),S=f(483);h.prototype.clear=w.a,h.prototype['delete']=C.a,h.prototype.get=T.a,h.prototype.has=P.a,h.prototype.set=S.a,u.a=h},function(r,u,f){'use strict';var h=f(54),w=f(30),C=f.i(h.a)(w.a,'Promise');u.a=C},function(r,u,f){'use strict';var h=f(30),w=h.a.Reflect;u.a=w},function(r,u,f){'use strict';var h=f(54),w=f(30),C=f.i(h.a)(w.a,'WeakMap');u.a=C},function(r,u){'use strict';u.a=function(w,C){return w.set(C[0],C[1]),w}},function(r,u){'use strict';u.a=function(w,C){return w.add(C),w}},function(r,u){'use strict';u.a=function(w,C){for(var T=-1,P=w.length;++T<P&&!(!1===C(w[T],T,w)););return w}},function(r,u){'use strict';u.a=function(w,C){for(var T=-1,P=w.length;++T<P;)if(C(w[T],T,w))return!0;return!1}},function(r,u,f){'use strict';var w=f(139),C=f(70);u.a=function(T,P){return T&&f.i(w.a)(P,f.i(C.a)(P),T)}},function(r,u,f){'use strict';var w=f(228);u.a=function(C,T){for(var P=-1,E=T.length,O=Array(E);++P<E;)O[P]=null==C?void 0:f.i(w.a)(C,T[P]);return O}},function(r,u){'use strict';u.a=function(w,C,T){return w===w&&(void 0!==T&&(w=w<=T?w:T),void 0!==C&&(w=w>=C?w:C)),w}},function(r,u,f){'use strict';var w=f(15),C=Object.create;u.a=function(T){return f.i(w.a)(T)?C(T):{}}},function(r,u,f){'use strict';var w=f(16),C=f(527);u.a=function(T,P,S,E){var O=T.length;for(S=f.i(w.a)(S),0>S&&(S=-S>O?0:O+S),E=void 0===E||E>O?O:f.i(w.a)(E),0>E&&(E+=O),E=S>E?0:f.i(C.a)(E);S<E;)T[S++]=P;return T}},function(r,u,f){'use strict';var w=f(85),C=f(11);u.a=function(T,P,S){var E=P(T);return f.i(C.a)(T)?E:f.i(w.a)(E,S(T))}},function(r,u){'use strict';u.a=function(w,C){return C in Object(w)}},function(r,u){'use strict';u.a=function(w,C,T,P){for(var S=T-1,E=w.length;++S<E;)if(P(w[S],C))return S;return-1}},function(r,u,f){'use strict';var w=f(123),C=f(205),T=f(473),P=f(474),S=f(141),E=f(11),O=f(91),R=f(519),F='[object Arguments]',I='[object Array]',N='[object Object]',M=Object.prototype,D=M.hasOwnProperty;u.a=function(z,$,q,U,K,H){var Y=f.i(E.a)(z),W=f.i(E.a)($),Z=I,G=I;Y||(Z=f.i(S.a)(z),Z=Z==F?N:Z),W||(G=f.i(S.a)($),G=G==F?N:G);var J=Z==N&&!f.i(O.a)(z),X=G==N&&!f.i(O.a)($),Q=Z==G;if(Q&&!J)return H||(H=new w.a),Y||f.i(R.a)(z)?f.i(C.a)(z,$,q,U,K,H):f.i(T.a)(z,$,Z,q,U,K,H);if(!(K&2)){var ee=J&&D.call(z,'__wrapped__'),te=X&&D.call($,'__wrapped__');if(ee||te){var ae=ee?z.value():z,ne=te?$.value():$;return H||(H=new w.a),q(ae,ne,U,K,H)}}return!!Q&&(H||(H=new w.a),f.i(P.a)(z,$,q,U,K,H))}},function(r,u,f){'use strict';var w=f(123),C=f(130);u.a=function(S,E,O,R){var V=O.length,F=V,I=!R;if(null==S)return!F;for(S=Object(S);V--;){var N=O[V];if(I&&N[2]?N[1]!==S[N[0]]:!(N[0]in S))return!1}for(;++V<F;){N=O[V];var M=N[0],D=S[M],z=N[1];if(!(I&&N[2])){var $=new w.a;if(R)var q=R(D,z,M,S,E,$);if(void 0===q?!f.i(C.a)(z,D,R,1|2,$):!q)return!1}else if(void 0===D&&!(M in S))return!1}return!0}},function(r,u){'use strict';var w=Object.keys;u.a=function(C){return w(Object(C))}},function(r,u,f){'use strict';function h(E){E=null==E?E:Object(E);var O=[];for(var R in E)O.push(R);return O}var w=f(435),C=f(489),T=Object.prototype,P=w.a?w.a.enumerate:void 0,S=T.propertyIsEnumerable;P&&!S.call({valueOf:1},'valueOf')&&(h=function(E){return f.i(C.a)(P(E))}),u.a=h},function(r,u,f){'use strict';var w=f(450),C=f(477),T=f(210);u.a=function(P){var S=f.i(C.a)(P);return 1==S.length&&S[0][2]?f.i(T.a)(S[0][0],S[0][1]):function(E){return E===P||f.i(w.a)(E,P,S)}}},function(r,u,f){'use strict';var w=f(130),C=f(228),T=f(515),P=f(55),S=f(209),E=f(210),O=f(56);u.a=function(F,I){return f.i(P.a)(F)&&f.i(S.a)(I)?f.i(E.a)(f.i(O.a)(F),I):function(N){var M=f.i(C.a)(N,F);return M===void 0&&M===I?f.i(T.a)(N,F):f.i(w.a)(I,M,void 0,1|2)}}},function(r,u,f){'use strict';var w=f(38);u.a=function(C,T){var P=C.length;if(P)return T+=0>T?P:0,f.i(w.a)(T,P)?C[T]:void 0}},function(r,u,f){'use strict';var w=f(127);u.a=function(C){return function(T){return f.i(w.a)(T,C)}}},function(r,u,f){'use strict';var w=f(68),C=f(89),T=f(38),P=f(55),S=f(15),E=f(56);u.a=function(O,R,V,F){R=f.i(P.a)(R,O)?[R]:f.i(C.a)(R);for(var I=-1,N=R.length,D=O,z;null!=D&&++I<N;){if(z=f.i(E.a)(R[I]),f.i(S.a)(D)){var $=V;if(I!=N-1){var q=D[z];$=F?F(q,z,D):void 0,void 0===$&&($=null==q?f.i(T.a)(R[I+1])?[]:{}:q)}f.i(w.a)(D,z,$)}D=D[z]}return O}},function(r,u,f){'use strict';var w=f(27);u.a=function(C,T){return f.i(w.a)(T,function(P){return[P,C[P]]})}},function(r,u,f){'use strict';var w=f(124),C=f(47),P=w.a?w.a.prototype:void 0,S=P?P.toString:void 0;u.a=function(E){if('string'==typeof E)return E;if(f.i(C.a)(E))return S?S.call(E):'';var O=E+'';return'0'==O&&1/E==-(1/0)?'-0':O}},function(r,u){'use strict';u.a=function(w){return w&&w.Object===Object?w:null}},function(r,u){'use strict';u.a=function(w,C){if(C)return w.slice();var T=new w.constructor(w.length);return w.copy(T),T}},function(r,u,f){'use strict';var w=f(138);u.a=function(C,T){var P=T?f.i(w.a)(C.buffer):C.buffer;return new C.constructor(P,C.byteOffset,C.byteLength)}},function(r,u,f){'use strict';var w=f(437),C=f(196),T=f(142);u.a=function(P,S,E){var O=S?E(f.i(T.a)(P),!0):f.i(T.a)(P);return f.i(C.a)(O,w.a,new P.constructor)}},function(r,u){'use strict';var w=/\w*$/;u.a=function(C){var T=new C.constructor(C.source,w.exec(C));return T.lastIndex=C.lastIndex,T}},function(r,u,f){'use strict';var w=f(438),C=f(196),T=f(95);u.a=function(P,S,E){var O=S?E(f.i(T.a)(P),!0):f.i(T.a)(P);return f.i(C.a)(O,w.a,new P.constructor)}},function(r,u,f){'use strict';var w=f(124),C=w.a?w.a.prototype:void 0,T=C?C.valueOf:void 0;u.a=function(P){return T?Object(T.call(P)):{}}},function(r,u,f){'use strict';var w=f(138);u.a=function(C,T){var P=T?f.i(w.a)(C.buffer):C.buffer;return new C.constructor(P,C.byteOffset,C.length)}},function(r,u,f){'use strict';var w=f(47);u.a=function(C,T){if(C!==T){var P=C!==void 0,S=null===C,E=C===C,O=f.i(w.a)(C),R=T!==void 0,V=null===T,F=T===T,I=f.i(w.a)(T);if(!V&&!I&&!O&&C>T||O&&R&&F&&!V&&!I||S&&R&&F||!P&&F||!E)return 1;if(!S&&!O&&!I&&C<T||I&&P&&E&&!S&&!O||V&&P&&E||!R&&E||!F)return-1}return 0}},function(r,u,f){'use strict';var w=f(139),C=f(206);u.a=function(T,P){return f.i(w.a)(T,f.i(C.a)(T),P)}},function(r,u,f){'use strict';var w=f(92),C=f(8);u.a=function(T){return f.i(C.a)(function(P,S){var E=-1,O=S.length,R=1<O?S[O-1]:void 0,V=2<O?S[2]:void 0;for(R=3<T.length&&'function'==typeof R?(O--,R):void 0,V&&f.i(w.a)(S[0],S[1],V)&&(R=3>O?void 0:R,O=1),P=Object(P);++E<O;){var F=S[E];F&&T(P,F,E,R)}return P})}},function(r,u,f){'use strict';var h=f(193),w=f(522),C=f(95),P=h.a&&1/f.i(C.a)(new h.a([,-0]))[1]==1/0?function(S){return new h.a(S)}:w.a;u.a=P},function(r,u,f){'use strict';var w=f(458),C=f(141),T=f(142),P=f(503);u.a=function(O){return function(R){var V=f.i(C.a)(R);return V=='[object Map]'?f.i(T.a)(R):V=='[object Set]'?f.i(P.a)(R):f.i(w.a)(R,O(R))}}},function(r,u,f){'use strict';var w=f(124),C=f(194),T=f(205),P=f(142),S=f(95),K=w.a?w.a.prototype:void 0,H=K?K.valueOf:void 0;u.a=function(Y,W,Z,G,J,X,Q){switch(Z){case'[object DataView]':if(Y.byteLength!=W.byteLength||Y.byteOffset!=W.byteOffset)return!1;Y=Y.buffer,W=W.buffer;case'[object ArrayBuffer]':return Y.byteLength==W.byteLength&&G(new C.a(Y),new C.a(W));case'[object Boolean]':case'[object Date]':return+Y==+W;case'[object Error]':return Y.name==W.name&&Y.message==W.message;case'[object Number]':return Y==+Y?Y==+W:W!=+W;case'[object RegExp]':case'[object String]':return Y==W+'';case'[object Map]':var ee=P.a;case'[object Set]':var te=X&2;if(ee||(ee=S.a),Y.size!=W.size&&!te)return!1;var ae=Q.get(Y);return ae?ae==W:(X|=1,Q.set(Y,W),f.i(T.a)(ee(Y),ee(W),G,J,X,Q));case'[object Symbol]':if(H)return H.call(Y)==H.call(W);}return!1}},function(r,u,f){'use strict';var w=f(199),C=f(70);u.a=function(P,S,E,O,R,V){var F=R&2,I=f.i(C.a)(P),N=I.length,M=f.i(C.a)(S),D=M.length;if(N!=D&&!F)return!1;for(var z=N,$;z--;)if($=I[z],F?!($ in S):!f.i(w.a)(S,$))return!1;var q=V.get(P);if(q)return q==S;var U=!0;V.set(P,S);for(var K=F;++z<N;){$=I[z];var H=P[$],Y=S[$];if(O)var W=F?O(Y,H,$,S,P,V):O(H,Y,$,P,S,V);if(void 0===W?!(H===Y||E(H,Y,O,R,V)):!W){U=!1;break}K||(K='constructor'==$)}if(U&&!K){var Z=P.constructor,G=S.constructor;Z!=G&&'constructor'in P&&'constructor'in S&&!('function'==typeof Z&&Z instanceof Z&&'function'==typeof G&&G instanceof G)&&(U=!1)}return V['delete'](P),U}},function(r,u,f){'use strict';var w=f(446),C=f(206),T=f(70);u.a=function(P){return f.i(w.a)(P,T.a,C.a)}},function(r,u,f){'use strict';var h=f(131),w=f.i(h.a)('length');u.a=w},function(r,u,f){'use strict';var w=f(209),C=f(528);u.a=function(T){for(var P=f.i(C.a)(T),S=P.length;S--;)P[S][2]=f.i(w.a)(P[S][1]);return P}},function(r,u,f){'use strict';var w=f(89),C=f(147),T=f(11),P=f(38),S=f(55),E=f(98),O=f(149),R=f(56);u.a=function(V,F,I){F=f.i(S.a)(F,V)?[F]:f.i(w.a)(F);for(var M=-1,D=F.length,N,z;++M<D&&(z=f.i(R.a)(F[M]),!!(N=null!=V&&I(V,z)));)V=V[z];if(N)return N;var D=V?V.length:0;return!!D&&f.i(E.a)(D)&&f.i(P.a)(z,D)&&(f.i(T.a)(V)||f.i(O.a)(V)||f.i(C.a)(V))}},function(r,u,f){'use strict';var w=f(94);u.a=function(){this.__data__=w.a?f.i(w.a)(null):{}}},function(r,u){'use strict';u.a=function(w){return this.has(w)&&delete this.__data__[w]}},function(r,u,f){'use strict';var w=f(94),T=Object.prototype,P=T.hasOwnProperty;u.a=function(S){var E=this.__data__;if(w.a){var O=E[S];return O==='__lodash_hash_undefined__'?void 0:O}return P.call(E,S)?E[S]:void 0}},function(r,u,f){'use strict';var w=f(94),C=Object.prototype,T=C.hasOwnProperty;u.a=function(P){var S=this.__data__;return w.a?S[P]!==void 0:T.call(S,P)}},function(r,u,f){'use strict';var w=f(94);u.a=function(T,P){var S=this.__data__;return S[T]=w.a&&void 0===P?'__lodash_hash_undefined__':P,this}},function(r,u){'use strict';var w=Object.prototype,C=w.hasOwnProperty;u.a=function(T){var P=T.length,S=T.constructor(P);return P&&'string'==typeof T[0]&&C.call(T,'index')&&(S.index=T.index,S.input=T.input),S}},function(r,u,f){'use strict';var w=f(138),C=f(462),T=f(463),P=f(464),S=f(465),E=f(466),O=f(467);u.a=function(Q,ee,te,ae){var ne=Q.constructor;return ee==='[object ArrayBuffer]'?f.i(w.a)(Q):ee==='[object Boolean]'||ee==='[object Date]'?new ne(+Q):ee==='[object DataView]'?f.i(C.a)(Q,ae):ee==='[object Float32Array]'||ee==='[object Float64Array]'||ee==='[object Int8Array]'||ee==='[object Int16Array]'||ee==='[object Int32Array]'||ee==='[object Uint8Array]'||ee==='[object Uint8ClampedArray]'||ee==='[object Uint16Array]'||ee==='[object Uint32Array]'?f.i(O.a)(Q,ae):ee==='[object Map]'?f.i(T.a)(Q,ae,te):ee==='[object Number]'||ee==='[object String]'?new ne(Q):ee==='[object RegExp]'?f.i(P.a)(Q):ee==='[object Set]'?f.i(S.a)(Q,ae,te):ee==='[object Symbol]'?f.i(E.a)(Q):void 0}},function(r,u,f){'use strict';var w=f(444),C=f(140),T=f(93);u.a=function(P){return'function'!=typeof P.constructor||f.i(T.a)(P)?{}:f.i(w.a)(f.i(C.a)(P))}},function(r,u,f){'use strict';var w=f(147),C=f(11);u.a=function(T){return f.i(C.a)(T)||f.i(w.a)(T)}},function(r,u){'use strict';u.a=function(w){var C=typeof w;return'string'==C||'number'==C||'symbol'==C||'boolean'==C?'__proto__'!==w:null===w}},function(r,u){'use strict';u.a=function(w){for(var T=[],C;!(C=w.next()).done;)T.push(C.value);return T}},function(r,u){'use strict';u.a=function(){this.__data__=[]}},function(r,u,f){'use strict';var w=f(86),C=Array.prototype,T=C.splice;u.a=function(P){var S=this.__data__,E=f.i(w.a)(S,P);if(0>E)return!1;var O=S.length-1;return E==O?S.pop():T.call(S,E,1),!0}},function(r,u,f){'use strict';var w=f(86);u.a=function(C){var T=this.__data__,P=f.i(w.a)(T,C);return 0>P?void 0:T[P][1]}},function(r,u,f){'use strict';var w=f(86);u.a=function(C){return-1<f.i(w.a)(this.__data__,C)}},function(r,u,f){'use strict';var w=f(86);u.a=function(C,T){var P=this.__data__,S=f.i(w.a)(P,C);return 0>S?P.push([C,T]):P[S][1]=T,this}},function(r,u,f){'use strict';var w=f(433),C=f(82),T=f(192);u.a=function(){this.__data__={hash:new w.a,map:new(T.a||C.a),string:new w.a}}},function(r,u,f){'use strict';var w=f(90);u.a=function(C){return f.i(w.a)(this,C)['delete'](C)}},function(r,u,f){'use strict';var w=f(90);u.a=function(C){return f.i(w.a)(this,C).get(C)}},function(r,u,f){'use strict';var w=f(90);u.a=function(C){return f.i(w.a)(this,C).has(C)}},function(r,u,f){'use strict';var w=f(90);u.a=function(C,T){return f.i(w.a)(this,C).set(C,T),this}},function(r,u,f){'use strict';var w=f(127),C=f(37);u.a=function(T,P){return 1==P.length?T:f.i(w.a)(T,f.i(C.a)(P,0,-1))}},function(r,u){'use strict';u.a=function(C){return this.__data__.set(C,'__lodash_hash_undefined__'),this}},function(r,u){'use strict';u.a=function(w){return this.__data__.has(w)}},function(r,u){'use strict';u.a=function(w){var C=-1,T=Array(w.size);return w.forEach(function(P){T[++C]=[P,P]}),T}},function(r,u,f){'use strict';var w=f(82);u.a=function(){this.__data__=new w.a}},function(r,u){'use strict';u.a=function(w){return this.__data__['delete'](w)}},function(r,u){'use strict';u.a=function(w){return this.__data__.get(w)}},function(r,u){'use strict';u.a=function(w){return this.__data__.has(w)}},function(r,u,f){'use strict';var w=f(82),C=f(122);u.a=function(P,S){var E=this.__data__;return E instanceof w.a&&E.__data__.length==200&&(E=this.__data__=new C.a(E.__data__)),E.set(P,S),this}},function(r,u,f){'use strict';var h=f(521),w=f(529),C=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,T=/\\(\\)?/g,P=f.i(h.a)(function(S){var E=[];return f.i(w.a)(S).replace(C,function(O,R,V,F){E.push(V?F.replace(T,'$1'):R||O)}),E});u.a=P},function(r,u,f){'use strict';var h=f(212),w=f(213),C=f(214),T=f(215),P=f(216),S=f(217),E=f(144),O=f(145),R=f(218),V=f(219),F=f(220),I=f(221),N=f(222),M=f(223),D=f(224),z=f(225),$=f(226),q=f(227),U=f(146),K=f(230),H=f(231),Y=f(232),W=f(233),Z=f(234),G=f(236),J=f(19),X=f(237),Q=f(238),ee=f(239),te=f(150),ae=f(240),ne=f(241),oe=f(242),ie=f(243),re=f(244),se=f(245),le=f(246),de=f(247),ce=f(248),ue=f(249),pe=f(250),me=f(251),ge=f(252),fe=f(253),he=f(254),be=f(255),_e=f(256),ke=f(257),ye=f(258),we=f(260),ve=f(261),xe=f(262),Ce=f(263),Ae=f(264),Te=f(265),Pe=f(100),Se=f(151),Ee=f(266),Oe=f(267),Re=f(268),Ve=f(269),Fe=f(270),Ie=f(271),Be=f(272),Ne=f(273);u.a={chunk:h.a,compact:w.a,concat:C.a,difference:T.a,differenceBy:P.a,differenceWith:S.a,drop:E.a,dropRight:O.a,dropRightWhile:R.a,dropWhile:V.a,fill:F.a,findIndex:I.a,findLastIndex:N.a,first:M.a,flatten:D.a,flattenDeep:z.a,flattenDepth:$.a,fromPairs:q.a,head:U.a,indexOf:K.a,initial:H.a,intersection:Y.a,intersectionBy:W.a,intersectionWith:Z.a,join:G.a,last:J.a,lastIndexOf:X.a,nth:Q.a,pull:ee.a,pullAll:te.a,pullAllBy:ae.a,pullAllWith:ne.a,pullAt:oe.a,remove:ie.a,reverse:re.a,slice:se.a,sortedIndex:le.a,sortedIndexBy:de.a,sortedIndexOf:ce.a,sortedLastIndex:ue.a,sortedLastIndexBy:pe.a,sortedLastIndexOf:me.a,sortedUniq:ge.a,sortedUniqBy:fe.a,tail:he.a,take:be.a,takeRight:_e.a,takeRightWhile:ke.a,takeWhile:ye.a,union:we.a,unionBy:ve.a,unionWith:xe.a,uniq:Ce.a,uniqBy:Ae.a,uniqWith:Te.a,unzip:Pe.a,unzipWith:Se.a,without:Ee.a,xor:Oe.a,xorBy:Re.a,xorWith:Ve.a,zip:Fe.a,zipObject:Ie.a,zipObjectDeep:Be.a,zipWith:Ne.a}},function(r,u,f){'use strict';var h=f(212),w=f(213),C=f(214),T=f(215),P=f(216),S=f(217),E=f(144),O=f(145),R=f(218),V=f(219),F=f(220),I=f(221),N=f(222),M=f(223),D=f(224),z=f(225),$=f(226),q=f(227),U=f(146),K=f(230),H=f(231),Y=f(232),W=f(233),Z=f(234),G=f(236),J=f(19),X=f(237),Q=f(238),ee=f(239),te=f(150),ae=f(240),ne=f(241),oe=f(242),ie=f(243),re=f(244),se=f(245),le=f(246),de=f(247),ce=f(248),ue=f(249),pe=f(250),me=f(251),ge=f(252),fe=f(253),he=f(254),be=f(255),_e=f(256),ke=f(257),ye=f(258),we=f(260),ve=f(261),xe=f(262),Ce=f(263),Ae=f(264),Te=f(265),Pe=f(100),Se=f(151),Ee=f(266),Oe=f(267),Re=f(268),Ve=f(269),Fe=f(270),Ie=f(271),Be=f(272),Ne=f(273),Me=f(510);f.d(u,'a',function(){return Me.a})},function(r,u,f){'use strict';var h=f(68),w=f(139),C=f(470),T=f(97),P=f(93),S=f(520),E=Object.prototype,O=E.propertyIsEnumerable,R=!O.call({valueOf:1},'valueOf'),V=f.i(C.a)(function(F,I){if(R||f.i(P.a)(I)||f.i(T.a)(I))return void f.i(w.a)(I,f.i(S.a)(I),F);for(var N in I)f.i(h.a)(F,N,I[N])});u.a=V},function(r,u,f){'use strict';var w=f(197);u.a=function(C,T){return f.i(w.a)(C,!0,!0,T)}},function(r,u){'use strict';u.a=function(w){return function(){return w}}},function(r,u,f){'use strict';var w=f(447),C=f(478);u.a=function(T,P){return null!=T&&f.i(C.a)(T,P,w.a)}},function(r,u,f){'use strict';(function(h){var w=f(514),C=f(30),T={'function':!0,object:!0},P=T[typeof exports]&&exports&&!exports.nodeType?exports:void 0,S=T[typeof h]&&h&&!h.nodeType?h:void 0,E=S&&S.exports===P?P:void 0,O=E?C.a.Buffer:void 0,R=O?function(V){return V instanceof O}:f.i(w.a)(!1);u.a=R}).call(u,f(158)(r))},function(r,u,f){'use strict';var w=f(46),C=f(99);u.a=function(T){return!!T&&1===T.nodeType&&f.i(w.a)(T)&&!f.i(C.a)(T)}},function(r,u,f){'use strict';var w=f(130);u.a=function(C,T){return f.i(w.a)(C,T)}},function(r,u,f){'use strict';var w=f(98),C=f(46),Q={};Q['[object Float32Array]']=Q['[object Float64Array]']=Q['[object Int8Array]']=Q['[object Int16Array]']=Q['[object Int32Array]']=Q['[object Uint8Array]']=Q['[object Uint8ClampedArray]']=Q['[object Uint16Array]']=Q['[object Uint32Array]']=!0,Q['[object Arguments]']=Q['[object Array]']=Q['[object ArrayBuffer]']=Q['[object Boolean]']=Q['[object DataView]']=Q['[object Date]']=Q['[object Error]']=Q['[object Function]']=Q['[object Map]']=Q['[object Number]']=Q['[object Object]']=Q['[object RegExp]']=Q['[object Set]']=Q['[object String]']=Q['[object WeakMap]']=!1;var ee=Object.prototype,te=ee.toString;u.a=function(ae){return f.i(C.a)(ae)&&f.i(w.a)(ae.length)&&!!Q[te.call(ae)]}},function(r,u,f){'use strict';var w=f(452),C=f(207),T=f(38),P=f(93),S=Object.prototype,E=S.hasOwnProperty;u.a=function(O){for(var R=-1,V=f.i(P.a)(O),F=f.i(w.a)(O),I=F.length,N=f.i(C.a)(O),D=N||[],z=D.length,$;++R<I;)$=F[R],!!N&&('length'==$||f.i(T.a)($,z))||'constructor'==$&&(V||!E.call(O,$))||D.push($);return D}},function(r,u,f){'use strict';function h(T,P){if('function'!=typeof T||P&&'function'!=typeof P)throw new TypeError(C);var S=function(){var E=arguments,O=P?P.apply(this,E):E[0],R=S.cache;if(R.has(O))return R.get(O);var V=T.apply(this,E);return S.cache=R.set(O,V),V};return S.cache=new(h.Cache||w.a),S}var w=f(122),C='Expected a function';h.Cache=w.a,u.a=h},function(r,u){'use strict';u.a=function(){}},function(r,u){'use strict';var h=Date.now;u.a=h},function(r,u,f){'use strict';var w=f(131),C=f(456),T=f(55),P=f(56);u.a=function(S){return f.i(T.a)(S)?f.i(w.a)(f.i(P.a)(S)):f.i(C.a)(S)}},function(r,u,f){'use strict';var w=f(143),C=f(15);u.a=function(P,S,E){var O=!0,R=!0;if('function'!=typeof P)throw new TypeError('Expected a function');return f.i(C.a)(E)&&(O='leading'in E?!!E.leading:O,R='trailing'in E?!!E.trailing:R),f.i(w.a)(P,S,{leading:O,maxWait:S,trailing:R})}},function(r,u,f){'use strict';var w=f(259),C=1/0;u.a=function(P){if(!P)return 0===P?P:0;if(P=f.i(w.a)(P),P===C||P===-C){var S=0>P?-1:1;return S*1.7976931348623157e308}return P===P?P:0}},function(r,u,f){'use strict';var w=f(443),C=f(16);u.a=function(P){return P?f.i(w.a)(f.i(C.a)(P),0,4294967295):0}},function(r,u,f){'use strict';var h=f(472),w=f(70),C=f.i(h.a)(w.a);u.a=C},function(r,u,f){'use strict';var w=f(459);u.a=function(C){return null==C?'':f.i(w.a)(C)}},function(r,u,f){'use strict';var h=f(534);u.a=class{constructor(C){this.lang=C||'en',this.t=(...T)=>this._t(...T)}_t(C,T){let P=f.i(h.a)(this.lang,C);return T&&(P=P.replace(/\%(\d+)/g,(S,E)=>{return E<T.length?T[E]:S})),P}}},function(r,u){'use strict';u.a=function(w,C){if(w.size!=C.size)return!1;for(let T of w.entries()){let P=JSON.stringify(T[1]),S=JSON.stringify(C.get(T[0]));if(P!==S)return!1}return!0}},function(r,u){'use strict';const h={get(w){return'number'==typeof w?w:this[w]||this.normal},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};u.a=h},function(r,u){'use strict';u.a=function(){return function w(){w.called=!0}}},function(r,u){'use strict';function C(S,E){return S in P&&E in P[S]}u.a=function(S,E){return C(S,E)?P[S][E]:E.replace(/ \[context: [^\]]+\]$/,'')};let P={}},function(r,u,f){'use strict';function h(z){return z==I.b.arrowright||z==I.b.arrowleft||z==I.b.arrowup||z==I.b.arrowdown}function w(z){return z==I.b.delete||z==I.b.backspace}function C(z){for(;z;){if(z instanceof R.a&&!(z instanceof V.a))return!0;z=z.parent}return!1}var T=f(3),P=f(364),S=f(2),E=f(59),O=f(5),R=f(76),V=f(173),F=f(153),I=f(22),N=f(325),M=f.n(N);class D extends T.a{static get pluginName(){return'widget/widget'}init(){const z=this.editor.editing.view;let $;this.editor.editing.modelToView.on('selection',(q,U,K,H)=>{$&&$.hasClass(F.d)&&$.removeClass(F.d);const Y=H.viewSelection,W=Y.getSelectedElement();W&&f.i(F.b)(W)&&(Y.setFake(!0,{label:f.i(F.e)(W)}),W.addClass(F.d),$=W)},{priority:'low'}),z.addObserver(P.a),this.listenTo(z,'mousedown',(...q)=>this._onMousedown(...q)),this.listenTo(z,'keydown',(...q)=>this._onKeydown(...q),{priority:'high'})}_onMousedown(z,$){const q=this.editor,U=q.editing.view;let K=$.target;if(C(K))return;if(!f.i(F.b)(K)&&(K=K.findAncestor(F.b),!K))return;$.preventDefault(),U.isFocused||U.focus();const H=q.editing.mapper.toModelElement(K);q.document.enqueueChanges(()=>{this._setSelectionOverElement(H)})}_onKeydown(z,$){const q=$.keyCode,U=q==I.b.delete||q==I.b.arrowdown||q==I.b.arrowright;(w(q)&&this._handleDelete(U)||h(q)&&this._handleArrowKeys(U))&&($.preventDefault(),z.stop())}_handleDelete(z){const $=this.editor.document,q=$.selection;if(!q.isCollapsed)return;const U=this._getObjectElementNextToSelection(z);if(U)return $.enqueueChanges(()=>{const K=q.anchor.parent;if(K.isEmpty){const H=$.batch();H.remove(K)}this._setSelectionOverElement(U)}),!0}_handleArrowKeys(z){const $=this.editor.document,q=$.schema,U=$.selection,K=U.getSelectedElement();if(K&&q.objects.has(K.name)){const Y=z?U.getLastPosition():U.getFirstPosition(),W=$.getNearestSelectionRange(Y,z?'forward':'backward');return W&&$.enqueueChanges(()=>{U.setRanges([W])}),!0}if(!U.isCollapsed)return;const H=this._getObjectElementNextToSelection(z);if(H instanceof O.a&&$.schema.objects.has(H.name))return $.enqueueChanges(()=>{this._setSelectionOverElement(H)}),!0}_setSelectionOverElement(z){this.editor.document.selection.setRanges([S.a.createOn(z)])}_getObjectElementNextToSelection(z){const $=this.editor.document,q=$.schema,U=$.selection,K=this.editor.data,H=E.a.createFromSelection(U);K.modifySelection(H,{direction:z?'forward':'backward'});const Y=z?H.focus.nodeBefore:H.focus.nodeAfter;return Y instanceof O.a&&q.objects.has(Y.name)?Y:null}}u.a=D}])});
//# sourceMappingURL=ckeditor.js.map