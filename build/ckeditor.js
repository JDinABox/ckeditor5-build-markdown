/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
var _NumberPOSITIVE_INFINITY=Number.POSITIVE_INFINITY,_Mathfloor=Math.floor,_Mathmax=Math.max,_Mathmin=Math.min;(function(s,d){if('object'==typeof exports&&'object'==typeof module)module.exports=d();else if('function'==typeof define&&define.amd)define([],d);else{var u=d();for(var f in u)('object'==typeof exports?exports:s)[f]=u[f]}})(this,function(){return function(r){function s(u){if(d[u])return d[u].exports;var f=d[u]={i:u,l:!1,exports:{}};return r[u].call(f.exports,f,f.exports,s),f.l=!0,f.exports}var d={};return s.m=r,s.c=d,s.i=function(u){return u},s.d=function(u,f,h){s.o(u,f)||Object.defineProperty(u,f,{configurable:!1,enumerable:!0,get:h})},s.n=function(u){var f=u&&u.__esModule?function(){return u['default']}:function(){return u};return s.d(f,'a',f),f},s.o=function(u,f){return Object.prototype.hasOwnProperty.call(u,f)},s.p='',s(s.s=323)}([function(r,s){'use strict';class u extends Error{constructor(f,h){h&&(f+=' '+JSON.stringify(h)),super(f),this.name='CKEditorError',this.data=h}static isCKEditorError(f){return f instanceof u}}s.a=u},function(r,s,d){'use strict';var u=d(53),f=d(18),h=d(56),w=d(0),T=d(27);class C{constructor(P,E){if(!P.is('element')&&!P.is('documentFragment'))throw new w.a('model-position-root-invalid: Position root invalid.');if(!(E instanceof Array)||0===E.length)throw new w.a('model-position-path-incorrect: Position path must be an Array with at least one item.',{path:E});E=P.getPath().concat(E),P=P.root,this.root=P,this.path=E}get offset(){return d.i(f.a)(this.path)}set offset(P){this.path[this.path.length-1]=P}get parent(){let P=this.root;for(let E=0;E<this.path.length-1;E++)P=P.getChild(P.offsetToIndex(this.path[E]));return P}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){const P=this.parent.getChild(this.index);return P instanceof T.a&&P.startOffset<this.offset?P:null}get nodeAfter(){return null===this.textNode?this.parent.getChild(this.index):null}get nodeBefore(){return null===this.textNode?this.parent.getChild(this.index-1):null}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(P){if(this.root!=P.root)return'different';const E=d.i(h.a)(this.path,P.path);return'same'===E?'same':'prefix'===E?'before':'extension'===E?'after':this.path[E]<P.path[E]?'before':'after'}getLastMatchingPosition(P,E={}){E.startPosition=this;const S=new u.a(E);return S.skip(P),S.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){return this.parent.is('documentFragment')?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonPath(P){if(this.root!=P.root)return[];const E=d.i(h.a)(this.path,P.path),S='string'==typeof E?_Mathmin(this.path.length,P.path.length):E;return this.path.slice(0,S)}getCommonAncestor(P){const E=this.getAncestors(),S=P.getAncestors();let O=0;for(;E[O]==S[O]&&E[O];)O++;return 0==O?null:E[O-1]}getShiftedBy(P){const E=C.createFromPosition(this),S=E.offset+P;return E.offset=0>S?0:S,E}isAfter(P){return'after'==this.compareWith(P)}isBefore(P){return'before'==this.compareWith(P)}isEqual(P){return'same'==this.compareWith(P)}isTouching(P){let E=null,S=null;const O=this.compareWith(P);switch(O){case'same':return!0;case'before':E=C.createFromPosition(this),S=C.createFromPosition(P);break;case'after':E=C.createFromPosition(P),S=C.createFromPosition(this);break;default:return!1;}for(let V=E.parent;E.path.length+S.path.length;){if(E.isEqual(S))return!0;if(E.path.length>S.path.length){if(E.offset!==V.maxOffset)return!1;E.path=E.path.slice(0,-1),V=V.parent,E.offset++}else{if(0!==S.offset)return!1;S.path=S.path.slice(0,-1)}}}_getTransformedByDeletion(P,E){const S=C.createFromPosition(this);if(this.root!=P.root)return S;if('same'==d.i(h.a)(P.getParentPath(),this.getParentPath())){if(P.offset<this.offset){if(P.offset+E>this.offset)return null;S.offset-=E}}else if('prefix'==d.i(h.a)(P.getParentPath(),this.getParentPath())){const O=P.path.length-1;if(P.offset<=this.path[O]){if(P.offset+E>this.path[O])return null;S.path[O]-=E}}return S}_getTransformedByInsertion(P,E,S){const O=C.createFromPosition(this);if(this.root!=P.root)return O;if('same'==d.i(h.a)(P.getParentPath(),this.getParentPath()))(P.offset<this.offset||P.offset==this.offset&&S)&&(O.offset+=E);else if('prefix'==d.i(h.a)(P.getParentPath(),this.getParentPath())){const V=P.path.length-1;P.offset<=this.path[V]&&(O.path[V]+=E)}return O}_getTransformedByMove(P,E,S,O,V){let R=this._getTransformedByDeletion(P,S);return E=E._getTransformedByDeletion(P,S),R=null===R||V&&R.isEqual(P)?this._getCombined(P,E):R._getTransformedByInsertion(E,S,O),R}_getCombined(P,E){const S=P.path.length-1,O=C.createFromPosition(E);return O.offset=O.offset+this.path[S]-P.offset,O.path=O.path.concat(this.path.slice(S+1)),O}static createAt(P,E){if(P instanceof C)return this.createFromPosition(P);const S=P;if('end'==E)E=S.maxOffset;else{if('before'==E)return this.createBefore(S);if('after'==E)return this.createAfter(S);E||(E=0)}return this.createFromParentAndOffset(S,E)}static createAfter(P){if(!P.parent)throw new w.a('model-position-after-root: You can not make position after root.',{root:P});return this.createFromParentAndOffset(P.parent,P.endOffset)}static createBefore(P){if(!P.parent)throw new w.a('model-position-before-root: You can not make position before root.',{root:P});return this.createFromParentAndOffset(P.parent,P.startOffset)}static createFromParentAndOffset(P,E){if(!P.is('element')&&!P.is('documentFragment'))throw new w.a('model-position-parent-incorrect: Position parent have to be a element or document fragment.');const S=P.getPath();return S.push(E),new this(P.root,S)}static createFromPosition(P){return new this(P.root,P.path.slice())}static fromJSON(P,E){if('$graveyard'===P.root)return new C(E.graveyard,P.path);if(!E.hasRoot(P.root))throw new w.a('model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.',{rootName:P.root});return new C(E.getRoot(P.root),P.path)}}s.a=C},function(r,s,d){'use strict';var u=d(19),f=d(4);class h{constructor(w){this.editor=w}destroy(){this.stopListening()}}s.a=h,d.i(f.a)(h,u.a)},function(r,s,d){'use strict';var u=d(1),f=d(53),h=d(0);class w{constructor(T,C=null){this.start=u.a.createFromPosition(T),this.end=C?u.a.createFromPosition(C):u.a.createFromPosition(T)}*[Symbol.iterator](){yield*new f.a({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}containsPosition(T){return T.isAfter(this.start)&&T.isBefore(this.end)}containsRange(T,C=!1){T.isCollapsed&&(C=!1);const P=this.containsPosition(T.start)||C&&this.start.isEqual(T.start),E=this.containsPosition(T.end)||C&&this.end.isEqual(T.end);return P&&E}isEqual(T){return this.start.isEqual(T.start)&&this.end.isEqual(T.end)}isIntersecting(T){return this.start.isBefore(T.end)&&this.end.isAfter(T.start)}getDifference(T){const C=[];return this.isIntersecting(T)?(this.containsPosition(T.start)&&C.push(new w(this.start,T.start)),this.containsPosition(T.end)&&C.push(new w(T.end,this.end))):C.push(w.createFromRange(this)),C}getIntersection(T){if(this.isIntersecting(T)){let C=this.start,P=this.end;return this.containsPosition(T.start)&&(C=T.start),this.containsPosition(T.end)&&(P=T.end),new w(C,P)}return null}getMinimalFlatRanges(){const T=[],C=this.start.getCommonPath(this.end).length,P=u.a.createFromPosition(this.start);for(let E=P.parent;P.path.length>C+1;){const S=E.maxOffset-P.offset;0!=S&&T.push(new w(P,P.getShiftedBy(S))),P.path=P.path.slice(0,-1),P.offset++,E=E.parent}for(;P.path.length<=this.end.path.length;){const S=this.end.path[P.path.length-1],O=S-P.offset;0!=O&&T.push(new w(P,P.getShiftedBy(O))),P.offset=S,P.path.push(0)}return T}getWalker(T={}){return T.boundaries=this,new f.a(T)}*getItems(T={}){T.boundaries=this,T.ignoreElementEnd=!0;const C=new f.a(T);for(const P of C)yield P.item}*getPositions(T={}){T.boundaries=this;const C=new f.a(T);yield C.position;for(const P of C)yield P.nextPosition}getTransformedByDelta(T){const C=[w.createFromRange(this)],P=new Set(['insert','move','remove','reinsert']);for(const E of T.operations)if(P.has(E.type))for(let S=0;S<C.length;S++){const O=C[S]._getTransformedByDocumentChange(E.type,T.type,E.targetPosition||E.position,E.howMany||E.nodes.maxOffset,E.sourcePosition);C.splice(S,1,...O),S+=O.length-1}return C}getTransformedByDeltas(T){const C=[w.createFromRange(this)];for(const P of T)for(let E=0;E<C.length;E++){const S=C[E].getTransformedByDelta(P);C.splice(E,1,...S),E+=S.length-1}for(let P=0;P<C.length;P++){const E=C[P];for(let S=P+1;S<C.length;S++){const O=C[S];(E.containsRange(O)||O.containsRange(E)||E.isEqual(O))&&C.splice(S,1)}}return C}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}_getTransformedByDocumentChange(T,C,P,E,S){if('insert'==T)return this._getTransformedByInsertion(P,E,!1,!1);const O=w.createFromPositionAndShift(S,E);if('merge'==C&&this.isCollapsed&&(this.start.isEqual(O.start)||this.start.isEqual(O.end)))return[new w(P.getShiftedBy(this.start.offset))];if(O.containsPosition(this.start)&&this.containsPosition(O.end)&&this.end.isAfter(P)){const V=this.start._getCombined(S,P._getTransformedByDeletion(S,E)),R=this.end._getTransformedByMove(S,P,E,!1,!1);return[new w(V,R)]}if((O.containsPosition(this.end)||O.end.isEqual(this.end))&&this.containsPosition(O.start)&&this.start.isBefore(P)){const V=this.start._getTransformedByMove(S,P,E,!0,!1),R=this.end._getCombined(S,P._getTransformedByDeletion(S,E));return[new w(V,R)]}return this._getTransformedByMove(S,P,E)}_getTransformedByInsertion(T,C,P=!1,E=!1){if(P&&this.containsPosition(T))return[new w(this.start,T),new w(T._getTransformedByInsertion(T,C,!0),this.end._getTransformedByInsertion(T,C,this.isCollapsed))];const S=w.createFromRange(this),O=!!S.isCollapsed||!E,V=!!S.isCollapsed||E;return S.start=S.start._getTransformedByInsertion(T,C,O),S.end=S.end._getTransformedByInsertion(T,C,V),[S]}_getTransformedByMove(T,C,P){if(this.isCollapsed){const N=this.start._getTransformedByMove(T,C,P,!0,!1);return[new w(N)]}let E;const S=new w(T,T.getShiftedBy(P)),O=this.getDifference(S);let V=null;const R=this.getIntersection(S);1==O.length?V=new w(O[0].start._getTransformedByDeletion(T,P),O[0].end._getTransformedByDeletion(T,P)):2==O.length&&(V=new w(this.start,this.end._getTransformedByDeletion(T,P)));const F=C._getTransformedByDeletion(T,P);return E=V?V._getTransformedByInsertion(F,P,null!==R):[],R&&E.push(new w(R.start._getCombined(S.start,F),R.end._getCombined(S.start,F))),E}static createFromPositionAndShift(T,C){const P=T,E=T.getShiftedBy(C);return 0<C?new this(P,E):new this(E,P)}static createFromParentsAndOffsets(T,C,P,E){return new this(u.a.createFromParentAndOffset(T,C),u.a.createFromParentAndOffset(P,E))}static createFromRange(T){return new this(T.start,T.end)}static createIn(T){return this.createFromParentsAndOffsets(T,0,T,T.maxOffset)}static createOn(T){return this.createFromPositionAndShift(u.a.createBefore(T),T.offsetSize)}static createFromRanges(T){if(0===T.length)throw new h.a('range-create-from-ranges-empty-array: At least one range has to be passed.');else if(1==T.length)return this.createFromRange(T[0]);const C=T[0];T.sort((S,O)=>{return S.start.isAfter(O.start)?1:-1});const P=T.indexOf(C),E=new this(C.start,C.end);for(let S=P-1;0<=S&&T[S].end.isEqual(E.start);S++)E.start=u.a.createFromPosition(T[S].start);for(let S=P+1;S<T.length&&T[S].start.isEqual(E.end);S++)E.end=u.a.createFromPosition(T[S].end);return E}static fromJSON(T,C){return new this(u.a.fromJSON(T.start,C),u.a.fromJSON(T.end,C))}}s.a=w},function(r,s){'use strict';s.a=function(f,...h){h.forEach((w)=>{Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w)).forEach((T)=>{if(!(T in f.prototype)){const C=Object.getOwnPropertyDescriptor(w,T);C.enumerable=!1,Object.defineProperty(f.prototype,T,C)}})})}},function(r,s,d){'use strict';function u(ie){return!!ie&&((ie.value&&(ie=ie.value),Array.isArray(ie))?ie.some(u):!!(ie instanceof ae))}function f(ie,re){return ie.map((se)=>{return se instanceof ae?se.getValue(re):se})}function h(ie,re,{node:se}){let le=f(ie,se);le=1==ie.length&&ie[0]instanceof oe?le[0]:le.reduce(N,''),D(le)?re.remove():re.set(le)}function w(ie){return{set(re){ie.textContent=re},remove(){ie.textContent=''}}}function T(ie,re,se){return{set(le){ie.setAttributeNS(se,re,le)},remove(){ie.removeAttributeNS(se,re)}}}function C(ie,re){return{set(se){ie.style[re]=se},remove(){ie.style[re]=null}}}function P(ie){const re=d.i(G.a)(ie,(se)=>{if(se&&(se instanceof ae||z(se)||L(se)||q(se)))return se});return re}function E(ie){if('string'==typeof ie?ie=V(ie):ie.text&&R(ie),ie.on&&(ie.eventListeners=O(ie.on),delete ie.on),!ie.text){ie.attributes&&S(ie.attributes);const re=new Q.a;if(ie.children)if(q(ie.children))re.add(ie.children);else for(const se of ie.children)z(se)||L(se)?re.add(se):re.add(new te(se));ie.children=re}return ie}function S(ie){for(const re in ie)ie[re].value&&(ie[re].value=[].concat(ie[re].value)),F(ie,re)}function O(ie){for(const re in ie)F(ie,re);return ie}function V(ie){return{text:[ie]}}function R(ie){Array.isArray(ie.text)||(ie.text=[ie.text])}function F(ie,re){Array.isArray(ie[re])||(ie[re]=[ie[re]])}function N(ie,re){return D(re)?ie:D(ie)?re:`${ie} ${re}`}function I(ie,re){for(const se in re)ie[se]?ie[se].push(...re[se]):ie[se]=re[se]}function M(ie,re){if(re.attributes&&(!ie.attributes&&(ie.attributes={}),I(ie.attributes,re.attributes)),re.eventListeners&&(!ie.eventListeners&&(ie.eventListeners={}),I(ie.eventListeners,re.eventListeners)),re.text&&ie.text.push(...re.text),re.children&&re.children.length){if(ie.children.length!=re.children.length)throw new $.a('ui-template-extend-children-mismatch: The number of children in extended definition does not match.');let se=0;for(const le of re.children)M(ie.children.get(se++),le)}}function D(ie){return!ie&&0!==ie}function L(ie){return ie instanceof J.a}function z(ie){return ie instanceof te}function q(ie){return ie instanceof Y.a}function H(){return{children:[],bindings:[],attributes:{}}}function W(ie){return'class'==ie||'style'==ie}var $=d(0),U=d(4),K=d(9),Q=d(87),J=d(7),Y=d(124),G=d(519),X=d(17),Z=d(42);class te{constructor(ie){Object.assign(this,E(P(ie))),this._isRendered=!1,this._revertData=null}render(){const ie=this._renderNode({intoFragment:!0});return this._isRendered=!0,ie}apply(ie){return this._revertData=H(),this._renderNode({node:ie,isApplying:!0,revertData:this._revertData}),ie}revert(ie){if(!this._revertData)throw new $.a('ui-template-revert-not-applied: Attempting reverting a template which has not been applied yet.');this._revertTemplateFromNode(ie,this._revertData)}static bind(ie,re){return{to(se,le){return new ne({eventNameOrFunction:se,attribute:se,observable:ie,emitter:re,callback:le})},if(se,le,de){return new oe({observable:ie,emitter:re,attribute:se,valueIfTrue:le,callback:de})}}}static extend(ie,re){ie._isRendered&&Z.a.warn('template-extend-render: Attempting to extend a template which has already been rendered.'),M(ie,E(P(re)))}_renderNode(ie){let re;if(re=ie.node?this.tag&&this.text:this.tag?this.text:!this.text,re)throw new $.a('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering new Node.');return this.text?this._renderText(ie):this._renderElement(ie)}_renderElement(ie){let re=ie.node;return re||(re=ie.node=document.createElementNS(this.ns||'http://www.w3.org/1999/xhtml',this.tag)),this._renderAttributes(ie),this._renderElementChildren(ie),this._setUpListeners(ie),re}_renderText(ie){let re=ie.node;return re?ie.revertData.text=re.textContent:re=ie.node=document.createTextNode(''),u(this.text)?this._bindToObservable({schema:this.text,updater:w(re),data:ie}):re.textContent=this.text.join(''),re}_renderAttributes(ie){let re,se,le,de;if(this.attributes){const ce=ie.node,ue=ie.revertData;for(re in this.attributes)if(le=ce.getAttribute(re),se=this.attributes[re],ue&&(ue.attributes[re]=le),de=d.i(X.a)(se[0])&&se[0].ns?se[0].ns:null,u(se)){const me=de?se[0].value:se;ue&&W(re)&&me.unshift(le),this._bindToObservable({schema:me,updater:T(ce,re,de),data:ie})}else'style'==re&&'string'!=typeof se[0]?this._renderStyleAttribute(se[0],ie):(ue&&le&&W(re)&&se.unshift(le),se=se.map((me)=>me?me.value||me:me).reduce((me,pe)=>me.concat(pe),[]).reduce(N,''),D(se)||ce.setAttributeNS(de,re,se))}}_renderStyleAttribute(ie,re){const se=re.node;for(const le in ie){const de=ie[le];u(de)?this._bindToObservable({schema:[de],updater:C(se,le),data:re}):se.style[le]=de}}_renderElementChildren(ie){const re=ie.node,se=ie.intoFragment?document.createDocumentFragment():re,le=ie.isApplying;let de=0;for(const ce of this.children)if(q(ce)){if(!le){ce.setParent(re);for(const ue of ce)se.appendChild(ue.element)}}else if(L(ce))le||se.appendChild(ce.element);else if(le){const ue=ie.revertData,me=H();ue.children.push(me),ce._renderNode({node:se.childNodes[de++],isApplying:!0,revertData:me})}else se.appendChild(ce.render());ie.intoFragment&&re.appendChild(se)}_setUpListeners(ie){if(this.eventListeners)for(const re in this.eventListeners){const se=this.eventListeners[re].map((le)=>{const[de,ce]=re.split('@');return le.activateDomEventListener(de,ce,ie)});ie.revertData&&ie.revertData.bindings.push(se)}}_bindToObservable({schema:ie,updater:re,data:se}){const le=se.revertData;h(ie,re,se);const de=ie.filter((ce)=>!D(ce)).filter((ce)=>ce.observable).map((ce)=>ce.activateAttributeListener(ie,re,se));le&&le.bindings.push(de)}_revertTemplateFromNode(ie,re){for(const se of re.bindings)for(const le of se)le();if(re.text)return void(ie.textContent=re.text);for(const se in re.attributes){const le=re.attributes[se];null===le?ie.removeAttribute(se):ie.setAttribute(se,le)}for(let se=0;se<re.children.length;++se)this._revertTemplateFromNode(ie.childNodes[se],re.children[se])}}s.a=te,d.i(U.a)(te,K.a);class ae{constructor(ie){Object.assign(this,ie)}getValue(ie){const re=this.observable[this.attribute];return this.callback?this.callback(re,ie):re}activateAttributeListener(ie,re,se){const le=()=>h(ie,re,se);return this.emitter.listenTo(this.observable,'change:'+this.attribute,le),()=>{this.emitter.stopListening(this.observable,'change:'+this.attribute,le)}}}class ne extends ae{activateDomEventListener(ie,re,se){const le=(de,ce)=>{(!re||ce.target.matches(re))&&('function'==typeof this.eventNameOrFunction?this.eventNameOrFunction(ce):this.observable.fire(this.eventNameOrFunction,ce))};return this.emitter.listenTo(se.node,ie,le),()=>{this.emitter.stopListening(se.node,ie,le)}}}class oe extends ae{getValue(ie){const re=super.getValue(ie);return!D(re)&&(this.valueIfTrue||!0)}}},function(r,s,d){'use strict';function u(P){return'string'==typeof P?[new w.a(P)]:(d.i(T.a)(P)||(P=[P]),Array.from(P).map((E)=>{return'string'==typeof E?new w.a(E):E}))}var f=d(61),h=d(80),w=d(27),T=d(47);class C extends f.a{constructor(P,E,S){super(E),this.name=P,this._children=new h.a,S&&this.insertChildren(0,S)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(P,E=null){return E?'element'==P&&E==this.name:'element'==P||P==this.name}getChild(P){return this._children.getNode(P)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(P){return this._children.getNodeIndex(P)}getChildStartOffset(P){return this._children.getNodeStartOffset(P)}clone(P=!1){const E=P?Array.from(this._children).map((S)=>S.clone(!0)):null;return new C(this.name,this.getAttributes(),E)}offsetToIndex(P){return this._children.offsetToIndex(P)}appendChildren(P){this.insertChildren(this.childCount,P)}insertChildren(P,E){E=u(E);for(const S of E)S.parent=this;this._children.insertNodes(P,E)}removeChildren(P,E=1){const S=this._children.removeNodes(P,E);for(const O of S)O.parent=null;return S}getNodeByPath(P){let E=this;for(const S of P)E=E.getChild(E.offsetToIndex(S));return E}toJSON(){const P=super.toJSON();if(P.name=this.name,0<this._children.length){P.children=[];for(const E of this._children)P.children.push(E.toJSON())}return P}static fromJSON(P){let E=null;if(P.children){E=[];for(const S of P.children)S.name?E.push(C.fromJSON(S)):E.push(w.a.fromJSON(S))}return new C(P.name,P.attributes,E)}}s.a=C},function(r,s,d){'use strict';var u=d(0),f=d(124),h=d(5),w=d(88),T=d(19),C=d(87),P=d(4),E=d(47);class S{constructor(O){this.locale=O,this.t=O&&O.t,this.set('ready',!1),this._viewCollections=new C.a,this._unboundChildren=this.createCollection(),this._viewCollections.on('add',(V,R)=>{R.locale=O})}get element(){return this._element?this._element:this.template?(this._addTemplateChildren(),this._element=this.template.render()):null}set element(O){this._element=O}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=h.a.bind(this,this)}createCollection(){const O=new f.a;return this._viewCollections.add(O),O}addChildren(O){d.i(E.a)(O)||(O=[O]),O.map((V)=>this._unboundChildren.add(V))}init(){if(this.ready)throw new u.a('ui-view-init-reinit: This View has already been initialized.');this._viewCollections.map((O)=>O.init()),this.ready=!0}destroy(){this.stopListening(),this._viewCollections.map((O)=>O.destroy())}_addTemplateChildren(){const O=(V)=>{if(V.children)for(const R of V.children)R instanceof S?this.addChildren(R):O(R)};O(this.template)}}s.a=S,d.i(P.a)(S,w.a),d.i(P.a)(S,T.a)},function(r,s,d){'use strict';var f=d(189),h=d(14),T=_Mathmax;s.a=function(C,P){if('function'!=typeof C)throw new TypeError('Expected a function');return P=T(void 0===P?C.length-1:d.i(h.a)(P),0),function(){for(var E=arguments,S=-1,O=T(E.length-P,0),V=Array(O);++S<O;)V[S]=E[P+S];switch(P){case 0:return C.call(this,V);case 1:return C.call(this,E[0],V);case 2:return C.call(this,E[0],E[1],V);}var R=Array(P+1);for(S=-1;++S<P;)R[S]=E[S];return R[P]=V,d.i(f.a)(C,this,R)}}},function(r,s,d){'use strict';function f(M,D){M[N]||(M[N]=D||d.i(V.a)())}function h(M){return M[N]}function w(M){return M._events||Object.defineProperty(M,'_events',{value:{}}),M._events}function T(){return{callbacks:[],childEvents:[]}}function C(M,D){const L=w(M);if(L[D])return;let z=D,q=null;const H=[];for(;''!==z&&!L[z];)L[z]=T(),H.push(L[z]),q&&L[z].childEvents.push(q),q=z,z=z.substr(0,z.lastIndexOf(':'));if(''!==z){for(const W of H)W.callbacks=L[z].callbacks.slice();L[z].childEvents.push(q)}}function P(M,D){const L=w(M)[D];if(!L)return[];let z=[L.callbacks];for(let q=0;q<L.childEvents.length;q++){const H=P(M,L.childEvents[q]);z=z.concat(H)}return z}function E(M,D){let L;return M._events&&(L=M._events[D])&&L.callbacks.length?L.callbacks:-1<D.indexOf(':')?E(M,D.substr(0,D.lastIndexOf(':'))):null}function S(M,D,L){for(let[z,q]of M){q?'function'==typeof q&&(q=q(D.name)):q=D.name;const H=new O.a(D.source,q);H.path=[...D.path],z.fire(H,...L)}}s.b=function(M,D){return M[F]&&M[F][D]?M[F][D].emitter:null},s.c=f;var O=d(437),V=d(72),R=d(537);const F=Symbol('listeningTo'),N=Symbol('emitterId'),I={on(M,D,L={}){C(this,M);const z=P(this,M),q=R.a.get(L.priority);D={callback:D,context:L.context||this,priority:q};for(const H of z){let W=!1;for(let $=0;$<H.length;$++)if(H[$].priority<q){H.splice($,0,D),W=!0;break}W||H.push(D)}},once(M,D,L){this.on(M,function(q,...H){q.off(),D.call(this,q,...H)},L)},off(M,D,L){const z=P(this,M);for(const q of z)for(let H=0;H<q.length;H++)q[H].callback==D&&(L&&L!=q[H].context||(q.splice(H,1),H--))},listenTo(M,D,L,z){let q,H;this[F]||(this[F]={});const W=this[F];h(M)||f(M);const $=h(M);(q=W[$])||(q=W[$]={emitter:M,callbacks:{}}),(H=q.callbacks[D])||(H=q.callbacks[D]=[]),H.push(L),M.on(D,L,z)},stopListening(M,D,L){const z=this[F];let q=M&&h(M);const H=z&&q&&z[q],W=H&&D&&H.callbacks[D];if(z&&(!M||H)&&(!D||W))if(L)M.off(D,L);else if(W){for(;L=W.pop();)M.off(D,L);delete H.callbacks[D]}else if(H){for(D in H.callbacks)this.stopListening(M,D);delete z[q]}else{for(q in z)this.stopListening(z[q].emitter);delete this[F]}},fire(M,...D){const L=M instanceof O.a?M:new O.a(this,M),z=L.name;let q=E(this,z);if(L.path.push(this),q){const H=[L,...D];q=Array.from(q);for(let W=0;W<q.length&&(q[W].callback.apply(q[W].context,H),L.off.called&&(delete L.off.called,this.off(z,q[W].callback,q[W].context)),!L.stop.called);W++);}if(this._delegations){const H=this._delegations.get(z),W=this._delegations.get('*');H&&S(H,L,D),W&&S(W,L,D)}return L.return},delegate(...M){return{to:(D,L)=>{this._delegations||(this._delegations=new Map);for(const z of M){const q=this._delegations.get(z);q?q.set(D,L):this._delegations.set(z,new Map([[D,L]]))}}}},stopDelegating(M,D){if(this._delegations)if(!M)this._delegations.clear();else if(!D)this._delegations.delete(M);else{const L=this._delegations.get(M);L&&L.delete(D)}}};s.a=I},function(r,s,d){'use strict';var f=d(459),h=d(460),w=d(224),T=d(12),C=d(530);s.a=function(P){return'function'==typeof P?P:null==P?w.a:'object'==typeof P?d.i(T.a)(P)?d.i(h.a)(P[0],P[1]):d.i(f.a)(P):d.i(C.a)(P)}},function(r,s,d){'use strict';var u=d(19),f=d(4);class h{constructor(w){function T(){this.isEnabled=!1}this.editor=w,this.set('value',void 0),this.set('isEnabled',!1),this.decorate('execute'),this.listenTo(this.editor.document,'changesDone',()=>{this.refresh()}),this.on('execute',(C)=>{this.isEnabled||C.stop()},{priority:'high'}),this.listenTo(w,'change:isReadOnly',(C,P,E)=>{E?(this.on('change:isEnabled',T,{priority:'lowest'}),this.isEnabled=!1):(this.off('change:isEnabled',T),this.refresh())})}refresh(){this.isEnabled=!0}execute(){}destroy(){this.stopListening()}}s.a=h,d.i(f.a)(h,u.a)},function(r,s){'use strict';var u=Array.isArray;s.a=u},function(r,s,d){'use strict';var f=d(104),h=d(51);s.a=function(w){return d.i(h.a)(w)&&d.i(f.a)(w)}},function(r,s,d){'use strict';var f=d(531);s.a=function(h){var w=d.i(f.a)(h),T=w%1;return w===w?T?w-T:w:0}},function(r,s,d){'use strict';s.b=function(w,T){if(h.prototype[w])throw new f.a('model-batch-register-taken: This batch method name is already taken.',{name:w});h.prototype[w]=T};var f=d(0);class h{constructor(w,T='default'){this.document=w,this.deltas=[],this.type=T}get baseVersion(){return 0<this.deltas.length?this.deltas[0].baseVersion:null}addDelta(w){return w.batch=this,this.deltas.push(w),w}*getOperations(){for(const w of this.deltas)yield*w.operations}}s.a=h},function(r,s,d){'use strict';var u=d(0),f=d(356);const h=new Map;s.a=class{static fromJSON(T,C){if(!h.has(T.__className))throw new u.a('delta-fromjson-no-deserializer: This delta has no defined deserializer',{name:T.__className});const P=h.get(T.__className),E=new P;for(const S of T.operations)E.addOperation(f.a.fromJSON(S,C));for(const S in T)'__className'!=S&&void 0===E[S]&&(E[S]=T[S]);return E}static register(T){h.set(T.className,T)}}},function(r,s){'use strict';s.a=function(f){var h=typeof f;return!!f&&('object'==h||'function'==h)}},function(r,s){'use strict';s.a=function(f){var h=f?f.length:0;return h?f[h-1]:void 0}},function(r,s,d){'use strict';function u(D){F in D||(Object.defineProperty(D,F,{value:new Map}),Object.defineProperty(D,N,{value:new Map}),Object.defineProperty(D,I,{value:new Map}))}function f(...D){const L=w(...D),z=Array.from(this._bindings.keys()),q=z.length;if(!L.callback&&1<L.to.length)throw new O.a('observable-bind-to-no-callback: Binding multiple observables only possible with callback.');if(1<q&&L.callback)throw new O.a('observable-bind-to-extra-callback: Cannot bind multiple attributes and use a callback in one binding.');L.to.forEach((H)=>{if(H.attrs.length&&H.attrs.length!==q)throw new O.a('observable-bind-to-attrs-length: The number of attributes must match.');H.attrs.length||(H.attrs=this._bindAttrs)}),this._to=L.to,L.callback&&(this._bindings.get(z[0]).callback=L.callback),E(this._observable,this._to),C(this),this._bindAttrs.forEach((H)=>{P(this._observable,H)})}function h(D){return D.every((L)=>'string'==typeof L)}function w(...D){if(!D.length)throw new O.a('observable-bind-to-parse-error: Invalid argument syntax in `to()`.');const L={to:[]};let z;return'function'==typeof D[D.length-1]&&(L.callback=D.pop()),D.forEach((q)=>{if('string'==typeof q)z.attrs.push(q);else if('object'==typeof q)z={observable:q,attrs:[]},L.to.push(z);else throw new O.a('observable-bind-to-parse-error: Invalid argument syntax in `to()`.')}),L}function T(D,L,z,q){const H=D[N],W=H.get(z),$=W||{};$[q]||($[q]=new Set),$[q].add(L),W||H.set(z,$)}function C(D){let L;D._bindings.forEach((z,q)=>{D._to.forEach((H)=>{L=H.attrs[z.callback?0:D._bindAttrs.indexOf(q)],z.to.push([H.observable,L]),T(D._observable,z,H.observable,L)})})}function P(D,L){const z=D[I],q=z.get(L);let H;q.callback?H=q.callback.apply(D,q.to.map((W)=>W[0][W[1]])):(H=q.to[0],H=H[0][H[1]]),D.hasOwnProperty(L)?D[L]=H:D.set(L,H)}function E(D,L){L.forEach((z)=>{const q=D[N];let H;q.get(z.observable)||D.listenTo(z.observable,'change',(W,$)=>{H=q.get(z.observable)[$],H&&H.forEach((U)=>{P(D,U.attr)})})})}var S=d(9),O=d(0),V=d(50),R=d(17);const F=Symbol('attributes'),N=Symbol('boundObservables'),I=Symbol('boundAttributes'),M={set(D,L){if(d.i(R.a)(D))return void Object.keys(D).forEach((q)=>{this.set(q,D[q])},this);u(this);const z=this[F];if(D in this&&!z.has(D))throw new O.a('observable-set-cannot-override: Cannot override an existing property.');Object.defineProperty(this,D,{enumerable:!0,configurable:!0,get(){return z.get(D)},set(q){const H=z.get(D);H===q&&z.has(D)||(z.set(D,q),this.fire('change:'+D,D,q,H))}}),this[D]=L},bind(...D){if(!D.length||!h(D))throw new O.a('observable-bind-wrong-attrs: All attributes must be strings.');if(new Set(D).size!==D.length)throw new O.a('observable-bind-duplicate-attrs: Attributes must be unique.');u(this);const L=this[I];D.forEach((q)=>{if(L.has(q))throw new O.a('observable-bind-rebind: Cannot bind the same attribute more that once.')});const z=new Map;return D.forEach((q)=>{const H={attr:q,to:[]};L.set(q,H),z.set(q,H)}),{to:f,_observable:this,_bindAttrs:D,_to:[],_bindings:z}},unbind(...D){if(!(F in this))return;const L=this[I],z=this[N];if(D.length){if(!h(D))throw new O.a('observable-unbind-wrong-attrs: Attributes must be strings.');D.forEach((q)=>{const H=L.get(q);let W,$,U,K;H.to.forEach((Q)=>{W=Q[0],$=Q[1],U=z.get(W),K=U[$],K.delete(H),K.size||delete U[$],Object.keys(U).length||(z.delete(W),this.stopListening(W,'change'))}),L.delete(q)})}else z.forEach((q,H)=>{this.stopListening(H,'change')}),z.clear(),L.clear()},decorate(D){const L=this[D];if(!L)throw new O.a('observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.',{object:this,methodName:D});this.on(D,(z,q)=>{z.return=L.apply(this,q)}),this[D]=function(...z){return this.fire(D,z)}}};s.a=M,d.i(V.a)(M,S.a)},function(r,s,d){'use strict';var u=d(70),f=d(16);class h{constructor(){this.batch=null,this.operations=[]}get baseVersion(){return 0<this.operations.length?this.operations[0].baseVersion:null}set baseVersion(w){for(const T of this.operations)T.baseVersion=w++}get _reverseDeltaClass(){return h}addOperation(w){return w.delta=this,this.operations.push(w),w}clone(){const w=new this.constructor;for(const T of this.operations)w.addOperation(T.clone());return w}getReversed(){const w=new this._reverseDeltaClass;for(const T of this.operations)w.addOperation(T.getReversed());w.operations.reverse();for(let T=0;T<w.operations.length;T++)w.operations[T].baseVersion=this.operations[this.operations.length-1].baseVersion+T+1;return w}toJSON(){const w=d.i(u.a)(this);return w.__className=this.constructor.className,delete w.batch,w}static get className(){return'engine.model.delta.Delta'}}s.a=h,f.a.register(h)},function(r,s,d){'use strict';function u(L,z){z=C(z);const q=z.reduce(($,U)=>$+U.offsetSize,0),H=L.parent;E(L);const W=L.index;return H.insertChildren(W,z),P(H,W+z.length),P(H,W),new F.a(L,L.getShiftedBy(q))}function f(L){if(!L.isFlat)throw new M.a('model-writer-remove-range-not-flat: Trying to remove a range that starts and ends in different element.');const z=L.start.parent;E(L.start),E(L.end);const q=z.removeChildren(L.start.index,L.end.index-L.start.index);return P(z,L.start.index),q}function C(L){const z=[];L instanceof Array||(L=[L]);for(let q=0;q<L.length;q++)if('string'==typeof L[q])z.push(new V.a(L[q]));else if(L[q]instanceof R.a)z.push(new V.a(L[q].data,L[q].getAttributes()));else if(L[q]instanceof N.a||L[q]instanceof I.a)for(const H of L[q])z.push(H);else L[q]instanceof O.a&&z.push(L[q]);for(let q=1;q<z.length;q++){const H=z[q],W=z[q-1];H instanceof V.a&&W instanceof V.a&&S(H,W)&&(z.splice(q-1,2,new V.a(W.data+H.data,W.getAttributes())),q--)}return z}function P(L,z){const q=L.getChild(z-1),H=L.getChild(z);if(q&&H&&q.is('text')&&H.is('text')&&S(q,H)){const W=new V.a(q.data+H.data,q.getAttributes());L.removeChildren(z-1,2),L.insertChildren(z-1,W)}}function E(L){const z=L.textNode,q=L.parent;if(z){const H=L.offset-z.startOffset,W=z.index;q.removeChildren(W,1);const $=new V.a(z.data.substr(0,H),z.getAttributes()),U=new V.a(z.data.substr(H),z.getAttributes());q.insertChildren(W,[$,U])}}function S(L,z){const q=L.getAttributes(),H=z.getAttributes();for(const W of q){if(W[1]!==z.getAttribute(W[0]))return!1;H.next()}return H.next().done}s.d=u,s.b=f,s.c=C;var O=d(61),V=d(27),R=d(63),F=d(3),N=d(35),I=d(80),M=d(0);s.a={insert:u,remove:f,move:function(L,z){if(!L.isFlat)throw new M.a('model-writer-move-range-not-flat: Trying to move a range that starts and ends in different element.');const q=this.remove(L);return z=z._getTransformedByDeletion(L.start,L.end.offset-L.start.offset),this.insert(z,q)},setAttribute:function(L,z,q){E(L.start),E(L.end);for(const H of L.getItems()){const W=H.is('textProxy')?H.textNode:H;null===q?W.removeAttribute(z):W.setAttribute(z,q),P(W.parent,W.index)}P(L.end.parent,L.end.index)},removeAttribute:function(L,z){this.setAttribute(L,z,null)},normalizeNodes:C}},function(r,s,d){'use strict';var u=d(55),f=d(56),h=d(0),w=d(83);class T{constructor(C,P){this.parent=C,this.offset=P}get nodeAfter(){return this.parent.is('text')?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is('text')?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const C=this.parent.is('text')?this.parent.data.length:this.parent.childCount;return this.offset===C}get root(){return this.parent.root}get editableElement(){let C=this.parent;for(;!(C instanceof w.a);)if(C.parent)C=C.parent;else return null;return C}getShiftedBy(C){const P=T.createFromPosition(this),E=P.offset+C;return P.offset=0>E?0:E,P}getLastMatchingPosition(C,P={}){P.startPosition=this;const E=new u.a(P);return E.skip(C),E.position}getAncestors(){return this.parent.is('documentFragment')?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(C){const P=this.getAncestors(),E=C.getAncestors();let S=0;for(;P[S]==E[S]&&P[S];)S++;return 0==S?null:P[S-1]}isEqual(C){return this.parent==C.parent&&this.offset==C.offset}isBefore(C){return'before'==this.compareWith(C)}isAfter(C){return'after'==this.compareWith(C)}compareWith(C){if(this.isEqual(C))return'same';if(this.parent===C.parent)return 0>this.offset-C.offset?'before':'after';const P=this.getAncestors(),E=C.getAncestors(),S=d.i(f.a)(P,E);let O;switch(S){case 0:return'different';case'prefix':O=P.length-1;break;case'extension':O=E.length-1;break;default:O=S-1;}const V=P[O],R=P[O+1],F=E[O+1];if(V===this.parent){const I=this.offset-F.index;return 0>=I?'before':'after'}if(V===C.parent){const I=R.index-C.offset;return 0>I?'before':'after'}const N=R.index-F.index;return 0>N?'before':'after'}static createAt(C,P){if(C instanceof T)return this.createFromPosition(C);const E=C;if('end'==P)P=E.is('text')?E.data.length:E.childCount;else{if('before'==P)return this.createBefore(E);if('after'==P)return this.createAfter(E);P||(P=0)}return new T(E,P)}static createAfter(C){if(C.is('textProxy'))return new T(C.textNode,C.offsetInText+C.data.length);if(!C.parent)throw new h.a('view-position-after-root: You can not make position after root.',{root:C});return new T(C.parent,C.index+1)}static createBefore(C){if(C.is('textProxy'))return new T(C.textNode,C.offsetInText);if(!C.parent)throw new h.a('view-position-before-root: You can not make position before root.',{root:C});return new T(C.parent,C.index)}static createFromPosition(C){return new this(C.parent,C.offset)}}s.a=T},function(r,s,d){'use strict';var u=d(7),f=d(5),h=d(410),w=d(419),T=d(24);class C extends u.a{constructor(P){super(P),this.set('label'),this.set('keystroke'),this.set('tooltip'),this.set('tooltipPosition','s'),this.set('type','button'),this.set('isOn',!1),this.set('isEnabled',!0),this.set('isVisible',!0),this.set('withText',!1),this.set('icon'),this.set('tabindex',-1),this.bind('_tooltipString').to(this,'tooltip',this,'label',this,'keystroke',this._getTooltipString.bind(this)),this.tooltipView=this._createTooltipView();const E=this.bindTemplate;this.template=new f.a({tag:'button',attributes:{class:['ck-button',E.to('isEnabled',(S)=>S?'ck-enabled':'ck-disabled'),E.if('isVisible','ck-hidden',(S)=>!S),E.to('isOn',(S)=>S?'ck-on':'ck-off'),E.if('withText','ck-button_with-text')],type:E.to('type',(S)=>S?S:'button'),tabindex:E.to('tabindex')},children:[{tag:'span',attributes:{class:['ck-button__label']},children:[{text:E.to('label')}]},this.tooltipView],on:{mousedown:E.to((S)=>{S.preventDefault()}),click:E.to((S)=>{this.isEnabled?this.fire('execute'):S.preventDefault()})}})}init(){if(this.icon){const P=this.iconView=new h.a;P.bind('content').to(this,'icon'),this.element.insertBefore(P.element,this.element.firstChild),this.addChildren(P)}super.init()}focus(){this.element.focus()}_createTooltipView(){const P=new w.a;return P.bind('text').to(this,'_tooltipString'),P.bind('position').to(this,'tooltipPosition'),P}_getTooltipString(P,E,S){return P?'string'==typeof P?P:(S&&(S=d.i(T.c)(S)),P instanceof Function?P(E,S):`${E}${S?` (${S})`:''}`):''}}s.a=C},function(r,s,d){'use strict';function u(S){let O;if('string'!=typeof S)O=S.keyCode+(S.altKey?E.alt:0)+(S.ctrlKey?E.ctrl:0)+(S.shiftKey?E.shift:0);else if(O=E[S.toLowerCase()],!O)throw new C.a('keyboard-unknown-key: Unknown key name.',{key:S});return O}function T(S){return S.split(/\s*\+\s*/)}s.d=u,s.b=function(S){return'string'==typeof S&&(S=T(S)),S.map((O)=>'string'==typeof O?u(O):O).reduce((O,V)=>V+O,0)},s.c=function(S){const O=T(S);return P.a.mac&&'ctrl'==O[0].toLowerCase()?'\u2318'+(O[1]||''):S};var C=d(0),P=d(436);const E=function(){const S={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let O=65;90>=O;O++){const V=String.fromCharCode(O);S[V.toLowerCase()]=O}for(let O=48;57>=O;O++)S[O-48]=O;for(let O=112;123>=O;O++)S['f'+(O-111)]=O;return S}();s.a=E},function(r,s,d){'use strict';function u(w,T,C,P,E){var S=-1,O=w.length;for(C||(C=h.a),E||(E=[]);++S<O;){var V=w[S];0<T&&C(V)?1<T?u(V,T-1,C,P,E):d.i(f.a)(E,V):!P&&(E[E.length]=V)}return E}var f=d(92),h=d(493);s.a=u},function(r,s,d){'use strict';var u=d(36),f=d(1),h=d(3),w=d(0),T=d(56),C=d(21);class P extends u.a{constructor(E,S,O,V){super(V),this.sourcePosition=f.a.createFromPosition(E),this.howMany=S,this.targetPosition=f.a.createFromPosition(O),this.isSticky=!1}get type(){return'move'}clone(){const E=new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion);return E.isSticky=this.isSticky,E}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const E=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany),S=new this.constructor(this.getMovedRangeStart(),this.howMany,E,this.baseVersion+1);return S.isSticky=this.isSticky,S}_execute(){const E=this.sourcePosition.parent,S=this.targetPosition.parent,O=this.sourcePosition.offset,V=this.targetPosition.offset;if(!E||!S)throw new w.a('move-operation-position-invalid: Source position or target position is invalid.');else if(O+this.howMany>E.maxOffset)throw new w.a('move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.');else if(E===S&&O<V&&V<O+this.howMany)throw new w.a('move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.');else if(this.sourcePosition.root==this.targetPosition.root&&'prefix'==d.i(T.a)(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const F=this.sourcePosition.path.length-1;if(this.targetPosition.path[F]>=O&&this.targetPosition.path[F]<O+this.howMany)throw new w.a('move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.')}const R=C.a.move(h.a.createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition);return{sourcePosition:this.sourcePosition,range:R}}static get className(){return'engine.model.operation.MoveOperation'}static fromJSON(E,S){const O=f.a.fromJSON(E.sourcePosition,S),V=f.a.fromJSON(E.targetPosition,S),R=new this(O,E.howMany,V,E.baseVersion);return E.isSticky&&(R.isSticky=!0),R}}s.a=P},function(r,s,d){'use strict';var u=d(61);class f extends u.a{constructor(h,w){super(w),this.data=h||''}get offsetSize(){return this.data.length}is(h){return'text'==h}clone(){return new f(this.data,this.getAttributes())}toJSON(){const h=super.toJSON();return h.data=this.data,h}static fromJSON(h){return new f(h.data,h.attributes)}}s.a=f},function(r,s,d){'use strict';function u(V,R){let F=null,N=0,I=0,M=null;if(V.clear(),''!==R){';'!=R.charAt(R.length-1)&&(R+=';');for(let D=0;D<R.length;D++){const L=R.charAt(D);if(null==F)switch(L){case':':M||(M=R.substr(N,D-N),I=D+1);break;case'"':case'\'':F=L;break;case';':const z=R.substr(I,D-I);M&&V.set(M.trim(),z.trim()),M=null,N=D+1;}else L===F&&(F=null)}}}function f(V,R){const F=R.split(/\s+/);V.clear(),F.forEach((N)=>V.add(N))}function h(V){return'string'==typeof V?[new T.a(V)]:(d.i(P.a)(V)||(V=[V]),Array.from(V).map((R)=>{return'string'==typeof R?new T.a(R):R}))}var w=d(84),T=d(32),C=d(270),P=d(47),E=d(106),S=d(166);class O extends w.a{constructor(V,R,F){if(super(),this.name=V,this._attrs=d.i(E.a)(R)?d.i(C.a)(R):new Map(R),this._children=[],F&&this.insertChildren(0,F),this._classes=new Set,this._attrs.has('class')){const N=this._attrs.get('class');f(this._classes,N),this._attrs.delete('class')}this._styles=new Map,this._attrs.has('style')&&(u(this._styles,this._attrs.get('style')),this._attrs.delete('style')),this._customProperties=new Map}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}is(V,R=null){return R?'element'==V&&R==this.name:'element'==V||V==this.name}clone(V=!1){const R=[];if(V)for(const N of this.getChildren())R.push(N.clone(V));const F=new this.constructor(this.name,this._attrs,R);return F._classes=new Set(this._classes),F._styles=new Map(this._styles),F._customProperties=new Map(this._customProperties),F.getFillerOffset=this.getFillerOffset,F}appendChildren(V){return this.insertChildren(this.childCount,V)}getChild(V){return this._children[V]}getChildIndex(V){return this._children.indexOf(V)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){0<this._classes.size&&(yield'class'),0<this._styles.size&&(yield'style');for(const V of this._attrs.keys())yield V}*getAttributes(){yield*this._attrs.entries(),0<this._classes.size&&(yield['class',this.getAttribute('class')]),0<this._styles.size&&(yield['style',this.getAttribute('style')])}getAttribute(V){if('class'==V)return 0<this._classes.size?[...this._classes].join(' '):void 0;if('style'==V){if(0<this._styles.size){let R='';for(const[F,N]of this._styles)R+=`${F}:${N};`;return R}return}return this._attrs.get(V)}hasAttribute(V){return'class'==V?0<this._classes.size:'style'==V?0<this._styles.size:this._attrs.has(V)}setAttribute(V,R){this._fireChange('attributes',this),'class'==V?f(this._classes,R):'style'==V?u(this._styles,R):this._attrs.set(V,R)}insertChildren(V,R){this._fireChange('children',this);let F=0;R=h(R);for(const N of R)N.parent=this,this._children.splice(V,0,N),V++,F++;return F}removeAttribute(V){return this._fireChange('attributes',this),'class'==V?!!(0<this._classes.size)&&(this._classes.clear(),!0):'style'==V?!!(0<this._styles.size)&&(this._styles.clear(),!0):this._attrs.delete(V)}removeChildren(V,R=1){this._fireChange('children',this);for(let F=V;F<V+R;F++)this._children[F].parent=null;return this._children.splice(V,R)}isSimilar(V){if(!(V instanceof O))return!1;if(this===V)return!0;if(this.name!=V.name)return!1;if(this._attrs.size!==V._attrs.size||this._classes.size!==V._classes.size||this._styles.size!==V._styles.size)return!1;for(const[R,F]of this._attrs)if(!V._attrs.has(R)||V._attrs.get(R)!==F)return!1;for(const R of this._classes)if(!V._classes.has(R))return!1;for(const[R,F]of this._styles)if(!V._styles.has(R)||V._styles.get(R)!==F)return!1;return!0}addClass(...V){this._fireChange('attributes',this),V.forEach((R)=>this._classes.add(R))}removeClass(...V){this._fireChange('attributes',this),V.forEach((R)=>this._classes.delete(R))}hasClass(...V){for(const R of V)if(!this._classes.has(R))return!1;return!0}getClassNames(){return this._classes.keys()}setStyle(V,R){if(this._fireChange('attributes',this),d.i(E.a)(V)){const F=Object.keys(V);for(const N of F)this._styles.set(N,V[N])}else this._styles.set(V,R)}getStyle(V){return this._styles.get(V)}getStyleNames(){return this._styles.keys()}hasStyle(...V){for(const R of V)if(!this._styles.has(R))return!1;return!0}removeStyle(...V){this._fireChange('attributes',this),V.forEach((R)=>this._styles.delete(R))}findAncestor(...V){const R=new S.a(...V);for(let F=this.parent;F;){if(R.match(F))return F;F=F.parent}return null}setCustomProperty(V,R){this._customProperties.set(V,R)}getCustomProperty(V){return this._customProperties.get(V)}removeCustomProperty(V){return this._customProperties.delete(V)}*getCustomProperties(){yield*this._customProperties.entries()}}s.a=O},function(r,s){'use strict';s.a=function(f,h){for(var w=-1,T=f.length,C=Array(T);++w<T;)C[w]=h(f[w],w,f);return C}},function(r){function d(f,h){var w=f[1]||'',T=f[3];if(!T)return w;if(h&&'function'==typeof btoa){var C=u(T),P=T.sources.map(function(E){return'/*# sourceURL='+T.sourceRoot+E+' */'});return[w].concat(P).concat([C]).join('\n')}return[w].join('\n')}function u(f){var h=btoa(unescape(encodeURIComponent(JSON.stringify(f))));return'/*# '+('sourceMappingURL=data:application/json;charset=utf-8;base64,'+h)+' */'}r.exports=function(f){var h=[];return h.toString=function(){return this.map(function(T){var C=d(T,f);return T[2]?'@media '+T[2]+'{'+C+'}':C}).join('')},h.i=function(w,T){'string'==typeof w&&(w=[[null,w,'']]);for(var C={},P=0,E;P<this.length;P++)E=this[P][0],'number'==typeof E&&(C[E]=!0);for(P=0;P<w.length;P++){var S=w[P];'number'==typeof S[0]&&C[S[0]]||(T&&!S[2]?S[2]=T:T&&(S[2]='('+S[2]+') and ('+T+')'),h.push(S))}},h}},function(r,s,d){function u(H,W){for(var $=0;$<H.length;$++){var U=H[$],K=R[U.id];if(K){K.refs++;for(var Q=0;Q<K.parts.length;Q++)K.parts[Q](U.parts[Q]);for(;Q<U.parts.length;Q++)K.parts.push(E(U.parts[Q],W))}else{for(var J=[],Q=0;Q<U.parts.length;Q++)J.push(E(U.parts[Q],W));R[U.id]={id:U.id,refs:1,parts:J}}}}function f(H){for(var W=[],$={},U=0;U<H.length;U++){var K=H[U],Q=K[0],J=K[1],Y=K[2],G=K[3],X={css:J,media:Y,sourceMap:G};$[Q]?$[Q].parts.push(X):W.push($[Q]={id:Q,parts:[X]})}return W}function h(H,W){var $=I(H.insertInto);if(!$)throw new Error('Couldn\'t find a style target. This probably means that the value for the \'insertInto\' parameter is invalid.');var U=L[L.length-1];if('top'===H.insertAt)U?U.nextSibling?$.insertBefore(W,U.nextSibling):$.appendChild(W):$.insertBefore(W,$.firstChild),L.push(W);else if('bottom'===H.insertAt)$.appendChild(W);else throw new Error('Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.')}function w(H){H.parentNode.removeChild(H);var W=L.indexOf(H);0<=W&&L.splice(W,1)}function T(H){var W=document.createElement('style');return H.attrs.type='text/css',P(W,H.attrs),h(H,W),W}function C(H){var W=document.createElement('link');return H.attrs.type='text/css',H.attrs.rel='stylesheet',P(W,H.attrs),h(H,W),W}function P(H,W){Object.keys(W).forEach(function($){H.setAttribute($,W[$])})}function E(H,W){var $,U,K;if(W.singleton){var Q=D++;$=M||(M=T(W)),U=S.bind(null,$,Q,!1),K=S.bind(null,$,Q,!0)}else H.sourceMap&&'function'==typeof URL&&'function'==typeof URL.createObjectURL&&'function'==typeof URL.revokeObjectURL&&'function'==typeof Blob&&'function'==typeof btoa?($=C(W),U=V.bind(null,$,W),K=function(){w($),$.href&&URL.revokeObjectURL($.href)}):($=T(W),U=O.bind(null,$),K=function(){w($)});return U(H),function(Y){if(Y){if(Y.css===H.css&&Y.media===H.media&&Y.sourceMap===H.sourceMap)return;U(H=Y)}else K()}}function S(H,W,$,U){var K=$?'':U.css;if(H.styleSheet)H.styleSheet.cssText=q(W,K);else{var Q=document.createTextNode(K),J=H.childNodes;J[W]&&H.removeChild(J[W]),J.length?H.insertBefore(Q,J[W]):H.appendChild(Q)}}function O(H,W){var $=W.css,U=W.media;if(U&&H.setAttribute('media',U),H.styleSheet)H.styleSheet.cssText=$;else{for(;H.firstChild;)H.removeChild(H.firstChild);H.appendChild(document.createTextNode($))}}function V(H,W,$){var U=$.css,K=$.sourceMap,Q=W.convertToAbsoluteUrls===void 0&&K;(W.convertToAbsoluteUrls||Q)&&(U=z(U)),K&&(U+='\n/*# sourceMappingURL=data:application/json;base64,'+btoa(unescape(encodeURIComponent(JSON.stringify(K))))+' */');var J=new Blob([U],{type:'text/css'}),Y=H.href;H.href=URL.createObjectURL(J),Y&&URL.revokeObjectURL(Y)}var R={},N=function(H){var W;return function(){return'undefined'==typeof W&&(W=H.apply(this,arguments)),W}}(function(){return window&&document&&document.all&&!window.atob}),I=function(H){var W={};return function($){return'undefined'==typeof W[$]&&(W[$]=H.call(this,$)),W[$]}}(function(H){return document.querySelector(H)}),M=null,D=0,L=[],z=d(306);r.exports=function(H,W){if('undefined'!=typeof DEBUG&&DEBUG&&'object'!=typeof document)throw new Error('The style-loader cannot be used in a non-browser environment');W=W||{},W.attrs='object'==typeof W.attrs?W.attrs:{},'undefined'==typeof W.singleton&&(W.singleton=N()),'undefined'==typeof W.insertInto&&(W.insertInto='head'),'undefined'==typeof W.insertAt&&(W.insertAt='bottom');var $=f(H);return u($,W),function(K){for(var Q=[],J=0;J<$.length;J++){var Y=$[J],G=R[Y.id];G.refs--,Q.push(G)}if(K){var X=f(K);u(X,W)}for(var J=0,G;J<Q.length;J++)if(G=Q[J],0===G.refs){for(var Z=0;Z<G.parts.length;Z++)G.parts[Z]();delete R[G.id]}}};var q=function(){var H=[];return function(W,$){return H[W]=$,H.filter(Boolean).join('\n')}}()},function(r,s,d){'use strict';var u=d(84);class f extends u.a{constructor(h){super(),this._data=h}clone(){return new f(this.data)}is(h){return'text'==h}get data(){return this._data}set data(h){this._fireChange('text',this),this._data=h}isSimilar(h){return!!(h instanceof f)&&(this===h||this.data===h.data)}}s.a=f},function(r,s,d){'use strict';(function(u,f){var h=d(466),w={function:!0,object:!0},T=w[typeof exports]&&exports&&!exports.nodeType?exports:void 0,C=w[typeof u]&&u&&!u.nodeType?u:void 0,P=d.i(h.a)(T&&C&&'object'==typeof f&&f),E=d.i(h.a)(w[typeof self]&&self),S=d.i(h.a)(w[typeof window]&&window),O=d.i(h.a)(w[typeof this]&&this),V=P||S!==(O&&O.window)&&S||E||O||Function('return this')();s.a=V}).call(s,d(156)(r),d(316))},function(r,s,d){'use strict';function u(O,V,R,F){if(d.i(E.a)(O)){for(const M of O)u(M,V,R,F);return}const N=Array.from(O.getAttributeKeys());N.push(V.key);const I={name:O.name||'$text',attributes:N,inside:R.context};F.schema.check(I)&&O.setAttribute(V.key,V.value)}s.a=function(){return new S};var h=d(166),w=d(6),T=d(1),C=d(21),P=d(0),E=d(47);class S{constructor(){this._dispatchers=[],this._from=[]}for(...O){return this._dispatchers=O,this}fromElement(O){return this.from({name:O})}fromAttribute(O,V=/.*/){const R={};'style'===O||'class'===O?R[O]=V:(R.attribute={},R.attribute[O]=V);const F=new h.a(R);return this._from.push({matcher:F,consume:!1,priority:null,attributeKey:O}),this}from(O){return O instanceof h.a||(O=new h.a(O)),this._from.push({matcher:O,consume:!1,priority:null}),this}consuming(O){const V=this._from[this._from.length-1];return V.consume=O,this}withPriority(O){const V=this._from[this._from.length-1];return V.priority=O,this}toElement(O){this._setCallback(function(R){return(F,N,I,M)=>{const D=R.matcher.matchAll(N.input);if(D)for(const L of D){const z=O instanceof Function?O(N.input):new w.a(O);if(!z)continue;const q=Array.from(z.getAttributeKeys());if(!M.schema.check({name:z.name,attributes:q,inside:N.context}))continue;if(!I.consume(N.input,R.consume||L.match))continue;N.context.push(z);const H=M.convertChildren(N.input,I,N),W=T.a.createAt(z,'end');C.a.insert(W,H),N.context.pop(),N.output=z;break}}},'normal')}toAttribute(O,V){this._setCallback(function(F){return(N,I,M,D)=>{const L=F.matcher.matchAll(I.input);if(L)for(const z of L){if(!M.consume(I.input,F.consume||z.match))continue;I.output||(I.output=D.convertChildren(I.input,M,I));let q;if(!(O instanceof Function))q={key:O,value:V?V:I.input.getAttribute(F.attributeKey)};else if(q=O(I.input),!q)return;u(I.output,q,I,D);break}}},'low')}toMarker(O){this._setCallback(function(R){return(F,N,I)=>{const M=R.matcher.matchAll(N.input);if(!M)return;let D;if(D=O instanceof Function?O(N.input):new w.a('$marker',{"data-name":N.input.getAttribute('data-name')}),'$marker'!=D.name||'string'!=typeof D.getAttribute('data-name'))throw new P.a('build-view-converter-invalid-marker: Invalid model element to mark marker range.');for(const L of M)if(I.consume(N.input,R.consume||L.match)){N.output=D;break}}},'normal')}_setCallback(O,V){for(const R of this._from){const F=R.matcher.getElementName(),N=F?'element:'+F:'element',I=O(R),M=null===R.priority?V:R.priority;for(const D of this._dispatchers)D.on(N,I,{priority:M})}}}},function(r,s,d){'use strict';function u(P){return'string'==typeof P?[new w.a(P)]:(d.i(T.a)(P)||(P=[P]),Array.from(P).map((E)=>{return'string'==typeof E?new w.a(E):E}))}var f=d(80),h=d(6),w=d(27),T=d(47);class C{constructor(P){this.markers=new Map,this._children=new f.a,P&&this.insertChildren(0,P)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(P){return'documentFragment'==P}getChild(P){return this._children.getNode(P)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(P){return this._children.getNodeIndex(P)}getChildStartOffset(P){return this._children.getNodeStartOffset(P)}getPath(){return[]}getNodeByPath(P){let E=this;for(const S of P)E=E.getChild(E.offsetToIndex(S));return E}offsetToIndex(P){return this._children.offsetToIndex(P)}appendChildren(P){this.insertChildren(this.childCount,P)}insertChildren(P,E){E=u(E);for(const S of E)S.parent=this;this._children.insertNodes(P,E)}removeChildren(P,E=1){const S=this._children.removeNodes(P,E);for(const O of S)O.parent=null;return S}toJSON(){const P=[];for(const E of this._children)P.push(E.toJSON());return P}static fromJSON(P){const E=[];for(const S of P)S.name?E.push(h.a.fromJSON(S)):E.push(w.a.fromJSON(S));return new C(E)}}s.a=C},function(r,s,d){'use strict';var u=d(70);class f{constructor(h){this.baseVersion=h}toJSON(){const h=d.i(u.a)(this,!0);return h.__className=this.constructor.className,delete h.delta,h}static get className(){return'engine.model.operation.Operation'}static fromJSON(h){return new this(h.baseVersion)}}s.a=f},function(r,s,d){'use strict';var u=d(26),f=d(114);class h extends u.a{get type(){return'remove'}getReversed(){const w=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new f.a(this.getMovedRangeStart(),this.howMany,w,this.baseVersion+1)}static get className(){return'engine.model.operation.RemoveOperation'}}s.a=h},function(r,s,d){'use strict';function u(T){return T.item.is('attributeElement')||T.item.is('uiElement')}var f=d(22),h=d(55);class w{constructor(T,C=null){this.start=f.a.createFromPosition(T),this.end=C?f.a.createFromPosition(C):f.a.createFromPosition(T)}*[Symbol.iterator](){yield*new h.a({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let T=this.start.getLastMatchingPosition(u,{direction:'backward'}),C=this.end.getLastMatchingPosition(u);return T.parent.is('text')&&T.isAtStart&&(T=f.a.createBefore(T.parent)),C.parent.is('text')&&C.isAtEnd&&(C=f.a.createAfter(C.parent)),new w(T,C)}getTrimmed(){let T=this.start.getLastMatchingPosition(u);if(T.isAfter(this.end)||T.isEqual(this.end))return new w(T,T);let C=this.end.getLastMatchingPosition(u,{direction:'backward'});const P=T.nodeAfter,E=C.nodeBefore;return P&&P.is('text')&&(T=new f.a(P,0)),E&&E.is('text')&&(C=new f.a(E,E.data.length)),new w(T,C)}isEqual(T){return this==T||this.start.isEqual(T.start)&&this.end.isEqual(T.end)}containsPosition(T){return T.isAfter(this.start)&&T.isBefore(this.end)}containsRange(T,C=!1){T.isCollapsed&&(C=!1);const P=this.containsPosition(T.start)||C&&this.start.isEqual(T.start),E=this.containsPosition(T.end)||C&&this.end.isEqual(T.end);return P&&E}getDifference(T){const C=[];return this.isIntersecting(T)?(this.containsPosition(T.start)&&C.push(new w(this.start,T.start)),this.containsPosition(T.end)&&C.push(new w(T.end,this.end))):C.push(w.createFromRange(this)),C}getIntersection(T){if(this.isIntersecting(T)){let C=this.start,P=this.end;return this.containsPosition(T.start)&&(C=T.start),this.containsPosition(T.end)&&(P=T.end),new w(C,P)}return null}getWalker(T={}){return T.boundaries=this,new h.a(T)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}*getItems(T={}){T.boundaries=this,T.ignoreElementEnd=!0;const C=new h.a(T);for(const P of C)yield P.item}*getPositions(T={}){T.boundaries=this;const C=new h.a(T);yield C.position;for(const P of C)yield P.nextPosition}isIntersecting(T){return this.start.isBefore(T.end)&&this.end.isAfter(T.start)}static createFromParentsAndOffsets(T,C,P,E){return new this(new f.a(T,C),new f.a(P,E))}static createFromRange(T){return new this(T.start,T.end)}static createFromPositionAndShift(T,C){const P=T,E=T.getShiftedBy(C);return 0<C?new this(P,E):new this(E,P)}static createIn(T){return this.createFromParentsAndOffsets(T,0,T,T.childCount)}static createOn(T){return this.createFromPositionAndShift(f.a.createBefore(T),1)}}s.a=w},function(r,s,d){'use strict';s.c=function(P,E){return P.setCustomProperty(C,!0),d.i(w.a)(P,{label:function(){const O=P.getChild(0),V=O.getAttribute('alt');return V?`${V} ${E}`:E}})},s.a=function(P){return!!P.getCustomProperty(C)&&d.i(w.b)(P)},s.b=function(P){return P instanceof T.a&&'image'==P.name};var w=d(155),T=d(6);const C=Symbol('isImage')},function(r,s){'use strict';s.a=function(f,h,w){var T=-1,C=f.length;0>h&&(h=-h>C?0:C+h),w=w>C?C:w,0>w&&(w+=C),C=h>w?0:w-h>>>0,h>>>=0;for(var P=Array(C);++T<C;)P[T]=f[T+h];return P}},function(r,s){'use strict';var h=/^(?:0|[1-9]\d*)$/;s.a=function(w,T){return T=null==T?9007199254740991:T,!!T&&('number'==typeof w||h.test(w))&&-1<w&&0==w%1&&w<T}},function(r,s){'use strict';const u={error(f,h){console.error(f,h)},warn(f,h){console.warn(f,h)}};s.a=u},function(r,s,d){'use strict';s.a=function(){return new E};var f=d(108),h=d(159),w=d(117),T=d(45),C=d(121),P=d(0);class E{constructor(){this._dispatchers=[],this._from=null}for(...S){return this._dispatchers=S,this}fromElement(S){return this._from={type:'element',name:S,priority:null},this}fromAttribute(S){return this._from={type:'attribute',key:S,priority:null},this}fromMarker(S){return this._from={type:'marker',name:S,priority:null},this}withPriority(S){return this._from.priority=S,this}toElement(S){const O=null===this._from.priority?'normal':this._from.priority;for(const V of this._dispatchers)'element'==this._from.type?(S='string'==typeof S?new T.a(S):S,V.on('insert:'+this._from.name,d.i(f.a)(S),{priority:O})):'attribute'==this._from.type?(S='string'==typeof S?new w.a(S):S,V.on('addAttribute:'+this._from.key,d.i(f.b)(S),{priority:O}),V.on('changeAttribute:'+this._from.key,d.i(f.b)(S),{priority:O}),V.on('removeAttribute:'+this._from.key,d.i(f.c)(S),{priority:O}),V.on('selectionAttribute:'+this._from.key,d.i(h.a)(S),{priority:O})):(S='string'==typeof S?new w.a(S):S,V.on('addMarker:'+this._from.name,d.i(f.d)(S),{priority:O}),V.on('removeMarker:'+this._from.name,d.i(f.e)(S),{priority:O}),V.on('selectionMarker:'+this._from.name,d.i(h.b)(S),{priority:O}))}toStamp(S){for(const O of this._dispatchers){if('marker'!=this._from.type)throw new P.a('build-model-converter-non-marker-to-stamp: To-stamp conversion is supported only from model markers.');const V=null===this._from.priority?'normal':this._from.priority;S='string'==typeof S?new C.a(S):S,O.on('addMarker:'+this._from.name,d.i(f.f)(S),{priority:V}),O.on('removeMarker:'+this._from.name,d.i(f.g)(S),{priority:V})}}toAttribute(S,O){if('attribute'!=this._from.type)throw new P.a('build-model-converter-non-attribute-to-attribute: To-attribute conversion is supported only from model attributes.');let V=S?'string'==typeof S?O?function(){return{key:S,value:O}}:function(R){return{key:S,value:R}}:S:void 0;for(const R of this._dispatchers){const F={priority:this._from.priority||'normal'};R.on('addAttribute:'+this._from.key,d.i(f.h)(V),F),R.on('changeAttribute:'+this._from.key,d.i(f.h)(V),F),R.on('removeAttribute:'+this._from.key,d.i(f.i)(V),F)}}}},function(r,s,d){'use strict';var u=d(36),f=d(1),h=d(80),w=d(37),T=d(21),C=d(27),P=d(6);class E extends u.a{constructor(S,O,V){super(V),this.position=f.a.createFromPosition(S),this.nodes=new h.a(d.i(T.c)(O))}get type(){return'insert'}clone(){const S=new h.a([...this.nodes].map((O)=>O.clone(!0)));return new E(this.position,S,this.baseVersion)}getReversed(){const S=this.position.root.document.graveyard,O=new f.a(S,[0]);return new w.a(this.position,this.nodes.maxOffset,O,this.baseVersion+1)}_execute(){const S=this.nodes;this.nodes=new h.a([...S].map((V)=>V.clone(!0)));const O=d.i(T.d)(this.position,S);return{range:O}}static get className(){return'engine.model.operation.InsertOperation'}static fromJSON(S,O){const V=[];for(const R of S.nodes)R.name?V.push(P.a.fromJSON(R)):V.push(C.a.fromJSON(R));return new E(f.a.fromJSON(S.position,O),V,S.baseVersion)}}s.a=E},function(r,s,d){'use strict';function u(){for(const w of this.getChildren())if(!w.is('uiElement'))return null;return this.childCount}var f=d(28);class h extends f.a{constructor(w,T,C){super(w,T,C),this.getFillerOffset=u}is(w,T=null){return T?'containerElement'==w&&T==this.name||super.is(w,T):'containerElement'==w||super.is(w)}}s.a=h},function(r,s){'use strict';s.a={window,document}},function(r,s){'use strict';s.a=function(f){return!!(f&&f[Symbol.iterator])}},function(r,s,d){'use strict';var u=d(88),f=d(24);s.a=class{constructor(){this._listener=Object.create(u.a),this._keystrokes=new Map}listenTo(w){this._listener.listenTo(w,'keydown',(T,C)=>{this.press(C)})}set(w,T){const C=d.i(f.b)(w),P=this._keystrokes.get(C);P?P.push(T):this._keystrokes.set(C,[T])}press(w){const T=d.i(f.d)(w),C=this._keystrokes.get(T);if(!C)return!1;for(const P of C)P(w,()=>{w.preventDefault(),w.stopPropagation()});return!0}destroy(){this._keystrokes=new Map,this._listener.stopListening()}}},function(r,s,d){'use strict';var f=d(90),h=d(129),w=d(130),T=d(139),C=d(477),P=d(103);s.a=function(S,O,V){var R=-1,F=h.a,N=S.length,I=!0,M=[],D=M;if(V)I=!1,F=w.a;else if(N>=200){var L=O?null:d.i(C.a)(S);if(L)return d.i(P.a)(L);I=!1,F=T.a,D=new f.a}else D=O?[]:M;outer:for(;++R<N;){var z=S[R],q=O?O(z):z;if(z=V||0!==z?z:0,I&&q===q){for(var H=D.length;H--;)if(D[H]===q)continue outer;O&&D.push(q),M.push(z)}else F(D,q,V)||(D!==M&&D.push(q),M.push(z))}return M}},function(r,s,d){'use strict';var u=d(518);d.d(s,'a',function(){return u.a})},function(r,s){'use strict';s.a=function(f){return!!f&&'object'==typeof f}},function(r,s,d){'use strict';var f=d(51),w=Object.prototype,T=w.toString;s.a=function(C){return'symbol'==typeof C||d.i(f.a)(C)&&T.call(C)=='[object Symbol]'}},function(r,s,d){'use strict';function u(E,S,O,V,R){return{done:!1,value:{type:E,item:S,previousPosition:O,nextPosition:V,length:R}}}var f=d(27),h=d(63),w=d(6),T=d(1),C=d(0);class P{constructor(E={}){if(!E.boundaries&&!E.startPosition)throw new C.a('model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');const S=E.direction||'forward';if('forward'!=S&&'backward'!=S)throw new C.a('model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:S});this.direction=S,this.boundaries=E.boundaries||null,this.position=E.startPosition?T.a.createFromPosition(E.startPosition):T.a.createFromPosition(this.boundaries['backward'==this.direction?'end':'start']),this.singleCharacters=!!E.singleCharacters,this.shallow=!!E.shallow,this.ignoreElementEnd=!!E.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(E){let S,O,V,R;do V=this.position,R=this._visitedParent,({done:S,value:O}=this.next());while(!S&&E(O));S||(this.position=V,this._visitedParent=R)}next(){return'forward'==this.direction?this._next():this._previous()}_next(){const E=this.position,S=T.a.createFromPosition(this.position),O=this._visitedParent;if(null===O.parent&&S.offset===O.maxOffset)return{done:!0};if(O===this._boundaryEndParent&&S.offset==this.boundaries.end.offset)return{done:!0};const V=S.textNode?S.textNode:S.nodeAfter;if(V instanceof w.a)return this.shallow?S.offset++:(S.path.push(0),this._visitedParent=V),this.position=S,u('elementStart',V,E,S,1);if(V instanceof f.a){let R;if(this.singleCharacters)R=1;else{let I=V.endOffset;this._boundaryEndParent==O&&this.boundaries.end.offset<I&&(I=this.boundaries.end.offset),R=I-S.offset}const F=S.offset-V.startOffset,N=new h.a(V,F,R);return S.offset+=R,this.position=S,u('text',N,E,S,R)}return S.path.pop(),S.offset++,this.position=S,this._visitedParent=O.parent,this.ignoreElementEnd?this._next():u('elementEnd',O,E,S)}_previous(){const E=this.position,S=T.a.createFromPosition(this.position),O=this._visitedParent;if(null===O.parent&&0===S.offset)return{done:!0};if(O==this._boundaryStartParent&&S.offset==this.boundaries.start.offset)return{done:!0};const V=S.textNode?S.textNode:S.nodeBefore;if(V instanceof w.a)return S.offset--,this.shallow?(this.position=S,u('elementStart',V,E,S,1)):(S.path.push(V.maxOffset),this.position=S,this._visitedParent=V,this.ignoreElementEnd?this._previous():u('elementEnd',V,E,S));if(V instanceof f.a){let R;if(this.singleCharacters)R=1;else{let I=V.startOffset;this._boundaryStartParent==O&&this.boundaries.start.offset>I&&(I=this.boundaries.start.offset),R=S.offset-I}const F=S.offset-V.startOffset,N=new h.a(V,F-R,R);return S.offset-=R,this.position=S,u('text',N,E,S,R)}return S.path.pop(),this.position=S,this._visitedParent=O.parent,u('elementStart',O,E,S,1)}}s.a=P},function(r,s,d){'use strict';var u=d(88),f=d(4);class h{constructor(w){this.document=w,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}}s.a=h,d.i(f.a)(h,u.a)},function(r,s,d){'use strict';var u=d(28),f=d(32),h=d(369),w=d(22),T=d(0);class C{constructor(P={}){if(!P.boundaries&&!P.startPosition)throw new T.a('view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');if(P.direction&&'forward'!=P.direction&&'backward'!=P.direction)throw new T.a('view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:P.direction});this.boundaries=P.boundaries||null,this.position=P.startPosition?w.a.createFromPosition(P.startPosition):w.a.createFromPosition(P.boundaries['backward'==P.direction?'end':'start']),this.direction=P.direction||'forward',this.singleCharacters=!!P.singleCharacters,this.shallow=!!P.shallow,this.ignoreElementEnd=!!P.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(P){let E,S,O;do O=this.position,({done:E,value:S}=this.next());while(!E&&P(S));E||(this.position=O)}next(){return'forward'==this.direction?this._next():this._previous()}_next(){let P=w.a.createFromPosition(this.position);const E=this.position,S=P.parent;if(null===S.parent&&P.offset===S.childCount)return{done:!0};if(S===this._boundaryEndParent&&P.offset==this.boundaries.end.offset)return{done:!0};let O;if(S instanceof f.a){if(P.isAtEnd)return this.position=w.a.createAfter(S),this._next();O=S.data[P.offset]}else O=S.getChild(P.offset);if(O instanceof u.a)return this.shallow?P.offset++:P=new w.a(O,0),this.position=P,this._formatReturnValue('elementStart',O,E,P,1);if(O instanceof f.a){if(this.singleCharacters)return P=new w.a(O,0),this.position=P,this._next();let V=O.data.length,R=O;return O==this._boundaryEndParent?(V=this.boundaries.end.offset,R=new h.a(O,0,V),P=w.a.createAfter(R)):P.offset++,this.position=P,this._formatReturnValue('text',R,E,P,V)}if('string'==typeof O){let V;if(this.singleCharacters)V=1;else{const F=S===this._boundaryEndParent?this.boundaries.end.offset:S.data.length;V=F-P.offset}const R=new h.a(S,P.offset,V);return P.offset+=V,this.position=P,this._formatReturnValue('text',R,E,P,V)}return P=w.a.createAfter(S),this.position=P,this.ignoreElementEnd?this._next():this._formatReturnValue('elementEnd',S,E,P)}_previous(){let P=w.a.createFromPosition(this.position);const E=this.position,S=P.parent;if(null===S.parent&&0===P.offset)return{done:!0};if(S==this._boundaryStartParent&&P.offset==this.boundaries.start.offset)return{done:!0};let O;if(S instanceof f.a){if(P.isAtStart)return this.position=w.a.createBefore(S),this._previous();O=S.data[P.offset-1]}else O=S.getChild(P.offset-1);if(O instanceof u.a)return this.shallow?(P.offset--,this.position=P,this._formatReturnValue('elementStart',O,E,P,1)):(P=new w.a(O,O.childCount),this.position=P,this.ignoreElementEnd?this._previous():this._formatReturnValue('elementEnd',O,E,P));if(O instanceof f.a){if(this.singleCharacters)return P=new w.a(O,O.data.length),this.position=P,this._previous();let V=O.data.length,R=O;if(O==this._boundaryStartParent){const F=this.boundaries.start.offset;R=new h.a(O,F,O.data.length-F),V=R.data.length,P=w.a.createBefore(R)}else P.offset--;return this.position=P,this._formatReturnValue('text',R,E,P,V)}if('string'==typeof O){let V;if(!this.singleCharacters){const F=S===this._boundaryStartParent?this.boundaries.start.offset:0;V=P.offset-F}else V=1;P.offset-=V;const R=new h.a(S,P.offset,V);return this.position=P,this._formatReturnValue('text',R,E,P,V)}return P=w.a.createBefore(S),this.position=P,this._formatReturnValue('elementStart',S,E,P,1)}_formatReturnValue(P,E,S,O,V){return E instanceof h.a&&(E.offsetInText+E.data.length==E.textNode.data.length&&('forward'!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?S=w.a.createAfter(E.textNode):(O=w.a.createAfter(E.textNode),this.position=O)),0===E.offsetInText&&('backward'!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?S=w.a.createBefore(E.textNode):(O=w.a.createBefore(E.textNode),this.position=O))),{done:!1,value:{type:P,item:E,previousPosition:S,nextPosition:O,length:V}}}}s.a=C},function(r,s){'use strict';s.a=function(f,h){const w=_Mathmin(f.length,h.length);for(let T=0;T<w;T++)if(f[T]!=h[T])return T;return f.length==h.length?'same':f.length<h.length?'prefix':'extension'}},function(r,s,d){'use strict';var f=d(231);s.a=function(h,w){var T=h[w];return d.i(f.a)(T)?T:void 0}},function(r,s,d){'use strict';var f=d(12),h=d(52),w=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,T=/^\w*$/;s.a=function(C,P){if(d.i(f.a)(C))return!1;var E=typeof C;return'number'==E||'symbol'==E||'boolean'==E||null==C||d.i(h.a)(C)||T.test(C)||!w.test(C)||null!=P&&C in Object(P)}},function(r,s,d){'use strict';var f=d(52);s.a=function(w){if('string'==typeof w||d.i(f.a)(w))return w;var T=w+'';return'0'==T&&1/w==-(1/0)?'-0':T}},function(r,s){'use strict';s.a=function(f,h){return f===h||f!==f&&h!==h}},function(r,s,d){'use strict';var u=d(154),f=d(0);class h{constructor(w){this.parent=null,this._attrs=d.i(u.a)(w)}get index(){let w;if(!this.parent)return null;if(null===(w=this.parent.getChildIndex(this)))throw new f.a('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return w}get startOffset(){let w;if(!this.parent)return null;if(null===(w=this.parent.getChildStartOffset(this)))throw new f.a('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return w}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const w=this.index;return null!==w&&this.parent.getChild(w+1)||null}get previousSibling(){const w=this.index;return null!==w&&this.parent.getChild(w-1)||null}get root(){let w=this;for(;w.parent;)w=w.parent;return w}get document(){return this.root==this?null:this.root.document||null}clone(){return new h(this._attrs)}getPath(){const w=[];for(let T=this;T.parent;)w.unshift(T.startOffset),T=T.parent;return w}getAncestors(w={includeSelf:!1,parentFirst:!1}){const T=[];for(let C=w.includeSelf?this:this.parent;C;)T[w.parentFirst?'push':'unshift'](C),C=C.parent;return T}getCommonAncestor(w,T={}){const C=this.getAncestors(T),P=w.getAncestors(T);let E=0;for(;C[E]==P[E]&&C[E];)E++;return 0==E?null:C[E-1]}remove(){this.parent.removeChildren(this.index)}hasAttribute(w){return this._attrs.has(w)}getAttribute(w){return this._attrs.get(w)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}setAttribute(w,T){this._attrs.set(w,T)}setAttributesTo(w){this._attrs=d.i(u.a)(w)}removeAttribute(w){return this._attrs.delete(w)}clearAttributes(){this._attrs.clear()}toJSON(){const w={};return this._attrs.size&&(w.attributes=[...this._attrs]),w}}s.a=h},function(r,s,d){'use strict';var u=d(36);class f extends u.a{clone(){return new f(this.baseVersion)}getReversed(){return new f(this.baseVersion+1)}_execute(){}static get className(){return'engine.model.operation.NoOperation'}}s.a=f},function(r,s,d){'use strict';var u=d(0);class f{constructor(h,w,T){if(this.textNode=h,0>w||w>h.offsetSize)throw new u.a('model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>T||w+T>h.offsetSize)throw new u.a('model-textproxy-wrong-length: Given length value is incorrect.');this.data=h.data.substring(w,w+T),this.offsetInText=w}get startOffset(){return null===this.textNode.startOffset?null:this.textNode.startOffset+this.offsetInText}get offsetSize(){return this.data.length}get endOffset(){return null===this.startOffset?null:this.startOffset+this.offsetSize}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(h){return'textProxy'==h}getPath(){const h=this.textNode.getPath();return 0<h.length&&(h[h.length-1]+=this.offsetInText),h}getAncestors(h={includeSelf:!1,parentFirst:!1}){const w=[];for(let T=h.includeSelf?this:this.parent;T;)w[h.parentFirst?'push':'unshift'](T),T=T.parent;return w}hasAttribute(h){return this.textNode.hasAttribute(h)}getAttribute(h){return this.textNode.getAttribute(h)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}s.a=f},function(r,s,d){'use strict';function u(F){return F instanceof Text&&F.data.substr(0,O)===V}function C(F,N){if(N.keyCode==P.a.arrowleft){const I=N.domTarget.ownerDocument.defaultView.getSelection();if(1==I.rangeCount&&I.getRangeAt(0).collapsed){const M=I.getRangeAt(0).startContainer,D=I.getRangeAt(0).startOffset;u(M)&&D<=O&&I.collapse(M,0)}}}d.d(s,'i',function(){return V}),s.b=u,s.e=function(F){return F.data.length==O&&u(F)},s.f=function(F){return u(F)?F.data.slice(O):F.data},s.d=function(F,N){let I=R.get(N);return I||(I=N(window.document),R.set(N,I)),F.isEqualNode(I)},s.h=function(F){F.on('keydown',C)};var P=d(24);s.a=(F)=>{const N=F.createElement('br');return N.dataset.ckeFiller=!0,N};s.g=(F)=>F.createTextNode('\xA0');const O=7;s.c=O;let V='';for(let F=0;F<O;F++)V+='\u200B';const R=new WeakMap},function(r,s,d){'use strict';var u=d(54),f=d(120);class h extends u.a{constructor(w){super(w),this.useCapture=!1}observe(w){const T='string'==typeof this.domEventType?[this.domEventType]:this.domEventType;T.forEach((C)=>{this.listenTo(w,C,(P,E)=>{this.isEnabled&&this.onDomEvent(E)},{useCapture:this.useCapture})})}fire(w,T,C){this.isEnabled&&this.document.fire(w,new f.a(this.document,T,C))}}s.a=h},function(r,s){'use strict';s.a=function(f){const h=f.next();return h.done?null:h.value}},function(r,s,d){'use strict';var u=d(88),f=d(19),h=d(0),w=d(4);class T{constructor(){this.set('isFocused',!1),this.focusedElement=null,this._elements=new Set,this._nextEventLoopTimeout=null}add(C){if(this._elements.has(C))throw new h.a('focusTracker-add-element-already-exist');this.listenTo(C,'focus',()=>this._focus(C),{useCapture:!0}),this.listenTo(C,'blur',()=>this._blur(),{useCapture:!0}),this._elements.add(C)}remove(C){C===this.focusedElement&&this._blur(C),this._elements.has(C)&&(this.stopListening(C),this._elements.delete(C))}_focus(C){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=C,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}s.a=T,d.i(w.a)(T,u.a),d.i(w.a)(T,f.a)},function(r,s,d){'use strict';var f=d(60),h=Object.prototype,w=h.hasOwnProperty;s.a=function(T,C,P){var E=T[C];w.call(T,C)&&d.i(f.a)(E,P)&&(P!==void 0||C in T)||(T[C]=P)}},function(r,s,d){'use strict';var f=d(90),h=d(129),w=d(130),T=d(29),C=d(137),P=d(139);s.a=function(S,O,V,R){var F=-1,N=h.a,I=!0,M=S.length,D=[],L=O.length;if(!M)return D;V&&(O=d.i(T.a)(O,d.i(C.a)(V))),R?(N=w.a,I=!1):O.length>=200&&(N=P.a,I=!1,O=new f.a(O));outer:for(;++F<M;){var z=S[F],q=V?V(z):z;if(z=R||0!==z?z:0,I&&q===q){for(var H=L;H--;)if(O[H]===q)continue outer;D.push(z)}else N(O,q,R)||D.push(z)}return D}},function(r,s,d){'use strict';var f=d(191);s.a=function(h){return d.i(f.a)(h,!1,!0)}},function(r,s,d){'use strict';var f=d(193),h=d(457),w=d(201),T=d(104),C=d(41),P=d(101);s.a=function(E){var S=d.i(P.a)(E);if(!(S||d.i(T.a)(E)))return d.i(h.a)(E);var O=d.i(w.a)(E),R=O||[],F=R.length;for(var N in E)!d.i(f.a)(E,N)||!!O&&('length'==N||d.i(C.a)(N,F))||S&&'constructor'==N||R.push(N);return R}},function(r,s){'use strict';s.a=function(){let f='e';for(let h=0;8>h;h++)f+=_Mathfloor(65536*(1+Math.random())).toString(16).substring(1);return f}},function(r,s,d){'use strict';function u(N,I,M,D){if(M.test(I.input,{name:I.input.name})&&h(I.input,I.context,D.schema,!1)){I.context.push('paragraph');const L=D.convertItem(I.input,M,I);I.context.pop(),I.output=L}}function f(N,I,M,D){if(!I.output)return;const L=R.paragraphLikeElements.has(I.input.name)&&!I.output.is('element'),z=I.input.is('documentFragment')||I.input.is('element')&&I.output.is('element')||L;if(!z)return;const q=I.output.is('element');q&&I.context.push(I.output);let H=null;for(let W=0;W<I.output.childCount;W++){const $=I.output.getChild(W);h($,I.context,D.schema,L)?(H?W--:(H=new E.a('paragraph'),I.output.insertChildren($.index,H)),$.remove(),H.appendChildren($)):H=null}q&&I.context.pop()}function h(N,I,M,D){const L=N.name||'$text';return!D&&M.check({name:L,inside:I})?!1:!!M.check({name:'paragraph',inside:I})&&!!M.check({name:L,inside:I.concat('paragraph')})}function w(N,I){for(const M of N.getRootNames()){const D=N.getRoot(M);D.isEmpty?!F.has(D)&&F.set(D,I):F.delete(D)}}function T(){for(const[N,I]of F){const D=I.document,L=D.schema;L.check({name:'paragraph',inside:[N]})&&D.enqueueChanges(()=>{F.delete(N),I.insert(S.a.createAt(N),new E.a('paragraph'))})}}var C=d(394),P=d(2),E=d(6),S=d(1),O=d(43),V=d(34);class R extends P.a{static get pluginName(){return'Paragraph'}init(){const N=this.editor,I=N.document,M=N.data,D=N.editing;N.commands.add('paragraph',new C.a(N)),I.schema.registerItem('paragraph','$block'),d.i(O.a)().for(M.modelToView,D.modelToView).fromElement('paragraph').toElement('p'),d.i(V.a)().for(M.viewToModel).fromElement('p').toElement('paragraph'),M.viewToModel.on('element',u,{priority:'low'}),M.viewToModel.on('text',u,{priority:'lowest'}),M.viewToModel.on('element',f,{priority:'lowest'}),M.viewToModel.on('documentFragment',f,{priority:'lowest'}),I.on('change',(L,z,q,H)=>{'transparent'==H.type||w(I,H)}),I.on('changesDone',T,{priority:'lowest'}),N.on('dataReady',()=>{w(I,I.batch('transparent')),T()},{priority:'lowest'})}}s.a=R,R.paragraphLikeElements=new Set(['blockquote','dd','div','dt','h1','h2','h3','h4','h5','h6','li','p','td']);const F=new Map},function(r,s,d){'use strict';var u=d(20),f=d(16),h=d(77),w=d(15),T=d(1),C=d(6),P=d(37),E=d(26),S=d(0);class O extends u.a{get type(){return'merge'}get position(){return this._removeOperation?this._removeOperation.sourcePosition:null}get _removeOperation(){return this.operations[1]||null}get _reverseDeltaClass(){return h.a}static get className(){return'engine.model.delta.MergeDelta'}}s.a=O,d.i(w.b)('merge',function(V){const R=new O;this.addDelta(R);const F=V.nodeBefore,N=V.nodeAfter;if(!(F instanceof C.a))throw new S.a('batch-merge-no-element-before: Node before merge position must be an element.');if(!(N instanceof C.a))throw new S.a('batch-merge-no-element-after: Node after merge position must be an element.');const I=T.a.createFromParentAndOffset(N,0),M=T.a.createFromParentAndOffset(F,F.maxOffset),D=new E.a(I,N.maxOffset,M,this.document.version);D.isSticky=!0,R.addOperation(D),this.document.applyOperation(D);const L=this.document.graveyard,z=new T.a(L,[0]),q=new P.a(V,1,z,this.document.version);return R.addOperation(q),this.document.applyOperation(q),this}),f.a.register(O)},function(r,s,d){'use strict';function u(O,V,R,F,N){const I=new T.a(R,F,N,O.document.version);V.addOperation(I),O.document.applyOperation(I)}var f=d(20),h=d(16),w=d(15),T=d(26),C=d(1),P=d(3),E=d(0);class S extends f.a{get type(){return'move'}get howMany(){return this._moveOperation?this._moveOperation.howMany:null}get sourcePosition(){return this._moveOperation?this._moveOperation.sourcePosition:null}get targetPosition(){return this._moveOperation?this._moveOperation.targetPosition:null}get _moveOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return S}static get className(){return'engine.model.delta.MoveDelta'}}s.a=S,d.i(w.b)('move',function(O,V){const R=new S;if(this.addDelta(R),O instanceof P.a){if(!O.isFlat)throw new E.a('batch-move-range-not-flat: Range to move is not flat.');u(this,R,O.start,O.end.offset-O.start.offset,V)}else u(this,R,C.a.createBefore(O),1,V);return this}),h.a.register(S)},function(r,s,d){'use strict';function u(S,O,V){const R=new E;S.addDelta(R);const F=S.document.graveyard,N=new C.a(F,[0]),I=new T.a(O,V,N,S.document.version);R.addOperation(I),S.document.applyOperation(I)}var f=d(75),h=d(15),w=d(16),T=d(37),C=d(1),P=d(3);class E extends f.a{static get className(){return'engine.model.delta.RemoveDelta'}}s.a=E,d.i(h.b)('remove',function(S){if(S instanceof P.a){const O=S.getMinimalFlatRanges().reverse();for(const V of O)u(this,V.start,V.end.offset-V.start.offset)}else u(this,C.a.createBefore(S),1);return this}),w.a.register(E)},function(r,s,d){'use strict';var u=d(20),f=d(16),h=d(15),w=d(1),T=d(6),C=d(44),P=d(26),E=d(0),S=d(74);class O extends u.a{get type(){return'split'}get position(){return this._moveOperation?this._moveOperation.sourcePosition:null}get _cloneOperation(){return this.operations[0]||null}get _moveOperation(){return this.operations[1]&&this.operations[1]instanceof P.a?this.operations[1]:null}get _reverseDeltaClass(){return S.a}static get className(){return'engine.model.delta.SplitDelta'}}s.a=O,d.i(h.b)('split',function(V){const R=new O;this.addDelta(R);const F=V.parent;if(!F.parent)throw new E.a('batch-split-root: Root element can not be split.');const N=new T.a(F.name,F.getAttributes()),I=new C.a(w.a.createAfter(F),N,this.document.version);R.addOperation(I),this.document.applyOperation(I);const M=new P.a(V,F.maxOffset-V.offset,w.a.createFromParentAndOffset(N,0),this.document.version);return M.isSticky=!0,R.addOperation(M),this.document.applyOperation(M),this}),f.a.register(O)},function(r,s,d){'use strict';var u=d(20),f=d(16),h=d(79),w=d(15),T=d(1),C=d(37),P=d(26),E=d(0);class S extends u.a{get type(){return'unwrap'}get position(){return this._moveOperation?this._moveOperation.targetPosition:null}get _moveOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return h.a}static get className(){return'engine.model.delta.UnwrapDelta'}}s.a=S,d.i(w.b)('unwrap',function(O){if(null===O.parent)throw new E.a('batch-unwrap-element-no-parent: Trying to unwrap an element which has no parent.');const V=new S;this.addDelta(V);const R=T.a.createFromParentAndOffset(O,0),F=new P.a(R,O.maxOffset,T.a.createBefore(O),this.document.version);F.isSticky=!0,V.addOperation(F),this.document.applyOperation(F);const N=this.document.graveyard,I=new T.a(N,[0]),M=new C.a(T.a.createBefore(O),1,I,this.document.version);return V.addOperation(M),this.document.applyOperation(M),this}),f.a.register(S)},function(r,s,d){'use strict';var u=d(20),f=d(16),h=d(78),w=d(15),T=d(1),C=d(3),P=d(6),E=d(44),S=d(26),O=d(0);class V extends u.a{get type(){return'wrap'}get range(){const R=this._moveOperation;return R?C.a.createFromPositionAndShift(R.sourcePosition,R.howMany):null}get howMany(){const R=this.range;return R?R.end.offset-R.start.offset:0}get _insertOperation(){return this.operations[0]||null}get _moveOperation(){return this.operations[1]||null}get _reverseDeltaClass(){return h.a}static get className(){return'engine.model.delta.WrapDelta'}}s.a=V,d.i(w.b)('wrap',function(R,F){if(!R.isFlat)throw new O.a('batch-wrap-range-not-flat: Range to wrap is not flat.');const N=F instanceof P.a?F:new P.a(F);if(0<N.childCount)throw new O.a('batch-wrap-element-not-empty: Element to wrap with is not empty.');if(null!==N.parent)throw new O.a('batch-wrap-element-attached: Element to wrap with is already attached to tree model.');const I=new V;this.addDelta(I);const M=new E.a(R.end,N,this.document.version);I.addOperation(M),this.document.applyOperation(M);const D=T.a.createFromParentAndOffset(N,0),L=new S.a(R.start,R.end.offset-R.start.offset,D,this.document.version);return I.addOperation(L),this.document.applyOperation(L),this}),f.a.register(V)},function(r,s,d){'use strict';var u=d(61),f=d(0);class h{constructor(w){this._nodes=[],w&&this.insertNodes(0,w)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((w,T)=>w+T.offsetSize,0)}getNode(w){return this._nodes[w]||null}getNodeIndex(w){const T=this._nodes.indexOf(w);return-1==T?null:T}getNodeStartOffset(w){const T=this.getNodeIndex(w);return null===T?null:this._nodes.slice(0,T).reduce((C,P)=>C+P.offsetSize,0)}indexToOffset(w){if(w==this._nodes.length)return this.maxOffset;const T=this._nodes[w];if(!T)throw new f.a('model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.');return this.getNodeStartOffset(T)}offsetToIndex(w){let T=0;for(const C of this._nodes){if(w>=T&&w<T+C.offsetSize)return this.getNodeIndex(C);T+=C.offsetSize}if(T!=w)throw new f.a('model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.');return this.length}insertNodes(w,T){for(const C of T)if(!(C instanceof u.a))throw new f.a('model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.');this._nodes.splice(w,0,...T)}removeNodes(w,T=1){return this._nodes.splice(w,T)}toJSON(){return this._nodes.map((w)=>w.toJSON())}}s.a=h},function(r,s,d){'use strict';var u=d(36),f=d(3),h=d(0),w=d(21),T=d(523);class C extends u.a{constructor(P,E,S,O,V){super(V),this.range=f.a.createFromRange(P),this.key=E,this.oldValue=S===void 0?null:S,this.newValue=O===void 0?null:O}get type(){return null===this.oldValue?'addAttribute':null===this.newValue?'removeAttribute':'changeAttribute'}clone(){return new C(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new C(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_execute(){for(const P of this.range.getItems()){if(null!==this.oldValue&&!d.i(T.a)(P.getAttribute(this.key),this.oldValue))throw new h.a('attribute-operation-wrong-old-value: Changed node has different attribute value than operation\\\'s old attribute value.',{item:P,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&P.hasAttribute(this.key))throw new h.a('attribute-operation-attribute-exists: The attribute with given key already exists.',{node:P,key:this.key});if(d.i(T.a)(this.oldValue,this.newValue))return}return w.a.setAttribute(this.range,this.key,this.newValue),{range:this.range,key:this.key,oldValue:this.oldValue,newValue:this.newValue}}static get className(){return'engine.model.operation.AttributeOperation'}static fromJSON(P,E){return new C(f.a.fromJSON(P.range,E),P.key,P.oldValue,P.newValue,P.baseVersion)}}s.a=C},function(r,s,d){'use strict';function u(R,F){return!F.has(R)&&(F.add(R),R.document.schema.itemExtends(R.name,'$block')&&R.parent)}function f(R,F){const N=R.parent.getAncestors({parentFirst:!0,includeSelf:!0}),I=N.find((M)=>u(M,F));return N.forEach((M)=>F.add(M)),I}var h=d(1),w=d(6),T=d(3),C=d(9),P=d(0),E=d(4),S=d(154),O=d(536);class V{constructor(R,F){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,R&&this.setRanges(R,F)}get anchor(){if(0<this._ranges.length){const R=this._ranges[this._ranges.length-1];return this._lastRangeBackward?R.end:R.start}return null}get focus(){if(0<this._ranges.length){const R=this._ranges[this._ranges.length-1];return this._lastRangeBackward?R.start:R.end}return null}get isCollapsed(){const R=this._ranges.length;return!(1!==R)&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(R){if(this.rangeCount!=R.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(R.anchor)||!this.focus.isEqual(R.focus))return!1;for(const F of this._ranges){let N=!1;for(const I of R._ranges)if(F.isEqual(I)){N=!0;break}if(!N)return!1}return!0}*getRanges(){for(const R of this._ranges)yield T.a.createFromRange(R)}getFirstRange(){let R=null;for(const F of this._ranges)(!R||F.start.isBefore(R.start))&&(R=F);return R?T.a.createFromRange(R):null}getLastRange(){let R=null;for(const F of this._ranges)(!R||F.end.isAfter(R.end))&&(R=F);return R?T.a.createFromRange(R):null}getFirstPosition(){const R=this.getFirstRange();return R?h.a.createFromPosition(R.start):null}getLastPosition(){const R=this.getLastRange();return R?h.a.createFromPosition(R.end):null}addRange(R,F=!1){this._pushRange(R),this._lastRangeBackward=!!F,this.fire('change:range',{directChange:!0})}removeAllRanges(){0<this._ranges.length&&(this._removeAllRanges(),this.fire('change:range',{directChange:!0}))}setRanges(R,F=!1){R=Array.from(R);const N=R.some((I)=>{if(!(I instanceof T.a))throw new P.a('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');return this._ranges.every((M)=>{return!M.isEqual(I)})});if(R.length!==this._ranges.length||N){this._removeAllRanges();for(const I of R)this._pushRange(I);this._lastRangeBackward=!!F,this.fire('change:range',{directChange:!0})}}setTo(R){this.setRanges(R.getRanges(),R.isBackward)}collapse(R,F){const N=h.a.createAt(R,F),I=new T.a(N,N);this.setRanges([I])}collapseToStart(){const R=this.getFirstPosition();null!==R&&this.setRanges([new T.a(R,R)])}collapseToEnd(){const R=this.getLastPosition();null!==R&&this.setRanges([new T.a(R,R)])}setFocus(R,F){if(null===this.anchor)throw new P.a('model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.');const N=h.a.createAt(R,F);if('same'!=N.compareWith(this.focus)){const I=this.anchor;this._ranges.length&&this._popRange(),'before'==N.compareWith(I)?this.addRange(new T.a(N,I),!0):this.addRange(new T.a(I,N))}}getAttribute(R){return this._attrs.get(R)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(R){return this._attrs.has(R)}clearAttributes(){if(0<this._attrs.size){const R=Array.from(this._attrs.keys());this._attrs.clear(),this.fire('change:attribute',{attributeKeys:R,directChange:!0})}}removeAttribute(R){this.hasAttribute(R)&&(this._attrs.delete(R),this.fire('change:attribute',{attributeKeys:[R],directChange:!0}))}setAttribute(R,F){this.getAttribute(R)!==F&&(this._attrs.set(R,F),this.fire('change:attribute',{attributeKeys:[R],directChange:!0}))}setAttributesTo(R){if(R=d.i(S.a)(R),!d.i(O.a)(R,this._attrs)){const F=new Set(Array.from(R.keys()).concat(Array.from(this._attrs.keys())));for(const[N,I]of R)this._attrs.get(N)===I&&F.delete(N);this._attrs=R,this.fire('change:attribute',{attributeKeys:Array.from(F),directChange:!0})}}getSelectedElement(){if(1!==this.rangeCount)return null;const R=this.getFirstRange(),F=R.start.nodeAfter,N=R.end.nodeBefore;return F instanceof w.a&&F==N?F:null}*getSelectedBlocks(){const R=new WeakSet;for(const F of this.getRanges()){const N=f(F.start,R);N&&(yield N);for(const M of F.getWalker())'elementEnd'==M.type&&u(M.item,R)&&(yield M.item);const I=f(F.end,R);I&&!F.end.isTouching(h.a.createAt(I))&&(yield I)}}static createFromSelection(R){const F=new this;return F.setTo(R),F}_pushRange(R){if(!(R instanceof T.a))throw new P.a('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');this._checkRange(R),this._ranges.push(T.a.createFromRange(R))}_checkRange(R){for(let F=0;F<this._ranges.length;F++)if(R.isIntersecting(this._ranges[F]))throw new P.a('model-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:R,intersectingRange:this._ranges[F]})}_popRange(){this._ranges.pop()}_removeAllRanges(){for(;0<this._ranges.length;)this._popRange()}}s.a=V,d.i(E.a)(V,C.a)},function(r,s,d){'use strict';var u=d(45),f=d(0),h=d(4),w=d(19);const T=Symbol('document');class C extends u.a{constructor(P,E,S){super(P,E,S),this.set('isReadOnly',!1),this.set('isFocused',!1)}get document(){return this.getCustomProperty(T)}set document(P){if(this.getCustomProperty(T))throw new f.a('view-editableelement-document-already-set: View document is already set.');this.setCustomProperty(T,P),this.bind('isReadOnly').to(P),this.bind('isFocused').to(P,'isFocused',(E)=>E&&P.selection.editableElement==this),this.listenTo(P,'render',()=>{this.isFocused=P.isFocused&&P.selection.editableElement==this},{priority:'high'})}}s.a=C,d.i(h.a)(C,w.a)},function(r,s,d){'use strict';var u=d(0),f=d(9),h=d(4),w=d(70);class T{constructor(){this.parent=null}get index(){let C;if(!this.parent)return null;if(-1==(C=this.parent.getChildIndex(this)))throw new u.a('view-node-not-found-in-parent: The node\'s parent does not contain this node.');return C}get nextSibling(){const C=this.index;return null!==C&&this.parent.getChild(C+1)||null}get previousSibling(){const C=this.index;return null!==C&&this.parent.getChild(C-1)||null}get root(){let C=this;for(;C.parent;)C=C.parent;return C}get document(){return this.parent instanceof T?this.parent.document:null}getAncestors(C={includeSelf:!1,parentFirst:!1}){const P=[];for(let E=C.includeSelf?this:this.parent;E;)P[C.parentFirst?'push':'unshift'](E),E=E.parent;return P}getCommonAncestor(C,P={}){const E=this.getAncestors(P),S=C.getAncestors(P);let O=0;for(;E[O]==S[O]&&E[O];)O++;return 0==O?null:E[O-1]}remove(){this.parent.removeChildren(this.index)}_fireChange(C,P){this.fire('change:'+C,P),this.parent&&this.parent._fireChange(C,P)}toJSON(){const C=d.i(w.a)(this);return delete C.parent,C}}s.a=T,d.i(h.a)(T,f.a)},function(r,s,d){'use strict';var u=d(0),f=d(38),h=d(22),w=d(4),T=d(9),C=d(28),P=d(125);class E{constructor(S,O){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel='',S&&this.setRanges(S,O)}setFake(S=!0,O={}){this._isFake=S,this._fakeSelectionLabel=S?O.label||'':'',this.fire('change')}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const S=this._ranges[this._ranges.length-1],O=this._lastRangeBackward?S.end:S.start;return h.a.createFromPosition(O)}get focus(){if(!this._ranges.length)return null;const S=this._ranges[this._ranges.length-1],O=this._lastRangeBackward?S.start:S.end;return h.a.createFromPosition(O)}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}addRange(S,O){if(!(S instanceof f.a))throw new u.a('view-selection-invalid-range: Invalid Range.');this._pushRange(S),this._lastRangeBackward=!!O,this.fire('change')}*getRanges(){for(const S of this._ranges)yield f.a.createFromRange(S)}getFirstRange(){let S=null;for(const O of this._ranges)(!S||O.start.isBefore(S.start))&&(S=O);return S?f.a.createFromRange(S):null}getLastRange(){let S=null;for(const O of this._ranges)(!S||O.end.isAfter(S.end))&&(S=O);return S?f.a.createFromRange(S):null}getFirstPosition(){const S=this.getFirstRange();return S?h.a.createFromPosition(S.start):null}getLastPosition(){const S=this.getLastRange();return S?h.a.createFromPosition(S.end):null}isEqual(S){if(this.isFake!=S.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=S.fakeSelectionLabel)return!1;if(this.rangeCount!=S.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(S.anchor)||!this.focus.isEqual(S.focus))return!1;for(const O of this._ranges){let V=!1;for(const R of S._ranges)if(O.isEqual(R)){V=!0;break}if(!V)return!1}return!0}isSimilar(S){if(this.isBackward!=S.isBackward)return!1;const O=d.i(P.a)(this.getRanges()),V=d.i(P.a)(S.getRanges());if(O!=V)return!1;if(0==O)return!0;for(let R of this.getRanges()){R=R.getTrimmed();let F=!1;for(let N of S.getRanges())if(N=N.getTrimmed(),R.start.isEqual(N.start)&&R.end.isEqual(N.end)){F=!0;break}if(!F)return!1}return!0}removeAllRanges(){this._ranges.length&&(this._ranges=[],this.fire('change'))}setRanges(S,O){this._ranges=[];for(const V of S){if(!(V instanceof f.a))throw new u.a('view-selection-invalid-range: Invalid Range.');this._pushRange(V)}this._lastRangeBackward=!!O,this.fire('change')}setTo(S){this._isFake=S._isFake,this._fakeSelectionLabel=S._fakeSelectionLabel,this.setRanges(S.getRanges(),S.isBackward)}collapse(S,O){const V=h.a.createAt(S,O),R=new f.a(V,V);this.setRanges([R])}collapseToStart(){const S=this.getFirstPosition();null!==S&&this.setRanges([new f.a(S,S)])}collapseToEnd(){const S=this.getLastPosition();null!==S&&this.setRanges([new f.a(S,S)])}setFocus(S,O){if(null===this.anchor)throw new u.a('view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.');const V=h.a.createAt(S,O);if('same'!=V.compareWith(this.focus)){const R=this.anchor;this._ranges.pop(),'before'==V.compareWith(R)?this.addRange(new f.a(V,R),!0):this.addRange(new f.a(R,V))}}getSelectedElement(){if(1!==this.rangeCount)return null;const S=this.getFirstRange(),O=S.start.nodeAfter,V=S.end.nodeBefore;return O instanceof C.a&&O==V?O:null}static createFromSelection(S){const O=new E;return O.setTo(S),O}_pushRange(S){for(const O of this._ranges)if(S.isIntersecting(O))throw new u.a('view-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:S,intersectingRange:O});this._ranges.push(f.a.createFromRange(S))}}s.a=E,d.i(w.a)(E,T.a)},function(r,s,d){'use strict';function h(de){const ce=de.offset,ue=de.parent;if(ue.is('text'))return de;if(ue.is('attributeElement')&&0===ue.childCount){const ge=ue.parent,fe=ue.index;return ue.remove(),h(new Y.a(ge,fe))}const me=ue.getChild(ce-1),pe=ue.getChild(ce);if(!me||!pe)return de;if(me.is('text')&&pe.is('text'))return H(me,pe);if(me.is('attributeElement')&&pe.is('attributeElement')&&me.isSimilar(pe)){const ge=me.childCount;return me.appendChildren(pe.getChildren()),pe.remove(),h(new Y.a(me,ge))}return de}function C(de,ce){ce=d.i(re.a)(ce)?[...ce]:[ce],K(ce);const ue=N(de);if(!ue)throw new oe.a('view-writer-invalid-position-container');const me=M(de,!0),pe=ue.insertChildren(me.offset,ce),ge=me.getShiftedBy(pe),fe=h(me);if(0===pe)return new ae.a(fe,fe);fe.isEqual(me)||ge.offset--;const he=h(ge);return new ae.a(fe,he)}function P(de){if(J(de),de.isCollapsed)return new ie.a;const{start:ce,end:ue}=I(de,!0),me=ce.parent,pe=ue.offset-ce.offset,ge=me.removeChildren(ce.offset,pe),fe=h(ce);return de.start=fe,de.end=Y.a.createFromPosition(fe),new ie.a(ge)}function S(de,ce){let ue;if(ce.isAfter(de.end)){ce=M(ce,!0);const me=ce.parent,pe=me.childCount;de=I(de,!0),ue=P(de),ce.offset+=me.childCount-pe}else ue=P(de);return C(ce,ue)}function O(de,ce){if(!(ce instanceof X.a))throw new oe.a('view-writer-wrap-invalid-attribute');if(J(de),de.isCollapsed)return de;if(de.end.isEqual(de.start.getShiftedBy(1))){const _e=de.start.nodeAfter;if(_e instanceof X.a&&W(ce,_e))return de}if(U(de)&&W(ce,de.start.parent)){const _e=de.start.parent.parent,ke=de.start.parent.index;return ae.a.createFromParentsAndOffsets(_e,ke,_e,ke+1)}const{start:ue,end:me}=I(de,!0),pe=ue.parent,ge=D(pe,ue.offset,me.offset,ce),fe=L(pe,ge.start.offset,ge.end.offset,ce),he=h(fe.start);he.isEqual(fe.start)||fe.end.offset--;const be=h(fe.end);return new ae.a(he,be)}function N(de){let ce=de.parent;for(;!Q(ce);){if(!ce)return;ce=ce.parent}return ce}function I(de,ce=!1){const ue=de.start,me=de.end;if(J(de),de.isCollapsed){const he=M(de.start,ce);return new ae.a(he,he)}const pe=M(me,ce),ge=pe.parent.childCount,fe=M(ue,ce);return pe.offset+=pe.parent.childCount-ge,new ae.a(fe,pe)}function M(de,ce=!1){const ue=de.offset,me=de.parent;if(de.parent.is('emptyElement'))throw new oe.a('view-writer-cannot-break-empty-element');if(de.parent.is('uiElement'))throw new oe.a('view-writer-cannot-break-ui-element');if(!ce&&me.is('text')&&Q(me.parent))return Y.a.createFromPosition(de);if(Q(me))return Y.a.createFromPosition(de);if(me.is('text'))return M(q(de),ce);const pe=me.childCount;if(ue==pe){const ge=new Y.a(me.parent,me.index+1);return M(ge,ce)}if(0===ue){const ge=new Y.a(me.parent,me.index);return M(ge,ce)}const ge=me.index+1,fe=me.clone();me.parent.insertChildren(ge,fe);const he=me.childCount-ue,be=me.removeChildren(ue,he);fe.appendChildren(be);const _e=new Y.a(me.parent,ge);return M(_e,ce)}function D(de,ce,ue,me){let pe=ce;const ge=[];for(;pe<ue;){const he=de.getChild(pe);if(he.isSimilar(me)){const be=he.getChildren(),_e=he.childCount;he.remove(),de.insertChildren(pe,be),ge.push(new Y.a(de,pe),new Y.a(de,pe+_e)),pe+=_e,ue+=_e-1}else he.is('attributeElement')&&D(he,0,he.childCount,me),pe++}let fe=0;for(const he of ge){if(he.offset-=fe,he.offset==ce||he.offset==ue)continue;const be=h(he);be.isEqual(he)||(fe++,ue--)}return ae.a.createFromParentsAndOffsets(de,ce,de,ue)}function L(de,ce,ue,me){let pe=ce;const ge=[];for(;pe<ue;){const he=de.getChild(pe),be=he.is('text'),_e=he.is('attributeElement'),ke=he.is('emptyElement'),we=he.is('uiElement');if(be||ke||we||_e&&me.priority<=he.priority){const ye=me.clone();he.remove(),ye.appendChildren(he),de.insertChildren(pe,ye),ge.push(new Y.a(de,pe))}else _e&&L(he,0,he.childCount,me);pe++}let fe=0;for(const he of ge){if(he.offset-=fe,he.offset==ce)continue;const be=h(he);be.isEqual(he)||(fe++,ue--)}return ae.a.createFromParentsAndOffsets(de,ce,de,ue)}function z(de){const ce=de.nodeBefore;if(ce&&ce.is('text'))return new Y.a(ce,ce.data.length);const ue=de.nodeAfter;return ue&&ue.is('text')?new Y.a(ue,0):de}function q(de){if(de.offset==de.parent.data.length)return new Y.a(de.parent.parent,de.parent.index+1);if(0===de.offset)return new Y.a(de.parent.parent,de.parent.index);const ce=de.parent.data.slice(de.offset);return de.parent.data=de.parent.data.slice(0,de.offset),de.parent.parent.insertChildren(de.parent.index+1,new te.a(ce)),new Y.a(de.parent.parent,de.parent.index+1)}function H(de,ce){const ue=de.data.length;return de.data+=ce.data,ce.remove(),new Y.a(de,ue)}function W(de,ce){if(de.name!==ce.name||de.priority!==ce.priority)return!1;for(const ue of de.getAttributeKeys())if('class'!==ue&&'style'!==ue&&ce.hasAttribute(ue)&&ce.getAttribute(ue)!==de.getAttribute(ue))return!1;for(const ue of de.getStyleNames())if(ce.hasStyle(ue)&&ce.getStyle(ue)!==de.getStyle(ue))return!1;for(const ue of de.getAttributeKeys())'class'!==ue&&'style'!==ue&&(ce.hasAttribute(ue)||ce.setAttribute(ue,de.getAttribute(ue)));for(const ue of de.getStyleNames())ce.hasStyle(ue)||ce.setStyle(ue,de.getStyle(ue));for(const ue of de.getClassNames())ce.hasClass(ue)||ce.addClass(ue);return!0}function $(de,ce){if(de.name!==ce.name||de.priority!==ce.priority)return!1;for(const ue of de.getAttributeKeys())if('class'!==ue&&'style'!==ue&&(!ce.hasAttribute(ue)||ce.getAttribute(ue)!==de.getAttribute(ue)))return!1;if(!ce.hasClass(...de.getClassNames()))return!1;for(const ue of de.getStyleNames())if(!ce.hasStyle(ue)||ce.getStyle(ue)!==de.getStyle(ue))return!1;for(const ue of de.getAttributeKeys())'class'!==ue&&'style'!==ue&&ce.removeAttribute(ue);return ce.removeClass(...de.getClassNames()),ce.removeStyle(...de.getStyleNames()),!0}function U(de){return de.start.parent==de.end.parent&&de.start.parent.is('attributeElement')&&0===de.start.offset&&de.end.offset===de.start.parent.childCount}function K(de){for(const ce of de){if(!le.some((ue)=>ce instanceof ue))throw new oe.a('view-writer-insert-invalid-node');ce.is('text')||K(ce.getChildren())}}function Q(de){return de&&(de.is('containerElement')||de.is('documentFragment'))}function J(de){const ce=N(de.start),ue=N(de.end);if(!ce||!ue||ce!==ue)throw new oe.a('view-writer-invalid-range-container')}var Y=d(22),G=d(45),X=d(117),Z=d(165),ee=d(121),te=d(32),ae=d(38),ne=d(55),oe=d(0),ie=d(118),re=d(47);s.a={breakAttributes:function(de){return de instanceof Y.a?M(de):I(de)},breakContainer:function(de){const ce=de.parent;if(!ce.is('containerElement'))throw new oe.a('view-writer-break-non-container-element: Trying to break an element which is not a container element.');if(!ce.parent)throw new oe.a('view-writer-break-root: Trying to break root element.');if(de.isAtStart)return Y.a.createBefore(ce);if(!de.isAtEnd){const ue=ce.clone(!1);C(Y.a.createAfter(ce),ue);const me=new ae.a(de,Y.a.createAt(ce,'end')),pe=new Y.a(ue,0);S(me,pe)}return Y.a.createAfter(ce)},mergeAttributes:h,mergeContainers:function(de){const ce=de.nodeBefore,ue=de.nodeAfter;if(!ce||!ue||!ce.is('containerElement')||!ue.is('containerElement'))throw new oe.a('view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.');const me=ce.getChild(ce.childCount-1),pe=me instanceof te.a?Y.a.createAt(me,'end'):Y.a.createAt(ce,'end');return S(ae.a.createIn(ue),Y.a.createAt(ce,'end')),P(ae.a.createOn(ue)),pe},insert:C,remove:P,clear:function(de,ce){J(de);const ue=de.getWalker({direction:'backward',ignoreElementEnd:!0});for(const me of ue){const pe=me.item;let ge;if(pe.is('element')&&ce.isSimilar(pe))ge=ae.a.createOn(pe);else if(!me.nextPosition.isAfter(de.start)&&(pe.is('text')||pe.is('textProxy'))){const fe=pe.getAncestors().find((he)=>{return he.is('element')&&ce.isSimilar(he)});fe&&(ge=ae.a.createIn(fe))}ge&&(ge.end.isAfter(de.end)&&(ge.end=de.end),ge.start.isBefore(de.start)&&(ge.start=de.start),P(ge))}},move:S,wrap:O,wrapPosition:function(de,ce){if(!(ce instanceof X.a))throw new oe.a('view-writer-wrap-invalid-attribute');if(ce.isSimilar(de.parent))return z(Y.a.createFromPosition(de));de.parent.is('text')&&(de=q(de));const ue=new X.a;ue.priority=_NumberPOSITIVE_INFINITY,ue.isSimilar=()=>!1,de.parent.insertChildren(de.offset,ue);const me=new ae.a(de,de.getShiftedBy(1));O(me,ce);const pe=new Y.a(ue.parent,ue.index);ue.remove();const ge=pe.nodeBefore,fe=pe.nodeAfter;return ge instanceof te.a&&fe instanceof te.a?H(ge,fe):z(pe)},unwrap:function(de,ce){if(!(ce instanceof X.a))throw new oe.a('view-writer-unwrap-invalid-attribute');if(J(de),de.isCollapsed)return de;if(de.end.isEqual(de.start.getShiftedBy(1))){const be=de.start.nodeAfter;if(!ce.isSimilar(be)&&be instanceof X.a&&$(ce,be))return de}const{start:ue,end:me}=I(de,!0),pe=ue.parent,ge=D(pe,ue.offset,me.offset,ce),fe=h(ge.start);fe.isEqual(ge.start)||ge.end.offset--;const he=h(ge.end);return new ae.a(fe,he)},rename:function(de,ce){const ue=new G.a(ce,de.getAttributes());return C(Y.a.createAfter(de),ue),S(ae.a.createIn(de),Y.a.createAt(ue)),P(ae.a.createOn(de)),ue},breakViewRangePerContainer:function(de){const ce=[],ue=new ne.a({boundaries:de});let me=de.start;for(const pe of ue)pe.item.is('containerElement')&&(me.isEqual(pe.previousPosition)||ce.push(new ae.a(me,pe.previousPosition)),me=pe.nextPosition);return ce.push(new ae.a(me,de.end)),ce}};const le=[te.a,X.a,G.a,Z.a,ee.a]},function(r,s,d){'use strict';var u=d(9),f=d(0),h=d(72),w=d(4);class T{constructor(C){this._items=[],this._itemMap=new Map,this._idProperty=C&&C.idProperty||'id',this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap}get length(){return this._items.length}add(C,P){let E;const S=this._idProperty;if(S in C){if(E=C[S],'string'!=typeof E)throw new f.a('collection-add-invalid-id');if(this.get(E))throw new f.a('collection-add-item-already-exists')}else C[S]=E=d.i(h.a)();if(void 0===P)P=this._items.length;else if(P>this._items.length||0>P)throw new f.a('collection-add-item-invalid-index');return this._items.splice(P,0,C),this._itemMap.set(E,C),this.fire('add',C,P),this}get(C){let P;if('string'==typeof C)P=this._itemMap.get(C);else if('number'==typeof C)P=this._items[C];else throw new f.a('collection-get-invalid-arg: Index or id must be given.');return P||null}getIndex(C){let P;return P='string'==typeof C?this._itemMap.get(C):C,this._items.indexOf(P)}remove(C){let O=!1,P,E,S;const V=this._idProperty;if('string'==typeof C?(E=C,S=this._itemMap.get(E),O=!S,S&&(P=this._items.indexOf(S))):'number'==typeof C?(P=C,S=this._items[P],O=!S,S&&(E=S[V])):(S=C,E=S[V],P=this._items.indexOf(S),O=-1==P||!this._itemMap.get(E)),O)throw new f.a('collection-remove-404: Item not found.');this._items.splice(P,1),this._itemMap.delete(E);const R=this._bindToInternalToExternalMap.get(S);return this._bindToInternalToExternalMap.delete(S),this._bindToExternalToInternalMap.delete(R),this.fire('remove',S),S}map(C,P){return this._items.map(C,P)}find(C,P){return this._items.find(C,P)}filter(C,P){return this._items.filter(C,P)}clear(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}bindTo(C){if(this._bindToCollection)throw new f.a('collection-bind-to-rebind: The collection cannot be bound more than once.');return this._bindToCollection=C,{as:(P)=>{this._setUpBindToBinding((E)=>new P(E))},using:(P)=>{'function'==typeof P?this._setUpBindToBinding((E)=>P(E)):this._setUpBindToBinding((E)=>E[P])}}}_setUpBindToBinding(C){const P=this._bindToCollection,E=(S,O,V)=>{const R=P._bindToCollection==this,F=P._bindToInternalToExternalMap.get(O);if(R&&F)this._bindToExternalToInternalMap.set(O,F),this._bindToInternalToExternalMap.set(F,O);else{const N=C(O);this._bindToExternalToInternalMap.set(O,N),this._bindToInternalToExternalMap.set(N,O),this.add(N,V)}};for(const S of P)E(null,S);this.listenTo(P,'add',E),this.listenTo(P,'remove',(S,O)=>{const V=this._bindToExternalToInternalMap.get(O);V&&this.remove(V)})}[Symbol.iterator](){return this._items[Symbol.iterator]()}}s.a=T,d.i(w.a)(T,u.a)},function(r,s,d){'use strict';function u(S){return S['data-ck-expando']||(S['data-ck-expando']=d.i(w.a)())}function f(S){return S&&d.i(C.a)(S.addEventListener)}var h=d(9),w=d(72),T=d(50),C=d(231);const P=d.i(T.a)({},h.a,{listenTo(...S){const O=S[0];f(O)&&(S[0]=this._getProxyEmitter(O)||new E(O)),h.a.listenTo.apply(this,S)},stopListening(...S){const O=S[0];if(f(O)){const V=this._getProxyEmitter(O);if(!V)return;S[0]=V}h.a.stopListening.apply(this,S)},_getProxyEmitter(S){return d.i(h.b)(this,u(S))}});s.a=P;class E{constructor(S){d.i(h.c)(this,u(S)),this._domNode=S}}d.i(T.a)(E.prototype,h.a,{on(S,O,V={}){if(h.a.on.call(this,S,O,V),!(this._domListeners&&this._domListeners[S])){const R=this._createDomListener(S,!!V.useCapture);this._domNode.addEventListener(S,R,!!V.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[S]=R}},off(S,O,V){h.a.off.call(this,S,O,V);let R;!this._domListeners[S]||(R=this._events[S])&&R.callbacks.length||this._domListeners[S].removeListener()},_createDomListener(S,O){const V=(R)=>{this.fire(S,R)};return V.removeListener=()=>{this._domNode.removeEventListener(S,V,O),delete this._domListeners[S]},V}})},function(r,s,d){'use strict';function u(P){var E=-1,S=P?P.length:0;for(this.clear();++E<S;){var O=P[E];this.set(O[0],O[1])}}var f=d(496),h=d(497),w=d(498),T=d(499),C=d(500);u.prototype.clear=f.a,u.prototype['delete']=h.a,u.prototype.get=w.a,u.prototype.has=T.a,u.prototype.set=C.a,s.a=u},function(r,s,d){'use strict';function u(T){var C=-1,P=T?T.length:0;for(this.__data__=new f.a;++C<P;)this.add(T[C])}var f=d(126),h=d(507),w=d(508);u.prototype.add=u.prototype.push=h.a,u.prototype.has=w.a,s.a=u},function(r,s){'use strict';s.a=function(f,h){for(var w=-1,T=f.length,C=0,P=[],E;++w<T;)E=f[w],h(E,w,f)&&(P[C++]=E);return P}},function(r,s){'use strict';s.a=function(f,h){for(var w=-1,T=h.length,C=f.length;++w<T;)f[C+w]=h[w];return f}},function(r,s,d){'use strict';var f=d(60);s.a=function(h,w){for(var T=h.length;T--;)if(d.i(f.a)(h[T][0],w))return T;return-1}},function(r,s,d){'use strict';function u(T,C,P,E,S){return!(T!==C)||(null!=T&&null!=C&&(d.i(h.a)(T)||d.i(w.a)(C))?d.i(f.a)(T,C,u,P,E,S):T!==T&&C!==C)}var f=d(455),h=d(17),w=d(51);s.a=u},function(r,s,d){'use strict';var f=d(136),h=d(224),w=d(52);s.a=function(P,E,S){var O=0,V=P?P.length:O;if('number'==typeof E&&E===E&&V<=4294967295>>>1){for(;O<V;){var R=O+V>>>1,F=P[R];null!==F&&!d.i(w.a)(F)&&(S?F<=E:F<E)?O=R+1:V=R}return V}return d.i(f.a)(P,E,h.a,S)}},function(r,s,d){'use strict';var f=d(40);s.a=function(h,w,T,C){for(var P=h.length,E=C?P:-1;(C?E--:++E<P)&&w(h[E],E,h););return T?d.i(f.a)(h,C?0:E,C?E+1:P):d.i(f.a)(h,C?E+1:0,C?P:E)}},function(r,s,d){'use strict';var f=d(12),h=d(515);s.a=function(w){return d.i(f.a)(w)?w:d.i(h.a)(w)}},function(r,s,d){'use strict';var f=d(494);s.a=function(h,w){var T=h.__data__;return d.i(f.a)(w)?T['string'==typeof w?'string':'hash']:T.map}},function(r,s){'use strict';s.a=function(f){var h=!1;if(null!=f&&'function'!=typeof f.toString)try{h=!!(f+'')}catch(w){}return h}},function(r,s,d){'use strict';var f=d(60),h=d(104),w=d(41),T=d(17);s.a=function(C,P,E){if(!d.i(T.a)(E))return!1;var S=typeof P;return!('number'==S?!(d.i(h.a)(E)&&d.i(w.a)(P,E.length)):!('string'==S&&P in E))&&d.i(f.a)(E[P],C)}},function(r,s){'use strict';var f=Object.prototype;s.a=function(h){var w=h&&h.constructor,T='function'==typeof w&&w.prototype||f;return h===T}},function(r,s,d){'use strict';var u=d(57),f=d.i(u.a)(Object,'create');s.a=f},function(r,s){'use strict';s.a=function(f){var h=-1,w=Array(f.size);return f.forEach(function(T){w[++h]=T}),w}},function(r,s,d){'use strict';var f=d(482),h=d(150),w=d(105);s.a=function(T){return null!=T&&d.i(w.a)(d.i(f.a)(T))&&!d.i(h.a)(T)}},function(r,s){'use strict';s.a=function(h){return'number'==typeof h&&-1<h&&0==h%1&&h<=9007199254740991}},function(r,s,d){'use strict';var f=d(143),h=d(99),w=d(51),C=Object.prototype,P=Function.prototype.toString,E=C.hasOwnProperty,S=P.call(Object),O=C.toString;s.a=function(V){if(!d.i(w.a)(V)||O.call(V)!='[object Object]'||d.i(h.a)(V))return!1;var R=d.i(f.a)(V);if(null===R)return!0;var F=E.call(R,'constructor')&&R.constructor;return'function'==typeof F&&F instanceof F&&P.call(F)==S}},function(r,s,d){'use strict';var f=d(91),h=d(29),w=d(134),T=d(196),C=d(13);s.a=function(E){if(!(E&&E.length))return[];var S=0;return E=d.i(f.a)(E,function(O){if(d.i(C.a)(O))return S=_Mathmax(O.length,S),!0}),d.i(T.a)(S,function(O){return d.i(h.a)(E,d.i(w.a)(O))})}},function(r,s,d){'use strict';function V(q,H){const W=new L.a({startPosition:q,singleCharacters:!0});let $=0;for(const U of W)if('text'==U.type&&($++,$==H))return W.position}function F(q){const H=q.split(':');return H[0]+':'+H[1]}s.a=function(q){return(H,W,$,U)=>{const K=q instanceof N.a?q.clone(!0):q(W,$,U);if(K&&$.consume(W.item,'insert')){const Q=U.mapper.toViewPosition(W.range.start);U.mapper.bindElements(W.item,K),z.a.insert(Q,K)}}},s.j=function(){return(q,H,W,$)=>{if(W.consume(H.item,'insert')){const U=$.mapper.toViewPosition(H.range.start),K=new I.a(H.item.data);z.a.insert(U,K)}}},s.f=function(q){return(H,W,$,U)=>{let K,Q;if((q instanceof N.a?(K=q.clone(!0),Q=q.clone(!0)):(W.isOpening=!0,K=q(W,$,U),W.isOpening=!1,Q=q(W,$,U)),K&&Q)&&$.consume(W.range,'addMarker')){const J=U.mapper;z.a.insert(J.toViewPosition(W.range.start),K),W.range.isCollapsed||z.a.insert(J.toViewPosition(W.range.end),Q)}}},s.h=function(q){return q=q||((H,W)=>({value:H,key:W})),(H,W,$,U)=>{if($.consume(W.item,F(H.name))){const{key:K,value:Q}=q(W.attributeNewValue,W.attributeKey,W,$,U);U.mapper.toViewElement(W.item).setAttribute(K,Q)}}},s.i=function(q){return q=q||((H,W)=>({key:W})),(H,W,$,U)=>{if($.consume(W.item,F(H.name))){const{key:K}=q(W.attributeOldValue,W.attributeKey,W,$,U);U.mapper.toViewElement(W.item).removeAttribute(K)}}},s.b=function(q){return(H,W,$,U)=>{const K=q instanceof N.a?q.clone(!0):q(W.attributeNewValue,W,$,U);if(!K)return;if(!$.consume(W.item,F(H.name)))return;let Q=U.mapper.toViewRange(W.range);if(null!==W.attributeOldValue&&!(q instanceof N.a)){const J=q(W.attributeOldValue,W,$,U);Q=z.a.unwrap(Q,J)}z.a.wrap(Q,K)}},s.c=function(q){return(H,W,$,U)=>{const K=q instanceof N.a?q.clone(!0):q(W.attributeOldValue,W,$,U);if(K&&$.consume(W.item,F(H.name))){const Q=U.mapper.toViewRange(W.range);z.a.unwrap(Q,K)}}},s.d=function(q){return(H,W,$,U)=>{const K=q instanceof N.a?q.clone(!0):q(W,$,U);if(K&&$.consume(W.range,'addMarker')){const Q=U.mapper.toViewRange(W.range),J=z.a.breakViewRangePerContainer(Q);for(const Y of J)z.a.wrap(Y,K)}}},s.e=function(q){return(H,W,$,U)=>{const K=q instanceof N.a?q.clone(!0):q(W,$,U);if(K&&$.consume(W.range,'removeMarker')){const Q=U.mapper.toViewRange(W.range),J=z.a.breakViewRangePerContainer(Q);for(const Y of J)z.a.unwrap(Y,K)}}},s.k=function(){return(q,H,W,$)=>{if(!W.consume(H.item,'remove'))return;let U=$.mapper.toViewPosition(H.sourcePosition),K;if(H.item.is('element'))U=U.getLastMatchingPosition((Q)=>!Q.item.is('containerElement')),U.parent.is('text')&&U.isAtEnd&&(U=D.a.createAfter(U.parent)),K=M.a.createOn(U.nodeAfter);else{const Q=V(U,H.item.offsetSize);K=new M.a(U,Q)}z.a.remove(K.getTrimmed()),'$graveyard'==H.item.root.rootName&&$.mapper.unbindModelElement(H.item)}},s.g=function(q){return(H,W,$,U)=>{let K,Q;if((q instanceof N.a?(K=q.clone(!0),Q=q.clone(!0)):(W.isOpening=!0,K=q(W,$,U),W.isOpening=!1,Q=q(W,$,U)),K&&Q)&&$.consume(W.range,'removeMarker')){const J=U.mapper.toViewRange(W.range);z.a.clear(J.getEnlarged(),Q),K.isSimilar(Q)||z.a.clear(J.getEnlarged(),K)}}};var N=d(28),I=d(32),M=d(38),D=d(22),L=d(55),z=d(86)},function(r,s,d){'use strict';function u(N,I,M,D){D instanceof V.a?h(N,N.document,I,M,D):f(N,N.document,I,M,D)}function f(N,I,M,D,L){const z=L.getAttribute(M);let q,H;const W=L.is('rootElement')?new F:new R;z!=D&&(N.addDelta(W),L.is('rootElement')?H=new E.a(L,M,z,D,I.version):(q=L.is('element')?new V.a(O.a.createBefore(L),O.a.createFromParentAndOffset(L,0)):new V.a(O.a.createBefore(L),O.a.createAfter(L)),H=new P.a(q,M,z,D,I.version)),W.addOperation(H),I.applyOperation(H))}function h(N,I,M,D,L){function z(){0===q.operations.length&&N.addDelta(q);const K=new V.a(H,W),Q=new P.a(K,M,$,D,I.version);q.addOperation(Q),I.applyOperation(Q)}const q=new R;let H=L.start,W,$,U;for(const K of L)U=K.item.getAttribute(M),W&&$!=U&&($!=D&&z(),H=W),W=K.nextPosition,$=U;W instanceof O.a&&W!=H&&$!=D&&z()}var w=d(20),T=d(16),C=d(15),P=d(81),E=d(116),S=d(62),O=d(1),V=d(3);class R extends w.a{get type(){return'attribute'}get key(){return this.operations[0]?this.operations[0].key:null}get value(){return this.operations[0]?this.operations[0].newValue:null}get range(){if(this._range)return this._range;let N=null,I=null;for(const M of this.operations)M instanceof S.a||((null==N||N.isAfter(M.range.start))&&(N=M.range.start),(null==I||I.isBefore(M.range.end))&&(I=M.range.end));return N&&I?(this._range=new V.a(N,I),this._range):null}get _reverseDeltaClass(){return R}toJSON(){const N=super.toJSON();return delete N._range,N}static get className(){return'engine.model.delta.AttributeDelta'}}s.a=R;class F extends w.a{static get className(){return'engine.model.delta.RootAttributeDelta'}}d.i(C.b)('setAttribute',function(N,I,M){return u(this,I,M,N),this}),d.i(C.b)('removeAttribute',function(N,I){return u(this,I,null,N),this}),T.a.register(R),T.a.register(F)},function(r,s,d){'use strict';var u=d(20),f=d(76),h=d(16),w=d(44),T=d(15),C=d(21),P=d(35),E=d(3),S=d(1);class O extends u.a{get type(){return'insert'}get position(){return this._insertOperation?this._insertOperation.position:null}get nodes(){return this._insertOperation?this._insertOperation.nodes:null}get _insertOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return f.a}static get className(){return'engine.model.delta.InsertDelta'}}s.a=O,d.i(T.b)('insert',function(V,R){const F=d.i(C.c)(R);if(0===F.length)return this;const N=new O,I=new w.a(V,F,this.document.version);if(this.addDelta(N),N.addOperation(I),this.document.applyOperation(I),R instanceof P.a)for(const[M,D]of R.markers){const L=S.a.createAt(D.root),z=new E.a(D.start._getCombined(L,V),D.end._getCombined(L,V));this.setMarker(M,z)}return this}),h.a.register(O)},function(r,s,d){'use strict';function u(O,V,R){V.addOperation(R),O.document.applyOperation(R)}var f=d(20),h=d(16),w=d(15),T=d(115),C=d(6),P=d(1),E=d(0);class S extends f.a{get type(){return'rename'}get _reverseDeltaClass(){return S}static get className(){return'engine.model.delta.RenameDelta'}}s.a=S,d.i(w.b)('rename',function(O,V){if(!(O instanceof C.a))throw new E.a('batch-rename-not-element-instance: Trying to rename an object which is not an instance of Element.');const R=new S;this.addDelta(R);const F=new T.a(P.a.createBefore(O),O.name,V,this.document.version);return u(this,R,F),this}),h.a.register(S)},function(r,s,d){'use strict';function u(){const P=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document,'change',(E,S,O,V,R)=>{P.has(S)&&f.call(this,S,R,O.range,O.sourcePosition)},{priority:'high'})}function f(P,E,S,O){const V=S.end.offset-S.start.offset;let R=S.start;('move'==P||'remove'==P||'reinsert'==P)&&(R=R._getTransformedByInsertion(O,V));const F=this._getTransformedByDocumentChange(P,E,R,V,O);('move'==P||'remove'==P||'reinsert'==P)&&3==F.length&&(F[2]=S);const N=h.a.createFromRanges(F);if(!N.isEqual(this)){const I=h.a.createFromRange(this);this.start=N.start,this.end=N.end,this.fire('change',I,{type:P,range:S,sourcePosition:O})}}var h=d(3),w=d(9),T=d(4);class C extends h.a{constructor(P,E){super(P,E),u.call(this)}detach(){this.stopListening()}}s.a=C,d.i(T.a)(C,w.a)},function(r,s,d){'use strict';var u=d(36),f=d(3);class h extends u.a{constructor(w,T,C,P,E){super(E),this.name=w,this.oldRange=T?f.a.createFromRange(T):null,this.newRange=C?f.a.createFromRange(C):null,this._markers=P}get type(){return'marker'}clone(){return new h(this.name,this.oldRange,this.newRange,this._markers,this.baseVersion)}getReversed(){return new h(this.name,this.newRange,this.oldRange,this._markers,this.baseVersion+1)}_execute(){const w=this.newRange?'set':'remove';return this._markers[w](this.name,this.newRange),{name:this.name,type:w}}toJSON(){const w=super.toJSON();return delete w._markers,w}static get className(){return'engine.model.operation.MarkerOperation'}static fromJSON(w,T){return new h(w.name,w.oldRange?f.a.fromJSON(w.oldRange,T):null,w.newRange?f.a.fromJSON(w.newRange,T):null,T.markers,w.baseVersion)}}s.a=h},function(r,s,d){'use strict';var u=d(26),f=d(37);class h extends u.a{get position(){return this.targetPosition}set position(w){this.targetPosition=w}get type(){return'reinsert'}getReversed(){const w=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new f.a(this.getMovedRangeStart(),this.howMany,w,this.baseVersion+1)}static get className(){return'engine.model.operation.ReinsertOperation'}}s.a=h},function(r,s,d){'use strict';var u=d(36),f=d(6),h=d(0),w=d(1);class T extends u.a{constructor(C,P,E,S){super(S),this.position=C,this.oldName=P,this.newName=E}get type(){return'rename'}clone(){return new T(w.a.createFromPosition(this.position),this.oldName,this.newName,this.baseVersion)}getReversed(){return new T(w.a.createFromPosition(this.position),this.newName,this.oldName,this.baseVersion+1)}_execute(){const C=this.position.nodeAfter;if(!(C instanceof f.a))throw new h.a('rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.');else if(C.name!==this.oldName)throw new h.a('rename-operation-wrong-name: Element to change has different name than operation\'s old name.');return this.oldName==this.newName?void 0:(C.name=this.newName,{element:C,oldName:this.oldName})}static get className(){return'engine.model.operation.RenameOperation'}static fromJSON(C,P){return new T(w.a.fromJSON(C.position,P),C.oldName,C.newName,C.baseVersion)}}s.a=T},function(r,s,d){'use strict';var u=d(36),f=d(0);class h extends u.a{constructor(w,T,C,P,E){super(E),this.root=w,this.key=T,this.oldValue=C,this.newValue=P}get type(){return null===this.oldValue?'addRootAttribute':null===this.newValue?'removeRootAttribute':'changeRootAttribute'}clone(){return new h(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new h(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_execute(){if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new f.a('rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation\\\'s old attribute value.',{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new f.a('rootattribute-operation-attribute-exists: The attribute with given key already exists.',{root:this.root,key:this.key});return null===this.newValue?this.root.removeAttribute(this.key):this.root.setAttribute(this.key,this.newValue),{root:this.root,key:this.key,oldValue:this.oldValue,newValue:this.newValue}}static get className(){return'engine.model.operation.RootAttributeOperation'}static fromJSON(w,T){if(!T.hasRoot(w.root))throw new f.a('rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.',{rootName:w});return new h(T.getRoot(w.root),w.key,w.oldValue,w.newValue,w.baseVersion)}}s.a=h},function(r,s,d){'use strict';function u(){if(f(this))return null;let C=this.parent;for(;C&&C.is('attributeElement');){if(1<f(C))return null;C=C.parent}return!C||1<f(C)?null:this.childCount}function f(C){return Array.from(C.getChildren()).filter((P)=>!P.is('uiElement')).length}var h=d(28);const w=10;class T extends h.a{constructor(C,P,E){super(C,P,E),this.priority=w,this.getFillerOffset=u}is(C,P=null){return P?'attributeElement'==C&&P==this.name||super.is(C,P):'attributeElement'==C||super.is(C)}clone(C){const P=super.clone(C);return P.priority=this.priority,P}isSimilar(C){return super.isSimilar(C)&&this.priority==C.priority}}s.a=T,T.DEFAULT_PRIORITY=w},function(r,s,d){'use strict';function u(P){return'string'==typeof P?[new f.a(P)]:(d.i(w.a)(P)||(P=[P]),Array.from(P).map((E)=>{return'string'==typeof E?new f.a(E):E}))}var f=d(32),h=d(4),w=d(47),T=d(9);class C{constructor(P){this._children=[],P&&this.insertChildren(0,P)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(P){return'documentFragment'==P}appendChildren(P){return this.insertChildren(this.childCount,P)}getChild(P){return this._children[P]}getChildIndex(P){return this._children.indexOf(P)}getChildren(){return this._children[Symbol.iterator]()}insertChildren(P,E){this._fireChange('children',this);let S=0;E=u(E);for(const O of E)O.parent=this,this._children.splice(P,0,O),P++,S++;return S}removeChildren(P,E=1){this._fireChange('children',this);for(let S=P;S<P+E;S++)this._children[S].parent=null;return this._children.splice(P,E)}_fireChange(P,E){this.fire('change:'+P,E)}}s.a=C,d.i(h.a)(C,T.a)},function(r,s,d){'use strict';function u(M,D,L){let z=d.i(F.a)(M);return L&&(z=z.slice(z.indexOf(L)+1)),z.some((q)=>q.tagName&&D.includes(q.tagName.toLowerCase()))}function f(M,D){for(;M&&M!=V.a.document;)D(M),M=M.parentNode}var h=d(32),w=d(28),T=d(22),C=d(38),P=d(85),E=d(118),S=d(55),O=d(64),V=d(46),R=d(429),F=d(183),N=d(426);s.a=class{constructor(M={}){this.blockFiller=M.blockFiller||O.a,this.preElements=['pre'],this.blockElements=['p','div','h1','h2','h3','h4','h5','h6'],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}bindFakeSelection(M,D){this._fakeSelectionMapping.set(M,P.a.createFromSelection(D))}fakeSelectionToView(M){return this._fakeSelectionMapping.get(M)}bindElements(M,D){this._domToViewMapping.set(M,D),this._viewToDomMapping.set(D,M)}unbindDomElement(M){const D=this._domToViewMapping.get(M);if(D){this._domToViewMapping.delete(M),this._viewToDomMapping.delete(D);for(const L of Array.from(M.childNodes))this.unbindDomElement(L)}}bindDocumentFragments(M,D){this._domToViewMapping.set(M,D),this._viewToDomMapping.set(D,M)}viewToDom(M,D,L={}){if(M.is('text')){const z=this._processDataFromViewText(M);return D.createTextNode(z)}if(this.mapViewToDom(M))return this.mapViewToDom(M);let z;if(M.is('documentFragment'))z=D.createDocumentFragment(),L.bind&&this.bindDocumentFragments(z,M);else{if(M.is('uiElement'))return z=M.render(D),L.bind&&this.bindElements(z,M),z;z=D.createElement(M.name),L.bind&&this.bindElements(z,M);for(const q of M.getAttributeKeys())z.setAttribute(q,M.getAttribute(q))}if(L.withChildren||void 0===L.withChildren)for(const q of this.viewChildrenToDom(M,D,L))z.appendChild(q);return z}*viewChildrenToDom(M,D,L={}){const z=M.getFillerOffset&&M.getFillerOffset();let q=0;for(const H of M.getChildren())z===q&&(yield this.blockFiller(D)),yield this.viewToDom(H,D,L),q++;z===q&&(yield this.blockFiller(D))}viewRangeToDom(M){const D=this.viewPositionToDom(M.start),L=this.viewPositionToDom(M.end),z=document.createRange();return z.setStart(D.parent,D.offset),z.setEnd(L.parent,L.offset),z}viewPositionToDom(M){const D=M.parent;if(D.is('text')){const L=this.findCorrespondingDomText(D);if(!L)return null;let z=M.offset;return d.i(O.b)(L)&&(z+=O.c),{parent:L,offset:z}}let L,z,q;if(0===M.offset){if(L=this.mapViewToDom(D),!L)return null;q=L.childNodes[0]}else{const W=M.nodeBefore;if(z=W.is('text')?this.findCorrespondingDomText(W):this.mapViewToDom(M.nodeBefore),!z)return null;L=z.parentNode,q=z.nextSibling}if(this.isText(q)&&d.i(O.b)(q))return{parent:q,offset:O.c};const H=z?d.i(R.a)(z)+1:0;return{parent:L,offset:H}}domToView(M,D={}){if(d.i(O.d)(M,this.blockFiller))return null;const L=this.getParentUIElement(M,this._domToViewMapping);if(L)return L;if(this.isText(M)){if(d.i(O.e)(M))return null;const z=this._processDataFromDomText(M);return''===z?null:new h.a(z)}if(this.isComment(M))return null;if(this.mapDomToView(M))return this.mapDomToView(M);let z;if(this.isDocumentFragment(M))z=new E.a,D.bind&&this.bindDocumentFragments(M,z);else{const q=D.keepOriginalCase?M.tagName:M.tagName.toLowerCase();z=new w.a(q),D.bind&&this.bindElements(M,z);const H=M.attributes;for(let W=H.length-1;0<=W;W--)z.setAttribute(H[W].name,H[W].value)}if(D.withChildren||void 0===D.withChildren)for(const q of this.domChildrenToView(M,D))z.appendChildren(q);return z}*domChildrenToView(M,D={}){for(let L=0;L<M.childNodes.length;L++){const z=M.childNodes[L],q=this.domToView(z,D);null!==q&&(yield q)}}domSelectionToView(M){if(1===M.rangeCount){let z=M.getRangeAt(0).startContainer;this.isText(z)&&(z=z.parentNode);const q=this.fakeSelectionToView(z);if(q)return q}const D=new P.a,L=this.isDomSelectionBackward(M);for(let z=0;z<M.rangeCount;z++){const q=M.getRangeAt(z),H=this.domRangeToView(q);H&&D.addRange(H,L)}return D}domRangeToView(M){const D=this.domPositionToView(M.startContainer,M.startOffset),L=this.domPositionToView(M.endContainer,M.endOffset);return D&&L?new C.a(D,L):null}domPositionToView(M,D){if(d.i(O.d)(M,this.blockFiller))return this.domPositionToView(M.parentNode,d.i(R.a)(M));const L=this.mapDomToView(M);if(L&&L.is('uiElement'))return T.a.createBefore(L);if(this.isText(M)){if(d.i(O.e)(M))return this.domPositionToView(M.parentNode,d.i(R.a)(M));const z=this.findCorrespondingViewText(M);let q=D;return z?(d.i(O.b)(M)&&(q-=O.c,q=0>q?0:q),new T.a(z,q)):null}if(0===D){const z=this.mapDomToView(M);if(z)return new T.a(z,0)}else{const z=M.childNodes[D-1],q=this.isText(z)?this.findCorrespondingViewText(z):this.mapDomToView(z);if(q&&q.parent)return new T.a(q.parent,q.index+1)}return null}mapDomToView(M){return this.getParentUIElement(M)||this._domToViewMapping.get(M)}findCorrespondingViewText(M){if(d.i(O.e)(M))return null;const D=this.getParentUIElement(M);if(D)return D;const L=M.previousSibling;if(L){if(!this.isElement(L))return null;const z=this.mapDomToView(L);if(z){const q=z.nextSibling;return q instanceof h.a?z.nextSibling:null}}else{const z=this.mapDomToView(M.parentNode);if(z){const q=z.getChild(0);return q instanceof h.a?q:null}}return null}mapViewToDom(M){return this._viewToDomMapping.get(M)}findCorrespondingDomText(M){const D=M.previousSibling;return D&&this.mapViewToDom(D)?this.mapViewToDom(D).nextSibling:!D&&M.parent&&this.mapViewToDom(M.parent)?this.mapViewToDom(M.parent).childNodes[0]:null}focus(M){const D=this.mapViewToDom(M);if(D&&D.ownerDocument.activeElement!==D){const{scrollX:L,scrollY:z}=V.a.window,q=[];f(D,(H)=>{const{scrollLeft:W,scrollTop:$}=H;q.push([W,$])}),D.focus(),f(D,(H)=>{const[W,$]=q.shift();H.scrollLeft=W,H.scrollTop=$}),V.a.window.scrollTo(L,z)}}isText(M){return M&&M.nodeType==Node.TEXT_NODE}isElement(M){return M&&M.nodeType==Node.ELEMENT_NODE}isDocumentFragment(M){return M&&M.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(M){return M&&M.nodeType==Node.COMMENT_NODE}isDomSelectionBackward(M){if(M.isCollapsed)return!1;const D=document.createRange();D.setStart(M.anchorNode,M.anchorOffset),D.setEnd(M.focusNode,M.focusOffset);const L=D.collapsed;return D.detach(),L}getParentUIElement(M){const D=d.i(F.a)(M);for(D.pop();D.length;){const L=D.pop(),z=this._domToViewMapping.get(L);if(z&&z.is('uiElement'))return z}return null}isDomSelectionCorrect(M){return this._isDomSelectionPositionCorrect(M.anchorNode,M.anchorOffset)&&this._isDomSelectionPositionCorrect(M.focusNode,M.focusOffset)}_isDomSelectionPositionCorrect(M,D){if(this.isText(M)&&d.i(O.b)(M)&&D<O.c)return!1;if(this.isElement(M)&&d.i(O.b)(M.childNodes[D]))return!1;const L=this.mapDomToView(M);return L&&L.is('uiElement')?!1:!0}_processDataFromViewText(M){const D=M.data;if(M.getAncestors().some((W)=>this.preElements.includes(W.name)))return D;const L=this._getTouchingViewTextNode(M,!1),z=this._getTouchingViewTextNode(M,!0);let q=D.match(/ *$/)[0],H=D.substr(0,D.length-q.length);if(L&&' '!=L.data.charAt(L.data.length-1)||(H=H.replace(/^ /,'\xA0')),H=H.replace(/ {2}/g,' \xA0'),0<q.length){let W=!1;z?(' '==z.data.charAt(0)||'\xA0'==z.data.charAt(0))&&0==q.length%2&&(W=!0):q.length%2&&(W=!0),W&&(q='\xA0'+q.substr(0,q.length-1)),q=q.replace(/ {2}/g,' \xA0')}return H+q}_getTouchingViewTextNode(M,D){if(!M.parent)return null;const L=new S.a({startPosition:D?T.a.createAfter(M):T.a.createBefore(M),direction:D?'forward':'backward'});for(const z of L){if(z.item.is('containerElement'))return null;if(z.item.is('text'))return z.item}return null}_processDataFromDomText(M){let D=d.i(O.f)(M);if(u(M,this.preElements))return D;D=D.replace(/[ \n\t\r]{1,}/g,' ');const L=this._getTouchingDomTextNode(M,!1),z=this._getTouchingDomTextNode(M,!0);return(!L||/[^\S\u00A0]/.test(L.data.charAt(L.data.length-1)))&&(D=D.replace(/^ /,'')),z||(D=D.replace(/ $/,'')),D=D.replace(/ \u00A0/g,'  '),(!L||/[^\S\u00A0]/.test(L.data.charAt(L.data.length-1)))&&(D=D.replace(/^\u00A0/,' ')),z&&'\xA0'!=z.data.charAt(0)||(D=D.replace(/\u00A0( *)$/,' $1')),D}_getTouchingDomTextNode(M,D){if(!M.parentNode)return null;const L=D?'nextNode':'previousNode',z=M.ownerDocument,q=z.createTreeWalker(z.childNodes[0],NodeFilter.SHOW_TEXT);q.currentNode=M;const H=q[L]();if(null!==H){const W=d.i(N.a)(M,H);if(W&&!u(M,this.blockElements,W)&&!u(H,this.blockElements,W))return H}return null}}},function(r,s,d){'use strict';var u=d(50);class f{constructor(h,w,T){this.document=h,this.domEvent=w,this.domTarget=w.target,d.i(u.a)(this,T)}get target(){return this.document.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}s.a=f},function(r,s,d){'use strict';function f(){return null}function h(S,O,V){if(O.keyCode==P.a.arrowright){const R=O.domTarget.ownerDocument.defaultView.getSelection(),F=1==R.rangeCount&&R.getRangeAt(0).collapsed;if(F||O.shiftKey){const N=R.focusNode,I=R.focusOffset,M=V.domPositionToView(N,I);if(null===M)return;let D=!1;const L=M.getLastMatchingPosition((z)=>{return z.item.is('uiElement')&&(D=!0),z.item.is('uiElement')||z.item.is('attributeElement')});if(D){const z=V.viewPositionToDom(L);F?R.collapse(z.parent,z.offset):R.extend(z.parent,z.offset)}}}}s.b=function(S){S.on('keydown',(O,V)=>h(O,V,S.domConverter))};var w=d(28),T=d(0),C=d(84),P=d(24);class E extends w.a{constructor(S,O,V){super(S,O,V),this.getFillerOffset=f}is(S,O=null){return O?'uiElement'==S&&O==this.name||super.is(S,O):'uiElement'==S||super.is(S)}insertChildren(S,O){if(O&&(O instanceof C.a||0<Array.from(O).length))throw new T.a('view-uielement-cannot-add: Cannot add child nodes to UIElement instance.')}render(S){const O=S.createElement(this.name);for(const V of this.getAttributeKeys())O.setAttribute(V,this.getAttribute(V));return O}}s.a=E},function(r,s,d){'use strict';function u(w){return!!(w.focus&&'none'!=f.a.window.getComputedStyle(w.element).display)}var f=d(46);class h{constructor(w){if(Object.assign(this,w),w.actions&&w.keystrokeHandler)for(const T in w.actions){let C=w.actions[T];'string'==typeof C&&(C=[C]);for(const P of C)w.keystrokeHandler.set(P,(E,S)=>{this[T](),S()})}}get first(){return this.focusables.find(u)||null}get last(){return this.focusables.filter(u).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let w=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((T,C)=>{const P=T.element===this.focusTracker.focusedElement;return P&&(w=C),P}),w)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(w){w&&w.focus()}_getFocusableItem(w){const T=this.current,C=this.focusables.length;if(!C)return null;if(null===T)return this[1===w?'first':'last'];let P=(T+C+w)%C;do{const E=this.focusables.get(P);if(u(E))return E;P=(P+C+w)%C}while(P!==T);return null}}s.a=h},function(r,s,d){'use strict';var u=d(2),f=d(179),h=d(0);class w extends u.a{static get pluginName(){return'ContextualBalloon'}init(){this.view=new f.a,this._stack=new Map,this.editor.ui.focusTracker.add(this.view.element),this.editor.ui.view.body.add(this.view)}get visibleView(){const T=this._stack.get(this.view.content.get(0));return T?T.view:null}hasView(T){return this._stack.has(T)}add(T){if(this.hasView(T.view))throw new h.a('contextualballoon-add-view-exist: Cannot add configuration of the same view twice.');this.visibleView&&this.view.content.remove(this.visibleView),this._stack.set(T.view,T),this._show(T)}remove(T){if(!this.hasView(T))throw new h.a('contextualballoon-remove-view-not-exist: Cannot remove configuration of not existing view.');if(this.visibleView===T){this.view.content.remove(T),this._stack.delete(T);const C=Array.from(this._stack.values()).pop();C?this._show(C):this.view.hide()}else this._stack.delete(T)}updatePosition(T){T&&(this._stack.get(this.visibleView).position=T),this.view.attachTo(this._getBalloonPosition())}_show({view:T,balloonClassName:C=''}){this.view.className=C,this.view.content.add(T),this.view.pin(this._getBalloonPosition())}_getBalloonPosition(){return this._stack.values().next().value.position}}s.a=w},function(r,s,d){'use strict';function u(P){return P.every((E)=>'string'==typeof E)}var f=d(0),h=d(19),w=d(87),T=d(4);class C extends w.a{constructor(P){super({idProperty:'viewUid'}),this.on('add',(E,S,O)=>{S.element&&this._parentElement&&this._parentElement.insertBefore(S.element,this._parentElement.children[O])}),this.on('remove',(E,S)=>{S.element&&this._parentElement&&S.element.remove()}),this.locale=P,this.set('ready',!1),this._parentElement=null}init(){if(this.ready)throw new f.a('ui-viewcollection-init-reinit: This ViewCollection has already been initialized.');this.map((P)=>P.init()),this.ready=!0}destroy(){this.map((P)=>P.destroy())}add(P,E){super.add(P,E),this.ready&&!P.ready&&P.init()}setParent(P){this._parentElement=P}delegate(...P){if(!P.length||!u(P))throw new f.a('ui-viewcollection-delegate-wrong-events: All event names must be strings.');return{to:(E)=>{for(const S of this)for(const O of P)S.delegate(O).to(E);this.on('add',(S,O)=>{for(const V of P)O.delegate(V).to(E)}),this.on('remove',(S,O)=>{for(const V of P)O.stopDelegating(V,E)})}}}}s.a=C,d.i(T.a)(w.a,h.a)},function(r,s){'use strict';s.a=function(f){let h=0;for(const w of f)h++;return h}},function(r,s,d){'use strict';function u(P){var E=-1,S=P?P.length:0;for(this.clear();++E<S;){var O=P[E];this.set(O[0],O[1])}}var f=d(501),h=d(502),w=d(503),T=d(504),C=d(505);u.prototype.clear=f.a,u.prototype['delete']=h.a,u.prototype.get=w.a,u.prototype.has=T.a,u.prototype.set=C.a,s.a=u},function(r,s,d){'use strict';function u(E){this.__data__=new f.a(E)}var f=d(89),h=d(510),w=d(511),T=d(512),C=d(513),P=d(514);u.prototype.clear=h.a,u.prototype['delete']=w.a,u.prototype.get=T.a,u.prototype.has=C.a,u.prototype.set=P.a,s.a=u},function(r,s,d){'use strict';var u=d(33),f=u.a.Symbol;s.a=f},function(r,s,d){'use strict';var f=d(132);s.a=function(h,w){return!!h.length&&-1<d.i(f.a)(h,w,0)}},function(r,s){'use strict';s.a=function(f,h,w){for(var T=-1,C=f.length;++T<C;)if(w(h,f[T]))return!0;return!1}},function(r,s,d){'use strict';var f=d(97),h=d(58),w=d(59);s.a=function(T,C){C=d.i(h.a)(C,T)?[C]:d.i(f.a)(C);for(var P=0,E=C.length;null!=T&&P<E;)T=T[d.i(w.a)(C[P++])];return P&&P==E?T:void 0}},function(r,s,d){'use strict';var f=d(202);s.a=function(h,w,T){if(w!==w)return d.i(f.a)(h,T);for(var C=T-1,P=h.length;++C<P;)if(h[C]===w)return C;return-1}},function(r,s,d){'use strict';var f=d(90),h=d(129),w=d(130),T=d(29),C=d(137),P=d(139);s.a=function(S,O,V){for(var R=V?w.a:h.a,F=S[0].length,N=S.length,I=N,M=Array(N),D=Infinity,L=[],z;I--;)z=S[I],I&&O&&(z=d.i(T.a)(z,d.i(C.a)(O))),D=_Mathmin(z.length,D),M[I]=!V&&(O||120<=F&&120<=z.length)?new f.a(I&&z):void 0;z=S[0];var q=-1,H=M[0];outer:for(;++q<F&&L.length<D;){var W=z[q],$=O?O(W):W;if(W=V||0!==W?W:0,H?!d.i(P.a)(H,$):!R(L,$,V)){for(I=N;--I;){var U=M[I];if(U?!d.i(P.a)(U,$):!R(S[I],$,V))continue outer}H&&H.push($),L.push(W)}}return L}},function(r,s){'use strict';s.a=function(f){return function(h){return null==h?void 0:h[f]}}},function(r,s,d){'use strict';var f=d(29),h=d(132),w=d(454),T=d(137),C=Array.prototype,P=C.splice;s.a=function(E,S,O,V){var R=V?w.a:h.a,F=-1,N=S.length,I=E;for(O&&(I=d.i(f.a)(E,d.i(T.a)(O)));++F<N;)for(var M=0,D=S[F],L=O?O(D):D;-1<(M=R(I,L,M,V));)I!==E&&P.call(I,M,1),P.call(E,M,1);return E}},function(r,s,d){'use strict';var f=d(52);s.a=function(P,E,S,O){E=S(E);for(var V=0,R=P?P.length:0,F=E!==E,N=null===E,I=d.i(f.a)(E),M=void 0===E;V<R;){var D=_Mathfloor((V+R)/2),L=S(P[D]),z=L!==void 0,q=null===L,H=L===L,W=d.i(f.a)(L);if(F)var $=O||H;else $=M?H&&(O||z):N?H&&z&&(O||!q):I?H&&z&&!q&&(O||!W):q||W?!1:O?L<=E:L<E;$?V=D+1:R=D}return _Mathmin(R,4294967295-1)}},function(r,s){'use strict';s.a=function(f){return function(h){return f(h)}}},function(r,s,d){'use strict';var f=d(92),h=d(69),w=d(49);s.a=function(T,C,P){for(var E=-1,S=T.length,O;++E<S;)O=O?d.i(f.a)(d.i(h.a)(O,T[E],C,P),d.i(h.a)(T[E],O,C,P)):T[E];return O&&O.length?d.i(w.a)(O,C,P):[]}},function(r,s){'use strict';s.a=function(f,h){return f.has(h)}},function(r,s,d){'use strict';var f=d(13);s.a=function(h){return d.i(f.a)(h)?h:[]}},function(r,s,d){'use strict';var f=d(188);s.a=function(h){var w=new h.constructor(h.byteLength);return new f.a(w).set(new f.a(h)),w}},function(r,s,d){'use strict';var f=d(68);s.a=function(h,w,T,C){T||(T={});for(var P=-1,E=w.length;++P<E;){var S=w[P],O=C?C(T[S],h[S],S,T,h):h[S];d.i(f.a)(T,S,O)}return T}},function(r,s){'use strict';var f=Object.getPrototypeOf;s.a=function(h){return f(Object(h))}},function(r,s,d){'use strict';function u(H){return I.call(H)}var f=d(438),h=d(186),w=d(440),T=d(187),C=d(442),P=d(205),E='[object Map]',O='[object Promise]',V='[object Set]',R='[object WeakMap]',F='[object DataView]',N=Object.prototype,I=N.toString,M=d.i(P.a)(f.a),D=d.i(P.a)(h.a),L=d.i(P.a)(w.a),z=d.i(P.a)(T.a),q=d.i(P.a)(C.a);(f.a&&u(new f.a(new ArrayBuffer(1)))!=F||h.a&&u(new h.a)!=E||w.a&&u(w.a.resolve())!=O||T.a&&u(new T.a)!=V||C.a&&u(new C.a)!=R)&&(u=function(H){var W=I.call(H),$=W=='[object Object]'?H.constructor:void 0,U=$?d.i(P.a)($):void 0;if(U)switch(U){case M:return F;case D:return E;case L:return O;case z:return V;case q:return R;}return W}),s.a=u},function(r,s){'use strict';s.a=function(f){var h=-1,w=Array(f.size);return f.forEach(function(T,C){w[++h]=[C,T]}),w}},function(r,s,d){'use strict';var f=d(40),h=d(14);s.a=function(w,T,C){var P=w?w.length:0;return P?(T=C||void 0===T?1:d.i(h.a)(T),d.i(f.a)(w,0>T?0:T,P)):[]}},function(r,s,d){'use strict';var f=d(40),h=d(14);s.a=function(w,T,C){var P=w?w.length:0;return P?(T=C||void 0===T?1:d.i(h.a)(T),T=P-T,d.i(f.a)(w,0,0>T?0:T)):[]}},function(r,s){'use strict';s.a=function(f){return f&&f.length?f[0]:void 0}},function(r,s,d){'use strict';var f=d(13),w=Object.prototype,T=w.hasOwnProperty,C=w.toString,P=w.propertyIsEnumerable;s.a=function(E){return d.i(f.a)(E)&&T.call(E,'callee')&&(!P.call(E,'callee')||C.call(E)=='[object Arguments]')}},function(r,s,d){'use strict';var f=d(17),T=Object.prototype,C=T.toString;s.a=function(P){var E=d.i(f.a)(P)?C.call(P):'';return E=='[object Function]'||E=='[object GeneratorFunction]'}},function(r,s,d){'use strict';var f=d(12),h=d(51),T=Object.prototype,C=T.toString;s.a=function(P){return'string'==typeof P||!d.i(f.a)(P)&&d.i(h.a)(P)&&C.call(P)=='[object String]'}},function(r,s,d){'use strict';var f=d(135);s.a=function(h,w){return h&&h.length&&w&&w.length?d.i(f.a)(h,w):h}},function(r,s,d){'use strict';var f=d(189),h=d(29),w=d(107);s.a=function(T,C){if(!(T&&T.length))return[];var P=d.i(w.a)(T);return null==C?P:d.i(h.a)(P,function(E){return d.i(f.a)(C,void 0,E)})}},function(r,s,d){'use strict';s.a=function(w){return d.i(f.a)(w)?d.i(h.a)(w):new Map(w)};var f=d(106),h=d(270)},function(r,s){'use strict';function h(V,R){V.setCustomProperty(E,R)}function C(){return null}s.b=function(V){return!!V.getCustomProperty(P)},s.a=function(V,R={}){return V.setAttribute('contenteditable',!1),V.getFillerOffset=C,V.addClass(S),V.setCustomProperty(P,!0),R.label&&h(V,R.label),V},s.e=function(V){const R=V.getCustomProperty(E);return R?'function'==typeof R?R():R:''},s.c=function(V){return V.addClass('ck-editable'),V.setAttribute('contenteditable',!V.isReadOnly),V.on('change:isReadOnly',(R,F,N)=>{V.setAttribute('contenteditable',!N)}),V.on('change:isFocused',(R,F,N)=>{N?V.addClass('ck-editable_focused'):V.removeClass('ck-editable_focused')}),V};const P=Symbol('isWidget'),E=Symbol('label'),S='ck-widget';s.d='ck-widget_selected'},function(r){r.exports=function(d){if(!d.webpackPolyfill){var u=Object.create(d);u.children||(u.children=[]),Object.defineProperty(u,'loaded',{enumerable:!0,get:function(){return u.l}}),Object.defineProperty(u,'id',{enumerable:!0,get:function(){return u.i}}),Object.defineProperty(u,'exports',{enumerable:!0}),u.webpackPolyfill=1}return u}},function(r,s,d){'use strict';var u=d(11);class f extends u.a{constructor(h,w){super(h),this.attributeKey=w}refresh(){const h=this.editor.document;this.value=h.selection.hasAttribute(this.attributeKey),this.isEnabled=h.schema.checkAttributeInSelection(h.selection,this.attributeKey)}execute(h={}){const w=this.editor.document,T=w.selection,C=h.forceValue===void 0?!this.value:h.forceValue;w.enqueueChanges(()=>{if(T.isCollapsed)C?T.setAttribute(this.attributeKey,!0):T.removeAttribute(this.attributeKey);else{const P=w.schema.getValidRanges(T.getRanges(),this.attributeKey),E=h.batch||w.batch();for(const S of P)C?E.setAttribute(S,this.attributeKey,C):E.removeAttribute(S,this.attributeKey)}})}}s.a=f},function(r,s,d){'use strict';var u=d(1),f=d(3),h=d(22),w=d(38),T=d(32),C=d(9),P=d(4);class E{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this.on('modelToViewPosition',(S,O)=>{if(!O.viewPosition){const V=this._modelToViewMapping.get(O.modelPosition.parent);O.viewPosition=this._findPositionIn(V,O.modelPosition.offset)}},{priority:'low'}),this.on('viewToModelPosition',(S,O)=>{if(O.modelPosition)return;let V=O.viewPosition.parent,R=this._viewToModelMapping.get(V);for(;!R;)V=V.parent,R=this._viewToModelMapping.get(V);const F=this._toModelOffset(O.viewPosition.parent,O.viewPosition.offset,V);O.modelPosition=u.a.createFromParentAndOffset(R,F)},{priority:'low'})}bindElements(S,O){this._modelToViewMapping.set(S,O),this._viewToModelMapping.set(O,S)}unbindViewElement(S){const O=this.toModelElement(S);this._unbindElements(O,S)}unbindModelElement(S){const O=this.toViewElement(S);this._unbindElements(S,O)}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap}toModelElement(S){return this._viewToModelMapping.get(S)}toViewElement(S){return this._modelToViewMapping.get(S)}toModelRange(S){return new f.a(this.toModelPosition(S.start),this.toModelPosition(S.end))}toViewRange(S){return new w.a(this.toViewPosition(S.start),this.toViewPosition(S.end))}toModelPosition(S){const O={viewPosition:S,mapper:this};return this.fire('viewToModelPosition',O),O.modelPosition}toViewPosition(S){const O={modelPosition:S,mapper:this};return this.fire('modelToViewPosition',O),O.viewPosition}registerViewToModelLength(S,O){this._viewToModelLengthCallbacks.set(S,O)}_toModelOffset(S,O,V){if(V!=S){const F=this._toModelOffset(S.parent,S.index,V),N=this._toModelOffset(S,O,S);return F+N}if(S.is('text'))return O;let R=0;for(let F=0;F<O;F++)R+=this.getModelLength(S.getChild(F));return R}_unbindElements(S,O){this._viewToModelMapping.delete(O),this._modelToViewMapping.delete(S)}getModelLength(S){if(this._viewToModelLengthCallbacks.get(S.name)){const O=this._viewToModelLengthCallbacks.get(S.name);return O(S)}if(this._viewToModelMapping.has(S))return 1;if(S.is('text'))return S.data.length;if(S.is('uiElement'))return 0;let O=0;for(const V of S.getChildren())O+=this.getModelLength(V);return O}_findPositionIn(S,O){let V,R=0,F=0,N=0;if(S.is('text'))return new h.a(S,O);for(;F<O;)V=S.getChild(N),R=this.getModelLength(V),F+=R,N++;return F==O?this._moveViewPositionToTextNode(new h.a(S,N)):this._findPositionIn(V,O-(F-R))}_moveViewPositionToTextNode(S){const O=S.nodeBefore,V=S.nodeAfter;if(O instanceof T.a)return new h.a(O,O.data.length);return V instanceof T.a?new h.a(V,0):S}}s.a=E,d.i(P.a)(E,C.a)},function(r,s,d){'use strict';function T(V,R,F,N,I){if(!V.isCollapsed)return;if(!N.consume(V,I))return;let M=R.getFirstPosition();M=O.a.wrapPosition(M,F),R.removeAllRanges(),R.addRange(new S.a(M,M))}s.e=function(){return(V,R,F,N)=>{const I=R.selection;if(!I.isCollapsed&&F.consume(I,'selection')){N.viewSelection.removeAllRanges();for(const M of I.getRanges()){const D=N.mapper.toViewRange(M);N.viewSelection.addRange(D,I.isBackward)}}}},s.f=function(){return(V,R,F,N)=>{const I=R.selection;if(I.isCollapsed&&F.consume(I,'selection')){const M=I.getFirstPosition(),D=N.mapper.toViewPosition(M),L=O.a.breakAttributes(D);N.viewSelection.removeAllRanges(),N.viewSelection.addRange(new S.a(L,L))}}},s.a=function(V){return(R,F,N,I)=>{const M=V instanceof E.a?V.clone(!0):V(F.value,F,F.selection,N,I);if(M){const D='selectionAttribute:'+F.key;T(F.selection,I.viewSelection,M,N,D)}}},s.b=function(V){return(R,F,N,I)=>{const M=V instanceof E.a?V.clone(!0):V(F,N,I);if(M){const D='selectionMarker:'+F.name;T(F.selection,I.viewSelection,M,N,D)}}},s.c=function(){return(V,R,F,N)=>{for(const I of N.viewSelection.getRanges())I.isCollapsed&&I.end.parent.document&&O.a.mergeAttributes(I.start);N.viewSelection.removeAllRanges()}},s.d=function(){return(V,R,F,N)=>N.viewSelection.setFake(!1)};var E=d(28),S=d(38),O=d(86)},function(r,s,d){'use strict';var u=d(343),f=d(3),h=d(1),w=d(35),T=d(9),C=d(4),P=d(50);class E{constructor(S,O={}){this._modelDocument=S,this.conversionApi=d.i(P.a)({dispatcher:this},O)}convertChange(S,O){'remove'!==S&&O.range&&'$graveyard'==O.range.root.rootName||'remove'==S&&'$graveyard'==O.sourcePosition.root.rootName||'rename'==S&&'$graveyard'==O.element.root.rootName||('insert'==S||'reinsert'==S?this.convertInsertion(O.range):'move'==S?this.convertMove(O.sourcePosition,O.range):'remove'==S?this.convertRemove(O.sourcePosition,O.range):'addAttribute'==S||'removeAttribute'==S||'changeAttribute'==S?this.convertAttribute(S,O.range,O.key,O.oldValue,O.newValue):'rename'==S&&this.convertRename(O.element,O.oldName))}convertInsertion(S){const O=this._createInsertConsumable(S);for(const V of S){const R=V.item,F=f.a.createFromPositionAndShift(V.previousPosition,V.length),N={item:R,range:F};this._testAndFire('insert',N,O);for(const I of R.getAttributeKeys())N.attributeKey=I,N.attributeOldValue=null,N.attributeNewValue=R.getAttribute(I),this._testAndFire(`addAttribute:${I}`,N,O)}for(const V of this._modelDocument.markers){const R=V.getRange();R.containsPosition(S.start)&&this.convertMarker('addMarker',V.name,R.getIntersection(S)),S.containsRange(R,!0)&&this.convertMarker('addMarker',V.name,R)}}convertMove(S,O){if(O.start.isBefore(S)){this.convertInsertion(O);const V=S._getTransformedByInsertion(O.start,O.end.offset-O.start.offset);this.convertRemove(V,O)}else this.convertRemove(S,O),this.convertInsertion(O)}convertRemove(S,O){const V=this._createConsumableForRange(O,'remove');for(const R of O.getItems({shallow:!0})){this._testAndFire('remove',{sourcePosition:S,item:R},V)}}convertAttribute(S,O,V,R,F){const N=this._createConsumableForRange(O,S+':'+V);for(const I of O){const M=I.item,D=f.a.createFromPositionAndShift(I.previousPosition,I.length);this._testAndFire(`${S}:${V}`,{item:M,range:D,attributeKey:V,attributeOldValue:R,attributeNewValue:F},N)}}convertRename(S,O){const V=S.clone(!0);V.name=O,this.conversionApi.mapper.bindElements(V,this.conversionApi.mapper.toViewElement(S));const R=new w.a;R.appendChildren(V),this.convertRemove(h.a.createBefore(S),f.a.createOn(V)),this.convertInsertion(f.a.createOn(S))}convertSelection(S){const O=Array.from(this._modelDocument.markers.getMarkersAtPosition(S.getFirstPosition())),V=this._createSelectionConsumable(S,O);this.fire('selection',{selection:S},V,this.conversionApi);for(const R of O){const F={selection:S,name:R.name};V.test(S,'selectionMarker:'+R.name)&&this.fire('selectionMarker:'+R.name,F,V,this.conversionApi)}for(const R of S.getAttributeKeys()){const F={selection:S,key:R,value:S.getAttribute(R)};V.test(S,'selectionAttribute:'+F.key)&&this.fire('selectionAttribute:'+F.key,F,V,this.conversionApi)}}convertMarker(S,O,V){if(V.root.document&&'$graveyard'!=V.root.rootName){const R=this._createMarkerConsumable(S,V);this.fire(S+':'+O,{name:O,range:V},R,this.conversionApi)}}_createInsertConsumable(S){const O=new u.a;for(const V of S){const R=V.item;O.add(R,'insert');for(const F of R.getAttributeKeys())O.add(R,'addAttribute:'+F)}return O}_createConsumableForRange(S,O){const V=new u.a;for(const R of S.getItems())V.add(R,O);return V}_createSelectionConsumable(S,O){const V=new u.a;V.add(S,'selection');for(const R of O)V.add(S,'selectionMarker:'+R.name);for(const R of S.getAttributeKeys())V.add(S,'selectionAttribute:'+R);return V}_createMarkerConsumable(S,O){const V=new u.a;return V.add(O,S),V}_testAndFire(S,O,V){if(V.test(O.item,S)){const R=O.item.name||'$text';this.fire(S+':'+R,O,V,this.conversionApi)}}}s.a=E,d.i(C.a)(E,T.a)},function(r,s,d){'use strict';var u=d(348),f=d(119),h=d(64);s.a=class{constructor(){this._domParser=new DOMParser,this._domConverter=new f.a({blockFiller:h.g}),this._htmlWriter=new u.a}toData(T){const C=this._domConverter.viewToDom(T,document);return this._htmlWriter.getHtml(C)}toView(T){const C=this._toDom(T);return this._domConverter.domToView(C)}_toDom(T){const C=this._domParser.parseFromString(T,'text/html'),P=C.createDocumentFragment(),E=C.body.childNodes;for(;0<E.length;)P.appendChild(E[0]);return P}}},function(r,s,d){'use strict';function u(X,Z){for(const ee of Z)for(const te of ee.operations)te.baseVersion=++X;return Z}function f(X){return X.reduce((Z,ee)=>{return Z+ee.operations.length},0)}function h(X,Z){const ee=X[X.length-1];let te=ee.operations.length+ee.baseVersion;const ae=new F.a;for(let ne=0;ne<Z;ne++)ae.addOperation(new $.a(te++));X.push(ae)}function w(X,Z,ee){T(Z,ee),S(X,Z,ee),C(X,Z,ee),E(Z,ee),P(ee)}function T(X,Z){const ee=Z.originalDelta.get(X),te=Z.document.history;Z.bWasUndone=te.isUndoneDelta(ee)||te.isUndoingDelta(ee)}function C(X,Z,ee){const te=ee.originalDelta.get(Z);if(ee.document.history.isUndoingDelta(te)){const ae=ee.document.history.getUndoneDelta(te),ne=ee.wasAffected.get(X),oe=ne.get(ae);oe!==void 0&&(ee.insertBefore=oe)}}function P(X){X.bWasUndone&&(X.forceNotSticky=!0)}function E(X,Z){const ee=Z.document.history,te=Z.originalDelta.get(X);Z.forceWeakRemove=ee.isUndoneDelta(te)}function S(X,Z,ee){ee.wasAffected.get(X)||ee.wasAffected.set(X,new Map);const te=ee.originalDelta.get(Z);let ae=!!ee.wasAffected.get(X).get(te);for(const ne of X.operations){for(const oe of Z.operations)if(ne instanceof U.a&&oe instanceof U.a&&O(ne,oe)){ae=!0;break}if(ae)break}ee.wasAffected.get(X).set(te,ae)}function O(X,Z){const ee=X.targetPosition,te=Z.sourcePosition,ae=d.i(J.a)(te.getParentPath(),ee.getParentPath());return!(ee.root!=te.root)&&'same'==ae&&te.offset<ee.offset}function V(X,Z,ee){delete ee.insertBefore,delete ee.forceNotSticky,delete ee.forceWeakRemove;const te=ee.wasAffected.get(X);ee.wasAffected.delete(X);for(const ae of Z)ee.wasAffected.set(ae,new Map(te))}function R(X,Z){let ee=[],te=null,ae;switch(X){case N.a:case I.a:for(const ne of Z)ne instanceof $.a?te=new F.a:(te=ne instanceof K.a?new I.a:new N.a,ne.isSticky=!1),te.addOperation(ne),ee.push(te);return ee;case D.a:case L.a:return te=new X,te.addOperation(Z[0]),te.addOperation(Z[1]),ee=R(N.a,Z.slice(2)),[te].concat(ee);case M.a:case z.a:return ee=R(N.a,Z.slice(0,-2)),te=new X,te.addOperation(Z[Z.length-2]),te.addOperation(Z[Z.length-1]),ee.concat(te);case q.a:return te=Z[0]instanceof $.a?new F.a:new q.a,te.addOperation(Z[0]),[te];case H.a:for(ae=0;ae<Z.length&&!!(Z[ae]instanceof $.a);ae++);ae==Z.length?te=new F.a:(te=new H.a,0!=ae&&Z.unshift(Z.splice(ae,1)[0]));for(const ne of Z)te.addOperation(ne);return[te];default:te=new X;for(const ne of Z)te.addOperation(ne);return[te];}}var F=d(20),N=d(75),I=d(76),M=d(74),D=d(77),L=d(79),z=d(78),q=d(111),H=d(109),W=d(357),$=d(62),U=d(26),K=d(37),Q=d(517),J=d(56);const Y=new Map,G={transform(X,Z,ee){const te=G.getTransformationCase(X,Z)||G.defaultTransform,ae=te(X,Z,Object.assign({},ee)),ne=Q.a.last(Z.operations).baseVersion;return u(ne,ae)},defaultTransform(X,Z,ee){const te=[];let ae=Z.operations,ne=[];for(const oe of X.operations){const ie=[oe];for(const re of ae)for(let se=0;se<ie.length;se++){const le=ie[se],de=d.i(W.a)(le,re,ee);Array.prototype.splice.apply(ie,[se,1].concat(de)),se+=de.length-1;const ce=Object.assign({},ee);ce.isStrong=!ee.isStrong,ce.insertBefore=ee.insertBefore===void 0?void 0:!ee.insertBefore;const ue=d.i(W.a)(re,le,ce);Array.prototype.push.apply(ne,ue)}ae=ne,ne=[];for(const re of ie)te.push(re)}return R(X.constructor,te)},addTransformationCase(X,Z,ee){let te=Y.get(X);te||(te=new Map,Y.set(X,te)),te.set(Z,ee)},getTransformationCase(X,Z){let ee=Y.get(X.constructor);if(!ee||!ee.get(Z.constructor)){const te=Y.keys();for(const ae of te)if(X instanceof ae&&Y.get(ae).get(Z.constructor)){ee=Y.get(ae);break}}return ee?ee.get(Z.constructor):void 0},transformDeltaSets(X,Z,ee=null){const te=Array.from(X),ae=Array.from(Z),ne=null!==ee,oe={isStrong:!0};if(ne){oe.wasAffected=new Map,oe.originalDelta=new Map,oe.document=ee;for(const se of ae)oe.originalDelta.set(se,se)}for(let se=0;se<te.length;se++){const le=[te[se]];for(let de=0;de<ae.length;de++){const ce=[ae[de]];for(let ue=0;ue<le.length;ue++)for(let me=0;me<ce.length;me++){ne&&w(le[ue],ce[me],oe);const pe=G.transform(le[ue],ce[me],{insertBefore:oe.insertBefore,forceNotSticky:oe.forceNotSticky,isStrong:oe.isStrong,forceWeakRemove:oe.forceWeakRemove,aWasUndone:!1,bWasUndone:oe.bWasUndone}),ge=G.transform(ce[me],le[ue],{insertBefore:!oe.insertBefore,forceNotSticky:oe.forceNotSticky,isStrong:!oe.isStrong,forceWeakRemove:oe.forceWeakRemove,aWasUndone:oe.bWasUndone,bWasUndone:!1});if(ne){V(le[ue],pe,oe);const fe=oe.originalDelta.get(ce[me]);for(const he of ge)oe.originalDelta.set(he,fe)}le.splice(ue,1,...pe),ue+=pe.length-1,ce.splice(me,1,...ge),me+=ge.length-1}ae.splice(de,1,...ce),de+=ce.length-1}te.splice(se,1,...le),se+=le.length-1}const ie=f(te)-f(X),re=f(ae)-f(Z);return re<ie?h(ae,ie-re):ie<re&&h(te,re-ie),{deltasA:te,deltasB:ae}}};s.a=G},function(r,s,d){'use strict';var u=d(110),f=d(15),h=d(16),w=d(44),T=d(21);class C extends u.a{static get className(){return'engine.model.delta.WeakInsertDelta'}}s.a=C,d.i(f.b)('weakInsert',function(P,E){const S=new C;this.addDelta(S),E=d.i(T.c)(E);for(const V of E)V.setAttributesTo(this.document.selection.getAttributes());const O=new w.a(P,E,this.document.version);return S.addOperation(O),this.document.applyOperation(O),this}),h.a.register(C)},function(r,s,d){'use strict';function u(){const S=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document,'change',(O,V,R)=>{S.has(V)&&f.call(this,V,R.range,R.sourcePosition)},{priority:'high'})}function f(S,O,V){const R=O.end.offset-O.start.offset;let F;switch(S){case'insert':const N='sticksToNext'==this.stickiness;F=this._getTransformedByInsertion(O.start,R,N);break;case'move':case'remove':case'reinsert':const I=w.a.createFromPositionAndShift(V,R),M=I.containsPosition(this)||I.start.isEqual(this)&&'sticksToNext'==this.stickiness||I.end.isEqual(this)&&'sticksToPrevious'==this.stickiness;if(M)F=this._getCombined(V,O.start);else{const D='sticksToNext'==this.stickiness;F=this._getTransformedByMove(V,O.start,R,D)}}if(!this.isEqual(F)){const N=h.a.createFromPosition(this);this.path=F.path,this.root=F.root,this.fire('change',N)}}var h=d(1),w=d(3),T=d(9),C=d(4),P=d(0);class E extends h.a{constructor(S,O,V){if(super(S,O),!this.root.is('rootElement'))throw new P.a('model-liveposition-root-not-rootelement: LivePosition root has to be an instance of RootElement.');this.stickiness=V||'sticksToNext',u.call(this)}detach(){this.stopListening()}}s.a=E,d.i(C.a)(E,T.a)},function(r,s,d){'use strict';function u(){return null}var f=d(28),h=d(0),w=d(84);class T extends f.a{constructor(C,P,E){super(C,P,E),this.getFillerOffset=u}is(C,P=null){return P?'emptyElement'==C&&P==this.name||super.is(C,P):'emptyElement'==C||super.is(C)}insertChildren(C,P){if(P&&(P instanceof w.a||0<Array.from(P).length))throw new h.a('view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.')}}s.a=T},function(r,s){'use strict';function u(P,E){if('function'==typeof E)return E(P);const S={};return E.name&&(S.name=f(E.name,P.name),!S.name)?null:E.attribute&&(S.attribute=h(E.attribute,P),!S.attribute)?null:E.class&&(S.class=w(E.class,P),!S.class)?!1:E.style&&(S.style=T(E.style,P),!S.style)?!1:S}function f(P,E){return P instanceof RegExp?P.test(E):P===E}function h(P,E){const S=[];for(const O in P){const V=P[O];if(E.hasAttribute(O)){const R=E.getAttribute(O);if(V instanceof RegExp){if(V.test(R))S.push(O);else return null;}else if(R===V)S.push(O);else return null}else return null}return S}function w(P,E){const S=[];for(const O of P)if(O instanceof RegExp){const V=E.getClassNames();for(const R of V)O.test(R)&&S.push(R);if(0===S.length)return null}else if(E.hasClass(O))S.push(O);else return null;return S}function T(P,E){const S=[];for(const O in P){const V=P[O];if(E.hasStyle(O)){const R=E.getStyle(O);if(V instanceof RegExp){if(V.test(R))S.push(O);else return null;}else if(R===V)S.push(O);else return null}else return null}return S}s.a=class{constructor(...P){this._patterns=[],this.add(...P)}add(...P){for(let E of P)('string'==typeof E||E instanceof RegExp)&&(E={name:E}),E.class&&('string'==typeof E.class||E.class instanceof RegExp)&&(E.class=[E.class]),this._patterns.push(E)}match(...P){for(const E of P)for(const S of this._patterns){const O=u(E,S);if(O)return{element:E,pattern:S,match:O}}return null}matchAll(...P){const E=[];for(const S of P)for(const O of this._patterns){const V=u(S,O);V&&E.push({element:S,pattern:O,match:V})}return 0<E.length?E:null}getElementName(){if(1!==this._patterns.length)return null;const P=this._patterns[0],E=P.name;return'function'!=typeof P&&E&&!(E instanceof RegExp)?E:null}}},function(r,s,d){'use strict';var u=d(54),f=d(85),h=d(64),w=d(524);class T extends u.a{constructor(C){super(C),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=C.domConverter,this.renderer=C.renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(C){this._domElements.push(C),this.isEnabled&&this._mutationObserver.observe(C,this._config)}enable(){super.enable();for(const C of this._domElements)this._mutationObserver.observe(C,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(C){function P(N,I){if(!Array.isArray(N))return N===I||N.is('text')&&I.is('text')&&N.data===I.data}if(0===C.length)return;const E=this.domConverter,S=new Map,O=new Set;for(const N of C)if('childList'===N.type){const I=E.mapDomToView(N.target);if(I&&I.is('uiElement'))continue;I&&!this._isBogusBrMutation(N)&&O.add(I)}for(const N of C){const I=E.mapDomToView(N.target);if(!(I&&I.is('uiElement'))&&'characterData'===N.type){const M=E.findCorrespondingViewText(N.target);M&&!O.has(M.parent)?S.set(M,{type:'text',oldText:M.data,newText:d.i(h.f)(N.target),node:M}):!M&&d.i(h.b)(N.target)&&O.add(E.mapDomToView(N.target.parentNode))}}const V=[];for(const N of S.values())this.renderer.markToSync('text',N.node),V.push(N);for(const N of O){const I=E.mapViewToDom(N),M=Array.from(N.getChildren()),D=Array.from(E.domChildrenToView(I));d.i(w.a)(M,D,P)||(this.renderer.markToSync('children',N),V.push({type:'children',oldChildren:M,newChildren:D,node:N}))}const R=C[0].target.ownerDocument.getSelection();let F=null;if(R&&R.anchorNode){const N=E.domPositionToView(R.anchorNode,R.anchorOffset),I=E.domPositionToView(R.focusNode,R.focusOffset);N&&I&&(F=new f.a,F.collapse(N),F.setFocus(I))}this.document.fire('mutations',V,F),this.document.render()}_isBogusBrMutation(C){let P=null;return null===C.nextSibling&&0===C.removedNodes.length&&1==C.addedNodes.length&&(P=this.domConverter.domToView(C.addedNodes[0],{withChildren:!1})),P&&P.is('element','br')}}s.a=T},function(r,s,d){'use strict';var u=d(83);const f=Symbol('rootName');class h extends u.a{constructor(w){super(w),this.rootName='main'}is(w,T=null){return T?'rootElement'==w&&T==this.name||super.is(w,T):'rootElement'==w||super.is(w)}get rootName(){return this.getCustomProperty(f)}set rootName(w){this.setCustomProperty(f,w)}}s.a=h},function(r,s,d){'use strict';function u(){return new E.a('figure',{class:'image'},new S.a('img'))}var f=d(2),h=d(43),w=d(34),T=d(375),C=d(39),P=d(6),E=d(45),S=d(165);class O extends f.a{init(){const V=this.editor,R=V.document,F=R.schema,N=V.data,I=V.editing,M=V.t;F.registerItem('image'),F.requireAttributes('image',['src']),F.allow({name:'image',attributes:['alt','src','srcset'],inside:'$root'}),F.objects.add('image'),d.i(h.a)().for(N.modelToView).fromElement('image').toElement(()=>u()),d.i(h.a)().for(I.modelToView).fromElement('image').toElement(()=>d.i(C.c)(u(),M('image widget'))),d.i(T.a)([I.modelToView,N.modelToView],'src'),d.i(T.a)([I.modelToView,N.modelToView],'alt'),d.i(T.a)([I.modelToView,N.modelToView],'srcset',(D,L)=>{'removeAttribute'==L?D.removeAttribute('sizes'):D.setAttribute('sizes','100vw')}),d.i(w.a)().for(N.viewToModel).from({name:'img',attribute:{src:/./}}).toElement((D)=>new P.a('image',{src:D.getAttribute('src')})),N.viewToModel.on('element:img',T.b,{priority:'low'}),N.viewToModel.on('element',T.c,{priority:'low'}),d.i(w.a)().for(N.viewToModel).from({name:'img',attribute:{alt:/./}}).consuming({attribute:['alt']}).toAttribute((D)=>({key:'alt',value:D.getAttribute('alt')})),d.i(w.a)().for(N.viewToModel).from({name:'img',attribute:{srcset:/./}}).consuming({attribute:['srcset']}).toAttribute((D)=>({key:'srcset',value:D.getAttribute('srcset')})),N.viewToModel.on('element:figure',d.i(T.d)())}}s.a=O},function(r,s,d){'use strict';function f(T){const C=T.editing.view,P=h.a.defaultPositions;return{target:C.domConverter.viewToDom(C.selection.getSelectedElement()),positions:[P.northArrowSouth,P.southArrowNorth]}}s.a=function(T){const C=T.editing.view,P=T.plugins.get('ContextualBalloon'),E=C.selection.getSelectedElement();if(E&&d.i(w.a)(E)){const S=f(T);P.updatePosition(S)}},s.b=f;var h=d(179),w=d(39)},function(r,s,d){'use strict';function f(T,C,P){let E=T.textNode||(P?T.nodeBefore:T.nodeAfter),S=null;for(;E&&E.getAttribute('linkHref')==C;)S=E,E=P?E.previousSibling:E.nextSibling;return S?w.a.createAt(S,P?'before':'after'):T}s.a=function(T,C){return new h.a(f(T,C,!0),f(T,C,!1))};var h=d(3),w=d(1)},function(r,s,d){'use strict';var u=d(117);class f extends u.a{}s.a=f},function(r,s,d){'use strict';var u=d(125);class f{constructor(h,w=20){this.document=h,this.size=0,this.limit=w,this.isLocked=!1,this._changeCallback=(T,C,P,E)=>{this._onBatch(E)},this._selectionChangeCallback=()=>{this._reset()},h.on('change',this._changeCallback),h.selection.on('change:range',this._selectionChangeCallback),h.selection.on('change:attribute',this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.document.batch()),this._batch}input(h){this.size+=h,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.document.off('change',this._changeCallback),this.document.selection.off('change:range',this._selectionChangeCallback),this.document.selection.off('change:attribute',this._selectionChangeCallback)}_onBatch(h){'transparent'!=h.type&&h!==this._batch&&1>=d.i(u.a)(h.getOperations())&&this._reset(!0)}_reset(h){(!this.isLocked||h)&&(this._batch=null,this.size=0)}}s.a=f},function(r,s){'use strict';s.a=function({emitter:f,activator:h,callback:w,contextElements:T}){f.listenTo(document,'mousedown',(C,{target:P})=>{if(h()){for(const E of T)if(E.contains(P))return;w()}})}},function(r,s){'use strict';s.a=function(f){return f.bindTemplate.to((h)=>{h.target===f.element&&h.preventDefault()})}},function(r,s){'use strict';s.a=function({view:f}){f.listenTo(f.element,'submit',(h,w)=>{w.preventDefault(),f.fire('submit')},{useCapture:!0})}},function(r,s,d){'use strict';var u=d(7),f=d(5);class h extends u.a{constructor(w){super(w),this.set('value'),this.set('id'),this.set('placeholder'),this.set('isReadOnly',!1);const T=this.bindTemplate;this.template=new f.a({tag:'input',attributes:{type:'text',class:['ck-input','ck-input-text'],id:T.to('id'),placeholder:T.to('placeholder'),readonly:T.to('isReadOnly')}}),this.on('change:value',(C,P,E)=>{this.element.value=E||''})}select(){this.element.select()}focus(){this.element.focus()}}s.a=h},function(r,s,d){'use strict';var u=d(7),f=d(5),h=d(72),w=d(411);class T extends u.a{constructor(C,P){super(C);const E=`ck-input-${d.i(h.a)()}`;this.set('label'),this.set('value'),this.set('isReadOnly',!1),this.labelView=this._createLabelView(E),this.inputView=this._createInputView(P,E);const S=this.bindTemplate;this.template=new f.a({tag:'div',attributes:{class:[S.if('isReadOnly','ck-disabled')]},children:[this.labelView,this.inputView]})}_createLabelView(C){const P=new w.a(this.locale);return P.for=C,P.bind('text').to(this,'label'),P}_createInputView(C,P){const E=new C(this.locale);return E.id=P,E.bind('value').to(this),E.bind('isReadOnly').to(this),E}select(){this.inputView.select()}focus(){this.inputView.focus()}}s.a=T},function(r,s,d){'use strict';function u(N,I){return N.top-I.height-F.arrowVerticalOffset}function f(N){return N.bottom+F.arrowVerticalOffset}var h=d(7),w=d(5),T=d(431),C=d(184),P=d(230),E=d(185),S=d(175),O=d(46);const V=d.i(E.a)('px'),R=O.a.document.body;class F extends h.a{constructor(N){super(N);const I=this.bindTemplate;this.set('top',0),this.set('left',0),this.set('position','arrow_nw'),this.set('isVisible',!1),this.set('withArrow',!0),this.set('className'),this.content=this.createCollection(),this.template=new w.a({tag:'div',attributes:{class:['ck-balloon-panel',I.to('position',(M)=>`ck-balloon-panel_${M}`),I.if('isVisible','ck-balloon-panel_visible'),I.if('withArrow','ck-balloon-panel_with-arrow'),I.to('className')],style:{top:I.to('top',V),left:I.to('left',V)}},children:this.content,on:{mousedown:d.i(S.a)(this),selectstart:I.to((M)=>M.preventDefault())}})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(N){this.show();const I=F.defaultPositions,M=Object.assign({},{element:this.element,positions:[I.southArrowNorthWest,I.southArrowNorthEast,I.northArrowSouthWest,I.northArrowSouthEast],limiter:R,fitInViewport:!0},N),{top:D,left:L,name:z}=d.i(T.a)(M);Object.assign(this,{top:D,left:L,position:z})}pin(N){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(N):this._stopPinning()},this._startPinning(N),this.listenTo(this,'change:isVisible',this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,'change:isVisible',this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(N){this.attachTo(N);const I=N.limiter||R;let M=null;d.i(P.a)(N.target)?M=N.target:d.i(C.a)(N.target)&&(M=N.target.commonAncestorContainer),this.listenTo(O.a.document,'scroll',(D,L)=>{const z=L.target,q=M&&z.contains(M),H=z.contains(I);(q||H||!M)&&this.attachTo(N)},{useCapture:!0}),this.listenTo(O.a.window,'resize',()=>{this.attachTo(N)})}_stopPinning(){this.stopListening(O.a.document,'scroll'),this.stopListening(O.a.window,'resize')}}s.a=F,F.arrowHorizontalOffset=30,F.arrowVerticalOffset=15,F.defaultPositions={northArrowSouth:(N,I)=>({top:u(N,I),left:N.left+N.width/2-I.width/2,name:'arrow_s'}),northArrowSouthEast:(N,I)=>({top:u(N,I),left:N.left+N.width/2-I.width+F.arrowHorizontalOffset,name:'arrow_se'}),northArrowSouthWest:(N,I)=>({top:u(N,I),left:N.left+N.width/2-F.arrowHorizontalOffset,name:'arrow_sw'}),northWestArrowSouth:(N,I)=>({top:u(N,I),left:N.left-I.width/2,name:'arrow_s'}),northWestArrowSouthWest:(N,I)=>({top:u(N,I),left:N.left-F.arrowHorizontalOffset,name:'arrow_sw'}),northWestArrowSouthEast:(N,I)=>({top:u(N,I),left:N.left-I.width+F.arrowHorizontalOffset,name:'arrow_se'}),northEastArrowSouth:(N,I)=>({top:u(N,I),left:N.right-I.width/2,name:'arrow_s'}),northEastArrowSouthEast:(N,I)=>({top:u(N,I),left:N.right-I.width+F.arrowHorizontalOffset,name:'arrow_se'}),northEastArrowSouthWest:(N,I)=>({top:u(N,I),left:N.right-F.arrowHorizontalOffset,name:'arrow_sw'}),southArrowNorth:(N,I)=>({top:f(N,I),left:N.left+N.width/2-I.width/2,name:'arrow_n'}),southArrowNorthEast:(N,I)=>({top:f(N,I),left:N.left+N.width/2-I.width+F.arrowHorizontalOffset,name:'arrow_ne'}),southArrowNorthWest:(N,I)=>({top:f(N,I),left:N.left+N.width/2-F.arrowHorizontalOffset,name:'arrow_nw'}),southWestArrowNorth:(N,I)=>({top:f(N,I),left:N.left-I.width/2,name:'arrow_n'}),southWestArrowNorthWest:(N,I)=>({top:f(N,I),left:N.left-F.arrowHorizontalOffset,name:'arrow_nw'}),southWestArrowNorthEast:(N,I)=>({top:f(N,I),left:N.left-I.width+F.arrowHorizontalOffset,name:'arrow_ne'}),southEastArrowNorth:(N,I)=>({top:f(N,I),left:N.right-I.width/2,name:'arrow_n'}),southEastArrowNorthEast:(N,I)=>({top:f(N,I),left:N.right-I.width+F.arrowHorizontalOffset,name:'arrow_ne'}),southEastArrowNorthWest:(N,I)=>({top:f(N,I),left:N.right-F.arrowHorizontalOffset,name:'arrow_nw'})}},function(r,s,d){'use strict';var u=d(7),f=d(5),h=d(67),w=d(122),T=d(48),C=d(418),P=d(175);class E extends u.a{constructor(S){super(S),this.items=this.createCollection(),this.focusTracker=new h.a,this.keystrokes=new T.a,this._focusCycler=new w.a({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:['arrowleft','arrowup'],focusNext:['arrowright','arrowdown']}}),this.template=new f.a({tag:'div',attributes:{class:['ck-toolbar']},children:this.items,on:{mousedown:d.i(P.a)(this)}}),this.items.on('add',(O,V)=>{this.focusTracker.add(V.element)}),this.items.on('remove',(O,V)=>{this.focusTracker.remove(V.element)})}init(){this.keystrokes.listenTo(this.element),super.init()}focus(){this._focusCycler.focusFirst()}fillFromConfig(S,O){S&&S.map((V)=>{const R='|'==V?new C.a:O.create(V);this.items.add(R)})}}s.a=E},function(r,s,d){'use strict';function u(T,C){const P=f([T],C);P.sort((E,S)=>E.start.isBefore(S.start)?-1:1);for(let E=1;E<P.length;E++){const S=P[E-1],O=P[E];S.end.isTouching(O.start)&&(S.end=O.end,P.splice(E,1),E--)}return P}function f(T,C){for(const P of C)for(const E of P.operations)for(let S=0;S<T.length;S++){let O;switch(E.type){case'insert':O=T[S]._getTransformedByInsertion(E.position,E.nodes.maxOffset,!0);break;case'move':case'remove':case'reinsert':O=T[S]._getTransformedByMove(E.sourcePosition,E.targetPosition,E.howMany,!0);}O&&(T.splice(S,1,...O),S=S+O.length-1)}return T}var h=d(11);class w extends h.a{constructor(T){super(T),this._stack=[],this._createdBatches=new WeakSet,this.refresh()}refresh(){this.isEnabled=0<this._stack.length}addBatch(T){const C={ranges:Array.from(this.editor.document.selection.getRanges()),isBackward:this.editor.document.selection.isBackward};this._stack.push({batch:T,selection:C}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(T,C,P){const E=this.editor.document,S=[];for(const O of T){const V=u(O,P),R=V.find((F)=>F.start.root!=E.graveyard);R&&S.push(R)}S.length&&E.selection.setRanges(S,C)}_undo(T){const C=this.editor.document,P=C.batch();this._createdBatches.add(P);const E=T.deltas.slice();E.reverse();for(const S of E){const O=S.baseVersion+S.operations.length,V=Array.from(C.history.getDeltas(O)),R=C.transformDeltas([S.getReversed()],V,!0),F=R.deltasA;for(const N of F){N.baseVersion=C.version,P.addDelta(N);for(const I of N.operations)C.applyOperation(I);C.history.setDeltaAsUndone(S,N)}}return P}}s.a=w},function(r,s){'use strict';s.a=function(f,h,w){function T(I){const M=(R[I-1]===void 0?-1:R[I-1])+1,D=R[I+1]===void 0?-1:R[I+1],L=M>D?-1:1;V[I+L]&&(V[I]=V[I+L].slice(0)),V[I]||(V[I]=[]),V[I].push(M>D?C:P);let z=_Mathmax(M,D),q=z-I;for(;q<E&&z<S&&w(f[q],h[z]);)q++,z++,V[I].push('equal');return z}w=w||function(I,M){return I===M};let C,P;if(h.length<f.length){const I=f;f=h,h=I,C='delete',P='insert'}else C='insert',P='delete';const E=f.length,S=h.length,O=S-E,V={},R={};let F=0,N;do{for(N=-F;N<O;N++)R[N]=T(N);for(N=O+F;N>O;N--)R[N]=T(N);R[O]=T(O),F++}while(R[O]!==S);return V[O].slice(1)}},function(r,s){'use strict';s.a=function(f){const h=[];for(;f&&f.nodeType!=Node.DOCUMENT_NODE;)h.unshift(f),f=f.parentNode;return h}},function(r,s){'use strict';s.a=function(f){return'[object Range]'==Object.prototype.toString.apply(f)}},function(r,s){'use strict';s.a=function(f){return(h)=>h+f}},function(r,s,d){'use strict';var u=d(57),f=d(33),h=d.i(u.a)(f.a,'Map');s.a=h},function(r,s,d){'use strict';var u=d(57),f=d(33),h=d.i(u.a)(f.a,'Set');s.a=h},function(r,s,d){'use strict';var u=d(33),f=u.a.Uint8Array;s.a=f},function(r,s){'use strict';s.a=function(f,h,w){var T=w.length;return 0===T?f.call(h):1===T?f.call(h,w[0]):2===T?f.call(h,w[0],w[1]):3===T?f.call(h,w[0],w[1],w[2]):f.apply(h,w)}},function(r,s){'use strict';s.a=function(f,h,w,T){var C=-1,P=f.length;for(T&&P&&(w=f[++C]);++C<P;)w=h(w,f[C],C,f);return w}},function(r,s,d){'use strict';function u(ge,fe,he,be,_e,ke,we){var ye;if(be&&(ye=ke?be(ge,_e,ke,we):be(ge)),void 0!==ye)return ye;if(!d.i(D.a)(ge))return ge;var ve=d.i(N.a)(ge);if(!ve){var xe=d.i(O.a)(ge),Te=xe==U||xe==K;if(d.i(I.a)(ge))return d.i(C.a)(ge,fe);if(xe==Y||xe==z||Te&&!ke){if(d.i(M.a)(ge))return ke?ge:{};if(ye=d.i(F.a)(Te?{}:ge),!fe)return d.i(E.a)(ge,d.i(T.a)(ye,ge))}else{if(!pe[xe])return ke?ge:{};ye=d.i(R.a)(ge,xe,u,fe)}}else if(ye=d.i(V.a)(ge),!fe)return d.i(P.a)(ge,ye);we||(we=new f.a);var Ce=we.get(ge);if(Ce)return Ce;if(we.set(ge,ye),!ve)var Ae=he?d.i(S.a)(ge):d.i(L.a)(ge);return d.i(h.a)(Ae||ge,function(Pe,Ee){Ae&&(Ee=Pe,Pe=ge[Ee]),d.i(w.a)(ye,Ee,u(Pe,fe,he,be,Ee,ge,we))}),ye}var f=d(127),h=d(445),w=d(68),T=d(447),C=d(467),P=d(198),E=d(475),S=d(481),O=d(144),V=d(490),R=d(491),F=d(492),N=d(12),I=d(522),M=d(99),D=d(17),L=d(71),z='[object Arguments]',U='[object Function]',K='[object GeneratorFunction]',Y='[object Object]',pe={};pe[z]=pe['[object Array]']=pe['[object ArrayBuffer]']=pe['[object DataView]']=pe['[object Boolean]']=pe['[object Date]']=pe['[object Float32Array]']=pe['[object Float64Array]']=pe['[object Int8Array]']=pe['[object Int16Array]']=pe['[object Int32Array]']=pe['[object Map]']=pe['[object Number]']=pe[Y]=pe['[object RegExp]']=pe['[object Set]']=pe['[object String]']=pe['[object Symbol]']=pe['[object Uint8Array]']=pe['[object Uint8ClampedArray]']=pe['[object Uint16Array]']=pe['[object Uint32Array]']=!0,pe['[object Error]']=pe[U]=pe['[object WeakMap]']=!1,s.a=u},function(r,s){'use strict';s.a=function(f,h,w){for(var T=f.length,C=w?T:-1;w?C--:++C<T;)if(h(f[C],C,f))return C;return-1}},function(r,s,d){'use strict';var f=d(143),h=Object.prototype,w=h.hasOwnProperty;s.a=function(T,C){return w.call(T,C)||'object'==typeof T&&C in T&&null===d.i(f.a)(T)}},function(r,s,d){'use strict';var f=d(97),h=d(41),w=d(58),T=d(18),C=d(506),P=d(59),E=Array.prototype,S=E.splice;s.a=function(O,V){for(var R=O?V.length:0,F=R-1,N;R--;)if(N=V[R],R==F||N!==I){var I=N;if(d.i(h.a)(N))S.call(O,N,1);else if(!d.i(w.a)(N,O)){var M=d.i(f.a)(N),D=d.i(C.a)(O,M);null!=D&&delete D[d.i(P.a)(d.i(T.a)(M))]}else delete O[d.i(P.a)(N)]}return O}},function(r,s,d){'use strict';var f=d(60);s.a=function(h,w){for(var T=-1,C=h.length,P=0,E=[];++T<C;){var S=h[T],O=w?w(S):S;if(!T||!d.i(f.a)(O,V)){var V=O;E[P++]=0===S?0:S}}return E}},function(r,s){'use strict';s.a=function(f,h){for(var w=-1,T=Array(f);++w<f;)T[w]=h(w);return T}},function(r,s){'use strict';s.a=function(f,h,w){for(var T=-1,C=f.length,P=h.length,E={},S;++T<C;)S=T<P?h[T]:void 0,w(E,f[T],S);return E}},function(r,s){'use strict';s.a=function(f,h){var w=-1,T=f.length;for(h||(h=Array(T));++w<T;)h[w]=f[w];return h}},function(r,s,d){'use strict';var f=d(90),h=d(446);s.a=function(C,P,E,S,O,V){var R=O&2,F=C.length,N=P.length;if(F!=N&&!(R&&N>F))return!1;var I=V.get(C);if(I)return I==P;var M=-1,D=!0,L=O&1?new f.a:void 0;for(V.set(C,P);++M<F;){var z=C[M],q=P[M];if(S)var H=R?S(q,z,M,P,C,V):S(z,q,M,C,P,V);if(void 0!==H){if(H)continue;D=!1;break}if(L){if(!d.i(h.a)(P,function(W,$){if(!L.has($)&&(z===W||E(z,W,S,O,V)))return L.add($)})){D=!1;break}}else if(!(z===q||E(z,q,S,O,V))){D=!1;break}}return V['delete'](C),D}},function(r,s){'use strict';function u(h){return f(Object(h))}var f=Object.getOwnPropertySymbols;f||(u=function(){return[]}),s.a=u},function(r,s,d){'use strict';var f=d(196),h=d(149),w=d(12),T=d(105),C=d(151);s.a=function(P){var E=P?P.length:void 0;return d.i(T.a)(E)&&(d.i(w.a)(P)||d.i(C.a)(P)||d.i(h.a)(P))?d.i(f.a)(E,String):null}},function(r,s){'use strict';s.a=function(f,h,w){for(var T=f.length,C=h+(w?0:-1),P;w?C--:++C<T;)if(P=f[C],P!==P)return C;return-1}},function(r,s,d){'use strict';var f=d(17);s.a=function(h){return h===h&&!d.i(f.a)(h)}},function(r,s){'use strict';s.a=function(f,h){return function(w){return null!=w&&w[f]===h&&(h!==void 0||f in Object(w))}}},function(r,s){'use strict';var f=Function.prototype.toString;s.a=function(h){if(null!=h){try{return f.call(h)}catch(w){}try{return h+''}catch(w){}}return''}},function(r,s,d){'use strict';var f=d(40),h=d(100),w=d(14),T=Math.ceil;s.a=function(P,E,S){E=(S?d.i(h.a)(P,E,S):void 0===E)?1:_Mathmax(d.i(w.a)(E),0);var O=P?P.length:0;if(!O||1>E)return[];for(var V=0,R=0,F=Array(T(O/E));V<O;)F[R++]=d.i(f.a)(P,V,V+=E);return F}},function(r,s){'use strict';s.a=function(f){for(var h=-1,w=f?f.length:0,T=0,C=[],P;++h<w;)P=f[h],P&&(C[T++]=P);return C}},function(r,s,d){'use strict';var f=d(92),h=d(25),w=d(198),T=d(12);s.a=function(){for(var C=arguments.length,P=Array(C?C-1:0),E=arguments[0],S=C;S--;)P[S-1]=arguments[S];return C?d.i(f.a)(d.i(T.a)(E)?d.i(w.a)(E):[E],d.i(h.a)(P,1)):[]}},function(r,s,d){'use strict';var f=d(17),h=d(529),w=d(255);s.a=function(E,S,O){function V(X){var Z=q,ee=H;return q=H=void 0,Q=X,$=E.apply(ee,Z),$}function R(X){return Q=X,U=setTimeout(I,S),J?V(X):$}function F(X){var Z=X-K,ee=X-Q,te=S-Z;return Y?_Mathmin(te,W-ee):te}function N(X){var Z=X-K,ee=X-Q;return!K||Z>=S||0>Z||Y&&ee>=W}function I(){var X=d.i(h.a)();return N(X)?M(X):void(U=setTimeout(I,F(X)))}function M(X){return(clearTimeout(U),U=void 0,G&&q)?V(X):(q=H=void 0,$)}function z(){var X=d.i(h.a)(),Z=N(X);if(q=arguments,H=this,K=X,Z){if(void 0===U)return R(K);if(Y)return clearTimeout(U),U=setTimeout(I,S),V(K)}return void 0===U&&(U=setTimeout(I,S)),$}var K=0,Q=0,J=!1,Y=!1,G=!0,q,H,W,$,U;if('function'!=typeof E)throw new TypeError('Expected a function');return S=d.i(w.a)(S)||0,d.i(f.a)(O)&&(J=!!O.leading,Y='maxWait'in O,W=Y?_Mathmax(d.i(w.a)(O.maxWait)||0,S):W,G='trailing'in O?!!O.trailing:G),z.cancel=function(){void 0!==U&&clearTimeout(U),K=Q=0,q=H=U=void 0},z.flush=function(){return void 0===U?$:M(d.i(h.a)())},z}},function(r,s,d){'use strict';var u=d(69),f=d(25),h=d(13),w=d(8),T=d.i(w.a)(function(C,P){return d.i(h.a)(C)?d.i(u.a)(C,d.i(f.a)(P,1,h.a,!0)):[]});s.a=T},function(r,s,d){'use strict';var u=d(69),f=d(25),h=d(10),w=d(13),T=d(18),C=d(8),P=d.i(C.a)(function(E,S){var O=d.i(T.a)(S);return d.i(w.a)(O)&&(O=void 0),d.i(w.a)(E)?d.i(u.a)(E,d.i(f.a)(S,1,w.a,!0),d.i(h.a)(O)):[]});s.a=P},function(r,s,d){'use strict';var u=d(69),f=d(25),h=d(13),w=d(18),T=d(8),C=d.i(T.a)(function(P,E){var S=d.i(w.a)(E);return d.i(h.a)(S)&&(S=void 0),d.i(h.a)(P)?d.i(u.a)(P,d.i(f.a)(E,1,h.a,!0),void 0,S):[]});s.a=C},function(r,s,d){'use strict';var f=d(10),h=d(96);s.a=function(w,T){return w&&w.length?d.i(h.a)(w,d.i(f.a)(T,3),!0,!0):[]}},function(r,s,d){'use strict';var f=d(10),h=d(96);s.a=function(w,T){return w&&w.length?d.i(h.a)(w,d.i(f.a)(T,3),!0):[]}},function(r,s,d){'use strict';var f=d(451),h=d(100);s.a=function(w,T,C,P){var E=w?w.length:0;return E?(C&&'number'!=typeof C&&d.i(h.a)(w,T,C)&&(C=0,P=E),d.i(f.a)(w,T,C,P)):[]}},function(r,s,d){'use strict';var f=d(192),h=d(10);s.a=function(w,T){return w&&w.length?d.i(f.a)(w,d.i(h.a)(T,3)):-1}},function(r,s,d){'use strict';var f=d(192),h=d(10);s.a=function(w,T){return w&&w.length?d.i(f.a)(w,d.i(h.a)(T,3),!0):-1}},function(r,s,d){'use strict';var u=d(148);d.d(s,'a',function(){return u.a})},function(r,s,d){'use strict';var f=d(25);s.a=function(h){var w=h?h.length:0;return w?d.i(f.a)(h,1):[]}},function(r,s,d){'use strict';var f=d(25);s.a=function(w){var T=w?w.length:0;return T?d.i(f.a)(w,1/0):[]}},function(r,s,d){'use strict';var f=d(25),h=d(14);s.a=function(w,T){var C=w?w.length:0;return C?(T=void 0===T?1:d.i(h.a)(T),d.i(f.a)(w,T)):[]}},function(r,s){'use strict';s.a=function(f){for(var h=-1,w=f?f.length:0,T={},C;++h<w;)C=f[h],T[C[0]]=C[1];return T}},function(r,s,d){'use strict';var f=d(131);s.a=function(h,w,T){var C=null==h?void 0:d.i(f.a)(h,w);return C===void 0?T:C}},function(r,s){'use strict';s.a=function(f){return f}},function(r,s,d){'use strict';var f=d(132),h=d(14);s.a=function(T,C,P){var E=T?T.length:0;return E?(P=d.i(h.a)(P),0>P&&(P=_Mathmax(E+P,0)),d.i(f.a)(T,C,P)):-1}},function(r,s,d){'use strict';var f=d(147);s.a=function(h){return d.i(f.a)(h,1)}},function(r,s,d){'use strict';var u=d(29),f=d(133),h=d(140),w=d(8),T=d.i(w.a)(function(C){var P=d.i(u.a)(C,h.a);return P.length&&P[0]===C[0]?d.i(f.a)(P):[]});s.a=T},function(r,s,d){'use strict';var u=d(29),f=d(133),h=d(10),w=d(140),T=d(18),C=d(8),P=d.i(C.a)(function(E){var S=d.i(T.a)(E),O=d.i(u.a)(E,w.a);return S===d.i(T.a)(O)?S=void 0:O.pop(),O.length&&O[0]===E[0]?d.i(f.a)(O,d.i(h.a)(S)):[]});s.a=P},function(r,s,d){'use strict';var u=d(29),f=d(133),h=d(140),w=d(18),T=d(8),C=d.i(T.a)(function(P){var E=d.i(w.a)(P),S=d.i(u.a)(P,h.a);return E===d.i(w.a)(S)?E=void 0:S.pop(),S.length&&S[0]===P[0]?d.i(f.a)(S,void 0,E):[]});s.a=C},function(r,s,d){'use strict';var f=d(51),h=d(106);s.a=function(w){return!!w&&1===w.nodeType&&d.i(f.a)(w)&&!d.i(h.a)(w)}},function(r,s,d){'use strict';var f=d(150),h=d(99),w=d(17),T=d(205),C=/[\\^$.*+?()[\]{}|]/g,P=/^\[object .+?Constructor\]$/,E=Object.prototype,S=Function.prototype.toString,O=E.hasOwnProperty,V=RegExp('^'+S.call(O).replace(C,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$');s.a=function(R){if(!d.i(w.a)(R))return!1;var F=d.i(f.a)(R)||d.i(h.a)(R)?V:P;return F.test(d.i(T.a)(R))}},function(r,s){'use strict';var f=Array.prototype,h=f.join;s.a=function(w,T){return w?h.call(w,T):''}},function(r,s,d){'use strict';var f=d(202),h=d(14);s.a=function(C,P,E){var S=C?C.length:0;if(!S)return-1;var O=S;if(void 0!==E&&(O=d.i(h.a)(E),O=(0>O?_Mathmax(S+O,0):_Mathmin(O,S-1))+1),P!==P)return d.i(f.a)(C,O,!0);for(;O--;)if(C[O]===P)return O;return-1}},function(r,s,d){'use strict';var f=d(461),h=d(14);s.a=function(w,T){return w&&w.length?d.i(f.a)(w,d.i(h.a)(T)):void 0}},function(r,s,d){'use strict';var u=d(152),f=d(8),h=d.i(f.a)(u.a);s.a=h},function(r,s,d){'use strict';var f=d(10),h=d(135);s.a=function(w,T,C){return w&&w.length&&T&&T.length?d.i(h.a)(w,T,d.i(f.a)(C)):w}},function(r,s,d){'use strict';var f=d(135);s.a=function(h,w,T){return h&&h.length&&w&&w.length?d.i(f.a)(h,w,void 0,T):h}},function(r,s,d){'use strict';var u=d(29),f=d(448),h=d(25),w=d(194),T=d(474),C=d(41),P=d(8),E=d.i(P.a)(function(S,O){O=d.i(h.a)(O,1);var V=S?S.length:0,R=d.i(f.a)(S,O);return d.i(w.a)(S,d.i(u.a)(O,function(F){return d.i(C.a)(F,V)?+F:F}).sort(T.a)),R});s.a=E},function(r,s,d){'use strict';var f=d(10),h=d(194);s.a=function(w,T){var C=[];if(!(w&&w.length))return C;var P=-1,E=[],S=w.length;for(T=d.i(f.a)(T,3);++P<S;){var O=w[P];T(O,P,w)&&(C.push(O),E.push(P))}return d.i(h.a)(w,E),C}},function(r,s){'use strict';var f=Array.prototype,h=f.reverse;s.a=function(w){return w?h.call(w):w}},function(r,s,d){'use strict';var f=d(40),h=d(100),w=d(14);s.a=function(T,C,P){var E=T?T.length:0;return E?(P&&'number'!=typeof P&&d.i(h.a)(T,C,P)?(C=0,P=E):(C=null==C?0:d.i(w.a)(C),P=void 0===P?E:d.i(w.a)(P)),d.i(f.a)(T,C,P)):[]}},function(r,s,d){'use strict';var f=d(95);s.a=function(h,w){return d.i(f.a)(h,w)}},function(r,s,d){'use strict';var f=d(10),h=d(136);s.a=function(w,T,C){return d.i(h.a)(w,T,d.i(f.a)(C))}},function(r,s,d){'use strict';var f=d(95),h=d(60);s.a=function(w,T){var C=w?w.length:0;if(C){var P=d.i(f.a)(w,T);if(P<C&&d.i(h.a)(w[P],T))return P}return-1}},function(r,s,d){'use strict';var f=d(95);s.a=function(h,w){return d.i(f.a)(h,w,!0)}},function(r,s,d){'use strict';var f=d(10),h=d(136);s.a=function(w,T,C){return d.i(h.a)(w,T,d.i(f.a)(C),!0)}},function(r,s,d){'use strict';var f=d(95),h=d(60);s.a=function(w,T){var C=w?w.length:0;if(C){var P=d.i(f.a)(w,T,!0)-1;if(d.i(h.a)(w[P],T))return P}return-1}},function(r,s,d){'use strict';var f=d(195);s.a=function(h){return h&&h.length?d.i(f.a)(h):[]}},function(r,s,d){'use strict';var f=d(10),h=d(195);s.a=function(w,T){return w&&w.length?d.i(h.a)(w,d.i(f.a)(T)):[]}},function(r,s,d){'use strict';var f=d(146);s.a=function(h){return d.i(f.a)(h,1)}},function(r,s,d){'use strict';var f=d(40),h=d(14);s.a=function(w,T,C){return w&&w.length?(T=C||void 0===T?1:d.i(h.a)(T),d.i(f.a)(w,0,0>T?0:T)):[]}},function(r,s,d){'use strict';var f=d(40),h=d(14);s.a=function(w,T,C){var P=w?w.length:0;return P?(T=C||void 0===T?1:d.i(h.a)(T),T=P-T,d.i(f.a)(w,0>T?0:T,P)):[]}},function(r,s,d){'use strict';var f=d(10),h=d(96);s.a=function(w,T){return w&&w.length?d.i(h.a)(w,d.i(f.a)(T,3),!1,!0):[]}},function(r,s,d){'use strict';var f=d(10),h=d(96);s.a=function(w,T){return w&&w.length?d.i(h.a)(w,d.i(f.a)(T,3)):[]}},function(r,s,d){'use strict';var f=d(150),h=d(17),w=d(52),T=0/0,C=/^\s+|\s+$/g,P=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,S=/^0o[0-7]+$/i,O=parseInt;s.a=function(V){if('number'==typeof V)return V;if(d.i(w.a)(V))return T;if(d.i(h.a)(V)){var R=d.i(f.a)(V.valueOf)?V.valueOf():V;V=d.i(h.a)(R)?R+'':R}if('string'!=typeof V)return 0===V?V:+V;V=V.replace(C,'');var F=E.test(V);return F||S.test(V)?O(V.slice(2),F?2:8):P.test(V)?T:+V}},function(r,s,d){'use strict';var u=d(25),f=d(49),h=d(13),w=d(8),T=d.i(w.a)(function(C){return d.i(f.a)(d.i(u.a)(C,1,h.a,!0))});s.a=T},function(r,s,d){'use strict';var u=d(25),f=d(10),h=d(49),w=d(13),T=d(18),C=d(8),P=d.i(C.a)(function(E){var S=d.i(T.a)(E);return d.i(w.a)(S)&&(S=void 0),d.i(h.a)(d.i(u.a)(E,1,w.a,!0),d.i(f.a)(S))});s.a=P},function(r,s,d){'use strict';var u=d(25),f=d(49),h=d(13),w=d(18),T=d(8),C=d.i(T.a)(function(P){var E=d.i(w.a)(P);return d.i(h.a)(E)&&(E=void 0),d.i(f.a)(d.i(u.a)(P,1,h.a,!0),void 0,E)});s.a=C},function(r,s,d){'use strict';var f=d(49);s.a=function(h){return h&&h.length?d.i(f.a)(h):[]}},function(r,s,d){'use strict';var f=d(10),h=d(49);s.a=function(w,T){return w&&w.length?d.i(h.a)(w,d.i(f.a)(T)):[]}},function(r,s,d){'use strict';var f=d(49);s.a=function(h,w){return h&&h.length?d.i(f.a)(h,void 0,w):[]}},function(r,s,d){'use strict';var u=d(69),f=d(13),h=d(8),w=d.i(h.a)(function(T,C){return d.i(f.a)(T)?d.i(u.a)(T,C):[]});s.a=w},function(r,s,d){'use strict';var u=d(91),f=d(138),h=d(13),w=d(8),T=d.i(w.a)(function(C){return d.i(f.a)(d.i(u.a)(C,h.a))});s.a=T},function(r,s,d){'use strict';var u=d(91),f=d(10),h=d(138),w=d(13),T=d(18),C=d(8),P=d.i(C.a)(function(E){var S=d.i(T.a)(E);return d.i(w.a)(S)&&(S=void 0),d.i(h.a)(d.i(u.a)(E,w.a),d.i(f.a)(S))});s.a=P},function(r,s,d){'use strict';var u=d(91),f=d(138),h=d(13),w=d(18),T=d(8),C=d.i(T.a)(function(P){var E=d.i(w.a)(P);return d.i(h.a)(E)&&(E=void 0),d.i(f.a)(d.i(u.a)(P,h.a),void 0,E)});s.a=C},function(r,s,d){'use strict';var u=d(8),f=d(107),h=d.i(u.a)(f.a);s.a=h},function(r,s,d){'use strict';var f=d(68),h=d(197);s.a=function(w,T){return d.i(h.a)(w||[],T||[],f.a)}},function(r,s,d){'use strict';var f=d(463),h=d(197);s.a=function(w,T){return d.i(h.a)(w||[],T||[],f.a)}},function(r,s,d){'use strict';var u=d(8),f=d(153),h=d.i(u.a)(function(w){var T=w.length,C=1<T?w[T-1]:void 0;return C='function'==typeof C?(w.pop(),C):void 0,d.i(f.a)(w,C)});s.a=h},function(r,s){'use strict';s.a=function(f){const h=new Map;for(const w in f)h.set(w,f[w]);return h}},function(r,s){'use strict';function u(C){return!!C&&1==C.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(C)}function f(C){return!!C&&1==C.length&&/[\ud800-\udbff]/.test(C)}function h(C){return!!C&&1==C.length&&/[\udc00-\udfff]/.test(C)}s.a=function(C,P){return f(C.charAt(P-1))&&h(C.charAt(P))},s.b=function(C,P){return u(C.charAt(P))}},function(r,s,d){'use strict';var u=d(317),f=d(318),h=d(2);class w extends h.a{static get pluginName(){return'Autoformat'}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats()}_addListAutoformats(){const T=this.editor.commands;T.get('bulletedList')&&new u.a(this.editor,/^[*-]\s$/,'bulletedList'),T.get('numberedList')&&new u.a(this.editor,/^\d+[.|)]?\s$/,'numberedList')}_addBasicStylesAutoformats(){const T=this.editor.commands;T.get('bold')&&(new f.a(this.editor,/(\*\*)([^*]+)(\*\*)$/g,'bold'),new f.a(this.editor,/(__)([^_]+)(__)$/g,'bold')),T.get('italic')&&(new f.a(this.editor,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,'italic'),new f.a(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,'italic'))}_addHeadingAutoformats(){Array.from(this.editor.commands.names()).filter((T)=>T.match(/^heading[1-6]$/)).forEach((T)=>{const C=T[7],P=new RegExp(`^(#{${C}})\\s$`);new u.a(this.editor,P,(E)=>{const{batch:S}=E;this.editor.execute(T,{batch:S})})})}_addBlockQuoteAutoformats(){this.editor.commands.get('blockQuote')&&new u.a(this.editor,/^>\s$/,'blockQuote')}}s.a=w},function(r,s,d){'use strict';var u=d(2),f=d(319),h=d(23),w=d(294),T=d.n(w);class C extends u.a{static get requires(){return[f.a]}static get pluginName(){return'Bold'}init(){const P=this.editor,E=P.t,S=P.commands.get('bold'),O='CTRL+B';P.ui.componentFactory.add('bold',(V)=>{const R=new h.a(V);return R.set({label:E('Bold'),icon:T.a,keystroke:O,tooltip:!0}),R.bind('isOn','isEnabled').to(S,'value','isEnabled'),this.listenTo(R,'execute',()=>P.execute('bold')),R}),P.keystrokes.set(O,'bold')}}s.a=C},function(r,s,d){'use strict';var u=d(2),f=d(320),h=d(23),w=d(295),T=d.n(w);class C extends u.a{static get requires(){return[f.a]}static get pluginName(){return'Italic'}init(){const P=this.editor,E=P.t,S=P.commands.get('italic'),O='CTRL+I';P.ui.componentFactory.add('italic',(V)=>{const R=new h.a(V);return R.set({label:E('Italic'),icon:T.a,keystroke:O,tooltip:!0}),R.bind('isOn','isEnabled').to(S,'value','isEnabled'),this.listenTo(R,'execute',()=>P.execute('italic')),R}),P.keystrokes.set(O,'italic')}}s.a=C},function(r,s,d){'use strict';var u=d(2),f=d(322),h=d(23),w=d(299),T=d.n(w),C=d(307),P=d.n(C);class E extends u.a{static get requires(){return[f.a]}static get pluginName(){return'BlockQuote'}init(){const S=this.editor,O=S.t,V=S.commands.get('blockQuote');S.ui.componentFactory.add('blockQuote',(R)=>{const F=new h.a(R);return F.set({label:O('Block quote'),icon:T.a,tooltip:!0}),F.bind('isOn','isEnabled').to(V,'value','isEnabled'),this.listenTo(F,'execute',()=>S.execute('blockQuote')),F})}afterInit(){const S=this.editor,O=S.commands.get('blockQuote');this.listenTo(this.editor.editing.view,'enter',(V,R)=>{const F=this.editor.document,N=F.selection.getLastPosition().parent;F.selection.isCollapsed&&N.isEmpty&&O.value&&(this.editor.execute('blockQuote'),R.preventDefault(),V.stop())})}}s.a=E},function(r,s,d){'use strict';var u=d(333),f=d(161),h=d(335),w=d(336),T=d(435),C=d(308),P=d.n(C);class E extends u.a{constructor(S,O){super(S,O),this.document.createRoot(),this.data.processor=new f.a,this.ui=new h.a(this,new w.a(this.locale)),this._elementReplacer=new T.a}destroy(){return this.updateEditorElement(),this._elementReplacer.restore(),this.ui.destroy(),super.destroy()}static create(S,O){return new Promise((V)=>{const R=new this(S,O);V(R.initPlugins().then(()=>R._elementReplacer.replace(S,R.ui.view.element)).then(()=>{R.ui.init(),R.fire('uiReady')}).then(()=>R.editing.view.attachDomRoot(R.ui.view.editableElement)).then(()=>R.loadDataFromEditorElement()).then(()=>{R.fire('dataReady'),R.fire('ready')}).then(()=>R))})}}s.a=E},function(r,s,d){'use strict';function u(R,F){return Array.prototype.concat(...R.map((N)=>[N,F]))}var f=d(73),h=d(374),w=d(2),T=d(414),C=d(405),P=d(87),E=d(5),S=d(310),O=d.n(S);class V extends w.a{static get requires(){return[f.a,h.a]}static get pluginName(){return'Heading'}init(){const R=this.editor,F=new P.a,N=this._getLocalizedOptions(),I=[],M=R.t,D=M('Choose heading'),L=M('Heading');for(const q of N){const H=R.commands.get(q.modelElement),W=new T.a({commandName:q.modelElement,label:q.title,class:q.class});W.bind('isActive').to(H,'value'),F.add(W),I.push(H)}const z=new T.a({withText:!0,items:F,tooltip:L});z.bind('isEnabled').to(...u(I,'isEnabled'),(...q)=>q.some((H)=>H)),z.bind('label').to(...u(I,'value'),(...q)=>{const H=q.findIndex((W)=>W);return N[H]?N[H].title:D}),R.ui.componentFactory.add('headings',(q)=>{const H=d.i(C.a)(z,q);return E.a.extend(H.template,{attributes:{class:['ck-heading-dropdown']}}),this.listenTo(H,'execute',(W)=>{R.execute(W.source.commandName),R.editing.view.focus()}),H})}_getLocalizedOptions(){const R=this.editor,F=R.t,N={Paragraph:F('Paragraph'),"Heading 1":F('Heading 1'),"Heading 2":F('Heading 2'),"Heading 3":F('Heading 3')};return R.config.get('heading.options').map((I)=>{const M=N[I.title];return M&&M!=I.title&&(I=Object.assign({},I,{title:M})),I})}}s.a=V},function(r,s,d){'use strict';var u=d(2),f=d(169),h=d(540),w=d(381),T=d(39),C=d(313),P=d.n(C);class E extends u.a{static get requires(){return[f.a,h.a,w.a]}static get pluginName(){return'Image'}init(){const S=this.editor,O=S.plugins.get('ContextualToolbar');O&&this.listenTo(O,'show',(V)=>{const R=S.editing.view.selection.getSelectedElement();R&&d.i(T.a)(R)&&V.stop()},{priority:'high'})}}s.a=E},function(r,s,d){'use strict';var u=d(2),f=d(376),h=d(311),w=d.n(h);class T extends u.a{static get requires(){return[f.a]}static get pluginName(){return'ImageCaption'}}s.a=T},function(r,s,d){'use strict';var u=d(2),f=d(380),h=d(23);class w extends u.a{static get requires(){return[f.a]}static get pluginName(){return'ImageStyle'}init(){const T=this.editor.config.get('image.styles');for(const C of T)this._createButton(C)}_createButton(T){const C=this.editor,P=C.commands.get(T.name);C.ui.componentFactory.add(T.name,(E)=>{const S=new h.a(E);return S.set({label:T.title,icon:T.icon,tooltip:!0}),S.bind('isEnabled').to(P,'isEnabled'),S.bind('isOn').to(P,'value'),this.listenTo(S,'execute',()=>C.execute(T.name)),S})}}s.a=w},function(r,s,d){'use strict';var u=d(5),f=d(2),h=d(180),w=d(123),T=d(39),C=d(170);class E extends f.a{static get requires(){return[w.a]}static get pluginName(){return'ImageToolbar'}afterInit(){const S=this.editor,O=S.config.get('image.toolbar');O&&O.length&&(this._balloon=this.editor.plugins.get('ContextualBalloon'),this._toolbar=new h.a,u.a.extend(this._toolbar.template,{attributes:{class:'ck-editor-toolbar'}}),this._toolbar.fillFromConfig(O,S.ui.componentFactory),this.listenTo(S.editing.view,'render',()=>{this._checkIsVisible()},{priority:'low'}),this.listenTo(S.ui.focusTracker,'change:isFocused',()=>{this._checkIsVisible()},{priority:'low'}))}_checkIsVisible(){const S=this.editor;if(!S.ui.focusTracker.isFocused)this._hideToolbar();else{const O=S.editing.view,V=O.selection.getSelectedElement();V&&d.i(T.a)(V)?this._showToolbar():this._hideToolbar()}}_showToolbar(){const S=this.editor;this._isVisible?d.i(C.a)(S):!this._balloon.hasView(this._toolbar)&&this._balloon.add({view:this._toolbar,position:d.i(C.b)(S),balloonClassName:'ck-toolbar-container ck-editor-toolbar-container'})}_hideToolbar(){this._isVisible&&this._balloon.remove(this._toolbar)}get _isVisible(){return this._balloon.visibleView==this._toolbar}}s.a=E},function(r,s,d){'use strict';function u(z){return z.getAncestors().find((q)=>q instanceof C.a)}var f=d(2),h=d(361),w=d(38),T=d(386),C=d(172),P=d(123),E=d(174),S=d(23),O=d(387),V=d(300),R=d.n(V),F=d(301),N=d.n(F),I=d(314),M=d.n(I);const D='Ctrl+K';class L extends f.a{static get requires(){return[T.a,P.a]}static get pluginName(){return'Link'}init(){this.editor.editing.view.addObserver(h.a),this.formView=this._createForm(),this._balloon=this.editor.plugins.get(P.a),this._createToolbarLinkButton(),this._createToolbarUnlinkButton(),this._attachActions()}_createForm(){const z=this.editor,q=new O.a(z.locale),H=z.commands.get('link'),W=z.commands.get('unlink');return q.urlInputView.bind('value').to(H,'value'),q.urlInputView.bind('isReadOnly').to(H,'isEnabled',($)=>!$),q.saveButtonView.bind('isEnabled').to(H),q.unlinkButtonView.bind('isEnabled').to(W),this.listenTo(q,'submit',()=>{z.execute('link',q.urlInputView.inputView.element.value),this._hidePanel(!0)}),this.listenTo(q,'unlink',()=>{z.execute('unlink'),this._hidePanel(!0)}),this.listenTo(q,'cancel',()=>this._hidePanel(!0)),q.keystrokes.set('Esc',($,U)=>{this._hidePanel(!0),U()}),q}_createToolbarLinkButton(){const z=this.editor,q=z.commands.get('link'),H=z.t;z.keystrokes.set(D,()=>{q.isEnabled&&this._showPanel(!0)}),z.ui.componentFactory.add('link',(W)=>{const $=new S.a(W);return $.isEnabled=!0,$.label=H('Link'),$.icon=R.a,$.keystroke=D,$.tooltip=!0,$.bind('isEnabled').to(q,'isEnabled'),this.listenTo($,'execute',()=>this._showPanel(!0)),$})}_createToolbarUnlinkButton(){const z=this.editor,q=z.t,H=z.commands.get('unlink');z.ui.componentFactory.add('unlink',(W)=>{const $=new S.a(W);return $.isEnabled=!1,$.label=q('Unlink'),$.icon=N.a,$.tooltip=!0,$.bind('isEnabled').to(H,'isEnabled'),this.listenTo($,'execute',()=>z.execute('unlink')),$})}_attachActions(){const z=this.editor.editing.view;this.listenTo(z,'click',()=>{const q=this._getSelectedLinkElement();q&&this._showPanel()}),this.editor.keystrokes.set('Tab',(q,H)=>{this._balloon.visibleView!==this.formView||this.formView.focusTracker.isFocused||(this.formView.focus(),H())}),this.editor.keystrokes.set('Esc',(q,H)=>{this._balloon.visibleView===this.formView&&(this._hidePanel(),H())}),d.i(E.a)({emitter:this.formView,activator:()=>this._balloon.hasView(this.formView),contextElements:[this._balloon.view.element],callback:()=>this._hidePanel()})}_showPanel(z){const q=this.editor,H=q.commands.get('link'),W=q.commands.get('unlink'),$=q.editing,U=$.view,K=U.selection.isCollapsed,Q=this._getSelectedLinkElement();this.formView.unlinkButtonView.isVisible=W.isEnabled,this.formView.urlInputView.inputView.element.value=H.value||'',this.listenTo(U,'render',()=>{const J=this._getSelectedLinkElement(),Y=U.selection.isCollapsed;K&&!Y||Q!==J?this._hidePanel(!0):J?this._balloon.updatePosition():this._balloon.updatePosition(this._getBalloonPositionData())}),this._balloon.hasView(this.formView)?z&&this._balloon.visibleView===this.formView&&this.formView.urlInputView.select():(this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),z&&this.formView.urlInputView.select())}_hidePanel(z){this.stopListening(this.editor.editing.view,'render');this._balloon.hasView(this.formView)&&(z&&this.editor.editing.view.focus(),this.stopListening(this.editor.editing.view,'render'),this._balloon.remove(this.formView))}_getBalloonPositionData(){const z=this.editor.editing.view,q=this._getSelectedLinkElement(),H=q?z.domConverter.mapViewToDom(q):z.domConverter.viewRangeToDom(z.selection.getFirstRange());return{target:H,limiter:z.domConverter.mapViewToDom(z.selection.editableElement)}}_getSelectedLinkElement(){const z=this.editor.editing.view.selection;if(z.isCollapsed)return u(z.getFirstPosition());const q=z.getFirstRange().getTrimmed(),H=u(q.start),W=u(q.end);return H&&H==W?w.a.createIn(H).getTrimmed().isEqual(q)?H:null:null}}s.a=L},function(r,s,d){'use strict';var u=d(392),f=d(303),h=d.n(f),w=d(302),T=d.n(w),C=d(2),P=d(24),E=d(23);class S extends C.a{static get requires(){return[u.a]}static get pluginName(){return'List'}init(){const O=this.editor.t;this._addButton('numberedList',O('Numbered List'),h.a),this._addButton('bulletedList',O('Bulleted List'),T.a),this.listenTo(this.editor.editing.view,'enter',(V,R)=>{const F=this.editor.document,N=F.selection.getLastPosition().parent;F.selection.isCollapsed&&'listItem'==N.name&&N.isEmpty&&(this.editor.execute('outdentList'),R.preventDefault(),V.stop())}),this.listenTo(this.editor.editing.view,'keydown',(V,R)=>{let F;if(R.keystroke==d.i(P.b)('Tab')?F='indentList':R.keystroke==d.i(P.b)('Shift+Tab')&&(F='outdentList'),F){const N=this.editor.commands.get(F);N.isEnabled&&(this.editor.execute(F),R.preventDefault(),V.stop())}})}_addButton(O,V,R){const F=this.editor,N=F.commands.get(O);F.ui.componentFactory.add(O,(I)=>{const M=new E.a(I);return M.set({label:V,icon:R,tooltip:!0}),M.bind('isOn','isEnabled').to(N,'value','isEnabled'),this.listenTo(M,'execute',()=>F.execute(O)),M})}}s.a=S},function(r,s,d){'use strict';var u=d(2),f=d(324),h=d(370),w=d(400),T=d(421);class C extends u.a{static get requires(){return[f.a,h.a,w.a,T.a]}}s.a=C},function(r,s,d){s=r.exports=d(30)(void 0),s.push([r.i,'blockquote{border-left:5px solid #ccc;padding-left:20px;margin-left:0;font-style:italic}',''])},function(r,s,d){s=r.exports=d(30)(void 0),s.push([r.i,'.ck-hidden{display:none!important}.ck-reset,.ck-reset_all,.ck-reset_all *,.ck-reset_all a,.ck-reset_all textarea{box-sizing:border-box;width:auto;height:auto;position:static}svg.ck-icon{min-width:20px;min-height:20px;font-size:1em;vertical-align:middle}svg.ck-icon,svg.ck-icon *{color:inherit;cursor:inherit}svg.ck-icon *{fill:currentColor}.ck-tooltip,.ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:999}.ck-tooltip__text{display:inline-block}.ck-tooltip__text:after{content:"";width:0;height:0}.ck-button,a.ck-button{display:inline-block;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.ck-button .ck-tooltip,a.ck-button .ck-tooltip{display:block}.ck-button:hover .ck-tooltip,a.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck-button .ck-button__label,.ck-button:focus:not(:hover) .ck-tooltip,a.ck-button .ck-button__label,a.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck-toolbar__separator{display:inline-block}.ck-toolbar__newline{display:block;clear:left}.ck-dropdown{display:inline-block;position:relative}.ck-dropdown:after{content:"";width:0;height:0;pointer-events:none;z-index:1;position:absolute;top:50%;transform:translateY(-50%)}.ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:999;position:absolute;left:0;transform:translateY(100%)}.ck-dropdown__panel-visible{display:inline-block}.ck-label,.ck-list__item{display:block}.cke-voice-label{display:none}.ck-balloon-panel{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;display:none;position:absolute;z-index:999}.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:1}.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:2}.ck-balloon-panel.ck-balloon-panel_arrow_n:before,.ck-balloon-panel.ck-balloon-panel_arrow_ne:before,.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{z-index:1}.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck-balloon-panel.ck-balloon-panel_arrow_nw:after{z-index:2}.ck-balloon-panel.ck-balloon-panel_arrow_s:before,.ck-balloon-panel.ck-balloon-panel_arrow_se:before,.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{z-index:1}.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck-balloon-panel.ck-balloon-panel_arrow_sw:after{z-index:2}.ck-balloon-panel_visible{display:block}.ck-editor .ck-toolbar.ck-toolbar_sticky{position:fixed;top:0}.ck-editor .ck-toolbar.ck-toolbar_sticky.ck-toolbar_sticky_bottom-limit{top:auto;position:absolute}.ck-reset,.ck-reset_all,.ck-reset_all *,.ck-reset_all a,.ck-reset_all textarea{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck-reset_all,.ck-reset_all *,.ck-reset_all a,.ck-reset_all textarea{border-collapse:collapse;font:normal normal normal 12px Helvetica,Arial,Tahoma,Verdana,Sans-Serif;color:#333;text-align:left;white-space:nowrap;cursor:auto;float:none}.ck-reset_all .ck-rtl *{text-align:right}.ck-reset_all iframe{vertical-align:inherit}.ck-reset_all textarea{white-space:pre-wrap}.ck-reset_all input[type=password],.ck-reset_all input[type=text],.ck-reset_all textarea{cursor:text}.ck-reset_all input[type=password][disabled],.ck-reset_all input[type=text][disabled],.ck-reset_all textarea[disabled]{cursor:default}.ck-reset_all fieldset{padding:10px;border:2px groove #e0dfe3}.ck-reset_all button::-moz-focus-inner{padding:0;border:0}svg.ck-icon{width:1.66667em;height:1.66667em}.ck-tooltip{left:50%}.ck-tooltip__text{color:#fff;font-size:.7rem;padding:.4em .64em;background:#333;position:relative;left:-50%;line-height:1.5}.ck-rounded-corners .ck-tooltip__text,.ck-tooltip__text.ck-rounded-corners{border-radius:2px}.ck-tooltip__text:after{border-style:solid;left:50%}.ck-tooltip.ck-tooltip_s{bottom:-5px;transform:translateY(100%)}.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:-5px;transform:translateX(-50%);border-color:transparent transparent #333;border-width:0 5px 5px}.ck-tooltip.ck-tooltip_n{top:-5px;transform:translateY(-100%)}.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:-5px;transform:translateX(-50%);border-color:#333 transparent transparent;border-width:5px 5px 0}.ck-tooltip,.ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s}.ck-button,a.ck-button{background:#fff;border:1px solid #bfbfbf;white-space:nowrap;cursor:default;vertical-align:middle;padding:.4em;line-height:1.66667}.ck-button:not(.ck-disabled):focus,.ck-button:not(.ck-disabled):hover,a.ck-button:not(.ck-disabled):focus,a.ck-button:not(.ck-disabled):hover{background:#e6e6e6;border-color:#a6a6a6}.ck-button:not(.ck-disabled):active,a.ck-button:not(.ck-disabled):active{background:#d9d9d9;border-color:#999;box-shadow:inset 0 2px 2px #bfbfbf}.ck-button.ck-disabled,a.ck-button.ck-disabled{background:#fff;border-color:#d9d9d9}.ck-button.ck-rounded-corners,.ck-rounded-corners .ck-button,.ck-rounded-corners a.ck-button,a.ck-button.ck-rounded-corners{border-radius:2px}.ck-button:focus,a.ck-button:focus{outline:none;border:1px solid #6ab5f9;box-shadow:0 0 3px 2px #9bcdfb}.ck-button .ck-icon,a.ck-button .ck-icon{float:left}.ck-button.ck-disabled .ck-button__label,.ck-button.ck-disabled .ck-icon,a.ck-button.ck-disabled .ck-button__label,a.ck-button.ck-disabled .ck-icon{opacity:.5}.ck-button.ck-button_with-text,a.ck-button.ck-button_with-text{padding:.4em .8em}.ck-button.ck-button_with-text .ck-icon,a.ck-button.ck-button_with-text .ck-icon{margin-left:-.4em;margin-right:.4em}.ck-button.ck-button_with-text .ck-button__label,a.ck-button.ck-button_with-text .ck-button__label{display:block}.ck-button.ck-on,a.ck-button.ck-on{background:#f7f7f7;border-color:#b9b9b9}.ck-button.ck-on:not(.ck-disabled):focus,.ck-button.ck-on:not(.ck-disabled):hover,a.ck-button.ck-on:not(.ck-disabled):focus,a.ck-button.ck-on:not(.ck-disabled):hover{background:#dedede;border-color:#a1a1a1}.ck-button.ck-on:not(.ck-disabled):active,a.ck-button.ck-on:not(.ck-disabled):active{background:#d2d2d2;border-color:#949494;box-shadow:inset 0 2px 2px #b9b9b9}.ck-button.ck-on.ck-disabled,a.ck-button.ck-on.ck-disabled{background:#f8f8f8;border-color:#d2d2d2}.ck-button-action,a.ck-button-action{background:#61b145;border-color:#498534;text-shadow:0 -1px #4e8e37;color:#fff}.ck-button-action:not(.ck-disabled):focus,.ck-button-action:not(.ck-disabled):hover,a.ck-button-action:not(.ck-disabled):focus,a.ck-button-action:not(.ck-disabled):hover{background:#579f3e;border-color:#3f732d}.ck-button-action:not(.ck-disabled):active,a.ck-button-action:not(.ck-disabled):active{background:#52963b;border-color:#3a6a29;box-shadow:inset 0 2px 2px #498534}.ck-button-action.ck-disabled,a.ck-button-action.ck-disabled{background:#6fbc54;border-color:#52963b}.ck-button-action:active,.ck-button-action:focus,.ck-button-action:hover,a.ck-button-action:active,a.ck-button-action:focus,a.ck-button-action:hover{text-shadow:0 -1px #3a6a29}.ck-button-bold,a.ck-button-bold{font-weight:700}.ck-button .ck-icon use,.ck-button .ck-icon use *,a.ck-button .ck-icon use,a.ck-button .ck-icon use *{color:inherit}.ck-button .ck-button__label,a.ck-button .ck-button__label{float:left;line-height:inherit;font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit}.ck-toolbar{line-height:1;padding:.4em;border:1px solid #bfbfbf;white-space:normal;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.ck-toolbar_floating{white-space:nowrap}.ck-rounded-corners .ck-toolbar,.ck-toolbar.ck-rounded-corners{border-radius:2px}.ck-toolbar__separator{width:1px;height:2.28em;vertical-align:middle;background:#bfbfbf}.ck-toolbar__newline{height:.4em}.ck-toolbar>*{margin-right:.4em}.ck-toolbar>:last-child{margin-right:0}.ck-toolbar-container .ck-toolbar{border:0}.ck-dropdown:after{border-style:solid;border-width:.4em .4em 0;border-color:#707070 transparent;right:.8em}.ck-dropdown .ck-button.ck-dropdown__button{padding-right:1.6em}.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:.5}.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck-dropdown__panel{border:1px solid #b9b9b9;bottom:1px;background:#fff;box-shadow:0 1px 2px 0 rgba(0,0,0,.2)}.ck-dropdown__panel.ck-rounded-corners,.ck-rounded-corners .ck-dropdown__panel{border-radius:2px}.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;list-style-type:none;background:#fff}.ck-list.ck-rounded-corners,.ck-rounded-corners .ck-list{border-radius:2px}.ck-list__item{padding:.64em;cursor:default;min-width:12em}.ck-list__item:focus,.ck-list__item:hover{background:#f7f7f7}.ck-list__item:focus{box-shadow:0 0 3px 2px #9bcdfb;position:relative;z-index:1;outline:none}.ck-list__item:last-of-type{border:none}.ck-list__item_active{background:#1a8bf1;color:#fff}.ck-list__item_active:focus,.ck-list__item_active:hover{background:#0e7ee2}.ck-label{font-weight:700}.ck-input-text{box-shadow:inset 2px 2px 3px #e6e6e6;border:1px solid #b9b9b9;padding:.64em;min-width:250px}.ck-input-text.ck-rounded-corners,.ck-rounded-corners .ck-input-text{border-radius:2px}.ck-input-text:focus{outline:none;border:1px solid #6ab5f9;box-shadow:0 0 3px 2px #9bcdfb,inset 2px 2px 3px #e6e6e6}.ck-input-text[readonly]{border:1px solid #d2d2d2;background:#f7f7f7;color:#5c5c5c}.ck-balloon-panel{box-shadow:0 1px 2px 0 rgba(0,0,0,.2);min-height:15px;background:#fff;border:1px solid #b9b9b9}.ck-balloon-panel.ck-rounded-corners,.ck-rounded-corners .ck-balloon-panel{border-radius:2px}.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck-balloon-panel.ck-balloon-panel_arrow_n:before,.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck-balloon-panel.ck-balloon-panel_arrow_ne:before,.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{border-width:0 10px 15px}.ck-balloon-panel.ck-balloon-panel_arrow_n:before,.ck-balloon-panel.ck-balloon-panel_arrow_ne:before,.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{border-color:transparent transparent #b9b9b9}.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck-balloon-panel.ck-balloon-panel_arrow_nw:after{border-color:transparent transparent #fff;margin-top:2px}.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck-balloon-panel.ck-balloon-panel_arrow_s:before,.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck-balloon-panel.ck-balloon-panel_arrow_se:before,.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{border-width:15px 10px 0}.ck-balloon-panel.ck-balloon-panel_arrow_s:before,.ck-balloon-panel.ck-balloon-panel_arrow_se:before,.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{border-color:#b9b9b9 transparent transparent}.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck-balloon-panel.ck-balloon-panel_arrow_sw:after{border-color:#fff transparent transparent;margin-bottom:2px}.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:-10px;top:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:20px;top:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:20px;top:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:-10px;bottom:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:20px;bottom:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:20px;bottom:-15px}.ck-editor-toolbar{border-radius:0}.ck-editor-toolbar .ck-button{border-width:0}.ck-editor-toolbar .ck-button.ck-disabled,.ck-editor-toolbar .ck-button:not(:hover):not(:focus):not(.ck-on){background:#f7f7f7}.ck-editor-toolbar .ck-button.ck-on{background:#dedede;border-color:#a1a1a1}.ck-editor-toolbar .ck-button.ck-on:not(.ck-disabled):focus,.ck-editor-toolbar .ck-button.ck-on:not(.ck-disabled):hover{background:#c6c6c6;border-color:#888}.ck-editor-toolbar .ck-button.ck-on:not(.ck-disabled):active{background:#b9b9b9;border-color:#7c7c7c;box-shadow:inset 0 2px 2px #a1a1a1}.ck-editor-toolbar .ck-button.ck-on.ck-disabled{background:#f7f7f7;border-color:#b9b9b9}.ck-editor-toolbar .ck-dropdown__button{border-width:1px}.ck-editor-toolbar .ck-dropdown__button:not(:hover):not(:focus):not(.ck-on){background:#fff}.ck-toolbar-container .ck-editor-toolbar{background:#f7f7f7}.ck-editor-toolbar-container.ck-balloon-panel_arrow_n:after,.ck-editor-toolbar-container.ck-balloon-panel_arrow_ne:after,.ck-editor-toolbar-container.ck-balloon-panel_arrow_nw:after{border-bottom-color:#f7f7f7}.ck-editor-toolbar-container.ck-balloon-panel_arrow_s:after,.ck-editor-toolbar-container.ck-balloon-panel_arrow_se:after,.ck-editor-toolbar-container.ck-balloon-panel_arrow_sw:after{border-top-color:#f7f7f7}.ck-editor .ck-toolbar.ck-toolbar_sticky{box-shadow:0 1px 2px 0 rgba(0,0,0,.2);border:1px solid #bfbfbf;border-width:0 0 1px;background:#f7f7f7}.ck-editor{position:relative}.ck-editor.ck-rounded-corners,.ck-rounded-corners .ck-editor{border-radius:2px}.ck-editor .ck-editor__top .ck-toolbar{border-top:0;border-left:0;border-right:0;z-index:999}.ck-editor .ck-editor__main{background:#fff}.ck-editor .ck-editor__bottom{border-bottom:0;border-left:0;border-right:0;padding:.8em}.ck-editor .ck-editor__editable.ck-focused{outline:1px solid #6ab5f9;box-shadow:inset 2px 2px 3px #e6e6e6}.ck-editor .ck-editor__editable_inline{overflow:auto;padding:0 .8em}.ck-editor,.ck-editor-bottom{background:#f7f7f7;border:1px solid #b9b9b9}',''])},function(r,s,d){s=r.exports=d(30)(void 0),s.push([r.i,'.ck-placeholder:before{content:attr(data-placeholder);cursor:text;color:#c2c2c2;pointer-events:none}',''])},function(r,s,d){s=r.exports=d(30)(void 0),s.push([r.i,'.ck-heading_heading1{font-size:1.5em}.ck-heading_heading2{font-size:1.3em}.ck-heading_heading3{font-size:1.1em}[class*=ck-heading_]{line-height:21.6px;padding:9.6px}[class*=ck-heading_heading]{font-weight:700}.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}',''])},function(r,s,d){s=r.exports=d(30)(void 0),s.push([r.i,'.ck-editor__editable .image>figcaption{background-color:#f7f7f7;padding:.8em;font-size:.75rem;color:#858585;outline-offset:-1px}',''])},function(r,s,d){s=r.exports=d(30)(void 0),s.push([r.i,'.cke-text-alternative-form{padding:1.2em;overflow:hidden}.cke-text-alternative-form .ck-label{margin-bottom:.4em}.cke-text-alternative-form__actions{clear:both;padding-top:1.2em}.cke-text-alternative-form__actions .ck-button{float:right}.cke-text-alternative-form__actions .ck-button+.ck-button{margin-right:.64em}.cke-text-alternative-form__actions .ck-button+.ck-button+.ck-button{float:left}',''])},function(r,s,d){s=r.exports=d(30)(void 0),s.push([r.i,'.ck-editor__editable .image{text-align:center;clear:both}.ck-editor__editable .image.image-style-side{float:right;margin-left:.8em;max-width:50%}.ck-editor__editable .image>img{display:block;margin:0 auto;max-width:100%}',''])},function(r,s,d){s=r.exports=d(30)(void 0),s.push([r.i,'.ck-link-form{padding:1.2em;overflow:hidden}.ck-link-form:focus{outline:none}.ck-link-form .ck-label{margin-bottom:.4em}.ck-link-form__actions{clear:both;padding-top:1.2em}.ck-link-form__actions .ck-button{float:right}.ck-link-form__actions .ck-button+.ck-button{margin-right:.64em}.ck-link-form__actions .ck-button+.ck-button+.ck-button{float:left}',''])},function(r,s,d){s=r.exports=d(30)(void 0),s.push([r.i,'.ck-widget{margin:.8em 0;padding:0}.ck-widget.ck-widget_selected,.ck-widget.ck-widget_selected:hover{outline:3px solid #6ab5f9}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected{outline:3px solid #ddd}.ck-widget:hover{outline:3px solid #ffd25c}.ck-widget .ck-editable.ck-editable_focused,.ck-widget .ck-editable:focus{outline:1px solid #6ab5f9;box-shadow:inset 2px 2px 3px #e6e6e6;background-color:#fff}',''])},function(r){r.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.135 10.409c.361.248.654.56.88.934.225.375.338.816.338 1.324 0 .609-.128 1.123-.385 1.543-.256.42-.624.751-1.103.994a5.908 5.908 0 0 1-1.755.55c-.663.107-1.442.16-2.338.16H4.539v-.66a22.5 22.5 0 0 0 .66-.076c.265-.033.45-.073.558-.118.208-.085.35-.196.427-.334.076-.138.114-.317.114-.537V5.732c0-.203-.031-.372-.093-.507s-.211-.254-.448-.355a3.326 3.326 0 0 0-.61-.182 14.136 14.136 0 0 0-.608-.114v-.66h6.52c1.64 0 2.825.226 3.552.677.727.45 1.09 1.116 1.09 1.995 0 .406-.08.763-.244 1.07a2.388 2.388 0 0 1-.702.8 4.214 4.214 0 0 1-.99.54c-.383.153-.795.28-1.234.381v.16c.44.046.896.143 1.37.292.473.15.885.343 1.234.58zm-2.723-3.611c0-.665-.187-1.184-.562-1.556-.375-.372-.937-.558-1.687-.558-.107 0-.247.004-.419.012l-.444.021v4.449h.44c.913 0 1.587-.213 2.021-.639.434-.425.651-1.002.651-1.73zm.592 5.759c0-.835-.248-1.475-.744-1.92-.496-.445-1.21-.668-2.14-.668a22.977 22.977 0 0 0-.82.034v4.389c.05.208.209.385.474.528.265.144.586.216.964.216.67 0 1.216-.225 1.636-.676.42-.452.63-1.086.63-1.903z" fill="#454545" fill-rule="evenodd"/></svg>'},function(r){r.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M13.825 3.914l-.126.558a5.701 5.701 0 0 0-.685.076c-.282.045-.49.088-.626.127-.237.073-.406.186-.508.338a1.586 1.586 0 0 0-.22.5l-2.03 8.769a1.24 1.24 0 0 0-.034.27c.001.13.03.24.086.33.056.09.157.17.304.237.085.04.27.086.558.14.288.053.502.086.643.097l-.127.558H5.656l.127-.558.677-.05c.293-.023.501-.057.625-.102a1.11 1.11 0 0 0 .5-.326c.112-.138.188-.306.228-.503l2.02-8.778a1.428 1.428 0 0 0 .035-.305.59.59 0 0 0-.072-.295c-.048-.085-.148-.161-.3-.229a3.457 3.457 0 0 0-.622-.19 5.001 5.001 0 0 0-.58-.106l.128-.558h5.403z" fill="#454545" fill-rule="evenodd"/></svg>'},function(r){r.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M5.414 6.749L2.903 4.237a.49.49 0 1 1 .694-.694L6.394 6.34a10.662 10.662 0 0 1 2.127-.53c.366-.051.734-.081 1.103-.095a10.628 10.628 0 0 1 1.524.07c1.109.134 2.204.449 3.243.936a9.65 9.65 0 0 1 2.12 1.331c.276.231.542.484.784.766.18.211.349.439.488.692.169.307.301.664.301 1.039 0 .375-.132.732-.301 1.039a4.143 4.143 0 0 1-.488.691 6.668 6.668 0 0 1-.784.767 9.628 9.628 0 0 1-2.092 1.318l2.196 2.197a.49.49 0 1 1-.694.694l-2.485-2.484-.008.003-.931-.931.009-.003-6.215-6.215a9.887 9.887 0 0 0-.945.444l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.483 8.596a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2 1.497 1.497 0 0 0-.108.241.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226 2.613 2.613 0 0 0 .234.379l3.463 3.594a10.565 10.565 0 0 1-2.125-1 9.096 9.096 0 0 1-1.015-.721 6.672 6.672 0 0 1-.798-.764 4.325 4.325 0 0 1-.502-.69c-.184-.319-.329-.693-.329-1.089 0-.375.131-.732.301-1.039.139-.253.307-.481.488-.692.225-.263.471-.5.728-.719a9.538 9.538 0 0 1 2.096-1.341l.019-.009zm6.674.401a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112 6.86 6.86 0 0 0 .727-.613c.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286a1.966 1.966 0 0 0 .148-.292.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891 10.119 10.119 0 0 0-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.449 2.449 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>'},function(r){r.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h16v1H2v-1zm15-2H3V6h14v8zm-1-7H4v6h12V7zM2 3h16v1H2V3z"/></svg>'},function(r){r.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 16H2v-1h16v1zM6.978 13H2v-1h4.978v1zM18 6v7H9V6h9zm-1 6V7h-7v5h7zM6.978 10H2V9h4.978v1zm0-3H2V6h4.978v1zM18 4H2V3h16v1z"/></svg>'},function(r){r.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.061 15.51v-.882c1.395-.847 2.345-1.633 2.85-2.358.37-.533.554-1.162.554-1.887 0-.437-.082-.759-.246-.964-.15-.205-.328-.307-.533-.307-.137 0-.328.048-.574.143-.37.123-.67.185-.902.185-.547 0-1.033-.205-1.456-.615-.424-.41-.636-.923-.636-1.538 0-.698.212-1.238.636-1.62a3.002 3.002 0 0 1 2.05-.78c.93 0 1.757.39 2.482 1.17.724.778 1.087 1.742 1.087 2.89 0 1.614-.602 3.084-1.805 4.41-.807.875-1.976 1.593-3.507 2.153zm-8.386 0v-.882c1.394-.847 2.345-1.633 2.85-2.358.37-.533.554-1.162.554-1.887 0-.437-.082-.759-.246-.964-.15-.205-.328-.307-.533-.307-.137 0-.328.048-.574.143-.37.123-.67.185-.903.185-.547 0-1.032-.205-1.456-.615-.424-.41-.636-.923-.636-1.538 0-.698.212-1.238.636-1.62a3.002 3.002 0 0 1 2.051-.78c.93 0 1.757.39 2.481 1.17.725.778 1.087 1.742 1.087 2.89 0 1.614-.601 3.084-1.804 4.41-.807.875-1.976 1.593-3.507 2.153z" fill="#454545" fill-rule="evenodd"/></svg>'},function(r){r.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="#222" fill-rule="evenodd"><path d="M14.2 10.956l1.227-1.227a3.995 3.995 0 0 0-.002-5.654 4 4 0 0 0-5.654-.002L7.698 6.145a3.995 3.995 0 0 0 .003 5.654c.39.39.84.682 1.32.878l-.305-.307.638-.638a2.99 2.99 0 0 1-.946-.64 2.995 2.995 0 0 1-.003-4.24l2.073-2.072a3 3 0 0 1 4.242 4.242l-1.226 1.227.707.707z"/><path d="M10.166 7.405c.41.192.795.457 1.133.796a3.995 3.995 0 0 1 .003 5.654l-2.073 2.072a4 4 0 0 1-5.654-.002 3.995 3.995 0 0 1-.002-5.654l1.362-1.363.707.707-1.362 1.363a3 3 0 0 0 4.243 4.243l2.072-2.073a2.995 2.995 0 0 0-.003-4.24 2.987 2.987 0 0 0-1.196-.733l.77-.77z"/></g></svg>'},function(r){r.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="#222" fill-rule="evenodd"><path d="M14.2 10.956l1.227-1.227a3.995 3.995 0 0 0-.002-5.654 4 4 0 0 0-5.654-.002L7.698 6.145a3.995 3.995 0 0 0 .003 5.654c.39.39.84.682 1.32.878l-.305-.307.638-.638a2.99 2.99 0 0 1-.946-.64 2.995 2.995 0 0 1-.003-4.24l2.073-2.072a3 3 0 0 1 4.242 4.242l-1.226 1.227.707.707z"/><path d="M14.906 16.092l2.557-2.557-.722-.721-2.556 2.556-2.345-2.345-.722.721 2.345 2.346-2.556 2.556.721.722 2.557-2.557 2.768 2.768.721-.722-2.768-2.767zm-2.513-3.999A4.067 4.067 0 0 0 10.148 7.5l-.794.794c.448.142.869.39 1.223.745a3.054 3.054 0 0 1 .758 3.055h1.058zm-2.204 3.104l-1.049 1.05c-1.609 1.608-4.208 1.62-5.8.028-1.595-1.595-1.584-4.188.028-5.8l1.406-1.406.721.722-1.405 1.405c-1.21 1.21-1.216 3.154-.02 4.35 1.192 1.192 3.142 1.186 4.349-.021l1.77-1.771v1.443z"/></g></svg>'},function(r){r.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6 16v1h10v-1H6zM6 4v1h12V4H6zm0 6v1h11v-1H6zM1 4.5C1 3.672 1.666 3 2.5 3 3.328 3 4 3.666 4 4.5 4 5.328 3.334 6 2.5 6 1.672 6 1 5.334 1 4.5zm0 6C1 9.672 1.666 9 2.5 9c.828 0 1.5.666 1.5 1.5 0 .828-.666 1.5-1.5 1.5-.828 0-1.5-.666-1.5-1.5zm0 6c0-.828.666-1.5 1.5-1.5.828 0 1.5.666 1.5 1.5 0 .828-.666 1.5-1.5 1.5-.828 0-1.5-.666-1.5-1.5z" fill="#454545" fill-rule="evenodd"/></svg>'},function(r){r.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 17h10v-1H7v1zM6 4v1h13V4H6zm1 6v1h11v-1H7zM2 2.5c0 .277.223.5.5.5H3v3.5a.499.499 0 1 0 1 0v-4c0-.277-.223-.5-.5-.5h-1c-.277 0-.5.223-.5.5zM2.5 8a.499.499 0 1 0 0 1H4v1H2.5c-.277 0-.5.223-.5.5v2c0 .277.223.5.5.5h2a.499.499 0 1 0 0-1H3v-1h1.5a.46.46 0 0 0 .188-.031.45.45 0 0 0 .28-.281A.461.461 0 0 0 5 10.5v-2a.46.46 0 0 0-.031-.187.45.45 0 0 0-.282-.282.463.463 0 0 0-.125-.03H2.5V8zm2.352 10.853a.493.493 0 0 0 .148-.35v-4.005A.493.493 0 0 0 4.505 14h-2.01a.494.494 0 0 0-.495.5c0 .268.222.5.495.5H4v1H2.495a.494.494 0 0 0-.495.5c0 .268.222.5.495.5H4v1H2.495a.494.494 0 0 0-.495.5c0 .268.222.5.495.5h2.01a.49.49 0 0 0 .351-.146z" fill="#454545" fill-rule="evenodd"/></svg>'},function(r){r.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 16l1-3.982c-3.417 0-8.616.869-10 3.982 0-5.983 6.601-7.96 10-7.96 0-.85-1-3.32-1-4.04l8 6-8 6z" fill="#454545" fill-rule="evenodd"/></svg>'},function(r){r.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 10l8 6-1-3.982c3.417 0 8.616.869 10 3.982 0-5.983-6.601-7.96-10-7.96 0-.85 1-3.32 1-4.04l-8 6z" fill="#454545" fill-rule="evenodd"/></svg>'},function(r){r.exports=function(d){var u='undefined'!=typeof window&&window.location;if(!u)throw new Error('fixUrls requires window.location');if(!d||'string'!=typeof d)return d;var f=u.protocol+'//'+u.host,h=f+u.pathname.replace(/\/[^\/]*$/,'/'),w=d.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(T,C){var P=C.trim().replace(/^"(.*)"$/,function(S,O){return O}).replace(/^'(.*)'$/,function(S,O){return O});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(P))return T;var E;return E=0===P.indexOf('//')?P:0===P.indexOf('/')?f+P:h+P.replace(/^\.\//,''),'url('+JSON.stringify(E)+')'});return w}},function(r,s,d){var u=d(285);'string'==typeof u&&(u=[[r.i,u,'']]);d(31)(u,{});u.locals&&(r.exports=u.locals),!1},function(r,s,d){var u=d(286);'string'==typeof u&&(u=[[r.i,u,'']]);d(31)(u,{});u.locals&&(r.exports=u.locals),!1},function(r,s,d){var u=d(287);'string'==typeof u&&(u=[[r.i,u,'']]);d(31)(u,{});u.locals&&(r.exports=u.locals),!1},function(r,s,d){var u=d(288);'string'==typeof u&&(u=[[r.i,u,'']]);d(31)(u,{});u.locals&&(r.exports=u.locals),!1},function(r,s,d){var u=d(289);'string'==typeof u&&(u=[[r.i,u,'']]);d(31)(u,{});u.locals&&(r.exports=u.locals),!1},function(r,s,d){var u=d(290);'string'==typeof u&&(u=[[r.i,u,'']]);d(31)(u,{});u.locals&&(r.exports=u.locals),!1},function(r,s,d){var u=d(291);'string'==typeof u&&(u=[[r.i,u,'']]);d(31)(u,{});u.locals&&(r.exports=u.locals),!1},function(r,s,d){var u=d(292);'string'==typeof u&&(u=[[r.i,u,'']]);d(31)(u,{});u.locals&&(r.exports=u.locals),!1},function(r,s,d){var u=d(293);'string'==typeof u&&(u=[[r.i,u,'']]);d(31)(u,{});u.locals&&(r.exports=u.locals),!1},function(r){var d=function(){return this}();try{d=d||Function('return this')()||(1,eval)('this')}catch(u){'object'==typeof window&&(d=window)}r.exports=d},function(r,s,d){'use strict';var u=d(3),f=d(63);s.a=class{constructor(w,T,C){let P;if('function'==typeof C)P=C;else{P=(S)=>{const{batch:O}=S;w.execute(C,{batch:O})}}w.document.on('change',(E,S,O,V)=>{if('transparent'==V.type)return;if('insert'!=S)return;const R=O.range.getItems().next().value;if(!(R instanceof f.a))return;const F=R.textNode,N=F.data;if('paragraph'!==F.parent.name||!N)return;const I=T.exec(N);I&&w.document.enqueueChanges(()=>{const M=w.document.batch(),D=u.a.createFromParentsAndOffsets(F.parent,0,F.parent,I[0].length);M.remove(D),P({fixBatch:M,match:I})})})}}},function(r,s,d){'use strict';function u(w){return Array.from(w.getChildren()).reduce((T,C)=>T+C.data,'')}var f=d(112);s.a=class{constructor(w,T,C){let P,E,S,O;T instanceof RegExp?P=T:S=T,'string'==typeof C?E=C:O=C,S=S||((V)=>{let R;const F=[],N=[];for(;null!==(R=P.exec(V))&&!(R&&4>R.length);){let{index:I,1:M,2:D,3:L}=R;I+=R[0].length-(M+D+L).length;const q=[I,I+M.length],H=[I+M.length+D.length,I+M.length+D.length+L.length];F.push(q),F.push(H),N.push([I+M.length,I+M.length+D.length])}return{remove:F,format:N}}),O=O||((V,R)=>{for(const F of R)V.setAttribute(F,E,!0)}),w.document.on('change',(V,R,F,N)=>{if('transparent'==N.type)return;if('insert'!==R)return;const I=w.document.selection;if(!I.isCollapsed||!I.focus||!I.focus.parent)return;const M=I.focus.parent,D=u(M).slice(0,I.focus.offset),L=S(D),z=[];L.format.forEach((H)=>{void 0===H[0]||void 0===H[1]||z.push(f.a.createFromParentsAndOffsets(M,H[0],M,H[1]))});const q=[];L.remove.slice().reverse().forEach((H)=>{void 0===H[0]||void 0===H[1]||q.push(f.a.createFromParentsAndOffsets(M,H[0],M,H[1]))});z.length&&q.length&&w.document.enqueueChanges(()=>{const H=w.document.batch(),W=w.document.schema.getValidRanges(z,E);O(H,W);for(const $ of q)H.remove($)})})}}},function(r,s,d){'use strict';var u=d(2),f=d(43),h=d(34),w=d(157);const T='bold';class C extends u.a{init(){const P=this.editor,E=P.data,S=P.editing;P.document.schema.allow({name:'$inline',attributes:T,inside:'$block'}),P.document.schema.allow({name:'$inline',attributes:T,inside:'$clipboardHolder'}),d.i(f.a)().for(E.modelToView,S.modelToView).fromAttribute(T).toElement('strong'),d.i(h.a)().for(E.viewToModel).fromElement('strong').fromElement('b').fromAttribute('style',{"font-weight":'bold'}).toAttribute(T,!0),P.commands.add(T,new w.a(P,T))}}s.a=C},function(r,s,d){'use strict';var u=d(2),f=d(43),h=d(34),w=d(157);const T='italic';class C extends u.a{init(){const P=this.editor,E=P.data,S=P.editing;P.document.schema.allow({name:'$inline',attributes:T,inside:'$block'}),P.document.schema.allow({name:'$inline',attributes:T,inside:'$clipboardHolder'}),d.i(f.a)().for(E.modelToView,S.modelToView).fromAttribute(T).toElement('i'),d.i(h.a)().for(E.viewToModel).fromElement('em').fromElement('i').fromAttribute('style',{"font-style":'italic'}).toAttribute(T,!0),P.commands.add(T,new w.a(P,T))}}s.a=C},function(r,s,d){'use strict';function u(O){return'blockQuote'==O.parent.name?O.parent:null}function f(O){let V,R=0;const F=[];for(;R<O.length;){const N=O[R],I=O[R+1];V||(V=T.a.createBefore(N)),I&&N.nextSibling==I||(F.push(new P.a(V,T.a.createAfter(N))),V=null),R++}return F}function h(O,V){const R=O.check({name:'blockQuote',inside:T.a.createBefore(V)}),F=O.check({name:V.name,attributes:Array.from(V.getAttributeKeys()),inside:'blockQuote'});return R&&F}var w=d(11),T=d(1),C=d(6),P=d(3),E=d(66);class S extends w.a{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(O={}){const V=this.editor.document,R=V.schema,F=O.batch||V.batch(),N=Array.from(V.selection.getSelectedBlocks());V.enqueueChanges(()=>{if(this.value)this._removeQuote(F,N.filter(u));else{const I=N.filter((M)=>{return u(M)||h(R,M)});this._applyQuote(F,I)}})}_getValue(){const O=d.i(E.a)(this.editor.document.selection.getSelectedBlocks());return!!(O&&u(O))}_checkEnabled(){if(this.value)return!0;const O=this.editor.document.selection,V=this.editor.document.schema,R=d.i(E.a)(O.getSelectedBlocks());return!!R&&h(V,R)}_removeQuote(O,V){f(V).reverse().forEach((R)=>{if(R.start.isAtStart&&R.end.isAtEnd)return void O.unwrap(R.start.parent);if(R.start.isAtStart){const N=T.a.createBefore(R.start.parent);return void O.move(R,N)}R.end.isAtEnd||O.split(R.end);const F=T.a.createAfter(R.end.parent);O.move(R,F)})}_applyQuote(O,V){const R=[];f(V).reverse().forEach((F)=>{let N=u(F.start);N||(N=new C.a('blockQuote'),O.wrap(F,N)),R.push(N)}),R.reverse().reduce((F,N)=>{return F.nextSibling==N?(O.merge(T.a.createAfter(F)),F):N})}}s.a=S},function(r,s,d){'use strict';var u=d(2),f=d(321),h=d(34),w=d(43);class T extends u.a{init(){const C=this.editor,P=C.document.schema;C.commands.add('blockQuote',new f.a(C)),P.registerItem('blockQuote'),P.allow({name:'blockQuote',inside:'$root'}),P.allow({name:'$block',inside:'blockQuote'}),d.i(h.a)().for(C.data.viewToModel).fromElement('blockquote').toElement('blockQuote'),d.i(w.a)().for(C.data.modelToView,C.editing.modelToView).fromElement('blockQuote').toElement('blockquote')}afterInit(){const C=this.editor.document.schema;C.hasItem('listItem')&&C.allow({name:'listItem',inside:'blockQuote',attributes:['type','indent']})}}s.a=T},function(r,s,d){'use strict';Object.defineProperty(s,'__esModule',{value:!0});var u=d(276),f=d(284),h=d(272),w=d(273),T=d(274),C=d(275),P=d(277),E=d(278),S=d(279),O=d(280),V=d(281),R=d(282),F=d(283),N=d(73);class I extends u.a{}s.ClassicEditor=I,I.build={plugins:[f.a,h.a,w.a,T.a,C.a,P.a,E.a,S.a,O.a,V.a,R.a,F.a,N.a],config:{toolbar:['headings','bold','italic','link','unlink','bulletedList','numberedList','blockQuote','undo','redo'],image:{toolbar:['imageStyleFull','imageStyleSide','|','imageTextAlternative']}}}},function(r,s,d){'use strict';var u=d(2),f=d(325),h=d(328),w=d(327),T=d(329),C=d(161);class P extends u.a{static get pluginName(){return'Clipboard'}init(){function E(R,F){const N=F.dataTransfer,I=S.data.toView(S.data.getSelectedContent(O.selection));F.preventDefault(),V.fire('clipboardOutput',{dataTransfer:N,content:I,method:R.name})}const S=this.editor,O=S.document,V=S.editing.view;this._htmlDataProcessor=new C.a,V.addObserver(f.a),this.listenTo(V,'clipboardInput',(R,F)=>{if(S.isReadOnly)return;const N=F.dataTransfer;let I='';N.getData('text/html')?I=d.i(w.a)(N.getData('text/html')):N.getData('text/plain')&&(I=d.i(h.a)(N.getData('text/plain'))),I=this._htmlDataProcessor.toView(I),this.fire('inputTransformation',{content:I})},{priority:'low'}),this.listenTo(this,'inputTransformation',(R,F)=>{if(!F.content.isEmpty){const N=this.editor.data,I=N.toModel(F.content,'$clipboardHolder');O.enqueueChanges(()=>{N.insertContent(I,O.selection)})}},{priority:'low'}),this.listenTo(V,'copy',E,{priority:'low'}),this.listenTo(V,'cut',(R,F)=>{S.isReadOnly?F.preventDefault():E(R,F)},{priority:'low'}),this.listenTo(V,'clipboardOutput',(R,F)=>{F.content.isEmpty||(F.dataTransfer.setData('text/html',this._htmlDataProcessor.toData(F.content)),F.dataTransfer.setData('text/plain',d.i(T.a)(F.content))),'cut'==F.method&&O.enqueueChanges(()=>{S.data.deleteContent(O.selection,O.batch())})},{priority:'low'})}}s.a=P},function(r,s,d){'use strict';function u(T,C){const P=C.target.ownerDocument,E=C.clientX,S=C.clientY;let O;return P.caretRangeFromPoint&&P.caretRangeFromPoint(E,S)?O=P.caretRangeFromPoint(E,S):C.rangeParent&&(O=P.createRange(),O.setStart(C.rangeParent,C.rangeOffset),O.collapse(!0)),O?T.domConverter.domRangeToView(O):T.selection.getFirstRange()}var f=d(65),h=d(326);class w extends f.a{constructor(T){function C(P,E){E.preventDefault();const S=E.dropRange?[E.dropRange]:Array.from(T.selection.getRanges());T.fire('clipboardInput',{dataTransfer:E.dataTransfer,targetRanges:S})}super(T),this.domEventType=['paste','copy','cut','drop'],this.listenTo(T,'paste',C,{priority:'low'}),this.listenTo(T,'drop',C,{priority:'low'})}onDomEvent(T){const C={dataTransfer:new h.a(T.clipboardData?T.clipboardData:T.dataTransfer)};'drop'==T.type&&(C.dropRange=u(this.document,T)),this.fire(T.type,T,C)}}s.a=w},function(r,s){'use strict';function u(h){const w=h.files?Array.from(h.files):[],T=h.items?Array.from(h.items):[];return w.length?w:T.filter((C)=>'file'===C.kind).map((C)=>C.getAsFile())}class f{constructor(h){this.files=u(h),this._native=h}get types(){return this._native.types}getData(h){return this._native.getData(h)}setData(h,w){this._native.setData(h,w)}}s.a=f},function(r,s){'use strict';s.a=function(f){return f.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(h,w)=>{return 1==w.length?' ':w})}},function(r,s){'use strict';s.a=function(f){return f=f.replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n\n/g,'</p><p>').replace(/\n/g,' ').replace(/^\s/,'&nbsp;').replace(/\s$/,'&nbsp;').replace(/\s\s/g,' &nbsp;'),-1<f.indexOf('</p><p>')&&(f=`<p>${f}</p>`),f}},function(r,s){'use strict';function u(h){let w='';if(h.is('text')||h.is('textProxy'))w=h.data;else if(h.is('img')&&h.hasAttribute('alt'))w=h.getAttribute('alt');else{let T=null;for(const C of h.getChildren()){const P=u(C);T&&(T.is('containerElement')||C.is('containerElement'))&&(f.includes(T.name)||f.includes(C.name)?w+='\n':w+='\n\n'),w+=P,T=C}}return w}s.a=u;const f=['figcaption','li']},function(r,s,d){'use strict';var u=d(0);class f{constructor(){this._commands=new Map}add(h,w){this._commands.set(h,w)}get(h){return this._commands.get(h)}execute(h,...w){const T=this.get(h);if(!T)throw new u.a('commandcollection-command-not-found: Command does not exist.',{commandName:h});T.execute(...w)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const h of this.commands())h.destroy()}}s.a=f},function(r,s,d){'use strict';var u=d(48);class f extends u.a{constructor(h){super(),this.editor=h}set(h,w){if('string'==typeof w){const T=w;w=(C,P)=>{this.editor.execute(T),P()}}super.set(h,w)}}s.a=f},function(r,s,d){'use strict';var u=d(424),f=d(334),h=d(330),w=d(535),T=d(337),C=d(352),P=d(19),E=d(4);class S{constructor(O){const V=this.constructor.build&&this.constructor.build.plugins;this.config=new u.a(O,this.constructor.build&&this.constructor.build.config),this.config.define('plugins',V),this.plugins=new f.a(this,V),this.commands=new h.a,this.locale=new w.a(this.config.get('lang')),this.t=this.locale.t,this.document=new C.a,this.data=new T.a(this.document),this.set('isReadOnly',!1)}initPlugins(){function V(N,I){return N.reduce((M,D)=>{return D[I]?M.then(D[I].bind(D)):M},Promise.resolve())}const R=this,F=this.config;return function(){const N=F.get('plugins')||[],I=F.get('removePlugins')||[];return R.plugins.load(N,I)}().then((N)=>{return V(N,'init').then(()=>V(N,'afterInit'))}).then(()=>this.fire('pluginsReady'))}destroy(){return this.fire('destroy'),this.stopListening(),this.commands.destroy(),this.plugins.destroy().then(()=>{this.document.destroy(),this.data.destroy()})}execute(...O){this.commands.execute(...O)}static create(O){return new Promise((V)=>{const R=new this(O);V(R.initPlugins().then(()=>{R.fire('dataReady'),R.fire('ready')}).then(()=>R))})}}s.a=S,d.i(E.a)(S,P.a)},function(r,s,d){'use strict';var u=d(332),f=d(331),h=d(339),w=d(427),T=d(434);class C extends u.a{constructor(P,E){super(E),this.element=P,this.editing=new h.a(this.document),this.editing.view.bind('isReadOnly').to(this),this.keystrokes=new f.a(this),this.keystrokes.listenTo(this.editing.view)}destroy(){return Promise.resolve().then(()=>this.keystrokes.destroy()).then(()=>this.editing.destroy()).then(super.destroy())}setData(P){this.data.set(P)}getData(){return this.data.get()}updateEditorElement(){d.i(T.a)(this.element,this.getData())}loadDataFromEditorElement(){this.setData(d.i(w.a)(this.element))}static create(P,E){return new Promise((S)=>{const O=new this(P,E);S(O.initPlugins().then(()=>{O.fire('dataReady'),O.fire('ready')}).then(()=>O))})}}s.a=C},function(r,s,d){'use strict';var u=d(0),f=d(42);class h{constructor(w,T=[]){this._editor=w,this._availablePlugins=new Map,this._plugins=new Map;for(const C of T)this._availablePlugins.set(C,C),C.pluginName&&this._availablePlugins.set(C.pluginName,C)}*[Symbol.iterator](){for(const w of this._plugins)'function'==typeof w[0]&&(yield w)}get(w){return this._plugins.get(w)}load(w,T=[]){function C(L){return M.includes(L)||V.get(L)||F.has(L)?void 0:P(L).catch((z)=>{throw f.a.error('plugincollection-load: It was not possible to load the plugin.',{plugin:L}),z})}function P(L){return new Promise((z)=>{F.add(L),L.requires&&L.requires.forEach((H)=>{const W=E(H);if(T.includes(W))throw new u.a('plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.',{plugin:W,requiredBy:L});C(W)});const q=new L(R);V._add(L,q),N.push(q),z()})}function E(L){return'function'==typeof L?L:V._availablePlugins.get(L)}function O(L){return L.map((z)=>E(z)).filter((z)=>!!z)}const V=this,R=this._editor,F=new Set,N=[],I=O(w),M=O(T),D=function(L){const z=[];for(const q of L)E(q)||z.push(q);return z.length?z:null}(w);if(D){const L='plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.';return f.a.error(L,{plugins:D}),Promise.reject(new u.a(L,{plugins:D}))}return Promise.all(I.map(C)).then(()=>N)}destroy(){const w=Array.from(this).map(([,T])=>T).filter((T)=>'function'==typeof T.destroy).map((T)=>T.destroy());return Promise.all(w)}_add(w,T){this._plugins.set(w,T);const C=w.pluginName;C&&(this._plugins.has(C)?f.a.warn('plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.',{pluginName:C,plugin1:this._plugins.get(C).constructor,plugin2:w}):this._plugins.set(C,T))}}s.a=h},function(r,s,d){'use strict';var u=d(401),f=d(67),h=d(415),w=d(416);s.a=class{constructor(C,P){this.editor=C,this.view=P,this.componentFactory=new u.a(C),this.focusTracker=new f.a,this._toolbarConfig=d.i(w.a)(C.config.get('toolbar')),P.set('width',C.config.get('ui.width')),P.set('height',C.config.get('ui.height')),P.toolbar.bind('isActive').to(this.focusTracker,'isFocused'),P.toolbar.limiterElement=P.element,this._toolbarConfig&&this._toolbarConfig.viewportTopOffset&&(P.toolbar.viewportTopOffset=this._toolbarConfig.viewportTopOffset);const E=C.editing.createRoot('div');P.editable.bind('isReadOnly').to(E),P.editable.bind('isFocused').to(C.editing.view),P.editable.name=E.rootName,this.focusTracker.add(P.editableElement)}init(){const C=this.editor;this.view.init(),this._toolbarConfig&&this.view.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),d.i(h.a)({origin:C.editing.view,originFocusTracker:this.focusTracker,originKeystrokeHandler:C.keystrokes,toolbar:this.view.toolbar})}destroy(){this.view.destroy()}}},function(r,s,d){'use strict';var u=d(408),f=d(407),h=d(417),w=d(5);class T extends u.a{constructor(C){super(C),this.toolbar=new h.a(C),w.a.extend(this.toolbar.template,{attributes:{class:'ck-editor-toolbar'}}),this.editable=new f.a(C),this.top.add(this.toolbar),this.main.add(this.editable)}get editableElement(){return this.editable.element}}s.a=T},function(r,s,d){'use strict';var u=d(4),f=d(19),h=d(158),w=d(160),T=d(108),C=d(347),P=d(345),E=d(118),S=d(3),O=d(1),V=d(341),R=d(338),F=d(342),N=d(340);class I{constructor(M,D){this.model=M,this.processor=D,this.mapper=new h.a,this.modelToView=new w.a(this.model,{mapper:this.mapper}),this.modelToView.on('insert:$text',d.i(T.j)(),{priority:'lowest'}),this.viewToModel=new C.a({schema:M.schema}),this.viewToModel.on('text',d.i(P.a)(),{priority:'lowest'}),this.viewToModel.on('element',d.i(P.b)(),{priority:'lowest'}),this.viewToModel.on('documentFragment',d.i(P.b)(),{priority:'lowest'}),['insertContent','deleteContent','modifySelection','getSelectedContent'].forEach((L)=>this.decorate(L))}get(M='main'){return this.stringify(this.model.getRoot(M))}stringify(M){const D=this.toView(M);return this.processor.toData(D)}toView(M){const D=S.a.createIn(M),L=new E.a;return this.mapper.bindElements(M,L),this.modelToView.convertInsertion(D),this.mapper.clearBindings(),L}set(M,D='main'){const L=this.model.getRoot(D);this.model.enqueueChanges(()=>{this.model.selection.removeAllRanges(),this.model.selection.clearAttributes(),this.model.batch('transparent').remove(S.a.createIn(L)).insert(O.a.createAt(L,0),this.parse(M))})}parse(M,D='$root'){const L=this.processor.toView(M);return this.toModel(L,D)}toModel(M,D='$root'){return this.viewToModel.convert(M,{context:[D]})}destroy(){}insertContent(M,D,L){d.i(V.a)(this,M,D,L)}deleteContent(M,D,L){d.i(R.a)(M,D,L)}modifySelection(M,D){d.i(F.a)(this,M,D)}getSelectedContent(M){return d.i(N.a)(M)}}s.a=I,d.i(u.a)(I,f.a)},function(r,s,d){'use strict';function f(R,F,N){const I=F.parent,M=N.parent;if(I!=M&&I.parent&&M.parent&&w(F,N)){for(F=S.a.createAfter(I),N=S.a.createBefore(M),M.isEmpty?R.remove(M):(!N.isEqual(F)&&R.move(M,F),R.merge(F));N.parent.isEmpty;){const D=N.parent;N=S.a.createBefore(D),R.remove(D)}f(R,F,N)}}function h(R,F){const N=R.schema.check({name:'$text',inside:F}),I=R.schema.check({name:'paragraph',inside:F});return!N&&I}function w(R,F){const N=R.root.document.schema,I=new O.a(R,F);for(const M of I.getWalker())if(N.objects.has(M.item.name)||N.limits.has(M.item.name))return!1;return!0}function T(R,F,N){const I=new V.a('paragraph');R.insert(F,I),N.collapse(I)}function C(R,F){const N=R.document.schema.getLimitElement(F);R.remove(O.a.createIn(N)),T(R,S.a.createAt(N),F)}function P(R,F){const N=R.getLimitElement(F),I=S.a.createAt(N),M=S.a.createAt(N,'end');if(!I.isTouching(F.getFirstPosition())||!M.isTouching(F.getLastPosition()))return!1;const D=F.getFirstRange();return D.start.parent!=D.end.parent&&!!R.check({name:'paragraph',inside:N.name})}s.a=function(R,F,N={}){if(!R.isCollapsed){if(!N.doNotResetEntireContent&&P(F.document.schema,R))return void C(F,R);const I=R.getFirstRange(),M=I.start,D=E.a.createFromPosition(I.end);I.start.isTouching(I.end)||F.remove(I),N.leaveUnmerged||f(F,M,D),R.collapse(M),h(F.document,M)&&T(F,M,R),D.detach()}};var E=d(164),S=d(1),O=d(3),V=d(6)},function(r,s,d){'use strict';var u=d(360),f=d(158),h=d(160),w=d(108),T=d(344),C=d(159),P=d(19),E=d(4);class S{constructor(O){this.model=O,this.view=new u.a,this.mapper=new f.a,this.modelToView=new h.a(this.model,{mapper:this.mapper,viewSelection:this.view.selection}),this.listenTo(this.model,'change',(V,R,F)=>{this.modelToView.convertChange(R,F)},{priority:'low'}),this.listenTo(this.model,'changesDone',()=>{const V=this.model.selection;this.modelToView.convertSelection(V),this.view.render()},{priority:'low'}),this.listenTo(this.model.markers,'add',(V,R)=>{this.modelToView.convertMarker('addMarker',R.name,R.getRange())}),this.listenTo(this.model.markers,'remove',(V,R)=>{this.modelToView.convertMarker('removeMarker',R.name,R.getRange())}),this.listenTo(this.view,'selectionChange',d.i(T.a)(this.model,this.mapper)),this.modelToView.on('insert:$text',d.i(w.j)(),{priority:'lowest'}),this.modelToView.on('remove',d.i(w.k)(),{priority:'low'}),this.modelToView.on('selection',d.i(C.c)(),{priority:'low'}),this.modelToView.on('selection',d.i(C.d)(),{priority:'low'}),this.modelToView.on('selection',d.i(C.e)(),{priority:'low'}),this.modelToView.on('selection',d.i(C.f)(),{priority:'low'})}createRoot(O,V='main'){const R=this.view.createRoot(O,V),F=this.model.getRoot(V);return this.mapper.bindElements(F,R),R}destroy(){this.view.destroy(),this.stopListening()}}s.a=S,d.i(E.a)(S,P.a)},function(r,s,d){'use strict';function f(E){const S=[];Array.from(E.getItems({direction:'backward'})).map((O)=>w.a.createOn(O)).filter((O)=>{const V=(O.start.isAfter(E.start)||O.start.isEqual(E.start))&&(O.end.isBefore(E.end)||O.end.isEqual(E.end));return V}).forEach((O)=>{S.push(O.start.parent),d.i(P.b)(O)}),S.forEach((O)=>{for(let V=O;V.parent&&V.isEmpty;){const R=w.a.createOn(V);V=V.parent,d.i(P.b)(R)}})}s.a=function(E){const S=new h.a,O=E.getFirstRange();if(!O||O.isCollapsed)return S;const V=O.start.root,R=O.start.getCommonPath(O.end),F=V.getNodeByPath(R);let N=O.start.parent==O.end.parent?O:w.a.createFromParentsAndOffsets(F,O.start.path[R.length],F,O.end.path[R.length]+1);const I=N.end.offset-N.start.offset;for(const M of N.getItems({shallow:!0}))M.is('textProxy')?S.appendChildren(new C.a(M.data,M.getAttributes())):S.appendChildren(M.clone(!0));if(N!=O){const M=O._getTransformedByMove(N.start,T.a.createAt(S,0),I)[0],D=new w.a(T.a.createAt(S),M.start),L=new w.a(M.end,T.a.createAt(S,'end'));f(L),f(D)}return S};var h=d(35),w=d(3),T=d(1),C=d(27),P=d(21)},function(r,s,d){'use strict';s.a=function(E,S,O,V){V||(V=E.model.batch()),O.isCollapsed||E.deleteContent(O,V);const R=new P(E,V,O.anchor);let F;F=S.is('documentFragment')?S.getChildren():[S],R.handleNodes(F,{isFirst:!0,isLast:!0});const N=R.getSelectionRange();N?O.setRanges([N]):C.a.warn('insertcontent-no-range: Cannot determine a proper selection range after insertion.')};var f=d(1),h=d(164),w=d(6),T=d(3),C=d(42);class P{constructor(E,S,O){this.dataController=E,this.batch=S,this.position=O,this.canMergeWith=new Set([this.position.parent]),this.schema=E.model.schema}handleNodes(E,S){E=Array.from(E);for(let O=0;O<E.length;O++){const V=E[O];this._handleNode(V,{isFirst:0===O&&S.isFirst,isLast:O===E.length-1&&S.isLast})}}getSelectionRange(){return this.nodeToSelect?T.a.createOn(this.nodeToSelect):this.dataController.model.getNearestSelectionRange(this.position)}_handleNode(E,S){if(this._checkIsObject(E))return void this._handleObject(E,S);const O=this._checkAndSplitToAllowedPosition(E,S);return O?void(this._insert(E),this._mergeSiblingsOf(E,S)):void this._handleDisallowedNode(E,S)}_handleObject(E,S){this._checkAndSplitToAllowedPosition(E)?this._insert(E):this._tryAutoparagraphing(E,S)}_handleDisallowedNode(E,S){E.is('element')?this.handleNodes(E.getChildren(),S):this._tryAutoparagraphing(E,S)}_insert(E){if(!this._checkIsAllowed(E,[this.position.parent]))return void C.a.error('insertcontent-wrong-position: The node cannot be inserted on the given position.',{node:E,position:this.position});const S=h.a.createFromPosition(this.position);this.batch.insert(this.position,E),this.position=f.a.createFromPosition(S),S.detach(),this.nodeToSelect=this._checkIsObject(E)&&!this.schema.check({name:'$text',inside:[this.position.parent]})?E:null}_mergeSiblingsOf(E,S){if(E instanceof w.a){const O=S.isFirst&&E.previousSibling instanceof w.a&&this.canMergeWith.has(E.previousSibling),V=S.isLast&&E.nextSibling instanceof w.a&&this.canMergeWith.has(E.nextSibling),R=h.a.createBefore(E),F=h.a.createAfter(E);if(O){const N=h.a.createFromPosition(this.position);this.batch.merge(R),this.position=f.a.createFromPosition(N),N.detach()}if(V){this.position.isEqual(F)||C.a.error('insertcontent-wrong-position-on-merge: The insertion position should equal the merge position'),this.position=f.a.createAt(F.nodeBefore,'end');const N=new h.a(this.position.root,this.position.path,'sticksToPrevious');this.batch.merge(F),this.position=f.a.createFromPosition(N),N.detach()}R.detach(),F.detach()}}_tryAutoparagraphing(E,S){const O=new w.a('paragraph');this._getAllowedIn(O,this.position.parent)&&this._checkIsAllowed(E,[O])&&(O.appendChildren(E),this._handleNode(O,S))}_checkAndSplitToAllowedPosition(E){const S=this._getAllowedIn(E,this.position.parent);if(!S)return!1;for(;S!=this.position.parent;){if(this.schema.limits.has(this.position.parent.name))return!1;if(this.position.isAtStart){const O=this.position.parent;this.position=f.a.createBefore(O),O.isEmpty&&this.batch.remove(O)}else if(this.position.isAtEnd)this.position=f.a.createAfter(this.position.parent);else{const O=f.a.createAfter(this.position.parent);this.batch.split(this.position),this.position=O,this.canMergeWith.add(this.position.nodeAfter)}}return!0}_getAllowedIn(E,S){return this._checkIsAllowed(E,[S])?S:S.parent?this._getAllowedIn(E,S.parent):null}_checkIsAllowed(E,S){return this.schema.check({name:this._getNodeSchemaName(E),attributes:Array.from(E.getAttributeKeys()),inside:S})}_checkIsObject(E){return this.schema.objects.has(this._getNodeSchemaName(E))}_getNodeSchemaName(E){return E.is('text')?'$text':E.name}}},function(r,s,d){'use strict';function f(S,O){if('text'==O.type)return h(S.walker,S.unit);if(O.type==(S.isForward?'elementStart':'elementEnd')){if(S.schema.objects.has(O.item.name))return T.a.createAt(O.item,S.isForward?'after':'before');if(S.schema.check({name:'$text',inside:O.nextPosition}))return O.nextPosition}else{if(S.schema.limits.has(O.item.name))return void S.walker.skip(()=>!0);if(S.schema.check({name:'$text',inside:O.nextPosition}))return O.nextPosition}}function h(S,O){const V=S.position.textNode;if(V){const R=V.data;for(let F=S.position.offset-V.startOffset;d.i(E.a)(R,F)||'character'==O&&d.i(E.b)(R,F);)S.next(),F=S.position.offset-V.startOffset}return S.position}function w(S,O){const V=S.root,R=T.a.createAt(V,O?'end':0);return O?new P.a(S,R):new P.a(R,S)}s.a=function(S,O,V={}){const R=S.model.schema,F='backward'!=V.direction,N=V.unit?V.unit:'character',I=O.focus,M=new C.a({boundaries:w(I,F),singleCharacters:!0,direction:F?'forward':'backward'}),D={walker:M,schema:R,isForward:F,unit:N};for(let L;L=M.next();){if(L.done)return;const z=f(D,L.value);if(z)return void O.setFocus(z)}};var T=d(1),C=d(53),P=d(3),E=d(271)},function(r,s,d){'use strict';var u=d(63);s.a=class{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(h,w){h instanceof u.a&&(h=this._getSymbolForTextProxy(h)),this._consumable.has(h)||this._consumable.set(h,new Map),this._consumable.get(h).set(w,!0)}consume(h,w){return h instanceof u.a&&(h=this._getSymbolForTextProxy(h)),!!this.test(h,w)&&(this._consumable.get(h).set(w,!1),!0)}test(h,w){h instanceof u.a&&(h=this._getSymbolForTextProxy(h));const T=this._consumable.get(h);if(T===void 0)return null;const C=T.get(w);return void 0===C?null:C}revert(h,w){h instanceof u.a&&(h=this._getSymbolForTextProxy(h));const T=this.test(h,w);return!1===T?(this._consumable.get(h).set(w,!0),!0):!0!==T&&null}_getSymbolForTextProxy(h){let w=null;const T=this._textProxyRegistry.get(h.startOffset);if(T){const C=T.get(h.endOffset);C&&(w=C.get(h.parent))}return w||(w=this._addSymbolForTextProxy(h.startOffset,h.endOffset,h.parent)),w}_addSymbolForTextProxy(h,w,T){const C=Symbol('textProxySymbol');let P,E;return P=this._textProxyRegistry.get(h),P||(P=new Map,this._textProxyRegistry.set(h,P)),E=P.get(w),E||(E=new Map,P.set(w,E)),E.set(T,C),C}}},function(r,s,d){'use strict';s.a=function(h,w){return(T,C)=>{const P=C.newSelection,E=new f.a,S=[];for(const O of P.getRanges())S.push(w.toModelRange(O));E.setRanges(S,P.isBackward),E.isEqual(h.selection)||h.enqueueChanges(()=>{h.selection.setTo(E)})}};var f=d(82)},function(r,s,d){'use strict';s.b=function(){return(C,P,E,S)=>{if(!P.output&&E.consume(P.input,{name:!0})){const O=S.convertChildren(P.input,E,P);P.output=new h.a(d.i(T.c)(O))}}},s.a=function(){return(C,P,E,S)=>{const O={name:'$text',inside:P.context};S.schema.check(O)&&E.consume(P.input)&&(P.output=new w.a(P.input.data))}};var h=d(35),w=d(27),T=d(21)},function(r,s,d){'use strict';var u=d(12),f=d(0);class h{constructor(){this._consumables=new Map}add(T,C){let P;return T.is('text')||T.is('documentFragment')?void this._consumables.set(T,!0):void(this._consumables.has(T)?P=this._consumables.get(T):(P=new w,this._consumables.set(T,P)),P.add(C))}test(T,C){const P=this._consumables.get(T);return void 0===P?null:T.is('text')||T.is('documentFragment')?P:P.test(C)}consume(T,C){return!!this.test(T,C)&&(T.is('text')||T.is('documentFragment')?this._consumables.set(T,!1):this._consumables.get(T).consume(C),!0)}revert(T,C){const P=this._consumables.get(T);P!==void 0&&(T.is('text')||T.is('documentFragment')?this._consumables.set(T,!0):P.revert(C))}static consumablesFromElement(T){const C={name:!0,attribute:[],class:[],style:[]},P=T.getAttributeKeys();for(const O of P)'style'!=O&&'class'!=O&&C.attribute.push(O);const E=T.getClassNames();for(const O of E)C.class.push(O);const S=T.getStyleNames();for(const O of S)C.style.push(O);return C}static createFrom(T,C){if(C||(C=new h),T.is('text'))return C.add(T),C;T.is('element')&&C.add(T,h.consumablesFromElement(T)),T.is('documentFragment')&&C.add(T);for(const P of T.getChildren())C=h.createFrom(P,C);return C}}s.a=h;class w{constructor(){this._canConsumeName=null,this._consumables={attribute:new Map,style:new Map,class:new Map}}add(T){for(const C in T.name&&(this._canConsumeName=!0),this._consumables)C in T&&this._add(C,T[C])}test(T){if(T.name&&!this._canConsumeName)return this._canConsumeName;for(const C in this._consumables)if(C in T){const P=this._test(C,T[C]);if(!0!==P)return P}return!0}consume(T){for(const C in T.name&&(this._canConsumeName=!1),this._consumables)C in T&&this._consume(C,T[C])}revert(T){for(const C in T.name&&(this._canConsumeName=!0),this._consumables)C in T&&this._revert(C,T[C])}_add(T,C){const P=d.i(u.a)(C)?C:[C],E=this._consumables[T];for(const S of P){if('attribute'===T&&('class'===S||'style'===S))throw new f.a('viewconsumable-invalid-attribute: Classes and styles should be handled separately.');E.set(S,!0)}}_test(T,C){const P=d.i(u.a)(C)?C:[C],E=this._consumables[T];for(const S of P)if('attribute'===T&&('class'===S||'style'===S)){const O=this._test(S,[...this._consumables[S].keys()]);if(!0!==O)return O}else{const O=E.get(S);if(O===void 0)return null;if(!O)return!1}return!0}_consume(T,C){const P=d.i(u.a)(C)?C:[C],E=this._consumables[T];for(const S of P)'attribute'===T&&('class'===S||'style'===S)?this._consume(S,[...this._consumables[S].keys()]):E.set(S,!1)}_revert(T,C){const P=d.i(u.a)(C)?C:[C],E=this._consumables[T];for(const S of P)if('attribute'===T&&('class'===S||'style'===S))this._revert(S,[...this._consumables[S].keys()]);else{const O=E.get(S);!1===O&&E.set(S,!0)}}}},function(r,s,d){'use strict';function u(N){const I=new Set,M=new Map,D=new T.a({startPosition:w.a.createAt(N,0),ignoreElementEnd:!0});for(const L of D)'$marker'==L.item.name&&I.add(L.item);for(const L of I){const z=L.getAttribute('data-name'),q=w.a.createBefore(L);M.has(z)?M.get(z).end=w.a.createFromPosition(q):M.set(z,new h.a(w.a.createFromPosition(q))),d.i(E.b)(h.a.createOn(L))}return M}var f=d(346),h=d(3),w=d(1),T=d(53),C=d(61),P=d(35),E=d(21),S=d(9),O=d(4),V=d(50),R=d(42);class F{constructor(N={}){this.conversionApi=d.i(V.a)({},N),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this)}convert(N,I={}){this.fire('viewCleanup',N);const M=f.a.createFrom(N);let D=this._convertItem(N,M,I);return D?(D.is('documentFragment')||(D=new P.a([D])),D.markers=u(D),D):new P.a}_convertItem(N,I,M={}){const D=d.i(V.a)({},M,{input:N,output:null});return N.is('element')?this.fire('element:'+N.name,D,I,this.conversionApi):N.is('text')?this.fire('text',D,I,this.conversionApi):this.fire('documentFragment',D,I,this.conversionApi),D.output&&!(D.output instanceof C.a||D.output instanceof P.a)?(R.a.warn('view-conversion-dispatcher-incorrect-result: Dropped incorrect conversion result.',[N,D.output]),null):D.output}_convertChildren(N,I,M={}){const D=Array.from(N.getChildren()),L=D.map((z)=>this._convertItem(z,I,M)).filter((z)=>z instanceof C.a||z instanceof P.a).reduce((z,q)=>{return z.concat(q.is('documentFragment')?Array.from(q.getChildren()):q)},[]);return new P.a(L)}}s.a=F,d.i(O.a)(F,S.a)},function(r,s){'use strict';s.a=class{getHtml(f){const h=document.implementation.createHTMLDocument(''),w=h.createElement('div');return w.appendChild(f),w.innerHTML}}},function(r,s,d){'use strict';var u=d(109),f=d(110),h=d(74),w=d(75),T=d(76),C=d(111),P=d(77),E=d(78),S=d(163),O=d(79)},function(r,s,d){'use strict';function u(K,Q){const J=K.clone(),Y=J.operations[0];return Y.oldRange&&(Y.oldRange=Y.oldRange.getTransformedByDelta(Q)[0]),Y.newRange&&(Y.newRange=Y.newRange.getTransformedByDelta(Q)[0]),[J]}function f(K,Q){function J(){const te=new T.a(K.position.getShiftedBy(Z),K.position.getShiftedBy(ee)),ae=new E.a(te,Q.key,X,Q.value,0);Y.addOperation(ae)}const Y=new V.a,G=K.nodes;let X=G.getNode(0).getAttribute(Q.key),Z=0,ee=G.getNode(0).offsetSize;for(let te=1;te<G.length;te++){const ae=G.getNode(te),ne=ae.getAttribute(Q.key);ne!=X&&(X!=Q.value&&J(),X=ne,Z=ee),ee+=ae.offsetSize}return J(),Y}function h(){const K=new O.a;return K.addOperation(new P.a(0)),K}var w=d(162),T=d(3),C=d(1),P=d(62),E=d(81),S=d(44),O=d(20),V=d(109),R=d(110),F=d(351),N=d(74),I=d(75),M=d(77),D=d(163),L=d(79),z=d(78),q=d(111),H=d(76),W=d(56);const $=w.a.addTransformationCase,U=w.a.defaultTransform;$(V.a,D.a,(K,Q,J)=>{const Y=U(K,Q,J);return K.range.containsPosition(Q.position)&&Y.push(f(Q,K)),Y}),$(V.a,M.a,(K,Q,J)=>{const Y=new C.a(Q.position.root,Q.position.path.slice(0,-1)),G=U(K,Q,J);for(const X of K.operations)if(X.range.containsPosition(Y)||X.range.start.isEqual(Y)){const Z=new V.a,ee=Y.getShiftedBy(1),te=C.a.createFromPosition(ee);te.path.push(0);const ae=Q._cloneOperation.nodes.getNode(0).getAttribute(X.key);Z.addOperation(new E.a(new T.a(ee,te),X.key,ae===void 0?null:ae,X.newValue,0)),G.push(Z);break}return G}),$(R.a,N.a,(K,Q,J)=>{return K.position.isEqual(Q.position)?[Q.getReversed(),K.clone()]:U(K,Q,J)}),$(F.a,M.a,u),$(F.a,N.a,u),$(F.a,L.a,u),$(F.a,z.a,u),$(F.a,I.a,u),$(F.a,q.a,u),$(I.a,N.a,(K,Q,J)=>{const Y=K.sourcePosition.root==Q.position.root&&'same'===d.i(W.a)(K.sourcePosition.getParentPath(),Q.position.getParentPath()),G=K.sourcePosition.offset<=Q.position.offset&&K.sourcePosition.offset+K.howMany>Q.position.offset;return Y&&G?[Q.getReversed(),K.clone()]:U(K,Q,J)}),$(N.a,R.a,(K,Q,J)=>{return K.position.isEqual(Q.position)?[h()]:U(K,Q,J)}),$(N.a,I.a,(K,Q,J)=>{const Y=K.position.root==Q.sourcePosition.root&&'same'===d.i(W.a)(K.position.getParentPath(),Q.sourcePosition.getParentPath()),G=Q.sourcePosition.offset<=K.position.offset&&Q.sourcePosition.offset+Q.howMany>K.position.offset;return Y&&G?[h()]:U(K,Q,J)}),$(M.a,M.a,(K,Q,J)=>{const Y=K.position.getParentPath(),G=Q.position.getParentPath();if(K.position.root==Q.position.root&&'same'==d.i(W.a)(Y,G)){const X=Object.assign({},J);return K.position.offset!=Q.position.offset&&(X.isStrong=K.position.offset>Q.position.offset),void 0===J.insertBefore&&(X.insertBefore=X.isStrong),U(K,Q,X)}return U(K,Q,J)}),$(M.a,z.a,(K,Q,J)=>{return K.position.root==Q.position.root&&'same'===d.i(W.a)(Q.position.path,K.position.getParentPath())?[h()]:U(K,Q,J)}),$(M.a,L.a,(K,Q,J)=>{const Y=K.position.root==Q.range.start.root,G=Y&&'same'===d.i(W.a)(K.position.getParentPath(),Q.range.start.getParentPath()),X=Q.range.start.offset<K.position.offset&&Q.range.end.offset>=K.position.offset;if(G&&X)return[h()];if(Y&&'same'===d.i(W.a)(K.position.getParentPath(),Q.range.end.getShiftedBy(-1).path)){const Z=K.clone(),ee=C.a.createFromPosition(Q.range.start);ee.path.push(Q.howMany-1);const te=ee.getShiftedBy(1);Z._cloneOperation.position=te;const ae=C.a.createFromPosition(ee);ae.path.push(K.position.offset),Z._moveOperation.sourcePosition=ae;const ne=C.a.createFromPosition(te);return ne.path.push(0),Z._moveOperation.targetPosition=ne,[Z]}return U(K,Q,J)}),$(M.a,V.a,(K,Q)=>{K=K.clone();const J=new C.a(K.position.root,K.position.path.slice(0,-1));if(K._cloneOperation instanceof S.a)for(const Y of Q.operations)if(Y.range.containsPosition(J)||Y.range.start.isEqual(J)){null===Y.newValue?K._cloneOperation.nodes.getNode(0).removeAttribute(Y.key):K._cloneOperation.nodes.getNode(0).setAttribute(Y.key,Y.newValue);break}return[K]}),$(z.a,M.a,(K,Q,J)=>{return K.position.root==Q.position.root&&'same'===d.i(W.a)(K.position.path,Q.position.getParentPath())?[Q.getReversed(),K.clone()]:U(K,Q,J)}),$(D.a,V.a,(K,Q)=>{const J=[K.clone()];return Q.range.containsPosition(K.position)&&J.push(f(K,Q)),J}),$(L.a,M.a,(K,Q,J)=>{const Y=K.range.start.root==Q.position.root,G=Y&&'same'===d.i(W.a)(K.range.start.getParentPath(),Q.position.getParentPath()),X=K.range.start.offset<Q.position.offset&&K.range.end.offset>=Q.position.offset;if(G&&X)return[Q.getReversed(),K.clone()];if(Y&&'same'===d.i(W.a)(Q.position.getParentPath(),K.range.end.getShiftedBy(-1).path)){const Z=K.clone();return Z._insertOperation.position.offset++,Z._moveOperation.howMany++,Z._moveOperation.targetPosition.path[Z._moveOperation.targetPosition.path.length-2]++,[Z]}return U(K,Q,J)}),$(q.a,M.a,(K,Q,J)=>{const Y=J.aWasUndone||J.bWasUndone,G=new C.a(Q.position.root,Q.position.path.slice(0,-1)),X=U(K,Q,J);if(!Y&&K.operations[0].position.isEqual(G)){const Z=K.clone();Z.operations[0].position=G.getShiftedBy(1),X.push(Z)}return X}),$(M.a,q.a,(K,Q,J)=>{const Y=J.aWasUndone||J.bWasUndone,G=new C.a(K.position.root,K.position.path.slice(0,-1));if(!Y&&Q.operations[0].position.isEqual(G)){const X=Q.clone();return X.operations[0].position=G.getShiftedBy(1),X.operations[0].oldName=K._cloneOperation.nodes.getNode(0).name,[K.clone(),X]}return[K.clone()]}),$(H.a,M.a,(K,Q,J)=>{const Y=U(K,Q,J),G=Q._cloneOperation.position||Q._cloneOperation.targetPosition;if(!G)return U(K,Q,J);for(const X of Y)if(X instanceof H.a){const Z=X._moveOperation,ee=Z.sourcePosition.getShiftedBy(Z.howMany);ee.isEqual(G)&&(Z.howMany+=1)}return Y}),$(M.a,H.a,(K,Q,J)=>{const Y=K._cloneOperation.position||K._cloneOperation.targetPosition;if(!Y)return U(K,Q,J);Q=Q.clone();const G=Q._moveOperation,X=G.sourcePosition.getShiftedBy(G.howMany);return X.isEqual(Y)&&(G.howMany+=1),U(K,Q,J)})},function(r,s,d){'use strict';function u(E,S,O,V){const R=E.document,F=new P,N=new T.a(S,O,V,R.markers,R.version);E.addDelta(F),F.addOperation(N),R.applyOperation(N)}var f=d(20),h=d(16),w=d(15),T=d(113),C=d(0);class P extends f.a{get type(){return'marker'}get _reverseDeltaClass(){return P}static get className(){return'engine.model.delta.MarkerDelta'}}s.a=P,d.i(w.b)('setMarker',function(E,S){const O='string'==typeof E?E:E.name,V=this.document.markers.get(O);if(!S&&!V)throw new C.a('batch-setMarker-no-range: Range parameter is required when adding a new marker.');const R=V?V.getRange():null;return S?u(this,O,R,S):u(this,O,null,R),this}),d.i(w.b)('removeMarker',function(E){const S='string'==typeof E?E:E.name;if(!this.document.markers.has(S))throw new C.a('batch-removeMarker-no-marker: Trying to remove marker that does not exist.');const O=this.document.markers.get(S).getRange();return u(this,S,O,null),this}),h.a.register(P)},function(r,s,d){'use strict';function u(W){const $=W.textNode;if($){const U=$.data,K=W.offset-$.startOffset;return!d.i(z.a)(U,K)&&!d.i(z.b)(U,K)}return!0}function*f(W,$){for(let U=!1;!U;){if(U=!0,W){const K=W.next();K.done||(U=!1,yield{walker:W,value:K.value})}if($){const K=$.next();K.done||(U=!1,yield{walker:$,value:K.value})}}}var h=d(349),w=d(350),T=d(3),C=d(1),P=d(358),E=d(15),S=d(354),O=d(353),V=d(359),R=d(53),F=d(355),N=d(162),I=d(70),M=d(9),D=d(0),L=d(4),z=d(271);const q='$graveyard';class H{constructor(){this.version=0,this.schema=new V.a,this.history=new S.a(this),this.markers=new F.a,this.selection=new O.a(this),this._pendingChanges=[],this.roots=new Map,this.selection.on('change:range',()=>{for(const W of this.selection.getRanges())if(!this._validateSelectionRange(W))throw new D.a('document-selection-wrong-position: Range from document selection starts or ends at incorrect position.',{range:W})}),this.createRoot('$root',q)}get graveyard(){return this.getRoot(q)}applyOperation(W){if(W.baseVersion!==this.version)throw new D.a('model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.',{operation:W});const $=W._execute();this.version++,this.history.addDelta(W.delta),$&&this.fire('change',W.type,$,W.delta.batch,W.delta.type)}batch(W){return new E.a(this,W)}createRoot(W='$root',$='main'){if(this.roots.has($))throw new D.a('model-document-createRoot-name-exists: Root with specified name already exists.',{name:$});const U=new P.a(this,W,$);return this.roots.set($,U),U}destroy(){this.selection.destroy(),this.stopListening()}enqueueChanges(W){if(this._pendingChanges.push(W),1==this._pendingChanges.length){for(;this._pendingChanges.length;)this._pendingChanges[0](),this._pendingChanges.shift();this.fire('changesDone')}}getRoot(W='main'){if(!this.roots.has(W))throw new D.a('model-document-getRoot-root-not-exist: Root with specified name does not exist.',{name:W});return this.roots.get(W)}hasRoot(W){return this.roots.has(W)}getRootNames(){return Array.from(this.roots.keys()).filter((W)=>W!=q)}getNearestSelectionRange(W,$='both'){if(this.schema.check({name:'$text',inside:W}))return new T.a(W);let U,K;('both'==$||'backward'==$)&&(U=new R.a({startPosition:W,direction:'backward'})),('both'==$||'forward'==$)&&(K=new R.a({startPosition:W}));for(const Q of f(U,K)){const J=Q.walker==U?'elementEnd':'elementStart',Y=Q.value;if(Y.type==J&&this.schema.objects.has(Y.item.name))return T.a.createOn(Y.item);if(this.schema.check({name:'$text',inside:Y.nextPosition}))return new T.a(Y.nextPosition)}return null}transformDeltas(W,$,U=!1){return N.a.transformDeltaSets(W,$,U?this:null)}toJSON(){const W=d.i(I.a)(this);return W.selection='[engine.model.DocumentSelection]',W}_getDefaultRoot(){for(const W of this.roots.values())if(W!==this.graveyard)return W;return this.graveyard}_getDefaultRange(){const W=this._getDefaultRoot(),$=new C.a(W,[0]),U=this.getNearestSelectionRange($);return U||new T.a($)}_validateSelectionRange(W){return u(W.start)&&u(W.end)}}s.a=H,d.i(L.a)(H,M.a)},function(r,s,d){'use strict';function u(I){return I instanceof P.a||I instanceof C.a?I.getAttributes():null}function f(I,M){if(M&&'transparent'!=M.type){const D=I.range&&I.range.start.parent;if(D&&!D.isEmpty){const L=Array.from(D.getAttributeKeys()).filter((z)=>z.startsWith(R));for(const z of L)M.removeAttribute(D,z)}}}var h=d(1),w=d(3),T=d(112),C=d(27),P=d(63),E=d(154),S=d(0),O=d(42),V=d(82);const R='selection:',F=new Set(['addAttribute','removeAttribute','changeAttribute','addRootAttribute','removeRootAttribute','changeRootAttribute']);class N extends V.a{constructor(I){super(),this._document=I,this._attributePriority=new Map,this.listenTo(this._document,'change',(M,D,L,z)=>{F.has(D)&&this._updateAttributes(!1),f(L,z)})}get isCollapsed(){const I=this._ranges.length;return 0===I?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}destroy(){for(let I=0;I<this._ranges.length;I++)this._ranges[I].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}addRange(I,M=!1){super.addRange(I,M),this.refreshAttributes()}removeAllRanges(){super.removeAllRanges(),this.refreshAttributes()}setRanges(I,M=!1){super.setRanges(I,M),this.refreshAttributes()}setAttribute(I,M){if(this.isCollapsed&&this.anchor.parent.isEmpty&&this._storeAttribute(I,M),this._setAttribute(I,M)){this.fire('change:attribute',{attributeKeys:[I],directChange:!0})}}removeAttribute(I){if(this.isCollapsed&&this.anchor.parent.isEmpty&&this._removeStoredAttribute(I),this._removeAttribute(I)){this.fire('change:attribute',{attributeKeys:[I],directChange:!0})}}setAttributesTo(I){I=d.i(E.a)(I),this.isCollapsed&&this.anchor.parent.isEmpty&&this._setStoredAttributesTo(I);const M=this._setAttributesTo(I);if(0<M.size){const D=Array.from(M);this.fire('change:attribute',{attributeKeys:D,directChange:!0})}}clearAttributes(){this.setAttributesTo([])}refreshAttributes(){this._updateAttributes(!0)}static createFromSelection(){throw new S.a('documentselection-cannot-create: Cannot create new DocumentSelection instance.')}_popRange(){this._ranges.pop().detach()}_pushRange(I){const M=this._prepareRange(I);M&&this._ranges.push(M)}_prepareRange(I){if(!(I instanceof w.a))throw new S.a('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');if(I.root==this._document.graveyard)return void O.a.warn('model-selection-range-in-graveyard: Trying to add a Range that is in the graveyard root. Range rejected.');this._checkRange(I);const M=T.a.createFromRange(I);return this.listenTo(M,'change',(D,L,z)=>{if(M.root==this._document.graveyard){const q=z.sourcePosition,H=z.range.end.offset-z.range.start.offset,W=w.a.createFromPositionAndShift(q,H);this._fixGraveyardSelection(M,W)}this.fire('change:range',{directChange:!1})}),M}_updateAttributes(I){const M=d.i(E.a)(this._getSurroundingAttributes()),D=d.i(E.a)(this.getAttributes());if(I)this._attributePriority=new Map,this._attrs=new Map;else for(const[z,q]of this._attributePriority)'low'==q&&(this._attrs.delete(z),this._attributePriority.delete(z));this._setAttributesTo(M,!1);const L=[];for(const[z,q]of this.getAttributes())D.has(z)&&D.get(z)===q||L.push(z);for(const[z]of D)this.hasAttribute(z)||L.push(z);0<L.length&&this.fire('change:attribute',{attributeKeys:L,directChange:!1})}static _getStoreAttributeKey(I){return R+I}_setAttribute(I,M,D=!0){const L=D?'normal':'low';if('low'==L&&'normal'==this._attributePriority.get(I))return!1;const z=super.getAttribute(I);return z!==M&&(this._attrs.set(I,M),this._attributePriority.set(I,L),!0)}_removeAttribute(I,M=!0){const D=M?'normal':'low';return'low'==D&&'normal'==this._attributePriority.get(I)?!1:!!super.hasAttribute(I)&&(this._attrs.delete(I),this._attributePriority.set(I,D),!0)}_setAttributesTo(I,M=!0){const D=new Set;for(const[L,z]of this.getAttributes())I.get(L)!==z&&this._removeAttribute(L,M)&&D.add(L);for(const[L,z]of I){const q=this._setAttribute(L,z,M);q&&D.add(L)}return D}*_getStoredAttributes(){const I=this.getFirstPosition().parent;if(this.isCollapsed&&I.isEmpty)for(const M of I.getAttributeKeys())if(M.startsWith(R)){const D=M.substr(R.length);yield[D,I.getAttribute(M)]}}_removeStoredAttribute(I){const M=N._getStoreAttributeKey(I);this._document.batch().removeAttribute(this.anchor.parent,M)}_storeAttribute(I,M){const D=N._getStoreAttributeKey(I);this._document.batch().setAttribute(this.anchor.parent,D,M)}_setStoredAttributesTo(I){const M=this.anchor.parent,D=this._document.batch();for(const[L]of this._getStoredAttributes()){const z=N._getStoreAttributeKey(L);D.removeAttribute(M,z)}for(const[L,z]of I){const q=N._getStoreAttributeKey(L);D.setAttribute(M,q,z)}}_getSurroundingAttributes(){const I=this.getFirstPosition(),M=this._document.schema;let D=null;if(!this.isCollapsed){const L=this.getFirstRange();for(const z of L){if(z.item.is('element')&&M.objects.has(z.item.name))break;'text'==z.type&&null==D&&(D=z.item.getAttributes())}}else{const L=I.textNode?I.textNode:I.nodeBefore,z=I.textNode?I.textNode:I.nodeAfter;if(D=u(L),D||(D=u(z)),!D)for(let q=L;q&&!D;)q=q.previousSibling,D=u(q);if(!D)for(let q=z;q&&!D;)q=q.nextSibling,D=u(q);D||(D=this._getStoredAttributes())}return D}_fixGraveyardSelection(I,M){const D=h.a.createFromPosition(M.start),L=this._document.getNearestSelectionRange(D),z=this._ranges.indexOf(I);if(this._ranges.splice(z,1),I.detach(),L){const q=this._prepareRange(L);this._ranges.splice(z,0,q)}this.fire('change:range',{directChange:!1})}}s.a=N},function(r,s,d){'use strict';var u=d(0);s.a=class{constructor(){this._deltas=[],this._historyPoints=new Map,this._undoPairs=new Map,this._undoneDeltas=new Set}addDelta(h){if(0<h.operations.length&&!this._historyPoints.has(h.baseVersion)){const w=this._deltas.length;this._deltas[w]=h,this._historyPoints.set(h.baseVersion,w)}}*getDeltas(h=0,w=_NumberPOSITIVE_INFINITY){if(0!==this._deltas.length){let T=this._getIndex(h);if(-1!=T)for(;T<this._deltas.length;){const C=this._deltas[T++];if(C.baseVersion>=w)break;yield C}}}getDelta(h){const w=this._historyPoints.get(h);return w===void 0?null:this._deltas[w]}setDeltaAsUndone(h,w){this._undoPairs.set(w,h),this._undoneDeltas.add(h)}isUndoingDelta(h){return this._undoPairs.has(h)}isUndoneDelta(h){return this._undoneDeltas.has(h)}getUndoneDelta(h){return this._undoPairs.get(h)}_getIndex(h){const w=this._historyPoints.get(h);if(w===void 0){const T=this._deltas[this._deltas.length-1],C=T.baseVersion+T.operations.length;if(0>h||h>=C)return-1;throw new u.a('model-history-wrong-version: Given base version points to the middle of a delta.')}return w}}},function(r,s,d){'use strict';var u=d(112),f=d(1),h=d(3),w=d(9),T=d(0),C=d(4);class P{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(S){return this._markers.has(S)}get(S){return this._markers.get(S)||null}set(S,O){const V=S instanceof E?S.name:S,R=this._markers.get(V);if(R){const I=R.getRange();if(I.isEqual(O))return R;this.remove(V)}const F=u.a.createFromRange(O),N=new E(V,F);return this._markers.set(V,N),this.fire('add:'+V,N),N}remove(S){const O=S instanceof E?S.name:S,V=this._markers.get(O);return!!V&&(this._markers.delete(O),this.fire('remove:'+O,V),this._destroyMarker(V),!0)}*getMarkersAtPosition(S){for(const O of this)O.getRange().containsPosition(S)&&(yield O)}destroy(){for(const S of this._markers.values())this._destroyMarker(S);this._markers=null,this.stopListening()}*getMarkersGroup(S){for(const O of this._markers.values())O.name.startsWith(S+':')&&(yield O)}_destroyMarker(S){S.stopListening(),S._liveRange.detach(),S._liveRange=null}}s.a=P,d.i(C.a)(P,w.a);class E{constructor(S,O){this.name=S,this._liveRange=O,this._liveRange.delegate('change').to(this)}getStart(){if(!this._liveRange)throw new T.a('marker-destroyed: Operating on destroyed marker instance.');return f.a.createFromPosition(this._liveRange.start)}getEnd(){if(!this._liveRange)throw new T.a('marker-destroyed: Operating on destroyed marker instance.');return f.a.createFromPosition(this._liveRange.end)}getRange(){if(!this._liveRange)throw new T.a('marker-destroyed: Operating on destroyed marker instance.');return h.a.createFromRange(this._liveRange)}}d.i(C.a)(E,w.a)},function(r,s,d){'use strict';var u=d(81),f=d(44),h=d(113),w=d(26),T=d(62),C=d(36),P=d(114),E=d(37),S=d(115),O=d(116);const V={};V[u.a.className]=u.a,V[f.a.className]=f.a,V[h.a.className]=h.a,V[w.a.className]=w.a,V[T.a.className]=T.a,V[C.a.className]=C.a,V[P.a.className]=P.a,V[E.a.className]=E.a,V[S.a.className]=S.a,V[O.a.className]=O.a;s.a=class{static fromJSON(F,N){return V[F.__className].fromJSON(F,N)}}},function(r,s,d){'use strict';function f(q){return[q.clone()]}function h(q,H){for(let W=0;W<H.length;W++)H[W].baseVersion=q+W+1;return H}function w(q,H){return null===q.targetPosition._getTransformedByDeletion(H.sourcePosition,H.howMany)}function T(q){return 0===q.length?null:1==q.length?q[0]:(q[0].end=q[q.length-1].end,q[0])}function C(q,H,W){const $=[];for(let U=0;U<q.length;U++){const K=P(q[U],H,W.isSticky);$.push(K);for(let Q=U+1;Q<q.length;Q++)q[Q]=q[Q]._getTransformedByMove(K.sourcePosition,K.targetPosition,K.howMany)[0];H=H._getTransformedByMove(K.sourcePosition,K.targetPosition,K.howMany,!0,!1)}return $}function P(q,H,W){let $='$graveyard'==H.root.rootName?N.a:'$graveyard'==q.start.root.rootName?I.a:F.a;const U=new $(q.start,q.end.offset-q.start.offset,H,0);return U.isSticky=W,U}var E=d(44),S=d(81),O=d(116),V=d(115),R=d(113),F=d(26),N=d(37),I=d(114),M=d(62),D=d(3),L=d(56);s.a=function(q,H,W={isStrong:!1}){let $,U;q instanceof E.a?$=z.InsertOperation:q instanceof S.a?$=z.AttributeOperation:q instanceof O.a?$=z.RootAttributeOperation:q instanceof V.a?$=z.RenameOperation:q instanceof R.a?$=z.MarkerOperation:q instanceof F.a?$=z.MoveOperation:U=f,$&&(H instanceof E.a?U=$.InsertOperation:H instanceof S.a?U=$.AttributeOperation:H instanceof O.a?U=$.RootAttributeOperation:H instanceof V.a?U=$.RenameOperation:H instanceof R.a?U=$.MarkerOperation:H instanceof F.a?U=$.MoveOperation:U=f);const K=U(q,H,W);return h(q.baseVersion,K)};const z={InsertOperation:{InsertOperation(q,H,W){const $=q.clone(),U=void 0===W.insertBefore?!W.isStrong:W.insertBefore;return $.position=$.position._getTransformedByInsertion(H.position,H.nodes.maxOffset,U),[$]},AttributeOperation:f,RootAttributeOperation:f,RenameOperation:f,MarkerOperation:f,MoveOperation(q,H,W){const $=q.clone(),U=void 0===W.insertBefore?!W.isStrong:W.insertBefore;return $.position=q.position._getTransformedByMove(H.sourcePosition,H.targetPosition,H.howMany,U,H.isSticky&&!W.forceNotSticky),[$]}},AttributeOperation:{InsertOperation(q,H){const W=q.range._getTransformedByInsertion(H.position,H.nodes.maxOffset,!0,!1);return W.reverse().map(($)=>{return new S.a($,q.key,q.oldValue,q.newValue,q.baseVersion)})},AttributeOperation(q,H,W){if(q.key===H.key){const $=q.range.getDifference(H.range).map((K)=>{return new S.a(K,q.key,q.oldValue,q.newValue,q.baseVersion)}),U=q.range.getIntersection(H.range);return U&&(W.isStrong?$.push(new S.a(U,H.key,H.newValue,q.newValue,q.baseVersion)):0===$.length&&$.push(new M.a(0))),$}return[q.clone()]},RootAttributeOperation:f,RenameOperation:f,MarkerOperation:f,MoveOperation(q,H){const W=D.a.createFromPositionAndShift(H.sourcePosition,H.howMany);let $=[];const U=T(q.range.getDifference(W)),K=q.range.getIntersection(W);return null!==U&&(U.start=U.start._getTransformedByDeletion(H.sourcePosition,H.howMany),U.end=U.end._getTransformedByDeletion(H.sourcePosition,H.howMany),$=U._getTransformedByInsertion(H.getMovedRangeStart(),H.howMany,!0,!1).reverse()),null!==K&&(K.start=K.start._getCombined(H.sourcePosition,H.getMovedRangeStart()),K.end=K.end._getCombined(H.sourcePosition,H.getMovedRangeStart()),$.push(K)),$.map((Q)=>{return new S.a(Q,q.key,q.oldValue,q.newValue,q.baseVersion)})}},RootAttributeOperation:{InsertOperation:f,AttributeOperation:f,RootAttributeOperation(q,H,W){return q.root!==H.root||q.key!==H.key||(q.newValue===H.newValue||W.isStrong)&&q.newValue!==H.newValue?[q.clone()]:[new M.a(q.baseVersion)]},RenameOperation:f,MarkerOperation:f,MoveOperation:f},RenameOperation:{InsertOperation(q,H){const W=q.clone();return W.position=W.position._getTransformedByInsertion(H.position,H.nodes.maxOffset,!0),[W]},AttributeOperation:f,RootAttributeOperation:f,RenameOperation(q,H,W){const $=q.clone();if(q.position.isEqual(H.position))if(W.isStrong)$.oldName=H.newName;else return[new M.a(q.baseVersion)];return[$]},MarkerOperation:f,MoveOperation(q,H){const W=q.clone(),$=W.position.isEqual(H.sourcePosition);return W.position=W.position._getTransformedByMove(H.sourcePosition,H.targetPosition,H.howMany,!0,$),[W]}},MarkerOperation:{InsertOperation(q,H){const W=q.clone();return W.oldRange&&(W.oldRange=W.oldRange._getTransformedByInsertion(H.position,H.nodes.maxOffset,!1,!1)[0]),W.newRange&&(W.newRange=W.newRange._getTransformedByInsertion(H.position,H.nodes.maxOffset,!1,!1)[0]),[W]},AttributeOperation:f,RootAttributeOperation:f,RenameOperation:f,MarkerOperation(q,H,W){const $=q.clone();if(q.name==H.name)if(W.isStrong)$.oldRange=H.newRange;else return[new M.a(q.baseVersion)];return[$]},MoveOperation(q,H){const W=q.clone();if(W.oldRange){const $=W.oldRange._getTransformedByMove(H.sourcePosition,H.targetPosition,H.howMany);W.oldRange=D.a.createFromRanges($)}if(W.newRange){const $=W.newRange._getTransformedByMove(H.sourcePosition,H.targetPosition,H.howMany);W.newRange=D.a.createFromRanges($)}return[W]}},MoveOperation:{InsertOperation(q,H,W){let $=D.a.createFromPositionAndShift(q.sourcePosition,q.howMany);$=$._getTransformedByInsertion(H.position,H.nodes.maxOffset,!1,q.isSticky&&!W.forceNotSticky)[0];const U=void 0===W.insertBefore?!W.isStrong:W.insertBefore,K=new q.constructor($.start,$.end.offset-$.start.offset,q.targetPosition._getTransformedByInsertion(H.position,H.nodes.maxOffset,U),q.baseVersion);return K.isSticky=q.isSticky,[K]},AttributeOperation:f,RootAttributeOperation:f,RenameOperation:f,MarkerOperation:f,MoveOperation(q,H,W){const $=D.a.createFromPositionAndShift(q.sourcePosition,q.howMany),U=D.a.createFromPositionAndShift(H.sourcePosition,H.howMany);let K=W.isStrong;const Q=q.isSticky&&!W.forceNotSticky,J=void 0===W.insertBefore?!K:W.insertBefore,Y=q.targetPosition._getTransformedByMove(H.sourcePosition,H.targetPosition,H.howMany,J,H.isSticky&&!W.forceNotSticky);if(w(q,H)&&w(H,q))return[H.getReversed()];const G=$.containsPosition(H.targetPosition)||$.start.isEqual(H.targetPosition)&&Q||$.end.isEqual(H.targetPosition)&&Q;if(G&&$.containsRange(U,!0))return $.start=$.start._getTransformedByMove(H.sourcePosition,H.targetPosition,H.howMany,!Q),$.end=$.end._getTransformedByMove(H.sourcePosition,H.targetPosition,H.howMany,Q),C([$],Y,q);const X=U.containsPosition(q.targetPosition)||U.start.isEqual(q.targetPosition)&&H.isSticky&&!W.forceNotSticky||U.end.isEqual(q.targetPosition)&&H.isSticky&&!W.forceNotSticky;if(X&&U.containsRange($,!0))return $.start=$.start._getCombined(H.sourcePosition,H.getMovedRangeStart()),$.end=$.end._getCombined(H.sourcePosition,H.getMovedRangeStart()),C([$],Y,q);const Z=d.i(L.a)(q.sourcePosition.getParentPath(),H.sourcePosition.getParentPath());if('prefix'==Z||'extension'==Z)return $.start=$.start._getTransformedByMove(H.sourcePosition,H.targetPosition,H.howMany,!Q),$.end=$.end._getTransformedByMove(H.sourcePosition,H.targetPosition,H.howMany,Q),C([$],Y,q);W.forceWeakRemove||(q instanceof N.a&&!(H instanceof N.a)?K=!0:!(q instanceof N.a)&&H instanceof N.a&&(K=!1));const ee=[],te=$.getDifference(U);for(const ne of te){ne.start=ne.start._getTransformedByDeletion(H.sourcePosition,H.howMany),ne.end=ne.end._getTransformedByDeletion(H.sourcePosition,H.howMany);const oe='same'==d.i(L.a)(ne.start.getParentPath(),H.getMovedRangeStart().getParentPath()),ie=ne._getTransformedByInsertion(H.getMovedRangeStart(),H.howMany,oe,Q);ee.push(...ie)}const ae=$.getIntersection(U);return null!==ae&&K&&!G&&(ae.start=ae.start._getCombined(H.sourcePosition,H.getMovedRangeStart()),ae.end=ae.end._getCombined(H.sourcePosition,H.getMovedRangeStart()),0===ee.length?ee.push(ae):1==ee.length?U.start.isBefore($.start)||U.start.isEqual($.start)?ee.unshift(ae):ee.push(ae):ee.splice(1,0,ae)),0===ee.length?[new M.a(q.baseVersion)]:C(ee,Y,q)}}}},function(r,s,d){'use strict';var u=d(6);class f extends u.a{constructor(h,w,T='main'){super(w),this._doc=h,this.rootName=T}get document(){return this._doc}is(h,w){return w?'rootElement'==h&&w==this.name||super.is(h,w):'rootElement'==h||super.is(h)}toJSON(){return this.rootName}}s.a=f},function(r,s,d){'use strict';function u(V,R,F){for(let N=F.length-1,I=R.length-1;0<=N&&0<=I;){const M=R[I];if(!V.hasItem(M))return!1;const D=V._extensionChains.get(M);if(D.includes(F[N]))N--,I--;else return!1}return!0}var f=d(1),h=d(6),w=d(70),T=d(12),C=d(151),P=d(0),E=d(3);class S{constructor(){this.objects=new Set,this.limits=new Set,this._items=new Map,this._extensionChains=new Map,this.registerItem('$root'),this.registerItem('$block'),this.registerItem('$inline'),this.registerItem('$text','$inline'),this.allow({name:'$block',inside:'$root'}),this.allow({name:'$inline',inside:'$block'}),this.limits.add('$root'),this.registerItem('$clipboardHolder','$root'),this.allow({name:'$inline',inside:'$clipboardHolder'})}allow(V){this._getItem(V.name).allow(S._normalizeQueryPath(V.inside),V.attributes)}disallow(V){this._getItem(V.name).disallow(S._normalizeQueryPath(V.inside),V.attributes)}requireAttributes(V,R){this._getItem(V).requireAttributes(R)}check(V){if(!this.hasItem(V.name))return!1;d.i(T.a)(V.attributes)?0===V.attributes.length&&V.attributes.push(void 0):V.attributes=[V.attributes];const R=S._normalizeQueryPath(V.inside),F=this._extensionChains.get(V.name).map((N)=>{return this._getItem(N)});if(!this._getItem(V.name)._checkRequiredAttributes(V.attributes))return!1;for(const N of V.attributes)for(const I of F)if(I._hasMatchingPath('disallow',R,N))return!1;for(const N of V.attributes){let I=!1;for(const M of F)if(M._hasMatchingPath('allow',R,N)){I=!0;break}if(!I)return!1}return!0}hasItem(V){return this._items.has(V)}registerItem(V,R){if(this.hasItem(V))throw new P.a('model-schema-item-exists: Item with specified name already exists in schema.');if(!!R&&!this.hasItem(R))throw new P.a('model-schema-no-item: Item with specified name does not exist in schema.');this._items.set(V,new O(this));const F=this.hasItem(R)?this._extensionChains.get(R).concat(V):[V];this._extensionChains.set(V,F)}itemExtends(V,R){if(!this.hasItem(V)||!this.hasItem(R))throw new P.a('model-schema-no-item: Item with specified name does not exist in schema.');const F=this._extensionChains.get(V);return F.some((N)=>N==R)}checkAttributeInSelection(V,R){if(V.isCollapsed)return this.check({name:'$text',inside:V.getFirstPosition(),attributes:R});const F=V.getRanges();for(const N of F)for(const I of N){const M=I.item.name||'$text';if(this.check({name:M,inside:I.previousPosition,attributes:R}))return!0}return!1}getValidRanges(V,R){const F=[];for(const N of V){let I=N.start,M=N.start;const D=N.end;for(const L of N.getWalker()){const z=L.item.name||'$text',q=f.a.createBefore(L.item);this.check({name:z,inside:q,attributes:R})||(!M.isEqual(I)&&F.push(new E.a(M,I)),M=L.nextPosition),I=L.nextPosition}M&&!M.isEqual(D)&&F.push(new E.a(M,D))}return F}getLimitElement(V){let R=Array.from(V.getRanges()).reduce((F,N)=>{return F?F.getCommonAncestor(N.getCommonAncestor()):N.getCommonAncestor()},null);for(;!this.limits.has(R.name)&&R.parent;)R=R.parent;return R}_getItem(V){if(!this.hasItem(V))throw new P.a('model-schema-no-item: Item with specified name does not exist in schema.');return this._items.get(V)}static _normalizeQueryPath(V){let R=[];if(d.i(T.a)(V))for(const F of V)F instanceof h.a?R.push(F.name):d.i(C.a)(F)&&R.push(F);else if(V instanceof f.a){for(let F=V.parent;null!==F;)R.push(F.name),F=F.parent;R.reverse()}else d.i(C.a)(V)&&(R=V.split(' '));return R}}s.a=S;class O{constructor(V){this._schema=V,this._allowed=[],this._disallowed=[],this._requiredAttributes=[]}allow(V,R){this._addPath('_allowed',V,R)}disallow(V,R){this._addPath('_disallowed',V,R)}requireAttributes(V){this._requiredAttributes.push(V)}toJSON(){const V=d.i(w.a)(this);return V._schema='[model.Schema]',V}_addPath(V,R,F){R=R.slice(),d.i(T.a)(F)||(F=[F]);for(const N of F)this[V].push({path:R,attribute:N})}_getPaths(V,R){const F='allow'===V?this._allowed:this._disallowed,N=[];for(const I of F)I.attribute===R&&N.push(I.path);return N}_checkRequiredAttributes(V){let R=!0;for(const F of this._requiredAttributes){R=!0;for(const N of F)if(-1==V.indexOf(N)){R=!1;break}if(R)break}return R}_hasMatchingPath(V,R,F){const N=this._getPaths(V,F);for(const I of N)if(u(this._schema,R,I))return!0;return!1}}},function(r,s,d){'use strict';var u=d(85),f=d(368),h=d(119),w=d(168),T=d(64),C=d(121),P=d(42),E=d(167),S=d(366),O=d(363),V=d(364),R=d(362),F=d(4),N=d(19);class I{constructor(){this.domRoots=new Map,this.selection=new u.a,this.domConverter=new h.a,this.roots=new Map,this.set('isReadOnly',!1),this.set('isFocused',!1),this.renderer=new f.a(this.domConverter,this.selection),this.renderer.bind('isFocused').to(this),this._observers=new Map,this.addObserver(E.a),this.addObserver(S.a),this.addObserver(O.a),this.addObserver(V.a),this.addObserver(R.a),d.i(T.h)(this),d.i(C.b)(this),this.decorate('render')}addObserver(M){let D=this._observers.get(M);if(D)return D;D=new M(this),this._observers.set(M,D);for(const[L,z]of this.domRoots)D.observe(z,L);return D.enable(),D}getObserver(M){return this._observers.get(M)}createRoot(M,D='main'){const L='string'==typeof M?M:M.tagName,z=new w.a(L.toLowerCase(),D);return z.document=this,this.roots.set(D,z),z.on('change:children',(q,H)=>this.renderer.markToSync('children',H)),z.on('change:attributes',(q,H)=>this.renderer.markToSync('attributes',H)),z.on('change:text',(q,H)=>this.renderer.markToSync('text',H)),this.domConverter.isElement(M)&&this.attachDomRoot(M,D),z}attachDomRoot(M,D='main'){const L=this.getRoot(D);this.domRoots.set(D,M),this.domConverter.bindElements(M,L),this.renderer.markToSync('children',L),this.renderer.domDocuments.add(M.ownerDocument);for(const z of this._observers.values())z.observe(M,D)}getRoot(M='main'){return this.roots.get(M)}getDomRoot(M='main'){return this.domRoots.get(M)}render(){this.disableObservers(),this.renderer.render(),this.enableObservers()}focus(){if(!this.isFocused){const M=this.selection.editableElement;M?(this.domConverter.focus(M),this.render()):P.a.warn('view-focus-no-selection: There is no selection in any editable to focus.')}}disableObservers(){for(const M of this._observers.values())M.disable()}enableObservers(){for(const M of this._observers.values())M.enable()}destroy(){for(const M of this._observers.values())M.destroy()}}s.a=I,d.i(F.a)(I,N.a)},function(r,s,d){'use strict';var u=d(65);class f extends u.a{constructor(h){super(h),this.domEventType='click'}onDomEvent(h){this.fire(h.type,h)}}s.a=f},function(r,s,d){'use strict';function u(P){return P==w.a.arrowright||P==w.a.arrowleft||P==w.a.arrowup||P==w.a.arrowdown}var f=d(54),h=d(85),w=d(24),T=d(209);class C extends f.a{constructor(P){super(P),this._fireSelectionChangeDoneDebounced=d.i(T.a)((E)=>this.document.fire('selectionChangeDone',E),200)}observe(){const P=this.document;P.on('keydown',(E,S)=>{const O=P.selection;O.isFake&&u(S.keyCode)&&this.isEnabled&&(S.preventDefault(),this._handleSelectionMove(S.keyCode))},{priority:'lowest'})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(P){const E=this.document.selection,S=h.a.createFromSelection(E);S.setFake(!1),(P==w.a.arrowleft||P==w.a.arrowup)&&S.collapseToStart(),(P==w.a.arrowright||P==w.a.arrowdown)&&S.collapseToEnd();const O={oldSelection:E,newSelection:S,domSelection:null};this.document.fire('selectionChange',O),this._fireSelectionChangeDoneDebounced(O)}}s.a=C},function(r,s,d){'use strict';var u=d(65);class f extends u.a{constructor(h){super(h),this.domEventType=['focus','blur'],this.useCapture=!0,h.on('focus',()=>{h.isFocused=!0,this._renderTimeoutId=setTimeout(()=>h.render(),0)}),h.on('blur',(w,T)=>{const C=h.selection.editableElement;(null===C||C===T.target)&&(h.isFocused=!1,h.render())})}onDomEvent(h){this.fire(h.type,h)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}s.a=f},function(r,s,d){'use strict';var u=d(65),f=d(24);class h extends u.a{constructor(w){super(w),this.domEventType=['keydown','keyup']}onDomEvent(w){this.fire(w.type,w,{keyCode:w.keyCode,altKey:w.altKey,ctrlKey:w.ctrlKey||w.metaKey,shiftKey:w.shiftKey,get keystroke(){return d.i(f.d)(this)}})}}s.a=h},function(r,s,d){'use strict';var u=d(65);class f extends u.a{constructor(h){super(h),this.domEventType='mousedown'}onDomEvent(h){this.fire(h.type,h)}}s.a=f},function(r,s,d){'use strict';var u=d(54),f=d(167),h=d(42),w=d(209);class T extends u.a{constructor(C){super(C),this.mutationObserver=C.getObserver(f.a),this.document=C,this.selection=C.selection,this.domConverter=C.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=d.i(w.a)((P)=>this.document.fire('selectionChangeDone',P),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._loopbackCounter=0}observe(C){const P=C.ownerDocument;this._documents.has(P)||(this.listenTo(P,'selectionchange',()=>{this._handleSelectionChange(P)}),this._documents.add(P))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(C){if(this.isEnabled&&(this.document.isFocused||this.document.isReadOnly)){this.mutationObserver.flush();const P=C.defaultView.getSelection(),E=this.domConverter.domSelectionToView(P);if(!(this.selection.isEqual(E)&&this.domConverter.isDomSelectionCorrect(P))){if(60<++this._loopbackCounter)return void h.a.warn('selectionchange-infinite-loop: Selection change observer detected an infinite rendering loop.');if(this.selection.isSimilar(E))this.document.render();else{const S={oldSelection:this.selection,newSelection:E,domSelection:P};this.document.fire('selectionChange',S),this._fireSelectionChangeDoneDebounced(S)}}}}_clearInfiniteLoop(){this._loopbackCounter=0}}s.a=T},function(r,s,d){'use strict';function f(R){const F=R.document;R.removeClass('ck-placeholder'),R.removeAttribute('data-placeholder'),V.has(F)&&V.get(F).delete(R)}function h(R){const F=V.get(R);for(const[N,I]of F)w(N,I)}function w(R,F){const N=R.document;if(N){const I=N.selection,M=I.anchor;if(F&&!F())return void R.removeClass('ck-placeholder');const D=!Array.from(R.getChildren()).some((L)=>!L.is('uiElement'));return!N.isFocused&&D?void R.addClass('ck-placeholder'):void(D&&M&&M.parent!==R?R.addClass('ck-placeholder'):R.removeClass('ck-placeholder'))}}s.a=function(R,F,N){const I=R.document;if(!I)throw new P.a('view-placeholder-element-is-detached: Provided element is not placed in document.');f(R),V.has(I)||(V.set(I,new Map),O.listenTo(I,'render',()=>h(I),{priority:'high'})),R.setAttribute('data-placeholder',F),V.get(I).set(R,N),w(R,N)};var T=d(50),C=d(9),P=d(0),E=d(309),S=d.n(E);const O={};d.i(T.a)(O,C.a);const V=new WeakMap},function(r,s,d){'use strict';var u=d(32),f=d(22),h=d(64),w=d(4),T=d(182),C=d(430),P=d(433),E=d(42),S=d(19),O=d(0);class V{constructor(R,F){this.domDocuments=new Set,this.domConverter=R,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=F,this._inlineFiller=null,this.isFocused=!1,this._fakeSelectionContainer=null}markToSync(R,F){if('text'===R)this.domConverter.mapViewToDom(F.parent)&&this.markedTexts.add(F);else{if(!this.domConverter.mapViewToDom(F))return;if('attributes'===R)this.markedAttributes.add(F);else if('children'===R)this.markedChildren.add(F);else throw new O.a('view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.')}}render(){let R;this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?R=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(R=this.selection.getFirstPosition(),this.markedChildren.add(R.parent));for(const F of this.markedTexts)!this.markedChildren.has(F.parent)&&this.domConverter.mapViewToDom(F.parent)&&this._updateText(F,{inlineFillerPosition:R});for(const F of this.markedAttributes)this._updateAttrs(F);for(const F of this.markedChildren)this._updateChildren(F,{inlineFillerPosition:R});if(R){const F=this.domConverter.viewPositionToDom(R),N=F.parent.ownerDocument;this._inlineFiller=d.i(h.b)(F.parent)?F.parent:this._addInlineFiller(N,F.parent,F.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_addInlineFiller(R,F,N){const I=F instanceof Array?F:F.childNodes,M=I[N];if(this.domConverter.isText(M))return M.data=h.i+M.data,M;const D=R.createTextNode(h.i);return Array.isArray(F)?I.splice(N,0,D):d.i(C.a)(F,N,D),D}_getInlineFillerPosition(){const R=this.selection.getFirstPosition();return R.parent.is('text')?f.a.createBefore(this.selection.getFirstPosition().parent):R}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const R=this.selection.getFirstPosition(),F=this.domConverter.viewPositionToDom(R);return F&&this.domConverter.isText(F.parent)&&d.i(h.b)(F.parent)}_removeInlineFiller(){const R=this._inlineFiller;if(!d.i(h.b)(R))throw new O.a('view-renderer-filler-was-lost: The inline filler node was lost.');d.i(h.e)(R)?R.parentNode.removeChild(R):R.data=R.data.substr(h.c),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const R=this.selection.getFirstPosition(),F=R.parent,N=R.offset;if(!this.domConverter.mapViewToDom(F.root))return!1;if(!F.is('element'))return!1;if(N===F.getFillerOffset())return!1;const I=R.nodeBefore,M=R.nodeAfter;return I instanceof u.a||M instanceof u.a?!1:!0}_updateText(R,F){const N=this.domConverter.findCorrespondingDomText(R),I=this.domConverter.viewToDom(R,N.ownerDocument),M=N.data;let D=I.data;const L=F.inlineFillerPosition;L&&L.parent==R.parent&&L.offset==R.index&&(D=h.i+D),M!=D&&(N.data=D)}_updateAttrs(R){const F=this.domConverter.mapViewToDom(R),N=Array.from(F.attributes).map((M)=>M.name),I=R.getAttributeKeys();for(const M of I)F.setAttribute(M,R.getAttribute(M));for(const M of N)R.hasAttribute(M)||F.removeAttribute(M)}_updateChildren(R,F){function N(U,K){if(U===K)return!0;return I.isText(U)&&I.isText(K)?U.data===K.data:d.i(h.d)(U,I.blockFiller)&&d.i(h.d)(K,I.blockFiller)}const I=this.domConverter,M=I.mapViewToDom(R);if(M){const D=M.ownerDocument,L=F.inlineFillerPosition,z=M.childNodes,q=Array.from(I.viewChildrenToDom(R,D,{bind:!0}));L&&L.parent==R&&this._addInlineFiller(D,q,L.offset);const H=d.i(T.a)(z,q,N);let W=0;const $=new Set;for(const U of H)'insert'===U?(d.i(C.a)(M,W,q[W]),W++):'delete'===U?($.add(z[W]),d.i(P.a)(z[W])):W++;for(const U of $)U.parentNode||this.domConverter.unbindDomElement(U)}}_updateSelection(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const R=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&R&&(this.selection.isFake?this._updateFakeSelection(R):(this._removeFakeSelection(),this._updateDomSelection(R)))}_updateFakeSelection(R){const F=R.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=F.createElement('div'),this._fakeSelectionContainer.style.position='fixed',this._fakeSelectionContainer.style.top=0,this._fakeSelectionContainer.style.left='-9999px',this._fakeSelectionContainer.appendChild(F.createTextNode('\xA0'))),this._fakeSelectionContainer.parentElement||R.appendChild(this._fakeSelectionContainer);const N=this.selection.fakeSelectionLabel||'\xA0';this._fakeSelectionContainer.firstChild.data=N;const I=F.getSelection();I.removeAllRanges();const M=F.createRange();M.selectNodeContents(this._fakeSelectionContainer),I.addRange(M),this.domConverter.bindFakeSelection(this._fakeSelectionContainer,this.selection)}_updateDomSelection(R){const F=R.ownerDocument.defaultView.getSelection();if(this._domSelectionNeedsUpdate(F)){const N=this.domConverter.viewPositionToDom(this.selection.anchor),I=this.domConverter.viewPositionToDom(this.selection.focus);F.collapse(N.parent,N.offset),F.extend(I.parent,I.offset)}}_domSelectionNeedsUpdate(R){if(!this.domConverter.isDomSelectionCorrect(R))return!0;const F=R&&this.domConverter.domSelectionToView(R);if(F&&this.selection.isEqual(F))return!1;if(!this.selection.isCollapsed&&this.selection.isSimilar(F)){const N={oldSelection:F,currentSelection:this.selection};return E.a.warn('renderer-skipped-selection-rendering: The selection was not rendered due to its similarity to the current one.',N),!1}return!0}_removeDomSelection(){for(const R of this.domDocuments){const F=R.getSelection();if(F.rangeCount){const N=R.activeElement,I=this.domConverter.mapDomToView(N);N&&I&&R.getSelection().removeAllRanges()}}}_removeFakeSelection(){const R=this._fakeSelectionContainer;R&&R.remove()}_updateFocus(){if(this.isFocused){const R=this.selection.editableElement;R&&this.domConverter.focus(R)}}}s.a=V,d.i(w.a)(V,S.a)},function(r,s,d){'use strict';var u=d(0);class f{constructor(h,w,T){if(this.textNode=h,0>w||w>h.data.length)throw new u.a('view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>T||w+T>h.data.length)throw new u.a('view-textproxy-wrong-length: Given length value is incorrect.');this.data=h.data.substring(w,w+T),this.offsetInText=w}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(h){return'textProxy'==h}getAncestors(h={includeSelf:!1,parentFirst:!1}){const w=[];for(let T=h.includeSelf?this.textNode:this.parent;null!==T;)w[h.parentFirst?'push':'unshift'](T),T=T.parent;return w}}s.a=f},function(r,s,d){'use strict';var u=d(2),f=d(371),h=d(372);class w extends u.a{static get pluginName(){return'Enter'}init(){const T=this.editor,C=T.editing.view;C.addObserver(h.a),T.commands.add('enter',new f.a(T)),this.listenTo(C,'enter',(P,E)=>{T.execute('enter'),E.preventDefault()},{priority:'low'})}}s.a=w},function(r,s,d){'use strict';function u(C,P,E,S){const O=E.isCollapsed,V=E.getFirstRange(),R=V.start.parent,F=V.end.parent;if(S.limits.has(R.name)||S.limits.has(F.name))return void(O||R!=F||C.deleteContent(E,P));if(O)f(P,E,V.start);else{const N=!(V.start.isAtStart&&V.end.isAtEnd);C.deleteContent(E,P,{leaveUnmerged:N}),N&&(R==F?f(P,E,E.focus):E.collapse(F))}}function f(C,P,E){if(E.isAtEnd){const S=E.parent,O=new S.constructor(S.name,S.getAttributes());C.insert(w.a.createAfter(E.parent),O)}else C.split(E);P.collapse(E.parent.nextSibling)}var h=d(11),w=d(1);class T extends h.a{execute(){const C=this.editor.document,P=C.batch();C.enqueueChanges(()=>{u(this.editor.data,P,C.selection,C.schema),this.fire('afterExecute',{batch:P})})}}s.a=T},function(r,s,d){'use strict';var u=d(54),f=d(120),h=d(24);class w extends u.a{constructor(T){super(T),T.on('keydown',(C,P)=>{this.isEnabled&&P.keyCode==h.a.enter&&T.fire('enter',new f.a(T,P.domEvent))})}observe(){}}s.a=w},function(r,s,d){'use strict';function u(C,P,E){return E.check({name:P,inside:h.a.createBefore(C)})}var f=d(11),h=d(1),w=d(66);class T extends f.a{constructor(C,P){super(C),this.modelElement=P}refresh(){const C=d.i(w.a)(this.editor.document.selection.getSelectedBlocks());this.value=!!C&&C.is(this.modelElement),this.isEnabled=!!C&&u(C,this.modelElement,this.editor.document.schema)}execute(C={}){const P=this.editor,E=P.document;E.enqueueChanges(()=>{const S=C.batch||E.batch(),O=Array.from(E.selection.getSelectedBlocks()).filter((V)=>{return u(V,this.modelElement,E.schema)});for(const V of O)V.is(this.modelElement)||S.rename(V,this.modelElement)})}}s.a=T},function(r,s,d){'use strict';var u=d(2),f=d(43),h=d(34),w=d(73),T=d(373);const C='paragraph';class P extends u.a{constructor(E){super(E),E.config.define('heading',{options:[{modelElement:'paragraph',title:'Paragraph',class:'ck-heading_paragraph'},{modelElement:'heading1',viewElement:'h2',title:'Heading 1',class:'ck-heading_heading1'},{modelElement:'heading2',viewElement:'h3',title:'Heading 2',class:'ck-heading_heading2'},{modelElement:'heading3',viewElement:'h4',title:'Heading 3',class:'ck-heading_heading3'}]})}static get requires(){return[w.a]}init(){const E=this.editor,S=E.data,O=E.editing,V=E.config.get('heading.options');for(const R of V)R.modelElement!==C&&(E.document.schema.registerItem(R.modelElement,'$block'),d.i(f.a)().for(S.modelToView,O.modelToView).fromElement(R.modelElement).toElement(R.viewElement),d.i(h.a)().for(S.viewToModel).fromElement(R.viewElement).toElement(R.modelElement),E.commands.add(R.modelElement,new T.a(E,R.modelElement)))}afterInit(){const E=this.editor,S=E.commands.get('enter'),O=E.config.get('heading.options');S&&this.listenTo(S,'afterExecute',(V,R)=>{const F=E.document.selection.getFirstPosition().parent,N=R.batch,I=O.some((M)=>F.is(M.modelElement));I&&!F.is(C)&&0===F.childCount&&N.rename(F,C)})}}s.a=P},function(r,s,d){'use strict';function h(V){return(R,F,N,I)=>{const M=R.name.split(':'),D=M[0]+':'+M[1];if(N.consume(F.item,D)){const L=I.mapper.toViewElement(F.item),z=L.getChild(0),q=M[0];'removeAttribute'==q?z.removeAttribute(F.attributeKey):z.setAttribute(F.attributeKey,F.attributeNewValue),V&&V(z,q)}}}function T(V,R,F){R=R.slice();for(const N={name:V.name,attributes:V.attributes,inside:R};R.length&&!F.check(N);){const I=R.pop(),M='string'==typeof I?I:I.name;if(F.limits.has(M))return null}return R.length?R:null}s.d=function(){return(V,R,F,N)=>{if(F.test(R.input,{name:!0,class:'image'})&&N.schema.check({name:'image',inside:R.context,attributes:'src'})){const I=Array.from(R.input.getChildren()).find((L)=>L.is('img'));if(I&&I.hasAttribute('src')&&F.test(I,{name:!0})){const M=N.convertItem(I,F,R);R.context.push(M);const D=N.convertChildren(R.input,F,R);R.context.pop(),S.a.insert(P.a.createAt(M),D),R.output=M}}}},s.a=function(V,R,F){for(const N of V)N.on(`addAttribute:${R}:image`,h(F)),N.on(`changeAttribute:${R}:image`,h(F)),N.on(`removeAttribute:${R}:image`,h(F))},s.b=function(V,R,F,N){const I=R.input;if(F.test(I,{name:!0,attribute:['src']})){const M=T({name:'image',attributes:['src']},R.context,N.schema);if(M){const D=Object.assign({},R);D.context=M,R.output=N.convertItem(I,F,D),O.add(R.output)}}},s.c=function(V,R){if(R.output&&R.output.is('element')){const F=[];for(let N=R.output.childCount-1;0<=N;N--){const I=R.output.getChild(N);if(O.has(I)){const M=R.output.childCount-N-1;let D=null;0<M&&(D=R.output.clone(!1),D.appendChildren(R.output.removeChildren(N+1,M))),I.remove(),F.shift(),D&&F.unshift(D),F.unshift(I),0<R.output.childCount&&F.unshift(R.output)}}F.length&&(R.output=new E.a(F))}};var P=d(1),E=d(35),S=d(21);const O=new WeakSet},function(r,s,d){'use strict';function u(D,L,z,q){if('insert'===L){const H=new C.a({boundaries:z.range,ignoreElementEnd:!0});for(const W of H){const $=W.item;'elementStart'==W.type&&d.i(N.b)($)&&!d.i(I.c)($)&&q.document.enqueueChanges(()=>{d.i(I.c)($)||q.insert(V.a.createAt($,'end'),new P.a('caption'))})}}}function f(D,L=!0){return(z,q,H,W)=>{const $=q.item;if(($.childCount||L)&&d.i(N.b)($.parent)){if(!H.consume(q.item,'insert'))return;const U=W.mapper.toViewElement(q.range.start.parent),K=D instanceof S.a?D.clone(!0):D();$.childCount||K.addClass('ck-hidden'),h(K,q.item,U,W.mapper)}}}function h(D,L,z,q){const H=R.a.createAt(z,'end');O.a.insert(H,D),q.bindElements(L,D)}function w(D){const L=D.getAncestors({includeSelf:!0}),z=L.find((q)=>'caption'==q.name);return z&&z.parent&&'image'==z.parent.name?z:null}var T=d(2),C=d(53),P=d(6),E=d(45),S=d(28),O=d(86),V=d(1),R=d(22),F=d(34),N=d(39),I=d(377);class M extends T.a{init(){const D=this.editor,L=D.document,z=D.editing.view,q=L.schema,H=D.data,W=D.editing,$=D.t;this._createCaption=d.i(I.a)(z,$('Enter image caption')),q.registerItem('caption','$block'),q.allow({name:'$inline',inside:'caption'}),q.allow({name:'caption',inside:'image'}),q.limits.add('caption'),L.on('change',u),d.i(F.a)().for(H.viewToModel).from(I.b).toElement('caption'),H.modelToView.on('insert:caption',f(new E.a('figcaption'),!1)),W.modelToView.on('insert:caption',f(this._createCaption)),W.modelToView.on('insert',(U,K)=>this._fixCaptionVisibility(K.item),{priority:'high'}),W.modelToView.on('remove',(U,K)=>this._fixCaptionVisibility(K.sourcePosition.parent),{priority:'high'}),this.listenTo(z,'render',()=>this._updateCaptionVisibility(),{priority:'high'})}_updateCaptionVisibility(){const D=this.editor.editing.mapper,L=this.editor.editing.view.selection,z=L.getSelectedElement();let q;if(this._lastSelectedCaption&&!this._lastSelectedCaption.childCount&&this._lastSelectedCaption.addClass('ck-hidden'),z&&d.i(N.a)(z)){const H=D.toModelElement(z),W=d.i(I.c)(H);q=D.toViewElement(W)}d.i(I.d)(L.editableElement)&&(q=L.editableElement),q&&(q.removeClass('ck-hidden'),this._lastSelectedCaption=q)}_fixCaptionVisibility(D){const L=w(D),z=this.editor.editing.mapper;if(L){const q=z.toViewElement(L);q&&(L.childCount?q.removeClass('ck-hidden'):q.addClass('ck-hidden'))}}}s.a=M},function(r,s,d){'use strict';s.a=function(O,V){return()=>{const R=new C.a('figcaption');return R.document=O,R.setCustomProperty(S,!0),d.i(P.a)(R,V),d.i(E.c)(R)}},s.d=function(O){return!!O.getCustomProperty(S)},s.c=function(O){for(const V of O.getChildren())if(V instanceof T.a&&'caption'==V.name)return V;return null},s.b=function(O){const V=O.parent;return'figcaption'==O.name&&V&&'figure'==V.name&&V.hasClass('image')?{name:!0}:null};var T=d(6),C=d(83),P=d(367),E=d(155);const S=Symbol('imageCaption')},function(r,s,d){'use strict';function h(E,S,O,V){const R=S.input,F=S.output;if(O.test(R,{class:E.className})&&d.i(P.b)(F)){const N=[...F.getAttributeKeys(),'imageStyle'];V.schema.check({name:'image',inside:S.context,attributes:N})&&(O.consume(R,{class:E.className}),F.setAttribute('imageStyle',E.value))}}function w(E,S){for(const O of S)if(O.value===E)return O}function T(E,S,O){return S&&('changeAttribute'==E||'removeAttribute'==E)&&(O.removeClass(S.className),!0)}function C(E,S,O){return S&&('addAttribute'==E||'changeAttribute'==E)&&(O.addClass(S.className),!0)}s.a=function(E){return(S,O,V,R)=>{const F=S.name.split(':')[0],N=F+':imageStyle';if(V.test(O.item,N)){const I=w(O.attributeNewValue,E),M=w(O.attributeOldValue,E),D=R.mapper.toViewElement(O.item);(T(F,M,D)||C(F,I,D))&&V.consume(O.item,N)}}},s.b=function(E){const S=E.filter((O)=>null!==O.value);return(O,V,R,F)=>{for(const N of S)h(N,V,R,F)}};var P=d(39)},function(r,s,d){'use strict';var u=d(11),f=d(39);class h extends u.a{constructor(w,T){super(w),this.style=T}refresh(){const w=this.editor.document.selection.getSelectedElement();this.isEnabled=d.i(f.b)(w),this.value=!!w&&(null===this.style.value?!w.hasAttribute('imageStyle'):w.getAttribute('imageStyle')==this.style.value)}execute(w={}){if(this.value)return;const T=this.editor.document,C=T.selection.getSelectedElement();T.enqueueChanges(()=>{const P=w.batch||T.batch();P.setAttribute(C,'imageStyle',this.style.value)})}}s.a=h},function(r,s,d){'use strict';var u=d(2),f=d(379),h=d(169),w=d(378),T=d(297),C=d.n(T),P=d(298),E=d.n(P);class S extends u.a{static get requires(){return[h.a]}init(){const O=this.editor,V=O.t,R=O.document,F=R.schema,N=O.data,I=O.editing;O.config.define('image.styles',[{name:'imageStyleFull',title:V('Full size image'),icon:C.a,value:null},{name:'imageStyleSide',title:V('Side image'),icon:E.a,value:'side',className:'image-style-side'}]);const M=O.config.get('image.styles');F.allow({name:'image',attributes:'imageStyle',inside:'$root'});const D=d.i(w.a)(M);I.modelToView.on('addAttribute:imageStyle:image',D),N.modelToView.on('addAttribute:imageStyle:image',D),I.modelToView.on('changeAttribute:imageStyle:image',D),N.modelToView.on('changeAttribute:imageStyle:image',D),I.modelToView.on('removeAttribute:imageStyle:image',D),N.modelToView.on('removeAttribute:imageStyle:image',D),N.viewToModel.on('element:figure',d.i(w.b)(M),{priority:'low'});for(const L of M)O.commands.add(L.name,new f.a(O,L))}}s.a=S},function(r,s,d){'use strict';var u=d(2),f=d(23),h=d(383),w=d(174),T=d(384),C=d(123),P=d(296),E=d.n(P),S=d(170),O=d(312),V=d.n(O);class R extends u.a{static get requires(){return[h.a,C.a]}static get pluginName(){return'ImageTextAlternative'}init(){this._createButton(),this._createForm()}_createButton(){const F=this.editor,N=F.commands.get('imageTextAlternative'),I=F.t;F.ui.componentFactory.add('imageTextAlternative',(M)=>{const D=new f.a(M);return D.set({label:I('Change image text alternative'),icon:E.a,tooltip:!0}),D.bind('isEnabled').to(N,'isEnabled'),this.listenTo(D,'execute',()=>this._showForm()),D})}_createForm(){const F=this.editor,N=F.editing.view;this._balloon=this.editor.plugins.get('ContextualBalloon'),this._form=new T.a(F.locale),this.listenTo(this._form,'submit',()=>{F.execute('imageTextAlternative',{newValue:this._form.labeledInput.inputView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,'cancel',()=>{this._hideForm(!0)}),this._form.keystrokes.set('Esc',(I,M)=>{this._hideForm(!0),M()}),this.listenTo(N,'render',()=>{this._isVisible&&d.i(S.a)(F)},{priority:'low'}),this.listenTo(F.ui.focusTracker,'change:isFocused',(I,M,D)=>{D||this._hideForm()},{priority:'low'}),d.i(w.a)({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._form.element],callback:()=>this._hideForm()})}_showForm(){if(!this._isVisible){const F=this.editor,N=F.commands.get('imageTextAlternative'),I=this._form.labeledInput;this._balloon.hasView(this._form)||this._balloon.add({view:this._form,position:d.i(S.b)(F)}),I.value=I.inputView.element.value=N.value||'',this._form.labeledInput.select()}}_hideForm(F){this._isVisible&&(this._balloon.remove(this._form),F&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView==this._form}}s.a=R},function(r,s,d){'use strict';var u=d(11),f=d(39);class h extends u.a{refresh(){const w=this.editor.document.selection.getSelectedElement();this.isEnabled=d.i(f.b)(w),this.value=d.i(f.b)(w)&&w.hasAttribute('alt')&&w.getAttribute('alt')}execute(w){const T=this.editor.document,C=T.selection.getSelectedElement();T.enqueueChanges(()=>{const P=w.batch||T.batch();P.setAttribute(C,'alt',w.newValue)})}}s.a=h},function(r,s,d){'use strict';var u=d(382),f=d(2);class h extends f.a{init(){this.editor.commands.add('imageTextAlternative',new u.a(this.editor))}}s.a=h},function(r,s,d){'use strict';var u=d(7),f=d(23),h=d(5),w=d(178),T=d(177),C=d(176),P=d(48);class E extends u.a{constructor(S){super(S);const O=this.locale.t;this.keystrokes=new P.a,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(O('Save')),this.saveButtonView.type='submit',this.cancelButtonView=this._createButton(O('Cancel'),'cancel'),h.a.extend(this.saveButtonView.template,{attributes:{class:['ck-button-action']}}),this.template=new h.a({tag:'form',attributes:{class:['cke-text-alternative-form']},children:[this.labeledInput,{tag:'div',attributes:{class:['cke-text-alternative-form__actions']},children:[this.saveButtonView,this.cancelButtonView]}]}),d.i(C.a)({view:this})}init(){super.init(),this.keystrokes.listenTo(this.element)}_createButton(S,O){const V=new f.a(this.locale);return V.label=S,V.withText=!0,O&&V.delegate('execute').to(this,O),V}_createLabeledInputView(){const S=this.locale.t,O=new w.a(this.locale,T.a);return O.label=S('Text alternative'),O}}s.a=E},function(r,s,d){'use strict';var u=d(11),f=d(27),h=d(3),w=d(171);class T extends u.a{refresh(){const C=this.editor.document;this.value=C.selection.getAttribute('linkHref'),this.isEnabled=C.schema.checkAttributeInSelection(C.selection,'linkHref')}execute(C){const P=this.editor.document,E=P.selection;P.enqueueChanges(()=>{const S=P.batch();if(E.isCollapsed){const O=E.getFirstPosition();if(E.hasAttribute('linkHref')){const V=d.i(w.a)(E.getFirstPosition(),E.getAttribute('linkHref'));S.setAttribute(V,'linkHref',C),E.setRanges([V])}else{const V=new f.a(C,{linkHref:C});S.insert(O,V),E.setRanges([h.a.createOn(V)])}}else{const O=P.schema.getValidRanges(E.getRanges(),'linkHref');for(const V of O)S.setAttribute(V,'linkHref',C)}})}}s.a=T},function(r,s,d){'use strict';var u=d(2),f=d(43),h=d(34),w=d(172),T=d(385),C=d(388);class P extends u.a{init(){const E=this.editor,S=E.data,O=E.editing;E.document.schema.allow({name:'$inline',attributes:'linkHref',inside:'$block'}),E.document.schema.allow({name:'$inline',attributes:'linkHref',inside:'$clipboardHolder'}),d.i(f.a)().for(S.modelToView,O.modelToView).fromAttribute('linkHref').toElement((V)=>{const R=new w.a('a',{href:V});return R.priority=5,R}),d.i(h.a)().for(S.viewToModel).from({name:'a',attribute:{href:/.?/}}).toAttribute((V)=>({key:'linkHref',value:V.getAttribute('href')})),E.commands.add('link',new T.a(E)),E.commands.add('unlink',new C.a(E))}}s.a=P},function(r,s,d){'use strict';var u=d(7),f=d(5),h=d(124),w=d(23),T=d(178),C=d(177),P=d(176),E=d(67),S=d(122),O=d(48);class V extends u.a{constructor(R){super(R);const F=R.t;this.focusTracker=new E.a,this.keystrokes=new O.a,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(F('Save')),this.saveButtonView.type='submit',this.cancelButtonView=this._createButton(F('Cancel'),'cancel'),this.unlinkButtonView=this._createButton(F('Unlink'),'unlink'),this._focusables=new h.a,this._focusCycler=new S.a({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:'shift + tab',focusNext:'tab'}}),f.a.extend(this.saveButtonView.template,{attributes:{class:['ck-button-action']}}),this.template=new f.a({tag:'form',attributes:{class:['ck-link-form'],tabindex:'-1'},children:[this.urlInputView,{tag:'div',attributes:{class:['ck-link-form__actions']},children:[this.saveButtonView,this.cancelButtonView,this.unlinkButtonView]}]}),d.i(P.a)({view:this});const N=[this.urlInputView,this.saveButtonView,this.cancelButtonView,this.unlinkButtonView];N.forEach((I)=>{this._focusables.add(I),this.focusTracker.add(I.element)})}init(){return this.keystrokes.listenTo(this.element),super.init()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const R=this.locale.t,F=new T.a(this.locale,C.a);return F.label=R('Link URL'),F.inputView.placeholder='https://example.com',F}_createButton(R,F){const N=new w.a(this.locale);return N.label=R,N.withText=!0,F&&N.delegate('execute').to(this,F),N}}s.a=V},function(r,s,d){'use strict';var u=d(11),f=d(171);class h extends u.a{refresh(){this.isEnabled=this.editor.document.selection.hasAttribute('linkHref')}execute(){const w=this.editor.document,T=w.selection;w.enqueueChanges(()=>{const C=T.isCollapsed?[d.i(f.a)(T.getFirstPosition(),T.getAttribute('linkHref'))]:T.getRanges(),P=w.batch();for(const E of C)P.removeAttribute(E,'linkHref')})}}s.a=h},function(r,s,d){'use strict';function F(te,ae,ne){let oe=te.nodeAfter;oe&&'listItem'==oe.name&&ae.enqueueChanges(()=>{const ie=oe.previousSibling,re=ie&&ie.is('listItem')?ie.getAttribute('indent')+1:0;let se=oe.getAttribute('indent')-re;const le=[];for(;oe&&'listItem'==oe.name&&oe.getAttribute('indent')>re;){se>oe.getAttribute('indent')&&(se=oe.getAttribute('indent'));const de=oe.getAttribute('indent')-se;le.push({item:oe,indent:de}),oe=oe.nextSibling}if(0<le.length)for(const de of le.reverse())ne.setAttribute(de.item,'indent',de.indent)})}function N(te,ae,ne,oe){let ie=te[ae?'nodeBefore':'nodeAfter'];ie&&ie.is('listItem')&&0!==ie.getAttribute('indent')&&ne.enqueueChanges(()=>{const re=H(ie,!ae);if(re&&re!=ie)for(const se=re.getAttribute('indent'),le=re.getAttribute('type');ie&&ie.is('listItem')&&ie.getAttribute('indent')>=se;)ie.getAttribute('type')!=le&&ie.getAttribute('indent')==se&&oe.setAttribute(ie,'type',le),ie=ie[ae?'previousSibling':'nextSibling']})}function M(te,ae){const ne='numbered'==te.getAttribute('type')?'ol':'ul',oe=new $.a,ie=new Y.a(ne,null);return ie.appendChildren(oe),ae.bindElements(te,oe),oe}function D(te,ae){const ne=ae.getNext?'nextSibling':'previousSibling',oe=ae.getNext?'nodeAfter':'nodeBefore',ie=!!ae.checkAllSiblings,re=!!ae.sameIndent,se=!!ae.biggerIndent,le=!!ae.smallerIndent,de=!!ae.isMapped,ce=te instanceof K.a?te.getAttribute('indent'):ae.indent;for(let ue=te instanceof K.a?te[ne]:te[oe];ue&&'listItem'==ue.name;){const me=ue.getAttribute('indent');if(re&&ce==me||se&&ce<me||le&&ce>me){if(!de||ae.mapper.toViewElement(ue))return ue;ue=ue[ne];continue}if(!ie)return null;ue=ue[ne]}return null}function L(te,ae){return te&&ae&&('ul'==te.name||'ol'==te.name)&&te.name==ae.name?ee.a.mergeContainers(G.a.createAfter(te)):null}function z(te,ae,ne,oe){const ie=ae.parent;let re,se=D(te,{sameIndent:!0,smallerIndent:!0,checkAllSiblings:!0});if(se&&se.getAttribute('indent')==te.getAttribute('indent')){const de=ne.toViewElement(se);re=ee.a.breakContainer(G.a.createAfter(de))}else se=te.previousSibling,re=se&&'listItem'==se.name?se.getAttribute('indent')<te.getAttribute('indent')?ne.toViewPosition(Q.a.createAt(se,'end')):oe.parent.is('ul')||oe.parent.is('ol')?ee.a.breakContainer(oe):oe:ne.toViewPosition(Q.a.createBefore(te));re=W(re),ee.a.insert(re,ie);const le=D(te,{biggerIndent:!0,getNext:!0,isMapped:!0,mapper:ne});if(le){const de=ne.toViewElement(le);ee.a.breakContainer(G.a.createBefore(de));const ce=G.a.createBefore(de.parent),ue=H(le,!1),me=ne.toViewElement(ue),pe=ee.a.breakContainer(G.a.createAfter(me)),ge=new X.a(ce,pe),fe=G.a.createAt(ae,'end');ee.a.move(ge,fe)}L(ie,ie.nextSibling),L(ie.previousSibling,ie)}function q(te,ae,ne,oe,ie){const re=D(ae,{sameIndent:!0,smallerIndent:!0,checkAllSiblings:!0,indent:te}),se=re?re.getAttribute('indent'):null;let le;if(!re)le=ne;else if(se==te){const de=ie.toViewElement(re).parent;le=G.a.createAfter(de)}else{const de=Q.a.createAt(re,'end');le=ie.toViewPosition(de)}le=W(le);for(const de of[...oe.getChildren()])(de.is('ul')||de.is('ol'))&&(le=ee.a.move(X.a.createOn(de),le).end,L(de,de.nextSibling),L(de.previousSibling,de))}function H(te,ae){const ne=te.getAttribute('indent'),oe=ae?'previousSibling':'nextSibling';let ie=te;for(;te[oe]&&te[oe].is('listItem')&&te[oe].getAttribute('indent')>=ne;)te=te[oe],te.getAttribute('indent')==ne&&(ie=te);return ie}function W(te){return te.getLastMatchingPosition((ae)=>ae.item.is('uiElement'))}s.e=function(te,ae,ne,oe){if(ne.test(ae.item,'insert')&&ne.test(ae.item,'addAttribute:type')&&ne.test(ae.item,'addAttribute:indent')){ne.consume(ae.item,'insert'),ne.consume(ae.item,'addAttribute:type'),ne.consume(ae.item,'addAttribute:indent');const ie=ae.item,re=M(ie,oe.mapper),se=oe.mapper.toViewPosition(Q.a.createBefore(ie));z(ie,re,oe.mapper,se)}},s.f=function(te,ae,ne,oe){if(!ne.consume(ae.item,'changeAttribute:type'))return;const ie=oe.mapper.toViewElement(ae.item);ee.a.breakContainer(G.a.createBefore(ie)),ee.a.breakContainer(G.a.createAfter(ie));let re=ie.parent;const se='numbered'==ae.attributeNewValue?'ol':'ul';re=ee.a.rename(re,se),L(re,re.nextSibling),L(re.previousSibling,re)},s.g=function(te,ae,ne,oe){if(ne.consume(ae.item,'remove')){const ie=oe.mapper.toViewPosition(ae.sourcePosition),re=ie.nodeAfter.is('li')?ie.nodeAfter:ie.nodeAfter.getChild(0);ee.a.breakContainer(G.a.createBefore(re)),ee.a.breakContainer(G.a.createAfter(re));const se=re.parent,le=se.previousSibling,de=X.a.createOn(se);ee.a.remove(de),le&&le.nextSibling&&L(le,le.nextSibling),q(ae.item.getAttribute('indent')+1,ae.sourcePosition,de.start,re,oe.mapper),'$graveyard'==ae.item.root.rootName&&oe.mapper.unbindModelElement(ae.item)}},s.i=function(te,ae,ne,oe){if(!ne.consume(ae.item,'changeAttribute:indent'))return;const ie=oe.mapper.toViewElement(ae.item);ee.a.breakContainer(G.a.createBefore(ie)),ee.a.breakContainer(G.a.createAfter(ie));const re=ie.parent,se=re.previousSibling,le=X.a.createOn(re);ee.a.remove(le);let de;se&&se.nextSibling&&(de=L(se,se.nextSibling)),de||(de=le.start),q(ae.attributeOldValue+1,ae.range.start,le.start,ie,oe.mapper),z(ae.item,ie,oe.mapper,de)},s.d=function(te,ae,ne,oe){if('listItem'!=ae.item.name){let ie=oe.mapper.toViewPosition(ae.range.start);const re=[];for(;('ul'==ie.parent.name||'ol'==ie.parent.name)&&(ie=ee.a.breakContainer(ie),'li'==ie.parent.name);){const se=ie,le=G.a.createAt(ie.parent,'end');if(!se.isEqual(le)){const de=ee.a.remove(new X.a(se,le));re.push(de)}ie=G.a.createAfter(ie.parent)}if(0<re.length){for(let se=0;se<re.length;se++){const le=ie.nodeBefore,de=ee.a.insert(ie,re[se]);if(ie=de.end,0<se){const ce=L(le,le.nextSibling);ce&&ce.parent==le&&ie.offset--}}L(ie.nodeBefore,ie.nodeAfter)}}},s.h=function(te,ae,ne,oe){if(!ae.item.is('listItem')){const ie=oe.mapper.toViewPosition(ae.sourcePosition),re=ie.nodeBefore,se=ie.nodeAfter;L(re,se)}},s.l=function(te,ae,ne,oe){if(ne.consume(ae.input,{name:!0})){const ie=new K.a('listItem');ae.indent=ae.indent?ae.indent:0;const re='ul'==ae.input.parent.name?'bulleted':'numbered';ie.setAttribute('type',re),ie.setAttribute('indent',ae.indent),ae.context.push(ie),ae.indent++;const se=new U.a;se.appendChildren(ie);for(const le of ae.input.getChildren()){const de=oe.convertItem(le,ne,ae);'ul'==le.name||'ol'==le.name?se.appendChildren(Array.from(de.getChildren())):J.a.insert(Q.a.createAt(ie,'end'),de)}ae.indent--,ae.context.pop(),ae.output=se}},s.j=function(te,ae,ne){if(ne.test(ae.input,{name:!0})){const oe=Array.from(ae.input.getChildren());for(const ie of oe)ie.is('li')||ie.remove()}},s.k=function(te,ae,ne){if(ne.test(ae.input,{name:!0})){if(0===ae.input.childCount)return;const oe=[...ae.input.getChildren()];let ie=!1,re=!0;for(const se of oe)!ie||se.is('ul')||se.is('ol')||se.remove(),se.is('text')?(re&&(se.data=se.data.replace(/^\s+/,'')),(!se.nextSibling||se.nextSibling.is('ul')||se.nextSibling.is('ol'))&&(se.data=se.data.replace(/\s+$/,''))):(se.is('ul')||se.is('ol'))&&(ie=!0),re=!1}},s.b=function(te,ae){const ne=ae.modelPosition.nodeBefore;if(ne&&ne.is('listItem')){const oe=ae.mapper.toViewElement(ne),ie=oe.getAncestors().find((se)=>se.is('ul')||se.is('ol')),re=new Z.a({startPosition:G.a.createAt(oe,0)});for(const se of re)if('elementStart'==se.type&&se.item.is('li')){ae.viewPosition=se.previousPosition;break}else if('elementEnd'==se.type&&se.item==ie){ae.viewPosition=se.nextPosition;break}}},s.c=function(te,ae){const ne=ae.viewPosition,oe=ne.parent,ie=ae.mapper;if('ul'==oe.name||'ol'==oe.name){if(!ne.isAtEnd){const re=ie.toModelElement(ne.nodeAfter);ae.modelPosition=Q.a.createBefore(re)}else{const re=ie.toModelElement(ne.nodeBefore),se=ie.getModelLength(ne.nodeBefore);ae.modelPosition=Q.a.createBefore(re).getShiftedBy(se)}te.stop()}else if('li'==oe.name&&ne.nodeBefore&&('ul'==ne.nodeBefore.name||'ol'==ne.nodeBefore.name)){const re=ie.toModelElement(oe);let se=1,le=ne.nodeBefore;for(;le&&(le.is('ul')||le.is('ol'));)se+=ie.getModelLength(le),le=le.previousSibling;ae.modelPosition=Q.a.createBefore(re).getShiftedBy(se),te.stop()}},s.a=function(te){return(ae,ne,oe,ie)=>{if('transparent'!=ie.type)if('remove'==ne)F(oe.sourcePosition,te,ie),N(oe.sourcePosition,!1,te,ie);else if('move'==ne)F(oe.sourcePosition,te,ie),N(oe.sourcePosition,!1,te,ie),F(oe.range.start,te,ie),N(oe.range.start,!1,te,ie),F(oe.range.end,te,ie),N(oe.range.end,!0,te,ie);else if('rename'==ne&&'listItem'==oe.oldName&&'listItem'!=oe.newName){const re=oe.element;te.enqueueChanges(()=>{ie.removeAttribute(re,'indent').removeAttribute(re,'type')});const se=Q.a.createAfter(oe.element);F(se,te,ie)}else'insert'==ne&&(F(oe.range.start,te,ie),N(oe.range.start,!1,te,ie),F(oe.range.end,te,ie),N(oe.range.end,!0,te,ie))}},s.m=function(te,[ae,ne]){let oe=ae.is('documentFragment')?ae.getChild(0):ae;if(oe.is('listItem')){const ie=ne.getFirstPosition();let re=null;if(ie.parent.is('listItem')?re=ie.parent:ie.nodeBefore&&ie.nodeBefore.is('listItem')&&(re=ie.nodeBefore),re){const se=re.getAttribute('indent');if(0<se)for(;oe&&oe.is('listItem');)oe.setAttribute('indent',oe.getAttribute('indent')+se),oe=oe.nextSibling}}};var $=d(393),U=d(35),K=d(6),Q=d(1),J=d(21),Y=d(45),G=d(22),X=d(38),Z=d(55),ee=d(86)},function(r,s,d){'use strict';function u(C,P){const E=f(C,!1);if(E)return void P.setAttribute(C,'type',E.getAttribute('type'));const S=f(C,!0);S&&P.setAttribute(C,'type',S.getAttribute('type'))}function f(C,P){for(let E=C[P?'nextSibling':'previousSibling'];E&&E.is('listItem')&&E.getAttribute('indent')>=C.getAttribute('indent');){if(E.getAttribute('indent')==C.getAttribute('indent'))return E;E=E[P?'nextSibling':'previousSibling']}return null}var h=d(11),w=d(66);class T extends h.a{constructor(C,P){super(C),this._indentBy='forward'==P?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const C=this.editor.document,P=C.batch();let E=Array.from(C.selection.getSelectedBlocks());C.enqueueChanges(()=>{const S=E[E.length-1];for(let O=S.nextSibling;O&&'listItem'==O.name&&O.getAttribute('indent')>S.getAttribute('indent');)E.push(O),O=O.nextSibling;0>this._indentBy&&(E=E.reverse());for(const V of E){const R=V.getAttribute('indent')+this._indentBy;0>R?P.rename(V,'paragraph'):P.setAttribute(V,'indent',R)}0>this._indentBy&&(E=E.reverse());for(const V of E)u(V,P)})}_checkEnabled(){const C=d.i(w.a)(this.editor.document.selection.getSelectedBlocks());if(!C||!C.is('listItem'))return!1;if(0<this._indentBy){const P=C.getAttribute('indent'),E=C.getAttribute('type');for(let S=C.previousSibling;S&&S.is('listItem')&&S.getAttribute('indent')>=P;){if(S.getAttribute('indent')==P)return S.getAttribute('type')==E;S=S.previousSibling}return!1}return!0}}s.a=T},function(r,s,d){'use strict';function u(P,E,S){const O=E?P[0]:P[P.length-1];if(O.is('listItem'))for(let V=O[E?'previousSibling':'nextSibling'],R=O.getAttribute('indent');V&&V.is('listItem')&&V.getAttribute('indent')>=S;)R>V.getAttribute('indent')&&(R=V.getAttribute('indent')),V.getAttribute('indent')==R&&P[E?'unshift':'push'](V),V=V[E?'previousSibling':'nextSibling']}function f(P,E){return E.check({name:'listItem',attributes:['type','indent'],inside:w.a.createBefore(P)})}var h=d(11),w=d(1),T=d(66);class C extends h.a{constructor(P,E){super(P),this.type='bulleted'==E?'bulleted':'numbered'}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(P={}){const E=this.editor.document,S=Array.from(E.selection.getSelectedBlocks()).filter((V)=>f(V,E.schema)),O=!0===this.value;E.enqueueChanges(()=>{const V=P.batch||E.batch();if(O){let R=S[S.length-1].nextSibling,F=_NumberPOSITIVE_INFINITY,N=[];for(;R&&'listItem'==R.name&&0!==R.getAttribute('indent');){const I=R.getAttribute('indent');I<F&&(F=I);const M=I-F;N.push({element:R,indent:M}),R=R.nextSibling}N=N.reverse();for(const I of N)V.setAttribute(I.element,'indent',I.indent)}if(!O){let R=_NumberPOSITIVE_INFINITY;for(const F of S)F.is('listItem')&&F.getAttribute('indent')<R&&(R=F.getAttribute('indent'));R=0===R?1:R,u(S,!0,R),u(S,!1,R)}for(const R of S.reverse())O&&'listItem'==R.name?V.rename(R,'paragraph'):O||'listItem'==R.name?O||'listItem'!=R.name||R.getAttribute('type')==this.type||V.setAttribute(R,'type',this.type):V.setAttribute(R,'type',this.type).setAttribute(R,'indent',0).rename(R,'listItem')})}_getValue(){const P=d.i(T.a)(this.editor.document.selection.getSelectedBlocks());return!!P&&P.is('listItem')&&P.getAttribute('type')==this.type}_checkEnabled(){if(this.value)return!0;const P=this.editor.document.selection,E=this.editor.document.schema,S=d.i(T.a)(P.getSelectedBlocks());return!!S&&f(S,E)}}s.a=C},function(r,s,d){'use strict';function u(E){let S=1;for(const O of E.getChildren())if('ul'==O.name||'ol'==O.name)for(const V of O.getChildren())S+=u(V);return S}var f=d(391),h=d(390),w=d(2),T=d(73),C=d(389);class P extends w.a{static get requires(){return[T.a]}init(){const E=this.editor,S=E.document.schema;S.registerItem('listItem','$block'),S.allow({name:'listItem',inside:'$root',attributes:['type','indent']}),S.requireAttributes('listItem',['type','indent']);const O=E.data,V=E.editing;this.editor.document.on('change',d.i(C.a)(this.editor.document),{priority:'high'}),this.editor.document.on('change',(R,F,N)=>{if('move'==F)for(const I of N.range.getItems())I.is('listItem')&&V.mapper.unbindModelElement(I)},{priority:'high'}),V.mapper.registerViewToModelLength('li',u),O.mapper.registerViewToModelLength('li',u),V.mapper.on('modelToViewPosition',C.b),V.mapper.on('viewToModelPosition',C.c),O.mapper.on('modelToViewPosition',C.b),V.modelToView.on('insert',C.d,{priority:'high'}),V.modelToView.on('insert:listItem',C.e),O.modelToView.on('insert',C.d,{priority:'high'}),O.modelToView.on('insert:listItem',C.e),V.modelToView.on('changeAttribute:type:listItem',C.f),O.modelToView.on('changeAttribute:type:listItem',C.f),V.modelToView.on('remove:listItem',C.g),V.modelToView.on('remove',C.h,{priority:'low'}),O.modelToView.on('remove:listItem',C.g),O.modelToView.on('remove',C.h,{priority:'low'}),V.modelToView.on('changeAttribute:indent:listItem',C.i),O.modelToView.on('changeAttribute:indent:listItem',C.i),O.viewToModel.on('element:ul',C.j,{priority:'high'}),O.viewToModel.on('element:ol',C.j,{priority:'high'}),O.viewToModel.on('element:li',C.k,{priority:'high'}),O.viewToModel.on('element:li',C.l),O.on('insertContent',C.m,{priority:'high'}),E.commands.add('numberedList',new f.a(E,'numbered')),E.commands.add('bulletedList',new f.a(E,'bulleted')),E.commands.add('indentList',new h.a(E,'forward')),E.commands.add('outdentList',new h.a(E,'backward'))}}s.a=P},function(r,s,d){'use strict';function u(){const w=!this.isEmpty&&('ul'==this.getChild(0).name||'ol'==this.getChild(0).name);return this.isEmpty||w?0:null}var f=d(45);class h extends f.a{constructor(w,T){super('li',w,T),this.getFillerOffset=u}}s.a=h},function(r,s,d){'use strict';function u(C,P){return P.check({name:'paragraph',inside:h.a.createBefore(C)})}var f=d(11),h=d(1),w=d(66);class T extends f.a{refresh(){const C=this.editor.document,P=d.i(w.a)(C.selection.getSelectedBlocks());this.value=!!P&&P.is('paragraph'),this.isEnabled=!!P&&u(P,C.schema)}execute(C={}){const P=this.editor.document;P.enqueueChanges(()=>{const E=C.batch||P.batch(),S=(C.selection||P.selection).getSelectedBlocks();for(const O of S)!O.is('paragraph')&&u(O,P.schema)&&E.rename(O,'paragraph')})}}s.a=T},function(r,s,d){'use strict';var u=d(2),f=d(396),h=d(397);class w extends u.a{static get pluginName(){return'Delete'}init(){const T=this.editor,C=T.editing.view;C.addObserver(h.a),T.commands.add('forwardDelete',new f.a(T,'forward')),T.commands.add('delete',new f.a(T,'backward')),this.listenTo(C,'delete',(P,E)=>{T.execute('forward'==E.direction?'forwardDelete':'delete',{unit:E.unit}),E.preventDefault()})}}s.a=w},function(r,s,d){'use strict';var u=d(11),f=d(82),h=d(173),w=d(125);class T extends u.a{constructor(C,P){super(C),this.direction=P,this._buffer=new h.a(C.document,C.config.get('typing.undoStep'))}execute(C={}){const P=this.editor.document,E=this.editor.data;P.enqueueChanges(()=>{this._buffer.lock();const S=f.a.createFromSelection(P.selection),O=S.isCollapsed;if(S.isCollapsed&&E.modifySelection(S,{direction:this.direction,unit:C.unit}),S.isCollapsed)return;let V=0;S.getFirstRange().getMinimalFlatRanges().forEach((R)=>{V+=d.i(w.a)(R.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),E.deleteContent(S,this._buffer.batch,{doNotResetEntireContent:O}),this._buffer.input(V),P.selection.setRanges(S.getRanges(),S.isBackward),this._buffer.unlock()})}}s.a=T},function(r,s,d){'use strict';var u=d(54),f=d(120),h=d(24);class w extends u.a{constructor(T){super(T),T.on('keydown',(C,P)=>{const E={};if(P.keyCode==h.a.delete)E.direction='forward',E.unit='character';else if(P.keyCode==h.a.backspace)E.direction='backward',E.unit='codePoint';else return;E.unit=P.altKey?'word':E.unit,T.fire('delete',new f.a(T,P.domEvent,E))})}observe(){}}s.a=w},function(r,s,d){'use strict';function u(q){return!!q.ctrlKey||z.includes(q.keyCode)}function f(q,H){return q instanceof V.a&&H instanceof V.a?q.data===H.data:q===H}function h(q){if(1==q.newChildren.length-q.oldChildren.length){const H=d.i(R.a)(q.oldChildren,q.newChildren,f),W=d.i(F.a)(H,q.newChildren);if(!(1<W.length)){const $=W[0];return $.values[0]instanceof V.a?$:void 0}}}function w(q){const H=q.map((W)=>W.node).reduce((W,$)=>{return W.getCommonAncestor($,{includeSelf:!0})});return H?H.getAncestors({includeSelf:!0,parentFirst:!0}).find((W)=>W.is('containerElement')||W.is('rootElement')):void 0}function T(q){if(0==q.length)return!1;for(const H of q)if('children'!==H.type||h(H))return!1;return!0}function C(q){return q.every((H)=>H.is('text'))}function P(q){let H=null,W=null;for(let K=0;K<q.length;K++){const Q=q[K];'equal'!=Q&&(H=null==H?K:H,W=K)}let $=0,U=0;for(let K=H;K<=W;K++)'insert'!=q[K]&&$++,'delete'!=q[K]&&U++;return{insertions:U,deletions:$,firstChangeAt:H}}var E=d(2),S=d(3),O=d(22),V=d(32),R=d(182),F=d(425),N=d(24),I=d(119),M=d(399);class D extends E.a{static get pluginName(){return'Input'}init(){const q=this.editor,H=q.editing.view,W=new M.a(q,q.config.get('typing.undoStep')||20);q.commands.add('input',W),this.listenTo(H,'keydown',($,U)=>{this._handleKeydown(U,W)},{priority:'lowest'}),this.listenTo(H,'mutations',($,U,K)=>{this._handleMutations(U,K)})}_handleKeydown(q,H){const W=this.editor.document,$=H.buffer;!H.isEnabled||u(q)||W.selection.isCollapsed||($.lock(),W.enqueueChanges(()=>{this.editor.data.deleteContent(W.selection,$.batch)}),$.unlock())}_handleMutations(q,H){new L(this.editor).handle(q,H)}}s.a=D;class L{constructor(q){this.editor=q,this.editing=this.editor.editing}handle(q,H){if(T(q))this._handleContainerChildrenMutations(q,H);else for(const W of q)this._handleTextMutation(W,H),this._handleTextNodeInsertion(W)}_handleContainerChildrenMutations(q,H){const W=w(q);if(!W)return;const $=this.editor.editing.view.domConverter,U=$.mapViewToDom(W);if(!U)return;const K=new I.a,Q=this.editor.data.toModel(K.domToView(U)).getChild(0),J=this.editor.editing.mapper.toModelElement(W),Y=Array.from(Q.getChildren()),G=Array.from(J.getChildren());if(!C(Y)||!C(G))return;const X=Y.map((se)=>se.data).join('').replace(/\u00A0/g,' '),Z=G.map((se)=>se.data).join('');if(Z===X)return;const ee=d.i(R.a)(Z,X),{firstChangeAt:te,insertions:ae,deletions:ne}=P(ee);let oe=null;H&&(oe=this.editing.mapper.toModelRange(H.getFirstRange()));const ie=X.substr(te,ae),re=S.a.createFromParentsAndOffsets(J,te,J,te+ne);this.editor.execute('input',{text:ie,range:re,resultRange:oe})}_handleTextMutation(q,H){if('text'!=q.type)return;const W=q.newText.replace(/\u00A0/g,' '),$=q.oldText.replace(/\u00A0/g,' '),U=d.i(R.a)($,W),{firstChangeAt:K,insertions:Q,deletions:J}=P(U);let Y=null;H&&(Y=this.editing.mapper.toModelRange(H.getFirstRange()));const G=new O.a(q.node,K),X=this.editing.mapper.toModelPosition(G),Z=S.a.createFromPositionAndShift(X,J),ee=W.substr(K,Q);this.editor.execute('input',{text:ee,range:Z,resultRange:Y})}_handleTextNodeInsertion(q){if('children'==q.type){const H=h(q),W=new O.a(q.node,H.index),$=this.editing.mapper.toModelPosition(W),U=H.values[0].data;this.editor.execute('input',{text:U.replace(/\u00A0/g,' '),range:new S.a($)})}}}const z=[d.i(N.d)('arrowUp'),d.i(N.d)('arrowRight'),d.i(N.d)('arrowDown'),d.i(N.d)('arrowLeft'),9,16,17,18,20,27,33,34,35,36,229];for(let q=112;135>=q;q++)z.push(q)},function(r,s,d){'use strict';var u=d(11),f=d(173);class h extends u.a{constructor(w,T){super(w),this._buffer=new f.a(w.document,T)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(w={}){const T=this.editor.document,C=w.text||'',P=C.length,E=w.range||T.selection.getFirstRange(),S=w.resultRange;T.enqueueChanges(()=>{const O=E.isCollapsed;this._buffer.lock(),O||this._buffer.batch.remove(E),this._buffer.batch.weakInsert(E.start,C),S?this.editor.data.model.selection.setRanges([S]):O&&this.editor.data.model.selection.collapse(E.start.getShiftedBy(P)),this._buffer.unlock(),this._buffer.input(P)})}}s.a=h},function(r,s,d){'use strict';var u=d(2),f=d(398),h=d(395);class w extends u.a{static get requires(){return[f.a,h.a]}static get pluginName(){return'Typing'}}s.a=w},function(r,s,d){'use strict';var u=d(0);s.a=class{constructor(h){this.editor=h,this._components=new Map}*names(){yield*this._components.keys()}add(h,w){if(this._components.get(h))throw new u.a('componentfactory-item-exists: The item already exists in the component factory.',{name:h});this._components.set(h,w)}create(h){const w=this._components.get(h);if(!w)throw new u.a('componentfactory-item-missing: There is no such UI component in the factory.',{name:h});return w(this.editor.locale)}}},function(r,s,d){'use strict';s.a=function(T,C){const P=new f.a(C);P.bind('label','isOn','isEnabled','withText','keystroke','tooltip').to(T);const E=new w.a(C);return new h.a(C,P,E)};var f=d(23),h=d(404),w=d(403)},function(r,s,d){'use strict';var u=d(7),f=d(5);class h extends u.a{constructor(w){super(w);const T=this.bindTemplate;this.set('isVisible',!1),this.children=this.createCollection(),this.template=new f.a({tag:'div',attributes:{class:['ck-reset','ck-dropdown__panel',T.if('isVisible','ck-dropdown__panel-visible')]},children:this.children,on:{selectstart:T.to((C)=>C.preventDefault())}})}}s.a=h},function(r,s,d){'use strict';var u=d(7),f=d(5),h=d(67),w=d(48);class T extends u.a{constructor(C,P,E){super(C),f.a.extend(P.template,{attributes:{class:['ck-dropdown__button']}}),this.buttonView=P,this.panelView=E,this.set('isOpen',!1),this.focusTracker=new h.a,this.keystrokes=new w.a,this.template=new f.a({tag:'div',attributes:{class:['ck-dropdown']},children:[P,E]}),this.listenTo(P,'execute',()=>{this.isOpen=!this.isOpen}),E.bind('isVisible').to(this,'isOpen')}init(){this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);const C=(P,E)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,E())};this.keystrokes.set('arrowdown',(P,E)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,E())}),this.keystrokes.set('arrowright',(P,E)=>{this.isOpen&&E()}),this.keystrokes.set('arrowleft',C),this.keystrokes.set('esc',C),super.init()}focus(){this.buttonView.focus()}}s.a=T},function(r,s,d){'use strict';function f(C){C.listenTo(document,'click',(P,{target:E})=>{C.element==E||C.element.contains(E)||(C.isOpen=!1)})}s.a=function(C,P){const E=d.i(T.a)(C,P),S=E.listView=new h.a(P);return S.items.bindTo(C.items).using((O)=>{const V=new w.a(P);return V.bind(...Object.keys(O)).to(O),V}),S.items.delegate('execute').to(E),E.panelView.children.add(S),E.on('change:isOpen',(O,V,R)=>{R?f(E):E.stopListening(document)}),E.on('execute',()=>{E.isOpen=!1}),E.keystrokes.set('arrowdown',(O,V)=>{E.isOpen&&(S.focus(),V())}),E.keystrokes.set('arrowup',(O,V)=>{E.isOpen&&(S.focusLast(),V())}),E};var h=d(413),w=d(412),T=d(402)},function(r,s,d){'use strict';var u=d(7),f=d(5);class h extends u.a{constructor(w,T){super(w);const C=this.bindTemplate;T&&(this.element=this.editableElement=T),this.template=new f.a({tag:'div',attributes:{class:[C.to('isFocused',(P)=>P?'ck-focused':'ck-blurred'),'ck-editor__editable'],contenteditable:C.to('isReadOnly',(P)=>!P)}}),this.set('isReadOnly',!1),this.set('isFocused',!1),this.externalElement=T}init(){this.externalElement?this.template.apply(this.externalElement):this.editableElement=this.element,super.init()}destroy(){this.externalElement&&this.template.revert(this.externalElement),super.destroy()}}s.a=h},function(r,s,d){'use strict';var u=d(406),f=d(5);class h extends u.a{constructor(w,T){super(w,T);const C=this.bindTemplate,P=this.t;this.set('name',null);f.a.extend(this.template,{attributes:{role:'textbox',"aria-label":C.to('name',(S)=>{return P('Rich Text Editor, %0',[S])}),class:'ck-editor__editable_inline'}})}}s.a=h},function(r,s,d){'use strict';var u=d(409),f=d(72),h=d(5);class w extends u.a{constructor(T){super(T);const C=this.t,P=d.i(f.a)();this.set('width',null),this.set('height',null),this.top=this.createCollection(),this.main=this.createCollection(),this.template=new h.a({tag:'div',attributes:{class:['ck-reset','ck-editor','ck-rounded-corners'],role:'application',dir:'ltr',lang:T.lang,"aria-labelledby":`cke-editor__aria-label_${P}`},children:[{tag:'span',attributes:{id:`cke-editor__aria-label_${P}`,class:'cke-voice-label'},children:[C('Rich Text Editor')]},{tag:'div',attributes:{class:'ck-editor__top ck-reset_all',role:'presentation'},children:this.top},{tag:'div',attributes:{class:'ck-editor__main',role:'presentation'},children:this.main}]})}}s.a=w},function(r,s,d){'use strict';var u=d(7),f=d(5);class h extends u.a{constructor(w){super(w),this.body=this.createCollection()}init(){this._renderBodyCollection(),super.init()}destroy(){return this._bodyCollectionContainer.remove(),super.destroy()}_renderBodyCollection(){const w=this._bodyCollectionContainer=new f.a({tag:'div',attributes:{class:['ck-body','ck-rounded-corners','ck-reset_all']},children:this.body}).render();document.body.appendChild(w)}}s.a=h},function(r,s,d){'use strict';var u=d(7),f=d(5);class h extends u.a{constructor(){super();const w=this.bindTemplate;this.set('content'),this.set('viewBox','0 0 20 20'),this.template=new f.a({tag:'svg',ns:'http://www.w3.org/2000/svg',attributes:{class:'ck-icon',viewBox:w.to('viewBox')}}),this.on('change:content',(T,C,P)=>{for(const E=new DOMParser().parseFromString(P.trim(),'image/svg+xml').firstChild;0<E.childNodes.length;)this.element.appendChild(E.childNodes[0])})}}s.a=h},function(r,s,d){'use strict';var u=d(7),f=d(5);class h extends u.a{constructor(w){super(w),this.set('text'),this.set('for');const T=this.bindTemplate;this.template=new f.a({tag:'label',attributes:{class:['ck-label'],for:T.to('for')},children:[{text:T.to('text')}]})}}s.a=h},function(r,s,d){'use strict';var u=d(7),f=d(5),h=d(48);class w extends u.a{constructor(){super(),this.set('tabindex',-1),this.keystrokes=new h.a;const T=this.bindTemplate;this.template=new f.a({tag:'li',attributes:{class:['ck-list__item',T.to('class'),T.if('isActive','ck-list__item_active')],style:T.to('style'),tabindex:T.to('tabindex')},children:[{text:T.to('label')}],on:{click:T.to('execute')}})}init(){const T=(C,P)=>{this.fire('execute'),P()};this.keystrokes.listenTo(this.element),this.keystrokes.set('Enter',T),this.keystrokes.set('Space',T)}focus(){this.element.focus()}}s.a=w},function(r,s,d){'use strict';var u=d(7),f=d(5),h=d(67),w=d(122),T=d(48);class C extends u.a{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new h.a,this.keystrokes=new T.a,this._focusCycler=new w.a({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:'arrowup',focusNext:'arrowdown'}}),this.template=new f.a({tag:'ul',attributes:{class:['ck-reset','ck-list']},children:this.items}),this.items.on('add',(P,E)=>{this.focusTracker.add(E.element)}),this.items.on('remove',(P,E)=>{this.focusTracker.remove(E.element)})}init(){this.keystrokes.listenTo(this.element),super.init()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}s.a=C},function(r,s,d){'use strict';var u=d(50),f=d(4),h=d(19);class w{constructor(T,C){C&&d.i(u.a)(this,C),T&&this.set(T)}}s.a=w,d.i(f.a)(w,h.a)},function(r,s){'use strict';s.a=function({origin:f,originKeystrokeHandler:h,originFocusTracker:w,toolbar:T,beforeFocus:C,afterBlur:P}){w.add(T.element),h.set('Alt+F10',(E,S)=>{w.isFocused&&!T.focusTracker.isFocused&&(C&&C(),T.focus(),S())}),T.keystrokes.set('Esc',(E,S)=>{T.focusTracker.isFocused&&(f.focus(),P&&P(),S())})}},function(r,s){'use strict';s.a=function(f){return Array.isArray(f)&&(f={items:f}),f}},function(r,s,d){'use strict';var u=d(46),f=d(5),h=d(180),w=d(185);const T=d.i(w.a)('px');class C extends h.a{constructor(P){super(P);const E=this.bindTemplate;this.set('isActive',!1),this.set('isSticky',!1),this.set('limiterElement',null),this.set('limiterBottomOffset',50),this.set('viewportTopOffset',0),this.set('_marginLeft',null),this.set('_isStickyToTheLimiter',!1),this.set('_hasViewportTopOffset',!1),f.a.extend(this.template,{attributes:{class:[E.if('isSticky','ck-toolbar_sticky'),E.if('_isStickyToTheLimiter','ck-toolbar_sticky_bottom-limit')],style:{width:E.to('isSticky',(S)=>{return S?T(this._elementPlaceholder.getBoundingClientRect().width):null}),top:E.to('_hasViewportTopOffset',(S)=>{return S?T(this.viewportTopOffset):null}),bottom:E.to('_isStickyToTheLimiter',(S)=>{return S?T(this.limiterBottomOffset):null}),marginLeft:E.to('_marginLeft')}}}),this._elementPlaceholder=new f.a({tag:'div',attributes:{class:['ck-toolbar__placeholder'],style:{display:E.to('isSticky',(S)=>S?'block':'none'),height:E.to('isSticky',(S)=>{return S?T(this._toolbarRect.height):null})}}}).render()}init(){super.init(),this.element.parentNode.insertBefore(this._elementPlaceholder,this.element),this._checkIfShouldBeSticky(),this.listenTo(u.a.window,'scroll',()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,'change:isActive',()=>{this._checkIfShouldBeSticky()})}destroy(){super.destroy(),this._elementPlaceholder.remove()}_checkIfShouldBeSticky(){const P=this._limiterRect=this.limiterElement.getBoundingClientRect(),E=this._toolbarRect=this.element.getBoundingClientRect();this.isSticky=this.isActive&&P.top<this.viewportTopOffset&&this._toolbarRect.height+this.limiterBottomOffset<P.height,this.isSticky?(this._isStickyToTheLimiter=P.bottom<E.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:T(-u.a.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}s.a=C},function(r,s,d){'use strict';var u=d(7),f=d(5);class h extends u.a{constructor(w){super(w),this.template=new f.a({tag:'span',attributes:{class:['ck-toolbar__separator']}})}}s.a=h},function(r,s,d){'use strict';var u=d(7),f=d(5);class h extends u.a{constructor(w){super(w),this.set('text',''),this.set('position','s');const T=this.bindTemplate;this.template=new f.a({tag:'span',attributes:{class:['ck-tooltip',T.to('position',(C)=>'ck-tooltip_'+C),T.if('text','ck-hidden',(C)=>!C.trim())]},children:[{tag:'span',attributes:{class:['ck-tooltip__text']},children:[{text:T.to('text')}]}]})}}s.a=h},function(r,s,d){'use strict';var u=d(181);class f extends u.a{execute(){const h=this._stack.pop();this.editor.document.enqueueChanges(()=>{const w=h.batch.deltas[h.batch.deltas.length-1],T=w.baseVersion+w.operations.length,C=this.editor.document.history.getDeltas(T);this._restoreSelection(h.selection.ranges,h.selection.isBackward,C),this._undo(h.batch)}),this.refresh()}}s.a=f},function(r,s,d){'use strict';var u=d(2),f=d(423),h=d(23),w=d(305),T=d.n(w),C=d(304),P=d.n(C);class E extends u.a{static get requires(){return[f.a]}static get pluginName(){return'Undo'}init(){const S=this.editor,O=S.t;this._addButton('undo',O('Undo'),'CTRL+Z',T.a),this._addButton('redo',O('Redo'),'CTRL+Y',P.a),S.keystrokes.set('CTRL+Z','undo'),S.keystrokes.set('CTRL+Y','redo'),S.keystrokes.set('CTRL+SHIFT+Z','redo')}_addButton(S,O,V,R){const F=this.editor,N=F.commands.get(S);F.ui.componentFactory.add(S,(I)=>{const M=new h.a(I);return M.set({label:O,icon:R,keystroke:V,tooltip:!0}),M.bind('isEnabled').to(N,'isEnabled'),this.listenTo(M,'execute',()=>F.execute(S)),M})}}s.a=E},function(r,s,d){'use strict';var u=d(181);class f extends u.a{execute(h=null){const w=h?this._stack.findIndex((C)=>C.batch==h):this._stack.length-1,T=this._stack.splice(w,1)[0];this.editor.document.enqueueChanges(()=>{const C=this._undo(T.batch),P=this.editor.document.history.getDeltas(T.batch.baseVersion);this._restoreSelection(T.selection.ranges,T.selection.isBackward,P),this.fire('revert',T.batch,C)}),this.refresh()}}s.a=f},function(r,s,d){'use strict';var u=d(2),f=d(422),h=d(420);class w extends u.a{constructor(T){super(T),this._batchRegistry=new WeakSet}init(){this._undoCommand=new f.a(this.editor),this._redoCommand=new h.a(this.editor),this.editor.commands.add('undo',this._undoCommand),this.editor.commands.add('redo',this._redoCommand),this.listenTo(this.editor.document,'change',(T,C,P,E)=>{this._batchRegistry.has(E)||'transparent'==E.type||(this._redoCommand._createdBatches.has(E)?this._undoCommand.addBatch(E):!this._undoCommand._createdBatches.has(E)&&(this._undoCommand.addBatch(E),this._redoCommand.clearStack()),this._batchRegistry.add(E))},{priority:'highest'}),this.listenTo(this._undoCommand,'revert',(T,C,P)=>{this._redoCommand.addBatch(P)})}}s.a=w},function(r,s,d){'use strict';var u=d(106);s.a=class{constructor(h,w){this._config={},w&&this.define(w),h&&this._setObjectToTarget(this._config,h)}set(h,w){this._setToTarget(this._config,h,w)}define(h,w){this._setToTarget(this._config,h,w,!0)}get(h){return this._getFromSource(this._config,h)}_setToTarget(h,w,T,C=!1){if(d.i(u.a)(w))return void this._setObjectToTarget(h,w,C);const P=w.split('.');w=P.pop();for(const E of P)d.i(u.a)(h[E])||(h[E]={}),h=h[E];return d.i(u.a)(T)?(d.i(u.a)(h[w])||(h[w]={}),h=h[w],void this._setObjectToTarget(h,T,C)):void(C&&'undefined'!=typeof h[w]||(h[w]=T))}_getFromSource(h,w){const T=w.split('.');w=T.pop();for(const C of T){if(!d.i(u.a)(h[C])){h=null;break}h=h[C]}return h?h[w]:void 0}_setObjectToTarget(h,w,T){Object.keys(w).forEach((C)=>{this._setToTarget(h,C,w[C],T)})}}},function(r,s){'use strict';s.a=function(f,h){function w(){E&&(C.push(E),E=null)}function T(S){return E&&E.type==S}const C=[];let P=0,E;return f.forEach((S)=>{'equal'==S?(w(),P++):'insert'==S?(T('insert')?E.values.push(h[P]):(w(),E={type:'insert',index:P,values:[h[P]]}),P++):T('delete')?E.howMany++:(w(),E={type:'delete',index:P,howMany:1})}),w(),C}},function(r,s,d){'use strict';s.a=function(h,w){const T=d.i(f.a)(h),C=d.i(f.a)(w);let P=0;for(;T[P]==C[P]&&T[P];)P++;return 0==P?null:T[P-1]};var f=d(183)},function(r,s){'use strict';s.a=function(f){return f instanceof HTMLTextAreaElement?f.value:f.innerHTML}},function(r,s,d){'use strict';s.a=function(h){for(;h&&'html'!=h.tagName.toLowerCase();){if('static'!=f.a.window.getComputedStyle(h).position)return h;h=h.parentElement}return null};var f=d(46)},function(r,s){'use strict';s.a=function(f){let h=0;for(;f.previousSibling;)f=f.previousSibling,h++;return h}},function(r,s){'use strict';s.a=function(f,h,w){f.insertBefore(w,f.childNodes[h]||null)}},function(r,s,d){'use strict';function f(E,S,O){const{left:V,top:R,name:F}=E(S,O);return[F,O.clone().moveTo(V,R)]}function h(E,S,O,V,R){let F=0,N=0,I,M;const D=O.getArea();return E.some((L)=>{function z(){N=$,F=W,I=H,M=q}const[q,H]=f(L,S,O);let W,$;if(V)if(R){const U=V.getIntersection(R);W=U?U.getIntersectionArea(H):0}else W=V.getIntersectionArea(H);return R&&($=R.getIntersectionArea(H)),R&&!V?$>N&&z():!R&&V?W>F&&z():$>N&&W>=F?z():$>=N&&W>F&&z(),W===D}),I?[M,I]:null}function w({left:E,top:S}){const{scrollX:O,scrollY:V}=T.a.window;return{left:E+O,top:S+V}}s.a=function({element:E,target:S,positions:O,limiter:V,fitInViewport:R}){'function'==typeof S&&(S=S());const F=d.i(P.a)(E.parentElement),N=new C.a(E),I=new C.a(S);let M,D;if(!V&&!R)[D,M]=f(O[0],I,N);else{const q=V&&new C.a(V).getVisible(),H=R&&C.a.getViewportRect();[D,M]=h(O,I,N,q,H)||f(O[0],I,N)}let{left:L,top:z}=w(M);if(F){const q=w(new C.a(F)),H=T.a.window.getComputedStyle(F);L-=q.left,z-=q.top,L+=F.scrollLeft,z+=F.scrollTop,L-=parseInt(H.borderLeftWidth,10),z-=parseInt(H.borderTopWidth,10)}return{left:L,top:z,name:D}};var T=d(46),C=d(432),P=d(428)},function(r,s,d){'use strict';function u(P,E){for(const S of C)P[S]=E[S]}var f=d(46),h=d(184),w=d(230);class T{constructor(P){Object.defineProperty(this,'_source',{value:P._source||P,writable:!1,enumerable:!1}),d.i(w.a)(P)?u(this,P.getBoundingClientRect()):d.i(h.a)(P)?u(this,T.getDomRangeRects(P)[0]):u(this,P)}clone(){return new T(this)}moveTo(P,E){return this.top=E,this.right=P+this.width,this.bottom=E+this.height,this.left=P,this}moveBy(P,E){return this.top+=E,this.right+=P,this.left+=P,this.bottom+=E,this}getIntersection(P){const E={top:_Mathmax(this.top,P.top),right:_Mathmin(this.right,P.right),bottom:_Mathmin(this.bottom,P.bottom),left:_Mathmax(this.left,P.left)};return E.width=E.right-E.left,E.height=E.bottom-E.top,0>E.width||0>E.height?null:new T(E)}getIntersectionArea(P){const E=this.getIntersection(P);return E?E.getArea():0}getArea(){return this.width*this.height}getVisible(){const P=this._source;let E=this.clone();if(P!=f.a.document.body)for(let S=P.parentNode||P.commonAncestorContainer;S&&S!=f.a.document.body;){const O=new T(S),V=E.getIntersection(O);if(V)V.getArea()<E.getArea()&&(E=V);else return null;S=S.parentNode}return E}static getViewportRect(){const{innerWidth:P,innerHeight:E}=f.a.window;return new T({top:0,right:P,bottom:E,left:0,width:P,height:E})}static getDomRangeRects(P){const E=[],S=Array.from(P.getClientRects());if(S.length)for(const O of S)E.push(new T(O));else{const O=new T(P.startContainer.getBoundingClientRect());O.right=O.left,O.width=0,E.push(O)}return E}}s.a=T;const C=['top','right','bottom','left','width','height']},function(r,s){'use strict';s.a=function(f){const h=f.parentNode;h&&h.removeChild(f)}},function(r,s){'use strict';s.a=function(f,h){f instanceof HTMLTextAreaElement&&(f.value=h),f.innerHTML=h}},function(r,s){'use strict';s.a=class{constructor(){this._replacedElements=[]}replace(f,h){this._replacedElements.push({element:f,newElement:h}),f.style.display='none',h&&f.parentNode.insertBefore(h,f.nextSibling)}restore(){this._replacedElements.forEach(({element:f,newElement:h})=>{f.style.display='',h&&h.remove()}),this._replacedElements=[]}}},function(r,s){'use strict';const f=navigator.userAgent.toLowerCase(),h={mac:function(w){return-1<w.indexOf('macintosh')}(f)};s.a=h},function(r,s,d){'use strict';var u=d(538);s.a=class{constructor(h,w){this.source=h,this.name=w,this.path=[],this.stop=d.i(u.a)(),this.off=d.i(u.a)()}}},function(r,s,d){'use strict';var u=d(57),f=d(33),h=d.i(u.a)(f.a,'DataView');s.a=h},function(r,s,d){'use strict';function u(P){var E=-1,S=P?P.length:0;for(this.clear();++E<S;){var O=P[E];this.set(O[0],O[1])}}var f=d(485),h=d(486),w=d(487),T=d(488),C=d(489);u.prototype.clear=f.a,u.prototype['delete']=h.a,u.prototype.get=w.a,u.prototype.has=T.a,u.prototype.set=C.a,s.a=u},function(r,s,d){'use strict';var u=d(57),f=d(33),h=d.i(u.a)(f.a,'Promise');s.a=h},function(r,s,d){'use strict';var u=d(33),f=u.a.Reflect;s.a=f},function(r,s,d){'use strict';var u=d(57),f=d(33),h=d.i(u.a)(f.a,'WeakMap');s.a=h},function(r,s){'use strict';s.a=function(f,h){return f.set(h[0],h[1]),f}},function(r,s){'use strict';s.a=function(f,h){return f.add(h),f}},function(r,s){'use strict';s.a=function(f,h){for(var w=-1,T=f.length;++w<T&&!(!1===h(f[w],w,f)););return f}},function(r,s){'use strict';s.a=function(f,h){for(var w=-1,T=f.length;++w<T;)if(h(f[w],w,f))return!0;return!1}},function(r,s,d){'use strict';var f=d(142),h=d(71);s.a=function(w,T){return w&&d.i(f.a)(T,d.i(h.a)(T),w)}},function(r,s,d){'use strict';var f=d(223);s.a=function(h,w){for(var T=-1,P=w.length,E=Array(P);++T<P;)E[T]=null==h?void 0:d.i(f.a)(h,w[T]);return E}},function(r,s){'use strict';s.a=function(f,h,w){return f===f&&(void 0!==w&&(f=f<=w?f:w),void 0!==h&&(f=f>=h?f:h)),f}},function(r,s,d){'use strict';var f=d(17),h=Object.create;s.a=function(w){return d.i(f.a)(w)?h(w):{}}},function(r,s,d){'use strict';var f=d(14),h=d(532);s.a=function(w,T,C,P){var E=w.length;for(C=d.i(f.a)(C),0>C&&(C=-C>E?0:E+C),P=void 0===P||P>E?E:d.i(f.a)(P),0>P&&(P+=E),P=C>P?0:d.i(h.a)(P);C<P;)w[C++]=T;return w}},function(r,s,d){'use strict';var f=d(92),h=d(12);s.a=function(w,T,C){var P=T(w);return d.i(h.a)(w)?P:d.i(f.a)(P,C(w))}},function(r,s){'use strict';s.a=function(f,h){return h in Object(f)}},function(r,s){'use strict';s.a=function(f,h,w,T){for(var C=w-1,P=f.length;++C<P;)if(T(f[C],h))return C;return-1}},function(r,s,d){'use strict';var f=d(127),h=d(199),w=d(479),T=d(480),C=d(144),P=d(12),E=d(99),S=d(525),V='[object Arguments]',R='[object Array]',F='[object Object]',N=Object.prototype,I=N.hasOwnProperty;s.a=function(M,D,L,z,q,H){var W=d.i(P.a)(M),$=d.i(P.a)(D),U=R,K=R;W||(U=d.i(C.a)(M),U=U==V?F:U),$||(K=d.i(C.a)(D),K=K==V?F:K);var Q=U==F&&!d.i(E.a)(M),J=K==F&&!d.i(E.a)(D),Y=U==K;if(Y&&!Q)return H||(H=new f.a),W||d.i(S.a)(M)?d.i(h.a)(M,D,L,z,q,H):d.i(w.a)(M,D,U,L,z,q,H);if(!(q&2)){var G=Q&&I.call(M,'__wrapped__'),X=J&&I.call(D,'__wrapped__');if(G||X){var Z=G?M.value():M,ee=X?D.value():D;return H||(H=new f.a),L(Z,ee,z,q,H)}}return!!Y&&(H||(H=new f.a),d.i(T.a)(M,D,L,z,q,H))}},function(r,s,d){'use strict';var f=d(127),h=d(94);s.a=function(C,P,E,S){var O=E.length,V=O,R=!S;if(null==C)return!V;for(C=Object(C);O--;){var F=E[O];if(R&&F[2]?F[1]!==C[F[0]]:!(F[0]in C))return!1}for(;++O<V;){F=E[O];var N=F[0],I=C[N],M=F[1];if(!(R&&F[2])){var D=new f.a;if(S)var L=S(I,M,N,C,P,D);if(void 0===L?!d.i(h.a)(M,I,S,1|2,D):!L)return!1}else if(void 0===I&&!(N in C))return!1}return!0}},function(r,s){'use strict';var f=Object.keys;s.a=function(h){return f(Object(h))}},function(r,s,d){'use strict';function u(P){P=null==P?P:Object(P);var E=[];for(var S in P)E.push(S);return E}var f=d(441),h=d(495),w=Object.prototype,T=f.a?f.a.enumerate:void 0,C=w.propertyIsEnumerable;T&&!C.call({valueOf:1},'valueOf')&&(u=function(P){return d.i(h.a)(T(P))}),s.a=u},function(r,s,d){'use strict';var f=d(456),h=d(483),w=d(204);s.a=function(T){var C=d.i(h.a)(T);return 1==C.length&&C[0][2]?d.i(w.a)(C[0][0],C[0][1]):function(P){return P===T||d.i(f.a)(P,T,C)}}},function(r,s,d){'use strict';var f=d(94),h=d(223),w=d(521),T=d(58),C=d(203),P=d(204),E=d(59);s.a=function(V,R){return d.i(T.a)(V)&&d.i(C.a)(R)?d.i(P.a)(d.i(E.a)(V),R):function(F){var N=d.i(h.a)(F,V);return N===void 0&&N===R?d.i(w.a)(F,V):d.i(f.a)(R,N,void 0,1|2)}}},function(r,s,d){'use strict';var f=d(41);s.a=function(h,w){var T=h.length;if(T)return w+=0>w?T:0,d.i(f.a)(w,T)?h[w]:void 0}},function(r,s,d){'use strict';var f=d(131);s.a=function(h){return function(w){return d.i(f.a)(w,h)}}},function(r,s,d){'use strict';var f=d(68),h=d(97),w=d(41),T=d(58),C=d(17),P=d(59);s.a=function(E,S,O,V){S=d.i(T.a)(S,E)?[S]:d.i(h.a)(S);for(var R=-1,F=S.length,I=E,M;null!=I&&++R<F;){if(M=d.i(P.a)(S[R]),d.i(C.a)(I)){var D=O;if(R!=F-1){var L=I[M];D=V?V(L,M,I):void 0,void 0===D&&(D=null==L?d.i(w.a)(S[R+1])?[]:{}:L)}d.i(f.a)(I,M,D)}I=I[M]}return E}},function(r,s,d){'use strict';var f=d(29);s.a=function(h,w){return d.i(f.a)(w,function(T){return[T,h[T]]})}},function(r,s,d){'use strict';var f=d(128),h=d(52),T=f.a?f.a.prototype:void 0,C=T?T.toString:void 0;s.a=function(P){if('string'==typeof P)return P;if(d.i(h.a)(P))return C?C.call(P):'';var E=P+'';return'0'==E&&1/P==-(1/0)?'-0':E}},function(r,s){'use strict';s.a=function(f){return f&&f.Object===Object?f:null}},function(r,s){'use strict';s.a=function(f,h){if(h)return f.slice();var w=new f.constructor(f.length);return f.copy(w),w}},function(r,s,d){'use strict';var f=d(141);s.a=function(h,w){var T=w?d.i(f.a)(h.buffer):h.buffer;return new h.constructor(T,h.byteOffset,h.byteLength)}},function(r,s,d){'use strict';var f=d(443),h=d(190),w=d(145);s.a=function(T,C,P){var E=C?P(d.i(w.a)(T),!0):d.i(w.a)(T);return d.i(h.a)(E,f.a,new T.constructor)}},function(r,s){'use strict';var f=/\w*$/;s.a=function(h){var w=new h.constructor(h.source,f.exec(h));return w.lastIndex=h.lastIndex,w}},function(r,s,d){'use strict';var f=d(444),h=d(190),w=d(103);s.a=function(T,C,P){var E=C?P(d.i(w.a)(T),!0):d.i(w.a)(T);return d.i(h.a)(E,f.a,new T.constructor)}},function(r,s,d){'use strict';var f=d(128),h=f.a?f.a.prototype:void 0,w=h?h.valueOf:void 0;s.a=function(T){return w?Object(w.call(T)):{}}},function(r,s,d){'use strict';var f=d(141);s.a=function(h,w){var T=w?d.i(f.a)(h.buffer):h.buffer;return new h.constructor(T,h.byteOffset,h.length)}},function(r,s,d){'use strict';var f=d(52);s.a=function(h,w){if(h!==w){var T=h!==void 0,C=null===h,P=h===h,E=d.i(f.a)(h),S=w!==void 0,O=null===w,V=w===w,R=d.i(f.a)(w);if(!O&&!R&&!E&&h>w||E&&S&&V&&!O&&!R||C&&S&&V||!T&&V||!P)return 1;if(!C&&!E&&!R&&h<w||R&&T&&P&&!C&&!E||O&&T&&P||!S&&P||!V)return-1}return 0}},function(r,s,d){'use strict';var f=d(142),h=d(200);s.a=function(w,T){return d.i(f.a)(w,d.i(h.a)(w),T)}},function(r,s,d){'use strict';var f=d(100),h=d(8);s.a=function(w){return d.i(h.a)(function(T,C){var P=-1,E=C.length,S=1<E?C[E-1]:void 0,O=2<E?C[2]:void 0;for(S=3<w.length&&'function'==typeof S?(E--,S):void 0,O&&d.i(f.a)(C[0],C[1],O)&&(S=3>E?void 0:S,E=1),T=Object(T);++P<E;){var V=C[P];V&&w(T,V,P,S)}return T})}},function(r,s,d){'use strict';var u=d(187),f=d(528),h=d(103),T=u.a&&1/d.i(h.a)(new u.a([,-0]))[1]==1/0?function(C){return new u.a(C)}:f.a;s.a=T},function(r,s,d){'use strict';var f=d(464),h=d(144),w=d(145),T=d(509);s.a=function(E){return function(S){var O=d.i(h.a)(S);return O=='[object Map]'?d.i(w.a)(S):O=='[object Set]'?d.i(T.a)(S):d.i(f.a)(S,E(S))}}},function(r,s,d){'use strict';var f=d(128),h=d(188),w=d(199),T=d(145),C=d(103),q=f.a?f.a.prototype:void 0,H=q?q.valueOf:void 0;s.a=function(W,$,U,K,Q,J,Y){switch(U){case'[object DataView]':if(W.byteLength!=$.byteLength||W.byteOffset!=$.byteOffset)return!1;W=W.buffer,$=$.buffer;case'[object ArrayBuffer]':return W.byteLength==$.byteLength&&K(new h.a(W),new h.a($));case'[object Boolean]':case'[object Date]':return+W==+$;case'[object Error]':return W.name==$.name&&W.message==$.message;case'[object Number]':return W==+W?W==+$:$!=+$;case'[object RegExp]':case'[object String]':return W==$+'';case'[object Map]':var G=T.a;case'[object Set]':var X=J&2;if(G||(G=C.a),W.size!=$.size&&!X)return!1;var Z=Y.get(W);return Z?Z==$:(J|=1,Y.set(W,$),d.i(w.a)(G(W),G($),K,Q,J,Y));case'[object Symbol]':if(H)return H.call(W)==H.call($);}return!1}},function(r,s,d){'use strict';var f=d(193),h=d(71);s.a=function(T,C,P,E,S,O){var V=S&2,R=d.i(h.a)(T),F=R.length,N=d.i(h.a)(C),I=N.length;if(F!=I&&!V)return!1;for(var M=F,D;M--;)if(D=R[M],V?!(D in C):!d.i(f.a)(C,D))return!1;var L=O.get(T);if(L)return L==C;var z=!0;O.set(T,C);for(var q=V;++M<F;){D=R[M];var H=T[D],W=C[D];if(E)var $=V?E(W,H,D,C,T,O):E(H,W,D,T,C,O);if(void 0===$?!(H===W||P(H,W,E,S,O)):!$){z=!1;break}q||(q='constructor'==D)}if(z&&!q){var U=T.constructor,K=C.constructor;U!=K&&'constructor'in T&&'constructor'in C&&!('function'==typeof U&&U instanceof U&&'function'==typeof K&&K instanceof K)&&(z=!1)}return O['delete'](T),z}},function(r,s,d){'use strict';var f=d(452),h=d(200),w=d(71);s.a=function(T){return d.i(f.a)(T,w.a,h.a)}},function(r,s,d){'use strict';var u=d(134),f=d.i(u.a)('length');s.a=f},function(r,s,d){'use strict';var f=d(203),h=d(533);s.a=function(w){for(var T=d.i(h.a)(w),C=T.length;C--;)T[C][2]=d.i(f.a)(T[C][1]);return T}},function(r,s,d){'use strict';var f=d(97),h=d(149),w=d(12),T=d(41),C=d(58),P=d(105),E=d(151),S=d(59);s.a=function(O,V,R){V=d.i(C.a)(V,O)?[V]:d.i(f.a)(V);for(var N=-1,I=V.length,F,M;++N<I&&(M=d.i(S.a)(V[N]),!!(F=null!=O&&R(O,M)));)O=O[M];if(F)return F;var I=O?O.length:0;return!!I&&d.i(P.a)(I)&&d.i(T.a)(M,I)&&(d.i(w.a)(O)||d.i(E.a)(O)||d.i(h.a)(O))}},function(r,s,d){'use strict';var f=d(102);s.a=function(){this.__data__=f.a?d.i(f.a)(null):{}}},function(r,s){'use strict';s.a=function(f){return this.has(f)&&delete this.__data__[f]}},function(r,s,d){'use strict';var f=d(102),w=Object.prototype,T=w.hasOwnProperty;s.a=function(C){var P=this.__data__;if(f.a){var E=P[C];return E==='__lodash_hash_undefined__'?void 0:E}return T.call(P,C)?P[C]:void 0}},function(r,s,d){'use strict';var f=d(102),h=Object.prototype,w=h.hasOwnProperty;s.a=function(T){var C=this.__data__;return f.a?C[T]!==void 0:w.call(C,T)}},function(r,s,d){'use strict';var f=d(102);s.a=function(w,T){var C=this.__data__;return C[w]=f.a&&void 0===T?'__lodash_hash_undefined__':T,this}},function(r,s){'use strict';var f=Object.prototype,h=f.hasOwnProperty;s.a=function(w){var T=w.length,C=w.constructor(T);return T&&'string'==typeof w[0]&&h.call(w,'index')&&(C.index=w.index,C.input=w.input),C}},function(r,s,d){'use strict';var f=d(141),h=d(468),w=d(469),T=d(470),C=d(471),P=d(472),E=d(473);s.a=function(Y,G,X,Z){var ee=Y.constructor;return G==='[object ArrayBuffer]'?d.i(f.a)(Y):G==='[object Boolean]'||G==='[object Date]'?new ee(+Y):G==='[object DataView]'?d.i(h.a)(Y,Z):G==='[object Float32Array]'||G==='[object Float64Array]'||G==='[object Int8Array]'||G==='[object Int16Array]'||G==='[object Int32Array]'||G==='[object Uint8Array]'||G==='[object Uint8ClampedArray]'||G==='[object Uint16Array]'||G==='[object Uint32Array]'?d.i(E.a)(Y,Z):G==='[object Map]'?d.i(w.a)(Y,Z,X):G==='[object Number]'||G==='[object String]'?new ee(Y):G==='[object RegExp]'?d.i(T.a)(Y):G==='[object Set]'?d.i(C.a)(Y,Z,X):G==='[object Symbol]'?d.i(P.a)(Y):void 0}},function(r,s,d){'use strict';var f=d(450),h=d(143),w=d(101);s.a=function(T){return'function'!=typeof T.constructor||d.i(w.a)(T)?{}:d.i(f.a)(d.i(h.a)(T))}},function(r,s,d){'use strict';var f=d(149),h=d(12);s.a=function(w){return d.i(h.a)(w)||d.i(f.a)(w)}},function(r,s){'use strict';s.a=function(f){var h=typeof f;return'string'==h||'number'==h||'symbol'==h||'boolean'==h?'__proto__'!==f:null===f}},function(r,s){'use strict';s.a=function(f){for(var w=[],h;!(h=f.next()).done;)w.push(h.value);return w}},function(r,s){'use strict';s.a=function(){this.__data__=[]}},function(r,s,d){'use strict';var f=d(93),h=Array.prototype,w=h.splice;s.a=function(T){var C=this.__data__,P=d.i(f.a)(C,T);if(0>P)return!1;var E=C.length-1;return P==E?C.pop():w.call(C,P,1),!0}},function(r,s,d){'use strict';var f=d(93);s.a=function(h){var w=this.__data__,T=d.i(f.a)(w,h);return 0>T?void 0:w[T][1]}},function(r,s,d){'use strict';var f=d(93);s.a=function(h){return-1<d.i(f.a)(this.__data__,h)}},function(r,s,d){'use strict';var f=d(93);s.a=function(h,w){var T=this.__data__,C=d.i(f.a)(T,h);return 0>C?T.push([h,w]):T[C][1]=w,this}},function(r,s,d){'use strict';var f=d(439),h=d(89),w=d(186);s.a=function(){this.__data__={hash:new f.a,map:new(w.a||h.a),string:new f.a}}},function(r,s,d){'use strict';var f=d(98);s.a=function(h){return d.i(f.a)(this,h)['delete'](h)}},function(r,s,d){'use strict';var f=d(98);s.a=function(h){return d.i(f.a)(this,h).get(h)}},function(r,s,d){'use strict';var f=d(98);s.a=function(h){return d.i(f.a)(this,h).has(h)}},function(r,s,d){'use strict';var f=d(98);s.a=function(h,w){return d.i(f.a)(this,h).set(h,w),this}},function(r,s,d){'use strict';var f=d(131),h=d(40);s.a=function(w,T){return 1==T.length?w:d.i(f.a)(w,d.i(h.a)(T,0,-1))}},function(r,s){'use strict';s.a=function(h){return this.__data__.set(h,'__lodash_hash_undefined__'),this}},function(r,s){'use strict';s.a=function(f){return this.__data__.has(f)}},function(r,s){'use strict';s.a=function(f){var h=-1,w=Array(f.size);return f.forEach(function(T){w[++h]=[T,T]}),w}},function(r,s,d){'use strict';var f=d(89);s.a=function(){this.__data__=new f.a}},function(r,s){'use strict';s.a=function(f){return this.__data__['delete'](f)}},function(r,s){'use strict';s.a=function(f){return this.__data__.get(f)}},function(r,s){'use strict';s.a=function(f){return this.__data__.has(f)}},function(r,s,d){'use strict';var f=d(89),h=d(126);s.a=function(T,C){var P=this.__data__;return P instanceof f.a&&P.__data__.length==200&&(P=this.__data__=new h.a(P.__data__)),P.set(T,C),this}},function(r,s,d){'use strict';var u=d(527),f=d(534),h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,w=/\\(\\)?/g,T=d.i(u.a)(function(C){var P=[];return d.i(f.a)(C).replace(h,function(E,S,O,V){P.push(O?V.replace(w,'$1'):S||E)}),P});s.a=T},function(r,s,d){'use strict';var u=d(206),f=d(207),h=d(208),w=d(210),T=d(211),C=d(212),P=d(146),E=d(147),S=d(213),O=d(214),V=d(215),R=d(216),F=d(217),N=d(218),I=d(219),M=d(220),D=d(221),L=d(222),z=d(148),q=d(225),H=d(226),W=d(227),$=d(228),U=d(229),K=d(232),Q=d(18),J=d(233),Y=d(234),G=d(235),X=d(152),Z=d(236),ee=d(237),te=d(238),ae=d(239),ne=d(240),oe=d(241),ie=d(242),re=d(243),se=d(244),le=d(245),de=d(246),ce=d(247),ue=d(248),me=d(249),pe=d(250),ge=d(251),fe=d(252),he=d(253),be=d(254),_e=d(256),ke=d(257),we=d(258),ye=d(259),ve=d(260),xe=d(261),Te=d(107),Ce=d(153),Ae=d(262),Pe=d(263),Ee=d(264),Se=d(265),Oe=d(266),Ve=d(267),Re=d(268),Fe=d(269);s.a={chunk:u.a,compact:f.a,concat:h.a,difference:w.a,differenceBy:T.a,differenceWith:C.a,drop:P.a,dropRight:E.a,dropRightWhile:S.a,dropWhile:O.a,fill:V.a,findIndex:R.a,findLastIndex:F.a,first:N.a,flatten:I.a,flattenDeep:M.a,flattenDepth:D.a,fromPairs:L.a,head:z.a,indexOf:q.a,initial:H.a,intersection:W.a,intersectionBy:$.a,intersectionWith:U.a,join:K.a,last:Q.a,lastIndexOf:J.a,nth:Y.a,pull:G.a,pullAll:X.a,pullAllBy:Z.a,pullAllWith:ee.a,pullAt:te.a,remove:ae.a,reverse:ne.a,slice:oe.a,sortedIndex:ie.a,sortedIndexBy:re.a,sortedIndexOf:se.a,sortedLastIndex:le.a,sortedLastIndexBy:de.a,sortedLastIndexOf:ce.a,sortedUniq:ue.a,sortedUniqBy:me.a,tail:pe.a,take:ge.a,takeRight:fe.a,takeRightWhile:he.a,takeWhile:be.a,union:_e.a,unionBy:ke.a,unionWith:we.a,uniq:ye.a,uniqBy:ve.a,uniqWith:xe.a,unzip:Te.a,unzipWith:Ce.a,without:Ae.a,xor:Pe.a,xorBy:Ee.a,xorWith:Se.a,zip:Oe.a,zipObject:Ve.a,zipObjectDeep:Re.a,zipWith:Fe.a}},function(r,s,d){'use strict';var u=d(206),f=d(207),h=d(208),w=d(210),T=d(211),C=d(212),P=d(146),E=d(147),S=d(213),O=d(214),V=d(215),R=d(216),F=d(217),N=d(218),I=d(219),M=d(220),D=d(221),L=d(222),z=d(148),q=d(225),H=d(226),W=d(227),$=d(228),U=d(229),K=d(232),Q=d(18),J=d(233),Y=d(234),G=d(235),X=d(152),Z=d(236),ee=d(237),te=d(238),ae=d(239),ne=d(240),oe=d(241),ie=d(242),re=d(243),se=d(244),le=d(245),de=d(246),ce=d(247),ue=d(248),me=d(249),pe=d(250),ge=d(251),fe=d(252),he=d(253),be=d(254),_e=d(256),ke=d(257),we=d(258),ye=d(259),ve=d(260),xe=d(261),Te=d(107),Ce=d(153),Ae=d(262),Pe=d(263),Ee=d(264),Se=d(265),Oe=d(266),Ve=d(267),Re=d(268),Fe=d(269),Ne=d(516);d.d(s,'a',function(){return Ne.a})},function(r,s,d){'use strict';var u=d(68),f=d(142),h=d(476),w=d(104),T=d(101),C=d(526),P=Object.prototype,E=P.propertyIsEnumerable,S=!E.call({valueOf:1},'valueOf'),O=d.i(h.a)(function(V,R){if(S||d.i(T.a)(R)||d.i(w.a)(R))return void d.i(f.a)(R,d.i(C.a)(R),V);for(var F in R)d.i(u.a)(V,F,R[F])});s.a=O},function(r,s,d){'use strict';var f=d(191);s.a=function(h,w){return d.i(f.a)(h,!0,!0,w)}},function(r,s){'use strict';s.a=function(f){return function(){return f}}},function(r,s,d){'use strict';var f=d(453),h=d(484);s.a=function(w,T){return null!=w&&d.i(h.a)(w,T,f.a)}},function(r,s,d){'use strict';(function(u){var f=d(520),h=d(33),w={function:!0,object:!0},T=w[typeof exports]&&exports&&!exports.nodeType?exports:void 0,C=w[typeof u]&&u&&!u.nodeType?u:void 0,P=C&&C.exports===T?T:void 0,E=P?h.a.Buffer:void 0,S=E?function(O){return O instanceof E}:d.i(f.a)(!1);s.a=S}).call(s,d(156)(r))},function(r,s,d){'use strict';var f=d(94);s.a=function(h,w){return d.i(f.a)(h,w)}},function(r,s,d){'use strict';var f=d(94);s.a=function(h,w,T){T='function'==typeof T?T:void 0;var C=T?T(h,w):void 0;return C===void 0?d.i(f.a)(h,w,T):!!C}},function(r,s,d){'use strict';var f=d(105),h=d(51),Y={};Y['[object Float32Array]']=Y['[object Float64Array]']=Y['[object Int8Array]']=Y['[object Int16Array]']=Y['[object Int32Array]']=Y['[object Uint8Array]']=Y['[object Uint8ClampedArray]']=Y['[object Uint16Array]']=Y['[object Uint32Array]']=!0,Y['[object Arguments]']=Y['[object Array]']=Y['[object ArrayBuffer]']=Y['[object Boolean]']=Y['[object DataView]']=Y['[object Date]']=Y['[object Error]']=Y['[object Function]']=Y['[object Map]']=Y['[object Number]']=Y['[object Object]']=Y['[object RegExp]']=Y['[object Set]']=Y['[object String]']=Y['[object WeakMap]']=!1;var G=Object.prototype,X=G.toString;s.a=function(Z){return d.i(h.a)(Z)&&d.i(f.a)(Z.length)&&!!Y[X.call(Z)]}},function(r,s,d){'use strict';var f=d(458),h=d(201),w=d(41),T=d(101),C=Object.prototype,P=C.hasOwnProperty;s.a=function(E){for(var S=-1,O=d.i(T.a)(E),V=d.i(f.a)(E),R=V.length,F=d.i(h.a)(E),I=F||[],M=I.length,D;++S<R;)D=V[S],!!F&&('length'==D||d.i(w.a)(D,M))||'constructor'==D&&(O||!P.call(E,D))||I.push(D);return I}},function(r,s,d){'use strict';function u(w,T){if('function'!=typeof w||T&&'function'!=typeof T)throw new TypeError(h);var C=function(){var P=arguments,E=T?T.apply(this,P):P[0],S=C.cache;if(S.has(E))return S.get(E);var O=w.apply(this,P);return C.cache=S.set(E,O),O};return C.cache=new(u.Cache||f.a),C}var f=d(126),h='Expected a function';u.Cache=f.a,s.a=u},function(r,s){'use strict';s.a=function(){}},function(r,s){'use strict';var u=Date.now;s.a=u},function(r,s,d){'use strict';var f=d(134),h=d(462),w=d(58),T=d(59);s.a=function(C){return d.i(w.a)(C)?d.i(f.a)(d.i(T.a)(C)):d.i(h.a)(C)}},function(r,s,d){'use strict';var f=d(255),h=1/0;s.a=function(T){if(!T)return 0===T?T:0;if(T=d.i(f.a)(T),T===h||T===-h){var C=0>T?-1:1;return C*1.7976931348623157e308}return T===T?T:0}},function(r,s,d){'use strict';var f=d(449),h=d(14);s.a=function(T){return T?d.i(f.a)(d.i(h.a)(T),0,4294967295):0}},function(r,s,d){'use strict';var u=d(478),f=d(71),h=d.i(u.a)(f.a);s.a=h},function(r,s,d){'use strict';var f=d(465);s.a=function(h){return null==h?'':d.i(f.a)(h)}},function(r,s,d){'use strict';var u=d(539);s.a=class{constructor(h){this.lang=h||'en',this.t=(...w)=>this._t(...w)}_t(h,w){let T=d.i(u.a)(this.lang,h);return w&&(T=T.replace(/%(\d+)/g,(C,P)=>{return P<w.length?w[P]:C})),T}}},function(r,s){'use strict';s.a=function(f,h){if(f.size!=h.size)return!1;for(const w of f.entries()){const T=JSON.stringify(w[1]),C=JSON.stringify(h.get(w[0]));if(T!==C)return!1}return!0}},function(r,s){'use strict';const u={get(f){return'number'==typeof f?f:this[f]||this.normal},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};s.a=u},function(r,s){'use strict';s.a=function(){return function f(){f.called=!0}}},function(r,s){'use strict';function h(C,P){return C in T&&P in T[C]}s.a=function(C,P){return h(C,P)?T[C][P]:P.replace(/ \[context: [^\]]+\]$/,'')};let T={}},function(r,s,d){'use strict';function u(M){return M==R.a.arrowright||M==R.a.arrowleft||M==R.a.arrowup||M==R.a.arrowdown}function f(M){return M==R.a.delete||M==R.a.backspace}function h(M){for(;M;){if(M instanceof S.a&&!(M instanceof O.a))return!0;M=M.parent}return!1}var w=d(2),T=d(365),C=d(3),P=d(82),E=d(6),S=d(83),O=d(168),V=d(155),R=d(24),F=d(315),N=d.n(F);class I extends w.a{static get pluginName(){return'Widget'}init(){const M=this.editor.editing.view;let D;this.editor.editing.modelToView.on('selection',(L,z,q,H)=>{D&&D.hasClass(V.d)&&D.removeClass(V.d);const W=H.viewSelection,$=W.getSelectedElement();$&&d.i(V.b)($)&&(W.setFake(!0,{label:d.i(V.e)($)}),$.addClass(V.d),D=$)},{priority:'low'}),M.addObserver(T.a),this.listenTo(M,'mousedown',(...L)=>this._onMousedown(...L)),this.listenTo(M,'keydown',(...L)=>this._onKeydown(...L),{priority:'high'})}_onMousedown(M,D){const L=this.editor,z=L.editing.view;let q=D.target;if(h(q))return;if(!d.i(V.b)(q)&&(q=q.findAncestor(V.b),!q))return;D.preventDefault(),z.isFocused||z.focus();const H=L.editing.mapper.toModelElement(q);L.document.enqueueChanges(()=>{this._setSelectionOverElement(H)})}_onKeydown(M,D){const L=D.keyCode,z=L==R.a.delete||L==R.a.arrowdown||L==R.a.arrowright;(f(L)&&this._handleDelete(z)||u(L)&&this._handleArrowKeys(z))&&(D.preventDefault(),M.stop())}_handleDelete(M){const D=this.editor.document,L=D.selection;if(!L.isCollapsed)return;const z=this._getObjectElementNextToSelection(M);if(z)return D.enqueueChanges(()=>{const q=L.anchor.parent;if(q.isEmpty){const H=D.batch();H.remove(q)}this._setSelectionOverElement(z)}),!0}_handleArrowKeys(M){const D=this.editor.document,L=D.schema,z=D.selection,q=z.getSelectedElement();if(q&&L.objects.has(q.name)){const W=M?z.getLastPosition():z.getFirstPosition(),$=D.getNearestSelectionRange(W,M?'forward':'backward');return $&&D.enqueueChanges(()=>{z.setRanges([$])}),!0}if(!z.isCollapsed)return;const H=this._getObjectElementNextToSelection(M);if(H instanceof E.a&&D.schema.objects.has(H.name))return D.enqueueChanges(()=>{this._setSelectionOverElement(H)}),!0}_setSelectionOverElement(M){this.editor.document.selection.setRanges([C.a.createOn(M)])}_getObjectElementNextToSelection(M){const D=this.editor.document,L=D.schema,z=D.selection,q=this.editor.data,H=P.a.createFromSelection(z);q.modifySelection(H,{direction:M?'forward':'backward'});const W=M?H.focus.nodeBefore:H.focus.nodeAfter;return W instanceof E.a&&L.objects.has(W.name)?W:null}}s.a=I}])});
//# sourceMappingURL=ckeditor.js.map